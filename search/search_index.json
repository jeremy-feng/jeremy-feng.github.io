{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\u9996\u9875","text":""},{"location":"#\u5bfc\u822a","title":"\u5bfc\u822a","text":"<ul> <li> Blog \u200b\u535a\u5ba2\u200b \u200b\u5b66\u4e60\u200b\u7b14\u8bb0\u200b\u4e0e\u200b\u65e5\u5e38\u751f\u6d3b\u200b</li> <li> Code \u200b\u4ee3\u7801\u200b \u200b\u5e38\u7528\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b</li> <li> Workflow \u200b\u6548\u7387\u200b \u200b\u5e38\u7528\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6d41\u200b</li> <li> Tags \u200b\u6807\u7b7e\u200b \u200b\u5206\u7c7b\u200b\u67e5\u770b\u200b\u5386\u53f2\u200b\u6587\u7ae0\u200b</li> <li> Chat \u200b\u95ee\u7b54\u200b \u200b\u5f3a\u5927\u200b\u7684\u200b\u95ee\u7b54\u200b\u5de5\u5177\u200b</li> <li> About \u200b\u5173\u4e8e\u200b \u200b\u5173\u4e8e\u200b\u6211\u200b\u548c\u200b\u672c\u7ad9\u200b</li> </ul>"},{"location":"#\u7cbe\u9009","title":"\u7cbe\u9009","text":"<ul> <li> <p><p>\u200b\u751f\u6d3b\u200b</p></p> <p>\u200b\u544a\u522b\u200b\u5b66\u751f\u200b\u65f6\u4ee3\u200b</p> <p>\u200b\u611f\u6069\u200b\u6240\u6709\u200b\u7684\u200b\u9047\u89c1\u200b\u3002</p> </li> <li> <p></p> <p><p>\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200bPyTorch</p></p> <p>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</p> <p>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u5206\u8bcd\u200b\u548c\u200b\u95ee\u7b54\u200b\u7684\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff0c\u200b\u5229\u7528\u200b 10, 000 \u200b\u4f59\u6761\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5fae\u8c03\u200b\uff0c\u200b\u6784\u5efa\u200b\u4e86\u200b\u80fd\u591f\u200b\u7406\u89e3\u200b\u4e2d\u6587\u200b\u6bb5\u843d\u200b\u5e76\u200b\u56de\u7b54\u200b\u76f8\u5173\u200b\u95ee\u9898\u200b\u7684\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b\u3002\u200b\u7528\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u6548\u679c\u200b\u57fa\u672c\u200b\u80fd\u200b\u8fbe\u5230\u200b\u201c\u200b\u6b63\u786e\u200b\u56de\u7b54\u200b\u5c0f\u5b66\u200b\u4e09\u5e74\u7ea7\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u9605\u8bfb\u200b\u7406\u89e3\u200b\u9898\u200b\u201d\u200b\u7684\u200b\u6c34\u5e73\u200b\u3002</p> </li> <li> <p></p> <p><p>\u200b\u7edf\u8ba1\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b</p></p> <p>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b \\(Y=X \\widehat{\\beta}+e\\)</p> <ul> <li> <p>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</p> </li> <li> <p>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</p> </li> <li> <p>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</p> </li> <li> <p>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b</p> </li> <li> <p>\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u4e0e\u200b\u6700\u5c0f\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u7b49\u4ef7\u200b\u6027\u200b</p> </li> </ul> </li> <li> <p></p> <p><p>\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u673a\u5668\u200b\u5b66\u4e60\u200bPyTorch</p></p> <p>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</p> <p>\u200b\u501f\u9274\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u901a\u8fc7\u200b\u81ea\u5b9a\u4e49\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\uff0c\u200b\u6784\u9020\u200b\u7c7b\u4f3c\u200b\u5377\u79ef\u200b\u5c42\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002\u200b\u7ed3\u5408\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\u3001\u200b\u6c60\u5316\u5c42\u200b\u3001\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\uff0c\u200b\u642d\u5efa\u200b AlphaNet-V1\uff0c\u200b\u5b9e\u73b0\u200b\u4ece\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\u5230\u200b\u6536\u76ca\u7387\u200b\u9884\u6d4b\u200b\u7684\u200b\u81ea\u52a8\u200b\u6316\u6398\u200b\u3002</p> <p>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</p> <p>\u200b\u5728\u200b AlphaNet-V1 \u200b\u52a0\u5165\u200b\u591a\u200b\u6b65\u957f\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u5c06\u200b\u6c60\u5316\u200b\u5c42\u66ff\u6362\u200b\u4e3a\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\uff0c\u200b\u5e76\u200b\u5c1d\u8bd5\u200b\u9884\u6d4b\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u65b9\u5411\u200b\u3002\u200b\u6700\u540e\u200b\u5c06\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u4f5c\u4e3a\u200b baseline \u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u3002</p> </li> <li> <p></p> <p></p> <p><p>\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b</p></p> <p>\u200b\u57fa\u4e8e\u200b XGBoost \u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u9884\u6d4b\u200b\u4e0e\u200b\u63a8\u8350\u200b</p> <p>\u200b\u57fa\u4e8e\u200b Spotify \u200b\u4e2d\u200b\u7684\u200b 30 \u200b\u4e07\u4f59\u6761\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e0e\u200b 10 \u200b\u4e07\u4f59\u6761\u200b\u6b4c\u624b\u200b\u6570\u636e\u200b\uff0c\u200b\u5206\u6790\u200b\u5e76\u200b\u6784\u9020\u200b\u4e86\u200b\u97f3\u4e50\u200b\u6d41\u6d3e\u200b\u3001\u200b\u97f3\u4e50\u200b\u8bed\u8a00\u200b\u7b49\u200b\u7279\u5f81\u200b\uff0c\u200b\u4e0e\u200b\u6b4c\u624b\u200b\u70ed\u5ea6\u200b\u3001\u200b\u97f3\u4e50\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u7b49\u200b\u7279\u5f81\u200b\u5171\u540c\u200b\u5efa\u6a21\u200b\u9884\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff0c\u200b\u4f7f\u7528\u200b XGBoost \u200b\u548c\u200b SHAP \u200b\u8bc4\u4f30\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u53ca\u5176\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\u65b9\u5411\u200b\u4e0e\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5e76\u200b\u6784\u5efa\u200b\u4e86\u200b\u57fa\u4e8e\u200b\u5185\u5bb9\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\u3002</p> </li> <li> <p></p> <p><p>\u200b\u7edf\u8ba1\u200b\u673a\u5668\u200b\u5b66\u4e60\u200bPython</p></p> <p>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u3001\u200b\u968f\u673a\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u3001\u200b\u5750\u6807\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u548c\u200b\u57fa\u4e8e\u200b\u8d1d\u53f6\u65af\u200b\u540e\u9a8c\u200b\u7684\u200b MCMC \u200b\u91c7\u6837\u6cd5\u200b\u5b9e\u73b0\u200b\u5e26\u6709\u200b L1 \u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u94f6\u884c\u200b\u5ba2\u6237\u200b\u6d41\u5931\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u5b9e\u8bc1\u200b\u68c0\u9a8c\u200b\u3002</p> </li> <li> <p></p> <p><p>\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b</p></p> <p>\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u5bf9\u200b fer2013 \u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4eba\u8138\u200b\u8868\u60c5\u200b\u8bc6\u522b\u200b</p> <p>\u200b\u4f7f\u7528\u200b Keras \u200b\u6784\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff0c\u200b\u5bf9\u200b Block \u200b\u6570\u91cf\u200b\u3001\u200b\u5377\u79ef\u200b\u6838\u200b\u5927\u5c0f\u200b\u3001Dropout rate \u200b\u8fdb\u884c\u200b\u53c2\u6570\u200b\u8c03\u4f18\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u65b9\u6cd5\u200b\u751f\u6210\u200b\u6a21\u578b\u200b\u6570\u636e\u200b\u7f13\u89e3\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\u3002\u200b\u6700\u4f18\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u5206\u7c7b\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u7cbe\u786e\u200b\u7387\u200b\u548c\u200b\u53ec\u56de\u200b\u7387\u5747\u200b\u4e3a\u200b 63%\uff0c\u200b\u6bd4\u200b\u57fa\u51c6\u200b\u6a21\u578b\u200b\u7684\u200b\u5206\u7c7b\u200b\u6548\u679c\u200b\u63d0\u9ad8\u200b\u4e86\u200b\u7ea6\u200b 10%\u3002</p> </li> <li> <p></p> <p><p>\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b</p></p> <p>\u200b\u624b\u5199\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b</p> <p>\u200b\u4e0d\u200b\u501f\u52a9\u200b\u73b0\u6210\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6846\u67b6\u200b\uff0c\u200b\u4f7f\u7528\u200b NumPy \u200b\u5b9e\u73b0\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b\u3002</p> </li> <li> <p></p> <p><p>\u200b\u751f\u6d3b\u200b</p></p> <p>\u200b\u6211\u4eec\u200b\u6bd5\u4e1a\u200b\u4e86\u200b</p> <p>\u200b\u73cd\u8d35\u200b\u7684\u200b\u7167\u7247\u200b\u548c\u200b\u73cd\u8d35\u200b\u7684\u200b\u4eba\u200b\u3002</p> </li> </ul>"},{"location":"about/","title":"\u5173\u4e8e","text":""},{"location":"about/#\u5173\u4e8e\u6211","title":"\u5173\u4e8e\u200b\u6211","text":"<p>\u200b\u6211\u200b\u662f\u200b\u51af\u8d85\u200b\uff0c2024 \u200b\u5e74\u200b\u7855\u58eb\u200b\u6bd5\u4e1a\u200b\u4e8e\u200b\u590d\u65e6\u5927\u5b66\u200b\u7ba1\u7406\u200b\u5b66\u9662\u200b\u6570\u636e\u200b\u79d1\u5b66\u200b\u4e0e\u200b\u5546\u52a1\u200b\u5206\u6790\u200b\uff08DS&amp;BA\uff09\u200b\u5e94\u7528\u200b\u7edf\u8ba1\u200b\u7855\u58eb\u200b\u9879\u76ee\u200b\uff0c2022 \u200b\u5e74\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u4e8e\u200b\u53a6\u95e8\u5927\u5b66\u200b\u7ecf\u6d4e\u200b\u5b66\u9662\u200b 2018 \u200b\u7ea7\u200b\u91d1\u878d\u5b66\u200b\u56fd\u9645\u5316\u200b\u8bd5\u9a8c\u73ed\u200b\u3002</p> <p>\u200b\u6211\u200b\u7684\u200b\u804c\u4e1a\u200b\u5174\u8da3\u200b\u662f\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u4e0e\u200b\u6570\u636e\u200b\u79d1\u5b66\u200b\u3002\u200b\u6211\u200b\u5bf9\u200b\u91cf\u5316\u200b\u5f00\u53d1\u200b\u540c\u6837\u200b\u6709\u200b\u70ed\u60c5\u200b\u4e14\u200b\u64c5\u957f\u200b\u5b66\u4e60\u200b\u65b0\u200b\u6280\u672f\u200b\u3002</p> <p>\u200b\u6211\u200b\u4eab\u53d7\u200b\u4e0e\u200b\u4ed6\u4eba\u200b\u4ea4\u6362\u200b\u77e5\u8bc6\u200b\u548c\u200b\u7ecf\u9a8c\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u5e76\u200b\u503e\u4f69\u200b\u90a3\u4e9b\u200b\u81f4\u529b\u4e8e\u200b\u4f20\u64ad\u200b\u77e5\u8bc6\u200b\u7684\u200b\u4eba\u4eec\u200b\u3002</p> <p>\u200b\u6211\u200b\u5341\u5206\u200b\u8ba4\u540c\u200b\u8fd9\u200b\u6bb5\u200b\u7bb4\u8a00\u200b\uff1a</p> <p>\u300a\u200b\u8340\u5b50\u200b\u00b7\u200b\u5112\u6548\u200b\u7bc7\u200b\u300b</p> <p>\u200b\u4e0d\u95fb\u200b\u4e0d\u82e5\u95fb\u200b\u4e4b\u200b\uff0c</p> <p>\u200b\u95fb\u200b\u4e4b\u200b\u4e0d\u200b\u82e5\u200b\u89c1\u200b\u4e4b\u200b\uff0c</p> <p>\u200b\u89c1\u200b\u4e4b\u200b\u4e0d\u82e5\u77e5\u200b\u4e4b\u200b\uff0c</p> <p>\u200b\u77e5\u4e4b\u4e0d\u82e5\u884c\u200b\u4e4b\u200b\u3002</p> <p>\u200b\u5b66\u200b\u81f3\u4e8e\u200b\u884c\u4e4b\u800c\u6b62\u200b\u77e3\u200b\u3002</p> <p>\u200b\u5728\u200b\u95f2\u6687\u200b\u65f6\u95f4\u200b\uff0c\u200b\u6211\u200b\u559c\u6b22\u200b\u9605\u8bfb\u200b\u4e0e\u200b\u6237\u5916\u200b\u90ca\u6e38\u200b\u3002</p> <p>\u200b\u8054\u7cfb\u200b</p>"},{"location":"about/#\u5173\u4e8e\u672c\u7ad9","title":"\u5173\u4e8e\u200b\u672c\u7ad9","text":""},{"location":"about/#\u5efa\u7ad9\u52a8\u673a","title":"\u5efa\u200b\u7ad9\u200b\u52a8\u673a","text":"<ul> <li> <p>\u200b\u4e3a\u4e86\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u5bf9\u200b\u77e5\u8bc6\u200b\u7684\u200b\u7406\u89e3\u200b\u66f4\u52a0\u200b\u6df1\u523b\u200b\u3002\u200b\u6574\u7406\u200b\u77e5\u8bc6\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6b21\u200b\u5b66\u4e60\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u5c06\u200b\u5b83\u4eec\u200b\u5199\u200b\u4e0b\u6765\u200b\u4e5f\u200b\u80fd\u200b\u4f7f\u5f97\u200b\u8fd9\u4e9b\u200b\u77e5\u8bc6\u200b\u771f\u6b63\u200b\u5c5e\u4e8e\u200b\u6211\u200b\u3002</p> </li> <li> <p>\u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u81ea\u5df1\u200b\u548c\u200b\u4ed6\u4eba\u200b\u67e5\u9605\u200b\u65f6\u4ea6\u80fd\u200b\u6709\u6240\u200b\u6536\u83b7\u200b\uff0c\u200b\u6b63\u5982\u200b\u6211\u200b\u4ece\u200b\u8bb8\u8bb8\u591a\u591a\u200b\u7684\u200b\u524d\u8f88\u200b\u5206\u4eab\u200b\u7684\u200b\u77e5\u8bc6\u200b\u90a3\u91cc\u200b\u6536\u83b7\u200b\u5230\u200b\u7684\u200b\u4e00\u6837\u200b\u3002</p> </li> </ul> <p>\u200b\u5bf9\u200b\u6211\u200b\u81ea\u5df1\u200b\u6765\u8bf4\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u8bb0\u5f55\u200b\u7684\u200b\u5185\u5bb9\u200b\u80fd\u200b\u5e2e\u52a9\u200b\u6211\u200b\u5feb\u901f\u200b\u641c\u5bfb\u200b\u9700\u8981\u200b\u7684\u200b\u77e5\u8bc6\u200b\u548c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5b83\u200b\u5df2\u7ecf\u200b\u6781\u5927\u5730\u63d0\u9ad8\u200b\u4e86\u200b\u6211\u200b\u5b66\u4e60\u200b\u548c\u200b\u5de5\u4f5c\u200b\u7684\u200b\u6548\u7387\u200b\u3002</p> <p>\u200b\u5bf9\u200b\u4ed6\u4eba\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u200b\u5206\u4eab\u200b\u7684\u200b\u5185\u5bb9\u200b\u80fd\u200b\u5bf9\u200b\u4f60\u200b\u6709\u200b\u4e00\u70b9\u70b9\u200b\u5e2e\u52a9\u200b\uff0c\u200b\u6211\u4f1a\u200b\u611f\u5230\u200b\u5f88\u200b\u9ad8\u5174\u200b\u3002</p>"},{"location":"about/#\u8f6c\u8f7d\u8bb8\u53ef","title":"\u8f6c\u8f7d\u200b\u8bb8\u53ef","text":"<p>\u200b\u672c\u200b\u7f51\u7ad9\u200b\u4f7f\u7528\u200b CC-BY-SA-4.0\uff08\u200b\u77e5\u8bc6\u200b\u5171\u4eab\u200b - \u200b\u7f72\u540d\u200b - \u200b\u76f8\u540c\u200b\u65b9\u5f0f\u200b\u5171\u4eab\u200b - 4.0 \u200b\u7248\u200b\uff09\u200b\u5f00\u6e90\u200b\u534f\u8bae\u200b\u3002\u200b\u9664\u200b\u7279\u522b\u200b\u6807\u660e\u200b\u5916\u200b\uff0c\u200b\u672c\u7ad9\u200b\u6240\u6709\u200b\u6587\u7ae0\u200b\u5747\u200b\u7531\u200b\u6211\u200b\u539f\u521b\u200b\u3002\u200b\u4efb\u4f55\u4eba\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6ce8\u660e\u200b\u6765\u6e90\u200b\u540e\u200b\u8f6c\u8f7d\u200b\uff1a</p> \u200b\u6ce8\u660e\u200b\u6765\u6e90\u200b<pre><code>[https://fengchao.pro/](https://fengchao.pro/)\n</code></pre>"},{"location":"about/en/","title":"About","text":""},{"location":"about/en/#about-me","title":"About me","text":"<p>I'm Chao (Jeremy) FENG. I graduated from the School of Management of Fudan University in 2024 with a Master's degree in Data Science and Business Analytics program (Master of Applied Statistics). Before this, I obtained my Bachelor's degree in Economics from School of Economics, Xiamen University in 2022 as an honored graduate of International Undergraduate Experimental Class of Finance.</p> <p>My career interests are quantitative researcher and data scientist. I am also interested in quantitative development. I can be a quick learner for new softwares and technical tools.</p> <p>I enjoy exchanging knowledge and experience with others. I really appreciate those who are dedicated in spreading knowledge.</p> <p>I strongly agree with the following motto:</p> <p>(Probably) Said by Benjamin Franklin</p> <p>Tell me and I forget;</p> <p>teach me and I remember;</p> <p>involve me and I learn.</p> <p>In my spare time, I enjoy reading and outing activities.</p> <p>Contact</p>"},{"location":"about/en/#about-this-site","title":"About this site","text":""},{"location":"about/en/#the-motivation-for-building-this-site","title":"The motivation for building this site","text":"<ul> <li> <p>To get a deeper understanding of knowledge. Taking study notes and organizing them makes the knowledge truly mine.</p> </li> <li> <p>To help me and others find useful knowledge, as I have gained from the knowledge shared by so many kind-hearted people.</p> </li> </ul> <p>For myself, the content on this site can help me quickly search for the knowledge and code I need. It has already greatly improved my learning and working efficiency.</p> <p>For others, I would be very happy if someone is inspired by the content I shared.</p>"},{"location":"about/en/#permission-to-reproduce","title":"Permission to reproduce","text":"<p>This site is licensed under CC-BY-SA-4.0. Unless otherwise indicated, all content on this site is originally created by Chao (Jeremy) FENG. Anyone may reproduce it, provided that the following reference is explicitly added:</p> Reference<pre><code>[https://fengchao.pro/](https://fengchao.pro/)\n</code></pre>"},{"location":"blog/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/tags/","title":"\u6807\u7b7e","text":""},{"location":"blog/tags/#computer-science","title":"Computer Science","text":"<ul> <li>CS50 Week 0 Scratch</li> <li>CS50 Week 1 C</li> <li>CS50 Week 2 Array</li> <li>CS50 Week 3 Algorithms</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u200b</li> <li>CS50 Week 4 Memory</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u91cd\u5b9a\u5411\u200b</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u914d\u7f6e\u200b\u73af\u5883\u200b</li> <li>CS50 Week 5 Data Structure</li> <li>CS50 Week 6 Python</li> <li>CS50 Week 7 SQL</li> <li>CS50 Week 8 HTML, CSS, JavaScript</li> <li>CS50 Week 9 Flask</li> <li>\u200b\u901a\u8fc7\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b</li> <li>\u200b\u4e3a\u200b\u76ee\u5f55\u200b\u751f\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u56fe\u200b</li> <li>Linux \u200b\u67e5\u770b\u200b\u4e0e\u200b\u91ca\u653e\u200b\u5185\u5b58\u200b</li> <li>\u200b\u9ad8\u7ea7\u200b\u641c\u7d22\u200b\u6280\u5de7\u200b</li> <li>\u200b\u4e2d\u6587\u200b\u6280\u672f\u200b\u6587\u6863\u200b\u7684\u200b\u5199\u4f5c\u200b\u89c4\u8303\u200b</li> <li>VS Code \u200b\u52a0\u8f7d\u200b Web \u200b\u89c6\u56fe\u200b\u65f6\u200b\u51fa\u9519\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b</li> <li>\u200b\u4fee\u6539\u200b VS Code \u200b\u952e\u76d8\u200b\u5feb\u6377\u952e\u200b</li> <li>Typora \u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u200b\u4ee3\u7801\u200b\u8bed\u8a00\u200b</li> <li>\u200b\u817e\u8baf\u200b\u4e91\u200b\u5bf9\u8c61\u200b\u5b58\u50a8\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b</li> <li>\u200b\u57fa\u4e8e\u200b giscus \u200b\u4e3a\u200b\u7f51\u7ad9\u200b\u6dfb\u52a0\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b</li> <li>\u200b\u5e38\u7528\u200b\u7684\u200b Git \u200b\u4ee3\u7801\u200b</li> <li>\u200b\u8ba1\u7b97\u673a\u6559\u80b2\u200b\u4e2d\u200b\u7f3a\u5931\u200b\u7684\u200b\u4e00\u8bfe\u200b\uff1aThe shell</li> <li>\u200b\u8ba1\u7b97\u673a\u6559\u80b2\u200b\u4e2d\u200b\u7f3a\u5931\u200b\u7684\u200b\u4e00\u8bfe\u200b\uff1aShell \u200b\u5de5\u5177\u200b\u548c\u200b\u811a\u672c\u200b</li> <li>\u200b\u8bbf\u95ee\u200b\u670d\u52a1\u5668\u200b\u7684\u200b Jupyter Notebook</li> <li>\u200b\u5728\u200b MacOS \u200b\u4e2d\u200b\u5b89\u88c5\u200b tree \u200b\u547d\u4ee4\u200b</li> <li>JupyterLite\uff1a\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b Python</li> <li>\u200b\u4f7f\u7528\u200b pre-commit \u200b\u4e3a\u200b Git \u200b\u4ed3\u5e93\u200b\u8bbe\u7f6e\u200b\u81ea\u52a8\u200b\u4efb\u52a1\u200b</li> <li>\u200b\u4f7f\u7528\u200b Makefile \u200b\u7b80\u5316\u200b\u5de5\u4f5c\u200b\u6d41\u200b</li> <li>\u200b\u56fd\u5185\u200b\u670d\u52a1\u5668\u200b\u5b89\u88c5\u200b Dokploy</li> <li>Docker \u200b\u4e2d\u200b\u7684\u200b CMD \u200b\u548c\u200b ENTRYPOINT</li> </ul>"},{"location":"blog/tags/#indiedev","title":"IndieDev","text":"<ul> <li>\u200b\u56fd\u5185\u200b\u670d\u52a1\u5668\u200b\u5b89\u88c5\u200b Dokploy</li> <li>Docker \u200b\u4e2d\u200b\u7684\u200b CMD \u200b\u548c\u200b ENTRYPOINT</li> </ul>"},{"location":"blog/tags/#llm","title":"LLM","text":"<ul> <li>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>Transformer \u200b\u4e2d\u200b\u7684\u200b Positional Encoding Layer</li> <li>GPT \u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u7b14\u8bb0\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b DQN \u200b\u7b97\u6cd5\u200b\u7684\u200b\u767b\u6708\u200b\u7740\u9646\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u8c03\u7528\u200b\u5728\u7ebf\u200b\u5927\u200b\u6a21\u578b\u200b API</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668\u200b</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u8981\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \uff1a\u200b\u4ece\u200b\u65b9\u5dee\u200b\u5230\u200b\u68af\u5ea6\u200b\u7684\u200b\u63a8\u5bfc\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u63d0\u793a\u200b\u8bcd\u4e3a\u200b\u5927\u200b\u6a21\u578b\u200b\u5f00\u542f\u200b\u5b66\u4e60\u200b\u6a21\u5f0f\u200b</li> </ul>"},{"location":"blog/tags/#latex","title":"LaTeX","text":"<ul> <li>LaTeX \u200b\u8bbe\u7f6e\u200b\u5b57\u4f53\u200b\u65f6\u200b\u6307\u5b9a\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u76ee\u5f55\u200b</li> <li>\u200b\u5220\u9664\u200b LaTeX \u200b\u7f16\u8bd1\u200b\u751f\u6210\u200b\u7684\u200b\u9644\u52a0\u6587\u4ef6\u200b</li> <li>LaTeX \u200b\u6a21\u677f\u200b</li> <li>LaTeX \u200b\u7b14\u8bb0\u200b</li> <li>tlmgr \u200b\u7ba1\u7406\u200b\u5305\u200b</li> <li>LaTeX \u200b\u6291\u5236\u200b\u7f3a\u5931\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u7684\u200b\u8b66\u544a\u200b</li> <li>LaTeX \u200b\u53ef\u200b\u8de8\u9875\u200b\u7684\u200b\u7b97\u6cd5\u200b\u73af\u5883\u200b</li> </ul>"},{"location":"blog/tags/#leetcode","title":"LeetCode","text":"<ul> <li>LeetCode \u200b\u54c8\u5e0c\u200b\u8868\u200b</li> <li>LeetCode \u200b\u80cc\u5305\u200b\u95ee\u9898\u200b</li> </ul>"},{"location":"blog/tags/#linux","title":"Linux","text":"<ul> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u200b</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u91cd\u5b9a\u5411\u200b</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u914d\u7f6e\u200b\u73af\u5883\u200b</li> <li>\u200b\u901a\u8fc7\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b</li> <li>\u200b\u4e3a\u200b\u76ee\u5f55\u200b\u751f\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u56fe\u200b</li> <li>\u200b\u5728\u200b\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u200b Ubuntu \u200b\u56fe\u5f62\u754c\u9762\u200b</li> <li>Linux \u200b\u67e5\u770b\u200b\u4e0e\u200b\u91ca\u653e\u200b\u5185\u5b58\u200b</li> <li>VS Code \u200b\u52a0\u8f7d\u200b Web \u200b\u89c6\u56fe\u200b\u65f6\u200b\u51fa\u9519\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b</li> <li>\u200b\u5728\u200b Linux \u200b\u4e2d\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u81f3\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b</li> <li>\u200b\u65ad\u5f00\u200b SSH \u200b\u8fde\u63a5\u200b\u540e\u200b\u7ee7\u7eed\u6267\u884c\u200b\u4efb\u52a1\u200b</li> </ul>"},{"location":"blog/tags/#pytorch","title":"PyTorch","text":"<ul> <li>PyTorch Lecture 1\uff1a\u200b\u5b89\u88c5\u200b PyTorch</li> <li>PyTorch Lecture 2\uff1a\u200b\u57fa\u7840\u77e5\u8bc6\u200b</li> <li>PyTorch Lecture 3\uff1a\u200b\u57fa\u7840\u200b\u5b9e\u8df5\u200b</li> <li>PyTorch DataLoader \u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b</li> <li>\u200b\u67e5\u770b\u200b PyTorch \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b GPU</li> <li>PyTorch \u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff1a\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7ef4\u5ea6\u200b\u3001\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b</li> <li>PyTorch \u200b\u5904\u7406\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</li> <li>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</li> <li>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</li> <li>PyTorch \u200b\u57fa\u7840\u200b</li> <li>\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7b80\u5355\u200b\u7684\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u6df1\u5165\u200b\u7406\u89e3\u200b GRU \u200b\u53ca\u5176\u200b PyTorch \u200b\u5b9e\u73b0\u200b</li> <li>PyTorch \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u4e0e\u200b\u6a21\u578b\u200b\u8fc1\u79fb\u200b\uff1a\u200b\u7406\u89e3\u200b .to(device) \u200b\u7684\u200b\u4f7f\u7528\u200b</li> <li>\u200b\u7406\u89e3\u200b PyTorch \u200b\u4e2d\u200b\u7684\u200b CrossEntropyLoss</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668\u200b</li> <li>\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face</li> <li>\u200b\u501f\u52a9\u200b torchmetrics \u200b\u7684\u200b CompositionalMetric \u200b\u5c06\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u7684\u200b\u6307\u6807\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b</li> <li>Layer Normalization</li> <li>ConcatDataset \u200b\u548c\u200b StackDataset</li> </ul>"},{"location":"blog/tags/#python","title":"Python","text":"<ul> <li>CS50 Week 6 Python</li> <li>CS50 Week 9 Flask</li> <li>Python Multiprocessing \u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5e76\u884c\u8ba1\u7b97\u200b</li> <li>\u200b\u4e3a\u200b Python \u200b\u9879\u76ee\u200b\u751f\u6210\u200b requirement.txt</li> <li>\u200b\u5728\u200b Rmarkdown \u200b\u4e2d\u200b\u4f7f\u7528\u200b Python</li> <li>\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u63a2\u7d22\u6027\u200b\u6570\u636e\u5206\u6790\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u66ff\u6362\u200b\u6587\u672c\u200b</li> <li>\u200b\u5e38\u7528\u200b\u7684\u200b Conda \u200b\u547d\u4ee4\u200b</li> <li>Python \u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Markdown \u200b\u6587\u4ef6\u200b</li> <li>\u200b\u4f7f\u7528\u200b joblib \u200b\u5b9e\u73b0\u200b\u5e76\u884c\u8ba1\u7b97\u200b</li> <li>\u200b\u4f7f\u7528\u200b selenium \u200b\u722c\u53d6\u200b\u8c46\u74e3\u200b\u5c0f\u7ec4\u8ba8\u8bba\u200b\u4fe1\u606f\u200b</li> <li>\u200b\u4e3a\u200b\u9759\u6001\u200b\u7f51\u9875\u200b\u751f\u6210\u200b\u6587\u4ef6\u76ee\u5f55\u200b</li> <li>LeetCode \u200b\u5237\u9898\u200b\u8bb0\u5f55\u200b</li> <li>K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u5728\u200b pandas \u200b\u4e2d\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b</li> <li>\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u63d2\u5165\u200b\u672c\u5730\u200b\u56fe\u7247\u200b\u5e76\u200b\u5bfc\u51fa\u200b\u5e26\u6709\u200b\u56fe\u7247\u200b\u7684\u200b PDF \u200b\u6587\u4ef6\u200b</li> <li>\u200b\u4f7f\u7528\u200b tqdm \u200b\u7f8e\u5316\u200b\u8fdb\u5ea6\u6761\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</li> <li>pandas \u200b\u4e2d\u200b\u7684\u200b axis</li> <li>\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u9ed8\u8ba4\u200b Python \u200b\u89e3\u91ca\u5668\u200b</li> <li>Python \u200b\u5b9e\u73b0\u200b\u591a\u5217\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u2014\u2014\u200b\u4ee5\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u4f8b\u200b</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b\u8d4b\u503c\u200b\u4e0e\u200b\u6df1\u6d45\u200b\u62f7\u8d1d\u200b</li> <li>Black \u200b\u683c\u5f0f\u5316\u200b Python \u200b\u4ee3\u7801\u200b</li> <li>Python \u200b\u81ea\u52a8\u200b\u5408\u5e76\u200b PDF \u200b\u6587\u4ef6\u200b</li> <li>\u200b\u4f7f\u7528\u200b pdb \u200b\u8c03\u8bd5\u200b\u4ee3\u7801\u200b</li> <li>LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</li> <li>\u200b\u5229\u7528\u200b VS Code \u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u63d0\u9ad8\u200b\u7f16\u7801\u200b\u6548\u7387\u200b</li> <li>\u200b\u68c0\u9a8c\u200b\u6837\u672c\u5206\u5e03\u200b\u7684\u200b\u6b63\u6001\u6027\u200b</li> <li>\u200b\u57fa\u4e8e\u200b ChatGPT \u200b\u7684\u200b\u5728\u7ebf\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u4ece\u96f6\u5f00\u59cb\u200b\u642d\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ec4\u4ef6\u200b</li> <li>\u200b\u5b89\u88c5\u200b Gurobi \u200b\u4f18\u5316\u200b\u5668\u200b</li> <li>Python \u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b</li> <li>\u200b\u4f7f\u7528\u200b Networkx \u200b\u7ed8\u5236\u200b\u4e8c\u90e8\u200b\u56fe\u200b</li> <li>Dijkstra \u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898\u200b</li> <li>\u200b\u4f7f\u7528\u200b Ruff \u200b\u81ea\u52a8\u200b\u68c0\u67e5\u200b\u4ee3\u7801\u200b\u9519\u8bef\u200b</li> <li>Python \u200b\u5185\u5b58\u200b\u5206\u914d\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b mypy \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u548c\u200b\u9759\u6001\u65b9\u6cd5\u200b</li> <li>Python \u200b\u7ee7\u627f\u200b Mixin \u200b\u4ee5\u200b\u62d3\u5c55\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7a7a\u503c\u200b\u7684\u200b\u5e73\u644a\u200b\u503c\u200b\u586b\u5145\u200b</li> <li>Pandas \u200b\u5411\u524d\u200b\u4e0e\u200b\u5c45\u4e2d\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b</li> <li>Python @lru_cache \u200b\u5185\u7f6e\u200b LRU \u200b\u7f13\u5b58\u200b</li> <li>\u200b\u4f7f\u7528\u200b pyflyby \u200b\u81ea\u52a8\u200b\u7ba1\u7406\u200b\u5bfc\u5165\u200b\u5305\u200b</li> <li>Python \u200b\u4f7f\u7528\u200b * \u200b\u4ee5\u200b\u5f3a\u5236\u200b\u8c03\u7528\u8005\u200b\u4f7f\u7528\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b</li> <li>Pandas \u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b</li> <li>Python 3.12 \u200b\u65b0\u200b\u7279\u6027\u200b\uff1a@override \u200b\u88c5\u9970\u200b\u5668\u200b</li> <li>\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u8c03\u7528\u200b\u5728\u7ebf\u200b\u5927\u200b\u6a21\u578b\u200b API</li> <li>Jupyter Notebook \u200b\u6062\u590d\u200b\u5386\u53f2\u200b\u6267\u884c\u200b\u4fe1\u606f\u200b\u4e0e\u200b\u5b58\u50a8\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b</li> <li>chat-data \u200b\u57fa\u4e8e\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5e94\u7528\u200b</li> <li>Python argparse \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u4e3a\u200b\u5e03\u5c14\u503c\u200b</li> <li>\u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9\u200b</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b set \u200b\u548c\u200b list \u200b\u8f6c\u6362\u200b\u65f6\u200b\u7684\u200b\u968f\u673a\u6027\u200b</li> <li>Jupyter Notebook \u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u591a\u4e2a\u200b Pandas DataFrame</li> <li>JupyterLite\uff1a\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b Python</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b isinstance \u200b\u548c\u200b type \u200b\u7684\u200b\u533a\u522b\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u6587\u672c\u200b\u5206\u7c7b\u200b</li> <li>\u200b\u8fc1\u79fb\u200b Conda \u200b\u865a\u62df\u73af\u5883\u200b</li> <li>\u200b\u5bf9\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\u4f7f\u7528\u200b np.corrcoef \u200b\u8ba1\u7b97\u200b Pearson \u200b\u548c\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b</li> <li>\u200b\u4f7f\u7528\u200b pathvalidate \u200b\u5904\u7406\u200b\u4e0d\u200b\u5408\u6cd5\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u8def\u5f84\u540d\u200b\u5b57\u7b26\u4e32\u200b</li> <li>\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face</li> <li>\u200b\u4f7f\u7528\u200b blacken-docs \u200b\u5bf9\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u683c\u5f0f\u5316\u200b</li> <li>\u200b\u591a\u7ebf\u7a0b\u200b\u4e0b\u200b\u8c03\u8bd5\u200b Python \u200b\u4ee3\u7801\u200b</li> <li>Python \u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u5de5\u5177\u200b beartype</li> <li>Python \u200b\u5185\u5b58\u200b\u5256\u6790\u200b\u4e0e\u200b\u4f18\u5316\u200b</li> <li>\u200b\u4f7f\u7528\u200b np.polynomial.Polynomial \u200b\u8fdb\u884c\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6ce8\u610f\u4e8b\u9879\u200b</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u81ea\u5b9a\u4e49\u200b SQL \u200b\u51fd\u6570\u200b</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u4f7f\u7528\u200b Criterion.all() \u200b\u7684\u200b\u6ce8\u610f\u4e8b\u9879\u200b</li> <li>\u200b\u4f7f\u7528\u200b papermill \u200b\u8fd0\u884c\u200b Jupyter Notebook</li> <li>pandas rolling exponential \u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6807\u51c6\u5dee\u200b\u4f1a\u53d7\u200b\u8d77\u70b9\u200b\u5f71\u54cd\u200b</li> <li>PyCon China 2025</li> <li>List \u200b\u5217\u8868\u200b</li> <li>Loop \u200b\u5faa\u73af\u200b</li> <li>NumPy \u200b\u6570\u7ec4\u200b</li> <li>Others \u200b\u5176\u4ed6\u200b</li> <li>Pandas \u200b\u6570\u636e\u200b\u6846\u200b</li> <li>Plot \u200b\u7ed8\u56fe\u200b</li> <li>Print \u200b\u6253\u5370\u200b</li> </ul>"},{"location":"blog/tags/#rust","title":"Rust","text":"<ul> <li>\u200b\u5b66\u4e60\u200b Rust</li> </ul>"},{"location":"blog/tags/#\u6570\u636e\u53ef\u89c6\u5316","title":"\u6570\u636e\u200b\u53ef\u89c6\u5316","text":"<ul> <li>\u200b\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\u53ef\u89c6\u5316\u200b</li> <li>Visualization of Who is who</li> <li>\u200b\u5728\u7ebf\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u751f\u6210\u5668\u200b</li> <li>\u200b\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u4f7f\u7528\u200b Networkx \u200b\u7ed8\u5236\u200b\u4e8c\u90e8\u200b\u56fe\u200b</li> <li>matplotlib \u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\u2014\u2014\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u53ef\u89c6\u5316\u200b</li> <li>Plot \u200b\u7ed8\u56fe\u200b</li> </ul>"},{"location":"blog/tags/#\u6570\u636e\u5e93","title":"\u6570\u636e\u5e93","text":"<ul> <li>CS50 Week 7 SQL</li> <li>\u200b\u4f7f\u7528\u200b MapReduce \u200b\u8fdb\u884c\u200b\u5206\u5e03\u5f0f\u8ba1\u7b97\u200b</li> <li>\u200b\u8c03\u8bd5\u200b MapReduce</li> <li>\u200b\u57fa\u4e8e\u200b Spark RDD \u200b\u7684\u200b\u7535\u5f71\u200b\u70b9\u8bc4\u200b\u6570\u636e\u5206\u6790\u200b</li> <li>SQL \u200b\u5237\u9898\u200b</li> <li>\u200b\u5927\u200b\u6570\u636e\u200b\u6280\u672f\u200b\u4e4b\u200b HBase \u200b\u548c\u200b Hive</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u81ea\u5b9a\u4e49\u200b SQL \u200b\u51fd\u6570\u200b</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u4f7f\u7528\u200b Criterion.all() \u200b\u7684\u200b\u6ce8\u610f\u4e8b\u9879\u200b</li> <li>SQL \u200b\u6570\u636e\u5e93\u200b</li> </ul>"},{"location":"blog/tags/#\u673a\u5668\u5b66\u4e60","title":"\u673a\u5668\u200b\u5b66\u4e60","text":"<ul> <li>\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u542f\u53d1\u200b\u51fd\u6570\u200b</li> <li>\u200b\u5bf9\u6297\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b</li> <li>\u200b\u591a\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u7684\u200b\u63a8\u5bfc\u200b\u4e0e\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u63a8\u5bfc\u200b</li> <li>\u200b\u725b\u987f\u200b\u6cd5\u548c\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u200b\u5b9e\u73b0\u200b Logistic \u200b\u56de\u5f52\u200b</li> <li>\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u51b3\u7b56\u6811\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u624b\u5199\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b</li> <li>\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b EM \u200b\u7b97\u6cd5\u200b\u7684\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u5bf9\u200b fer2013 \u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4eba\u8138\u200b\u8868\u60c5\u200b\u8bc6\u522b\u200b</li> <li>\u200b\u4f7f\u7528\u200b Keras \u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u56fe\u200b</li> <li>\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u8f6f\u200b\u95f4\u9694\u200b\u6700\u5927\u5316\u200b\u7684\u200b\u5bf9\u200b\u5076\u51fd\u6570\u200b\u53ca\u5176\u200b KKT \u200b\u6761\u4ef6\u200b</li> <li>\u200b\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u4f7f\u7528\u200b AdaBoost \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b</li> <li>AdaBoost \u200b\u5206\u7c7b\u200b\u539f\u7406\u200b</li> <li>\u200b\u4f7f\u7528\u200b Gradient Boost Decision Tree \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b</li> <li>XGBoost</li> <li>AdaBoost\u3001GBDT \u200b\u548c\u200b XGBoost \u200b\u7684\u200b\u8054\u7cfb\u200b\u4e0e\u200b\u533a\u522b\u200b</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6837\u672c\u200b\u5212\u5206\u200b\u65b9\u6cd5\u200b</li> <li>K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b</li> <li>\u200b\u5f53\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u9677\u5165\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3\u200b</li> <li>L1\u3001L2 \u200b\u6b63\u5219\u200b\u5316\u200b\u4e0e\u200b\u8d1d\u53f6\u65af\u200b\u5148\u9a8c\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</li> <li>\u200b\u57fa\u4e8e\u200b XGBoost \u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u9884\u6d4b\u200b\u4e0e\u200b\u63a8\u8350\u200b</li> <li>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6\u200b</li> <li>LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</li> <li>\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u9884\u6d4b\u200b\u4f01\u4e1a\u200b\u4fe1\u8d37\u200b\u8fdd\u7ea6\u200b\u60c5\u51b5\u200b</li> <li>\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u7684\u200b\u6027\u80fd\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u4e4b\u200b FPR\u3001TPR\u3001Recall \u200b\u548c\u200b AUC</li> <li>Machine Learning \u200b\u673a\u5668\u200b\u5b66\u4e60\u200b</li> </ul>"},{"location":"blog/tags/#\u6df1\u5ea6\u5b66\u4e60","title":"\u6df1\u5ea6\u200b\u5b66\u4e60","text":"<ul> <li>PyTorch Lecture 1\uff1a\u200b\u5b89\u88c5\u200b PyTorch</li> <li>PyTorch Lecture 2\uff1a\u200b\u57fa\u7840\u77e5\u8bc6\u200b</li> <li>PyTorch Lecture 3\uff1a\u200b\u57fa\u7840\u200b\u5b9e\u8df5\u200b</li> <li>\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u5bf9\u200b fer2013 \u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4eba\u8138\u200b\u8868\u60c5\u200b\u8bc6\u522b\u200b</li> <li>\u200b\u4f7f\u7528\u200b Keras \u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u56fe\u200b</li> <li>Batch Normalization</li> <li>PyTorch DataLoader \u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b</li> <li>\u200b\u67e5\u770b\u200b PyTorch \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b GPU</li> <li>PyTorch \u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff1a\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7ef4\u5ea6\u200b\u3001\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b</li> <li>PyTorch \u200b\u5904\u7406\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</li> <li>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</li> <li>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</li> <li>PyTorch \u200b\u57fa\u7840\u200b</li> <li>\u200b\u4ece\u96f6\u5f00\u59cb\u200b\u642d\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ec4\u4ef6\u200b</li> <li>\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b</li> <li>\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7b80\u5355\u200b\u7684\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>Transformer \u200b\u4e2d\u200b\u7684\u200b Positional Encoding Layer</li> <li>GPT \u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u7b14\u8bb0\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b DQN \u200b\u7b97\u6cd5\u200b\u7684\u200b\u767b\u6708\u200b\u7740\u9646\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b Cheat Sheet</li> <li>matplotlib \u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\u2014\u2014\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u6df1\u5165\u200b\u7406\u89e3\u200b GRU \u200b\u53ca\u5176\u200b PyTorch \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u8bc6\u522b\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u6a21\u578b\u200b\u603b\u7ed3\u200b</li> <li>\u200b\u4ece\u200b Hugging Face \u200b\u4e0b\u8f7d\u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b</li> <li>\u200b\u7406\u89e3\u200b PyTorch \u200b\u4e2d\u200b\u7684\u200b CrossEntropyLoss</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668\u200b</li> <li>\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face</li> <li>Layer Normalization</li> <li>ConcatDataset \u200b\u548c\u200b StackDataset</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u8981\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \uff1a\u200b\u4ece\u200b\u65b9\u5dee\u200b\u5230\u200b\u68af\u5ea6\u200b\u7684\u200b\u63a8\u5bfc\u200b</li> </ul>"},{"location":"blog/tags/#\u751f\u6d3b","title":"\u751f\u6d3b","text":"<ul> <li>\u200b\u6211\u4eec\u200b\u6bd5\u4e1a\u200b\u4e86\u200b</li> <li>\u200b\u5fb7\u5dde\u200b\u6251\u514b\u200b\u6e38\u620f\u200b\u7ecf\u9a8c\u200b</li> <li>\u200b\u611f\u8c22\u200b\u6211\u200b\u4eba\u751f\u200b\u4e2d\u200b\u7684\u200b\u8d35\u200b\u4eba\u4eec\u200b</li> <li>\u200b\u7acb\u6625\u200b</li> <li>\u200b\u4fdd\u6301\u200b\u4e13\u6ce8\u200b</li> <li>\u200b\u51ac\u65e5\u200b\u7684\u200b\u690d\u7269\u56ed\u200b</li> <li>\u200b\u6625\u65e5\u200b\u65f6\u5149\u200b</li> <li>\u200b\u544a\u522b\u200b\u5b66\u751f\u200b\u65f6\u4ee3\u200b</li> <li>\u200b\u7528\u200b\u7167\u7247\u200b\u7559\u4f4f\u200b\u8bb0\u5fc6\u200b</li> <li>\u200b\u751f\u6d3b\u200b\u5b58\u6863\u200b</li> <li>Google \u200b\u5927\u200b\u6a21\u578b\u200b\u5de5\u4f5c\u574a\u200b&amp;\u200b\u5965\u8d5b\u200b\u5927\u5c55\u200b</li> <li>PyCon China 2025</li> </ul>"},{"location":"blog/tags/#\u7edf\u8ba1","title":"\u7edf\u8ba1","text":"<ul> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u6709\u200b\u7ea6\u675f\u200b\u7684\u200b\u4f18\u5316\u200b\u95ee\u9898\u200b\u4e4b\u200b Lagrangian \u200b\u4e58\u5b50\u6cd5\u200b\u3001\u200b\u6295\u5f71\u200b\u68af\u5ea6\u200b\u7b97\u6cd5\u200b\u548c\u200b\u7f5a\u51fd\u6570\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b EM \u200b\u7b97\u6cd5\u200b\u7684\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u820d\u9009\u6cd5\u200b\u751f\u6210\u200b\u968f\u673a\u53d8\u91cf\u200b</li> <li>Box-Muller \u200b\u53d8\u6362\u200b\u6cd5\u200b\u751f\u6210\u200b\u6b63\u6001\u5206\u5e03\u200b\u968f\u673a\u6570\u200b</li> <li>\u200b\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u7684\u200b\u5e94\u7528\u200b\u4e0e\u200b\u91cd\u8981\u6027\u200b\u62bd\u6837\u200b</li> <li>\u200b\u65b9\u5dee\u200b\u7f29\u51cf\u200b\u6280\u672f\u200b\u4e4b\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b</li> <li>\u200b\u65b9\u5dee\u200b\u5206\u89e3\u200b\u516c\u5f0f\u200b</li> <li>\u200b\u5728\u200b pandas \u200b\u4e2d\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b</li> <li>\u200b\u968f\u673a\u62bd\u6837\u200b\u4e4b\u200b MCMC \u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\u7684\u200b\u65e0\u504f\u6027\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</li> <li>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6\u200b</li> <li>\u200b\u68c0\u9a8c\u200b\u6837\u672c\u5206\u5e03\u200b\u7684\u200b\u6b63\u6001\u6027\u200b</li> <li>\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u7ebf\u6027\u53d8\u6362\u200b\u4ecd\u4e3a\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b</li> <li>\u200b\u7a00\u758f\u200b\u9ad8\u7ef4\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u7684\u200b Thresholding \u200b\u4f30\u8ba1\u200b\u65b9\u6cd5\u200b</li> <li>\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u4e0e\u200b\u6700\u5c0f\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u7b49\u4ef7\u200b\u6027\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u8fdb\u884c\u200b\u53d8\u91cf\u200b\u9009\u62e9\u200b</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b P \u200b\u503c\u200b\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\uff1f</li> <li>\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c\u200b</li> <li>Conformal Learning \u200b\u6c42\u89e3\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u548c\u200b\u591a\u200b\u6807\u7b7e\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</li> <li>\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u9884\u6d4b\u200b\u4f01\u4e1a\u200b\u4fe1\u8d37\u200b\u8fdd\u7ea6\u200b\u60c5\u51b5\u200b</li> <li>\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b</li> <li>\u200b\u56e0\u5b50\u200b\u534a\u8870\u671f\u200b</li> </ul>"},{"location":"blog/tags/#\u8fd0\u7b79\u5b66","title":"\u8fd0\u7b79\u5b66","text":"<ul> <li>\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b</li> <li>\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7684\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b</li> <li>\u200b\u5b89\u88c5\u200b Gurobi \u200b\u4f18\u5316\u200b\u5668\u200b</li> <li>Gurobi \u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b</li> <li>\u200b\u7ebf\u6027\u89c4\u5212\u200b\u548c\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3\u200b\u7684\u200b\u60c5\u51b5\u200b</li> <li>Dijkstra \u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898\u200b</li> <li>\u200b\u996e\u6599\u200b\u4f01\u4e1a\u200b\u591a\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4f18\u5316\u200b</li> </ul>"},{"location":"blog/tags/#\u91cf\u5316\u7814\u7a76","title":"\u91cf\u5316\u200b\u7814\u7a76","text":"<ul> <li>\u200b\u503a\u5238\u200b\u8ba1\u7b97\u5668\u200b</li> <li>\u200b\u5bf9\u6297\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b</li> <li>\u200b\u7b56\u7565\u200b\u590d\u73b0\u200b\uff1a\u200b\u57fa\u4e8e\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u7684\u200b\u80a1\u6307\u200b\u671f\u8d27\u200b\u65e5\u5185\u200b\u4ea4\u6613\u200b\u7b56\u7565\u200b</li> <li>\u200b\u68c0\u9a8c\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b</li> <li>\u200b\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u63a8\u5bfc\u200b</li> <li>\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u4e8b\u4ef6\u200b\u7b56\u7565\u200b&amp;\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u81ea\u52a8\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1\u200b</li> <li>\u200b\u57fa\u4e8e\u200b qstock \u200b\u5b9e\u73b0\u200b\u6761\u4ef6\u200b\u9009\u80a1\u200b\u56de\u6d4b\u200b</li> <li>K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</li> <li>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</li> <li>\u200b\u5747\u503c\u200b\u65b9\u5dee\u200b\u6a21\u578b\u200b\u7684\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf\u200b</li> <li>Python \u200b\u5b9e\u73b0\u200b\u591a\u5217\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u2014\u2014\u200b\u4ee5\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u4f8b\u200b</li> <li>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6\u200b</li> <li>\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u548c\u200b BERT \u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u6a21\u578b\u200b</li> <li>\u200b\u6bcf\u200b\u6708\u5e95\u200b\u4e70\u5165\u200b\u884c\u4e1a\u200b\u5185\u200b PB \u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u80a1\u7968\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u9009\u80a1\u200b\u7b56\u7565\u200b\u56de\u6d4b\u200b</li> <li>LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u56e0\u5b50\u200b\u6295\u8d44\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u9010\u7b14\u200b\u59d4\u6258\u200b\u548c\u200b\u9010\u7b14\u200b\u6210\u4ea4\u200b\u6570\u636e\u200b\u6784\u9020\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - CTA</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u4e8b\u4ef6\u9a71\u52a8\u200b\u7b56\u7565\u200b</li> <li>\u200b\u91cf\u5316\u200b\u5b9e\u4e60\u200b\u5de5\u4f5c\u200b\u603b\u7ed3\u200b</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u591a\u200b\u7b56\u7565\u200b</li> <li>Qlib \u200b\u4f7f\u7528\u200b\u7b14\u8bb0\u200b</li> <li>Python \u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u5206\u949f\u200b\u6536\u76ca\u7387\u200b\u5206\u5e03\u200b\u7684\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b</li> <li>\u200b\u4f7f\u7528\u200b Web Scraper \u200b\u722c\u53d6\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u200b\u7684\u200b\u57fa\u91d1\u200b\u6570\u636e\u200b</li> <li>Pandas \u200b\u5411\u524d\u200b\u4e0e\u200b\u5c45\u4e2d\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b</li> <li>Pandas \u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b</li> <li>\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b</li> <li>\u200b\u56e0\u5b50\u200b\u534a\u8870\u671f\u200b</li> <li>\u200b\u501f\u52a9\u200b torchmetrics \u200b\u7684\u200b CompositionalMetric \u200b\u5c06\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u7684\u200b\u6307\u6807\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b</li> <li>pandas rolling exponential \u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6807\u51c6\u5dee\u200b\u4f1a\u53d7\u200b\u8d77\u70b9\u200b\u5f71\u54cd\u200b</li> </ul>"},{"location":"blog/decision-tree-algorithm/","title":"\u51b3\u7b56\u6811\u200b\u7684\u200b\u542f\u53d1\u200b\u51fd\u6570","text":"<p>\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u542f\u53d1\u200b\u51fd\u6570\u200b\uff0c\u200b\u8fd9\u662f\u200b\u51b3\u7b56\u6811\u200b\u8fdb\u884c\u200b\u5206\u679d\u200b\u7684\u200b\u4f9d\u636e\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b ID3\u3001C4.5 \u200b\u548c\u200b CART \u200b\u4e09\u79cd\u200b\u542f\u53d1\u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u4f9d\u636e\u200b\u67d0\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u53d6\u503c\u200b\u6765\u200b\u51b3\u5b9a\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u600e\u4e48\u200b\u505a\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u662f\u200b\u5728\u200b\u4f7f\u7528\u200b\u51b3\u7b56\u6811\u200b\u3002</p> <p>\u200b\u51b3\u7b56\u6811\u200b\u4f5c\u4e3a\u200b\u6700\u200b\u57fa\u7840\u200b\u3001\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u6709\u200b\u76d1\u7763\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\uff0c\u200b\u5e38\u200b\u88ab\u200b\u7528\u4e8e\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u548c\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\uff0c\u200b\u5728\u200b\u5e02\u573a\u8425\u9500\u200b\u548c\u200b\u751f\u7269\u533b\u836f\u200b\u7b49\u200b\u9886\u57df\u200b\u5c24\u5176\u200b\u53d7\u6b22\u8fce\u200b\uff0c\u200b\u4e3b\u8981\u200b\u56e0\u4e3a\u200b\u6811\u5f62\u200b\u7ed3\u6784\u200b\u4e0e\u200b\u9500\u552e\u200b\u3001\u200b\u8bca\u65ad\u200b\u7b49\u200b\u573a\u666f\u200b\u4e0b\u200b\u7684\u200b\u51b3\u7b56\u200b\u8fc7\u7a0b\u200b\u5341\u5206\u76f8\u4f3c\u200b\u3002</p> <p>\u200b\u5982\u4f55\u200b\u6784\u9020\u200b\u51b3\u7b56\u6811\u200b\uff1f\u200b\u4ece\u200b\u82e5\u5e72\u200b\u4e0d\u540c\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u4e2d\u200b\u9009\u53d6\u200b\u6700\u4f18\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u662f\u200b\u4e00\u4e2a\u200b NP \u200b\u5b8c\u5168\u200b\u95ee\u9898\u200b (1)\u3002</p> <ol> <li>NP \u200b\u5b8c\u5168\u200b\u95ee\u9898\u200b\u662f\u200b\u6307\u200b\uff1a\"\u200b\u6700\u4f18\u200b\"\u200b\u53c2\u6570\u200b\u65e0\u6cd5\u200b\u5728\u200b\u591a\u9879\u5f0f\u200b\u65f6\u95f4\u200b\u5185\u200b\u88ab\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-algorithm/#\u51b3\u7b56\u6811\u7684\u542f\u53d1\u51fd\u6570_1","title":"\u51b3\u7b56\u6811\u200b\u7684\u200b\u542f\u53d1\u200b\u51fd\u6570","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-algorithm/#id3\u6700\u5927\u4fe1\u606f\u589e\u76ca","title":"ID3\uff1a\u200b\u6700\u5927\u200b\u4fe1\u606f\u200b\u589e\u76ca","text":"<p>*[ID3]: Iterative Dichotomiser 3</p> <p>\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u4e86\u89e3\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\uff08Entropy\uff09\u200b\u7684\u200b\u6982\u5ff5\u200b\uff1a</p> \\[ H(D) = -\\sum_{k=1}^{K} p(k) \\log_2 p(k) \\] <p>\u200b\u5bf9\u200b\u4e0a\u5f0f\u200b\u7684\u200b\u7406\u89e3\u200b\u662f\u200b\uff1a\u200b\u6570\u636e\u200b\u96c6\u200b\\(D\\)\u200b\u6709\u200b\\(K\\)\u200b\u79cd\u200b\u53d6\u503c\u200b\uff0c\\(p(k)\\)\u200b\u8868\u793a\u200b\u7b2c\u200b\\(k\\)\u200b\u79cd\u200b\u53d6\u503c\u200b\u5728\u200b\u6570\u636e\u200b\u96c6\u200b\\(D\\)\u200b\u4e2d\u200b\u7684\u200b\u6982\u7387\u200b\u3002\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u8861\u91cf\u200b\u53d8\u91cf\u200b\u7684\u200b\u6df7\u4e71\u200b\u7a0b\u5ea6\u200b\uff1a\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u53d8\u91cf\u200b\u7684\u200b\u53d6\u503c\u200b\u8d8a\u200b\u6df7\u4e71\u200b\u3002</p> <p>\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\u662f\u200b\u7ed9\u5b9a\u200b\u67d0\u4e2a\u200b\u7279\u5f81\u200b\u65f6\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\uff1a</p> \\[ H(D|A) = \\sum_{i=1}^{n}\\frac{|D_i|}{|D|} H(D_i) \\] <p>\u200b\u5bf9\u200b\u4e0a\u5f0f\u200b\u7684\u200b\u7406\u89e3\u200b\u662f\u200b\uff1a\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u6709\u200b\\(n\\)\u200b\u79cd\u200b\u53d6\u503c\u200b\uff0c\\(\\frac{|D_i|}{|D|}\\)\u200b\u8868\u793a\u200b\u7b2c\u200b\\(i\\)\u200b\u79cd\u200b\u53d6\u503c\u200b\u5728\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u4e2d\u200b\u7684\u200b\u6982\u7387\u200b\u3002\\(H(D_i)\\)\u200b\u8868\u793a\u200b\uff1a\u200b\u5f53\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u7684\u200b\u53d6\u503c\u200b\u4e3a\u200b\\(D_i\\)\u200b\u65f6\u200b\u7684\u200b\u90a3\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\u662f\u200b\u6839\u636e\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u5bf9\u5168\u200b\u6837\u672c\u200b\u8fdb\u884c\u200b\u4e86\u200b\u4e00\u6b21\u200b\u5212\u5206\u200b\uff0c\u200b\u800c\u200b\u5212\u5206\u200b\u540e\u200b\u7684\u200b\u6837\u672c\u200b\u4e00\u822c\u200b\u4f1a\u200b\u53d8\u5f97\u200b\u66f4\u200b\u6709\u5e8f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\u603b\u662f\u200b\u6bd4\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\u5c0f\u200b\u3002</p> <p>\u200b\u4e8e\u662f\u200b\uff0c\u200b\u5c06\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\u51cf\u53bb\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\uff0c\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\uff1a</p> \\[ g(D, A) = H(D) - H(D|A) \\] <p>ID3 \u200b\u7b97\u6cd5\u200b\u5c31\u662f\u200b\u8981\u200b\u627e\u5230\u200b\u67d0\u4e2a\u200b\u7279\u5f81\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u6700\u5927\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-algorithm/#c45\u6700\u5927\u4fe1\u606f\u589e\u76ca\u6bd4","title":"C4.5\uff1a\u200b\u6700\u5927\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u6bd4","text":"<p>*[C4.5]: \u200b\u636e\u8bf4\u200b\u8fd9\u4e00\u200b\u7b97\u6cd5\u200b\u6700\u521d\u200b\u662f\u200b\u7528\u200b C \u200b\u8bed\u8a00\u200b\u5b9e\u73b0\u200b\u7684\u200b\uff0c\u200b\u4f5c\u8005\u200b\u5f88\u200b\u81ea\u8c6a\u200b\u5730\u200b\u5c06\u200b C \u200b\u8bed\u8a00\u200b\u4f5c\u4e3a\u200b\u7b97\u6cd5\u200b\u540d\u200b\u30024.5 \u200b\u5219\u200b\u4ee3\u8868\u200b\u4e86\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u7248\u672c\u200b\u3002</p> <p>\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\u8861\u91cf\u200b\u4e86\u200b\u6570\u636e\u200b\u96c6\u200b\u6807\u7b7e\u200b\u7684\u200b\u65e0\u5e8f\u200b\u7a0b\u5ea6\u200b\u3002\u200b\u540c\u6837\u200b\u5730\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u53d6\u503c\u200b\u71b5\u200b\u6765\u200b\u8861\u91cf\u200b\u6570\u636e\u200b\u96c6\u200b\u7279\u5f81\u200b\u7684\u200b\u65e0\u5e8f\u200b\u7a0b\u5ea6\u200b\u3002</p> \\[ H_A(D) = -\\sum_{i=1}^{n} \\frac{|D_i|}{|D|} \\log_2 \\frac{|D_i|}{|D|} \\] <p>\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u200b\\(D\\)\u200b\u7684\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u6bd4\u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u7528\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u9664\u4ee5\u200b\u7279\u5f81\u200b\u7684\u200b\u53d6\u503c\u200b\u71b5\u200b\u3002</p> \\[ g_{R}(D, A) = \\frac{g(D, A)}{H_A(D)} \\] <p>\u200b\u76f4\u89c9\u200b\u7406\u89e3\u200b\uff1a\u200b\u5982\u679c\u200b\u53ea\u7528\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u6765\u200b\u5224\u65ad\u200b\u7279\u5f81\u200b\u662f\u5426\u200b\u5bf9\u200b\u6807\u7b7e\u200b\u8fdb\u884c\u200b\u4e86\u200b\u6709\u6548\u200b\u7684\u200b\u5206\u7c7b\u200b\uff08\u200b\u5373\u200b\u71b5\u200b\u51cf\u200b\u7684\u200b\u80fd\u529b\u200b\u5f88\u5f3a\u200b\uff09\uff0c\u200b\u90a3\u4e48\u200b\uff0c\u200b\u90a3\u4e9b\u200b\u672c\u8eab\u200b\u5c31\u200b\u6709\u200b\u5f88\u591a\u200b\u53d6\u503c\u200b\u7684\u200b\u7279\u5f81\u200b\u66f4\u200b\u5bb9\u6613\u200b\u5bf9\u200b\u6807\u7b7e\u200b\u8fdb\u884c\u200b\u6b63\u786e\u200b\u7684\u200b\u5206\u7c7b\u200b\u3002C4.5 \u200b\u7b97\u6cd5\u200b\u901a\u8fc7\u200b\u9664\u4ee5\u200b\u7279\u5f81\u200b\u7684\u200b\u53d6\u503c\u200b\u71b5\u200b\u6765\u200b\u5bf9\u200b\u90a3\u4e9b\u200b\u672c\u8eab\u200b\u5c31\u200b\u6709\u200b\u5f88\u591a\u200b\u53d6\u503c\u200b\u7684\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u60e9\u7f5a\u200b\uff0c\u200b\u63d0\u5347\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6cdb\u5316\u200b\u80fd\u529b\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u62e5\u6709\u200b\u4e00\u4e2a\u200b\u4eba\u200b\u7684\u200b DNA \u200b\u4fe1\u606f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u51e0\u4e4e\u200b\u53ef\u4ee5\u200b\u975e\u5e38\u200b\u51c6\u786e\u200b\u5730\u200b\u9884\u6d4b\u51fa\u200b\u5b83\u200b\u7684\u200b\u6027\u522b\u200b\u3001\u200b\u80a4\u8272\u200b\u3001\u200b\u662f\u5426\u200b\u60a3\u6709\u200b\u67d0\u79cd\u200b\u5148\u5929\u6027\u200b\u75be\u75c5\u200b\u7b49\u200b\u3002\u200b\u5728\u200b\u51c6\u786e\u200b\u7684\u200b\uff08\u200b\u6216\u8005\u8bf4\u200b\uff0c\u200b\u7eaf\u200b\u7684\u200b\uff09\u200b\u5206\u7c7b\u200b\u540e\u200b\uff0c\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\u51e0\u4e4e\u200b\u4e3a\u200b 0\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u80fd\u591f\u200b\u5f97\u5230\u200b\u5f88\u5927\u200b\u7684\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u3002\u200b\u8fd9\u6837\u200b\u7684\u200b\u5206\u7c7b\u200b\u4f1a\u200b\u5f97\u5230\u200b\u4e00\u9897\u200b\u5e9e\u5927\u200b\u4e14\u200b\u6df1\u5ea6\u200b\u5f88\u200b\u6d45\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\uff0c\u200b\u8fd9\u200b\u662f\u200b\u5f88\u200b\u4e0d\u5408\u7406\u200b\u7684\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-algorithm/#cart\u6700\u5c0f\u57fa\u5c3c\u6307\u6570gini","title":"CART\uff1a\u200b\u6700\u5c0f\u200b\u57fa\u5c3c\u200b\u6307\u6570\u200b\uff08Gini\uff09","text":"<p>*[CART]: Classification and Regression Tree\uff0c\u200b\u5206\u7c7b\u200b\u56de\u5f52\u200b\u6811\u200b\u3002</p> <p>\u200b\u57fa\u5c3c\u200b\u6307\u6570\u200b\u4e5f\u200b\u88ab\u200b\u7528\u4e8e\u200b\u63cf\u8ff0\u200b\u6570\u636e\u200b\u7684\u200b\u6df7\u4e71\u200b\u7a0b\u5ea6\u200b\uff1a</p> \\[ Gini(D)=1-\\sum_{k=1}^{K}p(k)^2 \\] <p>\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u7684\u200b\u57fa\u5c3c\u200b\u6307\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ Gini(D|A)=\\sum_{i=1}^{n} \\frac{|D_i|}{|D|}Gini(D_i) \\] <p>CART \u200b\u901a\u8fc7\u200b\u9009\u62e9\u200b\u4f7f\u200b\u57fa\u5c3c\u200b\u6307\u6570\u200b\u6700\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\u53ca\u5176\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5207\u5206\u200b\u70b9\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u4e00\u5171\u200b\u6709\u200b 3 \u200b\u4e2a\u200b\u53d6\u503c\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\u201c\u200b\u9ad8\u200b\u201d\u3001\u201c\u200b\u4e2d\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u4f4e\u200b\u201d\u3002\u200b\u5e76\u4e14\u200b CART \u200b\u7ed9\u51fa\u200b\u7684\u200b\u6700\u4f18\u200b\u5207\u5206\u200b\u70b9\u200b\u662f\u200b\u201c\u200b\u7279\u5f81\u200b\\(A\\)=\u200b\u9ad8\u200b\u201d\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u4e8c\u53c9\u6811\u200b\u8282\u70b9\u200b\u5c31\u662f\u200b\u5224\u65ad\u200b\u201c\u200b\u7279\u5f81\u200b\\(A\\)\u200b\u662f\u5426\u200b\u4e3a\u200b\u9ad8\u200b\u201d\u3002</p> <p>\u200b\u4e0e\u200b ID3 \u200b\u548c\u200b C4.5 \u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0cCART \u200b\u662f\u200b\u4e00\u9897\u200b\u4e8c\u53c9\u6811\u200b\u3002ID3 \u200b\u548c\u200b C4.5 \u200b\u53ef\u4ee5\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u4e0a\u200b\u4ea7\u751f\u200b\u51fa\u591a\u53c9\u200b\u5206\u652f\u200b\uff0c\u200b\u4e14\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u5728\u200b\u5c42\u7ea7\u200b\u4e4b\u95f4\u200b\u4e0d\u4f1a\u200b\u590d\u7528\u200b\uff0c\u200b\u800c\u200b CART \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u53ea\u4f1a\u200b\u4ea7\u751f\u200b\u4e24\u4e2a\u200b\u5206\u652f\u200b\uff0c\u200b\u6700\u540e\u200b\u4f1a\u200b\u5f62\u6210\u200b\u4e00\u9897\u200b\u4e8c\u53c9\u6811\u200b\uff0c\u200b\u4e14\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u91cd\u590d\u4f7f\u7528\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/CS50-Week-0-Scratch/","title":"CS50 Week 0 Scratch","text":"<p>\u200b\u57fa\u7840\u200b\u7f16\u7a0b\u200b\u77e5\u8bc6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-0-Scratch/#\u4e8c\u8fdb\u5236","title":"\u4e8c\u8fdb\u5236","text":"<p>\u200b\u8ba1\u7b97\u673a\u200b\u7684\u200b\u6700\u5e95\u5c42\u200b\u90fd\u200b\u662f\u200b\u901a\u8fc7\u200b\u4e8c\u8fdb\u5236\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002\u200b\u53ea\u200b\u9700\u8981\u200b 0 \u200b\u548c\u200b 1 \u200b\u7684\u200b\u7ec4\u5408\u200b\uff0c\u200b\u8ba1\u7b97\u673a\u200b\u4fbf\u200b\u53ef\u4ee5\u200b\u5b8c\u6210\u200b\u5982\u4e0b\u200b\u529f\u80fd\u200b\uff1a</p> <ul> <li>\u200b\u6570\u5b66\u200b\u8fd0\u7b97\u200b\u3002</li> </ul> <p>\u200b\u5229\u7528\u200b\u8fdb\u5236\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8f6c\u6362\u200b\u5373\u53ef\u200b\u5b8c\u6210\u200b\u3002</p> <ul> <li>\u200b\u663e\u793a\u5b57\u7b26\u200b\u3002</li> </ul> <p>\u200b\u89c4\u5b9a\u200b\u4e8c\u8fdb\u5236\u200b\u4e0e\u200b\u5b57\u7b26\u200b\u7684\u200b\u5bf9\u5e94\u200b\u89c4\u5219\u200b\uff08\u200b\u5982\u200b<code>ASCII</code>\uff0cAmerican Standard Code for Information Interchange\uff09\uff0c\u200b\u5728\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u5b57\u200b\u524d\u200b\u52a0\u4e0a\u200b\u524d\u7f00\u200b\uff08\u200b\u4f8b\u5982\u200b<code>\\</code>\uff09\u200b\u6765\u200b\u8868\u793a\u200b\u5b57\u7b26\u200b\u751a\u81f3\u200b Emoji \u200b\u7b49\u200b\u3002</p> <ul> <li>\u200b\u663e\u793a\u200b\u989c\u8272\u200b\u3002</li> </ul> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e09\u4e2a\u200b\u4f4d\u4e8e\u200b 0-255 \u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u5b57\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b Red\u3001Green \u200b\u548c\u200b Blue \u200b\u7684\u200b\u6bd4\u4f8b\u200b\u6765\u200b\u8868\u793a\u200b\u989c\u8272\u200b\u3002\u200b\u4f8b\u5982\u200b<code>RGB(100,150,200)</code>\u200b\u4ee3\u8868\u200b\u7684\u200b\u989c\u8272\u200b\u662f\u200b\u2587\u3002</p> <ul> <li>\u200b\u663e\u793a\u200b\u56fe\u7247\u200b\u3002</li> </ul> <p>\u200b\u6709\u200b\u4e86\u200b\u989c\u8272\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u50cf\u7d20\u200b\uff08Pixel\uff09\u200b\u8d4b\u4e88\u200b\u4e00\u4e2a\u200b\u989c\u8272\u200b\uff0c\u200b\u5c06\u200b\u8bb8\u591a\u200b\u50cf\u7d20\u200b\u5408\u5e76\u200b\u8d77\u6765\u200b\u5c31\u200b\u6784\u6210\u200b\u4e86\u200b\u4e00\u5f20\u200b\u56fe\u7247\u200b\u3002</p> <ul> <li>\u200b\u663e\u793a\u200b\u89c6\u9891\u200b\u3002</li> </ul> <p>\u200b\u89c6\u9891\u200b\u65e0\u975e\u200b\u662f\u200b\u591a\u4e2a\u200b\u56fe\u7247\u200b\u5feb\u901f\u200b\u64ad\u653e\u200b\u65f6\u200b\u7684\u200b\u5f62\u5f0f\u200b\u3002</p> <ul> <li>\u200b\u64ad\u653e\u200b\u97f3\u4e50\u200b\u3002</li> </ul> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6570\u5b57\u200b\u6765\u200b\u91cf\u5316\u200b\u4e00\u6bb5\u200b\u97f3\u9891\u200b\u7684\u200b\u54cd\u5ea6\u200b\u3001\u200b\u6301\u7eed\u65f6\u95f4\u200b\u7b49\u200b\u3002\u200b\u5177\u4f53\u200b\u7684\u200b\u5b9e\u73b0\u200b\u7ec6\u8282\u200b\u6d89\u53ca\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u548c\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u7684\u200b\u8f6c\u6362\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-0-Scratch/#\u7b97\u6cd5","title":"\u7b97\u6cd5","text":"<p>\u200b\u7b97\u6cd5\u200b\u662f\u200b\u89e3\u51b3\u95ee\u9898\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6216\u200b\u6b65\u9aa4\u200b\u3002\u200b\u4e0d\u540c\u200b\u7b97\u6cd5\u200b\u7684\u200b\u8ba1\u7b97\u200b\u6548\u7387\u200b\u4e0d\u540c\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-0-Scratch/#\u4f2a\u4ee3\u7801","title":"\u4f2a\u200b\u4ee3\u7801","text":"<ul> <li> <p>\u200b\u5224\u65ad\u200b\u8bed\u53e5\u200b\u7528\u5230\u200b\u4e86\u200b\u5e03\u5c14\u503c\u200b\uff08\u200b\u4e00\u4e2a\u200b\u6570\u5b66\u5bb6\u200b\u7684\u200b\u540d\u5b57\u200b\u53eb\u200b Boole\uff09\u3002</p> </li> <li> <p>\u200b\u5faa\u73af\u200b\u8bed\u53e5\u200b\u80fd\u200b\u4f7f\u7528\u200b\u8f83\u200b\u77ed\u200b\u7684\u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u66f4\u200b\u591a\u6b21\u200b\u7684\u200b\u8fd0\u7b97\u200b\uff08Reusable code\uff09\u3002</p> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-0-Scratch/#scratch","title":"Scratch","text":"<ul> <li> <p>\u200b\u4e00\u4e2a\u200b\u56fe\u5f62\u5316\u200b\u7f16\u7a0b\u200b\u73af\u5883\u200b\u3002</p> </li> <li> <p>\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b Block \u200b\u6765\u200b\u7f16\u5199\u200b\u51fd\u6570\u200b\u3002</p> </li> <li> <p>\u200b\u53ea\u200b\u9700\u8981\u200b\u7406\u89e3\u200b\u7b97\u6cd5\u200b\u7684\u200b\u6267\u884c\u200b\u601d\u60f3\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u77e5\u9053\u200b\u592a\u200b\u591a\u200b\u4ee3\u7801\u200b\u7684\u200b\u8bed\u6cd5\u200b\u7ec6\u8282\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7f16\u5199\u200b\u5f88\u591a\u200b\u6709\u8da3\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u3002</p> </li> <li>\u200b\u975e\u5e38\u9002\u5408\u200b\u9752\u5c11\u5e74\u200b\u7f16\u7a0b\u200b\u6559\u80b2\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/","title":"CS50 Week 1 C","text":"<p>C \u200b\u8bed\u8a00\u200b\u57fa\u7840\u77e5\u8bc6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#c\u8bed\u8a00","title":"<code>C</code>\u200b\u8bed\u8a00","text":"<p><code>C</code>\u200b\u662f\u200b\u4e00\u95e8\u200b\u53e4\u8001\u200b\u7684\u200b\u8bed\u8a00\u200b\uff0c\u200b\u5b83\u200b\u4e5f\u200b\u662f\u200b\u5f88\u591a\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\uff08\u200b\u5982\u200b<code>Python</code>\uff09\u200b\u7684\u200b\u57fa\u7840\u200b\u3002</p> <p><code>C</code>\u200b\u4f1a\u200b\u5c06\u200b\u6e90\u4ee3\u7801\u200b\u7f16\u8bd1\u200b\uff08Compile\uff09\u200b\u6210\u200b\u673a\u5668\u8bed\u8a00\u200b\uff08Machine Code\uff09\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u662f\u200b\u7531\u200b 0 \u200b\u548c\u200b 1 \u200b\u7ec4\u6210\u200b\u7684\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u51fd\u6570\u548c\u53c2\u6570","title":"\u51fd\u6570\u200b\u548c\u200b\u53c2\u6570","text":"<p><code>printf(\"hello, world\");</code></p> <ul> <li> <p><code>printf</code>\u200b\u4e2d\u200b\u7684\u200b<code>f</code>\u200b\u4ee3\u8868\u200b format\u3002</p> </li> <li> <p><code>C</code>\u200b\u7684\u200b\u8bed\u53e5\u200b\u7531\u200b<code>;</code>\u200b\u7ed3\u5c3e\u200b\u3002</p> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u8fd4\u56de\u503c\u548c\u53d8\u91cf","title":"\u8fd4\u56de\u503c\u200b\u548c\u200b\u53d8\u91cf","text":"<p><code>string answer = get_string(\"What's your name? \");</code></p> <ul> <li> <p>\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5e76\u200b\u8d4b\u503c\u200b\u7ed9\u200b<code>answer</code>\u200b\u8fd9\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u53d8\u91cf\u200b\u3002</p> </li> <li> <p><code>get_string</code>\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b<code>#include &lt;cs50.h&gt;</code>\uff0c\u200b\u8fd9\u662f\u200b CS50 \u200b\u8bfe\u7a0b\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5934\u6587\u4ef6\u200b\u3002<code>.h</code>\u200b\u4ee3\u8868\u200b<code>head</code>\u3002</p> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#linux-\u547d\u4ee4","title":"Linux \u200b\u547d\u4ee4","text":"<ul> <li> <p><code>rm</code>\uff1a\u200b\u5220\u9664\u200b</p> </li> <li> <p><code>ls</code>\uff1a\u200b\u5217\u51fa\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u9879\u76ee\u200b\uff08\u200b\u5305\u62ec\u200b\u6587\u4ef6\u200b\u548c\u5b50\u200b\u6587\u4ef6\u5939\u200b\uff09</p> </li> <li> <p><code>mkdir</code>\uff1a\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u5939\u200b</p> </li> <li> <p><code>code hello.c</code>\uff1a\u200b\u65b0\u5efa\u200b<code>hello.c</code>\u200b\u6587\u4ef6\u200b  </p> </li> <li> <p><code>cd</code>\uff1a\u200b\u8fdb\u5165\u200b\u5230\u200b\u67d0\u4e2a\u200b\u6587\u4ef6\u5939\u200b</p> </li> <li> <p><code>cd ..</code>\uff1a\u200b\u8fd4\u56de\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u6587\u4ef6\u5939\u200b</p> </li> <li> <p><code>cd ../..</code>\uff1a\u200b\u8fd4\u56de\u200b\u4e0a\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u6587\u4ef6\u5939\u200b</p> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u6570\u636e\u7c7b\u578b","title":"\u6570\u636e\u7c7b\u578b","text":"<ul> <li> <p><code>bool</code>\uff1a\u200b\u5e03\u5c14\u503c\u200b\uff0c\u200b\u8868\u793a\u200b<code>Ture</code>\u200b\u548c\u200b<code>False</code></p> </li> <li> <p><code>char</code>\uff1a\u200b\u5b57\u7b26\u200b</p> </li> <li> <p><code>string</code>\uff1a\u200b\u5b57\u7b26\u4e32\u200b</p> </li> <li> <p><code>int</code>\uff1a\u200b\u6574\u578b\u200b\u6570\u5b57\u200b</p> </li> <li> <p><code>long</code>\uff1a\u200b\u957f\u200b\u578b\u200b\u6570\u5b57\u200b\uff08\u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b\u66f4\u5927\u200b\uff09</p> </li> <li> <p><code>float</code>\uff1a\u200b\u5355\u7cbe\u5ea6\u200b\u6d6e\u70b9\u200b\u578b\u200b\u6570\u5b57\u200b</p> </li> <li> <p><code>double</code>\uff1a\u200b\u53cc\u200b\u7cbe\u5ea6\u200b\u6d6e\u70b9\u200b\u578b\u200b\u6570\u5b57\u200b\uff08\u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b\u66f4\u5927\u200b\uff0c\u200b\u7cbe\u5ea6\u200b\u662f\u200b float \u200b\u7684\u200b\u4e24\u500d\u200b\uff09</p> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u683c\u5f0f\u5316\u8f93\u51fa","title":"\u683c\u5f0f\u5316\u200b\u8f93\u51fa","text":"<ul> <li> <p><code>%c</code>\u3001<code>%s</code>\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u5b57\u7b26\u200b\u548c\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> </li> <li> <p><code>%i</code>\u200b\u8868\u793a\u200b\u6574\u578b\u200b\u6570\u5b57\u200b\u3002</p> </li> <li><code>%f</code>\u200b\u8868\u793a\u200b\u6d6e\u70b9\u200b\u578b\u200b\u6570\u5b57\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#syntactic-sugar","title":"Syntactic Sugar","text":"<p>\u200b\u7406\u89e3\u200b\uff1a\u200b\u7528\u200b\u66f4\u200b\u5c11\u200b\u7684\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u540c\u6837\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff1a\u200b\u4e0b\u9762\u200b\u7684\u200b\u4e09\u4e2a\u200b\u8bed\u53e5\u200b\u90fd\u200b\u662f\u200b\u5c06\u200b<code>a</code>\u200b\u7684\u200b\u503c\u52a0\u200b 1\u3002</p> <ul> <li><code>a = a + 1;</code></li> <li><code>a += 1;</code></li> <li><code>a++;</code></li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u6ce8\u91ca","title":"\u6ce8\u91ca","text":"<p>\u200b\u7528\u200b\u4e24\u4e2a\u200b\u659c\u6760\u200b<code>//</code>\u200b\u6765\u200b\u5c06\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u6ce8\u91ca\u200b\u6389\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u6574\u6570\u6ea2\u51fa","title":"\u6574\u6570\u200b\u6ea2\u51fa","text":"<p>\u200b\u50a8\u5b58\u200b\u6570\u636e\u200b\u7684\u200b\u5b57\u8282\u200b\u4e0d\u8db3\u4ee5\u200b\u5b58\u653e\u200b\u4e00\u4e2a\u200b\u5de8\u5927\u200b\u7684\u200b\u6570\u5b57\u200b\u65f6\u200b\uff0c\u200b\u8fd0\u7b97\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u9519\u200b\u3002</p> <p>\u200b\u5728\u200b<code>C</code>\u200b\u4e2d\u200b\u5b58\u5728\u200b\u6574\u6570\u200b\u6ea2\u51fa\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f46\u200b<code>Python</code>\u200b\u4e2d\u200b\u4e0d\u7528\u200b\u8003\u8651\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002<sup>1</sup></p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u5224\u65ad\u8bed\u53e5conditions","title":"\u5224\u65ad\u200b\u8bed\u53e5\u200b\uff08Conditions\uff09","text":"C<pre><code>if (x &lt; y)\n{\nprintf(\"x is less than y\\n\");\n}\n</code></pre> <ul> <li>\u200b\u5728\u200b\u53ea\u6709\u200b\u4e00\u884c\u200b\u6267\u884c\u200b\u8bed\u53e5\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5224\u65ad\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200b<code>{}</code>\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u52a0\u200b\uff0c\u200b\u4f46\u200b\u6700\u597d\u200b\u7684\u200b\u5b9e\u8df5\u200b\u65b9\u5f0f\u200b\u662f\u200b\uff1a\u200b\u4e0d\u8bba\u200b\u6267\u884c\u200b\u8bed\u53e5\u200b\u6709\u200b\u591a\u5c11\u200b\u884c\u200b\uff0c\u200b\u90fd\u200b\u52a0\u4e0a\u200b<code>{}</code>\u3002</li> <li><code>if</code>\u200b\u8fd9\u200b\u4e00\u884c\u200b\u7684\u200b\u6700\u540e\u200b\u4e0d\u7528\u200b\u52a0\u200b<code>;</code>\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u903b\u8f91\u6216","title":"\u903b\u8f91\u200b\u201c\u200b\u6216\u200b\u201d","text":"<ul> <li>\u200b\u7528\u200b<code>||</code>\u200b\u6765\u200b\u8868\u793a\u200b\u903b\u8f91\u200b\u201c\u200b\u6216\u200b\u201d\u3002</li> </ul> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(void)\n{\n// Prompt user to agree\nchar c = get_char(\"Do you agree? \");\n// Check whether agreed\nif (c == 'Y' || c == 'y')\n{\nprintf(\"Agreed.\\n\");\n}\nelse if (c == 'N' || c == 'n')\n{\nprintf(\"Not agreed.\\n\");\n}\n}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u5faa\u73afloops","title":"\u5faa\u73af\u200b\uff08Loops\uff09","text":"<ul> <li><code>while</code>\u200b\u5b9e\u73b0\u200b\u65e0\u9650\u200b\u6b21\u200b\u5faa\u73af\u200b\uff1a</li> </ul> C<pre><code>while (true)\n{\nprintf(\"meow\\n\");\n}\n</code></pre> <ul> <li><code>while</code>\u200b\u5b9e\u73b0\u200b\u6709\u9650\u200b\u6b21\u200b\u5faa\u73af\u200b\uff1a</li> </ul> C<pre><code>int counter = 0;\nwhile (counter &lt; 3)\n{\nprintf(\"meow\\n\");\ncounter = counter + 1;\n}\n</code></pre> <ul> <li><code>for</code>\u200b\u5b9e\u73b0\u200b\u6709\u9650\u200b\u6b21\u200b\u5faa\u73af\u200b\uff1a</li> </ul> C<pre><code>for (int i = 0; i &lt; 3; i++)\n{\nprintf(\"meow\\n\");\n}\n</code></pre> <p><code>for</code>\u200b\u5faa\u73af\u200b\u548c\u200b<code>while</code>\u200b\u5faa\u73af\u200b\u57fa\u672c\u4e0a\u200b\u90fd\u200b\u80fd\u200b\u5b9e\u73b0\u200b\u540c\u6837\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b\u7ec6\u5c0f\u200b\u7684\u200b\u533a\u522b\u200b\u662f\u200b\uff1a<code>for</code>\u200b\u4e2d\u200b\u7684\u200b<code>i</code>\u200b\u662f\u200b\u5728\u200b\u5faa\u73af\u200b\u5185\u200b\u7684\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4e00\u65e6\u200b\u8df3\u51fa\u200b\u5faa\u73af\u200b\uff0c<code>i</code>\u200b\u5c31\u200b\u4e0d\u200b\u5b58\u5728\u200b\u4e86\u200b\uff1b\u200b\u800c\u200b<code>while</code>\u200b\u5faa\u73af\u200b\u7684\u200b<code>counter</code>\u200b\u662f\u200b\u5728\u200b\u5faa\u73af\u200b\u5916\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b<code>while</code>\u200b\u8bed\u53e5\u200b\u6240\u5728\u200b\u884c\u200b\u7684\u200b\u524d\u9762\u200b\uff09\u200b\u5b9a\u4e49\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5728\u200b<code>while</code>\u200b\u5faa\u73af\u200b\u7ed3\u675f\u200b\u65f6\u200b\u4ecd\u7136\u200b\u5b58\u5728\u200b\u3002</p> <ul> <li><code>do while</code>\u200b\u5faa\u73af\u200b\uff1a</li> </ul> <p>\u200b\u5148\u200b\u6267\u884c\u200b\u8bed\u53e5\u200b\uff0c\u200b\u518d\u200b\u5224\u65ad\u200b\u6761\u4ef6\u200b\u662f\u5426\u200b\u6210\u7acb\u200b\u3002\u200b\u82e5\u200b\u6210\u7acb\u200b\uff0c\u200b\u5219\u200b\u7ee7\u7eed\u6267\u884c\u200b\u8bed\u53e5\u200b\uff1b\u200b\u82e5\u200b\u4e0d\u200b\u6210\u7acb\u200b\uff0c\u200b\u5219\u200b\u8df3\u51fa\u200b\u5faa\u73af\u200b\u3002</p> C<pre><code>do\n{\nn = get_int(\"Width: \");\n}\nwhile (n &lt; 1);\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50-Week-1-C/#\u81ea\u5b9a\u4e49\u51fd\u6570","title":"\u81ea\u5b9a\u4e49\u200b\u51fd\u6570","text":"<p>\u200b\u4e0b\u9762\u200b\u81ea\u5b9a\u4e49\u200b\u4e86\u200b\u51fd\u6570\u200b<code>meow</code>\uff0c\u200b\u53ef\u4ee5\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> C<pre><code>#include &lt;stdio.h&gt;\nvoid meow(void)\n{\nprintf(\"meow\\n\");\n}\nint main(void)\n{\nfor (int i = 0; i &lt; 3; i++)\n{\nmeow();\n}\n}\n</code></pre> <p><code>C</code>\u200b\u662f\u4ece\u200b\u4ee3\u7801\u200b\u7684\u200b\u4e0a\u7aef\u200b\u5230\u200b\u4e0b\u7aef\u200b\u7f16\u8bd1\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u628a\u200b<code>meow</code>\u200b\u51fd\u6570\u200b\u653e\u5230\u200b<code>main</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u4e0b\u9762\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nfor (int i = 0; i &lt; 3; i++)\n{\nmeow();\n}\n}\n//\u200b\u628a\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\u76f4\u63a5\u200b\u653e\u5230\u200bmain\u200b\u51fd\u6570\u200b\u7684\u200b\u4e0b\u9762\u200b\uff0c\u200b\u7f16\u8bd1\u200b\u65f6\u4f1a\u200b\u62a5\u9519\u200b\u3002\nvoid meow(void)\n{\nprintf(\"meow\\n\");\n}\n</code></pre> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u628a\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\u653e\u5230\u200b<code>main</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u540e\u9762\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>void meow(void);</code>\u200b\u63d0\u524d\u200b\u58f0\u660e\u200b\uff08Declare\uff09\u3002</p> C<pre><code>#include &lt;stdio.h&gt;\nvoid meow(void); //\u200b\u58f0\u660e\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u51fd\u6570\u200b\u3002\nint main(void)\n{\nfor (int i = 0; i &lt; 3; i++)\n{\nmeow();\n}\n}\nvoid meow(void)\n{\nprintf(\"meow\\n\");\n}\n</code></pre> <ol> <li> <p>\u200b\u5173\u4e8e\u200b Python \u200b\u6574\u6570\u200b\u6ea2\u51fa\u200b\u95ee\u9898\u200b\u7684\u200b\u8ba8\u8bba\u200b\u3002\u00a0\u21a9</p> </li> </ol>","tags":["Computer Science"]},{"location":"blog/bond-calculator/","title":"\u503a\u5238\u200b\u8ba1\u7b97\u5668","text":"<p>\u200b\u4e00\u4e2a\u200b\u503a\u5238\u200b\u8ba1\u7b97\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u5e38\u89c4\u200b\u503a\u5238\u200b\u7684\u200b\u4ef7\u683c\u200b\u3001\u200b\u4e45\u671f\u200b\u548c\u200b\u51f8\u6027\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u663e\u793a\u200b\uff0c\u200b\u8bf7\u200b\u8bbf\u95ee\u200b\u503a\u5238\u200b\u8ba1\u7b97\u5668\u200b\u3002</p> <p> </p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/CS50-Week-2-Array/","title":"CS50 Week 2 Array","text":"<p>\u200b\u7a0b\u5e8f\u200b\u662f\u200b\u5982\u4f55\u200b\u8fd0\u884c\u200b\u7684\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u7f16\u8bd1","title":"\u7f16\u8bd1","text":"<p>\u200b\u6211\u4eec\u200b\u628a\u200b<code>make hello.c</code>\u200b\u53eb\u505a\u200b\u7f16\u8bd1\u200b\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b<code>make</code>\u200b\u5305\u542b\u200b\u4e86\u200b\u4ee5\u4e0b\u200b\u56db\u4e2a\u200b\u6b65\u9aa4\u200b\uff1a</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u9884\u5904\u7406","title":"\u9884\u5904\u7406","text":"<p>Preprocessing \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5c31\u662f\u200b\u627e\u5230\u200b\u5934\u6587\u4ef6\u200b\uff0c\u200b\u518d\u200b\u66ff\u6362\u6210\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u9884\u5904\u7406\u200b\u524d\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(void)\n{\nstring name = get_string(\"What's your name? \");\nprintf(\"hello, %s\\n\", name);\n}\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u9884\u5904\u7406\u200b\u540e\u200b\uff0c\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u53d8\u6210\u200b\uff1a</p> C<pre><code>...\nstring get_string(string prompt);\n...\nint printf(string format, ...);\n...\nint main(void)\n{\nstring name = get_string(\"Name: \");\nprintf(\"hello, %s\\n\", name);\n}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u7f16\u8bd1_1","title":"\u7f16\u8bd1","text":"<p>Compiling \u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5c06\u200b\u9884\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u4ee3\u7801\u200b\u76f4\u63a5\u200b\u8f6c\u4e3a\u200b\u4e8c\u8fdb\u5236\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u800c\u662f\u200b\u4f1a\u200b\u8f6c\u4e3a\u200b\u6c47\u7f16\u8bed\u8a00\u200b\uff08Assembly language\uff09\u3002\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u91cc\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\u662f\u200b\u6700\u200b\u57fa\u7840\u200b\u3001\u200b\u6700\u5e95\u5c42\u200b\u7684\u200b\u6307\u4ee4\u200b\u3002</p> Text Only<pre><code>...\nmain:                         # @main\n    .cfi_startproc\n# BB#0:\n    pushq    %rbp\n.Ltmp0:\n    .cfi_def_cfa_offset 16\n.Ltmp1:\n    .cfi_offset %rbp, -16\n    movq    %rsp, %rbp\n.Ltmp2:\n    .cfi_def_cfa_register %rbp\n    subq    $16, %rsp\n    xorl    %eax, %eax\n    movl    %eax, %edi\n    movabsq    $.L.str, %rsi\n    movb    $0, %al\n    callq    get_string\n    movabsq    $.L.str.1, %rdi\n    movq    %rax, -8(%rbp)\n    movq    -8(%rbp), %rsi\n    movb    $0, %al\n    callq    printf\n    ...\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u6c47\u7f16","title":"\u6c47\u7f16","text":"<p>Assembling \u200b\u5c31\u662f\u200b\u5c06\u200b\u4e0a\u8ff0\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u8f6c\u4e3a\u200b\u673a\u5668\u8bed\u8a00\u200b\uff08\u200b\u7531\u200b 0 \u200b\u548c\u200b 1 \u200b\u7ec4\u6210\u200b\uff09\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u94fe\u63a5","title":"\u94fe\u63a5","text":"<p>Linking \u200b\u5c31\u662f\u200b\u628a\u200b<code>hello.c</code>\u200b\u7684\u200b\u673a\u5668\u8bed\u8a00\u200b\u548c\u200b\u5934\u6587\u4ef6\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b<code>cs50.c</code>\u200b\u548c\u200b<code>stdio.c</code>\uff09\u200b\u4e2d\u200b\u5f62\u6210\u200b\u7684\u200b\u673a\u5668\u8bed\u8a00\u200b\u94fe\u63a5\u200b\u8d77\u6765\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u6587\u4ef6\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u8f93\u51fa\u200b<code>a.out</code>\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u8c03\u8bd5debugging","title":"\u8c03\u8bd5\u200b\uff08Debugging\uff09","text":"<p>Bug \u200b\u5c31\u662f\u200b\u8ba9\u200b\u7a0b\u5e8f\u200b\u4e0d\u80fd\u200b\u6309\u7167\u200b\u9884\u671f\u200b\u8fd0\u884c\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p> <p>Debug \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li> <p>\u200b\u7528\u200b<code>printf</code>\u200b\u5c06\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\uff0c\u200b\u68c0\u67e5\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\u3002</p> </li> <li> <p>Debugger\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u65ad\u70b9\u200b\uff0c\u200b\u8ba9\u200b\u7a0b\u5e8f\u200b\u9010\u6b65\u200b\u8fd0\u884c\u200b\u3002</p> </li> <li> <p>\u200b\u5c0f\u9ec4\u200b\u9e2d\u200b\u8c03\u8bd5\u200b\u6cd5\u200b\u3002\u200b\u4e00\u4e2a\u200b\u53ef\u7231\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u662f\u200b\u7a0b\u5e8f\u5458\u200b\u81ea\u5df1\u200b\u5c06\u200b\u7a0b\u5e8f\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5730\u200b\u63cf\u8ff0\u200b\u51fa\u6765\u200b\uff0c\u200b\u6765\u200b\u627e\u5230\u200b\u53d1\u73b0\u200b\u95ee\u9898\u200b\u7684\u200b\u7075\u611f\u200b\u3002</p> </li> </ul> <p>Insights are often found by simply describing the problem aloud.</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u5185\u5b58","title":"\u5185\u5b58","text":"<p>RAM (Random-Access Memory)</p> <ul> <li><code>bool</code>\uff1a1 byte</li> </ul> <p>\u200b\u5b9e\u9645\u4e0a\u200b\uff0c<code>bool</code>\u200b\u53ef\u4ee5\u200b\u7528\u200b 1 \u200b\u4e2a\u200b\u6bd4\u7279\u200b\uff081 bit\uff09\u200b\u6765\u200b\u8868\u793a\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ea\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b 0 \u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b 1\u3002\u200b\u4f46\u200b\u4e3a\u4e86\u200b\u7b80\u4fbf\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ecd\u7136\u200b\u7528\u200b 1 byte\uff088 bits\uff09\u200b\u6765\u200b\u8868\u793a\u200b\u3002</p> <ul> <li><code>char</code>\uff1a1 byte</li> </ul> <p>ASCII \u200b\u4e00\u200b\u5171\u7528\u200b 256 \u200b\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\\(2^8=256\\)\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u7528\u200b 8 bits \u200b\u6765\u200b\u8868\u793a\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b 1 byte\u3002</p> <ul> <li> <p><code>float</code>\uff1a4 bytes\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b 32 \u200b\u4f4d\u200b\u4e8c\u8fdb\u5236\u200b\uff09</p> </li> <li> <p><code>double</code>\uff1a8 bytes</p> </li> <li> <p><code>int</code>\uff1a4 bytes</p> </li> <li> <p><code>long</code>\uff1a8 bytes</p> </li> <li> <p><code>string</code>, ? bytes\u3002\u200b\u53d6\u51b3\u4e8e\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u6570\u7ec4","title":"\u6570\u7ec4","text":"<p>\u200b\u6570\u7ec4\u200b\u53ef\u4ee5\u200b\u50a8\u5b58\u200b\u591a\u4e2a\u200b\u76f8\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u91cf\u200b\u3002</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(void)\n{\nint scores[3];\nscores[0] = 72;\nscores[1] = 73;\nscores[2] = 33;\nprintf(\"Average: %f\\n\", (scores[0] + scores[1] + scores[2]) / 3.0);\n}\n</code></pre> <ul> <li>\u200b\u6570\u7ec4\u200b\u7684\u200b\u4e0b\u6807\u200b\u4ece\u200b 0 \u200b\u5f00\u59cb\u200b\uff1a\u200b\u7b2c\u200b 1 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u4e0b\u6807\u200b\u662f\u200b 0\uff0c\u200b\u7b2c\u200b 2 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u4e0b\u6807\u200b\u662f\u200b 1\u3002</li> <li>\u200b\u6570\u7ec4\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u8282\u7ea6\u200b\u5185\u5b58\u200b\uff0c\u200b\u4f46\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u592a\u591a\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u5b57\u7b26","title":"\u5b57\u7b26","text":"<p>\u200b\u5982\u679c\u200b\u5c06\u200b\u5b57\u7b26\u200b\u4ee5\u200b<code>%i</code>\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5f97\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b ASCII \u200b\u503c\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nchar c1 = 'H';\nchar c2 = 'I';\nchar c3 = '!';\n// \u200b\u4ee5\u200b%i\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8f93\u51fa\u200b\u5b57\u7b26\u200b\u3002\nprintf(\"%i %i %i\\n\", c1, c2, c3);\n}\n</code></pre> <p>\u200b\u4f1a\u200b\u5f97\u5230\u200b\uff1a</p> Bash<pre><code>$ make hi\n$ ./hi\n72 73 33\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u5b57\u7b26\u4e32","title":"\u5b57\u7b26\u4e32","text":"<p>\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u672c\u8d28\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u3002</p> <ul> <li>\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff1a<code>\\0</code>\u3002</li> </ul> <p>\u200b\u6709\u4e9b\u200b\u5e93\u200b\u6587\u4ef6\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u7528\u200b\u81ea\u5df1\u200b\u91cd\u590d\u200b\u7f16\u5199\u200b\u76f8\u540c\u200b\u529f\u80fd\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e86\u200b\u3002</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\nint main(void)\n{\nstring name = get_string(\"Name: \");\nint length = strlen(name);\nprintf(\"%i\\n\", length);\n}\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u5230\u200b CS50 \u200b\u8bfe\u7a0b\u200b\u7684\u200b\u624b\u518c\u200b\u4e0a\u200b\u627e\u5230\u200b\u5e38\u7528\u200b\u7684\u200b\u5e93\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u547d\u4ee4\u884c","title":"\u547d\u4ee4\u884c","text":"","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u5141\u8bb8\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165main\u51fd\u6570\u7684\u53c2\u6570","title":"\u5141\u8bb8\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b<code>main</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570","text":"<p>\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b<code>main</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u5199\u6cd5\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u76f4\u63a5\u200b\u8f93\u5165\u200b\u4e3b\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u3002</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(int argc, string argv[])\n{\nif (argc == 2)\n{\nprintf(\"hello, %s\\n\", argv[1]);\n}\nelse\n{\nprintf(\"hello, world\\n\");\n}\n}\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>argc</code>\u200b\u662f\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u5355\u8bcd\u200b\u7684\u200b\u4e2a\u6570\u200b\uff0c<code>argv</code>\u200b\u662f\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u5355\u8bcd\u200b\u7684\u200b\u6570\u7ec4\u200b\uff08\u200b\u5b58\u653e\u200b\u4e86\u200b\u6240\u6709\u200b\u5355\u8bcd\u200b\uff09\u3002</p> Bash<pre><code>$ make argv\n\n//\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u5355\u8bcd\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6ca1\u6709\u200b\u8f93\u5165\u200b\u540d\u5b57\u200b\n$ ./argv\nhello, world\n\n//\u200b\u8f93\u5165\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u5355\u8bcd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5b58\u200b\u5230\u200bargv[1]\u200b\u4e2d\u200b\n$ ./argv David\nhello, David\n\n//\u200b\u8f93\u5165\u200b\u4e86\u200b\u4e09\u4e2a\u200b\u5355\u8bcd\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u4e0d\u80fd\u200b\u652f\u6301\u200b\u4e24\u4e2a\u200b\u5355\u8bcd\u200b\u7684\u200b\u540d\u5b57\u200b\n$ ./argv David Malan\nhello, world\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50-Week-2-Array/#\u9000\u51fa\u72b6\u6001exit-status","title":"\u9000\u51fa\u200b\u72b6\u6001\u200b\uff08Exit Status\uff09","text":"<p><code>main</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u8fd4\u56de\u503c\u200b\u662f\u200b<code>0</code>\uff0c\u200b\u4ee3\u8868\u200b\u4e00\u5207\u6b63\u5e38\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u8f93\u51fa\u200b\u5176\u4ed6\u200b\u7684\u200b\u63a8\u51fa\u200b\u72b6\u6001\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u5b9a\u200b<code>main</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u3002</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(int argc, string argv[])\n{\nif (argc != 2)\n{\nprintf(\"missing command-line argument\\n\");\nreturn 1;\n}\nprintf(\"hello, %s\\n\", argv[1]);\nreturn 0;\n}\n</code></pre> <p>\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u4e3a\u4ec0\u4e48\u200b\uff0c\u200b\u5f88\u591a\u200b\u7a0b\u5e8f\u200b\u5f02\u5e38\u200b\u62a5\u9519\u200b\u65f6\u4f1a\u200b\u51fa\u73b0\u200b<code>\u200b\u9519\u8bef\u4ee3\u7801\u200b\uff1aXXX</code>\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/","title":"CS50 Week 3 Algorithms","text":"<p>\u200b\u7b97\u6cd5\u200b\u57fa\u7840\u77e5\u8bc6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u641c\u7d22","title":"\u641c\u7d22","text":"<p>\u200b\u8ba1\u7b97\u673a\u200b\u6ca1\u200b\u529e\u6cd5\u200b\u4e00\u773c\u200b\u770b\u5230\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7136\u540e\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\u54ea\u4e2a\u200b\u5143\u7d20\u200b\u5728\u200b\u54ea\u4e2a\u200b\u4f4d\u7f6e\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u641c\u7d22\u200b\u95ee\u9898\u200b\uff1a\u200b\u8f93\u5165\u200b\u4e00\u4e9b\u200b\u503c\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u503c\u200b\uff0c\u200b\u6765\u200b\u8868\u793a\u200b\"\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u503c\u200b\u662f\u5426\u200b\u5728\u200b\u8fd9\u4e9b\u200b\u8f93\u5165\u200b\u7684\u200b\u503c\u200b\u5f53\u4e2d\u200b\"\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#big-o","title":"Big \\(O\\)","text":"<ul> <li>\u200b\u4e0d\u540c\u200b\u7b97\u6cd5\u200b\u7684\u200b\u6548\u7387\u200b\u4e0d\u540c\u200b\u3002</li> <li>\\(O\\)\u200b\u4ee3\u8868\u200b\"On the order of\"\uff0c\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u7b97\u6cd5\u200b\u6700\u200b\u591a\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5728\u200b\u6700\u574f\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff09\u200b\u8981\u200b\u6267\u884c\u200b\u591a\u5c11\u200b\u6b65\u200b\u3002</li> <li>\\(\\Omega\\)\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u7b97\u6cd5\u200b\u6700\u5c11\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5728\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff09\u200b\u8981\u200b\u6267\u884c\u200b\u591a\u5c11\u200b\u6b65\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u7b97\u6cd5\u200b\u6267\u884c\u200b\u65f6\u95f4\u200b\u7684\u200b\u4e0a\u9650\u200b\u548c\u200b\u4e0b\u9650\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\\(\\Theta\\)\u200b\u6765\u200b\u8868\u793a\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u7ebf\u6027\u641c\u7d22\u548c\u4e8c\u5206\u641c\u7d22","title":"\u7ebf\u6027\u200b\u641c\u7d22\u200b\u548c\u200b\u4e8c\u5206\u200b\u641c\u7d22","text":"<ul> <li> <p>\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u5730\u200b\u67e5\u770b\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5224\u65ad\u200b\u8fd9\u4e2a\u200b\u503c\u200b\u662f\u5426\u200b\u4e3a\u200b\u6211\u4eec\u200b\u60f3\u200b\u627e\u200b\u7684\u200b\u3002\u200b\u5982\u679c\u200b\u662f\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\"\u200b\u627e\u5230\u200b\u4e86\u200b\"\uff1b\u200b\u5982\u679c\u200b\u4e0d\u662f\u200b\uff0c\u200b\u5219\u200b\u7ee7\u7eed\u200b\u67e5\u627e\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u3002\u200b\u76f4\u5230\u200b\u67e5\u770b\u200b\u4e86\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u82e5\u200b\u4ecd\u7136\u200b\u6ca1\u6709\u200b\u627e\u5230\u200b\u60f3\u8981\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\"\u200b\u6ca1\u200b\u627e\u5230\u200b\"\u3002</p> </li> <li> <p>\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\uff1a</p> <ul> <li>\\(O(n)\\)\uff1a\u200b\u6700\u200b\u591a\u200b\u9700\u8981\u200b\u641c\u7d22\u200b\\(n\\)\u200b\u6b21\u200b\u3002</li> <li>\\(\\Omega(1)\\)\uff1a\u200b\u6700\u5c11\u200b\u53ea\u200b\u9700\u8981\u200b\u641c\u7d22\u200b\\(1\\)\u200b\u6b21\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u8981\u200b\u5b9e\u73b0\u200b\u4e8c\u5206\u200b\u641c\u7d22\u200b\uff0c\u200b\u9700\u8981\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u662f\u200b\u6309\u200b\u5927\u5c0f\u200b\u6392\u5e8f\u200b\u7684\u200b\u3002</p> </li> <li> <p>\u200b\u4e8c\u5206\u200b\u641c\u7d22\u200b\uff1a</p> <ul> <li>\\(O(\\log n)\\)</li> <li>\\(\\Omega(1)\\)</li> </ul> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u4f7f\u7528c\u8fdb\u884c\u7ebf\u6027\u641c\u7d22","title":"\u4f7f\u7528\u200b<code>C</code>\u200b\u8fdb\u884c\u200b\u7ebf\u6027\u200b\u641c\u7d22","text":"<p>\u200b\u641c\u7d22\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\nint main(void)\n{\nstring names[] = {\"Bill\", \"Charlie\", \"Fred\", \"George\", \"Ginny\", \"Percy\", \"Ron\"};\nfor (int i = 0; i &lt; 7; i++)\n{\nif (names[i] == \"Ron\")\n{\nprintf(\"Found\\n\");\nreturn 0;\n}\n}\nprintf(\"Not found\\n\");\nreturn 1;\n}\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> Bash<pre><code>$ make names\nnames.c:11:22: error: result of comparison against a string literal is unspecified (use an explicit string comparison function instead) [-Werror,-Wstring-compare]\nif (names[i] == \"Ron\")\n^  ~~~~~\n1 error generated.\nmake: *** [&lt;builtin&gt;: names] Error 1\n</code></pre> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b<code>C</code>\u200b\u4e0d\u80fd\u200b\u7528\u200b<code>==</code>\u200b\u6765\u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\u3002</p> <p>\u200b\u6b63\u786e\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7528\u200b<code>string.h</code>\u200b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b\uff1a</p> <ul> <li><code>if (strcmp(names[i], \"Ron\") == 0)</code><ul> <li>`<code>strcmp(names[i], \"Ron\")</code>\u200b\u5982\u679c\u200b\u662f\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\u3002</li> <li>\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b<code>strcmp</code>\u200b\u7684\u200b\u624b\u518c\u200b\u8bf4\u660e\u200b</li> <li></li> </ul> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u6570\u636e\u7ed3\u6784","title":"\u6570\u636e\u7ed3\u6784","text":"<p>\u200b\u4e00\u4e2a\u200b\u89c4\u8303\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u7ba1\u7406\u200b\u6570\u636e\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u7ec7\u200b\u65b9\u5f0f\u200b\u662f\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\u7684\u200b\u3002</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n//\u200b\u5b9a\u4e49\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002\ntypedef struct\n{\nstring name;\nstring number;\n}\nperson;\nint main(void)\n{\nperson people[2];\npeople[0].name = \"Carter\";\npeople[0].number = \"+1-617-495-1000\";\npeople[1].name = \"David\";\npeople[1].number = \"+1-949-468-2750\";\nfor (int i = 0; i &lt; 2; i++)\n{\nif (strcmp(people[i].name, \"David\") == 0)\n{\nprintf(\"Found %s\\n\", people[i].number);\nreturn 0;\n}\n}\nprintf(\"Not found\\n\");\nreturn 1;\n}\n</code></pre> <p><code>C</code>\u200b\u4e0d\u662f\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u3002\u200b\u4e0a\u9762\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u53ea\u80fd\u200b\u5b9a\u4e49\u6570\u636e\u200b\u7684\u200b\u7ec4\u7ec7\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u80fd\u200b\u5305\u542b\u200b\u51fd\u6570\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u6392\u5e8f","title":"\u6392\u5e8f","text":"","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u9009\u62e9\u6392\u5e8f","title":"\u9009\u62e9\u200b\u6392\u5e8f","text":"<ul> <li> <p>\u200b\u601d\u8def\u200b\uff1a</p> <ul> <li>\u200b\u627e\u5230\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u628a\u200b\u5b83\u200b\u548c\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u200b 1 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u4ea4\u6362\u200b\u4f4d\u7f6e\u200b\u3002</li> <li>\u200b\u627e\u5230\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7b2c\u200b 2 \u200b\u5c0f\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u628a\u200b\u5b83\u200b\u548c\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u200b 2 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u4ea4\u6362\u200b\u4f4d\u7f6e\u200b\u3002</li> <li>\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002\u200b\u6bcf\u200b\u5b8c\u6210\u200b\u4e00\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b Problem size \u200b\u90fd\u200b\u51cf\u5c0f\u200b\u4e86\u200b 1\u3002</li> </ul> </li> <li> <p>\u200b\u6700\u574f\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a</p> <ul> <li>\u200b\u6bcf\u200b\u4e00\u8f6e\u200b\u8981\u200b\u627e\u200b\u7684\u200b\u6700\u5c0f\u200b\u7684\u200b\u6570\u5b57\u200b\u90fd\u200b\u5728\u200b\u6570\u7ec4\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u627e\u200b\u7b2c\u200b 1 \u200b\u8f6e\u200b\u9700\u8981\u200b\\(n\\)\u200b\u6b21\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u627e\u200b\u7b2c\u200b 2 \u200b\u8f6e\u200b\u9700\u8981\u200b\\(n-1\\)\u200b\u6b21\u200b\u8fd0\u7b97\u200b\uff08\u200b\u56e0\u4e3a\u200b Problem size \u200b\u51cf\u5c0f\u200b\u5230\u200b\\(n-1\\)\u200b\u4e86\u200b\uff09\uff0c\u200b\u627e\u200b\u7b2c\u200b\\(n-1\\)\u200b\u8f6e\u200b\u9700\u8981\u200b\\(2\\)\u200b\u6b21\u200b\u8fd0\u7b97\u200b\u3002</li> <li> \\[     \\begin{aligned}     &amp;n+\\left( n-1\\right) +\\left( n-2\\right) +\\dots +1 \\\\\\     &amp;=\\frac{n\\left( n+1\\right) }{2} \\\\\\     &amp;=\\frac{n^2}{2}+\\frac{n}{2}     \\end{aligned}     \\] </li> <li>\u200b\u6309\u9636\u6570\u200b\u6765\u770b\u200b\uff0c\u200b\u4f4e\u9636\u200b\u7684\u200b\\(\\frac{n}{2}\\)\u200b\u53ef\u4ee5\u200b\u5ffd\u7565\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5f53\u200b\\(n\\)\u200b\u5f88\u5927\u200b\u65f6\u200b\uff0c\u200b\u4f4e\u9636\u200b\u9879\u200b\u5df2\u7ecf\u200b\u4e0d\u8d77\u200b\u4e3b\u5bfc\u4f5c\u7528\u200b\u4e86\u200b\u3002</li> <li>\u200b\u4e3a\u4e86\u200b\u8868\u793a\u200b\u8d77\u6765\u200b\u7b80\u4fbf\u200b\uff0c\u200b\u867d\u7136\u200b\u9ad8\u9636\u200b\u9879\u200b\u7684\u200b\u7cfb\u6570\u200b\u662f\u200b\\(1\\over 2\\)\uff0c\u200b\u4f46\u200b\u6211\u4eec\u200b\u4ecd\u7136\u200b\u628a\u200b\u590d\u6742\u5ea6\u200b\u8bb0\u200b\u4f5c\u200b\\(O(n^2)\\)\u3002</li> </ul> </li> <li> <p>\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a</p> <ul> <li>\u200b\u867d\u7136\u200b\u539f\u59cb\u200b\u7684\u200b\u6570\u7ec4\u200b\u5df2\u7ecf\u200b\u662f\u200b\u6392\u5e8f\u200b\u8fc7\u200b\u7684\u200b\u4e86\u200b\u3002</li> <li>\u200b\u4f46\u200b\u9009\u62e9\u200b\u7b97\u6cd5\u200b\u4ecd\u7136\u200b\u4f1a\u200b\u4e0d\u505c\u200b\u5730\u200b\u5bf9\u6bd4\u200b\uff0c\u200b\u624d\u80fd\u200b\u627e\u5230\u200b\u6700\u5c0f\u200b\u7684\u200b\u90a3\u4e2a\u200b\u6570\u200b\u3002</li> <li>\u200b\u6bd4\u5982\u200b\u6570\u7ec4\u200b[1, 2, 3, 4, 5]\uff0c\u200b\u867d\u7136\u200b\u6700\u5c0f\u200b\u7684\u200b\u6570\u200b 1 \u200b\u5df2\u7ecf\u200b\u5728\u200b\u6700\u200b\u524d\u9762\u200b\u4e86\u200b\uff0c\u200b\u4f46\u200b\u8ba1\u7b97\u673a\u200b\u4e0d\u200b\u786e\u5b9a\u200b 1 \u200b\u540e\u9762\u200b\u662f\u5426\u200b\u8fd8\u6709\u200b\u6bd4\u200b 1 \u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4ecd\u7136\u200b\u4f1a\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u5730\u200b\u641c\u7d22\u200b\u3002</li> <li>\u200b\u603b\u200b\u641c\u7d22\u200b\u6b21\u6570\u200b\u662f\u200b\\(\\frac{n^2}{2}+\\frac{n}{2}\\)\uff0c\u200b\u6240\u4ee5\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\u590d\u6742\u5ea6\u200b\u4ecd\u7136\u200b\u662f\u200b\\(O(n^2)\\)\u3002</li> </ul> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u5192\u6ce1\u6392\u5e8f","title":"\u5192\u6ce1\u6392\u5e8f","text":"<ul> <li> <p>\u200b\u601d\u8def\u200b\uff1a</p> <ul> <li>\u200b\u6bcf\u6b21\u200b\u53ea\u200b\u5bf9\u6bd4\u200b\u76f8\u90bb\u200b\u7684\u200b\u4e24\u4e2a\u200b\u6570\u5b57\u200b\uff0c\u200b\u628a\u200b\u5b83\u4eec\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u6700\u574f\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a</p> <ul> <li>\u200b\u7b2c\u200b 1 \u200b\u6b65\u4e2d\u200b\uff0c\u200b\u4ece\u5de6\u5230\u53f3\u200b\u5168\u90e8\u200b\u626b\u63cf\u200b\u4e00\u904d\u200b\uff0c\u200b\u9700\u8981\u200b\u5bf9\u6bd4\u200b\\((n-1) \u200b\u6b21\u200b\\)\u3002</li> <li>\u200b\u6bcf\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u7b2c\u200b 1 \u200b\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e00\u4e2a\u200b\u6bd4\u8f83\u200b\u5927\u200b\u7684\u200b\u6570\u5b57\u200b\u79fb\u5230\u200b\u6700\u200b\u53f3\u8fb9\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff1a\u200b\u8fdb\u884c\u200b 1 \u200b\u6b21\u200b\u7b2c\u4e00\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b\u6700\u5927\u200b\u7684\u200b\u6570\u5b57\u200b\u4e00\u5b9a\u200b\u5728\u200b\u6700\u200b\u53f3\u8fb9\u200b\uff1b\u200b\u8fdb\u884c\u200b 2 \u200b\u6b21\u200b\u7b2c\u4e00\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b\u524d\u200b 2 \u200b\u5927\u200b\u7684\u200b\u6570\u5b57\u200b\u4e00\u5b9a\u200b\u5728\u200b\u6700\u200b\u53f3\u8fb9\u200b\uff1b\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002</li> <li>\u200b\u6700\u591a\u8981\u200b\u8fdb\u884c\u200b\\((n-1)\\)\u200b\u6b21\u7b2c\u200b 1 \u200b\u6b65\u200b\uff0c\u200b\u5c31\u200b\u80fd\u200b\u4fdd\u8bc1\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u5b57\u200b\u90fd\u200b\u662f\u200b\u6b63\u786e\u200b\u6392\u5e8f\u200b\u7684\u200b\u3002</li> <li>\u200b\u4e0b\u9762\u200b\u662f\u200b\u7c97\u7565\u200b\u7684\u200b\u8ba1\u7b97\u200b\uff1a</li> <li> \\[     \\begin{aligned}     &amp;(n-1)(n-1)\\\\\\     &amp;=n^2-2n+1     \\end{aligned}     \\] </li> <li>\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u8bb0\u200b\u4e3a\u200b\\(O(n^2)\\)\u3002</li> </ul> </li> <li> <p>\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a</p> <ul> <li>\u200b\u9996\u5148\u200b\uff0c\u200b\u5bf9\u200b\u4e0a\u8ff0\u200b\u6b65\u9aa4\u200b\u8fdb\u884c\u200b\u6539\u8fdb\u200b\uff1a\u200b\u52a0\u4e0a\u200b\u6700\u540e\u200b\u4e24\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u53d1\u751f\u200b\u4ea4\u6362\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5df2\u7ecf\u200b\u662f\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u4e86\u200b\uff0c\u200b\u5373\u53ef\u200b\u7ed3\u675f\u200b\u7a0b\u5e8f\u200b\u3002</li> </ul> Text Only<pre><code>  Repeat n-1 times\n      For i from 0 to n\u20132\n          If numbers[i] and numbers[i+1] out of order\n              Swap them\n      If no swaps\n          Quit\n</code></pre> <ul> <li>\u200b\u6539\u8fdb\u200b\u540e\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u5df2\u7ecf\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u6570\u7ec4\u200b\uff0c\u200b\u5192\u6ce1\u6392\u5e8f\u200b\u53ea\u200b\u9700\u8981\u200b\u6bd4\u8f83\u200b\\((n-1)\\)\u200b\u6b21\u200b\uff0c\u200b\u53d1\u73b0\u200b\u6ca1\u6709\u200b\u9700\u8981\u200b\u4ea4\u6362\u200b\u7684\u200b\uff0c\u200b\u5c31\u200b\u7ed3\u675f\u200b\u7a0b\u5e8f\u200b\u4e86\u200b\u3002\u200b\u56e0\u6b64\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\u53ef\u4ee5\u200b\u505a\u5230\u200b\\(\\Omega(n)\\)\u3002</li> </ul> </li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u9012\u5f52","title":"\u9012\u5f52","text":"<ul> <li>\u200b\u5728\u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\u7ee7\u7eed\u200b\u8c03\u7528\u51fd\u6570\u200b\u672c\u8eab\u200b\u3002</li> <li>\u200b\u5728\u200b\u5199\u200b\u9012\u5f52\u51fd\u6570\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8981\u200b\u6ce8\u610f\u200b\u5b9a\u4e49\u200b\u6e05\u695a\u200b Basic case\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u9012\u5f52\u200b\u4e0b\u53bb\u200b\uff0c\u200b\u6ca1\u6709\u200b\u7ec8\u70b9\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50-Week-3-Algorithms/#\u5408\u5e76\u6392\u5e8f","title":"\u5408\u5e76\u200b\u6392\u5e8f","text":"<ul> <li>\u200b\u601d\u60f3\u200b\uff1a<ul> <li>\u200b\u8981\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u4e3a\u200b 1 \u200b\u7684\u200b\u6570\u7ec4\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5206\u6210\u200b 3 \u200b\u6b65\u200b\uff1a<ul> <li>\u200b\u5148\u5bf9\u200b\u5de6\u200b\u534a\u8fb9\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff1b</li> <li>\u200b\u518d\u200b\u5bf9\u200b\u53f3\u200b\u534a\u8fb9\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff1b</li> <li>\u200b\u6700\u540e\u200b\u5c06\u200b\u5de6\u200b\u534a\u8fb9\u200b\u548c\u200b\u53f3\u200b\u534a\u8fb9\u200b\u7684\u200b\u6392\u5e8f\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\u3002\u200b\u5408\u5e76\u200b\u7684\u200b\u5177\u4f53\u200b\u8fc7\u7a0b\u200b\u662f\u200b\uff1a\u200b\u6bd4\u8f83\u200b\u5de6\u200b\u534a\u8fb9\u200b\u7684\u200b\u7b2c\u200b 1 \u200b\u4e2a\u200b\u548c\u200b\u53f3\u200b\u534a\u8fb9\u200b\u7684\u200b\u7b2c\u200b 1 \u200b\u4e2a\u200b\uff0c\u200b\u628a\u200b\u6700\u5c0f\u200b\u7684\u200b\u90a3\u4e2a\u200b\u63d0\u53d6\u200b\u51fa\u6765\u200b\u3002\u200b\u4e0d\u65ad\u200b\u7ee7\u7eed\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u5373\u53ef\u200b\u3002</li> </ul> </li> <li>\u200b\u8981\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 1 \u200b\u7684\u200b\u6570\u7ec4\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5219\u200b\u8fd9\u4e2a\u200b\u6570\u7ec4\u200b\u672c\u8eab\u200b\u5c31\u662f\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u3002</li> </ul> </li> <li>\u200b\u6700\u574f\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a<ul> <li>\u200b\u628a\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u4e0d\u65ad\u200b\u5730\u200b\u5206\u6210\u200b\u4e24\u534a\u200b\uff0c\u200b\u6700\u200b\u591a\u200b\u4e00\u5171\u200b\u8981\u5206\u200b\\(\\log n\\)\u200b\u6b21\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u6700\u591a\u8981\u200b\u8fdb\u884c\u200b\\(\\log n\\)\u200b\u5c42\u200b\"\u200b\u5408\u5e76\u200b\"\u3002</li> <li>\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u5408\u5e76\u200b\u90fd\u200b\u9700\u8981\u200b\u6bd4\u8f83\u200b\\(n\\)\u200b\u6b21\u200b\u3002</li> <li>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6700\u200b\u591a\u200b\u4e00\u5171\u200b\u9700\u8981\u200b\\(n\\log n\\)\u200b\u6b21\u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5373\u200b\\(O(n \\log n)\\)\u3002</li> </ul> </li> <li>\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a<ul> <li>\u200b\u4ecd\u7136\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\\(n\\log n\\)\u200b\u6b21\u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5373\u200b\\(\\Omega(n \\log n)\\)\u3002</li> </ul> </li> <li>\u200b\u6ce8\u610f\u200b\uff1a<ul> <li>\u200b\u5408\u5e76\u200b\u6392\u5e8f\u200b\u6cd5\u5728\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u4e0a\u200b\u5360\u4f18\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\uff0c\u200b\u7528\u4e8e\u200b\u50a8\u5b58\u200b\u4e34\u65f6\u200b\u5408\u5e76\u200b\u597d\u200b\u7684\u200b\u6570\u7ec4\u200b\u3002</li> <li>\u200b\u641c\u7d22\u200b\u6392\u5e8f\u200b\u548c\u200b\u5192\u6ce1\u6392\u5e8f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u539f\u59cb\u200b\u7684\u200b\u6570\u7ec4\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u5143\u7d20\u200b\u4ea4\u6362\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u3002</li> </ul> </li> </ul>","tags":["Computer Science"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/","title":"Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u6587\u4ef6\u200b\u64cd\u4f5c","text":"<p>\u200b\u5728\u200b Linux \u200b\u4e2d\u200b\u5e38\u7528\u200b\u7684\u200b\u64cd\u4f5c\u200b\u6587\u4ef6\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002</p> <p>Linux \u200b\u548c\u200b Mac OS \u200b\u81ea\u5e26\u200b\u7684\u200b Bash \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Linux \u200b\u547d\u4ee4\u200b\u3002Windows \u200b\u7cfb\u7edf\u200b\u81ea\u5e26\u200b\u7684\u200b Command Prompt\uff08\u200b\u547d\u4ee4\u63d0\u793a\u7b26\u200b\uff09\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\uff0c\u200b\u5f88\u591a\u200b Linux \u200b\u547d\u4ee4\u200b\u5728\u200b\u547d\u4ee4\u63d0\u793a\u7b26\u200b\u4e2d\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5b83\u4eec\u200b\u6709\u200b\u4e00\u4e9b\u200b\u7b49\u4ef7\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u3002</p> <p></p> <p>Windows \u200b\u7684\u200b Powershell \u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u4e9b\u200b Linux \u200b\u547d\u4ee4\u200b\u3002</p>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u547d\u4ee4\u884c\u57fa\u7840","title":"\u547d\u4ee4\u884c\u200b\u57fa\u7840","text":"<ul> <li>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\uff0c\u200b\u6587\u4ef6\u5939\u200b\u53eb\u505a\u200b Directory\u3002</li> <li>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u5f00\u5934\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7f8e\u5143\u200b\u7b26\u53f7\u200b<code>$</code>\uff0c\u200b\u8fd9\u662f\u200b Shell Prompt\uff0c\u200b\u5373\u200b\u547d\u4ee4\u63d0\u793a\u7b26\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#ls\u5217\u793a\u6587\u4ef6\u548c\u6587\u4ef6\u5939","title":"<code>ls</code>\uff1a\u200b\u5217\u793a\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939","text":"<ul> <li><code>ls</code>\uff1a\u200b\u5217\u51fa\u200b\u76ee\u524d\u200b\u6240\u5728\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u5305\u542b\u200b\u7684\u200b\u5b50\u200b\u6587\u4ef6\u5939\u200b\u548c\u200b\u6587\u4ef6\u200b\u7684\u200b\u540d\u79f0\u200b\u3002</li> <li><code>ls -a</code>\uff1aa \u200b\u4ee3\u8868\u200b all\u3002\u200b\u5217\u51fa\u200b\u6240\u6709\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5305\u62ec\u200b\u90a3\u4e9b\u200b\u9690\u85cf\u200b\u7684\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u3002\u200b\u9690\u85cf\u200b\u7684\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u901a\u5e38\u200b\u662f\u200b\u4ee5\u200b<code>.</code>\u200b\u5f00\u5934\u200b\uff0c\u200b\u6bd4\u5982\u200b<code>.git</code>\u3002</li> <li><code>ls -l</code>\uff1al \u200b\u4ee3\u8868\u200b long\uff0c\u200b\u610f\u5473\u7740\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\u3002\u200b\u5217\u51fa\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\uff08\u200b\u4e0d\u200b\u5305\u542b\u200b\u9690\u85cf\u200b\u7684\u200b\uff09\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u663e\u793a\u200b\u4fee\u6539\u200b\u65f6\u95f4\u200b\u548c\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\u3002</li> <li><code>ls -t</code>\uff1at \u200b\u4ee3\u8868\u200b time\u3002\u200b\u6309\u7167\u200b\u4fee\u6539\u200b\u65f6\u95f4\u200b\u5012\u5e8f\u200b\u6765\u200b\u5c55\u793a\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u3002</li> <li><code>ls -alt</code>\uff1a\u200b\u540c\u65f6\u200b\u5b9e\u73b0\u200b\u4e0a\u8ff0\u200b\u4e09\u4e2a\u200b\u547d\u4ee4\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#pwd\u6253\u5370\u5f53\u524d\u5de5\u4f5c\u8def\u5f84","title":"<code>pwd</code>\uff1a\u200b\u6253\u5370\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u8def\u5f84","text":"<ul> <li><code>pwd</code>\uff1aPrint Working Directory\uff0c\u200b\u6253\u5370\u200b\u5f53\u524d\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8def\u5f84\u200b\u3002\u200b\u6ce8\u610f\u200b<code>pwd</code>\u200b\u5e76\u200b\u4e0d\u662f\u200b Password \u200b\u7684\u200b\u610f\u601d\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#cd\u6539\u53d8\u5de5\u4f5c\u8def\u5f84","title":"<code>cd</code>\uff1a\u200b\u6539\u53d8\u200b\u5de5\u4f5c\u200b\u8def\u5f84","text":"<ul> <li><code>cd</code>\uff1aChange Directory\uff0c\u200b\u6539\u53d8\u200b\u5f53\u524d\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8def\u5f84\u200b\u3002\u200b\u540e\u9762\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u79fb\u52a8\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u4ee3\u8868\u200b\u7684\u200b\u8def\u5f84\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</li> <li><code>cd folder_a</code>\u200b\u4f1a\u200b\u8fdb\u5165\u200b\u5230\u5b50\u200b\u6587\u4ef6\u5939\u200b<code>folder_a</code>\u200b\u4e2d\u200b\u3002</li> <li><code>cd ..</code>\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#mkdir\u65b0\u5efa\u6587\u4ef6\u5939","title":"<code>mkdir</code>\uff1a\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u5939","text":"<ul> <li><code>mkdir</code>\uff1aMake Directory\uff0c\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u5939\u200b\u3002</li> <li><code>mkdir folder_b</code>\u200b\u4f1a\u200b\u5728\u200b\u5f53\u524d\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b<code>folder_b</code>\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u5728\u200b<code>folder_b</code>\u200b\u4e2d\u200b\u7ee7\u7eed\u200b\u65b0\u5efa\u200b\u5b50\u200b\u6587\u4ef6\u5939\u200b<code>folder_c</code>\uff1a<ul> <li>\u200b\u4e00\u4e2a\u200b\u7b28\u62d9\u200b\u7684\u200b\u529e\u6cd5\u200b\u662f\u200b\u5148\u200b<code>cd</code>\u200b\u8fdb\u5165\u200b<code>folder_b</code>\uff0c\u200b\u518d\u200b<code>mkdir folder_c</code>\u3002</li> <li>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u200b<code>cd mkdir folder_b/folder_c</code>\u3002\u200b\u6ce8\u610f\u200b\uff1a\u200b\u662f\u200b\u7528\u200b\u659c\u6760\u200b<code>/</code>\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u53cd\u200b\u659c\u6760\u200b<code>\\</code>\u3002\u200b\u5982\u679c\u200b\u7528\u200b\u53cd\u200b\u659c\u6760\u200b\uff0c\u200b\u5373\u200b<code>cd mkdir folder_b\\folder_c</code>\uff0c\u200b\u5219\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b<code>folder_bfolder_c</code>\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u548c\u200b<code>folder_b</code>\u200b\u662f\u200b\u5e76\u5217\u200b\u7684\u200b\u3002</li> </ul> </li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#chmod\u4fee\u6539\u6743\u9650","title":"<code>chmod</code>\uff1a\u200b\u4fee\u6539\u200b\u6743\u9650","text":"<ul> <li> <p><code>r</code>\uff1aread\uff0c\u200b\u4e8c\u8fdb\u5236\u200b\u4e3a\u200b<code>100</code>\uff0c\u200b\u5373\u200b\u5341\u8fdb\u5236\u200b\u7684\u200b 4\u3002</p> </li> <li> <p><code>w</code>\uff1awrite\uff0c\u200b\u4e8c\u8fdb\u5236\u200b\u4e3a\u200b<code>010</code>\uff0c\u200b\u5373\u200b\u5341\u8fdb\u5236\u200b\u7684\u200b 2\u3002</p> </li> <li> <p><code>x</code>\uff1aexecute\uff0c\u200b\u4e8c\u8fdb\u5236\u200b\u4e3a\u200b<code>001</code>\uff0c\u200b\u5373\u200b\u5341\u8fdb\u5236\u200b\u7684\u200b 1\u3002</p> </li> </ul> Bash<pre><code>chmod 775 file\n</code></pre> <p>\u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\u4e3a\u200b\uff1a</p> <ul> <li>\u200b\u62e5\u6709\u8005\u200b\u53ef\u200b\u8bfb\u200b\u3001\u200b\u5199\u200b\u3001\u200b\u6267\u884c\u200b\uff1b</li> <li>\u200b\u7ec4\u200b\u7528\u6237\u200b\u53ef\u200b\u8bfb\u200b\u3001\u200b\u5199\u200b\u3001\u200b\u6267\u884c\u200b\uff1b</li> <li>\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u53ef\u200b\u8bfb\u200b\u3001\u200b\u6267\u884c\u200b\u3002</li> </ul> <p>\u200b\u5373\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\u53d8\u6210\u200b<code>-rwxrwxr-x</code>\u3002</p> Bash<pre><code>chmod -R 775 file_folder\n</code></pre> <p>\u200b\u6ce8\u610f\u200b<code>-R</code>\u200b\u662f\u200b\u5927\u5199\u200b\uff01</p> <p>\u200b\u4fee\u6539\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\u4e3a\u200b\uff1a</p> <ul> <li>\u200b\u62e5\u6709\u8005\u200b\u53ef\u200b\u8bfb\u200b\u3001\u200b\u5199\u200b\u3001\u200b\u6267\u884c\u200b\uff1b</li> <li>\u200b\u7ec4\u200b\u7528\u6237\u200b\u53ef\u200b\u8bfb\u200b\u3001\u200b\u5199\u200b\u3001\u200b\u6267\u884c\u200b\uff1b</li> <li>\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u53ef\u200b\u8bfb\u200b\u3001\u200b\u6267\u884c\u200b\u3002</li> </ul> <p>\u200b\u5373\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u6743\u9650\u200b\u90fd\u200b\u53d8\u6210\u200b<code>-rwxrwxr-x</code>\u3002</p>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#touch\u65b0\u5efa\u6587\u4ef6","title":"<code>touch</code>\uff1a\u200b\u65b0\u5efa\u200b\u6587\u4ef6","text":"<ul> <li><code>touch</code>\uff1a\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u200b\u3002\u200b\u540e\u9762\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u4f5c\u4e3a\u200b\u6587\u4ef6\u540d\u200b\u3002\u200b\u5982\u200b<code>touch example.txt</code>\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#clear\u6e05\u7a7a\u5386\u53f2\u547d\u4ee4","title":"<code>clear</code>\uff1a\u200b\u6e05\u7a7a\u200b\u5386\u53f2\u200b\u547d\u4ee4","text":"<ul> <li><code>clear</code>\uff1a\u200b\u6e05\u7a7a\u200b\u5386\u53f2\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5b83\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\u4efb\u4f55\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u53ea\u4f1a\u200b\u8ba9\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u7684\u200b\u5386\u53f2\u200b\u547d\u4ee4\u200b\u6e05\u7a7a\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#echo\u8f93\u51fa\u5b57\u7b26\u4e32","title":"<code>echo</code>\uff1a\u200b\u8f93\u51fa\u200b\u5b57\u7b26\u4e32","text":"<ul> <li><code>echo</code>\uff1a\u200b\u8f93\u51fa\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u53d8\u91cf\u200b\u3002<code>echo \"Hello Command Line\" &gt;&gt; hello_cli.txt</code>\u200b\u4f1a\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u5199\u5165\u200b\u201cHello Command Line\u201d\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#cat\u6253\u5370\u6587\u4ef6\u5185\u5bb9","title":"<code>cat</code>\uff1a\u200b\u6253\u5370\u6587\u4ef6\u200b\u5185\u5bb9","text":"<ul> <li><code>cat</code>\uff1a\u200b\u67e5\u770b\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002<code>cat hello_cli.txt</code>\u200b\u4f1a\u200b\u6253\u5370\u200b\u51fa\u200b\u6587\u672c\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#cp\u590d\u5236\u6587\u4ef6","title":"<code>cp</code>\uff1a\u200b\u590d\u5236\u200b\u6587\u4ef6","text":"<ul> <li><code>cp</code>\uff1a\u200b\u590d\u5236\u200b\u6587\u4ef6\u200b\u3002\u200b\u4e00\u822c\u200b\u6709\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\uff0c<code>cp source destination</code>\u200b\u53ef\u4ee5\u200b\u5c06\u200b source \u200b\u590d\u5236\u5230\u200b destination\u3002</li> <li><code>cp</code>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u590d\u5236\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5728\u200b\u540e\u9762\u200b\u8ddf\u200b\u591a\u4e2a\u200b\u53c2\u6570\u200b\u5373\u53ef\u200b\u3002\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u76ee\u6807\u200b\u8def\u5f84\u200b\uff0c\u200b\u524d\u9762\u200b\u7684\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u90fd\u200b\u662f\u200b\u5f85\u200b\u590d\u5236\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c<code>cp a b c d/</code>\u200b\u4f1a\u200b\u5c06\u200b a\u3001b\u3001c \u200b\u90fd\u200b\u590d\u5236\u5230\u200b\u6587\u4ef6\u5939\u200b d \u200b\u4e2d\u200b\u3002</li> <li><code>cp</code>\u200b\u540e\u9762\u200b\u53ef\u7528\u200b\u901a\u914d\u7b26\u200b\uff08Wildcard\uff09\u3002\u200b\u4f8b\u5982\u200b\uff0c<code>cp * test/</code>\u200b\u4f1a\u200b\u5c06\u200b\u672c\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u90fd\u200b\u590d\u5236\u5230\u200b\u5b50\u200b\u6587\u4ef6\u5939\u200b test \u200b\u4e2d\u200b\uff1b<code>cp a*.txt test/</code>\u200b\u4f1a\u200b\u5c06\u200b\u672c\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u4ee5\u200b a \u200b\u5f00\u5934\u200b\u7684\u200b txt \u200b\u683c\u5f0f\u200b\u7684\u200b\u6587\u4ef6\u200b\u90fd\u200b\u590d\u5236\u5230\u200b\u5b50\u200b\u6587\u4ef6\u5939\u200b test \u200b\u4e2d\u200b\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#mv\u79fb\u52a8\u6587\u4ef6","title":"<code>mv</code>\uff1a\u200b\u79fb\u52a8\u200b\u6587\u4ef6","text":"<ul> <li><code>mv</code>\uff1a\u200b\u79fb\u52a8\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u526a\u5207\u200b\u3002\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u548c\u200b<code>cp</code>\u200b\u7c7b\u4f3c\u200b\u3002</li> <li><code>mv</code>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u91cd\u547d\u540d\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f8b\u5982\u200b<code>mv a.txt b.txt</code>\u200b\u53ea\u662f\u200b\u5c06\u200b a.txt \u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b b.txt\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#rm\u5220\u9664\u6587\u4ef6","title":"<code>rm</code>\uff1a\u200b\u5220\u9664\u200b\u6587\u4ef6","text":"<ul> <li> <p><code>rm</code>\uff1a\u200b\u5220\u9664\u200b\u6587\u4ef6\u200b\u3002\u200b\u8c28\u614e\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\uff01\u200b\u5982\u679c\u200b\u5220\u9664\u200b\u4e86\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6ca1\u6709\u200b\u56de\u6536\u7ad9\u200b\u53ef\u4ee5\u200b\u627e\u56de\u200b\u3002</p> </li> <li> <p><code>rm</code>\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u5220\u9664\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a<code>rm folder</code>\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> </li> </ul> <p></p> <ul> <li><code>rm -r</code>\u200b\u53ef\u4ee5\u200b\u5220\u9664\u200b\u6587\u4ef6\u5939\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5220\u9664\u200b\u6574\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u3002<code>-r</code>\u200b\u4ee3\u8868\u200b recursive\u3002</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#du--h-\u67e5\u770b\u6587\u4ef6\u5360\u7528\u78c1\u76d8\u5927\u5c0f","title":"<code>du -h</code> \u200b\u67e5\u770b\u200b\u6587\u4ef6\u200b\u5360\u7528\u200b\u78c1\u76d8\u200b\u5927\u5c0f","text":"Bash<pre><code>du -h \u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#du--sh-\u67e5\u770b\u6587\u4ef6\u5939\u5360\u7528\u78c1\u76d8\u5927\u5c0f","title":"<code>du -sh</code> \u200b\u67e5\u770b\u200b\u6587\u4ef6\u5939\u200b\u5360\u7528\u200b\u78c1\u76d8\u200b\u5927\u5c0f","text":"Bash<pre><code>du -sh \u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u538b\u7f29\u6587\u4ef6\u5939","title":"\u538b\u7f29\u200b\u6587\u4ef6\u5939","text":"Bash<pre><code>tar czvf \u200b\u538b\u7f29\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b.tar.gz \u200b\u88ab\u200b\u538b\u7f29\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u89e3\u538b\u6587\u4ef6\u5939","title":"\u89e3\u538b\u200b\u6587\u4ef6\u5939","text":"Bash<pre><code>tar zvxf \u200b\u538b\u7f29\u6587\u4ef6\u200b\u540d\u200b.tar.gz -C \u200b\u76ee\u6807\u200b\u6587\u4ef6\u5939\u200b\n</code></pre> <ul> <li>c  \u200b\u538b\u7f29\u200b</li> <li>x  \u200b\u89e3\u538b\u200b</li> <li>z  \u200b\u652f\u6301\u200b gzip \u200b\u89e3\u538b\u200b\u6587\u4ef6\u200b</li> <li>v  \u200b\u663e\u793a\u200b\u64cd\u4f5c\u8fc7\u7a0b\u200b</li> <li>f  \u200b\u4f7f\u7528\u200b\u6863\u540d\u200b\uff0c\u200b\u8bf7\u200b\u7559\u610f\u200b\uff0c\u200b\u5728\u200b f \u200b\u4e4b\u540e\u200b\u8981\u200b\u7acb\u5373\u200b\u63a5\u200b\u6863\u540d\u200b\uff01\u200b\u4e0d\u8981\u200b\u518d\u200b\u52a0\u200b\u53c2\u6570\u200b\uff01</li> </ul>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u6dfb\u52a0\u5230-path-\u73af\u5883\u53d8\u91cf","title":"\u5c06\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u6dfb\u52a0\u200b\u5230\u200b PATH \u200b\u73af\u5883\u53d8\u91cf","text":"<p>\u200b\u8f6c\u8f7d\u81ea\u200b joshua317 \u200b\u535a\u5ba2\u200b</p> <p>Linux \u200b\u547d\u4ee4\u884c\u200b\u4e0b\u9762\u200b\u6267\u884c\u200b\u67d0\u4e2a\u200b\u547d\u4ee4\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u9996\u5148\u200b\u4fdd\u8bc1\u200b\u8be5\u200b\u547d\u4ee4\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\uff0c\u200b\u82e5\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f46\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b\u7684\u200b\u65f6\u5019\u200b\u82e5\u200b\u4ecd\u200b\u63d0\u793a\u200b\uff1a<code>command not found</code>\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5c31\u200b\u7684\u200b\u67e5\u770b\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\uff0c\u200b\u5f53\u524d\u200b\u547d\u4ee4\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u4e8e\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b</p> Bash<pre><code>#\u200b\u67e5\u770b\u200bPATH\uff1a\necho $PATH\n</code></pre> <p>\u200b\u4e3e\u4f8b\u200b\u8bf4\u200b\uff0c\u200b\u547d\u4ee4\u200b composr \u200b\u5728\u200b/usr/loca/bin</p> <p>\u200b\u4f46\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u5019\u200b\u63d0\u793a\u200b\uff1a</p> Bash<pre><code>composr: command not found\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\uff0c\u200b\u901a\u8fc7\u200b<code>echo $PATH</code>\uff0c\u200b\u53d1\u73b0\u200b composer \u200b\u5e76\u672a\u200b\u5728\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u6709\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5c31\u200b\u9700\u8981\u200b\u628a\u200b composer \u200b\u6240\u5728\u200b\u8def\u5f84\u200b\u6dfb\u52a0\u200b\u5230\u200b PATH \u200b\u4e2d\u200b</p> <p>\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u4fee\u6539\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u5177\u4f53\u200b\u5982\u4e0b\u200b\uff1a</p>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u65b9\u6cd5\u4e00","title":"\u65b9\u6cd5\u200b\u4e00","text":"Bash<pre><code>export PATH=/usr/local/bin:$PATH\n#\u200b\u914d\u7f6e\u200b\u5b8c\u540e\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200becho $PATH\u200b\u67e5\u770b\u200b\u914d\u7f6e\u200b\u7ed3\u679c\u200b\u3002\n#\u200b\u751f\u6548\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u7acb\u5373\u200b\u751f\u6548\u200b\n#\u200b\u6709\u6548\u671f\u9650\u200b\uff1a\u200b\u4e34\u65f6\u200b\u6539\u53d8\u200b\uff0c\u200b\u53ea\u80fd\u200b\u5728\u200b\u5f53\u524d\u200b\u7684\u200b\u7ec8\u7aef\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u6709\u6548\u200b\uff0c\u200b\u5f53\u524d\u200b\u7a97\u53e3\u200b\u5173\u95ed\u200b\u540e\u200b\u5c31\u200b\u4f1a\u200b\u6062\u200b#\u200b\u590d\u539f\u200b\u6709\u200b\u7684\u200bpath\u200b\u914d\u7f6e\u200b\n#\u200b\u7528\u6237\u200b\u5c40\u9650\u200b\uff1a\u200b\u4ec5\u200b\u5bf9\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u65b9\u6cd5\u4e8c","title":"\u65b9\u6cd5\u200b\u4e8c","text":"Bash<pre><code>#\u200b\u901a\u8fc7\u200b\u4fee\u6539\u200b.bashrc\u200b\u6587\u4ef6\u200b:\nvim ~/.bashrc #\u200b\u5728\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u6dfb\u4e0a\u200b\uff1a\nexport PATH=/usr/local/bin:$PATH\n#\u200b\u751f\u6548\u200b\u65b9\u6cd5\u200b\uff1a\uff08\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u4e24\u79cd\u200b\uff09\n#1\u3001\u200b\u5173\u95ed\u200b\u5f53\u524d\u200b\u7ec8\u7aef\u200b\u7a97\u53e3\u200b\uff0c\u200b\u91cd\u65b0\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7ec8\u7aef\u200b\u7a97\u53e3\u200b\u5c31\u200b\u80fd\u200b\u751f\u6548\u200b\n#2\u3001\u200b\u8f93\u5165\u200b\u201csource ~/.bashrc\u201d\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7acb\u5373\u200b\u751f\u6548\u200b\n#\u200b\u6709\u6548\u671f\u9650\u200b\uff1a\u200b\u6c38\u4e45\u200b\u6709\u6548\u200b\n#\u200b\u7528\u6237\u200b\u5c40\u9650\u200b\uff1a\u200b\u4ec5\u200b\u5bf9\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u65b9\u6cd5\u4e09","title":"\u65b9\u6cd5\u200b\u4e09","text":"Bash<pre><code>#\u200b\u901a\u8fc7\u200b\u4fee\u6539\u200bprofile\u200b\u6587\u4ef6\u200b:\nvim /etc/profile\nexport PATH=/usr/local/bin:$PATH\n#\u200b\u751f\u6548\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u7cfb\u7edf\u200b\u91cd\u542f\u200b\n#\u200b\u6709\u6548\u671f\u9650\u200b\uff1a\u200b\u6c38\u4e45\u200b\u6709\u6548\u200b\n#\u200b\u7528\u6237\u200b\u5c40\u9650\u200b\uff1a\u200b\u5bf9\u200b\u6240\u6709\u200b\u7528\u6237\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/Linux-Command-Line-Navigate-the-File-System/#\u65b9\u6cd5\u56db","title":"\u65b9\u6cd5\u200b\u56db","text":"Bash<pre><code>#\u200b\u901a\u8fc7\u200b\u4fee\u6539\u200benvironment\u200b\u6587\u4ef6\u200b:\nvim /etc/environment\n\u200b\u5728\u200bPATH=\"/usr/local/sbin:/usr/sbin:/usr/bin:/sbin:/bin\"\u200b\u4e2d\u200b\u52a0\u5165\u200b \":/usr/local/bin\"\n#\u200b\u751f\u6548\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u7cfb\u7edf\u200b\u91cd\u542f\u200b\n#\u200b\u6709\u6548\u671f\u9650\u200b\uff1a\u200b\u6c38\u4e45\u200b\u6709\u6548\u200b\n#\u200b\u7528\u6237\u200b\u5c40\u9650\u200b\uff1a\u200b\u5bf9\u200b\u6240\u6709\u200b\u7528\u6237\u200b\n</code></pre>","tags":["Computer Science","Linux"]},{"location":"blog/CS50 Week 4 Memory/","title":"CS50 Week 4 Memory","text":"<p>\u200b\u8ba1\u7b97\u673a\u200b\u7684\u200b\u5185\u5b58\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u50cf\u7d20","title":"\u50cf\u7d20","text":"<p>\u200b\u5c06\u200b\u4e00\u5f20\u200b\u56fe\u7247\u200b\u653e\u5927\u200b\u5f88\u591a\u200b\u500d\u200b\uff0c\u200b\u4f1a\u200b\u770b\u5230\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u7684\u200b\u50cf\u7d20\u200b\u3002\u200b\u4e00\u4e2a\u200b\u50cf\u7d20\u200b\u53ef\u4ee5\u200b\u7531\u200b RGB \u200b\u683c\u5f0f\u200b\u6765\u200b\u8868\u793a\u200b\uff0cRed\u3001Green \u200b\u548c\u200b Blue \u200b\u5206\u522b\u200b\u5404\u200b\u5360\u7528\u200b 1 \u200b\u4e2a\u200b\u5b57\u8282\u200b\uff0c\u200b\u5373\u200b 8 bits\u3002\\(2^8=256\\)\uff0c\u200b\u56e0\u6b64\u200b RGB \u200b\u5728\u200b\u5341\u8fdb\u5236\u200b\u4e0b\u200b\u7684\u200b\u8303\u56f4\u200b\u662f\u200b 0-255\u3002</p> <ul> <li>\u200b\u767d\u8272\u200b\uff1aR\uff1a255\uff0cG\uff1a255\uff0cB\uff1a255\uff0c\u200b\u6216\u200b<code>#FFFFFF</code>\u3002</li> <li>\u200b\u7ea2\u8272\u200b\uff0cR\uff1a255\uff0cG\uff1a0\uff0cB\uff1a0, \u200b\u6216\u200b<code>#FF0000</code>\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u5341\u516d\u8fdb\u5236hexadecimal","title":"\u5341\u516d\u8fdb\u5236\u200b\uff08Hexadecimal\uff09","text":"<p>\u200b\u5341\u516d\u8fdb\u5236\u200b\u4e0b\u200b\uff0c\u200b\u7528\u200b 16 \u200b\u4e2a\u200b digits \u200b\u6765\u200b\u8868\u793a\u200b\u6570\u5b57\u200b\uff1a</p> Text Only<pre><code>0 1 2 3 4 5 6 7 8 9 A B C D E F\n</code></pre> <p>\u200b\u7528\u200b\u5341\u516d\u8fdb\u5236\u200b\u7684\u200b\u597d\u5904\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b\u5341\u8fdb\u5236\u200b\u4e0b\u200b\uff0c\u200b\u8981\u200b\u60f3\u200b\u8868\u793a\u200b 255\uff0c\u200b\u9700\u8981\u200b\u7528\u5230\u200b 3 \u200b\u4e2a\u200b\u7b26\u53f7\u200b\u6765\u200b\u8868\u793a\u200b\uff082\u30015\u30015\uff09\uff1b</li> <li>\u200b\u5728\u200b\u5341\u516d\u8fdb\u5236\u200b\u4e0b\u200b\uff0c\u200b\u8981\u200b\u60f3\u200b\u8868\u793a\u200b 255\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u7528\u200b\u4e24\u4e2a\u200b\u7b26\u53f7\u200b<code>FF</code>\u3002\u200b\u56e0\u4e3a\u200b\\(16\\times15+1\\times15=255\\)\u3002</li> <li>\u200b\u56e0\u6b64\u200b\u5341\u516d\u8fdb\u5236\u200b\u53ef\u4ee5\u200b\u8282\u7ea6\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u7684\u200b\u7a7a\u95f4\u200b\uff01</li> <li>\u200b\u4f46\u200b\u5341\u516d\u8fdb\u5236\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u89e3\u51b3\u200b\u8ba1\u7b97\u673a\u200b\u7684\u200b\u5185\u5b58\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u6700\u7ec8\u200b\u90fd\u200b\u5c06\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e8c\u8fdb\u5236\u200b\uff080 \u200b\u548c\u200b 1\uff09\u200b\u624d\u80fd\u200b\u88ab\u200b\u8ba1\u7b97\u673a\u200b\u8bc6\u522b\u200b\u3002</li> </ul> <p>\u200b\u672c\u8d28\u200b\u4e0a\u200b\uff0c\u200b\u5341\u516d\u8fdb\u5236\u200b\u4e0b\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7b26\u53f7\u200b\uff0c\u200b\u90fd\u200b\u80fd\u200b\u4ee3\u8868\u200b\u4e8c\u8fdb\u5236\u200b\u4e0b\u200b\u7684\u200b 4 \u200b\u4e2a\u200b\u6bd4\u7279\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u6df7\u6dc6\u200b\u5341\u516d\u8fdb\u5236\u200b\u548c\u200b\u5341\u8fdb\u5236\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u5e38\u200b\u7528\u200b<code>0x</code>\u200b\u4f5c\u4e3a\u200b\u524d\u7f00\u200b\u6765\u200b\u8868\u793a\u200b\u5341\u516d\u8fdb\u5236\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u5730\u5740\u548c\u6307\u9488","title":"\u5730\u5740\u200b\u548c\u200b\u6307\u9488","text":"<p>\u200b\u6307\u9488\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5b83\u200b\u50a8\u5b58\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u5730\u5740\u200b\u3002</p> C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nint n = 50;\n//\u200b\u5b9a\u4e49\u200b\u6307\u9488\u200b\u53d8\u91cf\u200b\u3002\nint *p = &amp;n;\nprintf(\"%p\\n\", p);\n}\n</code></pre> <p>\u200b\u6bcf\u6b21\u200b\u8fd0\u884c\u200b\u4e0a\u9762\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u6253\u5370\u200b\u51fa\u200b\u7684\u200b\u5730\u5740\u200b\u90fd\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u8bf4\u660e\u200b\u53d8\u91cf\u200b\u88ab\u200b\u50a8\u5b58\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p> <p><code>*</code>\u200b\u9664\u4e86\u200b\u4e58\u6cd5\u200b\u4e4b\u5916\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e24\u4e2a\u200b\u529f\u80fd\u200b\uff1a</p> <ol> <li> <p>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u6307\u9488\u200b\u53d8\u91cf\u503c\u200b\uff0c\u200b\u8981\u200b\u7528\u200b<code>int *</code>\uff0c\u200b\u4f8b\u5982\u200b<code>int *p = &amp;n;</code></p> </li> <li> <p>Dereference\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u83b7\u53d6\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u4e0a\u200b\u50a8\u5b58\u200b\u7684\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u3002</p> </li> </ol> <p>\u200b\u4f8b\u5982\u200b\uff1a    C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nint n = 50;\nint *p = &amp;n;\nprintf(\"%p\\n\", p);\n//\u200b\u6253\u5370\u200b\u6307\u9488\u200b p \u200b\u50a8\u5b58\u200b\u7684\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u53d8\u91cf\u503c\u200b\u3002\nprintf(\"%i\\n\", *p);\n}\n```\n\u200b\u4f1a\u200b\u8f93\u51fa\u200b\uff1a\n</code></pre>    0x7ffda0a4767c    50    ```</p> <p>\u200b\u4e0d\u7ba1\u200b\u6307\u9488\u200b\u53d8\u91cf\u200b\u662f\u200b\u6307\u5411\u200b<code>int</code>\u3001<code>string</code>\u200b\u6216\u662f\u200b<code>float</code>\u200b\u7b49\u7b49\u200b\uff0c\u200b\u6307\u9488\u200b\u53d8\u91cf\u200b\u603b\u662f\u200b\u5360\u636e\u200b 8 \u200b\u4e2a\u200b\u5b57\u8282\u200b\uff0864 bits\uff09\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u5b57\u7b26\u4e32","title":"\u5b57\u7b26\u4e32","text":"<p>\u200b\u5bf9\u4e8e\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5e38\u89c4\u200b\u7406\u89e3\u200b\uff1a</p> <ul> <li>\u200b\u5b57\u7b26\u4e32\u200b\u662f\u200b\u5b57\u7b26\u200b\u7684\u200b\u5e8f\u5217\u200b\u3002</li> </ul> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u5b9a\u4e49\u200b\u5b57\u7b26\u4e32\u200b\uff1a</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(void)\n{\n//\u200b\u9700\u8981\u200b\u5f15\u5165\u200b cs50.h\uff0c\u200b\u624d\u80fd\u200b\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u8bed\u53e5\u200b\u6765\u200b\u58f0\u660e\u200b\u5b57\u7b26\u4e32\u200b\u3002\nstring s = \"HI!\";\n//\u200b\u5982\u679c\u200b\u4e0d\u7528\u200b cs50.h\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u8bed\u53e5\u200b\u6765\u200b\u58f0\u660e\u200b\u5b57\u7b26\u4e32\u200b\u3002\nchar s[] =\"HI!\";\nprintf(\"%s\\n\", s);\n}\n</code></pre> <p>\u200b\u5b9e\u9645\u4e0a\u200b\uff0c<code>s</code>\u200b\u4e5f\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b\u5730\u5740\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u5b9a\u4e49\u200b\u5b57\u7b26\u4e32\u200b\uff1a</p> C<pre><code>char *s = \"HI!\";\n</code></pre> <p>\u200b\u4e25\u683c\u6765\u8bf4\u200b\uff0c<code>C</code>\u200b\u672c\u6765\u200b\u662f\u200b\u6ca1\u6709\u200b\u5b57\u7b26\u4e32\u200b\u8fd9\u79cd\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\uff0c\u200b\u5b83\u200b\u672c\u8d28\u200b\u4e0a\u200b\u4e00\u76f4\u200b\u662f\u200b\u9996\u200b\u5b57\u7b26\u200b\u7684\u200b\u5730\u5740\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nchar *s = \"HI!\";\nprintf(\"%p\\n\", s);\nprintf(\"%p\\n\", &amp;s[0]);\nprintf(\"%p\\n\", &amp;s[1]);\nprintf(\"%p\\n\", &amp;s[2]);\nprintf(\"%p\\n\", &amp;s[3]);\n}\n</code></pre> <p>\u200b\u4f1a\u200b\u8f93\u51fa\u200b\uff1a</p> Bash<pre><code>$ make address\n$ ./address\n0x402004\n0x402004\n0x402005\n0x402006\n0x402007\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u6307\u9488\u8fd0\u7b97","title":"\u6307\u9488\u200b\u8fd0\u7b97","text":"<p><code>s[1]</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b syntactic sugar\uff0c\u200b\u5b83\u200b\u7684\u200b\u672c\u8d28\u200b\u662f\u200b<code>*(s + 1)</code>\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u4e24\u6bb5\u200b\u4ee3\u7801\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff1a</p> <ol> <li>\u200b\u4f7f\u7528\u200b<code>s[1]</code></li> </ol> C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nchar *s = \"HI!\";\nprintf(\"%c\\n\", s[0]);\nprintf(\"%c\\n\", s[1]);\nprintf(\"%c\\n\", s[2]);\n}\n</code></pre> <ol> <li>\u200b\u4f7f\u7528\u200b<code>*(s+1)</code></li> </ol> C<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\nchar *s = \"HI!\";\nprintf(\"%c\\n\", *s);\nprintf(\"%c\\n\", *(s + 1));\nprintf(\"%c\\n\", *(s + 2));\n}\n</code></pre> <p>\u200b\u90fd\u200b\u4f1a\u200b\u8f93\u51fa\u200b\uff1a</p> Bash<pre><code>$ make address\n$ ./address\nH\nI\n!\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u7528\u5230\u200b\u4e86\u200b\u6307\u9488\u200b\u7684\u200b\u52a0\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u5982\u4f55\u200b\u5bf9\u200b\u5730\u5740\u200b\u505a\u200b\u52a0\u51cf\u200b\u5462\u200b\uff1f\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b<code>s + 1</code>\u3001<code>s + 2</code>\u200b\u662f\u200b\u4ec0\u4e48\u200b\u610f\u601d\u200b\uff1f</p> <p>\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u7c7b\u578b\u200b\u5230\u5e95\u200b\u5360\u7528\u200b\u591a\u5c11\u200b\u4e2a\u200b\u5b57\u8282\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u7528\u200b<code>s + 1</code>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u53d8\u5316\u200b\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u6240\u5728\u200b\u7684\u200b\u5730\u5740\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u6bd4\u8f83\u548c\u590d\u5236","title":"\u6bd4\u8f83\u200b\u548c\u200b\u590d\u5236","text":"","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u6bd4\u8f83","title":"\u6bd4\u8f83","text":"<p>\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u76f8\u540c\u200b\u3002\u200b\u6709\u200b\u4e0b\u9762\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff1a</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\nint main(void)\n{\nchar *s = get_string(\"s: \");\nchar *t = get_string(\"t: \");\nif (s == t)\n{\nprintf(\"Same\\n\");\n}\nelse\n{\nprintf(\"Different\\n\");\n}\n}\n</code></pre> <p>\u200b\u4f1a\u200b\u8f93\u51fa\u200b\uff1a</p> Bash<pre><code>$ make compare\n$ ./compare\ns: HI!\nt: BYE!\nDifferent\n$ ./compare\ns: HI!\nt: HI!\nDifferent\n</code></pre> <p>\u200b\u53ef\u89c1\u200b\uff0c\u200b\u8f93\u5165\u200b\u4e24\u4e2a\u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7684\u200b\u4ecd\u7136\u200b\u662f\u200b\u201cDifferent\u201d\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u5728\u200b\u6bd4\u8f83\u200b s \u200b\u548c\u200b t\uff0c\u200b\u5373\u200b<code>if (s == t)</code>\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5224\u65ad\u200b\u7684\u200b\u662f\u200b\u4e24\u4e2a\u200b\u5730\u5740\u200b\u662f\u5426\u200b\u76f8\u540c\u200b\u3002</p> <p>\u200b\u4fee\u6539\u200b\u601d\u8def\u200b\uff1a\u200b\u7528\u200b<code>strcmp</code>\u3002\u200b\u6b63\u786e\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff1a</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\nint main(void)\n{\nchar *s = get_string(\"s: \");\nchar *t = get_string(\"t: \");\nif (strcmp(s, t) == 0)\n{\nprintf(\"Same\\n\");\n}\nelse\n{\nprintf(\"Different\\n\");\n}\n}\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a</p> Bash<pre><code>$ make compare\n$ ./compare\ns: HI!\nt: HI!\nSame\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u590d\u5236","title":"\u590d\u5236","text":"C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;ctype.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\nint main(void)\n{\nstring s = get_string(\"s: \");\nstring t = s;\nt[0] = toupper(t[0]);\nprintf(\"s: %s\\n\", s);\nprintf(\"t: %s\\n\", t);\n}\n</code></pre> <p>\u200b\u4f1a\u200b\u8f93\u51fa\u200b\uff1a</p> Bash<pre><code>$ make copy\n$ ./copy\ns: hi!\ns: HI!\ns: HI!\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u53ea\u200b\u628a\u200b t \u200b\u53d8\u6210\u200b\u4e86\u200b\u5927\u5199\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b s \u200b\u4e5f\u200b\u4f1a\u200b\u53d8\u6210\u200b\u5927\u5199\u200b\u5462\u200b\uff1f</p> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b s \u200b\u548c\u200b t \u200b\u5728\u200b\u672c\u8d28\u200b\u4e0a\u200b\u90fd\u200b\u662f\u200b\u6307\u9488\u200b\uff0c\u200b\u5b83\u4eec\u200b\u6307\u5411\u200b\u7684\u200b\u662f\u200b\u540c\u4e00\u4e2a\u200b\u5730\u5740\u200b\u3002\u200b\u5f53\u200b\u6539\u53d8\u200b t \u200b\u65f6\u200b\uff0c\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u6539\u53d8\u200b\u4e86\u200b t \u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u800c\u200b s \u200b\u4e5f\u200b\u6307\u5411\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\uff0c\u200b\u56e0\u6b64\u200b\u628a\u200b s \u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5927\u5199\u200b\u7684\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u5185\u5b58\u5206\u914d","title":"\u5185\u5b58\u200b\u5206\u914d","text":"<p>\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u601d\u8def\u200b\uff1a\u200b\u5148\u200b\u5206\u914d\u200b\u4e00\u6bb5\u200b\u5185\u5b58\u200b\u7ed9\u200b t\uff0c\u200b\u518d\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u5730\u200b\u5c06\u200b s \u200b\u4e2d\u200b\u7684\u200b\u5b57\u7b26\u200b\u8d4b\u503c\u200b\u5230\u200b t \u200b\u4e2d\u200b\u3002</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;ctype.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\nint main(void)\n{\nchar *s = get_string(\"s: \");\n//\u200b\u5206\u914d\u5185\u5b58\u200b\uff08\u200b\u548c\u200bs\u200b\u4e00\u6837\u200b\u5927\u200b\uff09\u3002\nchar *t = malloc(strlen(s) + 1);\nfor (int i = 0, n = strlen(s) + 1; i &lt; n; i++)\n{\nt[i] = s[i];\n}\nt[0] = toupper(t[0]);\nprintf(\"s: %s\\n\", s);\nprintf(\"t: %s\\n\", t);\n}\n</code></pre> <p>\u200b\u6216\u8005\u200b\u8c03\u7528\u200b<code>strcpy</code>\u200b\u51fd\u6570\u200b\uff1a</p> C<pre><code>#include &lt;cs50.h&gt;\n#include &lt;ctype.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\nint main(void)\n{\nchar *s = get_string(\"s: \");\nchar *t = malloc(strlen(s) + 1);\nstrcpy(t, s);\nt[0] = toupper(t[0]);\nprintf(\"s: %s\\n\", s);\nprintf(\"t: %s\\n\", t);\n//\u200b\u91ca\u653e\u200b\u5185\u5b58\u200b\u3002\nfree(t);\n}\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\u3002\u200b\u73b0\u5728\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u5bf9\u200b t \u200b\u8fdb\u884c\u200b\u5927\u5199\u200b\u53d8\u5316\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u6539\u53d8\u200b s\u3002</p> Bash<pre><code>$ make copy\n$ ./copy\ns: hi!\ns: hi!\nt: Hi!\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#valgrind\u5185\u5b58\u7ba1\u7406","title":"valgrind\u2014\u2014\u200b\u5185\u5b58\u200b\u7ba1\u7406","text":"<p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u6709\u200b\u4e00\u4e2a\u200b\u9519\u8bef\u200b\uff0c\u200b\u5b83\u200b\u4e00\u5171\u200b\u53ea\u6709\u200b 3 \u200b\u4e2a\u200b\u6574\u578b\u200b\u7684\u200b\u5185\u5b58\u5927\u5c0f\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u662f\u200b\u4ece\u200b<code>x[0]</code>\u200b\u5f00\u59cb\u200b\u8d4b\u503c\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b<code>x[3]</code>\u200b\u5b9e\u9645\u4e0a\u200b\u4f1a\u200b\u9020\u6210\u200b\u5185\u5b58\u200b\u6ea2\u51fa\u200b\u3002</p> C<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\nint main(void)\n{\nint *x = malloc(3 * sizeof(int));\nx[1] = 72;\nx[2] = 73;\nx[3] = 33;\n}\n</code></pre> <p>\u200b\u4f46\u662f\u200b\u7f16\u8bd1\u200b\u548c\u200b\u8fd0\u884c\u200b\u90fd\u200b\u6ca1\u6709\u200b\u62a5\u9519\u200b\uff1a</p> Bash<pre><code>$ make memory\n$ ./memory\n$\n</code></pre> <p><code>valgrind</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u6709\u200b\u5185\u5b58\u200b\u95ee\u9898\u200b\u3002</p> <p><code>Invalid write of size 4</code>\u200b\u63d0\u793a\u200b\u6211\u4eec\u200b\u6709\u200b\u5185\u5b58\u200b\u6ea2\u51fa\u200b\u95ee\u9898\u200b\u3002</p> Bash<pre><code>$ valgrind ./memory\n==5902== Memcheck, a memory error detector\n==5902== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.\n==5902== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info\n==5902== Command: ./memory\n==5902== \n==5902== Invalid write of size 4\n==5902==    at 0x401162: main (memory.c:9)\n==5902==  Address 0x4bd604c is 0 bytes after a block of size 12 alloc'd\n==5902==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)\n==5902==    by 0x401141: main (memory.c:6)\n==5902== ==5902== ==5902== HEAP SUMMARY:\n==5902==     in use at exit: 12 bytes in 1 blocks\n==5902==   total heap usage: 1 allocs, 0 frees, 12 bytes allocated\n==5902== ==5902== 12 bytes in 1 blocks are definitely lost in loss record 1 of 1\n==5902==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)\n==5902==    by 0x401141: main (memory.c:6)\n==5902== ==5902== LEAK SUMMARY:\n==5902==    definitely lost: 12 bytes in 1 blocks\n==5902==    indirectly lost: 0 bytes in 0 blocks\n==5902==      possibly lost: 0 bytes in 0 blocks\n==5902==    still reachable: 0 bytes in 0 blocks\n==5902==         suppressed: 0 bytes in 0 blocks\n==5902== ==5902== For lists of detected and suppressed errors, rerun with: -s\n==5902== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)\n</code></pre>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u5783\u573e\u503c","title":"\u5783\u573e\u200b\u503c","text":"<p>\u200b\u4e0d\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\uff0c\u200b\u5c06\u200b\u6570\u7ec4\u200b\u7684\u200b\u503c\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\uff0c\u200b\u4f1a\u200b\u770b\u5230\u200b\u4e00\u4e9b\u200b\u5947\u602a\u200b\u7684\u200b\u6570\u5b57\u200b\u3002</p> C<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\nint main(void)\n{\nint scores[3];\nfor (int i = 0; i &lt; 3; i++)\n{\nprintf(\"%i\\n\", scores[i]);\n}\n}\n</code></pre> Bash<pre><code>$ make garbage\n$ ./garbage\n68476128\n32765\n0\n</code></pre> <p>\u200b\u8fd9\u4e9b\u200b\u5947\u602a\u200b\u7684\u200b\u6570\u5b57\u200b\u5c31\u662f\u200b garbage values\u3002\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u662f\u200b\u8ba1\u7b97\u673a\u200b\u5728\u200b\u8fd0\u884c\u200b\u4e4b\u524d\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\u9057\u7559\u4e0b\u6765\u200b\u7684\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/CS50 Week 4 Memory/#\u4e92\u6362","title":"\u4e92\u6362","text":"<p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u5c06\u200b x \u200b\u548c\u200b y \u200b\u4e92\u6362\u200b\uff1a</p> C<pre><code>#include &lt;stdio.h&gt;\nvoid swap(int a, int b);\nint main(void)\n{\nint x = 1;\nint y = 2;\nprintf(\"x is %i, y is %i\\n\", x, y);\nswap(x, y);\nprintf(\"x is %i, y is %i\\n\", x, y);\n}\nvoid swap(int a, int b)\n{\nint tmp = a;\na = b;\nb = tmp;\n}\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\uff1a</p> Bash<pre><code>$ make swap\n$ ./swap\nx is 1, y is 2\nx is 1, y is 2\n</code></pre> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b<code>swap</code>\u200b\u51fd\u6570\u200b\u505a\u200b\u7684\u200b\u8fd0\u7b97\u200b\u5e76\u200b\u4e0d\u200b\u5f71\u54cd\u200b x \u200b\u548c\u200b y \u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6307\u9488\u200b\u6765\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> C<pre><code>#include &lt;stdio.h&gt;\nvoid swap(int *a, int *b);\nint main(void)\n{\nint x = 1;\nint y = 2;\nprintf(\"x is %i, y is %i\\n\", x, y);\n//\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4f20\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200bx\u200b\u548c\u200by\u200b\u7684\u200b\u5730\u5740\u200b\u3002\nswap(&amp;x, &amp;y);\nprintf(\"x is %i, y is %i\\n\", x, y);\n}\nvoid swap(int *a, int *b)\n{\n//a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4e0b\u9762\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\uff1a\u200b\u5148\u200b\u53bb\u5f80\u200ba\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\uff0c\u200b\u628a\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u8d4b\u503c\u200b\u7ed9\u200btmp\u3002\u200b\u73b0\u5728\u200btmp\u200b\u7684\u200b\u503c\u200b\u662f\u200b1\u3002\nint tmp = *a;\n//b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4e0b\u9762\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\uff1a\u200b\u5148\u200b\u53bb\u5f80\u200bb\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\uff0c\u200b\u628a\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u8d4b\u503c\u200b\u7ed9\u200ba\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u3002\u200b\u73b0\u5728\u200b\uff0ca\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u53d8\u6210\u200b2\u200b\u4e86\u200b\u3002\n*a = *b;\n//\u200b\u6700\u540e\u200b\u628a\u200btmp\u200b\u8d4b\u503c\u200b\u7ed9\u200bb\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u3002\u200b\u73b0\u5728\u200bb\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u53d8\u6210\u200b1\u200b\u4e86\u200b\u3002\n*b = tmp;\n}\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\uff1a</p> Bash<pre><code>$ make swap\n$ ./swap\nx is 1, y is 2\nx is 2, y is 1\n</code></pre>","tags":["Computer Science"]},{"location":"blog/linux-command-line-redirection/","title":"Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u91cd\u5b9a\u5411","text":"<p>\u200b\u5728\u200b Linux \u200b\u4e2d\u200b\u64cd\u4f5c\u200b\u6587\u4ef6\u200b\u7684\u200b\u57fa\u672c\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#linux-\u91cd\u5b9a\u5411input-output-redirection","title":"Linux \u200b\u91cd\u5b9a\u5411\u200b\uff08Input Output Redirection\uff09","text":"","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#\u548c\u5199\u5165\u5185\u5bb9","title":"<code>&gt;</code>\u200b\u548c\u200b<code>&gt;&gt;</code>\uff1a\u200b\u5199\u5165\u200b\u5185\u5bb9","text":"<ul> <li> <p><code>cat a.txt &gt; b.txt</code>\uff1a\u200b\u5c06\u200b a.txt \u200b\u7684\u200b\u5185\u5bb9\u200b\u5168\u90e8\u200b\u590d\u5236\u5230\u200b b.txt \u200b\u4e2d\u200b\uff0c\u200b\u4e14\u200b b.txt \u200b\u4e2d\u200b\u539f\u6765\u200b\u7684\u200b\u5185\u5bb9\u200b\u4f1a\u200b\u88ab\u200b\u5220\u9664\u200b\u3002</p> </li> <li> <p><code>cat a.txt &gt;&gt; b.txt</code>\uff1a\u200b\u5c06\u200b a.txt \u200b\u7684\u200b\u5185\u5bb9\u200b\u5168\u90e8\u200b\u590d\u5236\u5230\u200b b.txt \u200b\u4e2d\u200b\uff0c\u200b\u4e14\u200b b.txt \u200b\u4e2d\u200b\u539f\u6765\u200b\u7684\u200b\u5185\u5bb9\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u5220\u9664\u200b\u3002\uff08\u200b\u76f8\u5f53\u4e8e\u200b append \u200b\u64cd\u4f5c\u200b\uff09</p> </li> <li><code>echo \"some text\" &gt;&gt; b.txt</code>\uff1a\u200b\u5c06\u200b\"some text\"\u200b\u6dfb\u52a0\u200b\u5230\u200b b.txt \u200b\u4e2d\u200b\u3002\u200b\u4e0e\u200b<code>cat</code>\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0c<code>echo</code>\u200b\u662f\u200b\u624b\u52a8\u200b\u8f93\u5165\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u800c\u200b<code>cat</code>\u200b\u662f\u4ece\u200b a.txt \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u5b57\u7b26\u4e32\u200b\u3002</li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#pipe\u5c06\u5de6\u8fb9\u7684\u5185\u5bb9\u4f5c\u4e3a\u8f93\u5165\u8f93\u51fa\u5230\u53f3\u8fb9","title":"<code>|</code>\uff1aPipe\uff0c\u200b\u5c06\u200b<code>|</code>\u200b\u5de6\u8fb9\u200b\u7684\u200b\u5185\u5bb9\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\uff0c\u200b\u8f93\u51fa\u200b\u5230\u200b<code>|</code>\u200b\u53f3\u8fb9","text":"<p>\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\uff1a\u200b\u628a\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u4f20\u9001\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u7684\u200b\u91cd\u5b9a\u5411\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#wc\u7edf\u8ba1\u884c\u6570\u8bcd\u6570\u548c\u5b57\u7b26\u6570","title":"<code>wc</code>\uff1a\u200b\u7edf\u8ba1\u200b\u884c\u200b\u6570\u200b\u3001\u200b\u8bcd\u6570\u200b\u548c\u200b\u5b57\u7b26\u200b\u6570","text":"<ul> <li> <p><code>cat a.txt | wc</code>\uff1a\u200b\u7edf\u8ba1\u200b a.txt \u200b\u7684\u200b\u884c\u6570\u200b\u3001\u200b\u8bcd\u6570\u200b\u548c\u200b\u5b57\u7b26\u200b\u6570\u200b\uff0c\u200b\u5e76\u6253\u5370\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u3002<code>wc</code>\u200b\u4ee3\u8868\u200b Word Count\u3002</p> </li> <li> <p><code>cat a.txt | wc | cat &gt; a_count.txt</code>\uff1a\u200b\u7edf\u8ba1\u200b a.txt \u200b\u7684\u200b\u884c\u6570\u200b\u3001\u200b\u8bcd\u6570\u200b\u548c\u200b\u5b57\u7b26\u200b\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5185\u5bb9\u200b\u5199\u5165\u200b\u5230\u200b a_count.txt \u200b\u4e2d\u200b\u3002</p> </li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#sort\u6309\u5b57\u6bcd\u8868\u6392\u5e8f","title":"<code>sort</code>\uff1a\u200b\u6309\u200b\u5b57\u6bcd\u8868\u200b\u6392\u5e8f","text":"<ul> <li> <p><code>sort a.txt</code>\uff1a\u200b\u5c06\u200b a.txt \u200b\u7684\u200b\u6bcf\u884c\u200b\u5185\u5bb9\u200b\u6309\u200b\u5b57\u6bcd\u8868\u200b\u987a\u5e8f\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u4f1a\u200b\u6539\u53d8\u200b a.txt \u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> </li> <li> <p><code>cat a.txt | sort &gt; sorted-a.txt</code>\uff1a\u200b\u5c06\u200b a.txt \u200b\u7684\u200b\u6bcf\u884c\u200b\u5185\u5bb9\u200b\u6309\u200b\u5b57\u6bcd\u8868\u200b\u987a\u5e8f\u200b\u5199\u5165\u200b\u5230\u200b sorted-a.txt \u200b\u4e2d\u200b\u3002</p> </li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#uniq\u5220\u9664\u91cd\u590d\u884c","title":"<code>uniq</code>\uff1a\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u884c","text":"<ul> <li><code>uniq a.txt</code>\uff1a\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u76f8\u90bb\u200b\u7684\u200b\u884c\u200b\u662f\u200b\u91cd\u590d\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u53ea\u200b\u4fdd\u7559\u200b\u4e00\u884c\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5982\u679c\u200b a.txt \u200b\u662f\u200b\uff1a</li> </ul> Text Only<pre><code>abc\nxyz\nabc\n</code></pre> <p>\u200b\u90a3\u4e48\u200b\uff0c\u200b\u7b2c\u4e00\u884c\u200b\u548c\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u7684\u200b<code>abc</code>\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u4fdd\u7559\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u5e76\u200b\u4e0d\u662f\u200b\u76f8\u90bb\u200b\u7684\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e00\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5148\u200b<code>sort</code>\uff0c\u200b\u518d\u200b<code>uniq</code>\u3002</p> <ul> <li>\u200b\u4f8b\u5982\u200b\uff1a<code>sort a.txt | uniq &gt; uniq-a.txt</code>\u200b\u53ef\u4ee5\u200b\u5c06\u200b a.txt \u200b\u6309\u200b\u5b57\u6bcd\u8868\u200b\u6392\u5e8f\u200b\u540e\u200b\uff08\u200b\u4fdd\u8bc1\u200b\u76f8\u540c\u200b\u7684\u200b\u5185\u5bb9\u200b\u662f\u200b\u76f8\u90bb\u200b\u7684\u200b\uff09\uff0c\u200b\u518d\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u884c\u200b\uff0c\u200b\u6700\u7ec8\u200b\u5f97\u5230\u200b\u552f\u4e00\u200b\u7684\u200b\u884c\u200b\u3002</li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#grepglobal-regular-expression-print\u6309\u7167\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u8f93\u51fa","title":"<code>grep</code>\uff1aGlobal Regular Expression Print\uff0c\u200b\u6309\u7167\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u8fdb\u884c\u200b\u8f93\u51fa","text":"<ul> <li> <p><code>grep America continents.txt</code>\uff1a\u200b\u53ea\u200b\u6253\u5370\u200b\u51fa\u200b continents.txt \u200b\u4e2d\u200b\u5305\u542b\u200b America \u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u6ce8\u610f\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u5bf9\u200b\u5927\u5c0f\u5199\u200b\u654f\u611f\u200b\uff0c\u200b\u5373\u200b\u5927\u5c0f\u5199\u200b\u4e0d\u80fd\u200b\u6df7\u7528\u200b\u3002</p> </li> <li> <p><code>grep -i America continents.txt</code>\uff1a\u200b\u529f\u80fd\u200b\u540c\u200b\u4e0a\u200b\uff0c\u200b\u4f46\u200b\u5bf9\u200b\u5927\u5c0f\u5199\u200b\u4e0d\u200b\u654f\u611f\u200b\u3002<code>i</code>\u200b\u4ee3\u8868\u200b Insensitive\u3002</p> </li> <li> <p><code>grep -R Arctic /home/ccuser/workspace/geography</code>\uff1a\u200b\u5728\u200b geography \u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u904d\u5386\u200b\u5404\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u641c\u7d22\u200b\u5176\u4e2d\u200b\u662f\u5426\u200b\u5305\u542b\u200b Arctic\u3002\u200b\u82e5\u200b\u5305\u542b\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5305\u542b\u200b Arctic \u200b\u7684\u200b\u90a3\u200b\u4e00\u884c\u200b\u3002<code>R</code>\u200b\u4ee3\u8868\u200b Recursive\u3002</p> </li> <li> <p><code>grep -Rl Arctic /home/ccuser/workspace/geography</code>\uff1a\u200b\u5728\u200b\u4e0a\u200b\u4e00\u884c\u200b\u7684\u200b<code>R</code>\u200b\u540e\u9762\u200b\u52a0\u200b\u4e86\u200b<code>l</code>\uff08<code>L</code>\u200b\u7684\u200b\u5c0f\u5199\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b<code>i</code>\u200b\u7684\u200b\u5927\u5199\u200b\uff09\uff0c\u200b\u5b83\u200b\u53ea\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u4e0d\u200b\u8f93\u51fa\u200b\u5305\u542b\u200b Arctic \u200b\u7684\u200b\u90a3\u200b\u4e00\u884c\u200b\u3002</p> </li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/linux-command-line-redirection/#sedstream-editor\u67e5\u627e\u548c\u66ff\u6362","title":"<code>sed</code>\uff1aStream Editor\uff0c\u200b\u67e5\u627e\u200b\u548c\u200b\u66ff\u6362","text":"<ul> <li> <p><code>sed 's/snow/rain/' forests.txt</code>\uff1a\u200b\u628a\u200b forests.txt \u200b\u4e2d\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200bsnow \u200b\u66ff\u6362\u6210\u200b rain\u3002</p> </li> <li> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>s</code>\u200b\u4ee3\u8868\u200b Substitution\uff0c<code>snow</code>\u200b\u662f\u200b\u5f85\u200b\u67e5\u627e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c<code>rain</code>\u200b\u662f\u200b\u5f85\u200b\u66ff\u6362\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> </li> <li> <p><code>sed 's/snow/rain/g' forests.txt</code>\uff1a\u200b\u628a\u200b forests.txt \u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200bsnow \u200b\u66ff\u6362\u6210\u200b rain\u3002<code>g</code>\u200b\u4ee3\u8868\u200b Global\u3002</p> </li> </ul> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\u53ea\u662f\u200b\u5c06\u200b\u67e5\u627e\u200b\u66ff\u6362\u200b\u7684\u200b\u7ed3\u679c\u200b\u8f93\u51fa\u200b\u5230\u200b\u547d\u4ee4\u884c\u200b\uff0c\u200b\u5e76\u200b\u6ca1\u6709\u200b\u4fee\u6539\u200b\u539f\u6587\u4ef6\u200b\u3002\u200b\u8981\u200b\u60f3\u200b\u4fee\u6539\u200b\u539f\u6587\u4ef6\u200b\uff0c\u200b\u9700\u8981\u200b\u52a0\u4e0a\u200b<code>-i</code>\u3002</p> <ul> <li><code>sed -i 's/snow/rain/g' forests.txt</code></li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/","title":"Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u914d\u7f6e\u200b\u73af\u5883","text":"<p>\u200b\u914d\u7f6e\u200b\u547d\u4ee4\u884c\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#nano\u547d\u4ee4\u884c\u7f16\u8f91\u5668","title":"Nano\uff1a\u200b\u547d\u4ee4\u884c\u200b\u7f16\u8f91\u5668","text":"<p>Nano \u200b\u662f\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u7f16\u8f91\u5668\u200b\u3002\u200b\u5b83\u200b\u548c\u200b\u8bb0\u4e8b\u672c\u200b\u5f88\u200b\u50cf\u200b\uff0c\u200b\u7279\u70b9\u200b\u662f\u200b\uff1a</p> <ul> <li>\u200b\u53ea\u80fd\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u6765\u200b\u8fd0\u884c\u200b\u3002</li> <li>\u200b\u53ea\u200b\u63a5\u53d7\u200b\u6765\u81ea\u200b\u952e\u76d8\u200b\u7684\u200b\u8f93\u5165\u200b\u3002</li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#\u8bbe\u7f6e-bash-profile","title":"\u8bbe\u7f6e\u200b Bash Profile","text":"","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#\u7528-nano-\u7f16\u8f91-bash_profile","title":"\u7528\u200b Nano \u200b\u7f16\u8f91\u200b bash_profile","text":"Bash<pre><code>nano ~/.bash_profile\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>~</code>\u200b\u4ee3\u8868\u200b\u6839\u76ee\u5f55\u200b\u3002</p> <p>\u200b\u8fdb\u5165\u200b\u6587\u4ef6\u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5199\u200b\u4e0a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> Bash<pre><code>\"Welcome, Jeremy\"\n</code></pre> <p>\u200b\u4f7f\u7528\u200b<code>source ~/.bash_profile</code>\u200b\u5f15\u5165\u200b\u521a\u624d\u200b\u7f16\u8f91\u200b\u7684\u200b profile \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u4f1a\u200b\u6253\u5370\u200b\u201cWelcome, Jeremy\u201d\u3002\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\u53ef\u200b\u7528\u4f5c\u200b\u6b22\u8fce\u200b\u8bed\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#alias\u7ed9\u547d\u4ee4\u8bbe\u7f6e\u522b\u79f0\u5feb\u6377\u952e","title":"Alias\uff1a\u200b\u7ed9\u200b\u547d\u4ee4\u200b\u8bbe\u7f6e\u200b\u522b\u79f0\u200b\uff08\u200b\u5feb\u6377\u952e\u200b\uff09","text":"<p>\u200b\u5728\u200b bash_profile \u200b\u4e2d\u200b\uff0c\u200b\u6dfb\u52a0\u200b\uff1a</p> Bash<pre><code>alias pd=\"pwd\"\nalias hy=\"history\"\nalias ll=\"ls -la\"\n</code></pre> <p>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\uff1a</p> <ul> <li>\u200b\u7528\u200b<code>pd</code>\u200b\u6253\u5370\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u8def\u5f84\u200b\u3002</li> <li>\u200b\u7528\u200b<code>hy</code>\u200b\u6253\u5370\u200b\u5386\u53f2\u200b\u547d\u4ee4\u200b\u3002</li> <li>\u200b\u7528\u200b<code>ll</code>\u200b\u6253\u5370\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u540d\u200b\uff0c\u200b\u5305\u62ec\u200b\u9690\u85cf\u200b\u7684\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5305\u62ec\u200b\u6587\u4ef6\u200b\u7684\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\u3002</li> </ul> <p>\u200b\u603b\u4e4b\u200b\uff0c\u200b\u7ed9\u200b\u547d\u4ee4\u200b\u8bbe\u7f6e\u200b\u522b\u540d\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u6211\u4eec\u200b\u7528\u200b\u66f4\u200b\u5c11\u200b\u7684\u200b\u5b57\u7b26\u200b\u5b9e\u73b0\u200b\u548c\u200b\u540c\u6837\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#\u4fee\u6539\u547d\u4ee4\u63d0\u793a\u7b26\u7684\u6837\u5f0f","title":"\u4fee\u6539\u200b\u547d\u4ee4\u63d0\u793a\u7b26\u200b\u7684\u200b\u6837\u5f0f","text":"<p>\u200b\u5728\u200b bash_profile \u200b\u4e2d\u200b\uff0c\u200b\u6dfb\u52a0\u200b</p> Bash<pre><code>export PS1=\"&gt;&gt; \"\n</code></pre> <p>\u200b\u5373\u53ef\u200b\u5c06\u200b\u547d\u4ee4\u63d0\u793a\u7b26\u200b\u7684\u200b\u6837\u5f0f\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u662f\u200b<code>$</code>\uff09\u200b\u4fee\u6539\u200b\u4e3a\u200b<code>&gt;&gt;</code>\uff0c\u200b\u5373\u200b\u6bcf\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u7684\u200b\u5f00\u5934\u200b\u90fd\u200b\u662f\u200b<code>&gt;&gt;</code>\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#\u73af\u5883\u53d8\u91cf","title":"\u73af\u5883\u53d8\u91cf","text":"","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","title":"\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf","text":"<ol> <li>\u200b\u5728\u200b bash_profile \u200b\u4e2d\u200b\uff0c\u200b\u6dfb\u52a0\u200b</li> </ol> Bash<pre><code>export USER=\"Jeremy\"\n</code></pre> <p>\u200b\u5373\u53ef\u200b\u5c06\u200b<code>USER</code>\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b<code>Jeremy</code>\u3002</p> <ol> <li>\u200b\u53ef\u4ee5\u200b\u7528\u200b</li> </ol> Bash<pre><code>echo $USER\n</code></pre> <p>\u200b\u6765\u200b\u67e5\u770b\u200b<code>USER</code>\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u6ce8\u610f\u200b\u53d8\u91cf\u200b\u524d\u9762\u200b\u9700\u8981\u200b\u52a0\u200b<code>$</code>\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#home-\u73af\u5883\u53d8\u91cf","title":"HOME \u200b\u73af\u5883\u53d8\u91cf","text":"<p>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b</p> Bash<pre><code>$ echo $HOME\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b HOME \u200b\u73af\u5883\u53d8\u91cf\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#path-\u73af\u5883\u53d8\u91cf","title":"PATH \u200b\u73af\u5883\u53d8\u91cf","text":"<p>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b</p> Bash<pre><code>$ echo $PATH\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\u3002</p> <p>PATH \u200b\u53d8\u91cf\u200b\u662f\u200b\u4e00\u4e9b\u200b\u8def\u5f84\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u8def\u5f84\u200b\u4e2d\u200b\u5b58\u653e\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u547d\u4ee4\u200b\uff08Command\uff09\uff0c\u200b\u4f8b\u5982\u200b<code>pwd</code>\u3001<code>ls</code>\u200b\u7b49\u7b49\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u76f4\u63a5\u200b\u8f93\u5165\u200b<code>pwd</code>\uff0c\u200b\u8ba1\u7b97\u673a\u200b\u77e5\u9053\u200b<code>pwd</code>\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u662f\u200b\u6765\u81ea\u200b\u67d0\u4e2a\u200b PATH \u200b\u7684\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/Linux-Command-Line-Environment/#\u67e5\u770b\u73af\u5883\u53d8\u91cf","title":"\u67e5\u770b\u200b\u73af\u5883\u53d8\u91cf","text":"<ol> <li>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b</li> </ol> Bash<pre><code>$ env\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002</p> <ol> <li>\u200b\u4e0b\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u662f\u200b\u901a\u8fc7\u200b<code>grep</code>\uff08\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff09\u200b\u5c06\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\u8f93\u51fa\u200b\u6765\u200b\u3002</li> </ol> Bash<pre><code>env | grep PATH\n</code></pre> <p>\u200b\u5b83\u200b\u548c\u200b</p> Bash<pre><code>$ echo $PATH\n</code></pre> <p>\u200b\u6548\u679c\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/cs50-week-5-data-structure/","title":"CS50 Week 5 Data Structure","text":"<p>\u200b\u57fa\u672c\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u6570\u7ec4-array-\u7684\u5f0a\u7aef","title":"\u6570\u7ec4\u200b Array \u200b\u7684\u200b\u5f0a\u7aef","text":"<p>\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u662f\u200b\u8fde\u7eed\u200b\u50a8\u5b58\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff1a\u200b\u76f8\u90bb\u200b\u7684\u200b\u5143\u7d20\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u662f\u200b\u201c\u200b\u7d27\u6328\u200b\u201d\u200b\u7740\u200b\u7684\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b<code>[1, 2, 3]</code>\uff0c\u200b\u5b83\u200b\u7684\u200b\u540e\u9762\u200b\uff08\u200b\u7d27\u6328\u200b\u7684\u200b\u53f3\u8fb9\u200b\u7684\u200b\u5185\u5b58\u200b\uff09\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u5176\u5b83\u200b\u91cf\u200b\uff08\u200b\u5728\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b<code>h</code>\uff09\u200b\u5360\u7528\u200b\u4e86\u200b\u3002</p> <p></p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5411\u200b\u8fd9\u4e2a\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b<code>4</code>\uff0c\u200b\u53ef\u884c\u200b\u7684\u200b\u529e\u6cd5\u200b\u662f\u200b\uff1a\u200b\u91cd\u65b0\u5206\u914d\u200b\u4e00\u5757\u200b\u5927\u5c0f\u200b\u4e3a\u200b 4 \u200b\u7684\u200b\u5185\u5b58\u200b\uff0c\u200b\u5148\u200b\u628a\u200b\u539f\u200b\u6570\u7ec4\u200b<code>[1, 2, 3]</code>\u200b\u590d\u5236\u5230\u200b\u65b0\u200b\u5185\u5b58\u200b\u4e0a\u200b\uff0c\u200b\u518d\u6dfb\u200b\u4e0a\u200b<code>4</code>\u3002</p> <p>\u200b\u8fd9\u6837\u200b\u7684\u200b\u505a\u6cd5\u200b\u5f88\u200b\u8017\u8d39\u200b\u65f6\u95f4\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u6bcf\u6b21\u200b\u9047\u5230\u200b\u5185\u5b58\u200b\u51b2\u7a81\u200b\u7684\u200b\u60c5\u51b5\u200b\u65f6\u200b\uff08\u200b\u5f62\u8c61\u200b\u5730\u8bf4\u200b\uff0c\u200b\u5c31\u662f\u200b\u60f3\u8981\u200b\u5199\u5165\u200b\u7684\u200b\u5143\u7d20\u200b\u78b0\u5230\u200b Corner \u200b\u4e86\u200b\uff0c\u200b\u6ca1\u200b\u529e\u6cd5\u200b\u5728\u200b\u76f8\u90bb\u200b\u7684\u200b\u5185\u5b58\u200b\u7ee7\u7eed\u200b\u5199\u5165\u200b\u5143\u7d20\u200b\u4e86\u200b\uff09\uff0c\u200b\u90fd\u200b\u9700\u8981\u200b\u5b8c\u6574\u200b\u5730\u200b\u628a\u200b\u539f\u200b\u6570\u7ec4\u200b\u590d\u5236\u200b\u4e00\u904d\u200b\u3002\u200b\u5982\u679c\u200b\u539f\u200b\u6570\u7ec4\u200b\u5f88\u5927\u200b\uff0c\u200b\u90a3\u4e48\u200b\u590d\u5236\u200b\u8fc7\u7a0b\u200b\u4f1a\u200b\u5f88\u200b\u6f2b\u957f\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u94fe\u8868","title":"\u94fe\u8868","text":"","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u601d\u60f3","title":"\u601d\u60f3","text":"<p>\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u989d\u5916\u200b\u518d\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65b0\u200b\u5185\u5b58\u200b\u7528\u6765\u200b\u50a8\u5b58\u200b\u201c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u5730\u5740\u200b\u201d\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u5373\u4fbf\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u5730\u5740\u200b\u4e0d\u200b\u9700\u8981\u200b\u662f\u200b\u76f8\u90bb\u200b\u7684\u200b\uff0c\u200b\u8ba1\u7b97\u673a\u200b\u4e5f\u200b\u80fd\u200b\u77e5\u9053\u200b\u5404\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u5148\u540e\u987a\u5e8f\u200b\u3002</p> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5b83\u200b\u989d\u5916\u200b\u50a8\u5b58\u200b\u7684\u200b\u662f\u200b<code>0x0</code>\uff0c\u200b\u5373\u7a7a\u200b\u5730\u5740\u200b\uff0c\u200b\u4ee3\u8868\u200b\u6ca1\u6709\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u4e86\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u7a7a\u95f4\u548c\u65f6\u95f4\u7684\u6743\u8861","title":"\u7a7a\u95f4\u200b\u548c\u200b\u65f6\u95f4\u200b\u7684\u200b\u6743\u8861","text":"<ul> <li>\u200b\u94fe\u8868\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u50a8\u5b58\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u5730\u5740\u200b\uff0c\u200b\u800c\u200b\u6570\u7ec4\u200b\u4e0d\u200b\u9700\u8981\u200b\u3002\u200b\u56e0\u6b64\u200b\u94fe\u8868\u200b\u9700\u8981\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u3002</li> <li>\u200b\u94fe\u8868\u200b\u5728\u200b\u63d2\u5165\u200b\u65b0\u5143\u7d20\u200b\u65f6\u200b\u907f\u514d\u200b\u4e86\u200b\u201c\u200b\u76f8\u90bb\u200b\u5730\u5740\u200b\u88ab\u200b\u5360\u7528\u200b\u201d\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e0d\u200b\u9700\u8981\u200b\u590d\u5236\u200b\u539f\u200b\u6570\u7ec4\u200b\u3002\u200b\u56e0\u6b64\u200b\u94fe\u8868\u200b\u8282\u7ea6\u200b\u4e86\u200b\u65f6\u95f4\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u5b9a\u4e49\u94fe\u8868\u7684\u6570\u636e\u7ed3\u6784","title":"\u5b9a\u4e49\u200b\u94fe\u8868\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784","text":"C<pre><code>typedef struct node\n{\nint number;\nstruct node *next;\n}\nnode;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u521d\u59cb\u5316\u94fe\u8868","title":"\u521d\u59cb\u5316\u200b\u94fe\u8868","text":"<p>\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b\u7a7a\u503c\u200b\u3002\u200b\u82e5\u200b\u4e0d\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b\u7a7a\u503c\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5f97\u5230\u200b\u5783\u573e\u200b\u503c\u200b\u3002</p> C<pre><code>node *list = NULL;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u5728\u94fe\u8868\u4e0a\u6dfb\u52a0\u8282\u70b9","title":"\u5728\u200b\u94fe\u8868\u200b\u4e0a\u200b\u6dfb\u52a0\u200b\u8282\u70b9","text":"C<pre><code>//\u200b\u5206\u914d\u5185\u5b58\u200b\nnode *n = malloc(sizeof(node));\n//\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u8fd8\u6709\u200b\u5185\u5b58\u200b\u5269\u4f59\u200b\nif (n != NULL)\n{\n//\u200b\u7ed9\u200b\u8282\u70b9\u200b\u8d4b\u503c\u200b\nn-&gt;number = 1;\nn-&gt;next = NULL;\n}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u6811","title":"\u6811","text":"<p>\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u4e0d\u4ec5\u200b\u50a8\u5b58\u200b\u81ea\u8eab\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u8fd8\u200b\u50a8\u5b58\u200b\uff1a</p> <ul> <li>\u200b\u5de6\u200b\u8282\u70b9\u200b\uff0c\u200b\u5b83\u200b\u6bd4\u200b\u5f53\u524d\u200b\u8282\u70b9\u200b\u5c0f\u200b\uff1b</li> <li>\u200b\u53f3\u200b\u8282\u70b9\u200b\uff0c\u200b\u5b83\u200b\u6bd4\u200b\u5f53\u524d\u200b\u8282\u70b9\u200b\u5927\u200b\u3002</li> </ul> <p></p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u5b9a\u4e49\u6811\u5f62\u7ed3\u6784","title":"\u5b9a\u4e49\u200b\u6811\u5f62\u200b\u7ed3\u6784\u200b\uff1a","text":"C<pre><code>typedef struct node\n{\nint number;\nstruct node *left;\nstruct node *right;\n}\nnode;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u521d\u59cb\u5316\u4e00\u4e2a\u6811\u6839","title":"\u521d\u59cb\u5316\u200b\u4e00\u4e2a\u200b\u6811\u6839\u200b\uff1a","text":"C<pre><code>int main(void)\n{\n// Tree of size 0\nnode *tree = NULL;\n// Add number to list\nnode *n = malloc(sizeof(node));\nif (n == NULL)\n{\nreturn 1;\n}\nn-&gt;number = 2;\nn-&gt;left = NULL;\nn-&gt;right = NULL;\ntree = n;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u6dfb\u52a0\u5b50\u8282\u70b9","title":"\u6dfb\u52a0\u200b\u5b50\u200b\u8282\u70b9","text":"<p>\u200b\u5728\u200b\u5de6\u8fb9\u200b\u6dfb\u52a0\u200b\u8282\u70b9\u200b\uff1a</p> C<pre><code>// Add number to list\nn = malloc(sizeof(node));\nif (n == NULL)\n{\nfree_tree(tree);\nreturn 1;\n}\nn-&gt;number = 1;\nn-&gt;left = NULL;\nn-&gt;right = NULL;\ntree-&gt;left = n;\n</code></pre> <p>\u200b\u5728\u200b\u53f3\u8fb9\u200b\u6dfb\u52a0\u200b\u8282\u70b9\u200b\uff1a</p> C<pre><code>// Add number to list\nn = malloc(sizeof(node));\nif (n == NULL)\n{\nfree_tree(tree);\nreturn 1;\n}\nn-&gt;number = 3;\nn-&gt;left = NULL;\nn-&gt;right = NULL;\ntree-&gt;right = n;\n// Print tree\nprint_tree(tree);\n// Free tree\nfree_tree(tree);\nreturn 0;\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u7528\u5230\u200b\u4e86\u200b<code>print_tree</code>\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5178\u578b\u200b\u7684\u200b\u9012\u5f52\u200b\u5199\u6cd5\u200b\uff1a</p> C<pre><code>void print_tree(node *root)\n{\nif (root == NULL)\n{\nreturn;\n}\nprint_tree(root-&gt;left);\nprintf(\"%i\\n\", root-&gt;number);\nprint_tree(root-&gt;right);\n}\n</code></pre> <p><code>free_tree</code>\u200b\u51fd\u6570\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5b83\u200b\u540c\u6837\u200b\u4e5f\u200b\u662f\u200b\u9012\u5f52\u200b\u7684\u200b\u5199\u6cd5\u200b\uff1a</p> C<pre><code>void free_tree(node *root)\n{\nif (root == NULL)\n{\nreturn;\n}\nfree_tree(root-&gt;left);\nfree_tree(root-&gt;right);\nfree(root);\n}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u6811\u7684\u641c\u7d22\u9012\u5f52\u7b97\u6cd5","title":"\u6811\u200b\u7684\u200b\u641c\u7d22\u200b\uff08\u200b\u9012\u5f52\u200b\u7b97\u6cd5\u200b\uff09","text":"C<pre><code>bool search(node *tree, int number)\n{\nif (tree == NULL)\n{\nreturn false;\n}\nelse if (number &lt; tree-&gt;number)\n{\nreturn search(tree-&gt;left, number);\n}\nelse if (number &gt; tree-&gt;number)\n{\nreturn search(tree-&gt;right, number);\n}\nelse if (number == tree-&gt;number)\n{\nreturn true;\n}\n}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u4f4e\u6548\u7387\u7684\u6811","title":"\u4f4e\u6548\u7387\u200b\u7684\u200b\u6811","text":"<p>\u200b\u4e00\u4e2a\u200b\u5e73\u8861\u200b\u7684\u200b\u6811\u7ed3\u6784\u200b\u7684\u200b\u641c\u7d22\u200b\u590d\u6742\u5ea6\u200b\u5e94\u8be5\u200b\u662f\u200b\\(O(\\log n)\\)\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u6811\u7ed3\u6784\u200b\u5e76\u200b\u6ca1\u6709\u200b\u7528\u5230\u200b\u5de6\u200b\u8282\u70b9\u200b\uff0c\u200b\u800c\u200b\u4ec5\u4ec5\u200b\u662f\u200b\u5728\u200b\u53f3\u8fb9\u200b\u6dfb\u52a0\u200b\u8282\u70b9\u200b\uff0c\u200b\u5b83\u200b\u548c\u200b\u94fe\u8868\u200b\u6ca1\u6709\u200b\u4ec0\u4e48\u200b\u533a\u522b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u641c\u7d22\u200b\u6548\u7387\u200b\u662f\u200b\\(O(n)\\)\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u54c8\u5e0c\u8868","title":"\u54c8\u5e0c\u200b\u8868","text":"<p>\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b\u540d\u5b57\u200b\u6309\u7167\u200b\u9996\u5b57\u6bcd\u200b\u5206\u7c7b\u200b\uff0c\u200b\u5c31\u662f\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u601d\u60f3\u200b\uff1a</p> <p></p> <p>\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u54c8\u5e0c\u200b\u8868\u200b\uff0c\u200b\u6bd4\u200b\u5e38\u89c4\u200b\u7684\u200b\u94fe\u8868\u200b\u5feb\u200b 26 \u200b\u500d\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#trie-\u7ed3\u6784","title":"Trie \u200b\u7ed3\u6784","text":"<p>\u200b\u8fd9\u79cd\u200b\u7ed3\u6784\u200b\u7684\u200b\u641c\u7d22\u200b\u590d\u6742\u5ea6\u200b\u662f\u200b Constant \u200b\u7684\u200b\u3002\u200b\u5373\u4f7f\u200b\u50a8\u5b58\u200b\u4e86\u200b 1 \u200b\u4e07\u4e2a\u200b\u300110 \u200b\u4e07\u4e2a\u200b\u540d\u5b57\u200b\uff0c\u200b\u641c\u7d22\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u540d\u5b57\u200b\u7684\u200b\u65f6\u95f4\u200b\u4ecd\u7136\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u540d\u5b57\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\u3002</p> <p>\u200b\u4f46\u200b Trie \u200b\u7ed3\u6784\u200b\u5e76\u200b\u4e0d\u200b\u7ecf\u5e38\u200b\u88ab\u200b\u4f7f\u7528\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u9700\u8981\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u200b\u5185\u5b58\u200b\u3002\u200b\u5982\u56fe\u6240\u793a\u200b\uff0c\u200b\u540d\u5b57\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u6bcd\u200b\u9700\u8981\u200b 26 \u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u540e\u9762\u200b\u53c8\u200b\u8ddf\u7740\u200b 26 \u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u5373\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u6bcd\u200b\u9700\u8981\u200b 26*26 \u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u7b2c\u4e09\u4e2a\u200b\u5b57\u6bcd\u200b\u9700\u8981\u200b 26*26*26 \u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u6700\u540e\u200b\u9700\u8981\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u200b\u5b57\u7b26\u200b\u6765\u200b\u50a8\u5b58\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u961f\u5217","title":"\u961f\u5217","text":"<p>\u200b\u5148\u8fdb\u5148\u51fa\u200b\u3002\u200b\u50cf\u200b\u5728\u200b\u5546\u5e97\u200b\u6392\u961f\u200b\uff0c\u200b\u6700\u5148\u200b\u8fdb\u53bb\u200b\u7684\u200b\u4eba\u200b\u6700\u5148\u200b\u79bb\u5f00\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-5-data-structure/#\u6808","title":"\u6808","text":"<p>\u200b\u540e\u8fdb\u5148\u51fa\u200b\u3002\u200b\u50cf\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u5806\u8d77\u6765\u200b\u7684\u200b\u9910\u76d8\u200b\uff0c\u200b\u6700\u200b\u4e0a\u9762\u200b\u7684\u200b\u9910\u76d8\u200b\u662f\u200b\u6700\u540e\u200b\u88ab\u200b\u653e\u4e0a\u53bb\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u786e\u200b\u5374\u662f\u200b\u6700\u5148\u200b\u88ab\u200b\u62ff\u51fa\u200b\u7684\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-6-python/","title":"CS50 Week 6 Python","text":"<p>Python \u200b\u57fa\u7840\u77e5\u8bc6\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#python-\u8bed\u6cd5","title":"Python \u200b\u8bed\u6cd5","text":"","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u6253\u5370\u6587\u672c","title":"\u6253\u5370\u200b\u6587\u672c","text":"Python<pre><code>print(\"hello, world\")\n</code></pre> <ul> <li>\u200b\u4e0d\u662f\u200b<code>printf</code>\uff1b</li> <li>\u200b\u4e0d\u200b\u9700\u8981\u200b\u6362\u884c\u7b26\u200b<code>\\n</code>\uff0c\u200b\u5c31\u200b\u80fd\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\uff1b</li> <li> <p>\u200b\u5982\u679c\u200b\u4e0d\u60f3\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b\u53c2\u6570\u200b<code>end</code>\uff0c\u200b\u7528\u200b<code>print(\"hello, world\", end=\"\")</code>\u3002</p> </li> <li> <p>\u200b\u884c\u672b\u200b\u6ca1\u6709\u200b\u5206\u200b\u53f7\u200b\u3002</p> </li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u6761\u4ef6\u8bed\u53e5","title":"\u6761\u4ef6\u200b\u8bed\u53e5","text":"Python<pre><code>if x &lt; y:\nprint(\"x is less than y\")\nelif x &gt; y:\nprint(\"x is greater than y\")\nelse:\nprint(\"x is equal to y\")\n</code></pre> <ul> <li>\u200b\u6761\u4ef6\u200b\u8bed\u53e5\u200b\u6ca1\u6709\u200b\u5706\u62ec\u53f7\u200b<code>()</code>\uff1b</li> <li>\u200b\u6267\u884c\u200b\u8bed\u53e5\u200b\u4e0d\u200b\u9700\u8981\u200b\u7528\u82b1\u200b\u62ec\u53f7\u200b\u62ec\u200b\u8d77\u6765\u200b\uff0c\u200b\u4f46\u200b\u8981\u200b\u6ce8\u610f\u200b\u7f29\u8fdb\u200b\uff1b</li> <li><code>elif</code>\u200b\u5c31\u662f\u200b<code>else if</code>\u3002</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#while\u5faa\u73af","title":"<code>while</code>\u200b\u5faa\u73af","text":"Python<pre><code>while True:\nprint(\"meow\")\n</code></pre> <ul> <li><code>True</code>\u200b\u548c\u200b<code>False</code>\u200b\u7684\u200b\u9996\u5b57\u6bcd\u200b\u8981\u200b\u5927\u5199\u200b\u3002</li> </ul> Python<pre><code>i = 0\nwhile i &lt; 3:\nprint(\"meow\")\ni += 1\n</code></pre> <ul> <li>\u200b\u4e0d\u80fd\u200b\u7528\u200b<code>i++</code>\uff0c\u200b\u4f46\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>i += 1</code>\u3002\u200b\u636e\u8bf4\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b Python \u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\u4eec\u200b\u8ba4\u4e3a\u200b\uff1a\u200b\u4e0d\u200b\u9700\u8981\u200b\u591a\u79cd\u200b\u8bed\u6cd5\u200b\u6765\u200b\u5b8c\u6210\u200b\u540c\u6837\u200b\u7684\u200b\u4e8b\u60c5\u200b\u3002</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#for\u5faa\u73af","title":"<code>for</code>\u200b\u5faa\u73af","text":"Python<pre><code>for i in [0, 1, 2]:\nprint(\"hello, world\")\n</code></pre> <ul> <li><code>in</code>\u200b\u540e\u9762\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u3002</li> </ul> Python<pre><code>for i in range(3):\nprint(\"hello, world\")\n</code></pre> <ul> <li><code>range(3)</code>\u200b\u51fd\u6570\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 3 \u200b\u7684\u200b\u5217\u8868\u200b\uff0c\u200b\u4ece\u200b 0 \u200b\u5f00\u59cb\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u5305\u62ec\u200b 3\u3002</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u6570\u636e\u7ed3\u6784","title":"\u6570\u636e\u7ed3\u6784","text":"<ul> <li> <p><code>bool</code>\uff1a<code>True</code>\u200b\u548c\u200b<code>False</code>\u3002</p> </li> <li> <p><code>float</code></p> </li> <li><code>int</code>\uff1a\u200b\u4e0d\u7528\u200b\u62c5\u5fc3\u200b\u6574\u6570\u200b\u6ea2\u51fa\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</li> <li><code>str</code></li> <li><code>range</code>\uff1a\u200b\u4e00\u5217\u200b\u6570\u5b57\u200b\u3002</li> <li><code>list</code>\uff1a\u200b\u5217\u8868\u200b\u3002\u200b\u5217\u8868\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200b\u3002</li> <li><code>tuple</code>\uff1a\u200b\u5143\u7ec4\u200b\u3002\u200b\u5143\u7ec4\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200b\u3002</li> <li><code>dict</code>\uff1a\u200b\u5b57\u5178\u200b\uff0c\u200b\u5305\u542b\u200b<code>key</code>\u200b\u548c\u200b<code>value</code>\u3002</li> <li><code>set</code>\uff1a\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\uff0c\u200b\u5b83\u200b\u91cc\u9762\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u90fd\u200b\u662f\u200b\u552f\u4e00\u200b\u7684\u200b\uff0c\u200b\u6ca1\u6709\u200b\u91cd\u590d\u200b\u7684\u200b\u5143\u7d20\u200b\u3002</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u5e93","title":"\u5e93","text":"<p>\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b Python \u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u50cf\u200b C \u200b\u8bed\u8a00\u200b\u90a3\u6837\u200b\u7f16\u8bd1\u200b\u518d\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u4e00\u6b65\u200b\uff1a</p> Bash<pre><code>python hello.py\n</code></pre> <p>Python \u200b\u662f\u200b\u89e3\u91ca\u200b\u578b\u200b\u8bed\u8a00\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5c06\u200b\u6211\u4eec\u200b\u7684\u200b\u6e90\u4ee3\u7801\u200b\u4e00\u884c\u200b\u4e00\u884c\u200b\u5730\u200b\u7ffb\u8bd1\u6210\u200b CPU \u200b\u80fd\u200b\u7406\u89e3\u200b\u7684\u200b\u8bed\u8a00\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u4f7f\u7528\u5e93\u7ed9\u56fe\u7247\u52a0\u6ee4\u955c","title":"\u4f7f\u7528\u200b\u5e93\u200b\u7ed9\u200b\u56fe\u7247\u200b\u52a0\u200b\u6ee4\u955c","text":"Python<pre><code>from PIL import Image, ImageFilter\nbefore = Image.open(\"bridge.bmp\")\nafter = before.filter(ImageFilter.BoxBlur(10))\nafter.save(\"out.bmp\")\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#python-\u548c-c\u7f16\u7a0b\u96be\u5ea6\u4e0e\u8fd0\u884c\u6548\u7387","title":"Python \u200b\u548c\u200b C\uff1a\u200b\u7f16\u7a0b\u200b\u96be\u5ea6\u200b\u4e0e\u200b\u8fd0\u884c\u200b\u6548\u7387","text":"<p>\u200b\u4f7f\u7528\u200b Python \u200b\u5b9e\u73b0\u200b\u5b57\u5178\u200b\u7684\u200b\u8bfb\u5199\u200b\u3001\u200b\u67e5\u8be2\u200b\u957f\u5ea6\u200b\u529f\u80fd\u200b\uff1a</p> Python<pre><code>words = set()\ndef check(word):\nif word.lower() in words:\nreturn True\nelse:\nreturn False\ndef load(dictionary):\nfile = open(dictionary, \"r\")\nfor line in file:\nword = line.rstrip()\nwords.add(word)\nfile.close()\nreturn True\ndef size():\nreturn len(words)\ndef unload():\nreturn True\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u5b9a\u4e49\u200b\u590d\u6742\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4ece\u200b\u5e95\u5c42\u200b\u5f00\u59cb\u200b\u7f16\u5199\u200b\u51fd\u6570\u200b\uff0c\u200b\u8fd9\u200b\u4e3b\u8981\u200b\u5f97\u76ca\u4e8e\u200b Python \u200b\u4e2d\u200b\u4e30\u5bcc\u200b\u7684\u200b\u5e93\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u5e93\u662f\u200b\u7531\u200b\u4e00\u4e9b\u200b\u5f00\u53d1\u8005\u200b\u63d0\u4f9b\u200b\u7684\u200b\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u80fd\u591f\u200b\u7ad9\u200b\u5728\u200b\u5de8\u4eba\u200b\u7684\u200b\u80a9\u8180\u200b\u4e0a\u200b\u7ee7\u7eed\u200b\u5f00\u53d1\u200b\uff0c\u200b\u514d\u53bb\u200b\u4e86\u200b\u7e41\u7410\u200b\u7684\u200b\u5e95\u5c42\u200b\u4ee3\u7801\u200b\u8bbe\u8ba1\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0cPython \u200b\u7684\u200b\u4ee3\u7801\u200b\u901a\u5e38\u200b\u5341\u5206\u200b\u6613\u61c2\u200b\u3001\u200b\u6613\u5199\u200b\u3002</p> <p>C \u200b\u8bed\u8a00\u200b\u7684\u200b\u4ee3\u7801\u200b\u867d\u7136\u200b\u9700\u8981\u200b\u5199\u200b\u5f88\u591a\u200b\u5e95\u5c42\u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u7684\u200b\u7f16\u8bd1\u200b\u8fd0\u884c\u200b\u901f\u5ea6\u200b\u5f88\u5feb\u200b\u3002\u200b\u8bb8\u591a\u200b\u5bf9\u200b\u8fd0\u884c\u200b\u6548\u7387\u200b\u8981\u6c42\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u5927\u578b\u9879\u76ee\u200b\u90fd\u200b\u4f7f\u7528\u200b C \u200b\u8bed\u8a00\u200b\u8fdb\u884c\u200b\u5f00\u53d1\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#input","title":"Input","text":"Python<pre><code>answer = input(\"What's your name? \")\nprint(\"hello, \" + answer)\n</code></pre> <ul> <li><code>input()</code>\uff1a\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u7528\u6237\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\u3002</li> </ul> Python<pre><code>x = int(input(\"x: \"))\ny = int(input(\"y: \"))\nprint(x + y)\n</code></pre> <ul> <li>\u200b\u4f7f\u7528\u200b<code>int()</code>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6574\u578b\u200b\u683c\u5f0f\u200b\uff0c\u200b\u624d\u80fd\u200b\u8fdb\u884c\u200b\u52a0\u51cf\u200b\u8fd0\u7b97\u200b\u3002</li> </ul> <p>\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff08\u200b\u800c\u200b\u4e0d\u662f\u200b\u6570\u5b57\u200b\uff09\uff0c\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u505a\u200b<code>int</code>\u200b\u7684\u200b\u8f6c\u5316\u200b\u5185\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u62a5\u9519\u200b\u7c7b\u578b\u200b\u662f\u200b<code>ValueError</code>\uff1a</p> Bash<pre><code>$ python calculator.py\nx: cat Traceback (most recent call last):\n  File \"/workspaces/20377622/calculator.py\", line 1, in &lt;module&gt;\n    x = int(input(\"x: \"))\nValueError: invalid literal for int() with base 10: 'cat'\n</code></pre> <p>\u200b\u4e3a\u4e86\u200b\u9632\u6b62\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u7684\u200b\u4e0d\u662f\u200b\u6570\u5b57\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>try</code>\u200b\u548c\u200b<code>except</code>\uff1a</p> Python<pre><code>try:\nx = int(input(\"x: \"))\nexcept ValueError:\nprint(\"That is not an int!\")\nexit()\ntry:\ny = int(input(\"y: \"))\nexcept ValueError:\nprint(\"That is not an int!\")\nexit()\nprint(x + y)\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u9664\u6cd5","title":"\u9664\u6cd5","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b\u7684\u200b\u9664\u6cd5\u200b\u5982\u679c\u200b\u4e0d\u200b\u6574\u9664\u200b\uff0c\u200b\u81ea\u52a8\u200b\u4f1a\u200b\u5f97\u5230\u200b\u6d6e\u70b9\u6570\u200b\u3002\u200b\u800c\u200b\u5728\u200b C \u200b\u8bed\u8a00\u200b\u4e2d\u662f\u200b\u53ea\u53d6\u200b\u6574\u6570\u200b\u7684\u200b\u3002</p> Python<pre><code>from cs50 import get_int\nx = get_int(\"x: \")\ny = get_int(\"y: \")\nz = x / y\nprint(z)\n</code></pre> Bash<pre><code>$ python calculator.py\nx: 1\ny: 10\n0.1\n</code></pre> <p>\u200b\u5982\u679c\u200b\u786e\u5b9e\u200b\u5e0c\u671b\u200b\u9664\u6cd5\u200b\u53d6\u6574\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>z = x // y</code>\uff1a</p> <p>\u200b\u5728\u200b C \u200b\u8bed\u8a00\u200b\u4e2d\u200b\uff0c<code>//</code>\u200b\u662f\u200b\u6ce8\u91ca\u200b\u3002\u200b\u800c\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c<code>//</code>\u200b\u662f\u200b\u9664\u6cd5\u200b\u53d6\u6574\u200b\uff0c<code>#</code>\u200b\u662f\u200b\u6ce8\u91ca\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6","title":"\u6d6e\u70b9\u6570\u200b\u7684\u200b\u7cbe\u5ea6","text":"<p>Python \u200b\u4e2d\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\u4ecd\u7136\u200b\u4e0d\u662f\u200b\u5b8c\u5168\u200b\u7cbe\u786e\u200b\u7684\u200b\uff1a</p> Python<pre><code>from cs50 import get_int\nx = get_int(\"x: \")\ny = get_int(\"y: \")\nz = x / y\nprint(f\"{z:.50f}\")\n</code></pre> Bash<pre><code>$ python calculator.py\nx: 1\ny: 10\n0.10000000000000000555111512312578270211815834045410\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u81ea\u5b9a\u4e49\u51fd\u6570","title":"\u81ea\u5b9a\u4e49\u200b\u51fd\u6570","text":"<p>\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u51fd\u6570\u200b\u8981\u200b\u5148\u200b\u88ab\u200b\u5b9a\u4e49\u200b\u518d\u200b\u88ab\u200b\u8c03\u7528\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\u3002</p> Python<pre><code>for i in range(3):\nmeow()\ndef meow():\nprint(\"meow\")\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a<code>NameError: name 'meow' is not defined</code>\u3002</p> <p>Python \u200b\u4e2d\u200b\u6ca1\u6709\u200b<code>main</code>\u200b\u51fd\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b<code>main</code>\u200b\u51fd\u6570\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4ee3\u7801\u200b\u7684\u200b\u6700\u540e\u200b\u8c03\u7528\u200b<code>main</code>\u200b\u51fd\u6570\u200b\u3002</p> Python<pre><code>def main():\nfor i in range(3):\nmeow()\ndef meow():\nprint(\"meow\")\nmain()\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u5199\u200b\u4e00\u4e9b\u200b\u5e93\u200b\u6587\u4ef6\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u653e\u5728\u200b\u5e95\u90e8\u200b\uff0c\u200b\u9632\u6b62\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b\u5e93\u51fd\u6570\u200b\u7684\u200b\u65f6\u5019\u200b\u90fd\u200b\u8fd0\u884c\u200b\u6574\u4e2a\u200b\u5e93\u200b\u6587\u4ef6\u200b\uff1a</p> Python<pre><code>if __name__ == \"__main__\":\nmain()\n</code></pre> <p>\u200b\u8fd9\u200b\u5728\u200b\u8c03\u8bd5\u200b\u5e93\u200b\u6587\u4ef6\u200b\u7684\u200b\u65f6\u5019\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u547d\u4ee4\u884c\u53c2\u6570","title":"\u547d\u4ee4\u884c\u200b\u53c2\u6570","text":"<p>\u200b\u4f7f\u7528\u200b<code>sys</code>\u200b\u5e93\u4e2d\u200b\u7684\u200b<code>argv</code>\u200b\u6a21\u5757\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u63a5\u6536\u200b\u53c2\u6570\u200b\u3002</p> Python<pre><code>from sys import argv\nif len(argv) == 2:\nprint(f\"hello, {argv[1]}\")\nelse:\nprint(\"hello, world\")\n</code></pre> Text Only<pre><code>$ python argv.py\nhello, world\n$ python argv.py David\nhello, David\n</code></pre> <ul> <li><code>argv[0]</code>\u200b\u662f\u200b\u7a0b\u5e8f\u200b\u540d\u200b\uff0c\u200b\u5373\u200b<code>argv.py</code>\u3002</li> <li><code>argv[1]</code>\u200b\u662f\u200b<code>David</code>\u3002</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u9000\u51fa\u4ee3\u7801","title":"\u9000\u51fa\u200b\u4ee3\u7801","text":"<p>\u200b\u7528\u200b<code>sys.exit</code>\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u9000\u51fa\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>from sys import argv, exit\nif len(argv) != 2:\nprint(\"Missing command-line argument\")\nexit(1)\nprint(f\"hello, {argv[1]}\")\nexit(0)\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u66f4\u591a\u5f3a\u5927\u7684\u5e93","title":"\u66f4\u200b\u591a\u200b\u5f3a\u5927\u200b\u7684\u200b\u5e93","text":"","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u6587\u672c\u8f6c\u8bed\u97f3","title":"\u6587\u672c\u200b\u8f6c\u200b\u8bed\u97f3","text":"Python<pre><code>import pyttsx3\nengine = pyttsx3.init()\nengine.say(\"hello, world\")\nengine.runAndWait()\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u4eba\u8138\u8bc6\u522b","title":"\u4eba\u8138\u8bc6\u522b","text":"Python<pre><code># Find faces in picture\n# https://github.com/ageitgey/face_recognition/blob/master/examples/find_faces_in_picture.py\nfrom PIL import Image\nimport face_recognition\n# Load the jpg file into a NumPy array\nimage = face_recognition.load_image_file(\"office.jpg\")\n# Find all the faces in the image using the default HOG-based model.\n# This method is fairly accurate, but not as accurate as the CNN model and not GPU accelerated.\n# See also: find_faces_in_picture_cnn.py\nface_locations = face_recognition.face_locations(image)\nfor face_location in face_locations:\n# Print the location of each face in this image\ntop, right, bottom, left = face_location\n# You can access the actual face itself like this:\nface_image = image[top:bottom, left:right]\npil_image = Image.fromarray(face_image)\npil_image.show()\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u8bed\u97f3\u8bc6\u522b","title":"\u8bed\u97f3\u200b\u8bc6\u522b","text":"Python<pre><code># Responds to a name\n# https://pypi.org/project/SpeechRecognition/\nimport re\nimport speech_recognition\n# Obtain audio from the microphone\nrecognizer = speech_recognition.Recognizer()\nwith speech_recognition.Microphone() as source:\nprint(\"Say something:\")\naudio = recognizer.listen(source)\n# Recognize speech using Google Speech Recognition\nwords = recognizer.recognize_google(audio)\n# Respond to speech\nmatches = re.search(\"my name is (.*)\", words)\nif matches:\nprint(f\"Hey, {matches[1]}.\")\nelse:\nprint(\"Hey, you.\")\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-6-python/#\u751f\u6210\u4e8c\u7ef4\u7801","title":"\u751f\u6210\u200b\u4e8c\u7ef4\u7801","text":"Python<pre><code>import os\nimport qrcode\nimg = qrcode.make(\"https://youtu.be/xvFZjo5PgG0\")\nimg.save(\"qr.png\", \"PNG\")\nos.system(\"open qr.png\")\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-7-sql/","title":"CS50 Week 7 SQL","text":"<p>\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u589e\u5220\u200b\u67e5\u6539\u200b\u4ee5\u53ca\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u7684\u200b\u4f7f\u7528\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u90fd\u200b\u662f\u200b\u5b58\u5728\u200b\u5185\u5b58\u200b\u91cc\u9762\u200b\uff0c\u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u9000\u51fa\u200b\u540e\u200b\uff0c\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u5c31\u200b\u6d88\u5931\u200b\u4e86\u200b\u3002SQL \u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u6211\u4eec\u200b\u50a8\u5b58\u200b\u5230\u200b\u786c\u76d8\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5148\u200b\u7ec3\u4e60\u200b\u4e00\u4e9b\u200b Python \u200b\u6570\u636e\u5904\u7406\u200b\u7684\u200b\u6280\u5de7\u200b\uff1a</p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u6570\u636e\u5904\u7406","title":"\u6570\u636e\u5904\u7406","text":"","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u4e3a\u4ec0\u4e48csv\u6587\u4ef6\u6bd4-excel-\u7684xlsx\u6587\u4ef6\u66f4\u597d","title":"\u4e3a\u4ec0\u4e48\u200b<code>.csv</code>\u200b\u6587\u4ef6\u200b\u6bd4\u200b Excel \u200b\u7684\u200b<code>.xlsx</code>\u200b\u6587\u4ef6\u200b\u66f4\u597d\u200b\uff1f","text":"<ul> <li><code>.csv</code>\u200b\u6587\u4ef6\u200b\u7531\u200b\u9017\u53f7\u200b\u5206\u9694\u200b\uff0c\u200b\u683c\u5f0f\u200b\u7b80\u5355\u200b\uff0c\u200b\u8bfb\u5199\u200b\u901f\u5ea6\u200b\u5feb\u200b\u3002</li> <li><code>.xlsx</code>\u200b\u6587\u4ef6\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b Microsoft Office\u3002\u200b\u540c\u7406\u200b\uff0c<code>.numbers</code>\u200b\u6587\u4ef6\u200b\u9700\u8981\u200b\u82f9\u679c\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7528\u6237\u200b\u4e4b\u95f4\u200b\u7684\u200b\u4f20\u8f93\u200b\u5b58\u5728\u200b\u969c\u788d\u200b\u3002</li> </ul>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u6392\u5e8f","title":"\u6392\u5e8f","text":"<p><code>sorted(list)</code>\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5347\u5e8f\u200b\u6392\u5217\u200b\u7684\u200b\u65b0\u200b<code>list</code>\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u53ef\u4ee5\u200b\u6309\u200b\u5b57\u6bcd\u8868\u200b\u6253\u5370\u200b<code>titles</code>\uff1a</p> Python<pre><code>for title in sorted(titles):\nprint(title, titles[title])\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u6309\u7167\u5b57\u5178\u7684-value-\u6392\u5e8f\u800c\u4e0d\u662f\u9ed8\u8ba4\u7684-key","title":"\u6309\u7167\u200b\u5b57\u5178\u200b\u7684\u200b value \u200b\u6392\u5e8f\u200b\uff08\u200b\u800c\u200b\u4e0d\u662f\u200b\u9ed8\u8ba4\u200b\u7684\u200b key\uff09","text":"<p>\u200b\u4f7f\u7528\u200b\u53c2\u6570\u200b<code>key</code>\uff1a</p> Python<pre><code>...\ndef get_value(title):\nreturn titles[title]\nfor title in sorted(titles, key=get_value, reverse=True):\nprint(title, titles[title])\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\uff1a</p> Python<pre><code>for title in sorted(titles, key=lambda title: titles[title], reverse=True):\nprint(title, titles[title])\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u5220\u9664\u5b57\u7b26\u4e32\u524d\u540e\u7684\u7a7a\u683c","title":"\u5220\u9664\u200b\u5b57\u7b26\u4e32\u200b\u524d\u540e\u200b\u7684\u200b\u7a7a\u683c","text":"<p><code>.strip()</code></p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u5c06\u5b57\u7b26\u4e32\u5168\u90e8\u8f6c\u6362\u4e3a\u5927\u5199","title":"\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u5168\u90e8\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5927\u5199","text":"<p><code>.upper()</code></p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u5220\u9664\u91cd\u590d\u503c","title":"\u5220\u9664\u200b\u91cd\u590d\u200b\u503c","text":"<p>\u200b\u6709\u200b 2 \u200b\u79cd\u200b\u601d\u8def\u200b\uff1a</p> <ol> <li>\u200b\u65b0\u5efa\u200b\u7a7a\u200b\u5217\u8868\u200b\u3002\u200b\u5982\u679c\u200b\u5217\u8868\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u51fa\u73b0\u200b\u4e86\u200b\u67d0\u200b\u5143\u7d20\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u5c06\u200b\u8be5\u200b\u5143\u7d20\u200b\u6dfb\u52a0\u200b\u5230\u200b\u5217\u8868\u200b\u4e2d\u200b\uff1b\u200b\u5982\u679c\u200b\u5217\u8868\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u51fa\u73b0\u200b\u8fc7\u200b\u67d0\u200b\u5143\u7d20\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u8be5\u200b\u5143\u7d20\u200b\u6dfb\u52a0\u200b\u5230\u200b\u5217\u8868\u200b\u4e2d\u200b\u3002</li> </ol> Python<pre><code>import csv\ntitles = []\nwith open(\"favorites.csv\", \"r\") as file:\nreader = csv.DictReader(file)\nfor row in reader:\ntitle = row[\"title\"].strip().upper()\nif not title in titles:\ntitles.append(title)\nfor title in titles:\nprint(title)\n</code></pre> <ol> <li>\u200b\u5229\u7528\u200b<code>set()</code>\u200b\u672c\u8eab\u200b\u4e0d\u200b\u5305\u542b\u200b\u7a7a\u503c\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u5373\u53ef\u200b\u76f4\u63a5\u200b<code>.add()</code>\uff0c\u200b\u800c\u200b\u4e0d\u7528\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u6709\u200b\u91cd\u590d\u200b\u9879\u200b\u3002</li> </ol> Python<pre><code>import csv\ntitles = set()\nwith open(\"favorites.csv\", \"r\") as file:\nreader = csv.DictReader(file)\nfor row in reader:\ntitle = row[\"title\"].strip().upper()\ntitles.add(title)\nfor title in titles:\nprint(title)\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u8ba1\u6570-counting","title":"\u8ba1\u6570\u200b Counting","text":"<p>\u200b\u4f7f\u7528\u200b\u5b57\u5178\u200b\u8fdb\u884c\u200b\u8ba1\u6570\u200b\uff0c<code>key</code>\u200b\u5b58\u653e\u200b\u540d\u79f0\u200b\uff0c<code>value</code>\u200b\u5b58\u653e\u200b\u6570\u91cf\u200b\u3002</p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u6b63\u5219\u8868\u8fbe\u5f0f","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u200b\u90ae\u7bb1\u200b\u7684\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff1a</p> Text Only<pre><code>.*@.*\\..*\n</code></pre> <p>\u200b\u542b\u4e49\u200b\uff1a</p> <ul> <li><code>.</code>\uff1a\u200b\u4efb\u610f\u200b\u5b57\u7b26\u200b</li> <li><code>.*</code>\uff1a\u200b\u4efb\u610f\u200b\u5b57\u7b26\u200b\uff0c\u200b\u51fa\u73b0\u200b 0 \u200b\u6b21\u53ca\u200b\u4ee5\u4e0a\u200b</li> <li><code>@</code>\uff1a\u200b\u5b57\u7b26\u200b<code>@</code></li> <li><code>\\.</code>\uff1a\u200b\u5b57\u7b26\u200b<code>.</code></li> </ul> Text Only<pre><code>.+@.+\\..+\n</code></pre> <p>\u200b\u542b\u4e49\u200b\uff1a</p> <ul> <li><code>.+</code>\uff1a\u200b\u4efb\u610f\u200b\u5b57\u7b26\u200b\uff0c\u200b\u51fa\u73b0\u200b 1 \u200b\u6b21\u53ca\u200b\u4ee5\u4e0a\u200b</li> </ul> <p>\u200b\u5176\u4ed6\u200b\u8868\u8fbe\u5f0f\u200b\uff1a</p> <ul> <li><code>.?</code>\uff1a\u200b\u4efb\u610f\u200b\u5b57\u7b26\u200b\uff0c\u200b\u51fa\u73b0\u200b 0 \u200b\u6b21\u200b\u6216\u200b 1 \u200b\u6b21\u200b</li> <li><code>^</code>\uff1a\u200b\u8f93\u5165\u200b\u7684\u200b\u5f00\u5934\u200b</li> <li><code>$</code>\uff1a\u200b\u8f93\u5165\u200b\u7684\u200b\u7ed3\u5c3e\u200b</li> </ul>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u5173\u7cfb\u578b\u6570\u636e\u5e93","title":"\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93","text":"<p>\u200b\u56db\u79cd\u200b\u57fa\u672c\u64cd\u4f5c\u200b\uff1a<code>CRUD</code>\uff08\u200b\u589e\u5220\u200b\u67e5\u6539\u200b\uff09</p> <ul> <li><code>CREATE</code>\uff08\u200b\u589e\u200b\uff09</li> <li><code>READ</code>\uff08\u200b\u67e5\u200b\uff09</li> <li><code>UPDATE</code>\uff08\u200b\u6539\u200b\uff09</li> <li><code>DELETE</code>\uff08\u200b\u5220\u200b\uff09</li> </ul>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u5c55\u793a\u67d0\u5217","title":"\u5c55\u793a\u200b\u67d0\u5217","text":"Text Only<pre><code>SELECT title FROM favorites;\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u7b5b\u9009\u6570\u636e","title":"\u7b5b\u9009\u200b\u6570\u636e","text":"Text Only<pre><code>SELECT genres FROM favorites WHERE title = \"Game of Thrones\";\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u66f4\u65b0\u6570\u636e","title":"\u66f4\u65b0\u200b\u6570\u636e","text":"Text Only<pre><code>UPDATE favorites SET genres = \"Action, Adventure, Drama, Fantasy, Thriller, War\" WHERE title = \"Game of Thrones\";\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b<code>title = \"Game of Thrones\"</code>\u200b\u7684\u200b<code>genres</code>\u200b\u53d8\u6210\u200b<code>\"Action, Adventure, Drama, Fantasy, Thriller, War\"</code>\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5c0f\u5fc3\u200b\u5fd8\u8bb0\u200b\u52a0\u4e0a\u200b<code>WHERE</code>\u200b\u6761\u4ef6\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b<code>genres</code>\u200b\u5168\u90e8\u200b\u53d8\u6210\u200b<code>\"Action, Adventure, Drama, Fantasy, Thriller, War\"</code>\uff0c\u200b\u8fd9\u662f\u200b\u4e0d\u53ef\u200b\u64a4\u9500\u200b\u7684\u200b\uff01\u200b\u5b9a\u65f6\u200b\u5907\u4efd\u200b\uff01\u200b\u5c0f\u5fc3\u200b\u64cd\u4f5c\u200b\uff01</p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u591a\u5f20\u8868","title":"\u591a\u200b\u5f20\u8868","text":"<p><code>SQL</code>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e00\u5f20\u200b\u8868\u200b\u6620\u5c04\u200b\u6210\u200b\u591a\u4e2a\u200b\u5173\u7cfb\u200b\u578b\u8868\u200b\u3002\u200b\u8ba9\u200b\u6574\u4e2a\u200b\u6570\u636e\u5e93\u200b\u66f4\u52a0\u200b\u89c4\u8303\u200b\u3001\u200b\u6613\u8bfb\u200b\u3002</p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u63d2\u5165\u6570\u636e","title":"\u63d2\u5165\u200b\u6570\u636e","text":"Text Only<pre><code>sqlite&gt; INSERT INTO shows (title) VALUES(\"Seinfeld\");\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u5728-python-\u4e2d\u4f7f\u7528-sql","title":"\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b SQL","text":"<p>\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b<code>cs50</code>\u200b\u8fd9\u4e2a\u200b\u5e93\u200b</p> Python<pre><code>import csv\nfrom cs50 import SQL\ndb = SQL(\"sqlite:///favorites.db\")\ntitle = input(\"Title: \").strip()\nrows = db.execute(\"SELECT COUNT(*) AS counter FROM favorites WHERE title LIKE ?\", title)\nrow = rows[0]\nprint(row[\"counter\"])\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u6253\u5370\u8fd0\u884c\u65f6\u95f4","title":"\u6253\u5370\u200b\u8fd0\u884c\u200b\u65f6\u95f4","text":"Text Only<pre><code>sqlite&gt; .timer on\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u521b\u5efa-index-\u4ee5\u52a0\u901f\u67e5\u8be2\u8fc7\u7a0b","title":"\u521b\u5efa\u200b INDEX \u200b\u4ee5\u200b\u52a0\u901f\u200b\u67e5\u8be2\u200b\u8fc7\u7a0b","text":"<p>\u200b\u6709\u200b\u7684\u200b\u8868\u200b\u9700\u8981\u200b\u7ecf\u5e38\u200b\u5728\u200b\u641c\u7d22\u200b\u4e2d\u200b\u7528\u5230\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b INDEX\uff0c\u200b\u52a0\u901f\u200b\u540e\u7eed\u200b\u7684\u200b\u67e5\u8be2\u200b\u8fc7\u7a0b\u200b\u3002\uff08\u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u8282\u7ea6\u200b\u65f6\u95f4\u200b\uff09</p> Text Only<pre><code>sqlite&gt; CREATE INDEX \"title_index\" ON \"shows\" (\"title\");\n</code></pre>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u7834\u574f-sql-\u8bed\u53e5","title":"\u7834\u574f\u200b SQL \u200b\u8bed\u53e5","text":"<p>\u200b\u901a\u5e38\u200b\u7528\u200b SQL \u200b\u8bed\u53e5\u200b\u67e5\u8be2\u200b\u7528\u6237\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u68c0\u67e5\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\u662f\u5426\u200b\u5339\u914d\u200b\uff0c\u200b\u4ee5\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u767b\u5f55\u200b\u6210\u529f\u200b\u3002</p> <p>\u200b\u4f46\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u8ba9\u200b SQL \u200b\u7684\u200b\u5224\u65ad\u200b\u8bed\u53e5\u200b\u88ab\u200b\u7834\u574f\u200b\u3002\u200b\u6bd4\u5982\u200b\uff0c\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u7684\u200b\u6587\u672c\u200b\u5305\u542b\u200b<code>--</code>\uff0c\u200b\u800c\u200b<code>--</code>\u200b\u5728\u200b SQL \u200b\u4e2d\u662f\u200b\u6ce8\u91ca\u200b\u7684\u200b\u610f\u601d\u200b\uff0c\u200b\u56e0\u6b64\u200b<code>--</code>\u200b\u540e\u9762\u200b\u7684\u200b SQL \u200b\u4ee3\u7801\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u6267\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7834\u574f\u200b\u767b\u5f55\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/cs50-week-7-sql/#\u540c\u65f6\u8bbf\u95ee-sql-\u7684\u95ee\u9898","title":"\u540c\u65f6\u200b\u8bbf\u95ee\u200b SQL \u200b\u7684\u200b\u95ee\u9898","text":"<p>\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u7528\u6237\u200b\u540c\u65f6\u200b\u7528\u200b SQL \u200b\u8bed\u53e5\u200b\u5bf9\u200b\u6570\u636e\u5e93\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u51b2\u7a81\u200b\u3002\u200b\u67d0\u4e2a\u200b\u53d8\u91cf\u200b\u53ef\u80fd\u200b\u989d\u4f1a\u200b\u5c11\u8bb0\u200b\u4e00\u6b21\u200b\u66f4\u65b0\u200b\u3002\u200b\u4e00\u4e2a\u200b\u53ef\u80fd\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\u6267\u884c\u200b\u4e00\u6761\u200b SQL \u200b\u8bed\u53e5\u200b\u65f6\u200b\uff0c\u200b\u9501\u5b9a\u200b\u67d0\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5728\u200b\u6267\u884c\u200b\u5b8c\u6210\u200b\u524d\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u8be5\u200b\u53d8\u91cf\u200b\u53d1\u751f\u53d8\u5316\u200b\u3002</p>","tags":["Computer Science","\u6570\u636e\u5e93"]},{"location":"blog/graduation/","title":"\u6211\u4eec\u200b\u6bd5\u4e1a\u200b\u4e86","text":"<p>\u200b\u73cd\u8d35\u200b\u7684\u200b\u7167\u7247\u200b\u548c\u200b\u73cd\u8d35\u200b\u7684\u200b\u4eba\u200b\u3002</p> <p>\u200b\u5927\u5b66\u200b\u7684\u200b\u7b2c\u56db\u5e74\u200b\u662f\u200b\u6211\u200b\u8fc7\u200b\u5f97\u200b\u6700\u200b\u5feb\u4e50\u200b\u3001\u200b\u81ea\u7531\u200b\u7684\u200b\u65f6\u5149\u200b\u3002</p> <p>\u200b\u6bd5\u4e1a\u200b\u540e\u200b\u65f6\u5e38\u200b\u60f3\u8d77\u200b\u90a3\u4e9b\u200b\u53ef\u7231\u200b\u7684\u200b\u4eba\u200b\u548c\u200b\u4e8b\u513f\u200b\uff0c\u200b\u5fc3\u91cc\u200b\u8fd8\u662f\u200b\u4f1a\u6709\u200b\u4e0d\u820d\u200b\u3002</p> <p>\u200b\u4f46\u200b\u73cd\u8d35\u200b\u7684\u200b\u7167\u7247\u200b\u548c\u200b\u5f71\u7247\u200b\u5df2\u7ecf\u200b\u5c06\u200b\u9057\u61be\u200b\u964d\u5230\u200b\u6700\u5c11\u200b\u4e86\u200b\u5427\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5e86\u5e78\u200b\u81ea\u5df1\u200b\u6709\u200b\u597d\u597d\u200b\u5730\u200b\u548c\u200b\u5927\u5bb6\u200b\u62cd\u7167\u200b\uff0c\u200b\u597d\u597d\u200b\u5730\u200b\u548c\u200b\u5927\u5bb6\u200b\u9053\u522b\u200b\u3002</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>","tags":["\u751f\u6d3b"]},{"location":"blog/cs50-week-8-html-css-javascript/","title":"CS50 Week 8 HTML, CSS, JavaScript","text":"<p>\u200b\u524d\u7aef\u200b\u57fa\u7840\u77e5\u8bc6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u4e92\u8054\u7f51","title":"\u4e92\u8054\u7f51","text":"<p>\u200b\u534f\u8bae\u200b\uff08Protocol\uff09\u200b\u662f\u200b\u4e00\u5957\u200b\u89c4\u5219\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u8ba1\u7b97\u673a\u200b\u4e4b\u95f4\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\u3002</p> <p>TCP/IP \u200b\u662f\u200b\u4e24\u5957\u200b\u534f\u8bae\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#ip","title":"IP","text":"<ul> <li>IP\uff1aInternet Protocol\u3002</li> <li>IP \u200b\u5730\u5740\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8ba1\u7b97\u673a\u200b\u5728\u200b\u4e92\u8054\u7f51\u200b\u4e2d\u200b\u72ec\u4e00\u65e0\u4e8c\u200b\u7684\u200b\u5730\u5740\u200b\u3002</li> <li>IP \u200b\u5730\u5740\u200b\u5730\u200b\u683c\u5f0f\u200b\uff1a<code>#.#.#.#</code>\u3002\u200b\u5176\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u90fd\u200b\u662f\u200b 0-255 \u200b\u4e4b\u95f4\u200b\u7684\u200b\u6574\u6570\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b\u9700\u8981\u200b 4 \u200b\u4e2a\u200b\u5b57\u8282\u200b\uff08\u200b\u6216\u200b 32 bits\uff09\uff0c\u200b\u8fd9\u6837\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b\u662f\u200b Version 4 \u200b\u7684\u200b\uff08IPv4\uff09\u3002IPv6 \u200b\u5219\u200b\u7528\u200b 128 bits \u200b\u6765\u200b\u8868\u793a\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5730\u5740\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#tcp","title":"TCP","text":"<ul> <li>TCP\uff1aTransmission Control Protocol\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53d1\u9001\u200b\u548c\u200b\u63a5\u53d7\u200b\u6570\u636e\u200b\u7684\u200b\u534f\u8bae\u200b\u3002</li> <li>TCP \u200b\u53ef\u4ee5\u200b\u7528\u200b\u76f8\u540c\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b + \u200b\u4e0d\u540c\u200b\u7684\u200b\u7aef\u53e3\u200b\u6765\u200b\u63d0\u4f9b\u200b\u4e0d\u540c\u200b\u7684\u200b\u670d\u52a1\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0cHTTP \u200b\u662f\u200b\u7aef\u53e3\u200b 80\uff0cHTTPS \u200b\u662f\u200b\u7aef\u53e3\u200b 443\u3002</li> <li>TCP \u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5927\u578b\u200b\u6570\u636e\u200b\u5206\u5272\u200b\u6210\u5c0f\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u7ed9\u200b\u6bcf\u4e2a\u200b\u5c0f\u200b\u6570\u636e\u200b\u8d34\u200b\u4e0a\u200b\u5e8f\u53f7\u200b\u6807\u7b7e\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u4f20\u9001\u200b\u3002\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u5c0f\u200b\u6570\u636e\u200b\u4e22\u5931\u200b\u4e86\u200b\uff0c\u200b\u5219\u200b\u63a5\u6536\u8005\u200b\u53ef\u4ee5\u200b\u518d\u6b21\u200b\u8bf7\u6c42\u200b\u4e22\u5931\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u4e00\u76f4\u200b\u6ca1\u200b\u627e\u5230\u200b\u4e22\u5931\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5219\u200b\u6574\u4e2a\u200b\u5927\u200b\u7684\u200b\u6570\u636e\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u63a5\u6536\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0cTCP \u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u3002</li> <li>UDP \u200b\u662f\u200b\u53e6\u200b\u4e00\u79cd\u200b\u6570\u636e\u4f20\u8f93\u200b\u534f\u8bae\u200b\u3002\u200b\u5b83\u200b\u5141\u8bb8\u200b\u63a5\u6536\u200b\u90e8\u5206\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4fdd\u8bc1\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u76f4\u64ad\u200b\u3001\u200b\u5b9e\u65f6\u200b\u8bed\u97f3\u200b\u901a\u8bdd\u200b\u7b49\u200b\u573a\u666f\u200b\u4e0b\u200b\u66f4\u52a0\u200b\u65b9\u4fbf\u200b\u3002\u200b\u56e0\u4e3a\u200b\u8fd9\u4e9b\u200b\u573a\u666f\u200b\u5141\u8bb8\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\u7684\u200b\u4e22\u5931\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u80fd\u200b\u5b8c\u5168\u200b\u4e2d\u65ad\u200b\u8fde\u63a5\u200b\u3002\u200b\u5982\u679c\u200b\u7528\u200b TCP \u200b\u7684\u8bdd\u200b\uff0c\u200b\u5982\u679c\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\u65ad\u200b\u4e86\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u8bf7\u6c42\u200b\u8fd9\u4e2a\u200b\u4e22\u5931\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#dns","title":"DNS","text":"<p>DNS\uff1aDomain Name System\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6587\u672c\u200b\u7684\u200b\u57df\u540d\u200b\uff08\u200b\u4f8b\u5982\u200b cs50.harvard.edu\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b IP \u200b\u5730\u5740\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#web","title":"Web","text":"","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#http","title":"HTTP","text":"<p>Hypertext Transfer Protocol\u3002\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u670d\u52a1\u5668\u200b\u548c\u200b\u6d4f\u89c8\u5668\u200b\u4e4b\u95f4\u200b\u901a\u8baf\u200b\u7684\u200b\u534f\u8bae\u200b\u3002</p> <ul> <li>HTTPS \u200b\u662f\u200b HTTP \u200b\u7684\u200b\u5b89\u5168\u200b\u7248\u672c\u200b\uff0c\u200b\u5b83\u200b\u4fdd\u8bc1\u200b\u670d\u52a1\u5668\u200b\u548c\u200b\u6d4f\u89c8\u5668\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u52a0\u5bc6\u200b\u7684\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#url","title":"URL","text":"<p>Uniform Resource Locator.</p> <p><code>https://www.example.com/</code></p> <ul> <li><code>https://</code>\u200b\u662f\u200b\u534f\u8bae\u200b\u3002</li> <li>\u200b\u6700\u540e\u200b\u7684\u200b<code>/</code>\u200b\u610f\u5473\u7740\u200b\u8bf7\u6c42\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u200b<code>index.html</code>\u3002</li> <li><code>example.com</code>\u200b\u662f\u200b\u57df\u540d\u200b\u3002<code>.com</code>\u200b\u662f\u200b\u9876\u7ea7\u200b\u57df\u540d\u200b\u3002\u200b\u5176\u4ed6\u200b\u7684\u200b<code>.edu</code>\u3001<code>.pro</code>\u200b\u4e5f\u200b\u662f\u200b\u9876\u7ea7\u200b\u57df\u540d\u200b\u3002</li> <li><code>www</code>\u200b\u662f\u200b\u4e3b\u673a\u540d\u200b\uff08Hostname\uff09\uff0c\u200b\u4e5f\u200b\u53eb\u5b50\u200b\u57df\u540d\u200b\u3002\u200b\u5b83\u200b\u6307\u5b9a\u200b\u4e86\u200b\u670d\u52a1\u5668\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u67e5\u770b\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u8bf7\u6c42\u4e0e\u54cd\u5e94\u6d3b\u52a8","title":"\u67e5\u770b\u200b\u6d4f\u89c8\u5668\u200b\u548c\u200b\u670d\u52a1\u5668\u4e4b\u95f4\u200b\u7684\u200b\u8bf7\u6c42\u200b\u4e0e\u200b\u54cd\u5e94\u200b\u6d3b\u52a8","text":"<p>\u200b\u6309\u200b<code>F12</code>\u200b\u8fdb\u5165\u200b\u68c0\u67e5\u200b\uff0c\u200b\u5728\u200b\u201c\u200b\u7f51\u7edc\u200b\u201d\u200b\u6807\u7b7e\u200b\u9875\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u6d4f\u89c8\u5668\u200b\u4ece\u200b\u670d\u52a1\u5668\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u5404\u79cd\u200b\u8d44\u6e90\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5b83\u4eec\u200b\u7684\u200b\u72b6\u6001\u200b\u3002\u200b\u4e0d\u540c\u200b\u7684\u200b\u72b6\u6001\u200b\u5bf9\u5e94\u200b\u7684\u200b\u542b\u4e49\u200b\u5982\u4e0b\u200b\uff1a</p> <ul> <li><code>200 OK</code></li> <li><code>301 Moved Permanently</code></li> <li><code>302 Found</code></li> <li><code>304 Not Modified</code></li> <li><code>307 Temporary Redirect</code></li> <li><code>401 Unauthorized</code></li> <li><code>403 Forbidden</code></li> <li><code>404 Not Found</code></li> <li><code>418 I'm a Teapot</code></li> <li>An April Fool's joke years ago</li> <li><code>500 Internal Server Error</code></li> <li>Buggy code on a server might result in this status code, like segfaults we might have seen in C.</li> <li><code>503 Service Unavailable</code></li> <li>\u2026</li> </ul>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#html","title":"HTML","text":"<p>HTML \u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u95e8\u200b\u201c\u200b\u7f16\u7a0b\u200b\u201d\u200b\u8bed\u8a00\u200b\uff0c\u200b\u5b83\u200b\u53ea\u662f\u200b\u7528\u200b\u6587\u672c\u200b\u548c\u200b\u6807\u7b7e\u200b\u7ec4\u6210\u200b\u7684\u200b\u201c\u200b\u7ed3\u6784\u200b\u201d\u200b\u8bed\u8a00\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u57fa\u672c\u7ed3\u6784","title":"\u57fa\u672c\u200b\u7ed3\u6784","text":"HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;hello, title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    hello, body\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u5206\u6bb5","title":"\u5206\u6bb5","text":"HTML<pre><code>&lt;p&gt;&lt;/p&gt;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u6807\u9898","title":"\u6807\u9898","text":"HTML<pre><code>&lt;h1&gt;&lt;/h1&gt;\n</code></pre> <p>\u200b\u4e00\u7ea7\u200b\u6807\u9898\u200b\u5b57\u53f7\u200b\u6700\u5927\u200b\uff0c\u200b\u6700\u200b\u591a\u200b\u53ef\u4ee5\u200b\u5230\u200b\u516d\u7ea7\u200b\u6807\u9898\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u6709\u5e8f\u5217\u8868\u548c\u65e0\u5e8f\u5217\u8868","title":"\u6709\u200b\u5e8f\u5217\u8868\u200b\u548c\u200b\u65e0\u5e8f\u200b\u5217\u8868","text":"<p>\u200b\u6709\u200b\u5e8f\u5217\u8868\u200b</p> HTML<pre><code>&lt;ul&gt;\n&lt;li&gt;foo&lt;/li&gt;\n&lt;li&gt;bar&lt;/li&gt;\n&lt;li&gt;baz&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre> <p>\u200b\u65e0\u5e8f\u200b\u5217\u8868\u200b\u53ea\u200b\u9700\u200b\u5c06\u200b<code>&lt;ul&gt;</code>\u200b\u6362\u6210\u200b<code>&lt;ol&gt;</code>\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u8868\u683c","title":"\u8868\u683c","text":"HTML<pre><code>&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Name&lt;/th&gt;\n&lt;th&gt;Number&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;Carter&lt;/td&gt;\n&lt;td&gt;+1-617-495-1000&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;David&lt;/td&gt;\n&lt;td&gt;+1-949-468-2750&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u56fe\u7247","title":"\u56fe\u7247","text":"HTML<pre><code>&lt;img alt=\"Harvard University\" src=\"harvard.jpg\" /&gt;\n</code></pre> <p><code>alt</code>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u90a3\u4e9b\u200b\u4e0d\u80fd\u200b\u6b63\u5e38\u200b\u663e\u793a\u200b\u56fe\u7247\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4ee5\u200b\u6587\u5b57\u200b\u5448\u73b0\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u89c6\u9891","title":"\u89c6\u9891","text":"HTML<pre><code>&lt;video autoplay loop muted width=\"1280\"&gt;\n&lt;source src=\"halloween.mp4\" type=\"video/mp4\" /&gt;\n&lt;/video&gt;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u5d4c\u5165\u5176\u4ed6\u7f51\u9875","title":"\u5d4c\u5165\u200b\u5176\u4ed6\u200b\u7f51\u9875","text":"HTML<pre><code>&lt;iframe\nallowfullscreen\nsrc=\"https://www.youtube.com/embed/xvFZjo5PgG0\"\n&gt;&lt;/iframe&gt;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u8d85\u94fe\u63a5","title":"\u8d85\u94fe\u63a5","text":"HTML<pre><code>&lt;a href=\"https://www.harvard.edu\"&gt;Harvard&lt;/a&gt;\n</code></pre> <p>\u200b\u8d85\u94fe\u63a5\u200b\u6240\u200b\u663e\u73b0\u51fa\u200b\u7684\u200b\u6587\u5b57\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u548c\u200b\u5b83\u200b\u771f\u6b63\u200b\u6307\u5411\u200b\u7684\u200b\u5730\u5740\u200b\u76f8\u4e00\u81f4\u200b\uff0c\u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u8d85\u94fe\u63a5\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u7f51\u7edc\u200b\u9493\u9c7c\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u54cd\u5e94\u5f0f\u5e03\u5c40","title":"\u54cd\u5e94\u200b\u5f0f\u200b\u5e03\u5c40","text":"<p>\u200b\u6309\u200b<code>F12</code>\u200b\u68c0\u67e5\u200b\u7f51\u9875\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6a21\u62df\u200b\u5404\u79cd\u200b\u8bbe\u5907\u200b\uff08\u200b\u4f8b\u5982\u200b\u624b\u673a\u200b\u3001\u200b\u5e73\u677f\u200b\u7535\u8111\u200b\u7b49\u200b\uff09\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6548\u679c\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#-\u7b49\u7279\u6b8a\u7b26\u53f7","title":"\u00a9 \u200b\u7b49\u200b\u7279\u6b8a\u7b26\u53f7","text":"<p>\u200b\u7528\u200b<code>&amp;#169;</code>\u200b\u53ef\u4ee5\u200b\u663e\u793a\u200b\u7248\u6743\u200b\u7b26\u53f7\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#css","title":"CSS","text":"<p>Cascading Style Sheets\u3002\u200b\u7528\u4e8e\u200b\u6539\u53d8\u200b\u7f51\u9875\u5185\u5bb9\u200b\u7684\u200b\u6837\u5f0f\u200b\uff0c\u200b\u7f8e\u5316\u200b\u7f51\u9875\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u6846\u67b6","title":"\u6846\u67b6","text":"<p>Bootstrap \u200b\u7b49\u200b\u6846\u67b6\u200b\u5df2\u7ecf\u200b\u4e3a\u200b\u6211\u4eec\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u8f83\u4e3a\u200b\u7f8e\u89c2\u200b\u7684\u200b\u6837\u5f0f\u200b\u98ce\u683c\u200b\u3002\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u91cd\u590d\u200b\u5199\u200b\u6837\u5f0f\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5c31\u200b\u80fd\u200b\u5b9e\u73b0\u200b\u597d\u770b\u200b\u7684\u200b\u524d\u7aef\u200b\u754c\u9762\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#javascript","title":"JavaScript","text":"","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u5b9a\u4e49\u53d8\u91cf","title":"\u5b9a\u4e49\u200b\u53d8\u91cf","text":"JavaScript<pre><code>let counter = 0;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u8d4b\u503c","title":"\u8d4b\u503c","text":"JavaScript<pre><code>counter = counter + 1;\ncounter += 1;\ncounter++;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u6761\u4ef6\u8bed\u53e5","title":"\u6761\u4ef6\u200b\u8bed\u53e5","text":"JavaScript<pre><code>if (x &lt; y) {\n} else if (x &gt; y) {\n} else {\n}\n</code></pre> JavaScript<pre><code>while (true) {}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#\u5faa\u73af\u8bed\u53e5","title":"\u5faa\u73af\u200b\u8bed\u53e5","text":"JavaScript<pre><code>for (let i = 0; i &lt; 3; i++) {}\n</code></pre>","tags":["Computer Science"]},{"location":"blog/cs50-week-8-html-css-javascript/#dom","title":"DOM","text":"<p>Document Object Model\uff0c\u200b\u5b83\u200b\u662f\u200b\u5f53\u524d\u200b HTML \u200b\u754c\u9762\u200b\u7684\u200b\u5b8c\u6574\u200b\u7684\u200b\u6811\u7ed3\u6784\u200b\u3002JavaScript \u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\u548c\u200b\u4fee\u6539\u200b DOM \u200b\u4e2d\u200b\u7684\u200b\u53d8\u91cf\u200b\u3002</p> <p>JavaScript \u200b\u8ba9\u200b\u6574\u4e2a\u200b\u7f51\u9875\u200b\u80fd\u591f\u200b\u53d8\u5f97\u200b\u52a8\u6001\u200b\u3001\u200b\u5b9e\u65f6\u200b\u66f4\u65b0\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/cs50-week-9-flask/","title":"CS50 Week 9 Flask","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b Flask \u200b\u642d\u5efa\u200b\u540e\u200b\u7aef\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#flask","title":"Flask","text":"<p>Flask \u200b\u662f\u200b\u4e00\u4e2a\u200b Python \u200b\u5e93\u200b\uff0c\u200b\u5b83\u200b\u4e5f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6846\u67b6\u200b\u3002</p> <p>\u200b\u5728\u200b HTML \u200b\u4e2d\u200b\u52a8\u6001\u200b\u5730\u200b\u663e\u793a\u200b\u6587\u672c\u200b\uff1a</p> Python<pre><code>from flask import Flask, render_template, request\napp = Flask(__name__)\n@app.route(\"/\")\ndef index():\nname = request.args.get(\"name\")\nreturn render_template(\"index.html\", name=name)\n</code></pre> HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"initial-scale=1, width=device-width\" /&gt;\n&lt;title&gt;hello&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    hello, {{ name }}\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u7528\u200b<code>flask run</code>\u200b\u751f\u6210\u200b HTML \u200b\u540e\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u7684\u200b URL \u200b\u540e\u9762\u200b\u63a5\u7740\u200b<code>?name=David</code>\u200b\u65f6\u200b\uff0c\u200b\u5c4f\u5e55\u200b\u4f1a\u200b\u6253\u5370\u200b<code>hello, David</code>\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u8868\u5355-form","title":"\u8868\u5355\u200b Form","text":"HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"initial-scale=1, width=device-width\" /&gt;\n&lt;title&gt;hello&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=\"/greet\" method=\"get\"&gt;\n&lt;input\nautocomplete=\"off\"\nautofocus\nname=\"name\"\nplaceholder=\"Name\"\ntype=\"text\"\n/&gt;\n&lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u8868\u5355\u200b\u6709\u200b\u4e00\u4e2a\u200b<code>action</code>\uff0c\u200b\u5b83\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5f53\u200b\u7528\u6237\u200b\u70b9\u51fb\u200b\u63d0\u4ea4\u200b\u8868\u5355\u200b\u65f6\u200b\uff0c\u200b\u7f51\u9875\u200b\u4f1a\u200b\u8f6c\u5230\u200b<code>/greet?name=name</code>\u200b\u4e2d\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u7a7a\u8868\u5355","title":"\u7a7a\u200b\u8868\u5355","text":"<p>\u200b\u5982\u679c\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u63d0\u4ea4\u200b\u7a7a\u200b\u8868\u5355\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u503c\u200b\u3002</p> Python<pre><code>@app.route(\"/greet\")\ndef greet():\nname = request.args.get(\"name\", \"world\")  # \u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u503c\u200b\u3002\nreturn render_template(\"greet.html\", name=name)\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u4e0d\u5141\u8bb8\u63d0\u4ea4\u7a7a\u8868\u5355","title":"\u4e0d\u200b\u5141\u8bb8\u200b\u63d0\u4ea4\u200b\u7a7a\u200b\u8868\u5355","text":"<p>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8868\u5355\u200b\u4e2d\u200b\u52a0\u5165\u200b\u5c5e\u6027\u200b<code>required</code>\u3002\u200b\u4f46\u200b\u8fd9\u6837\u200b\u505a\u200b\u5e76\u200b\u4e0d\u200b\u5b89\u5168\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u4fee\u6539\u200b HTML \u200b\u4ee3\u7801\u200b\uff0c\u200b\u7ed5\u8fc7\u200b<code>required</code>\u200b\u7684\u200b\u9650\u5236\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u6837\u5f0f","title":"\u6837\u5f0f","text":"<p>\u200b\u53ef\u4ee5\u200b\u5199\u200b\u4e00\u4e2a\u200b\u6837\u5f0f\u200b\u6a21\u677f\u200b\uff0c\u200b\u8ba9\u200b\u5176\u4ed6\u200b\u754c\u9762\u200b\u7ee7\u627f\u200b\u8fd9\u4e2a\u200b\u6a21\u677f\u200b\u7684\u200b\u6837\u5f0f\u200b\u3002</p> <p><code>layout.html</code>\uff1a</p> HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;hello&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    {% block body %}{% endblock %}\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p><code>index.html</code>\uff1a</p> HTML<pre><code>{% extends \"layout.html\" %} {% block body %}\n\n&lt;form action=\"/greet\" method=\"post\"&gt;\n&lt;input\nautocomplete=\"off\"\nautofocus\nname=\"name\"\nplaceholder=\"Name\"\ntype=\"text\"\n/&gt;\n&lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n{% endblock %}\n</code></pre> <p>\u200b\u6a21\u677f\u200b\u7ee7\u627f\u200b\u7684\u200b\u8bed\u6cd5\u200b\u662f\u200b<code>Jinja</code>\u200b\u7684\u200b\u8bed\u6cd5\u200b\u3002<code>Jinja</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b Python \u200b\u7684\u200b\u6a21\u677f\u200b\u5f15\u64ce\u200b\u3002</p> <p>\u200b\u7528\u200b Flask \u200b\u8fd0\u884c\u200b\uff0c\u200b\u5c31\u200b\u80fd\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u7ee7\u627f\u200b<code>layout.html</code>\u200b\u6a21\u677f\u200b\u540e\u200b\u7684\u200b<code>index.html</code>\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u80fd\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u5b8c\u6574\u200b\u7684\u200b HTML \u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#post","title":"POST","text":"<p>POST \u200b\u63d0\u4ea4\u200b\u7684\u200b\u8868\u5355\u200b\u5185\u5bb9\u200b\u4e0d\u4f1a\u200b\u663e\u793a\u200b\u5728\u200b URL \u200b\u4e0a\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u4fdd\u62a4\u200b\u9690\u79c1\u200b\u3002\u200b\u4f46\u200b\u6d4f\u89c8\u5668\u200b\u7684\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u8bb0\u5f55\u200b\u8868\u5355\u200b\u5185\u5bb9\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e0b\u6b21\u200b\u518d\u200b\u63d0\u4ea4\u200b\u76f8\u540c\u200b\u7684\u200b\u5185\u5bb9\u200b\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u518d\u6b21\u200b\u624b\u52a8\u200b\u8f93\u5165\u200b\uff0c\u200b\u800c\u200b\u4e0d\u80fd\u200b\u9760\u200b\u6d4f\u89c8\u5668\u200b\u63d0\u793a\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#get","title":"GET","text":"<ul> <li>GET \u200b\u8bf7\u6c42\u200b\u53ef\u200b\u88ab\u200b\u7f13\u5b58\u200b</li> <li>GET \u200b\u8bf7\u6c42\u200b\u4fdd\u7559\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u4e2d\u200b</li> <li>GET \u200b\u8bf7\u6c42\u200b\u53ef\u200b\u88ab\u200b\u6536\u85cf\u200b\u4e3a\u200b\u4e66\u7b7e\u200b</li> <li>GET \u200b\u8bf7\u6c42\u200b\u4e0d\u5e94\u200b\u5728\u200b\u5904\u7406\u200b\u654f\u611f\u6570\u636e\u200b\u65f6\u200b\u4f7f\u7528\u200b</li> <li>GET \u200b\u8bf7\u6c42\u200b\u6709\u200b\u957f\u5ea6\u200b\u9650\u5236\u200b</li> <li>GET \u200b\u8bf7\u6c42\u200b\u53ea\u200b\u5e94\u5f53\u200b\u7528\u4e8e\u200b\u53d6\u56de\u200b\u6570\u636e\u200b</li> <li>\u200b\u5bf9\u5e94\u200b request.args</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#post_1","title":"POST","text":"<ul> <li>POST \u200b\u8bf7\u6c42\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u7f13\u5b58\u200b</li> <li>POST \u200b\u8bf7\u6c42\u200b\u4e0d\u4f1a\u200b\u4fdd\u7559\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u4e2d\u200b</li> <li>POST \u200b\u4e0d\u80fd\u200b\u88ab\u200b\u6536\u85cf\u200b\u4e3a\u200b\u4e66\u7b7e\u200b</li> <li>POST \u200b\u8bf7\u6c42\u200b\u5bf9\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u6ca1\u6709\u200b\u8981\u6c42\u200b</li> <li>\u200b\u5bf9\u5e94\u200b request.form</li> </ul>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#mvc","title":"MVC","text":"","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u7528\u5faa\u73af\u51cf\u5c11\u7f16\u5199\u91cd\u590d\u7684-html-\u4ee3\u7801","title":"\u7528\u200b\u5faa\u73af\u200b\u51cf\u5c11\u200b\u7f16\u5199\u200b\u91cd\u590d\u200b\u7684\u200b HTML \u200b\u4ee3\u7801","text":"Python<pre><code>from flask import Flask, render_template, request\napp = Flask(__name__)\nSPORTS = [\"Basketball\" \"Soccer\", \"Ultimate Frisbee\"]\n@app.route(\"/\")\ndef index():\nreturn render_template(\"index.html\", sports=SPORTS)\n...\n</code></pre> <p>\u200b\u5728\u200b<code>index.html</code>\u200b\u4e2d\u200b\uff0c\u200b\u7528\u200b\u5faa\u73af\u200b\u5c55\u793a\u200b\u91cd\u590d\u200b\u7684\u200b\u5143\u7d20\u200b\uff1a</p> HTML<pre><code>...\n&lt;select name=\"sport\"&gt;\n&lt;option disabled selected value=\"\"&gt;Sport&lt;/option&gt;\n  {% for sport in sports %}\n  &lt;option value=\"{{ sport }}\"&gt;{{ sport }}&lt;/option&gt;\n  {% endfor %}\n&lt;/select&gt;\n...\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u50a8\u5b58\u6570\u636e","title":"\u50a8\u5b58\u200b\u6570\u636e","text":"<p>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7528\u6237\u200b\u63d0\u4ea4\u200b\u7684\u200b\u6570\u636e\u200b\u50a8\u5b58\u200b\u5230\u200b Python \u200b\u5b57\u5178\u200b\u4e2d\u200b\u3002</p> Python<pre><code># Implements a registration form, storing registrants in a dictionary, with error messages\nfrom flask import Flask, redirect, render_template, request\napp = Flask(__name__)\nREGISTRANTS = {}\nSPORTS = [\"Basketball\", \"Soccer\", \"Ultimate Frisbee\"]\n@app.route(\"/\")\ndef index():\nreturn render_template(\"index.html\", sports=SPORTS)\n@app.route(\"/register\", methods=[\"POST\"])\ndef register():\n# Validate name\nname = request.form.get(\"name\")\nif not name:\nreturn render_template(\"error.html\", message=\"Missing name\")\n# Validate sport\nsport = request.form.get(\"sport\")\nif not sport:\nreturn render_template(\"error.html\", message=\"Missing sport\")\nif sport not in SPORTS:\nreturn render_template(\"error.html\", message=\"Invalid sport\")\n# Remember registrant\nREGISTRANTS[name] = sport\n# Confirm registration\nreturn redirect(\"/registrants\")\n@app.route(\"/registrants\")\ndef registrants():\nreturn render_template(\"registrants.html\", registrants=REGISTRANTS)\n</code></pre> <p>\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u6682\u65f6\u200b\u5b58\u5728\u200b\u8ba1\u7b97\u673a\u200b\u6216\u200b\u670d\u52a1\u5668\u200b\u7684\u200b RAM \u200b\u4e2d\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6570\u636e\u200b\u5e76\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u3002\u200b\u5f53\u200b\u8ba1\u7b97\u673a\u200b\u6216\u200b\u670d\u52a1\u5668\u200b\u91cd\u542f\u200b\u65f6\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u90fd\u200b\u4f1a\u200b\u4e22\u5931\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u81ea\u52a8\u53d1\u9001\u90ae\u4ef6","title":"\u81ea\u52a8\u200b\u53d1\u9001\u200b\u90ae\u4ef6","text":"<p>flask_mail \u200b\u4e2d\u6709\u200b Mail \u200b\u548c\u200b Message \u200b\u6a21\u5757\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u53d1\u9001\u200b\u90ae\u4ef6\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> Python<pre><code># Implements a registration form, confirming registration via email\nimport os\nimport re\nfrom flask import Flask, render_template, request\nfrom flask_mail import Mail, Message\napp = Flask(__name__)\n# Requires that \"Less secure app access\" be on\n# https://support.google.com/accounts/answer/6010255\napp.config[\"MAIL_DEFAULT_SENDER\"] = os.environ[\"MAIL_DEFAULT_SENDER\"]\napp.config[\"MAIL_PASSWORD\"] = os.environ[\"MAIL_PASSWORD\"]\napp.config[\"MAIL_PORT\"] = 587\napp.config[\"MAIL_SERVER\"] = \"smtp.gmail.com\"\napp.config[\"MAIL_USE_TLS\"] = True\napp.config[\"MAIL_USERNAME\"] = os.environ[\"MAIL_USERNAME\"]\nmail = Mail(app)\n...\n</code></pre> <p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b\u90ae\u7bb1\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5728\u200b\u6e90\u4ee3\u7801\u200b\u4e2d\u200b\u663e\u793a\u200b\u5730\u200b\u5c55\u793a\u200b\u51fa\u6765\u200b\uff0c\u200b\u800c\u662f\u200b\u901a\u8fc7\u200b\u5f15\u5165\u200b\u53d8\u91cf\u200b<code>os.environ</code>\u200b\u6765\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u4fdd\u62a4\u200b\u9690\u79c1\u200b\u6570\u636e\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#session-\u548c-cookie","title":"Session \u200b\u548c\u200b Cookie","text":"<p>\u200b\u670d\u52a1\u5668\u200b\u901a\u8fc7\u200b Session \u200b\u53ef\u4ee5\u200b\u8bb0\u5f55\u200b\u7528\u6237\u200b\u7684\u200b\u72b6\u6001\u200b\u3002</p> <p>Cookie \u200b\u662f\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u7684\u200b\u4e00\u5c0f\u5757\u200b\u6570\u636e\u200b\uff08\u200b\u968f\u673a\u200b\u7684\u200b\u6570\u5b57\u200b\uff09\uff0c\u200b\u5b83\u200b\u7528\u4e8e\u200b\u8ddf\u8e2a\u200b\u7528\u6237\u200b\u7684\u200b\u8bbf\u95ee\u200b\u3002\u200b\u6709\u200b\u4e86\u200b Cookie\uff0c\u200b\u6d4f\u89c8\u5668\u200b\u5c31\u200b\u80fd\u200b\u544a\u8bc9\u200b\u670d\u52a1\u5668\u200b\uff1a\u200b\u6211\u200b\u5df2\u7ecf\u200b\u8bbf\u95ee\u200b\u8fc7\u200b\u4e86\u200b\uff0c\u200b\u5df2\u7ecf\u200b\u8f93\u200b\u5982\u679c\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\u4e86\u200b\uff0c\u200b\u6211\u200b\u7684\u200b\u8bbf\u95ee\u200b\u88ab\u200b\u8bb0\u5f55\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b Cookie \u200b\u4e2d\u200b\u3002\u200b\u7136\u540e\u200b\u670d\u52a1\u5668\u200b\u5c31\u200b\u80fd\u200b\u4e3a\u200b\u8fd9\u4e2a\u200b\u5ba2\u6237\u200b\u63d0\u4f9b\u200b\u7279\u5b9a\u200b\u7684\u200b\u6570\u636e\u200b\u4e86\u200b\u3002</p>","tags":["Computer Science","Python"]},{"location":"blog/cs50-week-9-flask/#\u641c\u7d22\u5e76\u52a8\u6001\u5c55\u793a\u6570\u636e","title":"\u641c\u7d22\u200b\u5e76\u200b\u52a8\u6001\u200b\u5c55\u793a\u200b\u6570\u636e","text":"<p>\u200b\u4e3b\u8981\u200b\u6280\u672f\u200b\uff1a</p> <ul> <li>\u200b\u548c\u200b SQLite \u200b\u8fde\u63a5\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u67e5\u8be2\u200b\u529f\u80fd\u200b\u3002</li> <li>JavaScript \u200b\u52a8\u6001\u200b\u8bf7\u6c42\u200b\u6570\u636e\u200b\u5e76\u200b\u5c55\u793a\u200b\u3002</li> </ul> Python<pre><code># Searches for shows\nfrom cs50 import SQL\nfrom flask import Flask, render_template, request\napp = Flask(__name__)\ndb = SQL(\"sqlite:///shows.db\")\n@app.route(\"/\")\ndef index():\nreturn render_template(\"index.html\")\n@app.route(\"/search\")\ndef search():\nshows = db.execute(\n\"SELECT * FROM shows WHERE title LIKE ?\", \"%\" + request.args.get(\"q\") + \"%\"\n)\nreturn render_template(\"search.html\", shows=shows)\n</code></pre> HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"initial-scale=1, width=device-width\" /&gt;\n&lt;title&gt;shows&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input autocomplete=\"off\" autofocus placeholder=\"Query\" type=\"text\" /&gt;\n&lt;ul&gt;&lt;/ul&gt;\n&lt;script&gt;\nlet input = document.querySelector(\"input\");\ninput.addEventListener(\"input\", async function () {\nlet response = await fetch(\"/search?q=\" + input.value);\nlet shows = await response.json();\nlet html = \"\";\nfor (let id in shows) {\nlet title = shows[id].title\n.replace(\"&lt;\", \"&amp;lt;\")\n.replace(\"&amp;\", \"&amp;amp;\");\nhtml += \"&lt;li&gt;\" + title + \"&lt;/li&gt;\";\n}\ndocument.querySelector(\"ul\").innerHTML = html;\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>","tags":["Computer Science","Python"]},{"location":"blog/cross-validation-for-time-series-data/","title":"\u5bf9\u6297\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1","text":"<p>\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u7528\u5230\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\uff0c\u200b\u66f4\u52a0\u200b\u9002\u5408\u200b\u7528\u4e8e\u200b\u68c0\u9a8c\u200b\u65f6\u5e8f\u200b\u6570\u636e\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\u3002</p> <p></p> <p>\u200b\u672c\u6587\u200b\u4ee5\u200b\u534e\u6cf0\u200b\u91d1\u5de5\u200b\u7814\u7a76\u6240\u200b\u53d1\u8868\u200b\u7684\u200b \u300a\u200b\u534e\u6cf0\u200b\u4eba\u5de5\u667a\u80fd\u200b\u7cfb\u5217\u200b\u4e4b\u200b\u5341\u56db\u200b\u2014\u2014\u200b\u5bf9\u6297\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u4ece\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u8c08\u8d77\u200b\u300b \u200b\u4f5c\u4e3a\u200b\u8d44\u6599\u200b\uff0c\u200b\u5b66\u4e60\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u601d\u8def\u200b\u4e0e\u200b\u5b9e\u8bc1\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u662f\u200b\u9009\u62e9\u200b\u6a21\u578b\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u7684\u200b\u91cd\u8981\u200b\u6b65\u9aa4\u200b\u3002\u200b\u5728\u200b\u6211\u200b\u7684\u200b\u672c\u79d1\u200b\u6bd5\u4e1a\u8bba\u6587\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e86\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u56de\u5f52\u200b\u5bf9\u200b\u8d44\u4ea7\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u662f\u200b\u201c\u200b\u968f\u673a\u200b 7: 3 \u200b\u5212\u5206\u200b\u201d\u200b\u7684\u200b\u3002\u200b\u503c\u5f97\u53cd\u601d\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\u5177\u6709\u200b\u5f88\u5f3a\u200b\u7684\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u5c5e\u6027\u200b\uff0c\u200b\u57fa\u672c\u200b\u4e0d\u200b\u7b26\u5408\u200b\u201c\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u201d\u200b\u7684\u200b\u5047\u8bbe\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5e38\u89c4\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u5f88\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5c06\u200b\u672a\u6765\u200b\u6570\u636e\u200b\u5212\u5165\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u3001\u200b\u5c06\u200b\u5386\u53f2\u6570\u636e\u200b\u5212\u5165\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\uff0c\u200b\u5373\u7528\u200b\u672a\u6765\u200b\u9884\u6d4b\u200b\u5386\u53f2\u200b\u7684\u200b\u201c\u200b\u4f5c\u5f0a\u200b\u201d\u200b\u884c\u4e3a\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u9632\u8303\u8fc7\u62df\u5408\u7684\u4e3b\u8981\u65b9\u6cd5","title":"\u9632\u8303\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u4e3b\u8981\u200b\u65b9\u6cd5","text":"<p>\u200b\u5bf9\u200b\u4eba\u5de5\u667a\u80fd\u200b\u53ca\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u7684\u200b\u5e7f\u6cdb\u200b\u8bdf\u75c5\u200b\u4e4b\u4e00\u200b\u5728\u4e8e\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u6a21\u578b\u200b\u901a\u5e38\u200b\u80fd\u200b\u5b8c\u7f8e\u200b\u5730\u200b\u62df\u5408\u200b\u6837\u672c\u200b\u5185\u200b\u6570\u636e\u200b\uff0c\u200b\u4f46\u662f\u200b\u5bf9\u200b\u6837\u672c\u200b\u5916\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u6cdb\u5316\u200b\u80fd\u529b\u200b\u8f83\u5f31\u200b\u3002\u200b\u76ee\u524d\u200b\u9632\u8303\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u65b9\u6cd5\u200b\u4e3b\u8981\u200b\u6709\u200b\uff1a</p> <ol> <li>\u200b\u589e\u52a0\u200b\u6837\u672c\u200b\u6570\u91cf\u200b\uff1b</li> <li>\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4e2d\u200b\u6b63\u5219\u200b\u5316\u9879\u200b\uff1b</li> <li>\u200b\u6811\u200b\u6a21\u578b\u200b\u7684\u200b\u526a\u679d\u200b\uff1b</li> <li>\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u786e\u5b9a\u200b\u8d85\u200b\u53c2\u6570\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u6a21\u578b\u7684\u53c2\u6570\u548c\u8d85\u53c2\u6570","title":"\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u548c\u200b\u8d85\u200b\u53c2\u6570","text":"<p>\u200b\u6211\u4eec\u200b\u901a\u5e38\u200b\u8bf4\u200b\u7684\u200b\u201c\u200b\u8c03\u53c2\u200b\u201d\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u201c\u200b\u8c03\u6574\u200b\u8d85\u200b\u53c2\u6570\u200b\u201d\u3002\u200b\u5173\u4e8e\u200b\u201c\u200b\u53c2\u6570\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u8d85\u200b\u53c2\u6570\u200b\u201d\u200b\u7684\u200b\u533a\u522b\u200b\u5982\u4e0b\u200b\uff1a</p> <p>\u200b\u53c2\u6570\u200b\u662f\u200b\u6a21\u578b\u200b\u7684\u200b\u5185\u90e8\u200b\u53d8\u91cf\u200b\uff0c\u200b\u662f\u200b\u6a21\u578b\u200b\u901a\u8fc7\u200b\u5b66\u4e60\u200b\u53ef\u4ee5\u200b\u786e\u5b9a\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u4ee5\u200b\u7b80\u5355\u200b\u7684\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\\(y =kx + b\\)\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u659c\u7387\u200b\\(k\\)\u200b\u548c\u200b\u622a\u8ddd\u200b \\(b\\)\u200b\u662f\u200b\u8be5\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u200b\u6a21\u578b\u200b\u7684\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\uff0c\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u6a21\u578b\u200b\u7684\u200b\u795e\u7ecf\u5143\u200b\u8fde\u63a5\u200b\u6743\u503c\u200b\u90fd\u200b\u662f\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u51b3\u7b56\u6811\u200b\u7c7b\u200b\u7684\u200b\u6a21\u578b\u200b\u800c\u8a00\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u5206\u88c2\u200b\u7684\u200b\u89c4\u5219\u200b\u4e5f\u200b\u5c5e\u4e8e\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u7684\u200b\u8303\u7574\u200b\u3002</p> <p>\u200b\u8d85\u200b\u53c2\u6570\u200b\u662f\u200b\u6a21\u578b\u200b\u7684\u200b\u5916\u90e8\u200b\u53d8\u91cf\u200b\uff0c\u200b\u662f\u200b\u4f7f\u7528\u8005\u200b\u7528\u6765\u200b\u786e\u5b9a\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u91c7\u7528\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u5bf9\u200b\u4e00\u7ec4\u200b\u81ea\u53d8\u91cf\u200b x \u200b\u548c\u200b\u56e0\u53d8\u91cf\u200b y \u200b\u8fdb\u884c\u200b\u62df\u5408\u200b\uff0c\u200b\u7a76\u7adf\u200b\u4f7f\u7528\u200b\u7ebf\u6027\u200b\uff08\u200b\u4e00\u6b21\u200b\uff09\u200b\u6a21\u578b\u200b\\(y = kx + b\\)\u3001\u200b\u4e8c\u6b21\u200b\u6a21\u578b\u200b\\(y =k_1 x^2 + k_2 x + b\\)\u3001\u200b\u4e09\u6b21\u200b\u6a21\u578b\u200b\\(y = k_1x^3 + k_2x^2 + k3x + b\\)\u200b\u6216\u8005\u200b\u66f4\u9ad8\u6b21\u200b\u7684\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b\u591a\u9879\u5f0f\u200b\u6b21\u6570\u200b\u5c31\u662f\u200b\u6a21\u578b\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\u3002\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u5bf9\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u4e2d\u200b\u53c2\u6570\u200b\u548c\u200b\u8d85\u200b\u53c2\u6570\u200b\u7684\u200b\u8fa8\u6790\u200b\u3002</p> <p></p> <p>\u200b\u5e38\u89c1\u200b\u7684\u200b\u6a21\u578b\u200b\u8d85\u200b\u53c2\u6570\u200b\u6709\u200b\uff1a\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u200b\u6a21\u578b\u200b\u4e2d\u6838\u200b\u51fd\u6570\u200b\u7c7b\u578b\u200b\u3001\u200b\u60e9\u7f5a\u200b\u7cfb\u6570\u200b\u7b49\u200b\uff0c\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u7684\u200b\u6811\u68f5\u6570\u200b\u3001\u200b\u6700\u5927\u200b\u7279\u5f81\u200b\u6570\u200b\u3001\u200b\u526a\u679d\u200b\u53c2\u6570\u200b\u7b49\u200b\uff0cXGBoost \u200b\u6a21\u578b\u200b\u7684\u200b\u5b66\u4e60\u200b\u7387\u200b\u3001\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\u3001\u200b\u884c\u200b\u91c7\u6837\u200b\u6bd4\u4f8b\u200b\u7b49\u200b\u3001\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u6a21\u578b\u200b\u7684\u200b\u7f51\u7edc\u5c42\u200b\u6570\u200b\u3001\u200b\u795e\u7ecf\u5143\u200b\u4e2a\u6570\u200b\u3001\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u7c7b\u578b\u200b\u7b49\u200b\u3002</p> <p>\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u5b66\u4e60\u200b\u5230\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\u65e0\u6cd5\u200b\u4ece\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u76f4\u63a5\u200b\u5b66\u4e60\u200b\u5230\u200b\uff0c\u200b\u9700\u8981\u200b\u4eba\u4e3a\u200b\u5730\u200b\u8bbe\u5b9a\u200b\u3002\u200b\u8d85\u200b\u53c2\u6570\u8bbe\u7f6e\u200b\u4e0d\u5f53\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u6b20\u200b\u62df\u5408\u200b\u548c\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u6b20\u62df\u5408\u548c\u8fc7\u62df\u5408","title":"\u6b20\u200b\u62df\u5408\u200b\u548c\u200b\u8fc7\u200b\u62df\u5408","text":"<p>\u200b\u6b20\u200b\u62df\u5408\u200b\uff1a\u200b\u771f\u5b9e\u200b\u7684\u200b\u89c4\u5f8b\u200b\u8f83\u4e3a\u200b\u590d\u6742\u200b\uff0c\u200b\u4f46\u200b\u8bad\u7ec3\u200b\u51fa\u200b\u7684\u200b\u6a21\u578b\u200b\u8f83\u4e3a\u7b80\u5355\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6a21\u578b\u200b\u6ca1\u6709\u200b\u5b66\u4e60\u200b\u5230\u200b\u771f\u5b9e\u200b\u7684\u200b\u89c4\u5f8b\u200b\u3002\u200b\u5f53\u5bf9\u200b\u65b0\u200b\u6837\u672c\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\u65f6\u200b\uff0c\u200b\u9884\u6d4b\u503c\u200b\u867d\u7136\u200b\u5f88\u200b\u7a33\u5b9a\u200b\uff0c\u200b\u4f46\u200b\u4e00\u76f4\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u504f\u5dee\u200b\u8f83\u5927\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u4e0d\u597d\u200b\u3002</p> <p>\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u8bad\u7ec3\u200b\u51fa\u200b\u7684\u200b\u6a21\u578b\u200b\u975e\u5e38\u590d\u6742\u200b\uff0c\u200b\u4f46\u200b\u4ec5\u4ec5\u200b\u662f\u200b\u5bf9\u200b\u6837\u672c\u200b\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u89c4\u5f8b\u200b\u638c\u63e1\u200b\u5f97\u200b\u5f88\u200b\u597d\u200b\u3002\u200b\u4e00\u65e6\u200b\u6837\u672c\u200b\u7a0d\u4f5c\u200b\u53d8\u6362\u200b\uff0c\u200b\u9884\u6d4b\u503c\u200b\u5bb9\u6613\u200b\u53d1\u751f\u200b\u5267\u70c8\u200b\u53d8\u5316\u200b\uff08\u200b\u5373\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u5f88\u5927\u200b\uff09\uff0c\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u4e0d\u597d\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u56fe\u7247\u200b\u5f62\u8c61\u200b\u5730\u200b\u8bf4\u660e\u200b\u4e86\u200b\u504f\u5dee\u200b\u548c\u200b\u65b9\u5dee\u200b\u662f\u200b\u5982\u4f55\u200b\u5f71\u54cd\u200b\u51c6\u786e\u5ea6\u200b\u7684\u200b\u3002\u200b\u6b20\u200b\u62df\u5408\u200b\u5c5e\u4e8e\u200b\u9ad8\u200b\u504f\u5dee\u200b\u3001\u200b\u4f4e\u200b\u65b9\u5dee\u200b\uff08\u200b\u5de6\u4e0b\u89d2\u200b\uff09\uff0c\u200b\u8fc7\u200b\u62df\u5408\u200b\u5c5e\u4e8e\u200b\u4f4e\u200b\u504f\u5dee\u200b\u3001\u200b\u9ad8\u200b\u65b9\u5dee\u200b\uff08\u200b\u53f3\u4e0a\u89d2\u200b\uff09\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u4ea4\u53c9\u9a8c\u8bc1\u7684\u65b9\u6cd5","title":"\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u65b9\u6cd5","text":"<p>Stone \u200b\u548c\u200b Geisser \u200b\u5728\u200b 1974 \u200b\u5e74\u200b\u5206\u522b\u72ec\u7acb\u200b\u5730\u200b\u63d0\u51fa\u200b\uff0c\u200b\u5728\u200b\u8bc4\u4ef7\u200b\u67d0\u4e2a\u200b\u7edf\u8ba1\u200b\u6a21\u578b\u200b\u7684\u200b\u8868\u73b0\u200b\u65f6\u200b\uff0c\u200b\u5e94\u200b\u4f7f\u7528\u200b\u5728\u200b\u4f30\u8ba1\u200b\u6a21\u578b\u200b\u73af\u8282\u200b\u672a\u200b\u4f7f\u7528\u200b\u8fc7\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u200b\u548c\u200b\u5b66\u751f\u200b\u8003\u8bd5\u200b\u7684\u200b\u60c5\u5f62\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u8981\u200b\u60f3\u200b\u8003\u5bdf\u200b\u5b66\u751f\u200b\u662f\u5426\u200b\u638c\u63e1\u200b\u4e86\u200b\u67d0\u4e2a\u200b\u77e5\u8bc6\u70b9\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u8bfe\u5802\u200b\u4e0a\u200b\u8bb2\u200b\u8fc7\u200b\u7684\u200b\u201c\u200b\u4f8b\u9898\u200b\u201d\uff0c\u200b\u800c\u200b\u5e94\u5f53\u200b\u4f7f\u7528\u200b\u76f8\u4f3c\u200b\u7684\u200b\u201c\u200b\u4e60\u9898\u200b\u201d\u3002</p> <p>\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\u5148\u200b\u5c06\u200b\u5168\u90e8\u200b\u6837\u672c\u200b\u5212\u5206\u200b\u6210\u200b\u4e24\u200b\u90e8\u5206\u200b\uff0c\u200b\u4e00\u90e8\u5206\u200b\u7528\u6765\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff1b\u200b\u53e6\u5916\u200b\u4e00\u90e8\u5206\u200b\u7528\u6765\u200b\u9a8c\u8bc1\u200b\u6a21\u578b\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u3002\u200b\u968f\u540e\u200b\u8003\u5bdf\u200b\u6a21\u578b\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u8868\u73b0\u200b\u662f\u5426\u200b\u63a5\u8fd1\u200b\u3002\u200b\u5982\u679c\u200b\u4e24\u8005\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6a21\u578b\u200b\u5177\u5907\u200b\u8f83\u200b\u597d\u200b\u7684\u200b\u9884\u6d4b\u200b\u6027\u80fd\u200b\uff1b\u200b\u5982\u679c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u8868\u73b0\u200b\u8fdc\u200b\u4f18\u4e8e\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6a21\u578b\u200b\u5b58\u5728\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u98ce\u9669\u200b\u3002</p> <p>\u200b\u6839\u636e\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5212\u5206\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u53c8\u200b\u53ef\u4ee5\u200b\u7ec6\u5206\u200b\u4e3a\u200b\u7b80\u5355\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u3001K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u200b \u200b\u8bc1\u200b\u3001\u200b\u7559\u4e00\u6cd5\u200b\u3001\u200b\u7559\u200b P \u200b\u6cd5\u200b\u548c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u7b80\u5355\u4ea4\u53c9\u9a8c\u8bc1","title":"\u7b80\u5355\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1","text":"<p>\u200b\u4ece\u200b\u603b\u200b\u6837\u672c\u200b\u4e2d\u200b\u968f\u673a\u200b\u9009\u53d6\u200b\u4e00\u5b9a\u200b\u6bd4\u4f8b\u200b\uff08\u200b\u5982\u200b 30%\uff09\u200b\u7684\u200b\u6837\u672c\u200b\u4f5c\u4e3a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u3002\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u6211\u200b\u7684\u200b\u8bba\u6587\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u53ea\u200b\u9700\u8981\u200b\u8bad\u7ec3\u200b\u4e00\u6b21\u200b\u6a21\u578b\u200b\uff0c\u200b\u901f\u5ea6\u200b\u8f83\u200b\u5feb\u200b\u3002</li> </ul> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li> <p>\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u6570\u636e\u200b\u4ece\u672a\u200b\u53c2\u4e0e\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u53ef\u80fd\u200b\u524a\u5f31\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u6027\u200b\uff0c\u200b\u5728\u200b\u6781\u7aef\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5f53\u200b\u9a8c\u8bc1\u200b\u96c6\u4e2d\u200b\u6570\u636e\u200b\u672c\u8eab\u200b\u5c31\u662f\u200b\u6574\u4f53\u200b\u6570\u636e\u200b\u7684\u200b\u201c\u200b\u566a\u70b9\u200b\u201d\u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u5ea6\u200b\u5c06\u4f1a\u200b\u5927\u5927\u964d\u4f4e\u200b\uff1b</p> </li> <li> <p>\u200b\u6700\u7ec8\u200b\u7684\u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\u7ed3\u679c\u200b\u53ef\u80fd\u200b\u53d7\u5230\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u5212\u5206\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u968f\u673a\u56e0\u7d20\u200b\u5e72\u6270\u200b\u3002</p> </li> </ul>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#k-\u6298\u4ea4\u53c9\u9a8c\u8bc1","title":"K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1","text":"<p>\u200b\u968f\u673a\u200b\u5c06\u200b\u5168\u4f53\u200b\u6837\u672c\u200b\u5206\u4e3a\u200b K \u200b\u4e2a\u200b\u90e8\u5206\u200b\uff08K \u200b\u5728\u200b 3~20 \u200b\u4e4b\u95f4\u200b\uff09\uff0c\u200b\u6bcf\u6b21\u200b\u7528\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u4f5c\u4e3a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\uff0c\u200b\u5176\u4f59\u90e8\u5206\u200b\u4f5c\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u3002\u200b\u91cd\u590d\u200b K \u200b\u6b21\u200b\uff0c\u200b\u76f4\u5230\u200b\u6240\u6709\u200b\u90e8\u5206\u200b\u90fd\u200b\u88ab\u200b\u9a8c\u8bc1\u200b\u8fc7\u200b\u3002\u200b\u6700\u7ec8\u200b\u5c06\u200b\u5f97\u5230\u200b 5 \u200b\u4e2a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5747\u200b\u65b9\u200b\u8bef\u5dee\u200b\uff08\u200b\u6216\u200b\u5176\u5b83\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u5f62\u5f0f\u200b\uff09\uff0c\u200b\u53d6\u200b\u5747\u503c\u200b\u4f5c\u4e3a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5e73\u5747\u200b\u8868\u73b0\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u7559\u4e00\u6cd5\u548c\u7559-p-\u6cd5","title":"\u7559\u4e00\u6cd5\u200b\u548c\u200b\u7559\u200b P \u200b\u6cd5","text":"<p>\u200b\u5047\u8bbe\u200b\u6837\u672c\u91cf\u200b\u4e3a\u200b\\(N\\)\uff0c\u200b\u5982\u679c\u200b\u6bcf\u6b21\u200b\u53d6\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u628a\u200b\u5176\u4f59\u200b\u6837\u672c\u200b\u7528\u6765\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u91cd\u590d\u200b\\(N\\)\u200b\u6b21\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u79f0\u4e3a\u200b\u7559\u4e00\u6cd5\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff08leave-one-out cross-validation\uff0cLOOCV\uff09\u3002\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u6bcf\u6b21\u200b\u53d6\u200b P \u200b\u4e2a\u200b\u6837\u672c\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u91cd\u590d\u200b\\(C_N^P\\)\u200b\u6b21\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u79f0\u4e3a\u200b\u7559\u200b P \u200b\u6cd5\u200b\uff08leave-p-out cross-validation\uff0cLPOCV\uff09\u3002</p> <p>\u200b\u5982\u679c\u200b\u6570\u636e\u91cf\u200b\u5f88\u5927\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u200b\u9002\u5408\u200b\u7528\u7559\u200b\u4e00\u6cd5\u200b\u548c\u200b\u7559\u200b P \u200b\u6cd5\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u200b\u9700\u8981\u200b\u91cd\u590d\u200b\u9a8c\u8bc1\u200b\u975e\u5e38\u200b\u591a\u6b21\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u65f6\u5e8f\u4ea4\u53c9\u9a8c\u8bc1","title":"\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1","text":"<p>\u200b\u4ee5\u4e0a\u200b\u56db\u79cd\u200b\u4f20\u7edf\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u6210\u7acb\u200b\u7684\u200b\u524d\u63d0\u200b\u662f\u200b\u6837\u672c\u200b\u670d\u4ece\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u3002\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7279\u70b9\u200b\u662f\u200b\uff0c\u200b\u8fc7\u53bb\u200b\u548c\u200b\u672a\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u5b58\u5728\u200b\u76f8\u5173\u200b\u5173\u7cfb\u200b\uff0c\u200b\u56e0\u6b64\u200b\u901a\u5e38\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u7684\u200b\u5047\u8bbe\u200b\u3002\u200b\u5982\u679c\u200b\u4f9d\u7136\u200b\u91c7\u7528\u200b\u4f20\u7edf\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5c06\u200b\u672a\u6765\u200b\u65f6\u523b\u200b\u7684\u200b\u6570\u636e\u200b\u5212\u5165\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u5386\u53f2\u200b\u65f6\u523b\u200b\u7684\u200b\u6570\u636e\u200b\u5212\u5165\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\uff0c\u200b\u8fdb\u800c\u200b\u51fa\u73b0\u200b\u7528\u200b\u672a\u6765\u200b\u89c4\u5f8b\u200b\u9884\u6d4b\u200b\u5386\u53f2\u200b\u7ed3\u679c\u200b\u7684\u200b\u201c\u200b\u4f5c\u5f0a\u200b\u201d\u200b\u884c\u4e3a\u200b\u3002</p> <p>\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u65e2\u200b\u80fd\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u200b\u7684\u200b\u5229\u7528\u200b\u6570\u636e\u200b\uff0c\u200b\u53c8\u200b\u80fd\u200b\u907f\u514d\u200b\u7528\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u9884\u6d4b\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\u7684\u200b\u884c\u4e3a\u200b\u3002</p> <p>\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6570\u636e\u200b\u5212\u5206\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5728\u200b\u7b2c\u200b 1 \u200b\u6b65\u200b\uff0c\u200b\u53ea\u7528\u200b\u8f83\u5c11\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u524d\u671f\u200b\u7684\u200b\u6570\u636e\u200b\u4f5c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u540e\u671f\u200b\u7684\u200b\u6570\u636e\u200b\u4f5c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u3002\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u5c06\u200b\u6269\u5927\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5927\u5c0f\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u4f46\u200b\u9700\u8981\u200b\u5f80\u540e\u200b\u63a8\u79fb\u200b\u3002\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\uff0c\u200b\u6700\u540e\u200b\u4e00\u6b65\u200b\u65f6\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u5145\u5206\u5229\u7528\u200b\u4e86\u200b\u5168\u4f53\u200b\u6570\u636e\u200b\uff0c\u200b\u4e14\u200b\u4fdd\u8bc1\u200b\u4e86\u200b\u9a8c\u8bc1\u200b\u96c6\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u4e4b\u540e\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u5b9e\u8bc1\u68c0\u9a8c","title":"\u5b9e\u8bc1\u200b\u68c0\u9a8c","text":"","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#\u673a\u5668\u5b66\u4e60\u516c\u5171\u6570\u636e\u96c6\u5305\u542b\u65f6\u5e8f\u6570\u636e\u548c\u975e\u65f6\u5e8f\u6570\u636e","title":"\u673a\u5668\u200b\u5b66\u4e60\u200b\u516c\u5171\u6570\u636e\u200b\u96c6\u200b\uff08\u200b\u5305\u542b\u200b\u65f6\u5e8f\u200b\u6570\u636e\u200b\u548c\u200b\u975e\u200b\u65f6\u5e8f\u200b\u6570\u636e\u200b\uff09","text":"<p>\u200b\u62a5\u544a\u200b\u539f\u6587\u200b\u4f7f\u7528\u200b K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u548c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5bf9\u200b\u51e0\u4e2a\u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4e86\u200b\u68c0\u9a8c\u200b\u3002\u200b\u4e3b\u8981\u200b\u7ed3\u8bba\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u5c06\u200b\u590d\u6742\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u65b9\u6cd5\u200b\u5e94\u7528\u200b\u4e8e\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u4f20\u7edf\u200b K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u8868\u73b0\u200b\u51fa\u200b\u4e00\u5b9a\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u503e\u5411\u200b\uff1b\u200b\u800c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u7a0b\u5ea6\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u6cdb\u5316\u200b\u80fd\u529b\u200b\u8f83\u5f3a\u200b\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b\u7b80\u5355\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u65b9\u6cd5\u200b\uff08\u200b\u5982\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u3001\u200b\u7ebf\u6027\u200b SVM\uff09\u200b\u800c\u8a00\u200b\uff0c\u200b\u7531\u4e8e\u200b\u6a21\u578b\u200b\u672c\u8eab\u200b\u62df\u5408\u200b\u80fd\u529b\u200b\u4e0d\u200b\u5f3a\u200b\uff0cK \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u548c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8868\u73b0\u200b\u63a5\u8fd1\u200b\u3002</li> <li>\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u65f6\u95f4\u200b\u5f00\u9500\u200b\u4e0a\u200b\u4e5f\u200b\u5177\u6709\u200b\u4e00\u5b9a\u200b\u4f18\u52bf\u200b\u3002\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u65f6\u95f4\u200b\u662f\u200b K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\\(\\frac{1}{2}\\)\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u603b\u4f53\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u8f83\u200b\u5c11\u200b\u3002\u200b\u666e\u901a\u200b\u7684\u200b K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u8981\u200b\u7528\u5230\u200b\u5168\u90e8\u200b\u7684\u200b\u6570\u636e\u200b\u505a\u200b\u8bad\u7ec3\u200b\u548c\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u524d\u671f\u200b\u53ea\u7528\u200b\u5230\u200b\u5c11\u90e8\u5206\u200b\u6570\u636e\u200b\u505a\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u672a\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u4e0d\u80fd\u200b\u7528\u200b\u7684\u200b\u3002</li> <li>\u200b\u5728\u200b\u5e94\u7528\u200b\u4e8e\u200b\u975e\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u65f6\u200b\uff0cK \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u548c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u6ca1\u6709\u200b\u660e\u663e\u200b\u5dee\u5f02\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-validation-for-time-series-data/#a-\u80a1\u6570\u636e\u96c6\u5e76\u6784\u5efa\u7b56\u7565\u8fdb\u884c\u56de\u6d4b","title":"A \u200b\u80a1\u200b\u6570\u636e\u200b\u96c6\u200b\u5e76\u200b\u6784\u5efa\u200b\u7b56\u7565\u200b\u8fdb\u884c\u200b\u56de\u6d4b","text":"<p>\u200b\u62a5\u544a\u200b\u7684\u200b\u6700\u540e\u200b\u5bf9\u200b A \u200b\u80a1\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e86\u200b\u68c0\u9a8c\u200b\uff0c\u200b\u5e76\u200b\u6784\u5efa\u200b\u7b56\u7565\u200b\u8fdb\u884c\u200b\u56de\u6d4b\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7ed3\u8bba\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\u5177\u5907\u200b\u8f83\u5f3a\u200b\u7684\u200b\u5e8f\u5217\u200b\u76f8\u5173\u6027\u200b\uff0c\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u4f20\u7edf\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u6837\u672c\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u539f\u5219\u200b\u3002</li> <li>\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u9009\u62e9\u200b\u4e86\u200b\u66f4\u200b\u201c\u200b\u7b80\u5355\u200b\u201d\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u66f4\u200b\u4e0d\u200b\u5bb9\u6613\u200b\u51fa\u73b0\u200b\u8fc7\u200b\u62df\u5408\u200b\u3002</li> <li>\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6b63\u786e\u7387\u200b\u3001AUC \u200b\u548c\u200b RankIC \u200b\u503c\u200b\u66f4\u200b\u9ad8\u200b\uff0c\u200b\u6837\u672c\u200b\u5185\u200b\u6b63\u786e\u7387\u200b\u66f4\u200b\u4f4e\u200b\uff0c\u200b\u8868\u660e\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u7a0b\u5ea6\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u800c\u200b K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u8868\u73b0\u200b\u51fa\u200b\u660e\u663e\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u3002</li> <li>\u200b\u4ece\u200b\u7b56\u7565\u200b\u56de\u6d4b\u200b\u7ed3\u679c\u200b\u6765\u770b\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u7b80\u5355\u200b\u7684\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e0e\u200b K \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u8868\u73b0\u200b\u63a5\u8fd1\u200b\uff1b\u200b\u5bf9\u4e8e\u200b\u590d\u6742\u200b\u7684\u200b XGBoost \u200b\u6a21\u578b\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5177\u5907\u200b\u660e\u663e\u200b\u4f18\u52bf\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pytorch-lecture-1-installation/","title":"PyTorch Lecture 1\uff1a\u200b\u5b89\u88c5\u200b PyTorch","text":"<p>\u200b\u5728\u200b Windows \u200b\u7cfb\u7edf\u200b\u4e0a\u200b\u5b89\u88c5\u200b PyTorch\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-1-installation/#\u8e29\u5751\u4e4b\u4e00\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5207\u6362\u4e86\u7f51\u7edc\u73af\u5883","title":"\u8e29\u200b\u5751\u200b\u4e4b\u4e00\u200b\uff1a\u200b\u5b89\u88c5\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u5207\u6362\u200b\u4e86\u200b\u7f51\u7edc\u200b\u73af\u5883","text":"<p>\u200b\u7531\u4e8e\u200b\u6211\u200b\u7684\u200b\u8bbe\u5907\u200b\u8f83\u4e3a\u200b\u843d\u540e\u200b\uff0c\u200b\u4e14\u200b\u4e3a\u4e86\u200b\u5b89\u88c5\u200b\u7b80\u4fbf\u200b\uff0c\u200b\u6211\u200b\u9996\u5148\u200b\u9009\u62e9\u200b\u4e86\u200b CPU \u200b\u7248\u672c\u200b\u7684\u200b PyTorch\u3002\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4f7f\u200b\u6211\u200b\u5728\u200b\u8fd0\u884c\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u9879\u76ee\u200b\u65f6\u200b\u7684\u200b\u901f\u5ea6\u200b\u4f1a\u6162\u200b\u4e00\u4e9b\u200b\u3002</p> Bash<pre><code>conda install pytorch torchvision torchaudio cpuonly -c pytorch\n</code></pre> <p>\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u9700\u8981\u200b\u4e0b\u8f7d\u200b<code>torch</code>\u200b\u7b49\u200b\u5305\u200b\uff0c\u200b\u6211\u200b\u611f\u89c9\u200b\u4ee3\u7406\u200b\u7f51\u7edc\u200b\u592a\u6162\u200b\uff0c\u200b\u5c31\u200b\u5173\u95ed\u200b\u4e86\u200b\u4ee3\u7406\u200b\uff0c\u200b\u6539\u6210\u200b\u76f4\u8fde\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u4e00\u65e6\u200b\u7f51\u7edc\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u6b63\u5728\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u5305\u200b\u7acb\u5373\u200b\u4f1a\u200b\u505c\u6b62\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u5e76\u200b\u7ee7\u7eed\u200b\u4e0b\u8f7d\u200b\u540e\u7eed\u200b\u7684\u200b\u5305\u200b\u3002\u200b\u7b49\u200b\u6240\u6709\u200b\u5305\u90fd\u200b\u4e0b\u8f7d\u200b\u5b8c\u540e\u200b\uff0c\u200b\u53c8\u200b\u63d0\u793a\u200b\u6211\u200b\uff1a\u200b\u6709\u200b\u4e00\u4e2a\u5305\u200b\u8fd8\u200b\u6ca1\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5b89\u88c5\u200b\u5931\u8d25\u200b\u3002</p> <p>\u200b\u603b\u7ed3\u200b\uff1a\u200b\u5b89\u88c5\u200b\u8fc7\u7a0b\u200b\u4e0d\u8981\u200b\u5207\u6362\u200b\u7f51\u7edc\u200b\u73af\u5883\u200b\uff01</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-1-installation/#\u8e29\u5751\u4e4b\u4e8c\u4e0d\u77e5\u9053\u5982\u4f55\u4e0b\u8f7d\u5386\u53f2\u7248\u672c\u7684-pytorch","title":"\u8e29\u200b\u5751\u200b\u4e4b\u4e8c\u200b\uff1a\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5982\u4f55\u200b\u4e0b\u8f7d\u200b\u5386\u53f2\u200b\u7248\u672c\u200b\u7684\u200b PyTorch","text":"<p>\u200b\u5b89\u88c5\u200b CPU \u200b\u7248\u672c\u200b\u7684\u200b PyTorch \u200b\u5931\u8d25\u200b\u540e\u200b\uff0c\u200b\u6211\u200b\u51b3\u5b9a\u200b\u4e0b\u8f7d\u200b CUDA \u200b\u7248\u672c\u200b\u7684\u200b\u3002\u200b\u6839\u636e\u200b\u7535\u8111\u200b\u663e\u5361\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4e0b\u8f7d\u200b\u5bf9\u5e94\u200b\u7684\u200b CUDA\u3002\u200b\u6211\u200b\u7684\u200b\u663e\u5361\u200b\u578b\u53f7\u200b\u662f\u200b NVIDIA GeForce MX150\uff0c\u200b\u652f\u6301\u200b 10.1 \u200b\u7248\u672c\u200b\u7684\u200b CUDA\u3002</p> <p>\u200b\u5b89\u88c5\u200b CUDA \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u77e5\u4e4e\u200b-win10+mx150 \u200b\u73af\u5883\u200b\u4e0b\u200b\u5b89\u88c5\u200b cuda\uff0ccudnn\uff0cpytorch-gpu\u3002</p> <p>\u200b\u5b98\u7f51\u200b\u7684\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\u53ea\u200b\u63d0\u4f9b\u200b\u4e86\u200b CUDA 10.2\u300111.3 \u200b\u548c\u200b 11.6 \u200b\u7248\u672c\u200b\u7684\u200b\uff0c\u200b\u5e76\u4e14\u200b 10.2 \u200b\u7248\u672c\u200b\u7684\u200b\u5728\u200b Windows \u200b\u4e0a\u200b\u5df2\u7ecf\u200b\u4e0d\u200b\u53d7\u200b\u652f\u6301\u200b\u3002</p> <p></p> <p>\u200b\u6211\u200b\u5411\u200b Datawhale \u200b\u7684\u200b\u540c\u5b66\u200b\u4eec\u200b\u6c42\u52a9\u200b\uff0c\u200b\u5f88\u5feb\u200b\u5f97\u5230\u200b\u4e86\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff1a\u200b\u67e5\u770b\u200b\u5386\u53f2\u200b\u7248\u672c\u200b\u7684\u200b PyTorch\uff08https://pytorch.org/get-started/previous-versions/\uff09\uff0c\u200b\u627e\u5230\u200b\u652f\u6301\u200b 10.1 \u200b\u7248\u672c\u200b CUDA \u200b\u7684\u200b PyTorch\u3002</p> <p></p> <p>\u200b\u67e5\u627e\u200b<code>CUDA 10.1</code>\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b v1.7.1 \u200b\u7248\u672c\u200b\u7684\u200b PyTorch\u3002</p> <p></p> <p>\u200b\u5728\u200b Anaconda Prompt \u200b\u4e2d\u200b\u8f93\u5165\u200b<code>conda install pytorch==1.7.1 torchvision==0.8.2 torchaudio==0.7.2 cudatoolkit=10.1 -c pytorch</code>\uff0c\u200b\u7b49\u5f85\u200b\u4e0b\u8f7d\u200b\u5b8c\u6210\u200b\uff0c\u200b\u6700\u540e\u200b\u63d0\u793a\u200b\u6211\u200b<code>requests</code>\u200b\u4f9d\u8d56\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u79fb\u9664\u200b\uff0c\u200b\u53c8\u200b\u8e29\u200b\u4e86\u200b\u7b2c\u4e09\u4e2a\u200b\u5751\u200b\uff01</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-1-installation/#\u8e29\u5751\u4e4b\u4e09\u6ca1\u6709\u521b\u5efa\u65b0\u7684-conda-\u73af\u5883\u800c\u662f\u5728-base-\u4e2d\u5b89\u88c5","title":"\u8e29\u200b\u5751\u200b\u4e4b\u4e09\u200b\uff1a\u200b\u6ca1\u6709\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b Conda \u200b\u73af\u5883\u200b\uff0c\u200b\u800c\u662f\u200b\u5728\u200b base \u200b\u4e2d\u200b\u5b89\u88c5","text":"<p>\u200b\u6211\u200b\u53c8\u200b\u5411\u200b Datawhale \u200b\u7684\u200b\u540c\u5b66\u200b\u4eec\u200b\u6c42\u52a9\u200b\uff0c\u200b\u5f97\u77e5\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u73af\u5883\u200b\uff0c\u200b\u5728\u200b\u65b0\u200b\u7684\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200b PyTorch\u3002\u200b\u8fd9\u6837\u200b\u505a\u200b\u7684\u200b\u597d\u5904\u200b\u662f\u200b\uff1a</p> <ul> <li>\u200b\u9996\u5148\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u201c<code>requests</code>\u200b\u4f9d\u8d56\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u79fb\u9664\u200b\u201d\u200b\u7684\u200b\u62a5\u9519\u200b\uff1b</li> <li>\u200b\u7ed9\u200b PyTorch \u200b\u5355\u72ec\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u73af\u5883\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u7ba1\u7406\u200b\u73af\u5883\u200b\u4e2d\u200b\u7684\u200b\u5305\u200b\uff1b</li> <li>\u200b\u5982\u679c\u200b\u672c\u6b21\u200b\u5b89\u88c5\u200b\u5931\u8d25\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e4b\u95f4\u200b\u5220\u9664\u200b\u8fd9\u4e2a\u200b\u65b0\u200b\u7684\u200b\u73af\u5883\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u5176\u4ed6\u200b\u7684\u200b\u73af\u5883\u200b\uff08\u200b\u5982\u200b base\uff09\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-1-installation/#\u6b63\u786e\u7684\u5b89\u88c5\u65b9\u6cd5","title":"\u6b63\u786e\u200b\u7684\u200b\u5b89\u88c5\u200b\u65b9\u6cd5","text":"<p>\u200b\u5176\u5b9e\u200b\u8bfe\u7a0b\u200b\u89c6\u9891\u200b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5c31\u662f\u200b\u6b63\u786e\u200b\u7684\u200b\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b\u81ea\u5df1\u200b\u5728\u200b\u770b\u200b\u89c6\u9891\u200b\u7684\u200b\u65f6\u5019\u200b\u6ca1\u6709\u200b\u91cd\u89c6\u200b\u3002\u200b\u5728\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u597d\u200b CUDA \u200b\u540e\u200b\uff08\u200b\u4e4b\u524d\u200b\u7684\u200b\u8e29\u200b\u5751\u200b\u8fc7\u7a0b\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u597d\u200b CUDA \u200b\u4e86\u200b\uff09\uff0c\u200b\u8fdb\u884c\u200b\u5982\u4e0b\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li> <p>\u200b\u5728\u200b\u7f51\u7edc\u200b\u73af\u5883\u200b\u7a33\u5b9a\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4ee5\u200b\u7ba1\u7406\u5458\u200b\u8eab\u4efd\u200b\u6253\u5f00\u200b <code>Anaconda Prompt (miniconda3)</code>\u3002</p> </li> <li> <p>\u200b\u65b0\u5efa\u200b\u73af\u5883\u200b\uff0c\u200b\u53d6\u540d\u4e3a\u200b<code>PyTorch</code>\u3002</p> </li> </ol> Bash<pre><code>conda create -n PyTorch\n</code></pre> <ol> <li>\u200b\u4ece\u200b<code>base</code>\u200b\u73af\u5883\u200b\u5207\u6362\u200b\u5230\u200b<code>PyTorch</code>\u200b\u73af\u5883\u200b\u4e2d\u200b\u3002</li> </ol> Bash<pre><code>conda activate PyTorch\n</code></pre> <ol> <li>\u200b\u8f93\u5165\u200b\u4ece\u200b PyTorch \u200b\u5b98\u7f51\u200b\u590d\u5236\u200b\u7684\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\u3002</li> </ol> Text Only<pre><code>conda install pytorch==1.7.1 torchvision==0.8.2 torchaudio==0.7.2 cudatoolkit=10.1 -c pytorch\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5728\u200b<code>PyTorch</code>\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u6253\u5f00\u200b Python\uff0c\u200b\u8fd0\u884c\u200b<code>import torch</code>\u200b\u548c\u200b<code>print(torch.cuda.is_available())</code>\uff0c\u200b\u663e\u793a\u200b<code>True</code>\uff0c\u200b\u8bf4\u660e\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/","title":"PyTorch Lecture 2\uff1a\u200b\u57fa\u7840\u77e5\u8bc6","text":"<p>PyTorch \u200b\u7684\u200b\u57fa\u7840\u200b\u6570\u636e\u7c7b\u578b\u200b\u548c\u200b\u7b80\u5355\u200b\u8fd0\u7b97\u200b\u3002</p> <p>\u200b\u9996\u5148\u200b\u5bfc\u5165\u200b<code>torch</code>\u200b\u5e93\u200b\u3002</p> Python<pre><code>import torch\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u5f20\u91cf","title":"\u5f20\u91cf","text":"<p>\u200b\u5f20\u91cf\u200b\uff08Tensor\uff09\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u591a\u7ef4\u200b\u6570\u7ec4\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b PyTorch \u200b\u4e2d\u200b\u7684\u200b\u57fa\u672c\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p> <p></p> <p>\u200b\u6709\u5173\u200b\u5f20\u91cf\u200b\u7684\u200b\u521b\u5efa\u200b\u3001\u200b\u8fd0\u7b97\u200b\u3001\u200b\u6570\u636e\u5904\u7406\u200b\u7b49\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200bGitHub \u200b\u4ee3\u7801\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u6839\u636e\u521d\u59cb\u503c\u521b\u5efa\u5f20\u91cf","title":"\u6839\u636e\u200b\u521d\u59cb\u503c\u200b\u521b\u5efa\u200b\u5f20\u91cf","text":"Python<pre><code># \u200b\u521b\u5efa\u200b tensor\uff0c\u200b\u7528\u200b dtype \u200b\u6307\u5b9a\u200b\u7c7b\u578b\u200b\u3002\u200b\u6ce8\u610f\u200b\u7c7b\u578b\u200b\u8981\u200b\u5339\u914d\u200b\na = torch.tensor(1.0, dtype=torch.float)\nb = torch.tensor(1, dtype=torch.long)\nc = torch.tensor(1.0, dtype=torch.int8)\nprint(a, b, c)\n</code></pre> Text Only<pre><code>tensor(1.) tensor(1) tensor(1, dtype=torch.int8)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u6839\u636e\u968f\u673a\u503c\u521b\u5efa\u5f20\u91cf","title":"\u6839\u636e\u200b\u968f\u673a\u200b\u503c\u200b\u521b\u5efa\u200b\u5f20\u91cf","text":"Python<pre><code># \u200b\u4f7f\u7528\u200b\u6307\u5b9a\u200b\u7c7b\u578b\u200b\u51fd\u6570\u200b\u968f\u673a\u200b\u521d\u59cb\u5316\u200b\u6307\u5b9a\u200b\u5927\u5c0f\u200b\u7684\u200b tensor\nd = torch.FloatTensor(2, 3)\ne = torch.IntTensor(2)\nf = torch.IntTensor([1, 2, 3, 4])  # \u200b\u5bf9\u4e8e\u200b Python \u200b\u5df2\u7ecf\u200b\u5b9a\u4e49\u200b\u597d\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8f6c\u6362\u200b\nprint(d, \"\\n\", e, \"\\n\", f)\n</code></pre> Python<pre><code>tensor([[0.0, 0.0, 0.0], [0.0, 0.0, 0.0]])\ntensor([1065353216, 0], dtype=torch.int32)\ntensor([1, 2, 3, 4], dtype=torch.int32)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#tensor\u548cnumpy-array\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u6362","title":"<code>tensor</code>\u200b\u548c\u200b<code>numpy array</code>\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u4e92\u200b\u8f6c\u6362","text":"Python<pre><code>import numpy as np\ng = np.array([[1, 2, 3], [4, 5, 6]])\nh = torch.tensor(g)\nprint(h)\ni = torch.from_numpy(g)\nprint(i)\nj = h.numpy()\nprint(j)\n</code></pre> Text Only<pre><code>tensor([[1, 2, 3],\n        [4, 5, 6]], dtype=torch.int32)\ntensor([[1, 2, 3],\n        [4, 5, 6]], dtype=torch.int32)\n[[1 2 3]\n [4 5 6]]\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff1a<code>torch.tensor</code>\u200b\u521b\u5efa\u200b\u5f97\u5230\u200b\u7684\u200b\u5f20\u91cf\u200b\u548c\u200b\u539f\u200b\u6570\u636e\u200b\u662f\u200b\u4e0d\u200b\u5171\u4eab\u5185\u5b58\u200b\u7684\u200b\uff0c\u200b\u5f20\u91cf\u200b\u5bf9\u5e94\u200b\u7684\u200b\u53d8\u91cf\u200b\u662f\u200b\u72ec\u7acb\u200b\u53d8\u91cf\u200b\u3002\u200b\u800c\u200b<code>torch.from_numpy()</code>\u200b\u548c\u200b<code>torch.as_tensor()</code>\u200b\u4ece\u200b<code>numpy array</code>\u200b\u521b\u5efa\u200b\u5f97\u5230\u200b\u7684\u200b\u5f20\u91cf\u200b\u548c\u200b\u539f\u200b\u6570\u636e\u200b\u662f\u200b\u5171\u4eab\u5185\u5b58\u200b\u7684\u200b\uff0c\u200b\u5f20\u91cf\u200b\u5bf9\u5e94\u200b\u7684\u200b\u53d8\u91cf\u200b\u4e0d\u662f\u200b\u72ec\u7acb\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4fee\u6539\u200b<code>numpy array</code>\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u5bf9\u5e94\u200b<code>tensor</code>\u200b\u7684\u200b\u6539\u53d8\u200b\u3002      </p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u5e38\u89c1\u7684\u6784\u9020-tensor-\u7684\u51fd\u6570","title":"\u5e38\u89c1\u200b\u7684\u200b\u6784\u9020\u200b Tensor \u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code>k = torch.rand(2, 3)\nl = torch.ones(2, 3)\nm = torch.zeros(2, 3)\nn = torch.arange(0, 10, 2)\nprint(k, \"\\n\", l, \"\\n\", m, \"\\n\", n)\n</code></pre> Python<pre><code>tensor([[0.8086, 0.8206, 0.0462], [0.0070, 0.2045, 0.5737]])\ntensor([[1.0, 1.0, 1.0], [1.0, 1.0, 1.0]])\ntensor([[0.0, 0.0, 0.0], [0.0, 0.0, 0.0]])\ntensor([0, 2, 4, 6, 8])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u67e5\u770b-tensor-\u7684\u7ef4\u5ea6\u4fe1\u606f\u4e24\u79cd\u65b9\u5f0f","title":"\u67e5\u770b\u200b tensor \u200b\u7684\u200b\u7ef4\u5ea6\u200b\u4fe1\u606f\u200b\uff08\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\uff09","text":"Python<pre><code>print(k.shape)\nprint(k.size())\n</code></pre> Python<pre><code>torch.Size([2, 3])\ntorch.Size([2, 3])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#tensor-\u7684\u8fd0\u7b97\u52a0\u6cd5","title":"tensor \u200b\u7684\u200b\u8fd0\u7b97\u200b\uff08\u200b\u52a0\u6cd5\u200b\uff09","text":"Python<pre><code>o = torch.add(k, l)\nprint(o)\n</code></pre> Python<pre><code>tensor([[1.8086, 1.8206, 1.0462], [1.0070, 1.2045, 1.5737]])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#tensor-\u7684\u7d22\u5f15\u65b9\u5f0f\u4e0e-numpy-\u7c7b\u4f3c","title":"tensor \u200b\u7684\u200b\u7d22\u5f15\u200b\u65b9\u5f0f\u200b\uff08\u200b\u4e0e\u200b NumPy \u200b\u7c7b\u4f3c\u200b\uff09","text":"Python<pre><code>print(o[:, 0])  # \u200b\u53d6\u200b\u7b2c\u200b 1 \u200b\u5217\u200b\nprint(o[0, :])  # \u200b\u53d6\u200b\u7b2c\u200b 1 \u200b\u884c\u200b\n</code></pre> Python<pre><code>tensor([1.8086, 1.0070])\ntensor([1.8086, 1.8206, 1.0462])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u6539\u53d8-tensor-\u5f62\u72b6\u7684\u795e\u5668view","title":"\u6539\u53d8\u200b tensor \u200b\u5f62\u72b6\u200b\u7684\u200b\u795e\u5668\u200b\uff1aview","text":"Python<pre><code>print(o.view((3, 2)))  # 3 \u200b\u884c\u200b 2 \u200b\u5217\u200b\nprint(o.view(-1, 2))  # 2 \u200b\u5217\u200b\uff0c\u200b\u884c\u6570\u200b\u81ea\u200b\u9002\u5e94\u200b\n</code></pre> Python<pre><code>tensor([[1.8086, 1.8206], [1.0462, 1.0070], [1.2045, 1.5737]])\ntensor([[1.8086, 1.8206], [1.0462, 1.0070], [1.2045, 1.5737]])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#tensor-\u7684\u5e7f\u64ad\u673a\u5236\u4f7f\u7528\u52a0\u6cd5\u65f6\u8981\u6ce8\u610f\u8fd9\u4e2a\u7279\u6027","title":"tensor \u200b\u7684\u200b\u5e7f\u64ad\u200b\u673a\u5236\u200b\uff08\u200b\u4f7f\u7528\u200b\u52a0\u6cd5\u200b\u65f6\u8981\u200b\u6ce8\u610f\u200b\u8fd9\u4e2a\u200b\u7279\u6027\u200b\uff09","text":"Python<pre><code>p = torch.arange(1, 3).view(1, 2)\nprint(p)\nq = torch.arange(1, 4).view(3, 1)\nprint(q)\nprint(p + q)\n</code></pre> Python<pre><code>tensor([[1, 2]])\ntensor([[1], [2], [3]])\ntensor([[2, 3], [3, 4], [4, 5]])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u6269\u5c55\u548c\u538b\u7f29-tensor-\u7684\u7ef4\u5ea6squeeze","title":"\u6269\u5c55\u200b\u548c\u200b\u538b\u7f29\u200b tensor \u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff1asqueeze","text":"<p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5f20\u91cf\u200b\u662f\u200b\u4e09\u7ef4\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u7ef4\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b<code>squeeze</code>\u200b\u8fdb\u884c\u200b\u964d\u7ef4\u200b\uff0c\u200b\u51cf\u5c0f\u200b\u4e00\u4e2a\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u4f1a\u200b\u635f\u5931\u200b\u6570\u636e\u200b\u3002</p> Python<pre><code>print(o)\nprint(o.shape)\nr = o.unsqueeze(1)\nprint(r)\nprint(r.shape)\n</code></pre> Python<pre><code>tensor([[1.8086, 1.8206, 1.0462], [1.0070, 1.2045, 1.5737]])\ntorch.Size([2, 3])\ntensor([[[1.8086, 1.8206, 1.0462]], [[1.0070, 1.2045, 1.5737]]])\ntorch.Size([2, 1, 3])\n</code></pre> <p>\u200b\u964d\u7ef4\u200b\uff1a</p> Python<pre><code>t = r.squeeze(1)  # \u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200b 1\uff0c\u200b\u610f\u601d\u200b\u662f\u200b\u5bf9\u200b\u7b2c\u200b 2 \u200b\u4e2a\u200b\u7ef4\u5ea6\u200b\u8fdb\u884c\u200b\u538b\u7f29\u200b\u3002\nprint(t)\nprint(t.shape)\n</code></pre> Python<pre><code>tensor([[1.8086, 1.8206, 1.0462], [1.0070, 1.2045, 1.5737]])\ntorch.Size([2, 3])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#pytorch-\u81ea\u52a8\u6c42\u5bfc","title":"PyTorch \u200b\u81ea\u52a8\u200b\u6c42\u5bfc","text":"<p>\u200b\u8fd9\u91cc\u200b\u5c06\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u51fd\u6570\u200b  \\(y=x_1+2*x_2\\)  \u200b\u6765\u200b\u8bf4\u660e\u200b PyTorch \u200b\u81ea\u52a8\u200b\u6c42\u5bfc\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> Python<pre><code>import torch\nx1 = torch.tensor(1.0, requires_grad=True)\nx2 = torch.tensor(2.0, requires_grad=True)\ny = x1 + 2 * x2\nprint(y)\n</code></pre> Text Only<pre><code>tensor(5., grad_fn=&lt;AddBackward0&gt;)\n</code></pre> <p>\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u540e\u200b\u770b\u200b\u5bfc\u6570\u200b\u5927\u5c0f\u200b\uff1a</p> Python<pre><code>y = x1 + 2 * x2\ny.backward()\nprint(x1.grad.data)\nprint(x2.grad.data)\n</code></pre> Python<pre><code>tensor(1.0)\ntensor(2.0)\n</code></pre> <p>\u200b\u4e0a\u8ff0\u200b\u7ed3\u679c\u8868\u660e\u200b\uff0c\u200b\u504f\u200b\u5bfc\u6570\u200b\u5206\u522b\u200b\u662f\u200b 1 \u200b\u548c\u200b 2\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-lecture-2-fundamentals/#\u5e76\u884c\u8ba1\u7b97","title":"\u5e76\u884c\u8ba1\u7b97","text":"<p>\u200b\u4f18\u52bf\u200b\uff1a</p> <ul> <li>\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u5feb\u200b\uff1b</li> <li>\u200b\u8bad\u7ec3\u200b\u6548\u679c\u200b\u4e00\u822c\u200b\u66f4\u597d\u200b\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/","title":"\u7b56\u7565\u200b\u590d\u73b0\u200b\uff1a\u200b\u57fa\u4e8e\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u7684\u200b\u80a1\u6307\u200b\u671f\u8d27\u200b\u65e5\u5185\u200b\u4ea4\u6613\u200b\u7b56\u7565","text":"<p>\u200b\u57fa\u4e8e\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u91cf\u5316\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\uff0c\u200b\u6784\u5efa\u200b\u671f\u8d27\u200b\u65e5\u5185\u200b\u4ea4\u6613\u200b\u7b56\u7565\u200b\u3002</p> <p></p> <p>\u200b\u672c\u6587\u200b\u590d\u73b0\u200b\u7684\u200b\u7b56\u7565\u200b\u57fa\u4e8e\u200b\u5e7f\u53d1\u200b\u8bc1\u5238\u200b\u53d1\u5e03\u200b\u7684\u200b\u7814\u7a76\u200b\u62a5\u544a\u200b\u300a\u200b\u57fa\u4e8e\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u7684\u200b\u80a1\u6307\u200b\u671f\u8d27\u200b\u65e5\u5185\u200b\u4ea4\u6613\u200b\u7b56\u7565\u200b------\u200b\u53e6\u7c7b\u200b\u4ea4\u6613\u200b\u7b56\u7565\u200b\u4e4b\u200b\u4e8c\u5341\u4e00\u200b\u300b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5bf9\u7b56\u7565\u7684\u7406\u89e3","title":"\u5bf9\u200b\u7b56\u7565\u200b\u7684\u200b\u7406\u89e3","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u91cf\u5316\u5f00\u76d8\u9636\u6bb5\u7684\u4ef7\u683c\u8d8b\u52bf","title":"\u91cf\u5316\u200b\u5f00\u76d8\u200b\u9636\u6bb5\u200b\u7684\u200b\u4ef7\u683c\u200b\u8d8b\u52bf","text":"<p>\u200b\u5982\u679c\u200b\u5728\u200b\u5f00\u76d8\u200b\u521d\u671f\u200b\u89c2\u5bdf\u200b\u5230\u200b\"\u200b\u4e00\u81f4\u200b\u4e0a\u6da8\u200b\"\u200b\u6216\u200b\"\u200b\u4e00\u81f4\u200b\u4e0b\u8dcc\u200b\"\u200b\u7684\u200b\u884c\u60c5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\uff0c\u200b\u4ef7\u683c\u200b\u8d70\u52bf\u200b\u5448\u73b0\u51fa\u200b\u4e00\u81f4\u200b\u7684\u200b\"\u200b\u8d8b\u52bf\u200b\"\u3002\u200b\u82e5\u200b\u8fd9\u6837\u200b\u7684\u200b\u8d8b\u52bf\u200b\u5728\u200b\u5f00\u76d8\u200b\u540e\u200b\u4e00\u76f4\u200b\u6301\u7eed\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u5f00\u76d8\u200b\u65f6\u200b\u7684\u200b\u8d8b\u52bf\u200b\u8fdb\u884c\u200b\u4ea4\u6613\u200b\uff08\u200b\u4e0a\u6da8\u200b\u5219\u200b\u505a\u200b\u591a\u200b\uff0c\u200b\u4e0b\u8dcc\u200b\u5219\u200b\u505a\u200b\u7a7a\u200b\uff09\uff0c\u200b\u7b49\u5f85\u200b\u8d8b\u52bf\u200b\u5728\u200b\u76d8\u4e2d\u200b\u5ef6\u7eed\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u8d8b\u52bf\u200b\u7ed3\u675f\u200b\u524d\u200b\u5e73\u4ed3\u200b\uff0c\u200b\u5373\u53ef\u200b\u83b7\u53d6\u200b\u5229\u6da6\u200b\u3002</p> <p>\u200b\u76f8\u53cd\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u5f00\u76d8\u200b\u521d\u671f\u200b\u89c2\u5bdf\u200b\u5230\u200b\"\u200b\u53cd\u590d\u200b\u9707\u8361\u200b\"\u200b\u7684\u200b\u884c\u60c5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u4e0d\u200b\u5e73\u7a33\u200b\uff0c\u200b\u4ef7\u683c\u200b\u8d70\u52bf\u200b\u5448\u73b0\u51fa\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u7684\u200b\"\u200b\u6ce2\u52a8\u200b\"\u3002\u200b\u5bf9\u4e8e\u200b\u8fd9\u6837\u200b\u7684\u200b\u884c\u60c5\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f88\u96be\u200b\u5224\u65ad\u200b\u5f00\u76d8\u200b\u540e\u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u8d70\u52bf\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8f83\u96be\u200b\u5224\u65ad\u200b\u6b63\u786e\u200b\u7684\u200b\u4ea4\u6613\u200b\u65b9\u5411\u200b\u3002</p> <p>\u200b\u5982\u4f55\u200b\u91cf\u5316\u200b\u5f00\u76d8\u200b\u65f6\u200b\u7684\u200b\"\u200b\u8d8b\u52bf\u200b\"\u200b\u548c\u200b\"\u200b\u6ce2\u52a8\u200b\"\uff1f\u200b\u4ece\u200b\u4ef7\u683c\u200b\u8d70\u52bf\u56fe\u200b\u6765\u770b\u200b\uff0c\u200b\u5982\u679c\u200b\u4ef7\u683c\u200b\u66f2\u7ebf\u200b\u51e0\u4e4e\u200b\u5355\u8c03\u200b\u4e0a\u6da8\u200b\u6216\u200b\u4e0b\u8dcc\u200b\uff0c\u200b\u5219\u200b\u8d8b\u52bf\u6027\u200b\u66f4\u5f3a\u200b\u3002</p> <p>\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\uff1a\u200b\u5728\u200b\\(i\\)\u200b\u65f6\u523b\u200b\u5f00\u4ed3\u200b\uff0c\u200b\u5230\u200b\u540e\u7eed\u200b\u4efb\u610f\u200b\u7684\u200b\u65f6\u70b9\u200b\u5e73\u4ed3\u200b\uff0c\u200b\u6700\u574f\u200b\u60c5\u51b5\u200b\u7684\u200b\u4e8f\u635f\u200b\u6bd4\u4f8b\u200b\u662f\u200b\u591a\u5c11\u200b\uff1f $$ \u200b\u6700\u5927\u200b\u56de\u64a4\u200b_i=\\max_{j&gt;i}\\left( p_{i}-p_{j} \\right) / p_{i} $$ \u200b\u7528\u200b\"\u200b\u5404\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\"\u200b\u53ef\u4ee5\u200b\u91cf\u5316\u200b\u4e0a\u6da8\u200b\u7684\u200b\u8d8b\u52bf\u200b\uff1a</p> <ul> <li> <p>\u200b\u5047\u8bbe\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e25\u683c\u200b\u5355\u8c03\u200b\u4e0a\u6da8\u200b\u7684\u200b\u4ef7\u683c\u200b\u66f2\u7ebf\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5b83\u200b\u5728\u200b\u5404\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u77e5\u9053\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u90fd\u200b\u662f\u200b 0\u3002\u200b\u5982\u679c\u200b\u628a\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4ecd\u7136\u200b\u662f\u200b 0\u3002</p> </li> <li> <p>\u200b\u5047\u8bbe\u200b\u6709\u200b\u4e00\u4e2a\u200b\u51e0\u4e4e\u200b\u5355\u8c03\u200b\u4e0a\u6da8\u200b\u7684\u200b\u4ef7\u683c\u200b\u66f2\u7ebf\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5b83\u200b\u5728\u200b\u5404\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u77e5\u9053\u200b\uff1a\u200b\u51e0\u4e4e\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u90fd\u200b\u662f\u200b 0\u3002\u200b\u5982\u679c\u200b\u628a\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u5e94\u8be5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7edd\u5bf9\u503c\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u6570\u200b\u3002</p> </li> <li> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5982\u679c\u200b\u5404\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u5219\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u4ef7\u683c\u200b\u8d8a\u200b\u5448\u73b0\u51fa\u200b\u4e0a\u6da8\u200b\u7684\u200b\u8d8b\u52bf\u200b\u3002</p> </li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u501f\u9274\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u6784\u9020\u200b\"\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\"\u200b\u6307\u6807\u200b\uff1a  $$ \u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b_i=-\\min_{j&gt;i}\\left(p_{i}-p_{j}\\right) / \\mathrm{p}_{i} $$ \u200b\u5bf9\u4e8e\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u76f4\u89c9\u200b\u7684\u200b\u7406\u89e3\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\\(i\\)\u200b\u65f6\u523b\u200b\u5f00\u4ed3\u200b\uff0c\u200b\u5230\u200b\u540e\u7eed\u200b\u4efb\u610f\u200b\u7684\u200b\u65f6\u70b9\u200b\u5e73\u4ed3\u200b\uff0c\u200b\u6700\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\u7684\u200b\u76c8\u5229\u200b\u6bd4\u4f8b\u200b\u662f\u200b\u591a\u5c11\u200b\uff1f</p> <p>\u200b\u7c7b\u4f3c\u200b\u5730\u200b\uff0c\u200b\u7528\u200b\"\u200b\u5404\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\"\u200b\u53ef\u4ee5\u200b\u91cf\u5316\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\uff1a</p> <ul> <li> <p>\u200b\u5047\u8bbe\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e25\u683c\u200b\u5355\u8c03\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u4ef7\u683c\u200b\u66f2\u7ebf\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5b83\u200b\u5728\u200b\u5404\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u77e5\u9053\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u90fd\u200b\u662f\u200b 0\u3002\u200b\u5982\u679c\u200b\u628a\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4ecd\u7136\u200b\u662f\u200b 0\u3002</p> </li> <li> <p>\u200b\u5047\u8bbe\u200b\u6709\u200b\u4e00\u4e2a\u200b\u51e0\u4e4e\u200b\u5355\u8c03\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u4ef7\u683c\u200b\u66f2\u7ebf\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5b83\u200b\u5728\u200b\u5404\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u77e5\u9053\u200b\uff1a\u200b\u51e0\u4e4e\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u90fd\u200b\u662f\u200b 0\u3002\u200b\u5982\u679c\u200b\u628a\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u5e94\u8be5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u6570\u200b\u3002</p> </li> <li> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5982\u679c\u200b\u5404\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u5219\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u4ef7\u683c\u200b\u8d8a\u200b\u5448\u73b0\u51fa\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\u3002</p> </li> </ul> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u671f\u8d27\u200b\u8d44\u4ea7\u200b\uff0c\u200b\u6295\u8d44\u8005\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u505a\u200b\u591a\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u505a\u7a7a\u200b\uff0c\u200b\u56e0\u6b64\u200b\"\u200b\u4e0a\u6da8\u200b\u8d8b\u52bf\u200b\"\u200b\u548c\u200b\"\u200b\u4e0b\u8dcc\u200b\u8d8b\u52bf\u200b\"\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u4ea4\u6613\u200b\u4fe1\u53f7\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u548c\u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u4e2d\u8f83\u200b\u5c0f\u200b\u7684\u200b\u90a3\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u3002\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u5219\u200b\u4e0a\u6da8\u200b\u6216\u8005\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\u8d8a\u5f3a\u200b\u3002\u200b\u7136\u540e\u200b\u6211\u4eec\u200b\u518d\u200b\u6839\u636e\u200b\u5177\u4f53\u200b\u662f\u200b\u4e0a\u6da8\u200b\u8fd8\u662f\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\uff0c\u200b\u5373\u53ef\u200b\u5224\u65ad\u200b\u4ea4\u6613\u200b\u65b9\u5411\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u786e\u5b9a\u89c2\u5bdf\u7a97\u53e3\u60c5\u7eea\u5e73\u7a33\u5ea6\u9608\u503c\u7b49\u53c2\u6570","title":"\u786e\u5b9a\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u3001\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u9608\u503c\u200b\u7b49\u200b\u53c2\u6570","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u89c2\u5bdf\u7a97\u53e3","title":"\u89c2\u5bdf\u200b\u7a97\u53e3","text":"<p>\u200b\u89c2\u5bdf\u200b\u8d8b\u52bf\u200b\u9700\u8981\u200b\u5728\u200b\u5f00\u76d8\u200b\u540e\u200b\u7684\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u8fdb\u884c\u200b\uff0c\u200b\u5177\u4f53\u200b\u5e94\u8be5\u200b\u89c2\u5bdf\u200b\u591a\u4e45\u200b\u518d\u200b\u786e\u5b9a\u200b\u8d8b\u52bf\u200b\uff1f\u200b\u5982\u679c\u200b\u89c2\u5bdf\u200b\u7684\u200b\u65f6\u95f4\u200b\u592a\u77ed\u200b\uff0c\u200b\u53ef\u80fd\u200b\u56e0\u4e3a\u200b\u6837\u672c\u200b\u4e0d\u8db3\u200b\u800c\u200b\u5bfc\u81f4\u200b\u9519\u8bef\u200b\u7684\u200b\u5224\u65ad\u200b\uff1b\u200b\u5982\u679c\u200b\u89c2\u5bdf\u200b\u7684\u200b\u65f6\u95f4\u200b\u592a\u200b\u957f\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5373\u4f7f\u200b\u5224\u65ad\u200b\u5f97\u200b\u975e\u5e38\u200b\u51c6\u786e\u200b\uff0c\u200b\u4f46\u200b\u7531\u4e8e\u200b\u82b1\u8d39\u200b\u4e86\u200b\u5927\u91cf\u200b\u65f6\u95f4\u200b\u89c2\u5bdf\u200b\u8d8b\u52bf\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u5f00\u4ed3\u200b\u65f6\u95f4\u200b\u592a\u665a\u200b\uff0c\u200b\u635f\u5931\u200b\u4e86\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u8d8b\u52bf\u200b\u5e26\u6765\u200b\u7684\u200b\u6536\u76ca\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5bfb\u627e\u200b\u5230\u200b\u8f83\u4e3a\u200b\u5408\u9002\u200b\u7684\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u53c2\u6570\u200b\u3002\u200b\u62a5\u544a\u200b\u539f\u6587\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u662f\u200b 50 \u200b\u5206\u949f\u200b\uff0c\u200b\u5373\u200b\u4ece\u200b 9: 16 \u200b\u672b\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5230\u200b 10: 06 \u200b\u521d\u200b\u7ed3\u675f\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u60c5\u7eea\u5e73\u7a33\u5ea6\u9608\u503c","title":"\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u9608\u503c","text":"<p>\u200b\u4e0a\u200b\u4e00\u8282\u200b\u8ba8\u8bba\u200b\u4e86\u200b\u5982\u4f55\u200b\u91cf\u5316\u200b\u8d8b\u52bf\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ec5\u200b\u4ece\u200b\u5b9a\u6027\u200b\u7684\u200b\u89d2\u5ea6\u200b\u5224\u65ad\u200b\uff1a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u5219\u200b\u4e0a\u6da8\u200b\u6216\u8005\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\u8d8a\u5f3a\u200b\u3002\u200b\u90a3\u4e48\u200b\uff0c\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u7a76\u7adf\u200b\u8981\u200b\u591a\u200b\u5c0f\u200b\uff0c\u200b\u624d\u80fd\u200b\u8ba4\u4e3a\u200b\u4e0a\u6da8\u200b\u6216\u8005\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\u5f3a\u200b\u5230\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u4ea4\u6613\u200b\u4fe1\u53f7\u200b\u4e86\u200b\u5462\u200b\uff1f\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u9608\u503c\u200b\u53c2\u6570\u200b\uff0c\u200b\u5f53\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u5c0f\u4e8e\u200b\u8fd9\u4e2a\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u8ba4\u4e3a\u200b\u51fa\u73b0\u200b\u4e86\u200b\u8d8b\u52bf\u200b\u53d1\u51fa\u200b\u7684\u200b\u4ea4\u6613\u200b\u4fe1\u53f7\u200b\u3002\u200b\u62a5\u544a\u200b\u539f\u6587\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u662f\u200b\\(9/10000\\)\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u6b62\u635f\u9608\u503c","title":"\u6b62\u635f\u200b\u9608\u503c","text":"<p>\u200b\u5bf9\u200b\u8d8b\u52bf\u200b\u65b9\u5411\u200b\u7684\u200b\u5224\u65ad\u200b\u53ef\u80fd\u200b\u51fa\u9519\u200b\uff0c\u200b\u52a0\u5165\u200b\u6b62\u635f\u200b\u673a\u5236\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u9020\u6210\u200b\u8fc7\u5927\u200b\u7684\u200b\u4e8f\u635f\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u67d0\u65e5\u200b\u5f00\u76d8\u200b\u65f6\u200b\u8d8b\u52bf\u200b\u8f83\u5f3a\u200b\uff0c\u200b\u4f46\u200b\u76d8\u4e2d\u200b\u51fa\u73b0\u200b\u8f83\u5927\u200b\u53cd\u8f6c\u200b\uff0c\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b\u4e8f\u635f\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\uff0c\u200b\u5728\u200b\u5f00\u4ed3\u540e\u200b\u7684\u200b\u6bcf\u200b\u4e00\u5206\u949f\u200b\u8ba1\u7b97\u200b\u6d6e\u52a8\u200b\u76c8\u4e8f\u200b\uff0c\u200b\u5224\u65ad\u200b\u6d6e\u52a8\u200b\u4e8f\u635f\u200b\u662f\u5426\u200b\u8d85\u8fc7\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\uff0c\u200b\u82e5\u200b\u8d85\u8fc7\u200b\u5219\u200b\u63d0\u524d\u200b\u6b62\u635f\u200b\u5e73\u4ed3\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u4ea4\u6613\u6210\u672c","title":"\u4ea4\u6613\u6210\u672c","text":"<p>\u200b\u62a5\u544a\u200b\u539f\u6587\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u662f\u200b\\(2/10000\\)\uff0c\u200b\u5728\u200b\u8ba1\u7b97\u200b\u6536\u76ca\u200b\u65f6\u200b\u6ce8\u610f\u200b\u51cf\u53bb\u200b\u4ea4\u6613\u6210\u672c\u200b\u5373\u53ef\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565","text":"<p>\u200b\u57fa\u7840\u200b\u7b56\u7565\u200b\u53ea\u200b\u5728\u200b\u4e0a\u5348\u200b\u5f00\u76d8\u200b\u65f6\u200b\u89c2\u5bdf\u200b\u8d8b\u52bf\u200b\uff0c\u200b\u82e5\u200b\u4e0a\u5348\u200b\u5f00\u4ed3\u5219\u200b\u4e00\u76f4\u200b\u6301\u6709\u200b\u81f3\u200b\u4e0b\u5348\u200b\u6536\u76d8\u200b\u518d\u200b\u5e73\u4ed3\u200b\uff08\u200b\u63d0\u524d\u200b\u6b62\u635f\u200b\u5e73\u4ed3\u200b\u9664\u5916\u200b\uff09\u3002\u200b\u4f46\u200b\u4e0a\u5348\u200b\u7684\u200b\u8d8b\u52bf\u200b\u53ef\u80fd\u200b\u6301\u7eed\u65f6\u95f4\u200b\u5e76\u200b\u4e0d\u957f\u200b\uff0c\u200b\u5230\u200b\u4e0b\u5348\u200b\u65f6\u200b\u8d8b\u52bf\u200b\u53ef\u80fd\u200b\u5df2\u7ecf\u200b\u6d88\u5931\u200b\uff0c\u200b\u751a\u81f3\u200b\u51fa\u73b0\u200b\u53cd\u8f6c\u200b\u7684\u200b\u8d8b\u52bf\u200b\u3002\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u9020\u6210\u200b\u7684\u200b\u635f\u5931\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0a\u5348\u200b\u548c\u200b\u4e0b\u5348\u200b\u5206\u522b\u200b\u5224\u65ad\u200b\u8d8b\u52bf\u200b\u3002</p> <p>\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u5728\u200b\u4e0a\u5348\u200b\u5f00\u76d8\u200b\u65f6\u200b\u5224\u65ad\u200b\u8d8b\u52bf\u200b\u540e\u200b\uff0c\u200b\u82e5\u200b\u5f00\u4ed3\u200b\uff0c\u200b\u5219\u200b\u5728\u200b\u4e0a\u5348\u200b 11: 30 \u200b\u65f6\u200b\u9700\u8981\u200b\u5e73\u4ed3\u200b\u3002\u200b\u4e0b\u5348\u200b\u7684\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u4ece\u200b 11: 12 \u200b\u672b\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5230\u200b 13: 32 \u200b\u521d\u200b\u7ed3\u675f\u200b\uff0c\u200b\u4e00\u5171\u200b 50 \u200b\u5206\u949f\u200b\uff08\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u603b\u957f\u5ea6\u200b\u548c\u200b\u4e0a\u5348\u200b\u76f8\u540c\u200b\uff09\u3002\u200b\u82e5\u200b\u4e0b\u5348\u200b\u5f00\u4ed3\u200b\uff0c\u200b\u5219\u200b\u6301\u6709\u200b\u81f3\u200b\u6536\u76d8\u200b\u5e73\u4ed3\u200b\uff08\u200b\u63d0\u524d\u200b\u6b62\u635f\u200b\u5e73\u4ed3\u200b\u9664\u5916\u200b\uff09\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u590d\u73b0\u6b65\u9aa4","title":"\u590d\u73b0\u200b\u6b65\u9aa4","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5c06\u539f\u59cb\u7684\u5206\u949f\u6570\u636e\u6309\u65e5\u671f\u50a8\u5b58\u5230\u5b57\u5178\u4e2d","title":"\u5c06\u200b\u539f\u59cb\u200b\u7684\u200b\u5206\u949f\u200b\u6570\u636e\u200b\u6309\u200b\u65e5\u671f\u200b\u50a8\u5b58\u200b\u5230\u200b\u5b57\u5178\u200b\u4e2d","text":"<p>\u200b\u539f\u59cb\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u4e00\u4e2a\u200b csv \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u6574\u4f53\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u4f1a\u200b\u6bd4\u8f83\u200b\u8017\u65f6\u200b\u3002\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u6309\u200b\u65e5\u671f\u200b\u50a8\u5b58\u200b\u5230\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b\u4e2d\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u5b57\u5178\u200b\u7684\u200b<code>key</code>\u200b\u662f\u200b\u65e5\u671f\u200b\uff0c<code>value</code>\u200b\u5305\u542b\u200b\u8fd9\u4e00\u200b\u65e5\u671f\u200b\u6240\u6709\u200b\u5206\u949f\u200b\u7684\u200b\u5f00\u76d8\u4ef7\u200b\u548c\u200b\u6536\u76d8\u4ef7\u200b\uff08\u200b\u5176\u4ed6\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u200b\u6700\u9ad8\u4ef7\u200b\u3001\u200b\u4ea4\u6613\u91cf\u200b\u7b49\u200b\uff0c\u200b\u5728\u200b\u672c\u200b\u7b56\u7565\u200b\u4e2d\u200b\u4e0d\u200b\u9700\u8981\u200b\u7528\u5230\u200b\uff09\u3002</p> Python<pre><code>def separate_data(file_path):\nseparated_data = Configuration.separated_data\n# ======\u200b\u6253\u5f00\u200b\u539f\u59cb\u6570\u636e\u200b\u6587\u4ef6\u200b\u5e76\u200b\u8bfb\u53d6\u200b\nfile = open(file_path, \"r\")\n# \u200b\u8bfb\u5165\u200bcsv\u200b\u6587\u4ef6\u200b\u7684\u200b\u6240\u6709\u200b\u884c\u200b\nall_data = csv.reader(file)\n# ======\u200b\u5206\u884c\u200b\u5b58\u653e\u6570\u636e\u200b\u5230\u200bseparated_data\u200b\u4e2d\u200b\ncount = 0\nfor one_minute in all_data:\n# \u200b\u8df3\u8fc7\u200b\u5217\u540d\u200b\u6240\u5728\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u5373\u200b\u7b2c\u200b1\u200b\u884c\u200b\nif count == 0:\ncount = 1\ncontinue\n# \u200b\u63d0\u53d6\u200b\u8fd9\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u65e5\u671f\u200b\u3001\u200b\u5f00\u76d8\u4ef7\u200b\u3001\u200b\u6536\u76d8\u4ef7\u200b\none_minute_date = one_minute[0].split(\" \")[0]  # \u200b\u53ea\u200b\u63d0\u53d6\u200b\u65e5\u671f\u200b\uff0c\u200b\u5373\u200bX\u200b\u5e74\u200bX\u200b\u6708\u200bX\u200b\u65e5\u200b\none_minute_data = dict(\ndate_and_time=one_minute[0],\nopen=float(one_minute[1]),\nclose=float(one_minute[2]),\n)\n# \u200b\u5224\u65ad\u200bseparated_data\u200b\u4e2d\u200b\u662f\u5426\u200b\u5df2\u6709\u200b\u4eca\u5929\u200b\u7684\u200b\u90e8\u5206\u200b\u5206\u949f\u200b\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u6709\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u65b0\u589e\u200b\u5f53\u524d\u200b\u5206\u949f\u200b\u7684\u200b\u6570\u636e\u200b\uff1b\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u65b0\u5efa\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u518d\u200b\u65b0\u589e\u200b\u5f53\u524d\u200b\u5206\u949f\u200b\u7684\u200b\u6570\u636e\u200b\nif one_minute_date in separated_data.keys():\nprevious_minute_data = separated_data[one_minute_date]\nelse:\nprevious_minute_data = []\n# \u200b\u65b0\u589e\u200b\u5f53\u524d\u200b\u5206\u949f\u200b\u7684\u200b\u6570\u636e\u200b\nprevious_minute_data.append(one_minute_data)\nseparated_data[one_minute_date] = previous_minute_data\n# \u200b\u5173\u95ed\u200b\u6587\u4ef6\u200b\nfile.close()\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u50a8\u5b58\u6807\u7684\u8d44\u4ea7\u7684\u6536\u76d8\u4ef7\u6570\u636e","title":"\u50a8\u5b58\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u7684\u200b\u6536\u76d8\u4ef7\u200b\u6570\u636e","text":"<p>\u200b\u540e\u7eed\u200b\u7ed8\u56fe\u200b\u65f6\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u7684\u200b\u6536\u76d8\u4ef7\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u4e0a\u200b\u4e00\u6b65\u200b\u6784\u9020\u200b\u7684\u200b\u5b57\u5178\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u3002</p> Python<pre><code># \u200b\u8ba1\u7b97\u200b\u4fdd\u5b58\u200b\u6caa\u200b\u6df1\u200b300\u200b\u671f\u8d27\u200b\u6240\u6709\u200b\u7684\u200b\u65e5\u671f\u200b\u548c\u200b\u6536\u76d8\u4ef7\u200b\u6570\u636e\u200b\nunderlying_asset_date_list = Configuration.underlying_asset_date_list\nunderlying_asset_close_price_list = Configuration.underlying_asset_close_price_list\nfor date in separated_data:\ndata_of_date = separated_data[date]  # \u200b\u6bcf\u5929\u200b\u7684\u200b\u6570\u636e\u200b\nlen_of_data_of_date = len(data_of_date)\nclose = data_of_date[len_of_data_of_date - 1][\"close\"]  # \u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u6bcf\u5929\u200b\u7684\u200b\u6536\u76d8\u4ef7\u200b\nunderlying_asset_date_list.append(date)\nunderlying_asset_close_price_list.append(close)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u8ba1\u7b97\u5e02\u573a\u60c5\u7eea\u5e73\u7a33\u5ea6\u7684\u51fd\u6570","title":"\u8ba1\u7b97\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u7684\u200b\u51fd\u6570","text":"<p>\u200b\u6839\u636e\u200b\u62a5\u544a\u200b\u4e2d\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u6c42\u200b\u6bcf\u200b\u4e00\u5206\u949f\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u4e0e\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\uff0c\u200b\u518d\u200b\u5bf9\u200b\u6240\u6709\u200b\u5206\u949f\u200b\u7684\u200b\u7ed3\u679c\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6700\u540e\u200b\u53d6\u200b\u4e24\u4e2a\u200b\u5e73\u5747\u503c\u200b\u4e2d\u8f83\u200b\u5c0f\u200b\u7684\u200b\u90a3\u4e2a\u200b\u4f5c\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u3002</p> Python<pre><code>def get_stability(window_data):\n# \u200b\u83b7\u53d6\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u957f\u5ea6\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u540e\u7eed\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\nlength = len(window_data)\n# \u200b\u5c06\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u4e0e\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u7684\u200b\u548c\u200b\u521d\u59cb\u5316\u200b\nsum_max_draw_down = 0.0\nsum_max_adverse_draw_down = 0.0\nfor minute_i in range(0, length):\nclose_i = window_data[minute_i][\"close\"]\nmax_draw_down = 0.0  # \u200b\u5c06\u200b\u6b64\u200b\u5206\u949f\u200b\u81f3\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u521d\u59cb\u5316\u200b\nmax_adverse_draw_down = 0.0  # \u200b\u5c06\u200b\u6b64\u200b\u5206\u949f\u200b\u81f3\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u521d\u59cb\u5316\u200b\n# \u200b\u4ece\u4e0b\u200b\u4e00\u5206\u949f\u200b\u5f00\u59cb\u200b\uff0c\u200b\u81f3\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\uff0c\u200b\u904d\u5386\u200b\u6240\u6709\u200b\u5206\u949f\u200b\u7684\u200b\u6536\u76d8\u4ef7\u200b\nfor minute_j in range(minute_i + 1, length):\nclose_j = window_data[minute_j][\"close\"]\n# \u200b\u6c42\u200bi\u200b\u5230\u200bj\u200b\u7684\u200b\u56de\u64a4\u200b\u503c\u200b\ndraw_down = 1 - close_j / close_i\n# \u200b\u5982\u679c\u200b\u9047\u5230\u200b\u4e86\u200b\u66f4\u200b\u5927\u200b\u7684\u200b\u4e0b\u8dcc\u200b\u5e45\u5ea6\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u5176\u200b\u66f4\u65b0\u200b\u4e3a\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\nif draw_down &gt; max_draw_down:\nmax_draw_down = draw_down\n# \u200b\u5982\u679c\u200b\u9047\u5230\u200b\u4e86\u200b\u66f4\u200b\u5927\u200b\u7684\u200b\u4e0a\u6da8\u5e45\u5ea6\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u5176\u200b\u66f4\u65b0\u200b\u4e3a\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u672c\u8eab\u200b\u4e3a\u200b\u8d1f\u503c\u200b\uff0c\u200b\u8bf4\u660e\u200bj\u200b\u6bd4\u200bi\u200b\u7684\u200b\u4ef7\u683c\u200b\u9ad8\u200b\uff0c\u200b\u5373\u200bi\u200b\u5230\u200bj\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u4e0a\u6da8\u200b\nif draw_down &lt; max_adverse_draw_down:\nmax_adverse_draw_down = draw_down\n# \u200b\u6dfb\u52a0\u200b\u5230\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u4e0e\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u7684\u200b\u548c\u200b\u4e2d\u200b\nsum_max_draw_down += max_draw_down  # \u200b\u628a\u200b\u6bcf\u200b\u4e00\u5206\u949f\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u76f8\u52a0\u200b\nsum_max_adverse_draw_down += (\n-max_adverse_draw_down\n)  # \u200b\u628a\u200b\u6bcf\u200b\u4e00\u5206\u949f\u200b\u7684\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u76f8\u52a0\u200b\uff08\u200b\u6ce8\u610f\u200b\u52a0\u200b\u8d1f\u53f7\u200b\uff0c\u200b\u8ba9\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u53d8\u6210\u200b\u6b63\u503c\u200b\uff09\n# \u200b\u6c42\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u4e0e\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\nmean_max_draw_down = sum_max_draw_down / length  # \u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\nmean_max_adverse_draw_down = sum_max_adverse_draw_down / length  # \u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\n# \u200b\u6bd4\u8f83\u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u548c\u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\uff0c\u200b\u5c06\u200b\u8f83\u200b\u5c0f\u8005\u200b\u4f5c\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u7a33\u5b9a\u5ea6\u200b\u6307\u6807\u200b\nif mean_max_draw_down &lt;= mean_max_adverse_draw_down:\nreturn mean_max_draw_down\nelse:\nreturn mean_max_adverse_draw_down\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5728\u89c2\u5bdf\u7a97\u53e3\u8ba1\u7b97\u5f00\u76d8\u65f6\u7684\u5e02\u573a\u60c5\u7eea\u5e73\u7a33\u5ea6","title":"\u5728\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u8ba1\u7b97\u200b\u5f00\u76d8\u200b\u65f6\u200b\u7684\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6","text":"<p>\u200b\u9996\u5148\u200b\u6839\u636e\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u8d77\u6b62\u200b\u65f6\u95f4\u200b\uff0c\u200b\u63d0\u53d6\u200b\u51fa\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> Python<pre><code># \u200b\u63d0\u53d6\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\nsample_observation = date_init_list[\nsample_observation_begin_index:sample_observation_end_index\n]\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>sample_observation_begin_index</code>\u200b\u548c\u200b<code>sample_observation_end_index</code>\u200b\u6765\u81ea\u200b<code>window_start</code>\u200b\u548c\u200b<code>window_end</code>\uff1a</p> Python<pre><code>for date in Configuration.separated_data.keys():\n# \u200b\u5f53\u524d\u200b\u65e5\u671f\u200b\u6240\u6709\u200b\u7684\u200b\u521d\u59cb\u200b\u6570\u636e\u200b\nall_data_today = Configuration.separated_data[date]\n# \u200b\u4e0a\u5348\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u8d77\u59cb\u200b\u7d22\u5f15\u200b\nmorning_window_start = 0\n# \u200b\u4e0a\u5348\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\u7d22\u5f15\u200b\nmorning_window_end = 0\n# \u200b\u4e0a\u5348\u200b\u5e73\u4ed3\u200b\u7d22\u5f15\u200b\uff08\u200b\u5f53\u200b\u7b56\u7565\u200b\u5728\u200b\u65e5\u200b\u5185\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u65f6\u200b\u6709\u6548\u200b\uff09\nmorning_position_close = 0\n# \u200b\u4e0b\u5348\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u8d77\u59cb\u200b\u7d22\u5f15\u200b\uff08\u200b\u5f53\u200b\u7b56\u7565\u200b\u5728\u200b\u65e5\u200b\u5185\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u65f6\u200b\u6709\u6548\u200b\uff09\nafternoon_window_start = 0\n# \u200b\u4e0b\u5348\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\u7d22\u5f15\u200b\uff08\u200b\u5f53\u200b\u7b56\u7565\u200b\u5728\u200b\u65e5\u200b\u5185\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u65f6\u200b\u6709\u6548\u200b\uff09\nafternoon_window_end = 0\n# \u200b\u4e0b\u5348\u200b\u5e73\u4ed3\u200b\u7d22\u5f15\u200b\nafternoon_position_close = 270  # \u200b\u56e0\u4e3a\u200b\u4e00\u5929\u200b\u7684\u200b\u4ea4\u6613\u200b\u65f6\u95f4\u200b\u5305\u542b\u200b270\u200b\u5206\u949f\u200b\n# ======\u200b\u6807\u8bb0\u200b\u7279\u6b8a\u200b\u7684\u200b\u5206\u949f\u200b\u65f6\u200b\u70b9\u200b\nfor i in range(0, 270):\n# \u200b\u4ece\u200b\u5f53\u524d\u200b\u65e5\u671f\u200b\u6240\u6709\u200b\u7684\u200b\u521d\u59cb\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u63d0\u53d6\u200b\u4e2d\u200b\u8fd9\u200b\u4e00\u5206\u949f\u200b\u6570\u636e\u200b\u7684\u200b\u7cbe\u786e\u200b\u5230\u200b\u5206\u949f\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5373\u200bX\u200b\u5e74\u200bX\u200b\u6708\u200bX\u200b\u65e5\u200bX\u200b\u65f6\u200bX\u200b\u5206\u200bX\u200b\u79d2\u200b\ni_date_and_time = all_data_today[i][\"date_and_time\"]\nif i_date_and_time.endswith(Configuration.morning_window_start_time):\nmorning_window_start = i\nelif i_date_and_time.endswith(Configuration.morning_window_end_time):\nmorning_window_end = i\nelif i_date_and_time.endswith(Configuration.morning_position_close_time):\nmorning_position_close = i\nelif i_date_and_time.endswith(Configuration.afternoon_window_start_time):\nafternoon_window_start = i\nelif i_date_and_time.endswith(Configuration.afternoon_window_end_time):\nafternoon_window_end = i\n</code></pre> <p>\u200b\u6839\u636e\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u3002</p> Python<pre><code># \u200b\u6839\u636e\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\nemotional_stability = get_stability(sample_observation)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u6839\u636e\u60c5\u7eea\u5e73\u7a33\u5ea6\u6307\u6807\u662f\u5426\u4f4e\u4e8e\u9608\u503c\u5224\u65ad\u662f\u5426\u5f00\u4ed3\u53ca\u5f00\u4ed3\u65b9\u5411","title":"\u6839\u636e\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u662f\u5426\u200b\u4f4e\u4e8e\u200b\u9608\u503c\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5f00\u4ed3\u53ca\u200b\u5f00\u4ed3\u200b\u65b9\u5411","text":"Python<pre><code># ======\u200b\u6839\u636e\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u9700\u8981\u200b\u5f00\u4ed3\u200b\u3002\u200b\u82e5\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u5c0f\u4e8e\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u5f00\u4ed3\u200b\nif emotional_stability &lt; Configuration.stability_threshold:\n# \u200b\u63d0\u53d6\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u5f00\u76d8\u4ef7\u200b\nsample_observation_begin_open = date_init_list[sample_observation_begin_index][\n\"open\"\n]\n# \u200b\u63d0\u53d6\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u6536\u76d8\u4ef7\u200b\nsample_observation_end_close = date_init_list[sample_observation_end_index - 1][\n\"close\"\n]\n# \u200b\u5728\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u4e4b\u540e\u200b\u7684\u200b\u4e0b\u200b\u4e00\u5206\u949f\u200b\u5f00\u76d8\u200b\u7acb\u5373\u200b\u5f00\u4ed3\u200b\nexecute_price = date_init_list[sample_observation_end_index][\"open\"]\n# \u200b\u5982\u679c\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u6536\u76d8\u4ef7\u200b\u5927\u4e8e\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u5f00\u76d8\u4ef7\u200b\uff0c\u200b\u5219\u200b\u505a\u200b\u591a\u200b\uff0c\u200b\u53cd\u4e4b\u200b\u5219\u200b\u505a\u200b\u7a7a\u200b\nif sample_observation_end_close &gt; sample_observation_begin_open:\nposition = 1\nelse:\nposition = -1\n# ======\u200b\u82e5\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u5927\u4e8e\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u9700\u8981\u200b\u5f00\u4ed3\u200b\nelse:\ntransaction_data[\"details\"].append(\ndict(date=date_value, money=transaction_data[\"money\"], is_open=0)\n)\nreturn\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u76d8\u4e2d\u6839\u636e\u4e8f\u635f\u662f\u5426\u8d85\u8fc7\u6b62\u635f\u9608\u503c\u51b3\u5b9a\u662f\u5426\u63d0\u524d\u6b62\u635f\u5e73\u4ed3","title":"\u76d8\u4e2d\u200b\u6839\u636e\u200b\u4e8f\u635f\u200b\u662f\u5426\u200b\u8d85\u8fc7\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u63d0\u524d\u200b\u6b62\u635f\u200b\u5e73\u4ed3","text":"Python<pre><code># ======\u200b\u82e5\u200b\u5f00\u4ed3\u200b\uff0c\u200b\u5219\u200b\u5728\u200b\u76d8\u4e2d\u200b\u9700\u8981\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u6b62\u635f\u200b\u7ebf\u200b\u3002\u200b\u82e5\u200b\u4e8f\u635f\u200b\u8d85\u8fc7\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u63d0\u524d\u200b\u6b62\u635f\u200b\u5e73\u4ed3\u200b\nfor minute_i in range(sample_observation_end_index + 1, finish_index):\n# \u200b\u5047\u8bbe\u200b\u5728\u200bminute_i\u200b\u7684\u200b\u5f00\u76d8\u4ef7\u200b\u9700\u8981\u200b\u5e73\u4ed3\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u4ece\u200b\u5f00\u4ed3\u5230\u200b\u5e73\u4ed3\u200b\u7684\u200b\u6d6e\u52a8\u200b\u76c8\u4e8f\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u5224\u65ad\u200b\u6d6e\u52a8\u200b\u4e8f\u635f\u200b\u662f\u5426\u200b\u8d85\u8fc7\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\nclosing_price = date_init_list[minute_i][\"open\"]\n# \u200b\u8ba1\u7b97\u200b\u4ece\u200b\u5f00\u4ed3\u5230\u200b\u5e73\u4ed3\u200b\u7684\u200b\u6d6e\u52a8\u200b\u76c8\u4e8f\u200b\nfloating_profit = get_profit(position, execute_price, closing_price)\n# \u200b\u5982\u679c\u200b\u6d6e\u52a8\u200b\u76c8\u4e8f\u200b\u4e3a\u200b\u635f\u5931\u200b\uff0c\u200b\u4e14\u200b\u4e8f\u635f\u200b\u5e45\u5ea6\u200b\u5927\u4e8e\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u63d0\u524d\u200b\u6b62\u635f\u200b\u5e73\u4ed3\u200b\nif floating_profit &lt; 0 and abs(floating_profit) &gt; Configuration.stop_loss_threshold:\ntransaction_data[\"money\"] = transaction_data[\"money\"] * (\n1 + floating_profit - Configuration.transaction_fee\n)\ntransaction_data[\"details\"].append(\ndict(date=date_value, money=transaction_data[\"money\"], is_open=1)\n)\nreturn\n# ======\u200b\u82e5\u200b\u5728\u200b\u76d8\u4e2d\u200b\u68c0\u67e5\u200b\u53d1\u73b0\u200b\u90fd\u200b\u6ca1\u6709\u200b\u8fbe\u5230\u200b\u6b62\u635f\u200b\u7ebf\u200b\uff0c\u200b\u5219\u200b\u6536\u76d8\u200b\u5e73\u4ed3\u200b\nclosing_price = date_init_list[finish_index - 1][\"close\"]\n# \u200b\u8ba1\u7b97\u200b\u4ece\u200b\u5f00\u4ed3\u5230\u200b\u5e73\u4ed3\u200b\u7684\u200b\u5b9e\u73b0\u200b\u76c8\u4e8f\u200b\uff08\u200b\u56e0\u4e3a\u200b\u6536\u76d8\u200b\u5fc5\u987b\u200b\u5e73\u4ed3\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6d6e\u52a8\u200b\u53d8\u6210\u200b\u4e86\u200b\u5b9e\u73b0\u200b\uff09\nrealized_profit = get_profit(position, execute_price, closing_price)\ntransaction_data[\"money\"] = transaction_data[\"money\"] * (\n1 + realized_profit - Configuration.transaction_fee\n)\ntransaction_data[\"details\"].append(\ndict(date=date_value, money=transaction_data[\"money\"], is_open=1)\n)\nreturn\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5c06\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u4e0e\u5404\u7b56\u7565\u7d2f\u8ba1\u6536\u76ca\u6570\u636e\u5bfc\u51fa\u5230\u672c\u5730\u8868\u683c","title":"\u5c06\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\u4e0e\u200b\u5404\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u6570\u636e\u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b\u8868\u683c","text":"Python<pre><code>def export_to_output():\nConfiguration.underlying_asset_price = get_underlying_asset_price()\nConfiguration.cumulative_return_uni = get_cumulative_return(\nConfiguration.uni_transaction_data\n)\n# \u200b\u7531\u4e8e\u200b\u6bcf\u65e5\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u65f6\u200b\uff0c\u200b\u4e0a\u5348\u200b\u548c\u200b\u4e0b\u5348\u200b\u5404\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u7b56\u7565\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6bcf\u5929\u200b\u4f1a\u200b\u6709\u200b\u4e24\u4e2a\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\nConfiguration.cumulative_return_multi_all = get_cumulative_return(\nConfiguration.multi_transaction_data\n)\n# \u200b\u5c06\u200b\u4e0a\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\u5254\u9664\u200b\uff0c\u200b\u53ea\u200b\u4fdd\u7559\u200b\u6bcf\u5929\u200b\u4e0b\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u5f53\u5929\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b\nselected = range(\n1, Configuration.cumulative_return_multi_all.shape[0] + 1, 2\n)  # \u200b\u95f4\u9694\u200b2\u200b\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u63d0\u53d6\u200b1\u200b\u4e2a\u200b\nConfiguration.cumulative_return_multi = (\nConfiguration.cumulative_return_multi_all.iloc[selected]\n)\n# \u200b\u91cd\u7f6e\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5426\u5219\u200b\u7d22\u5f15\u200b\u4e4b\u95f4\u200b\u4f1a\u200b\u95f4\u9694\u200b1\nConfiguration.cumulative_return_multi.index = pd.RangeIndex(\nlen(Configuration.cumulative_return_multi.index)\n)\n# \u200b\u5206\u200bsheet\u200b\u5bfc\u51fa\u200b\u6570\u636e\u200b\nfor sheet_name, sheet_data in zip(\n[\"\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\", \"\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b-\u200b\u6bcf\u65e5\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\", \"\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b-\u200b\u6bcf\u65e5\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\", \"\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b-\u200b\u6bcf\u65e5\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\uff08\u200b\u6bcf\u65e5\u200b\u4e24\u4e2a\u200b\u6570\u636e\u200b\uff09\"],\n[\nConfiguration.underlying_asset_price,\nConfiguration.cumulative_return_uni,\nConfiguration.cumulative_return_multi,\nConfiguration.cumulative_return_multi_all,\n],\n):\nwith pd.ExcelWriter(\n\"\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\u4e0e\u200b\u5404\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u8868\u200b.xlsx\",\nmode=\"a\",\nif_sheet_exists=\"replace\",\nengine=\"openpyxl\",\n) as writer:\nsheet_data.to_excel(writer, sheet_name=sheet_name, index=False)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u6839\u636e\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u4e0e\u5404\u7b56\u7565\u7d2f\u8ba1\u6536\u76ca\u6570\u636e\u7ed8\u56fe","title":"\u6839\u636e\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\u4e0e\u200b\u5404\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u6570\u636e\u200b\u7ed8\u56fe","text":"Python<pre><code>def draw_cumulative_return_and_underlying_asset_price():\n# ============\u200b\u753b\u56fe\u200b\nfig = plt.figure(figsize=(10, 6))\n# ======\u200b\u7ed8\u5236\u200b\u7b56\u7565\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\nax1 = fig.add_subplot(111)\nax1.xaxis.set_major_locator(MultipleLocator(30))\n# \u200b\u7ed8\u5236\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\ndraw_cumulative_return(\"\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\", ax1)\n# \u200b\u7ed8\u5236\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\ndraw_cumulative_return(\"\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\", ax1)\n# \u200b\u8ba9\u200by\u200b\u8f74\u200b\u7684\u200b\u523b\u5ea6\u200b\u663e\u793a\u200b\u4e3a\u200b\u767e\u5206\u6bd4\u200b\u5f62\u5f0f\u200b\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\nplt.ylabel(\"\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\")\nplt.legend(\nloc=\"upper center\",\nbbox_to_anchor=(0.35, 0.95),\nborderaxespad=0.0,\nframeon=False,\n)\n# ======\u200b\u7ed8\u5236\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\nax2 = ax1.twinx()  # \u200b\u5171\u7528\u200bX\u200b\u8f74\u200b\ndraw_underlying_asset_price(ax2)\nplt.ylabel(\"\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\", rotation=270, labelpad=15)  # rotation\u200b\u8ba9\u200b\u6807\u7b7e\u200b\u65cb\u8f6c\u200b\uff0clabelpad\u200b\u8ba9\u200b\u6807\u7b7e\u200b\u8fdc\u79bb\u200b\u5750\u6807\u8f74\u200b\nplt.legend(\nloc=\"upper center\",\nbbox_to_anchor=(0.65, 0.95),\nborderaxespad=0.0,\nframeon=False,\n)\n# ======\u200b\u8f93\u51fa\u200b\u56fe\u7247\u200b\nplt.savefig(\"\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\u4e0e\u200b\u5404\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u56fe\u200b.pdf\", bbox_inches=\"tight\")\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u7ed8\u5236\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u56fe\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>def draw_cumulative_return(\nstrategy,\nax,\ncolor_uni=\"#ed7d31\",\ncolor_multi=\"#5b9bd5\",\nlabel_uni=\"\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\uff08\u200b\u5de6\u8f74\u200b\uff09\",\nlabel_multi=\"\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\uff08\u200b\u5de6\u8f74\u200b\uff09\",\n):\nfor tick in ax.get_xticklabels():\ntick.set_rotation(90)\nif strategy == \"\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\":\nax.plot(\nConfiguration.cumulative_return_uni[\"\u200b\u65e5\u671f\u200b\"],\nConfiguration.cumulative_return_uni[\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"],\ncolor=color_uni,\nlinewidth=2,\nlabel=label_uni,\n)\nelif strategy == \"\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\":\nax.plot(\nConfiguration.cumulative_return_multi[\"\u200b\u65e5\u671f\u200b\"],\nConfiguration.cumulative_return_multi[\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"],\ncolor=color_multi,\nlinewidth=2,\nlabel=label_multi,\n)\nelif strategy == \"\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b-\u200b\u4e0a\u5348\u200b\":\n# \u200b\u5c06\u200b\u4e0b\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\u5254\u9664\u200b\uff0c\u200b\u53ea\u200b\u4fdd\u7559\u200b\u6bcf\u5929\u200b\u4e0a\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\nselected = range(\n0, Configuration.cumulative_return_multi_all.shape[0], 2\n)  # \u200b\u95f4\u9694\u200b2\u200b\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u63d0\u53d6\u200b1\u200b\u4e2a\u200b\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u534a\u5929\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u524d\u200b\u4e00\u4e2a\u200b\u534a\u5929\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u53d8\u5316\u200b\nadded_return = Configuration.cumulative_return_multi_all[\n\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"\n] - Configuration.cumulative_return_multi_all[\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"].shift(1)\n# \u200b\u53ea\u200b\u5c06\u200b\u4e0a\u5348\u200b\u7684\u200b\u6536\u76ca\u200b\u8fdb\u884c\u200b\u7d2f\u8ba1\u200b\nmorning_added_return = added_return.iloc[selected]\n# \u200b\u5c06\u200b\u7b2c\u4e00\u5929\u200b\u4e0a\u5348\u200b\u7684\u200b\u7f3a\u5931\u200b\u503c\u200b\u586b\u5145\u200b\u4e3a\u200b0\nmorning_added_return.fillna(value=0, inplace=True)\n# \u200b\u5c06\u200b\u6bcf\u5929\u200b\u4e0a\u5348\u200b\u7684\u200b\u6536\u76ca\u200b\u8fdb\u884c\u200b\u7d2f\u52a0\u200b\nmorning_cumulative_return = morning_added_return.cumsum()\nax.plot(\nConfiguration.cumulative_return_multi_all.iloc[selected][\"\u200b\u65e5\u671f\u200b\"],\nmorning_cumulative_return,\ncolor=color_multi,\nlinewidth=2,\nlabel=label_multi,\n)\nelif strategy == \"\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b-\u200b\u4e0b\u5348\u200b\":\n# \u200b\u5c06\u200b\u4e0a\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\u5254\u9664\u200b\uff0c\u200b\u53ea\u200b\u4fdd\u7559\u200b\u6bcf\u5929\u200b\u4e0b\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\nselected = range(\n1, Configuration.cumulative_return_multi_all.shape[0] + 1, 2\n)  # \u200b\u95f4\u9694\u200b2\u200b\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u63d0\u53d6\u200b1\u200b\u4e2a\u200b\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u534a\u5929\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u524d\u200b\u4e00\u4e2a\u200b\u534a\u5929\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u53d8\u5316\u200b\nadded_return = Configuration.cumulative_return_multi_all[\n\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"\n] - Configuration.cumulative_return_multi_all[\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"].shift(1)\n# \u200b\u53ea\u200b\u5c06\u200b\u4e0b\u5348\u200b\u7684\u200b\u6536\u76ca\u200b\u8fdb\u884c\u200b\u7d2f\u8ba1\u200b\nafternoon_added_return = added_return.iloc[selected]\n# \u200b\u5c06\u200b\u6bcf\u5929\u200b\u4e0b\u5348\u200b\u7684\u200b\u6536\u76ca\u200b\u8fdb\u884c\u200b\u7d2f\u52a0\u200b\nafternoon_cumulative_return = afternoon_added_return.cumsum()\nax.plot(\nConfiguration.cumulative_return_multi_all.iloc[selected][\"\u200b\u65e5\u671f\u200b\"],\nafternoon_cumulative_return,\ncolor=color_multi,\nlinewidth=2,\nlabel=label_multi,\n)\n</code></pre> <p>\u200b\u7ed8\u5236\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\u56fe\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>def draw_underlying_asset_price(ax):\nax.xaxis.set_major_locator(MultipleLocator(30))\nax.plot(\nConfiguration.underlying_asset_price[\"\u200b\u65e5\u671f\u200b\"],\nConfiguration.underlying_asset_price[\"\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\"],\ncolor=\"gray\",\nlinewidth=2,\nlabel=\"\u200b\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\uff08\u200b\u53f3\u8f74\u200b\uff09\",\n)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u7ed8\u5236\u7b56\u7565\u6536\u76ca\u53ca\u5176\u6700\u5927\u56de\u64a4\u56fe","title":"\u7ed8\u5236\u200b\u7b56\u7565\u200b\u6536\u76ca\u200b\u53ca\u5176\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u56fe","text":"Python<pre><code>def draw_cumulative_return_and_max_draw_down(strategy):\nif strategy == \"\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\":\ndf = Configuration.cumulative_return_uni\nelse:\ndf = Configuration.cumulative_return_multi\ndf = get_profit_and_loss(df)\ntotal_days = df.shape[0]\nfor i in range(total_days):\ndf.loc[i, \"\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\"] = df.iloc[i:][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"].min() / df.iloc[i][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] - 1\n# ============\u200b\u753b\u56fe\u200b\nfig = plt.figure(figsize=(10, 6))\n# ======\u200b\u7ed8\u5236\u200b\u7b56\u7565\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\nax1 = fig.add_subplot(111)\nax1.xaxis.set_major_locator(MultipleLocator(10))\n# \u200b\u7ed8\u5236\u200b\u7b56\u7565\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\ndraw_cumulative_return(strategy, ax1)\n# \u200b\u8ba9\u200by\u200b\u8f74\u200b\u7684\u200b\u523b\u5ea6\u200b\u663e\u793a\u200b\u4e3a\u200b\u767e\u5206\u6bd4\u200b\u5f62\u5f0f\u200b\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\nplt.legend(\nloc=\"upper center\", bbox_to_anchor=(0.4, 0.08), borderaxespad=0.0, frameon=False\n)\n# \u200b\u7ed8\u5236\u200b\u7b56\u7565\u200b\u7684\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\nax2 = ax1.twinx()  # \u200b\u5171\u7528\u200bX\u200b\u8f74\u200b\nax2.xaxis.set_major_locator(MultipleLocator(30))\ndraw_max_draw_down(strategy, ax2)\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\nplt.legend(\nloc=\"upper center\",\nbbox_to_anchor=(0.65, 0.08),\nborderaxespad=0.0,\nframeon=False,\n)\n# ======\u200b\u8f93\u51fa\u200b\u56fe\u7247\u200b\nplt.savefig(strategy + \"\u200b\u7d2f\u8ba1\u200b\u4e0e\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u56fe\u200b.pdf\", bbox_inches=\"tight\")\nplt.savefig(strategy + \"\u200b\u7d2f\u8ba1\u200b\u4e0e\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u56fe\u200b.svg\", bbox_inches=\"tight\")\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u8f93\u51fa\u7b56\u7565\u7684\u7ee9\u6548\u8bc4\u4ef7\u6307\u6807","title":"\u8f93\u51fa\u200b\u7b56\u7565\u200b\u7684\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\u6307\u6807","text":"Python<pre><code>def performance():\nfor strategy in [\"\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\", \"\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\"]:\nif strategy == \"\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\":\ndf = Configuration.cumulative_return_uni\nelse:\ndf = Configuration.cumulative_return_multi_all\n# \u200b\u627e\u51fa\u200b\u6837\u672c\u200b\u5185\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6240\u5728\u200b\u7684\u200b\u7d22\u5f15\u200b\nis_in_sample_end = df[\"\u200b\u65e5\u671f\u200b\"] == \"2013-01-04\"\nin_sample_end_loc = is_in_sample_end[is_in_sample_end].index.values[0]\n# \u200b\u6837\u672c\u200b\u5185\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\nperformance_dict_in_sample = get_performance_dict(df[:in_sample_end_loc])\nperformance_series_in_sample = pd.Series(\nperformance_dict_in_sample, name=strategy + \"-\u200b\u6837\u672c\u200b\u5185\u200b\"\n)\n# \u200b\u6837\u672c\u200b\u5916\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\nperformance_dict_out_of_sample = get_performance_dict(df[in_sample_end_loc:])\nperformance_series_out_of_sample = pd.Series(\nperformance_dict_out_of_sample, name=strategy + \"-\u200b\u6837\u672c\u200b\u5916\u200b\"\n)\n# \u200b\u5408\u5e76\u200b\u6837\u672c\u200b\u5185\u5916\u200b\u7684\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u5230\u200b\u6570\u636e\u200b\u6846\u200b\nperformance = pd.concat(\n[performance_series_in_sample, performance_series_out_of_sample], axis=1\n)\n# \u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b\u8868\u683c\u200b\nperformance.to_excel(strategy + \"\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b.xlsx\", index=True)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u751f\u6210\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u5b57\u5178\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>def get_performance_dict(cumulative_return_data):\ndf = get_profit_and_loss(cumulative_return_data)\ntransaction_count = get_transaction_count(df)\naverage_open_length = get_average_open_length(df)\nmax_profit = get_max_profit(df)\nmax_loss = get_max_loss(df)\nwin_count = get_win_count(df)\nloss_count = get_loss_count(df)\nwin_rate = get_win_rate(df)\naverage_profit = get_average_profit_for_every_win(df)\naverage_loss = get_average_loss_for_every_loss(df)\nodds = get_odds(df)\nmax_draw_down = get_max_draw_down(df)\nmax_continuous_win = get_max_continuous_win(df)\nmax_continuous_loss = get_max_continuous_loss(df)\nperiod_return = get_period_return(df)\nannualized_return = get_annualized_return(df)\nperformance_dict = {\n\"\u200b\u4ea4\u6613\u200b\u603b\u200b\u6b21\u6570\u200b\": transaction_count,\n\"\u200b\u5e73\u5747\u200b\u6301\u4ed3\u200b\u65f6\u95f4\u200b\": average_open_length,\n\"\u200b\u6700\u5927\u200b\u5355\u6b21\u200b\u76c8\u5229\u200b\": max_profit,\n\"\u200b\u6700\u5927\u200b\u5355\u6b21\u200b\u4e8f\u635f\u200b\": max_loss,\n\"\u200b\u83b7\u80dc\u200b\u6b21\u6570\u200b\": win_count,\n\"\u200b\u5931\u8d25\u200b\u6b21\u6570\u200b\": loss_count,\n\"\u200b\u80dc\u7387\u200b\": win_rate,\n\"\u200b\u5355\u6b21\u200b\u83b7\u80dc\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b\": average_profit,\n\"\u200b\u5355\u6b21\u200b\u5931\u8d25\u200b\u5e73\u5747\u200b\u4e8f\u635f\u7387\u200b\": average_loss,\n\"\u200b\u8d54\u7387\u200b\": odds,\n\"\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\": max_draw_down,\n\"\u200b\u6700\u5927\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b\": max_continuous_win,\n\"\u200b\u6700\u5927\u200b\u8fde\u4e8f\u200b\u6b21\u6570\u200b\": max_continuous_loss,\n\"\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b\": period_return,\n\"\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\": annualized_return,\n}\nreturn performance_dict\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5404\u9879\u200b\u7ee9\u6548\u200b\u6307\u6807\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>def get_profit_and_loss(df):\ndf[\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] = df[\"\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\"] + 1\ndf[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] = df[\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] / df[\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"].shift(1) - 1\nreturn df\ndef get_transaction_count(df):\ncount = df[\"\u200b\u662f\u5426\u200b\u5f00\u4ed3\u200b\"].value_counts()[1]\nreturn count\ndef get_average_open_length(df):\n# \u200b\u5bf9\u200b\u5f00\u4ed3\u200b\u7684\u200b\u65e5\u671f\u200b\uff0c\u200b\u6c42\u200b\u5e73\u5747\u200b\u6301\u4ed3\u200b\u65f6\u95f4\u200b\naverage_open_length = df[df[\"\u200b\u662f\u5426\u200b\u5f00\u4ed3\u200b\"] == 1][\"\u200b\u6301\u4ed3\u200b\u65f6\u95f4\u200b\"].mean()\nreturn average_open_length\ndef get_max_profit(df):\nmax_profit = df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"].max()\nreturn max_profit\ndef get_max_loss(df):\nmax_loss = df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"].min()\nreturn max_loss\ndef get_win_count(df):\nwin_count = df[df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] &gt; 0.0].shape[0]\nreturn win_count\ndef get_loss_count(df):\nloss_count = df[df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] &lt; 0.0].shape[0]\nreturn loss_count\ndef get_win_rate(df):\nwin_count = get_win_count(df)\nloss_count = get_loss_count(df)\nwin_rate = win_count / (win_count + loss_count)\nreturn win_rate\ndef get_average_profit_for_every_win(df):\ndf_win = df[df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] &gt; 0.0]\naverage_profit = df_win[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"].mean()\nreturn average_profit\ndef get_average_loss_for_every_loss(df):\ndf_loss = df[df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] &lt; 0.0]\naverage_loss = df_loss[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"].mean()\nreturn average_loss\ndef get_odds(df):\nodds = -get_average_profit_for_every_win(df) / get_average_loss_for_every_loss(df)\nreturn odds\ndef get_max_draw_down(df):\nnet_value = df[\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"]\ncumsum = net_value.cummax()\nmax_draw_down = -max((cumsum - net_value) / cumsum)\nreturn max_draw_down\ndef get_max_continuous_win(df):\ndf_transaction = df[df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] != 0.0]\nmax_continuous_win = 0\n# \u200b\u5c06\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b\u521d\u59cb\u5316\u200b\ncontinuous_win = 0\nfor i in range(1, df_transaction.shape[0]):\n# \u200b\u5982\u679c\u200b\u7b2c\u200bi\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u6bd4\u200b\u7b2c\u200bi-1\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b+1\nif df_transaction.iloc[i][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] &gt; df_transaction.iloc[i - 1][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"]:\ncontinuous_win = continuous_win + 1\n# \u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u7684\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b\u8d85\u8fc7\u200b\u4e86\u200b\u4e4b\u524d\u200b\u8bb0\u5f55\u200b\u7684\u200b\u6700\u5927\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b\uff0c\u200b\u5219\u200b\u66f4\u65b0\u200bmax_continuous_win\nif continuous_win &gt; max_continuous_win:\nmax_continuous_win = continuous_win\n# \u200b\u5982\u679c\u200b\u7b2c\u200bi\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u6bd4\u200b\u7b2c\u200bi-1\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u5c0f\u200b\uff0c\u200b\u5219\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b\u6e05\u96f6\u200b\nelse:\ncontinuous_win = 0\nreturn max_continuous_win\ndef get_max_continuous_loss(df):\ndf_transaction = df[df[\"\u200b\u672c\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e0a\u200b\u4e00\u200b\u4ea4\u6613\u200b\u5468\u671f\u200b\u7684\u200b\u76c8\u5229\u200b\"] != 0.0]\nmax_continuous_loss = 0\n# \u200b\u5c06\u200b\u8fde\u200b\u4e8f\u200b\u6b21\u6570\u200b\u521d\u59cb\u5316\u200b\ncontinuous_loss = 0\nfor i in range(1, df_transaction.shape[0]):\n# \u200b\u5982\u679c\u200b\u7b2c\u200bi\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u6bd4\u200b\u7b2c\u200bi-1\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u5c0f\u200b\uff0c\u200b\u5219\u200b\u8fde\u200b\u4e8f\u200b\u6b21\u6570\u200b+1\nif df_transaction.iloc[i][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] &lt; df_transaction.iloc[i - 1][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"]:\ncontinuous_loss = continuous_loss + 1\n# \u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u7684\u200b\u8fde\u200b\u4e8f\u200b\u6b21\u6570\u200b\u8d85\u8fc7\u200b\u4e86\u200b\u4e4b\u524d\u200b\u8bb0\u5f55\u200b\u7684\u200b\u6700\u5927\u200b\u8fde\u4e8f\u200b\u6b21\u6570\u200b\uff0c\u200b\u5219\u200b\u66f4\u65b0\u200bmax_continuous_loss\nif continuous_loss &gt; max_continuous_loss:\nmax_continuous_loss = continuous_loss\n# \u200b\u5982\u679c\u200b\u7b2c\u200bi\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u6bd4\u200b\u7b2c\u200bi-1\u200b\u4e2a\u200b\u4ea4\u6613\u200b\u7ed3\u675f\u200b\u65f6\u200b\u7684\u200b\u51c0\u503c\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u8fde\u200b\u4e8f\u200b\u6b21\u6570\u200b\u6e05\u96f6\u200b\nelse:\ncontinuous_loss = 0\nreturn max_continuous_loss\ndef get_period_return(df):\n# \u200b\u6700\u540e\u200b\u4e00\u5929\u200b\u7684\u200b\u51c0\u503c\u200b\u9664\u4ee5\u200b\u7b2c\u4e00\u5929\u200b\u7684\u200b\u51c0\u503c\u200b\uff0c\u200b\u518d\u51cf\u200b1\nperiod_return = df.iloc[-1][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] / df.iloc[0][\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\"] - 1\nreturn period_return\ndef get_annualized_return(df):\n# \u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\nperiod_return = get_period_return(df)\n# df\u200b\u4e2d\u200b\u603b\u5171\u200b\u5305\u542b\u200b\u7684\u200b\u4ea4\u6613\u200b\u5929\u6570\u200b\nlen_df = df.shape[0]\n# \u200b\u5982\u679c\u200b\u6570\u636e\u200b\u4e2d\u200b\u7684\u200b\u65e5\u671f\u200b\u6709\u200b\u91cd\u590d\u200b\uff0c\u200b\u8bf4\u660e\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\u662f\u200b\u6765\u81ea\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5176\u200b\u771f\u5b9e\u200b\u7684\u200b\u4ea4\u6613\u200b\u5929\u6570\u200b\u7b49\u4e8e\u200blen_df/2\nif df[\"\u200b\u65e5\u671f\u200b\"].duplicated().sum() &gt; 0:\nlen_df = len_df / 2\n# \u200b\u5047\u8bbe\u200b\u4e00\u5e74\u200b\u6709\u200b250\u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\uff0c\u200b\u5c06\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u8fdb\u884c\u200b\u5e74\u5316\u200b\nannualized_return = 250 * period_return / len_df\nreturn annualized_return\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u53c2\u6570\u654f\u611f\u6027\u6d4b\u8bd5","title":"\u53c2\u6570\u200b\u654f\u611f\u6027\u200b\u6d4b\u8bd5","text":"<p>\u200b\u521b\u5efa\u200b\u53c2\u6570\u200b\u5b57\u5178\u200b\uff0c\u200b\u9010\u4e2a\u200b\u6267\u884c\u200b\u7b56\u7565\u200b\uff0c\u200b\u5e76\u200b\u7ed8\u5236\u200b\u5404\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u3002</p> Python<pre><code>from functions import *\n# \u200b\u65b0\u5efa\u200b\u5b57\u5178\u200b\uff0ckey\u200b\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u9608\u503c\u200b\uff0cvalue\u200b\u4e3a\u200b\u6298\u7ebf\u56fe\u200b\u989c\u8272\u200b\nstability_threshold_dict = {\n7 / 10000: [\"#5b9bd5\"],\n8 / 10000: [\"#ed7d31\"],\n9 / 10000: [\"#a5a5a5\"],\n10 / 10000: [\"#ffc000\"],\n11 / 10000: [\"#4472c4\"],\n}\n# \u200b\u65b0\u5efa\u200b\u5b57\u5178\u200b\uff0ckey\u200b\u4e3a\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u65f6\u95f4\u200b\u957f\u5ea6\u200b\uff0cvalue\u200b\u5305\u542b\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\u548c\u200b\u6298\u7ebf\u56fe\u200b\u989c\u8272\u200b\nmorning_window_length_and_end_time_dict = {\n48: [\"10:04:00\", \"#5b9bd5\"],\n49: [\"10:05:00\", \"#ed7d31\"],\n50: [\"10:06:00\", \"#a5a5a5\"],\n51: [\"10:07:00\", \"#ffc000\"],\n52: [\"10:08:00\", \"#4472c4\"],\n}\n# \u200b\u65b0\u5efa\u200b\u5b57\u5178\u200b\uff0ckey\u200b\u4e3a\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u65f6\u95f4\u200b\u957f\u5ea6\u200b\uff0cvalue\u200b\u5305\u542b\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\u548c\u200b\u6298\u7ebf\u56fe\u200b\u989c\u8272\u200b\nafternoon_window_length_and_end_time_dict = {\n31: [\"13:31:00\", \"#5b9bd5\"],\n32: [\"13:32:00\", \"#ed7d31\"],\n33: [\"13:33:00\", \"#a5a5a5\"],\n34: [\"13:34:00\", \"#ffc000\"],\n35: [\"13:35:00\", \"#4472c4\"],\n}\n</code></pre> <p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u62a5\u544a\u200b\u5bf9\u4e8e\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7684\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u957f\u5ea6\u200b\u53c2\u6570\u200b\u7684\u200b\u6d4b\u8bd5\u65b9\u6cd5\u200b\u4e3a\u200b\uff1a\u200b\u5c06\u200b\u4e0a\u5348\u200b\u548c\u200b\u4e0b\u5348\u200b\u7684\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\u3002\u200b\u5728\u200b\u53d8\u6362\u200b\u4e0a\u5348\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u540e\u200b\uff0c\u200b\u53ea\u200b\u7ed8\u5236\u200b\u6bcf\u5929\u200b\u4e0a\u5348\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ea\u200b\u9700\u8981\u200b\u7d2f\u52a0\u200b\u4e0a\u5348\u200b\u7684\u200b\u6536\u76ca\u200b\u3002\u200b\u8fd9\u4e00\u200b\u7ec6\u8282\u200b\u662f\u200b\u5728\u200b<code>draw_cumulative_return()</code>\u200b\u51fd\u6570\u200b\u4e2d\u200b\u7528\u200b\u5224\u65ad\u200b<code>strategy</code>\u200b\u6765\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u590d\u73b0\u7ed3\u679c","title":"\u590d\u73b0\u200b\u7ed3\u679c","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u4e0e\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u548c\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u7684\u7d2f\u8ba1\u6536\u76ca","title":"\u6807\u7684\u200b\u8d44\u4ea7\u200b\u4ef7\u683c\u200b\u4e0e\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u548c\u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u7d2f\u8ba1\u4e0e\u6700\u5927\u56de\u64a4","title":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u4e0e\u200b\u6700\u5927\u200b\u56de\u64a4","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u7ee9\u6548\u8bc4\u4ef7","title":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7ee9\u6548\u8bc4\u4ef7","text":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b - \u200b\u6837\u672c\u200b\u5185\u200b \u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b - \u200b\u6837\u672c\u200b\u5916\u200b \u200b\u4ea4\u6613\u200b\u603b\u200b\u6b21\u6570\u200b 335 208 \u200b\u5e73\u5747\u200b\u6301\u4ed3\u200b\u65f6\u95f4\u200b 164.28 \u200b\u5206\u949f\u200b 171.37 \u200b\u5206\u949f\u200b \u200b\u6700\u5927\u200b\u5355\u6b21\u200b\u76c8\u5229\u200b 5.63% 4.20% \u200b\u6700\u5927\u200b\u5355\u6b21\u200b\u4e8f\u635f\u200b -0.88% -0.98% \u200b\u83b7\u80dc\u200b\u6b21\u6570\u200b 163 102 \u200b\u5931\u8d25\u200b\u6b21\u6570\u200b 172 105 \u200b\u80dc\u7387\u200b 48.66% 49.28% \u200b\u5355\u6b21\u200b\u83b7\u80dc\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b 1.15% 0.77% \u200b\u5355\u6b21\u200b\u5931\u8d25\u200b\u5e73\u5747\u200b\u4e8f\u635f\u7387\u200b -0.49% -0.47% \u200b\u8d54\u7387\u200b 2.33 1.62 \u200b\u6700\u5927\u200b\u56de\u64a4\u200b -5.01% -4.61% \u200b\u6700\u5927\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b 8 9 \u200b\u6700\u5927\u200b\u8fde\u4e8f\u200b\u6b21\u6570\u200b 7 8 \u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b 172.62% 32.12% \u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b 65.29% 15.97%","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u4e0d\u540c\u5f00\u4ed3\u9608\u503c\u4e0b\u8d44\u4ea7\u7d2f\u8ba1\u6536\u76ca","title":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u4e0d\u540c\u200b\u5f00\u4ed3\u200b\u9608\u503c\u200b\u4e0b\u200b\u8d44\u4ea7\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u4e0d\u540c\u5f00\u4ed3\u65f6\u95f4\u6761\u4ef6\u4e0b\u8d44\u4ea7\u7d2f\u8ba1\u6536\u76ca","title":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u4e0d\u540c\u200b\u5f00\u4ed3\u200b\u65f6\u95f4\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u8d44\u4ea7\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u7d2f\u8ba1\u4e0e\u6700\u5927\u56de\u64a4","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7d2f\u8ba1\u200b\u4e0e\u200b\u6700\u5927\u200b\u56de\u64a4","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u7ee9\u6548\u8bc4\u4ef7","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u7ee9\u6548\u8bc4\u4ef7","text":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b - \u200b\u6837\u672c\u200b\u5185\u200b \u200b\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b - \u200b\u6837\u672c\u200b\u5916\u200b \u200b\u4ea4\u6613\u200b\u603b\u200b\u6b21\u6570\u200b 755 486 \u200b\u5e73\u5747\u200b\u6301\u4ed3\u200b\u65f6\u95f4\u200b 82.82 \u200b\u5206\u949f\u200b 83.10 \u200b\u5206\u949f\u200b \u200b\u6700\u5927\u200b\u5355\u6b21\u200b\u76c8\u5229\u200b 4.54% 3.59% \u200b\u6700\u5927\u200b\u5355\u6b21\u200b\u4e8f\u635f\u200b -1.15% -1.03% \u200b\u83b7\u80dc\u200b\u6b21\u6570\u200b 383 229 \u200b\u5931\u8d25\u200b\u6b21\u6570\u200b 372 256 \u200b\u80dc\u7387\u200b 50.73% 47.22% \u200b\u5355\u6b21\u200b\u83b7\u80dc\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b 0.68% 0.53% \u200b\u5355\u6b21\u200b\u5931\u8d25\u200b\u5e73\u5747\u200b\u4e8f\u635f\u7387\u200b -0.39% -0.37% \u200b\u8d54\u7387\u200b 1.74 1.42 \u200b\u6700\u5927\u200b\u56de\u64a4\u200b -5.34% -6.98% \u200b\u6700\u5927\u200b\u8fde\u80dc\u200b\u6b21\u6570\u200b 10 8 \u200b\u6700\u5927\u200b\u8fde\u4e8f\u200b\u6b21\u6570\u200b 8 9 \u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u7387\u200b 209.90% 28.42% \u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b 79.39% 14.13%","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u4e0d\u540c\u4e0a\u5348\u5f00\u4ed3\u65f6\u95f4\u6761\u4ef6\u4e0b\u8d44\u4ea7\u7d2f\u8ba1\u6536\u76ca","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u4e0d\u540c\u200b\u4e0a\u5348\u200b\u5f00\u4ed3\u200b\u65f6\u95f4\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u8d44\u4ea7\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u4e0d\u540c\u4e0b\u5348\u5f00\u4ed3\u65f6\u95f4\u6761\u4ef6\u4e0b\u8d44\u4ea7\u7d2f\u8ba1\u6536\u76ca","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u4e0d\u540c\u200b\u4e0b\u5348\u200b\u5f00\u4ed3\u200b\u65f6\u95f4\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u8d44\u4ea7\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u4e0d\u540c\u5f00\u4ed3\u9608\u503c\u4e0b\u8d44\u4ea7\u7d2f\u8ba1\u6536\u76ca","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u4e0d\u540c\u200b\u5f00\u4ed3\u200b\u9608\u503c\u200b\u4e0b\u200b\u8d44\u4ea7\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5bf9\u7b56\u7565\u7684\u8bc4\u4ef7","title":"\u5bf9\u200b\u7b56\u7565\u200b\u7684\u200b\u8bc4\u4ef7","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u4f18\u70b9","title":"\u4f18\u70b9","text":"<ul> <li>\u200b\u521b\u65b0\u200b\u5730\u200b\u6784\u9020\u200b\u51fa\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u6307\u6807\u200b\uff0c\u200b\u7528\u4e8e\u200b\u91cf\u5316\u200b\u4e0b\u8dcc\u200b\u8d8b\u52bf\u200b\u3002\u200b\u914d\u5408\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u6307\u6807\u200b\uff0c\u200b\u5373\u53ef\u200b\u91cf\u5316\u200b\u4e0a\u6da8\u200b\u6216\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\u3002</li> <li>\u200b\u7b56\u7565\u200b\u7684\u200b\u53c2\u6570\u200b\u8f83\u200b\u5c11\u200b\uff0c\u200b\u4e14\u200b\u5404\u200b\u53c2\u6570\u200b\u7684\u200b\u7a33\u5065\u6027\u200b\u8f83\u5f3a\u200b\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u7f3a\u70b9","title":"\u7f3a\u70b9","text":"<ul> <li>\u200b\u6ca1\u6709\u200b\u8003\u8651\u200b\u8d8b\u52bf\u200b\u662f\u5426\u200b\u5ef6\u7eed\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u8bc6\u522b\u200b\u8d8b\u52bf\u200b\u662f\u5426\u200b\u53d1\u751f\u200b\u53cd\u8f6c\u200b\u3002\u200b\u867d\u7136\u200b\u5728\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u53ef\u4ee5\u200b\u91cf\u5316\u200b\u8d8b\u52bf\u200b\u7684\u200b\u5f3a\u5ea6\u200b\uff0c\u200b\u4f46\u200b\u82e5\u200b\u8d8b\u52bf\u200b\u7684\u200b\u5ef6\u7eed\u6027\u200b\u4e0d\u4f73\u200b\uff0c\u200b\u5219\u200b\u540e\u7eed\u200b\u53ef\u80fd\u200b\u53d1\u751f\u200b\u53cd\u8f6c\u200b\u3002</li> <li>\u200b\u53ea\u6709\u200b\u6b62\u635f\u200b\u673a\u5236\u200b\uff0c\u200b\u5f53\u200b\u7b56\u7565\u200b\u5f00\u59cb\u200b\u53cd\u8f6c\u200b\u4f46\u200b\u4e8f\u635f\u200b\u5c0f\u4e8e\u200b\u6b62\u635f\u200b\u9608\u503c\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u6709\u200b\u5c11\u91cf\u200b\u4e8f\u635f\u200b\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5bf9\u7b56\u7565\u7684\u6539\u8fdb\u52a0\u5165\u6b62\u76c8\u673a\u5236","title":"\u5bf9\u200b\u7b56\u7565\u200b\u7684\u200b\u6539\u8fdb\u200b\uff1a\u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236","text":"<p>\u200b\u89c2\u5bdf\u200b\u90e8\u5206\u200b\u884c\u60c5\u200b\u6570\u636e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u6709\u65f6\u200b\u5e02\u573a\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u8d8b\u52bf\u200b\u53cd\u8f6c\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1a\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5728\u200b\u5f00\u76d8\u200b\u65f6\u200b\u4ef7\u683c\u200b\u8868\u73b0\u200b\u51fa\u8f83\u200b\u5f3a\u200b\u7684\u200b\u8d8b\u52bf\u6027\u200b\uff0c\u200b\u8be5\u200b\u8d8b\u52bf\u200b\u6301\u7eed\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u540e\u200b\u4fbf\u200b\u51fa\u73b0\u200b\u53cd\u8f6c\u200b\u751a\u81f3\u200b\"\u200b\u8df3\u6c34\u200b\"\u3002\u200b\u5bf9\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u5728\u200b\u7b56\u7565\u200b\u4e2d\u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b\uff0c\u200b\u5f53\u200b\u76d8\u4e2d\u200b\u6d6e\u52a8\u200b\u76c8\u4e8f\u200b\u8d85\u8fc7\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u65f6\u5219\u200b\u63d0\u524d\u200b\u6b62\u76c8\u200b\u5e73\u4ed3\u200b\u3002\u200b\u5177\u4f53\u200b\u7684\u200b\u5b9e\u73b0\u200b\u4ee3\u7801\u200b\u4e0e\u200b\u6b62\u635f\u200b\u673a\u5236\u200b\u7c7b\u4f3c\u200b\u3002</p> <p>\u200b\u5bf9\u200b\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u6d4b\u8bd5\u200b\u4e0d\u540c\u200b\u6c34\u5e73\u200b\u7684\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\uff0c\u200b\u5b9e\u8bc1\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\uff1a</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u4e0d\u540c\u6b62\u76c8\u9608\u503c\u4e0b\u8d44\u4ea7\u7d2f\u8ba1\u6536\u76ca","title":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u4e0d\u540c\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u4e0b\u200b\u8d44\u4ea7\u200b\u7d2f\u8ba1\u200b\u6536\u76ca","text":"<p>\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u8bbe\u200b\u4e3a\u200b 4% \u200b\u6216\u200b\u4ee5\u4e0a\u200b\u65f6\u200b\uff0c\u200b\u7d2f\u8ba1\u200b\u6536\u76ca\u200b\u8f83\u200b\u9ad8\u200b\u3002\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u8fc7\u4f4e\u200b\uff0c\u200b\u4f1a\u200b\u635f\u5931\u200b\u90e8\u5206\u200b\u6536\u76ca\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5bf9\u6bd4\u662f\u5426\u52a0\u5165\u6b62\u76c8\u673a\u5236\u7684\u7b56\u7565","title":"\u5bf9\u6bd4\u200b\u662f\u5426\u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b\u7684\u200b\u7b56\u7565","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u5355\u6b21\u5f00\u4ed3\u7b56\u7565\u6837\u672c\u5916\u7684\u7ee9\u6548\u6307\u6807\u6b62\u76c8\u9608\u503c\u4e3a-4","title":"\u5355\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u6837\u672c\u200b\u5916\u200b\u7684\u200b\u7ee9\u6548\u200b\u6307\u6807\u200b\uff08\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u4e3a\u200b 4%\uff09","text":"\u4e0d\u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b \u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b \u200b\u5e74\u5316\u200b\u6536\u76ca\u200b 15.97% 16.08% \u200b\u6700\u5927\u200b\u56de\u64a4\u200b -4.61% -4.61%","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u591a\u6b21\u5f00\u4ed3\u7b56\u7565\u6837\u672c\u5916\u7684\u7ee9\u6548\u6307\u6807\u6bcf\u5929\u4e24\u6b21\u5f00\u4ed3\u673a\u4f1a\u6b62\u76c8\u9608\u503c\u4e3a-2","title":"\u591a\u6b21\u200b\u5f00\u4ed3\u200b\u7b56\u7565\u200b\u6837\u672c\u200b\u5916\u200b\u7684\u200b\u7ee9\u6548\u200b\u6307\u6807\u200b\uff08\u200b\u6bcf\u5929\u200b\u4e24\u6b21\u200b\u5f00\u4ed3\u200b\u673a\u4f1a\u200b\uff0c\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u4e3a\u200b 2%\uff09","text":"\u4e0d\u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b \u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b \u200b\u5e74\u5316\u200b\u6536\u76ca\u200b 14.13% 15.56% \u200b\u6700\u5927\u200b\u56de\u64a4\u200b -6.98% -6.98% <p>\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u52a0\u5165\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b\u540e\u200b\u7684\u200b\u7b56\u7565\u200b\u6536\u76ca\u200b\u5747\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u63d0\u9ad8\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/intra-day-trading-strategy-of-stock-index-futures-based-on-market-sentiment-stability/#\u8fdb\u4e00\u6b65\u6539\u8fdb\u7684\u65b9\u5411\u52a8\u6001\u6b62\u76c8","title":"\u8fdb\u4e00\u6b65\u200b\u6539\u8fdb\u200b\u7684\u200b\u65b9\u5411\u200b\uff1a\u200b\u52a8\u6001\u200b\u6b62\u76c8","text":"<p>\u200b\u6b62\u76c8\u200b\u673a\u5236\u200b\u7684\u200b\u52a0\u5165\u200b\u80fd\u591f\u200b\u907f\u514d\u200b\u540e\u7eed\u200b\u884c\u60c5\u200b\u53cd\u8f6c\u200b\u5e26\u6765\u200b\u7684\u200b\u635f\u5931\u200b\uff0c\u200b\u4f46\u200b\u4e5f\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u635f\u5931\u200b\u5e02\u573a\u8d8b\u52bf\u200b\u7ee7\u7eed\u200b\u4fdd\u6301\u200b\u5e26\u6765\u200b\u7684\u200b\u5229\u6da6\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u6743\u8861\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u8d8b\u52bf\u200b\u5f3a\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e0d\u540c\u200b\u7684\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u82e5\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u8d8b\u52bf\u200b\u975e\u5e38\u200b\u5f3a\u200b\uff08\u200b\u5373\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u7a33\u5b9a\u5ea6\u200b\u8fdc\u200b\u4f4e\u4e8e\u200b\u9608\u503c\u200b\uff09\uff0c\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u51fa\u73b0\u200b\u53cd\u8f6c\u200b\u7684\u200b\u6982\u7387\u200b\u8f83\u200b\u5c0f\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\u3002\u200b\u53cd\u4e4b\u200b\uff0c\u200b\u82e5\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u7684\u200b\u8d8b\u52bf\u200b\u8f83\u5f31\u200b\uff08\u200b\u5373\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u7a33\u5b9a\u5ea6\u200b\u4ec5\u200b\u7565\u5fae\u200b\u4f4e\u4e8e\u200b\u9608\u503c\u200b\uff09\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u6b62\u76c8\u200b\u9608\u503c\u200b\uff0c\u200b\u8d5a\u53d6\u200b\u5230\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u5229\u6da6\u200b\u540e\u200b\u5373\u53ef\u200b\u63d0\u524d\u200b\u6b62\u76c8\u200b\u5e73\u4ed3\u200b\uff0c\u200b\u907f\u514d\u200b\u8f83\u5927\u200b\u53ef\u80fd\u200b\u51fa\u73b0\u200b\u7684\u200b\u53cd\u8f6c\u200b\u5e26\u6765\u200b\u7684\u200b\u635f\u5931\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pytorch-lecture-3-practice/","title":"PyTorch Lecture 3\uff1a\u200b\u57fa\u7840\u200b\u5b9e\u8df5","text":"<p>PyTorch \u200b\u5b9e\u73b0\u200b\u5c0f\u200b\u9879\u76ee\u200b\u3002</p> <p>https://www.bilibili.com/video/BV1L44y1472Z?p=3&amp;vd_source=4c069aad4d23a43984ddde6395299ff3&amp;t=3105.6</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/ssh-key-log-in-to-server-without-password/","title":"\u901a\u8fc7\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u4f7f\u7528\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u767b\u5f55\u200b\u516c\u53f8\u200b\u6216\u200b\u4e2a\u4eba\u200b\u7684\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u65e0\u9700\u200b\u6bcf\u6b21\u200b\u767b\u5f55\u200b\u90fd\u200b\u8f93\u5165\u200b\u5bc6\u7801\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/ssh-key-log-in-to-server-without-password/#\u901a\u8fc7-ssh-key-\u514d\u5bc6\u767b\u5f55\u670d\u52a1\u5668_1","title":"\u901a\u8fc7\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668","text":"","tags":["Linux","Computer Science"]},{"location":"blog/ssh-key-log-in-to-server-without-password/#\u5728\u672c\u5730\u751f\u6210\u79c1\u94a5\u548c\u516c\u94a5","title":"\u5728\u200b\u672c\u5730\u200b\u751f\u6210\u200b\u79c1\u94a5\u200b\u548c\u200b\u516c\u94a5","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u4f7f\u7528\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u767b\u5f55\u200b\u516c\u53f8\u200b\u6216\u200b\u4e2a\u4eba\u200b\u7684\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u65e0\u9700\u200b\u6bcf\u6b21\u200b\u767b\u5f55\u200b\u90fd\u200b\u8f93\u5165\u200b\u5bc6\u7801\u200b\u3002</p> <ol> <li>\u200b\u5728\u200b\u5ba2\u6237\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b\uff1a\uff08\u200b\u5ba2\u6237\u200b\u7ec8\u7aef\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u672c\u5730\u200b\u7ec8\u7aef\u200b\uff0c\u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u5728\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b\u540e\u200b\u7528\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7ec8\u7aef\u200b\u8fd0\u884c\u200b\uff09</li> </ol> Bash<pre><code>ssh-keygen\n</code></pre> <ol> <li>\u200b\u4e00\u76f4\u200b\u6309\u200b\u56de\u8f66\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u5728\u200b\u7528\u6237\u200b\u7684\u200b<code>.ssh</code>\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u751f\u6210\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b<code>id_rsa</code>\u200b\u548c\u200b<code>id_rsa.pub</code>\u3002</li> </ol> <p>\u200b\u524d\u8005\u200b\u662f\u200b\u79c1\u94a5\u200b\u6587\u4ef6\u200b\uff0c\u200b\u540e\u8005\u200b\u662f\u200b\u516c\u94a5\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5747\u200b\u53ef\u7528\u200b\u8bb0\u4e8b\u672c\u200b\u6253\u5f00\u200b\u67e5\u770b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u91cc\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\u662f\u200b\u590d\u6742\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/ssh-key-log-in-to-server-without-password/#\u5728\u670d\u52a1\u5668\u7ec8\u7aef\u751f\u6210-authorized_keys\u7528\u4e8e\u4e0e\u672c\u5730\u79c1\u94a5\u8fdb\u884c\u5339\u914d","title":"\u5728\u200b\u670d\u52a1\u5668\u200b\u7ec8\u7aef\u200b\u751f\u6210\u200b authorized_keys\uff0c\u200b\u7528\u4e8e\u200b\u4e0e\u200b\u672c\u5730\u200b\u79c1\u94a5\u200b\u8fdb\u884c\u200b\u5339\u914d","text":"<ol> <li> <p>\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b\uff08\u200b\u7531\u4e8e\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u6210\u529f\u200b\u914d\u7f6e\u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u8fd8\u662f\u200b\u9700\u8981\u200b\u7528\u200b\u5bc6\u7801\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u65b0\u5efa\u200b<code>.ssh</code>\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5728\u200b<code>.ssh</code>\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u65b0\u5efa\u200b\u6587\u672c\u6587\u4ef6\u200b\uff0c\u200b\u6587\u4ef6\u540d\u200b\u4e3a\u200b<code>authorized_keys</code>\u3002</p> </li> <li>\u200b\u5c06\u200b\u672c\u5730\u200b\u7684\u200b<code>id_rsa.pub</code>\u200b\u4e2d\u200b\u7684\u200b\u6587\u672c\u200b\u5185\u5bb9\u200b\u590d\u5236\u5230\u200b<code>authorized_keys</code>\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u4fdd\u5b58\u200b<code>authorized_keys</code>\u3002</li> </ol>","tags":["Linux","Computer Science"]},{"location":"blog/ssh-key-log-in-to-server-without-password/#\u5728\u670d\u52a1\u5668\u7ec8\u7aef\u8bbe\u7f6e\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u7684\u8bfb\u53d6\u6743\u9650","title":"\u5728\u200b\u670d\u52a1\u5668\u200b\u7ec8\u7aef\u200b\u8bbe\u7f6e\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u8bfb\u53d6\u200b\u6743\u9650","text":"<p>\u200b\u4ecd\u7136\u200b\u662f\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u7ec8\u7aef\u200b\uff0c\u200b\u8f93\u5165\u200b\u4e24\u4e2a\u200b\u547d\u4ee4\u200b\uff1a</p> Text Only<pre><code>chmod 600 ~/.ssh/authorized_keys\nchmod 700 ~/.ssh\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u6743\u9650\u200b\uff1a</p> <ol> <li><code>authorized_keys</code>\u200b\u53ea\u200b\u5141\u8bb8\u200b\u62e5\u6709\u8005\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u3002</li> <li><code>ssh</code>\u200b\u6587\u4ef6\u5939\u200b\u8bbe\u4e3a\u200b\u53ea\u200b\u5141\u8bb8\u200b\u62e5\u6709\u8005\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u548c\u200b\u6267\u884c\u200b\u3002</li> </ol>","tags":["Linux","Computer Science"]},{"location":"blog/ssh-key-log-in-to-server-without-password/#\u914d\u7f6e\u5b8c\u6210","title":"\u914d\u7f6e\u200b\u5b8c\u6210","text":"<p>\u200b\u5173\u95ed\u200b\u670d\u52a1\u5668\u200b\u540e\u200b\u518d\u6b21\u200b\u6253\u5f00\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u65e0\u9700\u200b\u5bc6\u7801\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6210\u529f\u200b\u767b\u5f55\u200b\u4e86\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/python-multiprocessing/","title":"Python Multiprocessing \u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5e76\u884c\u8ba1\u7b97","text":"<p>\u200b\u5229\u7528\u200b Multiprocessing \u200b\u5b9e\u73b0\u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200b\u8fd0\u884c\u200b\u4e00\u4e9b\u200b\u8017\u65f6\u200b\u8f83\u957f\u200b\u7684\u200b\u4efb\u52a1\u200b\uff08\u200b\u4f8b\u5982\u200b Python \u200b\u4e2d\u200b\u7684\u200b\u5faa\u73af\u200b\uff09\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u66f4\u200b\u591a\u200b\u7684\u200b CPU \u200b\u8d44\u6e90\u200b\u8fdb\u884c\u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u5c06\u200b\u5927\u5927\u7f29\u77ed\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8fd0\u884c\u200b\u65f6\u95f4\u200b\u3002\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b Multiprocessing \u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5\u200b\u548c\u200b\u5b66\u4e60\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u7406\u89e3\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-multiprocessing/#\u521b\u5efa\u4e0e\u8fd0\u884c\u8fdb\u7a0b","title":"\u521b\u5efa\u200b\u4e0e\u200b\u8fd0\u884c\u200b\u8fdb\u7a0b","text":"","tags":["Python"]},{"location":"blog/python-multiprocessing/#process-start-join","title":"<code>Process</code>, <code>start</code>, <code>join</code>","text":"<p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import multiprocessing\nimport time\nimport datetime\ndef sleep(t):\ntime.sleep(t)\nif __name__ == \"__main__\":\nstarttime = datetime.datetime.now()\n# creating processes\np1 = multiprocessing.Process(target=sleep, args=(5,))\np2 = multiprocessing.Process(target=sleep, args=(5,))\n# starting process 1\np1.start()\n# starting process 2\np2.start()\n# wait until process 1 is finished\np1.join()\n# wait until process 2 is finished\np2.join()\nendtime = datetime.datetime.now()\nprint(\"\u200b\u591a\u200b\u8fdb\u7a0b\u200b\u4e00\u5171\u200b\u8017\u65f6\u200b{}\u200b\u79d2\u200b\".format((endtime - starttime)))\n</code></pre> <p>\u200b\u4e24\u4e2a\u200b\u8fdb\u7a0b\u200b\u5206\u522b\u200b\u6267\u884c\u200b\u4e86\u200b<code>sleep(5)</code>\uff0c\u200b\u603b\u200b\u8017\u65f6\u200b\u7ea6\u7b49\u4e8e\u200b 5 \u200b\u79d2\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u591a\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8fd0\u884c\u200b 10 \u200b\u79d2\u200b\u3002</p> <p></p> <ul> <li> <p><code>p1 = multiprocessing.Process(target=sleep, args=(5, ))</code>\u200b\u65b0\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u51fd\u6570\u200b\u662f\u200b<code>sleep()</code>\uff0c\u200b\u53c2\u6570\u200b\u662f\u200b<code>5</code>\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b<code>5</code>\u200b\u540e\u9762\u200b\u7684\u200b\u9017\u53f7\u200b\u7684\u200b\u540e\u9762\u200b\u7559\u7a7a\u200b\uff0c\u200b\u4f46\u662f\u200b\u9017\u53f7\u200b\u4e0d\u80fd\u200b\u7701\u7565\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6216\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ea\u200b\u9700\u8981\u200b\u5c06\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u7528\u200b\u62ec\u53f7\u200b\u62ec\u200b\u8d77\u6765\u200b\u3002</p> </li> <li> <p><code>p1.start()</code>\u200b\u5f00\u59cb\u200b\u6267\u884c\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u3002</p> </li> <li> <p><code>p1.join()</code>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5f53\u524d\u200b\u4f4d\u7f6e\u200b\u963b\u585e\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5fc5\u987b\u200b\u7b49\u200b<code>p1</code>\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\uff0c\u200b\u624d\u80fd\u200b\u6267\u884c\u200b<code>p1.join()</code>\u200b\u8fd9\u200b\u884c\u200b\u4ee3\u7801\u200b\u540e\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u4e0d\u200b\u52a0\u200b<code>p1.join()</code>\u200b\u548c\u200b<code>p2.join()</code>\uff0c\u200b\u90a3\u4e48\u200b\u4e3b\u7a0b\u5e8f\u200b\u4f1a\u200b\u7acb\u5373\u200b\u7ed3\u675f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u4f1a\u200b\u7b49\u5f85\u200b<code>p1</code>\u200b\u548c\u200b<code>p2</code>\u200b\u8fd0\u884c\u200b\u5b8c\u6210\u200b\u540e\u200b\u518d\u200b\u7ed3\u675f\u200b\u3002\u200b\u6240\u4ee5\u200b\u8981\u200b\u8bb0\u5f97\u200b\u52a0\u200b<code>p1.join()</code>\u200b\u548c\u200b<code>p2.join()</code>\uff01</p> </li> </ul> <p></p>","tags":["Python"]},{"location":"blog/python-multiprocessing/#pid-is_alive","title":"<code>pid</code>, <code>is_alive</code>","text":"<p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code># importing the multiprocessing module\nimport multiprocessing\nimport os\ndef worker1():\n# printing process id\nprint(\"ID of process running worker1: {}\".format(os.getpid()))\ndef worker2():\n# printing process id\nprint(\"ID of process running worker2: {}\".format(os.getpid()))\nif __name__ == \"__main__\":\n# printing main program process id\nprint(\"ID of main process: {}\".format(os.getpid()))\n# creating processes\np1 = multiprocessing.Process(target=worker1)\np2 = multiprocessing.Process(target=worker2)\n# starting processes\np1.start()\np2.start()\n# process IDs\nprint(\"ID of process p1: {}\".format(p1.pid))\nprint(\"ID of process p2: {}\".format(p2.pid))\n# wait until processes are finished\np1.join()\np2.join()\n# both processes finished\nprint(\"Both processes finished execution!\")\n# check if processes are alive\nprint(\"Process p1 is alive: {}\".format(p1.is_alive()))\nprint(\"Process p2 is alive: {}\".format(p2.is_alive()))\n</code></pre> <p></p> <ul> <li> <p><code>pid</code>\u200b\u662f\u200b Process ID\uff0c\u200b\u5373\u200b\u5f53\u524d\u200b\u8fdb\u7a0b\u200b\u7684\u200b ID\u3002</p> </li> <li> <p>\u200b\u5728\u200b multiprocessing \u200b\u7684\u200b Process \u200b\u5bf9\u8c61\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>p1.pid</code>\u200b\u76f4\u63a5\u200b\u67e5\u770b\u200b<code>p1</code>\u200b\u7684\u200b\u8fdb\u7a0b\u200b ID\u3002</p> </li> <li> <p>\u200b\u5728\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>os.getpid()</code>\u200b\u67e5\u770b\u200b\u6b64\u5904\u200b\u7684\u200b\u8fdb\u7a0b\u200b ID\u3002</p> </li> <li> <p><code>p1.is_alive()</code>\u200b\u53ef\u4ee5\u200b\u5224\u65ad\u200b Process \u200b\u662f\u5426\u200b\u4ecd\u7136\u200b\u5b58\u5728\u200b\u3002\u200b\u5f53\u200b\u6267\u884c\u200b<code>p1.join()</code>\u200b\u540e\u200b\uff0c<code>p1</code>\u200b\u4fbf\u200b\u88ab\u200b\u91ca\u653e\u200b\u4e86\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd4\u56de\u200b<code>False</code>\u3002</p> </li> </ul>","tags":["Python"]},{"location":"blog/python-multiprocessing/#\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5185\u5b58\u5171\u4eab\u548c\u6570\u636e\u4f20\u8f93","title":"\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5185\u5b58\u200b\u5171\u4eab\u200b\u548c\u200b\u6570\u636e\u4f20\u8f93","text":"","tags":["Python"]},{"location":"blog/python-multiprocessing/#multiprocessingarray-multiprocessingvalue\u521b\u5efa\u53ef\u4ee5\u5171\u4eab\u7684\u53d8\u91cf","title":"<code>multiprocessing.Array</code>, <code>multiprocessing.Value</code>\u200b\u521b\u5efa\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\u7684\u200b\u53d8\u91cf","text":"<p>\u200b\u524d\u6587\u200b\u6240\u200b\u5b9e\u73b0\u200b\u7684\u200b\u591a\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5404\u4e2a\u200b\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8fd0\u884c\u200b\u662f\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u7684\u200b\uff0c\u200b\u5404\u4e2a\u200b\u8fdb\u7a0b\u200b\u6709\u200b\u81ea\u5df1\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u3002\u200b\u5728\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u7684\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u5f71\u54cd\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5185\u5b58\u200b\u7684\u200b\u3002\u200b\u8981\u200b\u60f3\u200b\u5728\u200b\u591a\u4e2a\u200b\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u5171\u4eab\u5185\u5b58\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>multiprocessing</code>\u200b\u4e2d\u200b\u7684\u200b<code>Array</code>\u200b\u6216\u200b<code>Value</code>\u200b\u5bf9\u8c61\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import multiprocessing\ndef square_list(mylist, result, square_sum):\n\"\"\"\n    function to square a given list\n    \"\"\"\n# append squares of mylist to result array\nfor idx, num in enumerate(mylist):\nresult[idx] = num * num\n# square_sum value\nsquare_sum.value = sum(result)\n# print result Array\nprint(\"Result(in process p1): {}\".format(result[:]))\n# print square_sum Value\nprint(\"Sum of squares(in process p1): {}\".format(square_sum.value))\nif __name__ == \"__main__\":\n# input list\nmylist = [1, 2, 3, 4]\n# creating Array of int data type with space for 4 integers\nresult = multiprocessing.Array(\"i\", 4)\n# creating Value of int data type\nsquare_sum = multiprocessing.Value(\"i\")\n# creating new process\np1 = multiprocessing.Process(target=square_list, args=(mylist, result, square_sum))\n# starting process\np1.start()\n# wait until the process is finished\np1.join()\n# print result array\nprint(\"Result(in main program): {}\".format(result[:]))\n# print square_sum Value\nprint(\"Sum of squares(in main program): {}\".format(square_sum.value))\n</code></pre> <p></p> <ul> <li><code>result = multiprocessing.Array('i', 4)</code>\u200b\u521b\u5efa\u200b<code>result</code>\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u548c\u200b<code>p1</code>\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u5171\u4eab\u200b\u3002\u200b\u5728\u200b<code>p1</code>\u200b\u4e2d\u200b\u7684\u200b\u8fd0\u7b97\u200b\u66f4\u65b0\u200b\u4e86\u200b<code>result</code>\uff0c\u200b\u610f\u5473\u7740\u200b\u5728\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u4e5f\u200b\u88ab\u200b\u66f4\u65b0\u200b\u4e86\u200b\u3002</li> <li><code>i</code>\u200b\u4ee3\u8868\u200b interger\uff0c\u200b\u5373\u200b\u6574\u5f62\u200b\u3002\u200b\u5176\u4ed6\u200b\u7684\u200b\uff0c\u200b\u4f8b\u5982\u200b<code>d</code>\u200b\u4ee3\u8868\u200b\u6d6e\u70b9\u200b\u578b\u200b\u3002</li> <li><code>4</code>\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u6570\u7ec4\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</li> <li><code>square_sum = multiprocessing.Value('i')</code>\u200b\u521b\u5efa\u200b<code>square_sum</code>\u200b\u53d8\u91cf\u200b\u3002</li> <li>\u200b\u540c\u6837\u200b\u5730\u200b\uff0c<code>i</code>\u200b\u4ee3\u8868\u200b interger\u3002</li> <li>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u521d\u59cb\u503c\u200b\uff08\u200b\u4f8b\u5982\u200b 10\uff09\uff0c\u200b\u7528\u200b<code>square_sum = multiprocessing.Value('i', 10)</code>\u3002</li> </ul>","tags":["Python"]},{"location":"blog/python-multiprocessing/#manager\u521b\u5efa\u53ef\u4ee5\u5171\u4eab\u7684\u53d8\u91cf\u652f\u6301\u66f4\u591a\u6570\u636e\u7ed3\u6784","title":"<code>Manager</code>\u200b\u521b\u5efa\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\u7684\u200b\u53d8\u91cf\u200b\uff0c\u200b\u652f\u6301\u200b\u66f4\u200b\u591a\u200b\u6570\u636e\u7ed3\u6784","text":"<p><code>Array</code>\u200b\u548c\u200b<code>Value</code>\u200b\u80fd\u200b\u521b\u5efa\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u6709\u9650\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u200b\u5bf9\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u8fdb\u884c\u200b\u5171\u4eab\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>Manager</code>\u200b\u6765\u200b\u521b\u5efa\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import multiprocessing\ndef print_records(records):\n\"\"\"\n    function to print record(tuples) in records(list)\n    \"\"\"\nfor record in records:\nprint(\"Name: {0}\\nScore: {1}\\n\".format(record[0], record[1]))\ndef insert_record(record, records):\n\"\"\"\n    function to add a new record to records(list)\n    \"\"\"\nrecords.append(record)\nprint(\"New record added!\\n\")\nif __name__ == \"__main__\":\nwith multiprocessing.Manager() as manager:\n# creating a list in server process memory\nrecords = manager.list([(\"Sam\", 10), (\"Adam\", 9), (\"Kevin\", 9)])\n# new record to be inserted in records\nnew_record = (\"Jeff\", 8)\n# creating new processes\np1 = multiprocessing.Process(target=insert_record, args=(new_record, records))\np2 = multiprocessing.Process(target=print_records, args=(records,))\n# running process p1 to insert new record\np1.start()\np1.join()\n# running process p2 to print records\np2.start()\np2.join()\n</code></pre> <p></p> <ul> <li><code>with multiprocessing.Manager() as manager:</code></li> <li> <p><code>records = manager.list([('Sam', 10), ('Adam', 9), ('Kevin',9)])</code>\u200b\u521b\u5efa\u200b\u4e86\u200b<code>records</code>\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b List\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u5171\u4eab\u200b\u3002</p> </li> <li> <p>\u200b\u7c7b\u4f3c\u200b\u5730\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>manager.dict()</code>\u200b\u521b\u5efa\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\u7684\u200b\u5b57\u5178\u200b\u3002</p> </li> </ul>","tags":["Python"]},{"location":"blog/python-multiprocessing/#queue\u521b\u5efa\u5171\u4eab\u53d8\u91cf","title":"<code>Queue</code>\u200b\u521b\u5efa\u200b\u5171\u4eab\u200b\u53d8\u91cf","text":"<p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import multiprocessing\ndef square_list(mylist, q):\n\"\"\"\n    function to square a given list\n    \"\"\"\n# append squares of mylist to queue\nfor num in mylist:\nq.put(num * num)\ndef print_queue(q):\n\"\"\"\n    function to print queue elements\n    \"\"\"\nprint(\"Queue elements:\")\nwhile not q.empty():\nprint(q.get())\nprint(\"Queue is now empty!\")\nif __name__ == \"__main__\":\n# input list\nmylist = [1, 2, 3, 4]\n# creating multiprocessing Queue\nq = multiprocessing.Queue()\n# creating new processes\np1 = multiprocessing.Process(target=square_list, args=(mylist, q))\np2 = multiprocessing.Process(target=print_queue, args=(q,))\n# running process p1 to square list\np1.start()\np1.join()\n# running process p2 to get queue elements\np2.start()\np2.join()\n</code></pre> <p></p> <ul> <li><code>q = multiprocessing.Queue()</code>\u200b\u521b\u5efa\u200b<code>q</code>\u200b\u53d8\u91cf\u200b\u3002</li> <li>\u200b\u9996\u5148\u200b\u5728\u200b<code>p1</code>\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b<code>mylist</code>\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u9010\u4e00\u200b\u5e73\u65b9\u200b\u5e76\u200b\u653e\u5230\u200b<code>q</code>\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u7136\u540e\u200b\u5728\u200b<code>p2</code>\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b<code>q</code>\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u6ce8\u610f\u200b\u53d6\u51fa\u200b\u5e76\u6253\u5370\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/python-multiprocessing/#pipes\u5728\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u8f93\u6570\u636e","title":"<code>Pipes</code>\u200b\u5728\u200b\u4e24\u4e2a\u200b\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u4f20\u8f93\u6570\u636e","text":"<p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import multiprocessing\ndef sender(conn, msgs):\n\"\"\"\n    function to send messages to other end of pipe\n    \"\"\"\nfor msg in msgs:\nconn.send(msg)\nprint(\"Sent the message: {}\".format(msg))\nconn.close()\ndef receiver(conn):\n\"\"\"\n    function to print the messages received from other\n    end of pipe\n    \"\"\"\nwhile 1:\nmsg = conn.recv()\nif msg == \"END\":\nbreak\nprint(\"Received the message: {}\".format(msg))\nif __name__ == \"__main__\":\n# messages to be sent\nmsgs = [\"hello\", \"hey\", \"hru?\", \"END\"]\n# creating a pipe\nparent_conn, child_conn = multiprocessing.Pipe()\n# creating new processes\np1 = multiprocessing.Process(target=sender, args=(parent_conn, msgs))\np2 = multiprocessing.Process(target=receiver, args=(child_conn,))\n# running processes\np1.start()\np2.start()\n# wait until processes finish\np1.join()\np2.join()\n</code></pre> <p></p> <ul> <li><code>parent_conn, child_conn = multiprocessing.Pipe()</code>\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b<code>Pipe</code>\u3002</li> <li><code>conn.send(msg)</code>\u200b\u5c06\u200b<code>msg</code>\u200b\u4f20\u5230\u200b<code>pipe</code>\u200b\u7684\u200b\u53e6\u4e00\u7aef\u200b\u3002</li> <li> <p><code>msg = conn.recv()</code>\u200b\u4ece\u200b<code>pipe</code>\u200b\u63a5\u6536\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4fe1\u606f\u200b\u5b58\u5165\u200b<code>msg</code>\u3002</p> </li> <li> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b<code>p1</code>\u200b\u548c\u200b<code>p2</code>\u200b\u662f\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b<code>sender</code>\u200b\u548c\u200b<code>receiver</code>\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\u7684\u200b\u4fe1\u606f\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d1\u751f\u200b\u9519\u4e71\u200b\uff08\u200b\u4f8b\u5982\u200b\u6ca1\u6709\u200b\u6362\u884c\u200b\uff09\uff0c\u200b\u8fd9\u662f\u200b\u6b63\u5e38\u200b\u7684\u200b\u3002\u200b\u4f46\u200b\u53d1\u9001\u200b\u548c\u200b\u63a5\u53d7\u200b\u4fe1\u606f\u200b\u7684\u200b\u987a\u5e8f\u200b\u4e0d\u4f1a\u200b\u4e71\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c<code>hello</code>\u200b\u6bd4\u200b<code>hey</code>\u200b\u5148\u200b\u88ab\u200b\u53d1\u9001\u200b\uff0c\u200b\u90a3\u4e48\u200b\u524d\u8005\u200b\u4e5f\u200b\u6bd4\u200b\u540e\u8005\u200b\u5148\u200b\u88ab\u200b\u63a5\u6536\u200b\u3002</p> </li> </ul>","tags":["Python"]},{"location":"blog/python-multiprocessing/#\u9632\u963b\u585elock\u9501\u5b9a\u8d44\u6e90","title":"\u9632\u200b\u963b\u585e\u200b\uff1a<code>Lock</code>\u200b\u9501\u5b9a\u200b\u8d44\u6e90","text":"<p>\u200b\u5171\u4eab\u8d44\u6e90\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9020\u6210\u200b\u8fdb\u7a0b\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7ade\u4e89\u200b\uff08Race condition\uff09\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code># Python program to illustrate\n# the concept of race condition\n# in multiprocessing\nimport multiprocessing\n# function to withdraw from account\ndef withdraw(balance):\nfor _ in range(10000):\nbalance.value = balance.value - 1\n# function to deposit to account\ndef deposit(balance):\nfor _ in range(10000):\nbalance.value = balance.value + 1\ndef perform_transactions():\n# initial balance (in shared memory)\nbalance = multiprocessing.Value(\"i\", 100)\n# creating new processes\np1 = multiprocessing.Process(target=withdraw, args=(balance,))\np2 = multiprocessing.Process(target=deposit, args=(balance,))\n# starting processes\np1.start()\np2.start()\n# wait until processes are finished\np1.join()\np2.join()\n# print final balance\nprint(\"Final balance = {}\".format(balance.value))\nif __name__ == \"__main__\":\nfor _ in range(10):\n# perform same transaction process 10 times\nperform_transactions()\n</code></pre> <p>\u200b\u4e24\u4e2a\u200b\u540c\u65f6\u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5728\u200b\u8bbf\u95ee\u200b\u8d44\u6e90\u200b\u65f6\u200b\u6ca1\u6709\u200b\u5148\u540e\u987a\u5e8f\u200b\uff0c\u200b\u4e24\u8005\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200b\u81ea\u5df1\u200b\u7684\u200b\u8d44\u6e90\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u6ca1\u6709\u200b\u8003\u8651\u200b\u5230\u200b\u5bf9\u65b9\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\uff0c\u200b\u56e0\u800c\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u4e0d\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\u3002</p> <p></p> <p>\u200b\u52a0\u4e0a\u200b<code>lock</code>\u200b\u4e4b\u540e\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code># Python program to illustrate\n# the concept of locks\n# in multiprocessing\nimport multiprocessing\n# function to withdraw from account\ndef withdraw(balance, lock):\nfor _ in range(10000):\nlock.acquire()\nbalance.value = balance.value - 1\nlock.release()\n# function to deposit to account\ndef deposit(balance, lock):\nfor _ in range(10000):\nlock.acquire()\nbalance.value = balance.value + 1\nlock.release()\ndef perform_transactions():\n# initial balance (in shared memory)\nbalance = multiprocessing.Value(\"i\", 100)\n# creating a lock object\nlock = multiprocessing.Lock()\n# creating new processes\np1 = multiprocessing.Process(target=withdraw, args=(balance, lock))\np2 = multiprocessing.Process(target=deposit, args=(balance, lock))\n# starting processes\np1.start()\np2.start()\n# wait until processes are finished\np1.join()\np2.join()\n# print final balance\nprint(\"Final balance = {}\".format(balance.value))\nif __name__ == \"__main__\":\nfor _ in range(10):\n# perform same transaction process 10 times\nperform_transactions()\n</code></pre> <ul> <li><code>lock = multiprocessing.Lock()</code>\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b<code>Lock</code>\u200b\u5bf9\u8c61\u200b\u3002</li> <li>\u200b\u53d8\u91cf\u200b<code>lock</code>\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u4e24\u4e2a\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u51fd\u6570\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u5728\u200b\u51fd\u6570\u200b\u6267\u884c\u200b\u524d\u540e\u200b\u52a0\u4e0a\u200b<code>lock.acquire()</code>\u200b\u548c\u200b<code>lock.release()</code>\uff0c\u200b\u53ef\u4ee5\u200b\u6682\u65f6\u200b\u9501\u5b9a\u200b\u8d44\u6e90\u200b\uff0c\u200b\u4e0d\u200b\u88ab\u200b\u5176\u4ed6\u200b\u8fdb\u7a0b\u200b\u5f71\u54cd\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/python-multiprocessing/#\u8fdb\u7a0b\u6c60pooling","title":"\u8fdb\u7a0b\u200b\u6c60\u200b<code>Pooling</code>","text":"<p>\u200b\u5728\u200b\u7b2c\u4e00\u8282\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u65b0\u5efa\u200b<code>Process</code>\u200b\u5bf9\u8c61\u200b\u6765\u200b\u521b\u5efa\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u5982\u679c\u200b\u6709\u200b\u5f88\u591a\u200b\u4e2a\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c82\u200b\u4e0d\u662f\u200b\u8981\u200b\u5199\u200b\u5f88\u591a\u200b\u884c\u200b\u521b\u5efa\u200b<code>Process</code>\u200b\u7684\u200b\u8bed\u53e5\u200b\uff1f</p> <p><code>Pool</code>\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u4e00\u6b21\u200b\u521b\u5efa\u200b\u5f88\u591a\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u8fdb\u7a0b\u200b\u653e\u5230\u200b\u4e00\u4e2a\u200b\u201c\u200b\u6c60\u5b50\u200b\u201d\u200b\u91cc\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u8fd0\u884c\u200b\u7ed3\u675f\u200b\u4e86\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7a7a\u95f2\u200b\u4e0b\u200b\u7684\u200b CPU \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u5b8c\u6210\u200b\u5269\u4f59\u200b\u7684\u200b\u4efb\u52a1\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6700\u5927\u5316\u200b\u5730\u200b\u5229\u7528\u200b\u8ba1\u7b97\u200b\u6027\u80fd\u200b\u3002</p> Python<pre><code># Python program to understand\n# the concept of pool\nimport multiprocessing\nimport os\ndef square(n):\nprint(\"Worker process id for {0}: {1}\".format(n, os.getpid()))\nreturn n * n\nif __name__ == \"__main__\":\n# input list\nmylist = [1, 2, 3, 4, 5]\n# creating a pool object\np = multiprocessing.Pool()\n# map list to target function\nresult = p.map(square, mylist)\nprint(result)\n</code></pre> <ul> <li><code>p = multiprocessing.Pool()</code>\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b<code>Pool</code>\u200b\u5bf9\u8c61\u200b\u3002\u200b\u62ec\u53f7\u200b\u4e2d\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u6700\u200b\u591a\u200b\u4f7f\u7528\u200b\u591a\u5c11\u200b\u4e2a\u200b CPU\u3002</li> <li><code>result = p.map(square, mylist)</code>\u200b\u5c06\u200b\u4efb\u52a1\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b<code>square</code>\u200b\u51fd\u6570\u200b\uff09\u200b\u5206\u914d\u200b\u7ed9\u200b\u8fdb\u7a0b\u200b\u6c60\u200b<code>p</code>\uff0c\u200b\u4f20\u5165\u200b\u7ed9\u200b\u4efb\u52a1\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u5217\u8868\u200b\u653e\u5728\u200b<code>mylist</code>\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u6bcf\u4e2a\u200b\u8fdb\u7a0b\u200b\u5b8c\u6210\u200b\u4efb\u52a1\u200b\u540e\u200b\u6240\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u4f1a\u200b\u6c47\u603b\u200b\u5230\u200b<code>result</code>\u200b\u5217\u8868\u200b\u4e2d\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/","title":"\u4e3a\u200b Python \u200b\u9879\u76ee\u200b\u751f\u6210\u200b requirement.txt","text":"<p>\u200b\u5728\u200b\u90e8\u7f72\u200b\u9879\u76ee\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u751f\u6210\u200b requirement.txt \u200b\u6587\u4ef6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u5bf9\u200b\u67d0\u4e9b\u200b\u5305\u200b\u7684\u200b\u4f9d\u8d56\u200b\u3002Python \u200b\u7684\u200b<code>pipreqs</code>\u200b\u5e93\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u4e00\u952e\u200b\u751f\u6210\u200b requirement.txt \u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/#\u65b9\u6cd5","title":"\u65b9\u6cd5","text":"<p>\u200b\u5728\u200b<code>Anaconda Prompt</code>\u200b\u4e2d\u200b\u8f93\u5165\u200b<code>pipreqs /path/to/project</code>\u200b\u5373\u53ef\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/#\u4f7f\u7528pipreqs\u5e93\u4e00\u952e\u751f\u6210requirementtxt\u6587\u4ef6","title":"\u4f7f\u7528\u200b<code>pipreqs</code>\u200b\u5e93\u200b\u4e00\u952e\u200b\u751f\u6210\u200b<code>requirement.txt</code>\u200b\u6587\u4ef6","text":"<p>stackoverflow\u200b\u4e0a\u200b\u7684\u200b\u56de\u7b54\u200b\u662f\u200b\uff1a</p> Bash<pre><code>pip install pipreqs\n\npipreqs /path/to/project\n</code></pre>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/#\u53ef\u80fd\u7684\u62a5\u9519","title":"\u53ef\u80fd\u200b\u7684\u200b\u62a5\u9519","text":"<p>\u200b\u8fd0\u884c\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9047\u5230\u200b\u4e09\u4e2a\u200b\u62a5\u9519\u200b\uff1a</p>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/#\u5b57\u7b26\u9519\u8bef","title":"\u5b57\u7b26\u200b\u9519\u8bef","text":"<p><code>UnicodeDecodeError: 'gbk' codec can't decode byte 0xaf in position 167: illegal multibyte sequence</code></p> <p></p> <p>\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a\u200b\u5728\u200b\u547d\u4ee4\u200b\u540e\u9762\u200b\u52a0\u4e0a\u200b<code>--encoding=utf8</code>\u3002</p> Bash<pre><code>pipreqs /path/to/project --encoding=utf8\n</code></pre>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/#\u7f51\u7edc\u73af\u5883\u9519\u8bef","title":"\u7f51\u7edc\u200b\u73af\u5883\u200b\u9519\u8bef","text":"<p><code>requests.exceptions.SSLError: HTTPSConnectionPool(host='pypi.python.org', port=443): Max retries exceeded with url: /pypi/Pillow/json (Caused by SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:1129)')))</code></p> <p></p> <p>\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a\u200b\u5173\u95ed\u200b\u4ee3\u7406\u200b\u3002</p>","tags":["Python"]},{"location":"blog/generate-python-requirement-txt/#\u4e0d\u662f\u5185\u90e8\u6216\u5916\u90e8\u547d\u4ee4","title":"\u4e0d\u662f\u200b\u5185\u90e8\u200b\u6216\u200b\u5916\u90e8\u547d\u4ee4","text":"<p>\u200b\u5982\u679c\u200b\u63d0\u793a\u200b<code>\u200b\u4e0d\u662f\u200b\u5185\u90e8\u200b\u6216\u200b\u5916\u90e8\u547d\u4ee4\u200b</code>\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u628a\u200b Python Scripts \u200b\u6587\u4ef6\u5939\u200b\u6dfb\u52a0\u200b\u5230\u200b\u7cfb\u7edf\u200b\u73af\u5883\u53d8\u91cf\u200b\uff1a</p> <p></p> Text Only<pre><code>C:\\Users\\Chao\\AppData\\Roaming\\Python\\Python39\\Scripts\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/generate-tree-chart-of-directory/","title":"\u4e3a\u200b\u76ee\u5f55\u200b\u751f\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u56fe","text":"<p>\u200b\u6811\u5f62\u200b\u7ed3\u6784\u56fe\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u4eba\u4eec\u200b\u7406\u89e3\u200b\u9879\u76ee\u200b\u7684\u200b\u6587\u4ef6\u200b\u7ed3\u6784\u200b\u3002</p> <p></p>","tags":["Linux","Computer Science"]},{"location":"blog/generate-tree-chart-of-directory/#linux-\u7cfb\u7edf","title":"Linux \u200b\u7cfb\u7edf","text":"<p>\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e0b\u200b\u7684\u200b<code>bash</code>\uff0c\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b<code>tree</code>\u200b\u5373\u53ef\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/generate-tree-chart-of-directory/#windows-\u7cfb\u7edf","title":"Windows \u200b\u7cfb\u7edf","text":"<p>Windows \u200b\u7cfb\u7edf\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b<code>powershell</code>\uff0c\u200b\u5982\u679c\u200b\u53ea\u7528\u200b<code>tree</code>\u200b\u7684\u8bdd\u200b\uff0c\u200b\u53ea\u4f1a\u200b\u751f\u6210\u200b\u76ee\u5f55\u540d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u4f1a\u200b\u751f\u6210\u200b\u6587\u4ef6\u540d\u200b\u3002</p> <p>\u200b\u7528\u200b<code>tree /F</code>\u200b\u53ef\u4ee5\u200b\u751f\u6210\u200b\u6587\u4ef6\u540d\u200b\u3002</p> <p>\u200b\u5728\u200b Windows \u200b\u7684\u200b Git Bash \u200b\u4e0b\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5b89\u88c5\u200b<code>tree</code>\uff0c\u200b\u4f1a\u200b\u63d0\u793a\u200b<code>tree: command not found</code>\u3002</p> <p>\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff1a</p> <p>\u200b\u5230\u200b http://gnuwin32.sourceforge.net/packages/tree.htm \u200b\u4e0b\u8f7d\u200b<code>tree.exe</code>\u200b\u6587\u4ef6\u200b\u3002</p> <p></p> <p>\u200b\u5c06\u200b\u89e3\u538b\u200b\u540e\u200b\u7684\u200b<code>tree.exe</code>\u200b\u590d\u5236\u200b\u4e00\u4efd\u200b\u5230\u200b<code>C:\\Program Files\\Git\\usr\\bin</code>\u200b\u4e2d\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u80fd\u591f\u200b\u50cf\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u4e00\u6837\u200b\u8fd0\u884c\u200b<code>tree</code>\u200b\u7684\u200b\u547d\u4ee4\u200b\u4e86\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/generate-tree-chart-of-directory/#\u5e38\u7528\u547d\u4ee4","title":"\u5e38\u7528\u547d\u4ee4","text":"<p>\u200b\u53ea\u200b\u9700\u8981\u200b\u67e5\u770b\u200b 1 \u200b\u5c42\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c55\u5f00\u200b\u6587\u4ef6\u5939\u200b\u5185\u90e8\u200b\u7684\u200b\u5b50\u200b\u6587\u4ef6\u5939\u200b\u548c\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\uff1a</p> Bash<pre><code>tree -L 1\n</code></pre> <p>\u200b\u5c55\u793a\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5305\u62ec\u200b<code>.git</code>\u200b\u8fd9\u200b\u7c7b\u200b\u9690\u85cf\u200b\u6587\u4ef6\u200b\uff1a</p> Bash<pre><code>tree -aL 1\n</code></pre> <p>\u200b\u5176\u4ed6\u200b\u547d\u4ee4\u200b\u53ef\u200b\u4f7f\u7528\u200b\uff1a</p> Bash<pre><code>tree --help\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u5e2e\u52a9\u200b\u3002</p> <p></p>","tags":["Linux","Computer Science"]},{"location":"blog/test-for-multi-factor-model/","title":"\u68c0\u9a8c\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b","text":"\\[ R_{it}^e =\\alpha_i+\\beta_i ^\\prime \\lambda_t+\\varepsilon_{it},\\quad t=1,2,\\dots, T \\] <p>\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b\u53ef\u4ee5\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u3001\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u548c\u200b Fama-Macbeth \u200b\u56de\u5f52\u200b\u8fdb\u884c\u200b\u68c0\u9a8c\u200b\u3002\u200b\u5b83\u4eec\u200b\u7684\u200b\u9002\u7528\u200b\u60c5\u666f\u200b\u4e0d\u540c\u200b\uff0c\u200b\u6240\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u9700\u8981\u200b\u4e0d\u540c\u200b\u7684\u200b\u89e3\u8bfb\u200b\u3002</p> <p>\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b\u53cd\u6620\u200b\u7684\u200b\u662f\u200b\u8d44\u4ea7\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\u5728\u200b\u622a\u9762\u200b\u4e0a\u200b\u7684\u200b\u5173\u7cfb\u200b\u3002\u200b\u5b83\u200b\u56de\u7b54\u200b\u4e86\u200b\u8fd9\u6837\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a\u200b\u5728\u200b\u540c\u4e00\u200b\u65f6\u523b\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b\u6709\u200b\u7684\u200b\u8d44\u4ea7\u200b\u6536\u76ca\u7387\u200b\u9ad8\u200b\uff0c\u200b\u6709\u200b\u7684\u200b\u8d44\u4ea7\u200b\u6536\u76ca\u7387\u200b\u4f4e\u200b\uff1f</p> <p>\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b\u8ba4\u4e3a\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u56e0\u5b50\u200b\u6709\u200b\u4e00\u4e2a\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u5728\u200b\u67d0\u4e2a\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\u8ba9\u200b\u8be5\u200b\u8d44\u4ea7\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u76f8\u5e94\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u200b\u3002\u200b\u4e0d\u540c\u200b\u8d44\u4ea7\u200b\u5728\u200b\u5404\u4e2a\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\u7a0b\u5ea6\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u4e86\u200b\u4e0d\u540c\u200b\u8d44\u4ea7\u200b\u6709\u7740\u200b\u4e0d\u540c\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b\uff0c\u200b\u5b83\u200b\u80fd\u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u89e3\u91ca\u200b\u8d44\u4ea7\u200b\u6536\u76ca\u200b\u6a2a\u622a\u9762\u200b\u5dee\u5f02\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u200b\u5173\u5fc3\u200b\uff1a</p> <ol> <li>\u200b\u5404\u4e2a\u200b\u8d44\u4ea7\u200b\u5728\u200b\u5404\u4e2a\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\u7a0b\u5ea6\u200b\uff08\\(N\\times K\\)\uff09\u3002\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u77e9\u9635\u200b\uff0c\u200b\u77e9\u9635\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u8bb0\u200b\u4e3a\u200b\\(\\beta_i^\\prime\\)\uff0c\u200b\u5176\u4e2d\u200b\\(i=1, 2, \\dots, N\\)\u3002</li> <li>\u200b\u5404\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\uff08\\(K\\times 1\\)\uff09\uff0c\u200b\u8bb0\u200b\u4e3a\u200b\\(\\lambda\\)\u3002\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u200b\u5411\u91cf\u200b\uff0c\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\\(\\lambda _k\\)\uff0c\u200b\u4ee3\u8868\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u3002</li> </ol> <p>\u200b\u4e0b\u9762\u200b\u68b3\u7406\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u68c0\u9a8c\u200b\u7684\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u65f6\u95f4\u5e8f\u5217\u56de\u5f52","title":"\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52","text":"<p>\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u9002\u7528\u200b\u4e8e\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u5df2\u77e5\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u5173\u952e\u200b\u7684\u200b\u6b65\u9aa4\u200b\u5982\u4e0b\u200b\uff1a</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u7b2c\u4e00\u6b65\u7528\u65f6\u95f4\u5e8f\u5217\u56de\u5f52\u786e\u5b9a\u8d44\u4ea7\u7684\u56e0\u5b50\u66b4\u9732","title":"\u7b2c\u4e00\u6b65\u200b\uff1a\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u786e\u5b9a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u56e0\u5b50\u200b\u66b4\u9732","text":"<p>\u200b\u7528\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\uff08\u200b\u8fd9\u662f\u200b\u771f\u5b9e\u200b\u5df2\u77e5\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u9884\u671f\u200b\u7684\u200b\uff09\u200b\u4f5c\u4e3a\u200b\u81ea\u53d8\u91cf\u200b\uff0c\u200b\u7528\u200b\u8d44\u4ea7\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u4f5c\u4e3a\u200b\u56e0\u53d8\u91cf\u200b\uff0c\u200b\u505a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\\(i\\)\uff0c\u200b\u90fd\u200b\u8fd0\u884c\u200b\u4e00\u6b21\u200b\u4e0b\u9762\u200b\u7684\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\uff1a $$ R_{it}^e =\\alpha_i+\\beta_i ^\\prime \\lambda_t+\\varepsilon_{it},\\quad t=1,2,\\dots, T \\tag{1}\\label{1} $$</p> <ul> <li>\u200b\u4e0a\u200b\u5f0f\u200b\u53ef\u4ee5\u200b\u6c42\u200b\u51fa\u200b\u8d44\u4ea7\u200b\\(i\\)\u200b\u5728\u200b\u5404\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\u7a0b\u5ea6\u200b\\(\\beta_i\\)\u3002</li> </ul> <p>\u200b\u5f62\u8c61\u200b\u5730\u200b\u7406\u89e3\u200b\u5c31\u662f\u200b\uff1a\u200b\u5f53\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u5728\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0a\u200b\u53d8\u52a8\u200b\u65f6\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u6536\u76ca\u7387\u200b\u968f\u4e4b\u200b\u53d8\u52a8\u200b\u7684\u200b\u654f\u611f\u200b\u7a0b\u5ea6\u200b\u6709\u200b\u591a\u200b\u5927\u200b\uff1f</p> <ul> <li>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u6c42\u200b\u51fa\u200b\u8d44\u4ea7\u200b\\(i\\)\u200b\u7684\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\uff0c\u200b\u5373\u200b\\(\\alpha_i\\)\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u7b2c\u4e8c\u6b65\u5c06\u56e0\u5b50\u6536\u76ca\u7387\u53d6\u5e73\u5747\u5f97\u5230\u56e0\u5b50\u7684\u9884\u671f\u6536\u76ca\u7387","title":"\u7b2c\u4e8c\u6b65\u200b\uff1a\u200b\u5c06\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u53d6\u200b\u5e73\u5747\u200b\uff0c\u200b\u5f97\u5230\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387","text":"<ol> <li>\u200b\u6bcf\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u5c31\u200b\u7b49\u4e8e\u200b\u8fd9\u4e2a\u200b\u56e0\u5b50\u200b\u5df2\u77e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u5728\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0a\u200b\u7684\u200b\u5747\u503c\u200b\u3002</li> </ol> <p>\u200b\u6ce8\u610f\u200b\u5728\u200b\u7b2c\u200b 1 \u200b\u6b65\u200b\u7684\u200b\u56de\u5f52\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u7528\u5230\u200b\u4e86\u200b\u771f\u5b9e\u200b\u5df2\u77e5\u200b\u7684\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u6240\u4ee5\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u53ea\u200b\u9002\u7528\u200b\u4e8e\u200b\u90a3\u4e9b\u200b\u5df2\u77e5\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6bd4\u5982\u200b HML\u3001SMB \u200b\u8fd9\u200b\u7c7b\u200b\u98ce\u683c\u200b\u56e0\u5b50\u200b\uff0c\u200b\u5b83\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6392\u5e8f\u200b\u6cd5\u200b\u6a21\u62df\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\uff08\u200b\u5c0f\u200b\u5e02\u503c\u200b\u80a1\u7968\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u51cf\u53bb\u200b\u5927\u200b\u5e02\u503c\u200b\u80a1\u7968\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\uff09\uff0c\u200b\u8fdb\u800c\u200b\u5f97\u5230\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b GDP \u200b\u7b49\u200b\u5b8f\u89c2\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6ca1\u200b\u529e\u6cd5\u200b\u76f4\u63a5\u200b\u5f97\u5230\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e0d\u80fd\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u6765\u200b\u68c0\u9a8c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u3002</p> <p>\u200b\u6bd4\u5982\u200b GDP \u200b\u5728\u200b\u8fde\u7eed\u200b\u4e09\u5e74\u200b\u7684\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u662f\u200b 0.9 \u200b\u4e07\u4ebf\u200b\u30011 \u200b\u4e07\u4ebf\u200b\u30011.1 \u200b\u4e07\u4ebf\u200b\uff0c\u200b\u600e\u4e48\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u7528\u5230\u200b\u4e0a\u5f0f\u200b\u4e2d\u200b\uff1f\u200b\u5982\u679c\u200b\u76f4\u63a5\u200b\u628a\u200b 0.9\u30011\u30011.1 \u200b\u5f53\u4f5c\u200b\\(\\lambda\\)\uff0c\u200b\u90a3\u4e48\u200b\\(\\hat\\beta_i\\)\u200b\u4ee3\u8868\u200b\uff1a\u200b\u5982\u679c\u200b GDP \u200b\u589e\u52a0\u200b 1\uff08\u200b\u4e07\u4ebf\u200b\uff09\uff0c\u200b\u8d44\u4ea7\u200b\\(i\\)\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u4f1a\u200b\u589e\u52a0\u200b\u591a\u5c11\u200b\uff1f\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b\u7684\u200b\\(\\hat\\alpha_i\\)\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\uff0c\u200b\u800c\u662f\u200b\u4e3a\u4e86\u200b\u62df\u5408\u200b\u56de\u5f52\u200b\u76f4\u7ebf\u200b\u800c\u200b\u4ea7\u751f\u200b\u7684\u200b\u622a\u8ddd\u200b\u9879\u200b\u3002\u200b\u8bd5\u60f3\u200b\uff0c\u200b\u5982\u679c\u200b\\(\\lambda\\)\u200b\u7684\u200b\u5355\u4f4d\u200b\u53d8\u6210\u200b\u4ebf\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5c06\u200b 9000\u300110000\u300111000 \u200b\u4ee3\u5165\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u90a3\u4e48\u200b\\(\\hat\\beta_i\\)\u200b\u7684\u200b\u503c\u4f1a\u200b\u7f29\u5c0f\u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b 1/10000\uff0c\u200b\u4f46\u200b\\(\\hat\\alpha_i\\)\u200b\u7684\u200b\u503c\u200b\u4e0d\u4f1a\u200b\u53d8\u200b\u3002</p> <p>\u200b\u90a3\u4e9b\u200b\u5929\u7136\u200b\u5df2\u77e5\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\\(\\lambda\\)\u200b\u5c31\u662f\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u4f8b\u5982\u200b 10%\u300120% \u200b\u7b49\u200b\uff0c\u200b\u5728\u200b\u91cf\u7eb2\u200b\u548c\u200b\u5355\u4f4d\u200b\u4e0a\u200b\u5c31\u200b\u548c\u200b\\(R_{it}^e\\)\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b\uff0c\u200b\u8fd9\u6837\u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\uff0c\\(\\alpha_i\\)\u200b\u7684\u200b\u610f\u4e49\u200b\u624d\u200b\u662f\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u622a\u9762\u56de\u5f52","title":"\u622a\u9762\u200b\u56de\u5f52","text":"<p>\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u53ef\u4ee5\u200b\u5904\u7406\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u672a\u77e5\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u5173\u952e\u6b65\u9aa4\u200b\u5982\u4e0b\u200b\uff1a</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u7b2c\u4e00\u6b65\u7528\u65f6\u95f4\u5e8f\u5217\u56de\u5f52\u786e\u5b9a\u8d44\u4ea7\u7684\u56e0\u5b50\u66b4\u9732_1","title":"\u7b2c\u4e00\u6b65\u200b\uff1a\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u786e\u5b9a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u56e0\u5b50\u200b\u66b4\u9732","text":"<p>\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u7528\u5230\u200b\u7684\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u662f\u200b\uff1a $$ R_{it}^e =a_i+\\beta_i^ \\prime f_t+\\varepsilon_{it},\\quad t=1,2,\\dots, T \\tag{2}\\label{2} $$ \u200b\u6ce8\u610f\u200b\uff0c\u200b\u516c\u5f0f\u200b\\(\\eqref{1}\\)\u200b\u548c\u200b\u516c\u5f0f\u200b\\(\\eqref{2}\\)\u200b\u7565\u6709\u200b\u533a\u522b\u200b\u3002</p> <ul> <li>\u200b\u516c\u5f0f\u200b\\(\\eqref{1}\\)\u200b\u4e2d\u200b\\(\\alpha_i\\)\u200b\u7684\u200b\u610f\u4e49\u200b\u662f\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u3002\u200b\u516c\u5f0f\u200b\\(\\eqref{2}\\)\u200b\u7528\u200b\u4e86\u200b\\(a_i\\)\u200b\u662f\u200b\u4e3a\u4e86\u200b\u62df\u5408\u200b\u56de\u5f52\u200b\u76f4\u7ebf\u200b\u800c\u200b\u4ea7\u751f\u200b\u7684\u200b\u622a\u8ddd\u200b\u9879\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u81ea\u53d8\u91cf\u200b\u5e76\u200b\u4e0d\u662f\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u6240\u4ee5\u200b\\(a_i\\)\u200b\u7684\u200b\u610f\u4e49\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u3002</li> <li>\u200b\u516c\u5f0f\u200b\\(\\eqref{2}\\)\u200b\u4e2d\u200b\u7684\u200b\\(f_t\\)\u200b\u662f\u200b\u56e0\u5b50\u200b\u7684\u200b\u53d6\u503c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\\(\\lambda_t\\)\u3002\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u4e0d\u200b\u77e5\u9053\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u53ea\u200b\u77e5\u9053\u200b\u56e0\u5b50\u200b\u7684\u200b\u53d6\u503c\u200b\u3002</li> </ul> <p>\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u6c42\u51fa\u200b\u8d44\u4ea7\u200b\u7684\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\\(\\hat\\beta_i\\)\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u7b2c\u4e8c\u6b65\u5148\u5bf9\u8d85\u989d\u6536\u76ca\u53d6\u5e73\u5747\u518d\u622a\u9762\u56de\u5f52","title":"\u7b2c\u4e8c\u6b65\u200b\uff1a\u200b\u5148\u5bf9\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u53d6\u200b\u5e73\u5747\u200b\uff0c\u200b\u518d\u200b\u622a\u9762\u200b\u56de\u5f52","text":"<ol> <li>\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u8d44\u4ea7\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u7b2c\u200b 1 \u200b\u6b65\u200b\u5f97\u5230\u200b\u4e86\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\\(\\hat\\beta_i\\)\uff0c\u200b\u628a\u200b\u5b83\u200b\u4f5c\u4e3a\u200b\u81ea\u53d8\u91cf\u200b\u3002\u200b\u56e0\u53d8\u91cf\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u5728\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0a\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\\(E_T[R_{i}^e]\\)\u3002</li> </ol> <p>\u200b\u6bcf\u4e2a\u200b\u8d44\u4ea7\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u70b9\u200b\uff0c\u200b\u6a2a\u5750\u6807\u200b\u662f\u200b\\(\\hat\\beta_i\\)\uff0c\u200b\u7eb5\u5750\u6807\u200b\u662f\u200b\\(E_T[R_{i}^e]\\)\u3002\u200b\u5bf9\u200b\u6240\u6709\u200b\u8d44\u4ea7\u200b\u8fdb\u884c\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\uff0c\u200b\u6c42\u200b\u51fa\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u7528\u5230\u200b\u7684\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u662f\u200b\uff1a $$ E_T\\left[R_{i} ^e\\right]=\\hat\\beta_i ^\\prime \\lambda+\\alpha_i,\\quad i=1,2,\\dots, N \\tag{3}\\label{3} $$</p> <p>\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u6c42\u51fa\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\\(\\lambda\\)\uff0c\u200b\u8fd8\u200b\u80fd\u6c42\u200b\u51fa\u200b\u8d44\u4ea7\u200b\u7684\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\\(\\alpha_i\\)\u3002</p> <p>\u200b\u516c\u5f0f\u200b\\(\\eqref{3}\\)\u200b\u6ca1\u6709\u200b\u622a\u8ddd\u200b\u9879\u200b\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b\u5047\u8bbe\u200b\u5f53\u200b\u4e0d\u200b\u5b58\u5728\u200b\u6a21\u578b\u200b\u504f\u8bef\u200b\u65f6\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u56e0\u8be5\u200b\u4ec5\u200b\u7531\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u51b3\u5b9a\u200b\u3002\u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u5047\u8bbe\u200b\u8fd9\u4e9b\u200b\u56e0\u5b50\u200b\u80fd\u591f\u200b\u5b8c\u7f8e\u200b\u5730\u200b\u89e3\u91ca\u200b\u8d44\u4ea7\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u200b\uff0c\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\u5728\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\u5747\u200b\u4e3a\u200b 0\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u200b\u4e5f\u200b\u5e94\u8be5\u200b\u662f\u200b 0\uff08\u200b\u5047\u8bbe\u200b\u6ca1\u6709\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\uff09\u3002\u200b\u5982\u679c\u200b\u6709\u200b\u622a\u8ddd\u200b\u9879\u200b\uff0c\u200b\u5c31\u200b\u4ee3\u8868\u200b\u6240\u6709\u200b\u8d44\u4ea7\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u90fd\u200b\u7cfb\u7edf\u6027\u200b\u5730\u200b\u6709\u7740\u200b\u65e0\u6cd5\u200b\u88ab\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u89e3\u91ca\u200b\u7684\u200b\u90e8\u5206\u200b\u3002\u200b\u4e5f\u200b\u6709\u200b\u5b66\u8005\u200b\u4f7f\u7528\u200b\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b\u7684\u200b\u56de\u5f52\u200b\uff08Cocharane, 2005\uff09\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u65f6\u95f4\u5e8f\u5217\u56de\u5f52\u4e0e\u622a\u9762\u56de\u5f52\u7684\u5dee\u5f02","title":"\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u4e0e\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u7684\u200b\u5dee\u5f02","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u9002\u7528\u7684\u56e0\u5b50\u7c7b\u578b\u4e0d\u540c","title":"\u9002\u7528\u200b\u7684\u200b\u56e0\u5b50\u200b\u7c7b\u578b\u200b\u4e0d\u540c","text":"<p>\u200b\u4e0a\u9762\u200b\u5df2\u7ecf\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u53ea\u200b\u9002\u7528\u200b\u4e8e\u200b\u90a3\u4e9b\u200b\u5df2\u77e5\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\uff08\u200b\u4f8b\u5982\u200b\u98ce\u683c\u200b\u56e0\u5b50\u200b\uff0cHML\uff09\uff0c\u200b\u800c\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u65e2\u200b\u80fd\u200b\u5904\u7406\u200b\u5df2\u77e5\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\uff0c\u200b\u4e5f\u200b\u80fd\u200b\u5904\u7406\u200b\u672a\u77e5\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\uff08\u200b\u4f8b\u5982\u200b\u5b8f\u89c2\u200b\u56e0\u5b50\u200b\uff0cGDP\uff09\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u5f97\u5230\u7684\u56e0\u5b50\u6536\u76ca\u7387\u7684\u5185\u6db5\u4e0d\u540c","title":"\u5f97\u5230\u200b\u7684\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5185\u6db5\u200b\u4e0d\u540c","text":"<p>\u200b\u90a3\u4e48\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u98ce\u683c\u200b\u56e0\u5b50\u200b HML\uff0c\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\uff0c\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u5f97\u5230\u200b\u7684\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u6709\u200b\u4ec0\u4e48\u200b\u533a\u522b\u200b\uff1f</p> <ol> <li>\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u5f97\u5230\u200b\u7684\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u5c31\u662f\u200b\u6bcf\u4e2a\u200b\u65f6\u671f\u200b\u7684\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u3002</li> </ol> <p>\u200b\u5bf9\u4e8e\u200b\u67d0\u4e2a\u200b\\(t\\)\u200b\u65f6\u523b\u200b\uff0cHML \u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff1a</p> <ol> <li>\u200b\u5b66\u672f\u200b\u4e0a\u200b\u7684\u200b\u505a\u6cd5\u200b\uff1a\u200b\u5c06\u200b\u8d26\u9762\u200b\u5e02\u503c\u200b\u6bd4\u200b\u6700\u9ad8\u200b\u7684\u200b 30% \u200b\u7684\u200b\u80a1\u7968\u200b\uff08High book-to-market\uff09\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u51cf\u53bb\u200b\u8d26\u9762\u200b\u5e02\u503c\u200b\u6bd4\u200b\u6700\u4f4e\u200b\u7684\u200b 30% \u200b\u7684\u200b\u80a1\u7968\u200b\uff08Low book-to-market\uff09\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</li> <li>\u200b\u4e1a\u754c\u200b\u7b80\u5355\u200b\u505a\u6cd5\u200b\uff1a\u200b\u505a\u200b\u591a\u200b\u8d26\u9762\u200b\u5e02\u503c\u200b\u6bd4\u200b\u6700\u9ad8\u200b\u7684\u200b 10% \u200b\u7684\u200b\u80a1\u7968\u200b\uff08\u200b\u5e02\u503c\u200b\u52a0\u6743\u200b\u6784\u9020\u200b\u591a\u5934\u200b\u7ec4\u5408\u200b\uff09\uff0c\u200b\u505a\u7a7a\u200b\u8d26\u9762\u200b\u5e02\u503c\u200b\u6bd4\u200b\u6700\u4f4e\u200b\u7684\u200b 10% \u200b\u7684\u200b\u80a1\u7968\u200b\uff08\u200b\u5e02\u503c\u200b\u52a0\u6743\u200b\u6784\u9020\u200b\u7a7a\u5934\u200b\u7ec4\u5408\u200b\uff09\uff0c\u200b\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u7684\u200b\u6536\u76ca\u200b\u5c31\u662f\u200b HML \u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</li> </ol> <p>\u200b\u5bf9\u4e8e\u200b\u5176\u4ed6\u200b\\(t\\)\u200b\u65f6\u523b\u200b\uff0c\u200b\u7528\u200b\u540c\u6837\u200b\u7684\u200b\u7b97\u6cd5\u200b\u8ba1\u7b97\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u3002\u200b\u6700\u540e\u200b\u5c06\u200b\u6240\u6709\u200b\\(t\\)\u200b\u65f6\u523b\u200b\u7684\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u5f97\u5230\u200b HML \u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u3002</p> <ol> <li>\u200b\u7528\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u5f97\u5230\u200b\u7684\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u662f\u200b\u516c\u5f0f\u200b\\(\\eqref{3}\\)\u200b\u4e2d\u200b\u7684\u200b\\(\\lambda\\)\u3002\\(\\lambda\\)\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u6392\u9664\u200b\u4e86\u200b\u5176\u4ed6\u200b\u56e0\u5b50\u200b\u7684\u200b\u5e72\u6270\u200b\uff0c\u200b\u662f\u200b\u5404\u4e2a\u200b\u56e0\u5b50\u200b\u7eaf\u200b\u81ea\u8eab\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u3002</li> </ol> <p>\\(\\lambda\\)\u200b\u7684\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u6ee1\u8db3\u200b\u5982\u4e0b\u200b\u6027\u8d28\u200b\uff1a</p> <ul> <li>\u200b\u5bf9\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u66b4\u9732\u200b\u4e3a\u200b 1\uff1b</li> <li>\u200b\u5bf9\u200b\u5176\u4ed6\u200b\u56e0\u5b50\u200b\u7684\u200b\u66b4\u9732\u200b\u4e3a\u200b 0\u3002</li> </ul> <p>\u200b\u4e0a\u9762\u200b\u4e24\u4e2a\u200b\u4f18\u79c0\u200b\u7684\u200b\u6027\u8d28\u200b\u4f7f\u5f97\u200b\u5c06\u200b\\(\\lambda_k\\)\u200b\u4f5c\u4e3a\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u53ef\u4ee5\u200b\u6392\u9664\u200b\u5176\u4ed6\u200b\u56e0\u5b50\u200b\u7684\u200b\u5e72\u6270\u200b\uff0c\u200b\u56e0\u800c\u200b\u7eaf\u7cb9\u200b\u662f\u200b\u7b2c\u200b\\(k\\)\u200b\u4e2a\u200b\u56e0\u5b50\u200b\u81ea\u8eab\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u3002</p> <p>\u200b\u5173\u4e8e\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u5f97\u5230\u200b\u7684\u200b\\(\\lambda\\)\u200b\u4e3a\u4ec0\u4e48\u200b\u80fd\u200b\u63a7\u5236\u200b\u5728\u200b\u5176\u4ed6\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u300a\u200b\u56e0\u5b50\u200b\u6295\u8d44\u200b \u200b\u65b9\u6cd5\u200b\u4e0e\u200b\u5b9e\u8df5\u200b\u300bP43-P44\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#fama-macbeth-\u56de\u5f52","title":"Fama-Macbeth \u200b\u56de\u5f52","text":"<p>Fama-Macbeth \u200b\u56de\u5f52\u200b\u5728\u200b\u4e1a\u754c\u200b\u88ab\u200b\u5e7f\u6cdb\u5e94\u7528\u200b\u3002\u200b\u5173\u952e\u6b65\u9aa4\u200b\u5982\u4e0b\u200b\uff1a</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u7b2c\u4e00\u6b65\u7528\u65f6\u95f4\u5e8f\u5217\u56de\u5f52\u786e\u5b9a\u8d44\u4ea7\u7684\u56e0\u5b50\u66b4\u9732_2","title":"\u7b2c\u4e00\u6b65\u200b\uff1a\u200b\u7528\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\u786e\u5b9a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u56e0\u5b50\u200b\u66b4\u9732","text":"<p>\u200b\u7b2c\u4e00\u6b65\u200b\u548c\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u76f8\u540c\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5bf9\u200b\\(N\\)\u200b\u4e2a\u200b\u8d44\u4ea7\u200b\u505a\u200b\\(N\\)\u200b\u6b21\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u56de\u5f52\u200b\uff0c\u200b\u5f97\u5230\u200b\u6bcf\u4e2a\u200b\u8d44\u4ea7\u200b\\(i\\)\u200b\u5728\u200b\u5168\u90e8\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\\(\\hat\\beta_i\\)\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u7b2c\u4e8c\u6b65\u5bf9\u6bcf\u4e2a\u65f6\u70b9\u505a\u622a\u9762\u56de\u5f52\u518d\u5c06\u56e0\u5b50\u9884\u671f\u6536\u76ca\u7387\u548c\u5b9a\u4ef7\u9519\u8bef\u7684\u4f30\u8ba1\u503c\u53d6\u5e73\u5747","title":"\u7b2c\u4e8c\u6b65\u200b\uff1a\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u65f6\u70b9\u200b\u505a\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u53d6\u200b\u5e73\u5747","text":"<p>\u200b\u7b2c\u4e8c\u6b65\u200b\uff0c\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\\(t\\)\u200b\u4e0a\u200b\uff0c\u200b\u4ee5\u200b\u8d44\u4ea7\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\\(R_{it}^e\\)\u200b\u4f5c\u4e3a\u200b\u56e0\u53d8\u91cf\u200b\uff0c\u200b\u4ee5\u200b\\(\\hat\\beta_i\\)\u200b\u4f5c\u4e3a\u200b\u81ea\u53d8\u91cf\u200b\uff0c\u200b\u8fdb\u884c\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u3002\u200b\u4e00\u5171\u200b\u6709\u200b\\(T\\)\u200b\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e00\u5171\u200b\u8fdb\u884c\u200b\\(T\\)\u200b\u6b21\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u3002</p> <p>\u200b\u5728\u200b\u7b2c\u200b\\(t\\)\u200b\u671f\u200b\uff0c\u200b\u7528\u5230\u200b\u7684\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u5982\u4e0b\u200b\uff1a $$ R_{it} ^e=\\hat \\beta_i ^\\prime \\lambda_t+\\alpha_{it},\\quad i=1,2,\\dots, N \\tag{4}\\label{4} $$</p> <p>\u200b\u5c06\u200b\\(T\\)\u200b\u6b21\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u5f97\u5230\u200b\u7684\u200b\\(T\\)\u200b\u4e2a\u200b\\(\\hat\\lambda_t\\)\u200b\u548c\u200b\\(\\hat\\alpha_{it}\\)\u200b\u5728\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0a\u6c42\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u56e0\u5b50\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u8d44\u4ea7\u200b\\(i\\)\u200b\u7684\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u3002 $$ \\hat\\lambda=\\frac{1}{T}\\sum_{t=1}^{T}\\hat\\lambda_t\\\\ \\hat\\alpha_{i}=\\frac{1}{T}\\sum_{t=1}^{T}\\hat\\alpha_{it} $$</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u622a\u9762\u56de\u5f52\u548c-fama-macbeth-\u56de\u5f52\u7684\u533a\u522b","title":"\u622a\u9762\u200b\u56de\u5f52\u200b\u548c\u200b Fama-Macbeth \u200b\u56de\u5f52\u200b\u7684\u200b\u533a\u522b","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u4ece\u56de\u5f52\u8fc7\u7a0b\u4e0a","title":"\u4ece\u200b\u56de\u5f52\u200b\u8fc7\u7a0b\u200b\u4e0a","text":"<ul> <li>\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u662f\u200b\u5148\u200b\u5bf9\u200b\u5404\u200b\u8d44\u4ea7\u200b\\(T\\)\u200b\u671f\u200b\u7684\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u6c42\u200b\u5747\u503c\u200b\uff0c\u200b\u518d\u200b\u4f30\u8ba1\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\uff1b</li> <li>Fama-Macbeth \u200b\u56de\u5f52\u200b\u662f\u200b\u5148\u7528\u200b\u5404\u200b\u8d44\u4ea7\u200b\u5355\u671f\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u4f30\u8ba1\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\uff0c\u200b\u518d\u200b\u5bf9\u200b\\(T\\)\u200b\u671f\u200b\u7684\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u6c42\u200b\u5747\u503c\u200b\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u4ecehatbeta_i\u7684\u65f6\u53d8\u6027\u4e0a","title":"\u4ece\u200b\\(\\hat\\beta_i\\)\u200b\u7684\u200b\u65f6\u200b\u53d8\u6027\u200b\u4e0a","text":"<ul> <li>\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u4e2d\u200b\u7684\u200b\\(\\hat\\beta_i\\)\u200b\u5728\u200b\u5404\u671f\u200b\u662f\u200b\u4e0d\u53d8\u200b\u7684\u200b\uff1b</li> <li>Fama-Macbeth \u200b\u56de\u5f52\u200b\u4e2d\u200b\u7684\u200b\\(\\hat\\beta_i\\)\u200b\u53ef\u4ee5\u200b\u5728\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0a\u200b\u53d1\u751f\u53d8\u5316\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u7528\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5f97\u5230\u200b\\(\\hat\\beta_{it}\\)\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b Fama-Macbeth \u200b\u56de\u5f52\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u56de\u5f52\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\\(\\hat\\beta_{i}\\)\u3002</li> </ul> <p>\u200b\u5f53\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u4e2d\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\\(\\hat\\beta_i\\)\u200b\u5728\u200b\u5168\u90e8\u200b\\(T\\)\u200b\u671f\u4e0a\u200b\u4e0d\u53d8\u200b\u65f6\u200b\uff0c\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u5f97\u5230\u200b\u7684\u200b\u4f30\u8ba1\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\uff0c\u200b\u5373\u200b\u201c\u200b\u5148\u200b\u5747\u503c\u200b\uff0c\u200b\u518d\u200b\u4f30\u8ba1\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u5148\u200b\u4f30\u8ba1\u200b\uff0c\u200b\u518d\u200b\u56de\u5f52\u200b\u201d\u200b\u5bf9\u200b\u4f30\u8ba1\u200b\u7684\u200b\u7ed3\u679c\u200b\u6ca1\u6709\u200b\u5f71\u54cd\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0cFama-Macbeth \u200b\u56de\u5f52\u200b\u8fdb\u884c\u200b\u4e86\u200b\\(T\\)\u200b\u6b21\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u6bcf\u6b21\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u90fd\u200b\u6709\u200b\\(\\hat\\beta_i\\)\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5141\u8bb8\u200b\\(\\hat\\beta_i\\)\u200b\u5728\u200b\u4e0d\u200b\u540c\u65f6\u200b\u70b9\u4e0a\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u90a3\u4e48\u200b Fama-Macbeth \u200b\u56de\u5f52\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u7075\u6d3b\u200b\u5730\u200b\u6355\u6349\u200b\\(\\hat\\beta_i\\)\u200b\u5728\u200b\u4e0d\u200b\u540c\u65f6\u200b\u70b9\u4e0a\u200b\u53d1\u751f\u200b\u7684\u200b\u53d8\u5316\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u89c4\u5b9a\u200b\u67d0\u4e2a\u200b\u8d44\u4ea7\u200b\u5728\u200b\u67d0\u4e2a\u200b\u56e0\u5b50\u200b\u4e0a\u200b\u7684\u200b\u66b4\u9732\u200b\u4e00\u76f4\u200b\u662f\u200b\u67d0\u4e2a\u200b\u6570\u503c\u200b\uff0c\u200b\u800c\u662f\u200b\u53ef\u4ee5\u200b\u5141\u8bb8\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\u7a0b\u5ea6\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u8fd9\u200b\u4f7f\u5f97\u200b Fama-Macbeth \u200b\u56de\u5f52\u200b\u5728\u200b\u5b9e\u9645\u200b\u7814\u7a76\u200b\u548c\u200b\u6295\u8d44\u200b\u5b9e\u8df5\u200b\u4e2d\u200b\u7684\u200b\u5e94\u7528\u200b\u66f4\u200b\u5e7f\u6cdb\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/test-for-multi-factor-model/#\u4ece\u68c0\u9a8c\u56e0\u5b50\u9884\u671f\u6536\u76ca\u7387\u548c\u5b9a\u4ef7\u9519\u8bef\u7684\u8fc7\u7a0b\u4e0a","title":"\u4ece\u200b\u68c0\u9a8c\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e0a","text":"<ul> <li> <p>\u200b\u622a\u9762\u200b\u56de\u5f52\u200b\u53ea\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\\(\\hat\\lambda\\)\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\\(\\hat\\alpha_{i}\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\uff0c\u200b\u5176\u200b\u6807\u51c6\u200b\u8bef\u200b\u516c\u5f0f\u200b\u8f83\u4e3a\u200b\u590d\u6742\u200b\u3002\u200b\u7ed3\u5408\u200b\u4f30\u8ba1\u503c\u200b\u548c\u200b\u6807\u51c6\u200b\u8bef\u200b\uff0c\u200b\u518d\u7528\u200b\\(\\chi^2\\)\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u548c\u200b\\(t\\)\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u8fdb\u884c\u200b\u68c0\u9a8c\u200b\uff0c\u200b\u8fc7\u7a0b\u200b\u8f83\u200b\u590d\u6742\u200b\u3002</p> </li> <li> <p>Fama-Macbeth \u200b\u56de\u5f52\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\\(T\\)\u200b\u4e2a\u200b\u56e0\u5b50\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\\(\\hat\\lambda_t\\)\u200b\u548c\u200b\u5b9a\u4ef7\u200b\u9519\u8bef\u200b\\(\\hat\\alpha_{it}\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\uff0c\u200b\u5bf9\u200b\u5176\u6c42\u200b\u5747\u503c\u200b\u548c\u200b\u6807\u51c6\u200b\u8bef\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u68c0\u9a8c\u200b\u5176\u200b\u662f\u5426\u200b\u663e\u8457\u200b\u4e0d\u200b\u4e3a\u200b 0\u3002</p> </li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/equity-curve-visualization/","title":"\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\u53ef\u89c6\u5316","text":"<p>\u200b\u4e0a\u4f20\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u6216\u200b\u6536\u76ca\u7387\u200b\u6570\u636e\u200b\uff0c\u200b\u501f\u52a9\u200b<code>python-highcharts</code>\u200b\u751f\u6210\u200b\u53ef\u200b\u4ea4\u4e92\u200b\u7684\u200b\u56de\u6d4b\u200b\u66f2\u7ebf\u200b\u3002</p> <p> </p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u4e0a\u4f20\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u6216\u200b\u6536\u76ca\u7387\u200b\u6570\u636e\u200b\uff0c\u200b\u501f\u52a9\u200b<code>python-highcharts</code>\u200b\u751f\u6210\u200b\u53ef\u200b\u4ea4\u4e92\u200b\u7684\u200b\u56de\u6d4b\u200b\u66f2\u7ebf\u200b\u3002</p> <p>\u200b\u6f14\u793a\u200b\u5730\u5740\u200b</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/texas-holdem-poker-rules-of-thumb/","title":"\u5fb7\u5dde\u200b\u6251\u514b\u200b\u6e38\u620f\u200b\u7ecf\u9a8c","text":"<p>\u200b\u73a9\u200b\u5fb7\u5dde\u200b\u6251\u514b\u200b\u65f6\u200b\u603b\u7ed3\u200b\u7684\u200b\u4e00\u4e9b\u200b\u7ecf\u9a8c\u200b\u3002</p> <p></p> <ol> <li>\u200b\u5927\u90e8\u5206\u200b\u724c\u5c40\u200b\u90fd\u200b\u662f\u200b\u9700\u8981\u200b\u5f03\u724c\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u8ddf\u200b\u6ce8\u5230\u200b\u6700\u540e\u200b\u3002</li> <li>\u200b\u4f55\u65f6\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u8ddf\u6ce8\u200b\uff1f\u200b\u5f53\u7136\u200b\u662f\u200b\u81ea\u5df1\u200b\u624b\u91cc\u200b\u7684\u200b\u724c\u578b\u200b\u8d8a\u200b\u597d\u200b\u5c31\u200b\u8d8a\u200b\u9700\u8981\u200b\u8ddf\u6ce8\u200b\u3002\u200b\u8fdb\u4e00\u6b65\u200b\u53ef\u4ee5\u200b\u7ed3\u5408\u200b\u573a\u4e0a\u200b\u7684\u200b\u4eba\u6570\u200b\u6765\u200b\u5224\u65ad\u200b\uff1a</li> <li>\u200b\u82e5\u200b\u573a\u4e0a\u200b\u4eba\u6570\u200b\u8f83\u200b\u591a\u200b\uff08\\(\\ge5\\)\uff09\uff0c\u200b\u5219\u200b\u5176\u4ed6\u4eba\u200b\u5f88\u200b\u53ef\u80fd\u200b\u6709\u200b\u975e\u5e38\u200b\u597d\u200b\u7684\u200b\u724c\u578b\u200b\u3002\u200b\u5982\u679c\u200b\u81ea\u5df1\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5bf9\u5b50\u200b\uff08\u200b\u5c24\u5176\u200b\u662f\u200b\\(\\le10\\)\u200b\u7684\u200b\u5bf9\u5b50\u200b\uff09\uff0c\u200b\u5219\u200b\u4e0d\u8981\u200b\u8ddf\u6ce8\u200b\u3002\u200b\u5982\u679c\u200b\u81ea\u5df1\u200b\u6709\u200b\u4e24\u5bf9\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u8ddf\u6ce8\u200b\uff1b\u200b\u5982\u679c\u200b\u81ea\u5df1\u200b\u6709\u200b\u4e09\u6761\u200b\u53ca\u200b\u4ee5\u4e0a\u200b\uff0c\u200b\u751a\u81f3\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u52a0\u6ce8\u200b\u3002</li> <li>\u200b\u82e5\u200b\u573a\u4e0a\u200b\u4eba\u6570\u200b\u8f83\u200b\u5c11\u200b\uff08\\(&lt;5\\)\uff09\uff0c\u200b\u6709\u200b\u4e00\u5bf9\u200b\u5373\u53ef\u200b\u8003\u8651\u200b\u8ddf\u6ce8\u200b\uff0c\u200b\u6709\u200b\u4e24\u5bf9\u200b\u53ca\u200b\u4ee5\u4e0a\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u52a0\u6ce8\u200b\u3002</li> <li>\u200b\u524d\u671f\u200b\u4e0d\u8981\u200b\u8bc8\u552c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u7834\u4ea7\u200b\u51fa\u5c40\u200b\u7684\u200b\u98ce\u9669\u200b\u5f88\u5927\u200b\u3002\u200b\u524d\u671f\u200b\u53ef\u4ee5\u200b\u5c0f\u4e8f\u200b\uff0c\u200b\u53ea\u8981\u200b\u4fdd\u8bc1\u200b\u80fd\u200b\u7ee7\u7eed\u200b\u7559\u5728\u200b\u573a\u4e0a\u200b\u5c31\u884c\u200b\u3002\u200b\u540e\u671f\u200b\u7b49\u5f85\u200b\u6709\u4eba\u200b\u7834\u4ea7\u200b\u5bfc\u81f4\u200b\u4eba\u6570\u200b\u51cf\u5c11\u200b\u540e\u200b\uff0c\u200b\u82e5\u80fd\u200b\u901a\u8fc7\u200b\u51e0\u5c40\u200b\u5feb\u901f\u200b\u79ef\u7d2f\u200b\u7b79\u7801\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u7528\u200b\u8d44\u91d1\u200b\u4f18\u52bf\u200b\u8bc8\u552c\u200b\uff0c\u200b\u5413\u9000\u200b\u5c0f\u200b\u8d44\u91d1\u200b\u7684\u200b\u5bf9\u65b9\u200b\u3002</li> <li>\u200b\u82e5\u200b\u5bf9\u200b\u81ea\u5df1\u200b\u7684\u200b\u724c\u578b\u200b\u975e\u5e38\u200b\u6709\u200b\u4fe1\u5fc3\u200b\uff08\u200b\u80dc\u7387\u200b\\(\\ge 50 \\%\\)\uff09\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u52a0\u6ce8\u200b\uff0c\u200b\u52a0\u6ce8\u200b\u7684\u200b\u91d1\u989d\u200b\u7b49\u4e8e\u200b\u5e95\u6c60\u200b\uff08\u200b\u52a0\u6ce8\u200b\u524d\u200b\u573a\u4e0a\u200b\u6240\u6709\u200b\u7b79\u7801\u200b\u7684\u200b\u548c\u200b\uff09\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u7684\u200b\u8d54\u7387\u200b\u8f83\u5927\u200b\u4e14\u200b\u540e\u200b\u505a\u200b\u51b3\u5b9a\u200b\u7684\u200b\u73a9\u5bb6\u200b\u7684\u200b\u8d54\u7387\u200b\u8f83\u200b\u5c0f\u200b\u3002</li> </ol>","tags":["\u751f\u6d3b"]},{"location":"blog/MapReduce-workflow/","title":"\u4f7f\u7528\u200b MapReduce \u200b\u8fdb\u884c\u200b\u5206\u5e03\u5f0f\u8ba1\u7b97","text":"<p>\u200b\u4f7f\u7528\u200b MapReduce \u200b\u8fdb\u884c\u200b\u5206\u5e03\u5f0f\u8ba1\u7b97\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\uff0c\u200b\u5305\u62ec\u200b\u8f93\u5165\u8f93\u51fa\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u3001map \u200b\u548c\u200b reduce \u200b\u6587\u4ef6\u200b\u3001\u200b\u6267\u884c\u200b\u6587\u4ef6\u200b run.sh \u200b\u7684\u200b\u7f16\u5199\u200b\u4ee5\u53ca\u200b\u67e5\u770b\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b<code>A.txt</code>\u200b\u548c\u200b<code>B.txt</code>\u200b\u53bb\u200b\u91cd\u540e\u200b\u5408\u5e76\u200b\u4e3a\u200b<code>C.txt</code>\u3002\u200b\u5229\u7528\u200b MapReduce \u200b\u5206\u5e03\u5f0f\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u8fd9\u4e00\u200b\u4efb\u52a1\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u5728-hdfs-\u4e0a\u5b58\u653e\u8f93\u5165\u6587\u4ef6","title":"\u5728\u200b HDFS \u200b\u4e0a\u200b\u5b58\u653e\u200b\u8f93\u5165\u200b\u6587\u4ef6","text":"<p>\u200b\u73b0\u5728\u200b<code>A.txt</code>\u200b\u548c\u200b<code>B.txt</code>\u200b\u8fd8\u200b\u5b58\u653e\u200b\u5728\u200b\u672c\u5730\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u8f93\u5165\u200b\u6587\u4ef6\u200b\u4e0a\u200b\u4f20\u5230\u200b HDFS \u200b\u4e0a\u200b\u3002</p> Bash<pre><code># \u200b\u5728\u200bHadoop\u200b\u7684\u200b/user/22210690089/\u200b\u76ee\u5f55\u200b\u4e0b\u200b\uff0c\u200b\u521b\u5efa\u200b\u9879\u76ee\u200b\u76ee\u5f55\u200b\nhdfs dfs -mkdir /user/22210690089/compose\n# \u200b\u518d\u200b\u521b\u5efa\u200binput\u200b\u76ee\u5f55\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u8f93\u5165\u200b\u6587\u4ef6\u200b\nhdfs dfs -mkdir /user/22210690089/compose/input\n# \u200b\u518d\u200b\u521b\u5efa\u200boutput\u200b\u76ee\u5f55\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u200b\nhdfs dfs -mkdir /user/22210690089/compose/output\n# \u200b\u5c06\u200b\u672c\u5730\u200b\u7684\u200b`A.txt`\u200b\u548c\u200b`B.txt`\u200b\u4e0a\u200b\u4f20\u5230\u200binput\u200b\u76ee\u5f55\u200b\u4e2d\u200b\nhdfs dfs -put ./*.txt /user/22210690089/compose/input\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u7f16\u5199mapperpy\u548creducerpy","title":"\u7f16\u5199\u200b<code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>","text":"<p>\u200b\u8bbe\u8ba1\u200b<code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>\uff0c\u200b\u5904\u7406\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u5f97\u5230\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#mapperpy","title":"<code>mapper.py</code>","text":"<ul> <li> <p><code>for line in sys.stdin:</code>\u200b\u5c31\u662f\u200b\u904d\u5386\u200b\u8f93\u5165\u200b\u6570\u636e\u200b<code>A.txt</code>\u200b\u548c\u200b<code>B.txt</code>\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u3002</p> </li> <li> <p><code>print(field+\"::\"+field)</code>\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5728\u200b Hadoop \u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u6253\u5370\u200b\u4ec0\u4e48\u200b\u4e1c\u897f\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e2d\u95f4\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4f1a\u200b\u4f5c\u4e3a\u200b<code>reducer.py</code>\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u5728\u200b<code>reducer.py</code>\u200b\u4e2d\u200b\u7ee7\u7eed\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b\u3002</p> </li> </ul> Python<pre><code># mapper.py\nimport sys\n# loop for each line\nfor line in sys.stdin:\nfield = line.strip()\nprint(field + \"::\" + field)\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#reducerpy","title":"<code>reducer.py</code>","text":"Python<pre><code># reducer.py\nimport sys\nresult = {}\nfor line in sys.stdin:\nkvs = line.strip().split(\"::\")\nk = kvs[0]\nv = kvs[1]\nif not (k in result):\nresult[k] = v\nfor k, v in result.items():\nprint(v)\n</code></pre> <ul> <li><code>for line in sys.stdin:</code>\u200b\u5c31\u662f\u200b\u904d\u5386\u200b<code>mapper.py</code>\u200b\u6700\u540e\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b<code>print(field+\"::\"+field)</code>\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u6ce8\u610f\u4e8b\u9879mapperpy\u548creducerpy\u4e0d\u80fd\u6709\u4e2d\u6587","title":"\u6ce8\u610f\u4e8b\u9879\u200b\uff1a<code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>\u200b\u4e0d\u80fd\u200b\u6709\u200b\u4e2d\u6587","text":"<ul> <li><code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>\u200b\u4e0d\u80fd\u200b\u6709\u200b\u4e2d\u6587\u200b\uff0c\u200b\u6ce8\u91ca\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u6709\u200b\u4e2d\u6587\u200b\u3002\u200b\u867d\u7136\u200b\u5728\u200b\u672c\u5730\u200b\u6267\u884c\u200b<code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6709\u200b\u4e2d\u6587\u200b\u7684\u200b\u6ce8\u91ca\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b MapReduce \u200b\u7aef\u200b\uff0c\u200b\u7531\u4e8e\u200b MapReduce \u200b\u7684\u200b\u5e95\u5c42\u200b\u4ee3\u7801\u200b\u662f\u200b\u7528\u200b Java \u200b\u5199\u200b\u7684\u200b\uff0c\u200b\u5728\u200b\u7f16\u8bd1\u200b\u4ee3\u7801\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u914d\u7f6erunsh","title":"\u914d\u7f6e\u200b<code>run.sh</code>","text":"<p>\u200b\u73b0\u5728\u200b<code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>\u200b\u90fd\u200b\u5728\u200b\u672c\u5730\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u544a\u8bc9\u200b MapReduce\uff1a\u200b\u5c06\u200b\u672c\u5730\u200b\u7684\u200b<code>mapper.py</code>\u200b\u548c\u200b<code>reducer.py</code>\u200b\u4f5c\u4e3a\u200b\u6267\u884c\u200b\u8ba1\u7b97\u200b\u4efb\u52a1\u200b\u7684\u200b\u811a\u672c\u200b\u3002</p> <ul> <li><code>INPUT_FILE_PATH</code>\u200b\u662f\u200b HDFS \u200b\u4e0a\u200b\u7684\u200b\u8f93\u5165\u200b\u6587\u4ef6\u200b\u6240\u5728\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002</li> <li><code>OUTPUT_PATH</code>\u200b\u662f\u200b HDFS \u200b\u4e0a\u200b\u7684\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u200b\u6240\u5728\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002</li> <li><code># Step 1.</code>\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u7528\u200b\u4e86\u200b\u5f88\u591a\u200b<code>\\</code>\uff0c\u200b\u8fd9\u662f\u200b\u4e3a\u4e86\u200b\u9605\u8bfb\u200b\u8d77\u6765\u200b\u66f4\u200b\u65b9\u4fbf\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5c06\u200b\u4ee3\u7801\u200b\u6362\u884c\u200b\u3002\u200b\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c<code>$</code>\u200b\u540e\u9762\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u672c\u200b\u5b9e\u9645\u4e0a\u200b\u90fd\u200b\u662f\u200b\u4e00\u884c\u200b\u547d\u4ee4\u200b\u3002</li> <li><code>-mapper \"python mapper.py\"</code>\u200b\u4e2d\u200b\u7684\u200b<code>mapper.py</code>\u200b\u662f\u200b\u6267\u884c\u200b Map \u200b\u4efb\u52a1\u200b\u7684\u200b\u811a\u672c\u200b\u3002</li> <li><code>-file ./mapper.py</code>\u200b\u662f\u200b\u6267\u884c\u200b Map \u200b\u4efb\u52a1\u200b\u7684\u200b\u811a\u672c\u200b\u7684\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u3002</li> <li><code>-reducer \"python reducer.py\"</code>\u200b\u4e2d\u200b\u7684\u200b<code>reducer.py</code>\u200b\u662f\u200b\u6267\u884c\u200b Reduce \u200b\u4efb\u52a1\u200b\u7684\u200b\u811a\u672c\u200b\u3002</li> <li><code>-file ./reducer.py</code>\u200b\u662f\u200b\u6267\u884c\u200b Reduce \u200b\u4efb\u52a1\u200b\u7684\u200b\u811a\u672c\u200b\u7684\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u3002</li> </ul> Bash<pre><code>HADOOP_CMD=\"/opt/cloudera/parcels/CDH-6.3.2-1.cdh6.3.2.p0.1605554/bin/hadoop\"\nSTREAM_JAR_PATH=\"/opt/cloudera/parcels/CDH-6.3.2-1.cdh6.3.2.p0.1605554/jars/hadoop-streaming-3.0.0-cdh6.3.2.jar\"\nINPUT_FILE_PATH=\"/user/22210690089/compose/input/\"\nOUTPUT_PATH=\"/user/22210690089/compose/output/\"\n$HADOOP_CMD fs -rm -r -skipTrash $OUTPUT_PATH\n# Step 1.\n$HADOOP_CMD jar $STREAM_JAR_PATH   \\\n-input $INPUT_FILE_PATH   \\\n-output $OUTPUT_PATH   \\\n-mapper \"python mapper.py\"   \\\n-reducer \"python reducer.py\"  \\\n-file ./mapper.py   \\\n-file ./reducer.py\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u5c06runsh\u7684\u6743\u9650\u8bbe\u7f6e\u4e3a\u6240\u6709\u8005\u53ef\u6267\u884c\u7ec4\u7528\u6237\u548c\u5176\u4ed6\u7528\u6237\u53ea\u8bfb","title":"\u5c06\u200b<code>run.sh</code>\u200b\u7684\u200b\u6743\u9650\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6240\u6709\u8005\u200b\u53ef\u200b\u6267\u884c\u200b\uff0c\u200b\u7ec4\u200b\u7528\u6237\u200b\u548c\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u53ea\u8bfb","text":"Bash<pre><code>chmod 744 run.sh\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u6267\u884crunsh","title":"\u6267\u884c\u200b<code>run.sh</code>","text":"<p>\u200b\u7136\u540e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5728\u200b\u672c\u5730\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b</p> Bash<pre><code>run.sh\n</code></pre> <p>\u200b\u5373\u53ef\u200b\u6267\u884c\u200b MapReduce \u200b\u4efb\u52a1\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-workflow/#\u67e5\u770b\u8f93\u51fa\u6587\u4ef6","title":"\u67e5\u770b\u200b\u8f93\u51fa\u200b\u6587\u4ef6","text":"Bash<pre><code>hdfs dfs -ls /user/22210690089/compose/output/\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u200b\u5206\u5e03\u5f0f\u200b\u5730\u200b\u5b58\u50a8\u200b\u5728\u200b\u5404\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>cat</code>\u200b\u67e5\u770b\u200b\u3002</p> Bash<pre><code>hdfs dfs -cat /user/22210690089/compose/output/*\n</code></pre> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-debug/","title":"\u8c03\u8bd5\u200b MapReduce","text":"<p>MapReduce \u200b\u5728\u200b Hadoop \u200b\u4e0a\u200b\u8fd0\u884c\u200b\u65f6\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f46\u200b\u62a5\u9519\u200b\u4fe1\u606f\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\u54ea\u91cc\u200b\u51fa\u9519\u200b\u4e86\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u672c\u5730\u200b\u8c03\u8bd5\u200b Map \u200b\u6216\u200b Reduce \u200b\u7684\u200b Python \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u627e\u5230\u200b\u62a5\u9519\u200b\u7684\u200b\u539f\u56e0\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-debug/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>\u200b\u672c\u200b\u9879\u76ee\u200b\u7684\u200b\u76ee\u5f55\u200b\u5c42\u7ea7\u200b\u7ed3\u6784\u200b\uff1a</p> <p></p> <p>\u200b\u5728\u200b\u8fd0\u884c\u200b<code>run.sh</code>\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u8fd0\u884c\u200b\u5931\u8d25\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u624d\u521a\u200b\u5f00\u59cb\u200b<code>map</code>\uff0c\u200b\u5c31\u200b\u51fa\u73b0\u200b\u4e86\u200b\u9519\u8bef\u200b\u3002\u200b\u8fd9\u200b\u8bf4\u660e\u200b<code>mapper.py</code>\u200b\u6587\u4ef6\u200b\u53ef\u80fd\u200b\u6709\u200b bug\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-debug/#\u8c03\u8bd5mapperpy","title":"\u8c03\u8bd5\u200b<code>mapper.py</code>","text":"<p>\u200b\u4f46\u662f\u200b Hadoop \u200b\u7aef\u200b\u5e76\u200b\u6ca1\u6709\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b bug \u200b\u5728\u200b\u54ea\u91cc\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u672c\u5730\u200b\u901a\u8fc7\u200b\u7ba1\u9053\u200b\u547d\u4ee4\u200b\u5bf9\u200b<code>mapper.py</code>\u200b\u8fdb\u884c\u200b\u8c03\u8bd5\u200b\u3002</p> Bash<pre><code>cat ./*.txt | python ./mapper.py\n</code></pre> <p></p> <p><code>|</code>\u200b\u662f\u200b Linux \u200b\u547d\u4ee4\u200b\u7684\u200b\u7ba1\u9053\u200b\uff0c<code>|</code>\u200b\u5de6\u8fb9\u200b\u7684\u200b\u4e1c\u897f\u200b\u4f1a\u200b\u4f5c\u4e3a\u200b\u53f3\u8fb9\u200b\u7684\u200b\u8f93\u5165\u200b\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b<code>A.txt</code>\u200b\u548c\u200b<code>B.txt</code>\u200b\u4f5c\u4e3a\u200b<code>mapper.py</code>\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5c4f\u5e55\u200b\u6253\u5370\u200b<code>mapper.py</code>\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u7b2c\u200b 7 \u200b\u884c\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b<code>field</code>\u200b\u6ca1\u6709\u200b\u88ab\u200b\u5b9a\u4e49\u200b\u3002</p> <p>\u200b\u518d\u200b\u68c0\u67e5\u200b<code>mapper.py</code>\uff0c\u200b\u53d1\u73b0\u200b\u786e\u5b9e\u200b\u662f\u200b\u5c11\u200b\u5199\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5b57\u6bcd\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u53d8\u91cf\u540d\u200b\u51fa\u9519\u200b\u3002</p> <p></p> <p>\u200b\u4fee\u6539\u200b\u53d8\u91cf\u540d\u200b\u540e\u200b\uff0c\u200b\u518d\u6b21\u200b\u8c03\u8bd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u8fd0\u884c\u200b\u6b63\u5e38\u200b\uff1a</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/MapReduce-debug/#\u8c03\u8bd5reducerpy","title":"\u8c03\u8bd5\u200b<code>reducer.py</code>","text":"<p>\u200b\u5728\u200b\u8c03\u8bd5\u200b\u5b8c\u200b<code>mapper.py</code>\u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u5c06\u200b<code>mapper.py</code>\u200b\u7684\u200b\u8f93\u51fa\u200b\u4f5c\u4e3a\u200b<code>reducer.py</code>\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u5bf9\u200b<code>reducer.py</code>\u200b\u8fdb\u884c\u200b\u8c03\u8bd5\u200b\u3002</p> Bash<pre><code>cat ./*.txt | python ./mapper.py | python ./reducer.py\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\uff0c\u200b\u8bf4\u660e\u200b<code>reducer.py</code>\u200b\u5e94\u8be5\u200b\u4e5f\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/visualization-of-who-is-who/","title":"Visualization of Who is who","text":"<p>Who is who \u200b\u6570\u636e\u200b\u53ef\u89c6\u5316\u200b\uff0c\u200b\u4e86\u89e3\u200b DS&amp;BA \u200b\u9879\u76ee\u200b\u7684\u200b\u540c\u5b66\u200b\u60c5\u51b5\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u5fc3\u5f97\u4f53\u4f1a\u4e0e\u9047\u5230\u7684\u56f0\u96be","title":"\u5fc3\u5f97\u4f53\u4f1a\u200b\u4e0e\u200b\u9047\u5230\u200b\u7684\u200b\u56f0\u96be","text":"<p>Who is who \u200b\u4e2d\u200b\u7684\u200b\u65b0\u751f\u200b\u4ecb\u7ecd\u200b\u4fe1\u606f\u200b\u5927\u90e8\u5206\u200b\u90fd\u200b\u662f\u200b\u6587\u672c\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6709\u200b\u5f88\u591a\u200b\u662f\u975e\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u5728\u200b\u5bf9\u200b\u8fd9\u79cd\u200b\u6587\u672c\u200b\u7c7b\u578b\u200b\u5c45\u591a\u200b\u3001\u200b\u975e\u200b\u7ed3\u6784\u5316\u200b\u6570\u636e\u200b\u5c45\u591a\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\u65f6\u200b\uff0c\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u5c06\u200b\u5b83\u4eec\u200b\u5c3d\u91cf\u200b\u5904\u7406\u200b\u6210\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u5904\u7406\u8fc7\u7a0b\u200b\u4e2d\u200b\u9047\u5230\u200b\u4e86\u200b\u5f88\u591a\u200b\u7ec6\u5c0f\u200b\u7684\u200b\u4f46\u200b\u53c8\u200b\u5f71\u54cd\u200b\u5206\u6790\u200b\u7ed3\u679c\u200b\u7684\u200b\u56f0\u96be\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <ul> <li>\u200b\u6709\u200b\u7684\u200b\u540c\u5b66\u200b\u7528\u200b\u82f1\u6587\u200b\u586b\u5199\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5979\u200b\u586b\u200b\u7684\u200b\u201cCapricorn\u201d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b\u5176\u4ed6\u540c\u5b66\u200b\u586b\u200b\u7684\u200b\u201c\u200b\u6469\u7faf\u5ea7\u200b\u201d\uff0c\u200b\u6211\u4eec\u200b\u53ea\u80fd\u200b\u624b\u52a8\u200b\u5c06\u200b\u6570\u636e\u200b\u4fee\u6b63\u200b\u3002</li> <li>\u200b\u6709\u200b\u7684\u200b\u540c\u5b66\u200b\u5199\u200b\u4e86\u200b\u9519\u522b\u5b57\u200b\uff0c\u200b\u5979\u200b\u586b\u200b\u7684\u200b\u201c\u200b\u9b54\u7faf\u5ea7\u200b\u201d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b\u5176\u4ed6\u540c\u5b66\u200b\u586b\u200b\u7684\u200b\u201c\u200b\u6469\u7faf\u5ea7\u200b\u201d\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ea\u80fd\u200b\u624b\u52a8\u200b\u5c06\u200b\u6570\u636e\u200b\u4fee\u6b63\u200b\u3002</li> <li>\u200b\u6709\u200b\u7684\u200b\u540c\u5b66\u200b\u5728\u200b\u586b\u5199\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5728\u200b\u524d\u9762\u200b\u540e\u200b\u540e\u9762\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\uff0c\u200b\u5982\u200b\u201c\u200b\u53cc\u9c7c\u5ea7\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u53cc\u9c7c\u5ea7\u200b\u201d\uff0c\u200b\u8089\u773c\u200b\u770b\u4e0a\u53bb\u200b\u90fd\u200b\u662f\u200b\u53cc\u9c7c\u5ea7\u200b\uff0c\u200b\u4f46\u200b\u524d\u8005\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u5728\u200b\u7edf\u8ba1\u200b\u8bcd\u9891\u200b\u65f6\u200b\u51fa\u9519\u200b\u3002\u200b\u8fd9\u200b\u8981\u6c42\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u4ed4\u7ec6\u68c0\u67e5\u200b\u6570\u636e\u200b\uff0c\u200b\u5426\u5219\u200b\u53ef\u80fd\u200b\u90fd\u200b\u53d1\u73b0\u200b\u4e0d\u4e86\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u540e\u7eed\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5b58\u5728\u200b\u8bef\u5dee\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u65b9\u4fbf\u8fdb\u884c\u7ed3\u6784\u5316\u7684\u6570\u636e\u53ef\u89c6\u5316","title":"\u65b9\u4fbf\u200b\u8fdb\u884c\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u89c6\u5316","text":"","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u672c\u79d1\u662f\u5426\u5728\u4e0a\u6d77\u4e0e\u662f\u5426\u7ecf\u5386\u8fc7\u9694\u79bb\u505a\u8fc7\u5fd7\u613f\u8005","title":"\u672c\u79d1\u200b\u662f\u5426\u200b\u5728\u200b\u4e0a\u6d77\u200b\u4e0e\u200b\u662f\u5426\u200b\u7ecf\u5386\u200b\u8fc7\u200b\u9694\u79bb\u200b/\u200b\u505a\u8fc7\u200b\u5fd7\u613f\u8005","text":"","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#smart-\u5206\u6790\u8fc7\u7a0b","title":"SMART \u200b\u5206\u6790\u200b\u8fc7\u7a0b","text":"<p>\u2022Specific\uff1a\u200b\u63d0\u51fa\u200b\u95ee\u9898\u200b\uff1a\u200b\u672c\u79d1\u200b\u662f\u200b\u4e0a\u6d77\u200b\u9ad8\u6821\u200b\u7684\u200b\u540c\u5b66\u200b\uff0c\u200b\u7ecf\u5386\u200b\u8fc7\u200b\u9694\u79bb\u200b\u548c\u200b\u505a\u200b\u8fc7\u200b\u5fd7\u613f\u8005\u200b\u7684\u200b\u6bd4\u4f8b\u200b\u662f\u5426\u200b\u9ad8\u4e8e\u200b\u672c\u79d1\u200b\u975e\u200b\u4e0a\u6d77\u200b\u9ad8\u6821\u200b\u7684\u200b\u540c\u5b66\u200b\uff1f</p> <p>\u2022Measurable\uff1a\u200b\u7ecf\u5386\u200b\u8fc7\u200b\u9694\u79bb\u200b\u548c\u200b\u505a\u200b\u8fc7\u200b\u5fd7\u613f\u8005\u200b\u7684\u200b\u540c\u5b66\u200b\u6bd4\u4f8b\u200b\u53ef\u200b\u901a\u8fc7\u200b\u6570\u636e\u200b\u8868\u683c\u200b\u4e2d\u200b\u7684\u200b\u201c\u200b\u662f\u5426\u200b\u7ecf\u5386\u200b\u8fc7\u200b\u9694\u79bb\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u662f\u5426\u200b\u505a\u8fc7\u200b\u5fd7\u613f\u8005\u200b\u201d\u200b\u8fdb\u884c\u200b\u91cf\u5316\u200b\u3002\u200b\u672c\u79d1\u200b\u662f\u5426\u200b\u5728\u200b\u4e0a\u6d77\u200b\u5c31\u8bfb\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\u5224\u65ad\u200b\u3002</p> <p>\u2022Attainable\uff1a\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u5305\u542b\u200b 2022 \u200b\u7ea7\u200b\u540c\u5b66\u200b\u7684\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\u3001\u201c\u200b\u662f\u5426\u200b\u7ecf\u5386\u200b\u8fc7\u200b\u9694\u79bb\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u662f\u5426\u200b\u505a\u8fc7\u200b\u5fd7\u613f\u8005\u200b\u201d\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u2022Relevant\uff1a\u200b\u75ab\u60c5\u200b\u76f8\u5173\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9a8c\u8bc1\u200b\u81ea\u5df1\u200b\u7684\u200b\u76f4\u89c9\u200b\u731c\u60f3\u200b\u3002</p> <p>\u2022Time-Bound\uff1a\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u4eba\u4e3a\u200b\u5224\u65ad\u200b\u6587\u672c\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u7ed3\u6784\u5316\u200b\u3002\u200b\u9884\u8ba1\u200b\u9700\u8981\u200b\u82b1\u8d39\u200b\u4e0d\u5230\u200b 1 \u200b\u5c0f\u65f6\u200b\u3002</p> Python<pre><code># =====\u200b\u662f\u5426\u200b\u7ecf\u5386\u200b\u8fc7\u200b\u9694\u79bb\u200b\u6216\u200b\u505a\u200b\u8fc7\u200b\u5fd7\u613f\u8005\u200b=====\ndef isolation_volunteer(blocked, type):\nfig = plt.figure(figsize=(8, 6), dpi=100)\nax = plt.axes()\nfor line in [\"right\", \"top\"]:\nax.spines[line].set_visible(False)\n# \u200b\u53bb\u9664\u200b\u6a2a\u5750\u6807\u200b\u7684\u200b\u523b\u5ea6\u200b\u7ebf\u200b\nax.tick_params(bottom=False)\n# \u200b\u7ed8\u5236\u200b\u67f1\u72b6\u56fe\u200b\nplt.bar([0, 0.5], blocked.loc[type], color=\"#084082\", width=0.3, edgecolor=\"white\")\n# \u200b\u5728\u200b\u67f1\u5b50\u200b\u4e0a\u65b9\u200b\u663e\u793a\u200b\u7eb5\u5750\u6807\u200b\nplt.text(\n0,\nblocked.loc[type][\"\u200b\u672c\u79d1\u200b\u5728\u200b\u4e0a\u6d77\u200b\"] + 0.02,\n\"%1.0f\" % (100 * blocked.loc[type][\"\u200b\u672c\u79d1\u200b\u5728\u200b\u4e0a\u6d77\u200b\"]) + \"%\",\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nplt.text(\n0.5,\nblocked.loc[type][\"\u200b\u672c\u79d1\u200b\u4e0d\u200b\u5728\u200b\u4e0a\u6d77\u200b\"] + 0.02,\n\"%1.0f\" % (100 * blocked.loc[type][\"\u200b\u672c\u79d1\u200b\u4e0d\u200b\u5728\u200b\u4e0a\u6d77\u200b\"]) + \"%\",\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\n# \u200b\u6dfb\u52a0\u200b\u6a2a\u200b\u523b\u5ea6\u200b\nplt.xticks([0, 0.5], [\"\u200b\u672c\u79d1\u200b\u5728\u200b\u4e0a\u6d77\u200b\", \"\u200b\u672c\u79d1\u200b\u4e0d\u200b\u5728\u200b\u4e0a\u6d77\u200b\"], fontsize=16)\n# \u200b\u6dfb\u52a0\u200b\u7eb5\u200b\u523b\u5ea6\u200b\nplt.yticks(np.arange(0, 1.1, 0.5), fontsize=16)\n# \u200b\u663e\u793a\u200b\u767e\u5206\u6bd4\u200b\ndef to_percent(temp, position):\nreturn \"%1.0f\" % (100 * temp) + \"%\"\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\n# \u200b\u4fdd\u5b58\u200b\u4e3a\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nfig.savefig(\n\"output/{}.png\".format(type),\nformat=\"png\",\nfacecolor=\"white\",\nbbox_inches=\"tight\",\n)\n</code></pre> <p></p> <p></p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u661f\u5ea7\u5206\u5e03\u57fa\u7840\u67f1\u72b6\u56fe","title":"\u661f\u5ea7\u200b\u5206\u5e03\u200b\uff08\u200b\u57fa\u7840\u200b\u67f1\u72b6\u56fe\u200b\uff09","text":"","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#smart-\u5206\u6790\u8fc7\u7a0b_1","title":"SMART \u200b\u5206\u6790\u200b\u8fc7\u7a0b","text":"<p>\u2022Specific\uff1a\u200b\u63d0\u51fa\u200b\u95ee\u9898\u200b\uff1a\u200b\u5404\u4e2a\u200b\u661f\u5ea7\u200b\u7684\u200b\u540c\u5b66\u200b\u4eba\u6570\u200b\u662f\u5426\u200b\u5206\u5e03\u200b\u5747\u5300\u200b\uff1f</p> <p>\u2022Measurable\uff1a\u200b\u661f\u5ea7\u200b\u6570\u636e\u200b\u672c\u8eab\u200b\u662f\u200b\u89c4\u8303\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7edf\u8ba1\u200b\u8bcd\u9891\u200b\u6765\u200b\u83b7\u5f97\u200b\u6bcf\u4e2a\u200b\u661f\u5ea7\u200b\u7684\u200b\u4eba\u6570\u200b\u3002</p> <p>\u2022Attainable\uff1a\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u5e74\u7ea7\u200b\u540c\u5b66\u200b\u7684\u200b\u661f\u5ea7\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u2022Relevant\uff1a\u200b\u53ef\u4ee5\u200b\u9a8c\u8bc1\u200b\u81ea\u5df1\u200b\u7684\u200b\u76f4\u89c9\u200b\u731c\u60f3\u200b\uff1a\u200b\u5927\u5bb6\u200b\u51fa\u751f\u200b\u7684\u200b\u65e5\u671f\u200b\u662f\u5426\u200b\u5206\u5e03\u200b\u5747\u5300\u200b\u3002</p> <p>\u2022Time-Bound\uff1a\u200b\u9700\u8981\u200b\u4eba\u4e3a\u200b\u68c0\u67e5\u200b\u5e76\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\uff0c\u200b\u4f8b\u5982\u200b\u9519\u522b\u5b57\u200b\u3001\u200b\u4e2d\u82f1\u6587\u200b\u7b49\u200b\u3002\u200b\u9884\u8ba1\u200b\u82b1\u8d39\u200b\u4e0d\u5230\u200b 1 \u200b\u5c0f\u65f6\u200b\u3002</p> Python<pre><code># =====\u200b\u661f\u5ea7\u200b\u67f1\u72b6\u56fe\u200b=====\ndef draw_constellations(df):\n# \u200b\u7edf\u8ba1\u200b\u5404\u200b\u661f\u5ea7\u200b\u7684\u200b\u9891\u7387\u200b\nconstellations = df[\"\u200b\u661f\u5ea7\u200b\"].value_counts().reset_index()\n# \u200b\u4fee\u6539\u200b\u5217\u540d\u200b\nconstellations.rename(columns={\"\u200b\u661f\u5ea7\u200b\": \"\u200b\u4eba\u6570\u200b\"}, inplace=True)\n# \u200b\u5c06\u200b\u661f\u5ea7\u200b\u540d\u200b\u6620\u5c04\u200b\u4e3a\u200b\u5e26\u6709\u200b\u65e5\u671f\u200b\u7684\u200b\u661f\u5ea7\u200b\u540d\u200b\uff0c\u200b\u5e76\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u661f\u5ea7\u200b\u6309\u200b\u65f6\u95f4\u200b\u6307\u5b9a\u200b\u987a\u5e8f\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u661f\u5ea7\u200b\u6307\u5b9a\u200b\u989c\u8272\u200b\nconstellations_order = {\n\"\u200b\u6c34\u74f6\u5ea7\u200b\": [\"\u200b\u6c34\u74f6\u5ea7\u200b (1.20-2.18)\", 1, \"#1e3482\"],\n\"\u200b\u53cc\u9c7c\u5ea7\u200b\": [\"\u200b\u53cc\u9c7c\u5ea7\u200b (2.19-3.2)\", 2, \"pink\"],\n\"\u200b\u767d\u7f8a\u5ea7\u200b\": [\"\u200b\u767d\u7f8a\u5ea7\u200b (3.21-4.19)\", 3, \"red\"],\n\"\u200b\u91d1\u725b\u5ea7\u200b\": [\"\u200b\u91d1\u725b\u5ea7\u200b (4.20-5.20)\", 4, \"yellow\"],\n\"\u200b\u53cc\u5b50\u5ea7\u200b\": [\"\u200b\u53cc\u5b50\u5ea7\u200b (5.21-6.20)\", 5, \"#6ac8cf\"],\n\"\u200b\u5de8\u87f9\u5ea7\u200b\": [\"\u200b\u5de8\u87f9\u5ea7\u200b (6.21-7.21)\", 6, \"#dddbde\"],\n\"\u200b\u72ee\u5b50\u5ea7\u200b\": [\"\u200b\u72ee\u5b50\u5ea7\u200b (7.22-8.22)\", 7, \"gold\"],\n\"\u200b\u5904\u5973\u5ea7\u200b\": [\"\u200b\u5904\u5973\u5ea7\u200b (8.23-9.22)\", 8, \"#b7e1fb\"],\n\"\u200b\u5929\u79e4\u5ea7\u200b\": [\"\u200b\u5929\u79e4\u5ea7\u200b (9.23-10.22)\", 9, \"#e5e2f4\"],\n\"\u200b\u5929\u874e\u5ea7\u200b\": [\"\u200b\u5929\u874e\u5ea7\u200b (10.23-11.21)\", 10, \"#6766bc\"],\n\"\u200b\u5c04\u624b\u5ea7\u200b\": [\"\u200b\u5c04\u624b\u5ea7\u200b (11.22-12.21)\", 11, \"#f67524\"],\n\"\u200b\u6469\u7faf\u5ea7\u200b\": [\"\u200b\u6469\u7faf\u5ea7\u200b (12.22-1.19)\", 12, \"#5c5c5c\"],\n}\nconstellations[\"\u200b\u661f\u5ea7\u200b\"] = constellations[\"index\"].apply(\nlambda constellations: constellations_order[constellations][0]\n)\nconstellations[\"\u200b\u987a\u5e8f\u200b\"] = constellations[\"index\"].apply(\nlambda constellations: constellations_order[constellations][1]\n)\n# \u200b\u5347\u5e8f\u200b\u6392\u5217\u200b\u6240\u6709\u200b\u661f\u5ea7\u200b\uff0c\u200b\u5373\u200b 1 \u200b\u6708\u200b\u7684\u200b\u661f\u5ea7\u200b\u5728\u200b\u6700\u200b\u4e0a\u65b9\u200b\nconstellations.sort_values(by=[\"\u200b\u987a\u5e8f\u200b\"], inplace=True)\n# \u200b\u6311\u9009\u51fa\u200b\u9700\u8981\u200b\u7684\u200b\u5217\u200b\nconstellations = constellations[[\"\u200b\u661f\u5ea7\u200b\", \"\u200b\u4eba\u6570\u200b\"]]\n# \u200b\u8bbe\u7f6e\u200b\u753b\u5e03\u200b\u7684\u200b\u5c3a\u5bf8\u200b\nfig = plt.figure(figsize=(10, 7), dpi=300)\nax = plt.axes()\n# \u200b\u9690\u85cf\u200b\u4e0a\u4fa7\u200b\u548c\u200b\u53f3\u4fa7\u200b\u7684\u200b\u6846\u7ebf\u200b\nfor line in [\"right\", \"top\"]:\nax.spines[line].set_visible(False)\n# \u200b\u53bb\u9664\u200b\u6a2a\u5750\u6807\u200b\u7684\u200b\u523b\u5ea6\u200b\u7ebf\u200b\nax.tick_params(bottom=False)\n# \u200b\u7ed8\u5236\u200b\u67f1\u72b6\u56fe\u200b\nplt.bar(\nx=constellations[\"\u200b\u661f\u5ea7\u200b\"],\nheight=constellations[\"\u200b\u4eba\u6570\u200b\"],\ncolor=[value[2] for value in list(constellations_order.values())],\n)\n# \u200b\u6dfb\u52a0\u200b\u5e73\u5747\u7ebf\u200b\nplt.axhline(constellations[\"\u200b\u4eba\u6570\u200b\"].mean(), color=\"gray\", ls=\"--\", label=\"\u200b\u5e73\u5747\u200b\u4eba\u6570\u200b\")\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u5750\u6807\u200b\u6807\u7b7e\u200b\nplt.ylabel(\"\u200b\u4eba\u6570\u200b\", fontsize=12)\n# \u200b\u6dfb\u52a0\u200b\u6a2a\u200b\u523b\u5ea6\u200b\nplt.xticks(constellations[\"\u200b\u661f\u5ea7\u200b\"], rotation=90)\n# \u200b\u6dfb\u52a0\u200b\u7eb5\u200b\u523b\u5ea6\u200b\nplt.yticks(np.arange(0, 19, 2))\nplt.legend(loc=\"upper left\")\n# \u200b\u4fdd\u5b58\u200b\u4e3a\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nfig.savefig(\"output/\u200b\u661f\u5ea7\u200b.png\", format=\"png\", facecolor=\"white\", bbox_inches=\"tight\")\n</code></pre> <p></p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u672c\u79d1\u6bd5\u4e1a\u9662\u6821\u591a\u7ec4\u67f1\u72b6\u56fe","title":"\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\uff08\u200b\u591a\u7ec4\u200b\u67f1\u72b6\u56fe\u200b\uff09","text":"","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#smart-\u5206\u6790\u8fc7\u7a0b_2","title":"SMART \u200b\u5206\u6790\u200b\u8fc7\u7a0b","text":"<p>\u2022Specific\uff1a\u200b\u63d0\u51fa\u200b\u95ee\u9898\u200b\uff1aDS&amp;BA \u200b\u9879\u76ee\u200b\u4ece\u200b\u54ea\u4e9b\u200b\u672c\u79d1\u200b\u9662\u6821\u200b\u3001\u200b\u54ea\u4e9b\u200b\u672c\u79d1\u4e13\u4e1a\u200b\u62db\u751f\u200b\uff1f\u200b\u5404\u200b\u5e74\u5ea6\u200b\u4e4b\u95f4\u200b\u662f\u5426\u200b\u6709\u200b\u53d8\u5316\u200b\uff1f</p> <p>\u2022Measurable\uff1a\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\u6570\u636e\u200b\u672c\u8eab\u200b\u662f\u200b\u89c4\u8303\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7edf\u8ba1\u200b\u8bcd\u9891\u200b\u6765\u200b\u83b7\u5f97\u200b\u6bcf\u4e2a\u200b\u5b66\u6821\u200b\u7684\u200b\u4eba\u6570\u200b\u3002\u200b\u672c\u79d1\u4e13\u4e1a\u200b\u7684\u200b\u540d\u5b57\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u5dee\u5f02\u200b\uff0c\u200b\u4f8b\u5982\u200b\u201c\u200b\u7ecf\u6d4e\u200b\u7edf\u8ba1\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u7ecf\u6d4e\u200b\u7edf\u8ba1\u5b66\u200b\u201d\uff0c\u200b\u5176\u5b9e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e13\u4e1a\u200b\uff0c\u200b\u53ea\u662f\u200b\u540c\u5b66\u200b\u4eec\u200b\u586b\u200b\u7684\u200b\u4e0d\u540c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9002\u5408\u200b\u7528\u8bcd\u200b\u4e91\u56fe\u200b\u6765\u200b\u5c55\u73b0\u200b\u5173\u952e\u8bcd\u200b\u3002</p> <p>\u2022Attainable\uff1a\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u5e74\u7ea7\u200b\u540c\u5b66\u200b\u7684\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\u4fe1\u606f\u200b\u548c\u200b\u672c\u79d1\u4e13\u4e1a\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u2022Relevant\uff1a\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u5173\u6ce8\u200b DS&amp;BA \u200b\u9879\u76ee\u200b\u7684\u200b\u540c\u5b66\u200b\u63d0\u4f9b\u200b\u53c2\u8003\u200b\uff1a\u200b\u54ea\u4e9b\u200b\u9662\u6821\u200b\u3001\u200b\u54ea\u4e9b\u200b\u4e13\u4e1a\u200b\u7684\u200b\u540c\u5b66\u200b\u8fdb\u5165\u200b\u8fc7\u200b DS&amp;BA \u200b\u9879\u76ee\u200b\u3002</p> <p>\u2022Time-Bound\uff1a\u200b\u9700\u8981\u200b\u4eba\u4e3a\u200b\u68c0\u67e5\u200b\u5e76\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\uff0c\u200b\u4f8b\u5982\u200b\u9519\u522b\u5b57\u200b\u3001\u200b\u9662\u6821\u200b\u7f29\u5199\u200b\u7b49\u200b\u3002\u200b\u9884\u8ba1\u200b\u82b1\u8d39\u200b\u4e0d\u5230\u200b 2 \u200b\u5c0f\u65f6\u200b\u3002</p> Python<pre><code># =====\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\u67f1\u72b6\u56fe\u200b=====\ndef draw_undergraduate_university(df):\n# \u200b\u63d0\u53d6\u200b\u51fa\u200b\u5404\u200b\u5e74\u4efd\u200b\u7684\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\nundergraduate_university = df.groupby(\"\u200b\u5165\u5b66\u200b\u5e74\u4efd\u200b\")[\"\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\"].value_counts().to_frame()\n# \u200b\u4fee\u6539\u200b\u5217\u540d\u200b\nundergraduate_university.columns = [\"\u200b\u4eba\u6570\u200b\"]\n# \u200b\u91cd\u8bbe\u200b\u7d22\u5f15\u200b\uff0c\u200b\u907f\u514d\u200b\u5904\u7406\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\nundergraduate_university.reset_index(inplace=True)\n# \u200b\u5c06\u200b\u957f\u578b\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5bbd\u578b\u200b\u6570\u636e\u200b\nundergraduate_university = undergraduate_university.pivot(\nindex=\"\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b\", columns=\"\u200b\u5165\u5b66\u200b\u5e74\u4efd\u200b\", values=\"\u200b\u4eba\u6570\u200b\"\n)\n# \u200b\u5c06\u200b\u7a7a\u503c\u200b\u586b\u5145\u200b\u4e3a\u200b 0\nundergraduate_university.fillna(0, inplace=True)\n# \u200b\u5c06\u200b\u6570\u636e\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\nundergraduate_university.sort_values(\nby=[\"2022\", \"2021\", \"2020\"], ascending=False, na_position=\"last\", inplace=True\n)\n# \u200b\u521b\u5efa\u200b\u5e74\u4efd\u200b\u4e0e\u200b\u989c\u8272\u200b\u7684\u200b\u5b57\u5178\u200b\ncolor_year = {\n\"2020\": \"#4E9ACB\",\n\"2021\": \"#1E6DB2\",\n\"2022\": \"#084082\",\n}\n# \u200b\u521b\u5efa\u200b\u753b\u5e03\u200b\nfig = plt.figure(figsize=(18, 8), dpi=300)\nax = plt.axes()\n# \u200b\u9690\u85cf\u200b\u4e0a\u4fa7\u200b\u548c\u200b\u53f3\u4fa7\u200b\u7684\u200b\u6846\u7ebf\u200b\nfor line in [\"right\", \"top\"]:\nax.spines[line].set_visible(False)\n# \u200b\u53bb\u9664\u200b\u6a2a\u5750\u6807\u200b\u7684\u200b\u523b\u5ea6\u200b\u7ebf\u200b\nax.tick_params(bottom=False)\n# \u200b\u8bbe\u5b9a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u67f1\u5b50\u200b\u7684\u200b\u5bbd\u5ea6\u200b\nbar_width = 0.2\n# \u200b\u753b\u56fe\u200b\nfor year in undergraduate_university.columns:\n# \u200b\u6307\u5b9a\u200b\u5404\u5e74\u200b\u7684\u200b\u6240\u6709\u200b\u67f1\u5b50\u200b\u7684\u200b\u6a2a\u5750\u6807\u200b\u3002\u200b\u4e58\u4ee5\u200b 0.8 \u200b\u662f\u56e0\u4e3a\u200b\u4e00\u4e2a\u200b\u67f1\u5b50\u200b\u7fa4\u200b\u4e00\u5171\u200b\u53ea\u6709\u200b 3 \u200b\u4e2a\u200b\u67f1\u5b50\u200b\uff0c0.8 \u200b\u5c31\u200b\u4ee3\u8868\u200b 4 \u200b\u4e2a\u200b\u67f1\u5b50\u200b\uff0c\u200b\u5269\u4e0b\u200b\u4e00\u4e2a\u200b\u67f1\u5b50\u200b\u7684\u200b\u8ddd\u79bb\u200b\u7528\u6765\u200b\u5206\u5272\u200b\u6bcf\u4e2a\u200b\u67f1\u5b50\u200b\u7fa4\u200b\u3002\nglobals()[\"x_\" + year] = (\nnp.arange(undergraduate_university.shape[0]) * 0.8\n+ (int(year) - 2020) * bar_width\n)\n# \u200b\u83b7\u53d6\u200b\u5404\u5e74\u200b\u7684\u200b\u6240\u6709\u200b\u67f1\u5b50\u200b\u7684\u200b\u7eb5\u5750\u6807\u200b\nglobals()[\"data_\" + year] = undergraduate_university[year]\nplt.bar(\nglobals()[\"x_\" + year],\nglobals()[\"data_\" + year],\nwidth=bar_width,\ncolor=color_year[year],\nedgecolor=\"None\",\nlabel=year,\n)\n# \u200b\u5728\u200b\u67f1\u5b50\u200b\u4e0a\u65b9\u200b\u663e\u793a\u200b\u7eb5\u5750\u6807\u200b\nfor x, y in zip(globals()[\"x_\" + year], globals()[\"data_\" + year]):\nplt.text(x, y + 0.05, \"%.0f\" % y, ha=\"center\", va=\"bottom\")\n# \u200b\u6dfb\u52a0\u200b\u6a2a\u5750\u6807\u200b\nplt.xticks(\nglobals()[\n\"x_\"\n+ undergraduate_university.columns[\nint(undergraduate_university.shape[1] / 2)\n]\n],\nundergraduate_university.index,\nrotation=90,\n)\n# \u200b\u6dfb\u52a0\u200b\u56fe\u4f8b\u200b\nplt.legend()\n# \u200b\u4fdd\u5b58\u200b\u4e3a\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nfig.savefig(\n\"output/\u200b\u672c\u79d1\u6bd5\u4e1a\u200b\u9662\u6821\u200b.png\", format=\"png\", facecolor=\"white\", bbox_inches=\"tight\"\n)\n</code></pre> <p></p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u672c\u79d1\u4e13\u4e1a\u8bcd\u4e91\u56fe","title":"\u672c\u79d1\u4e13\u4e1a\u200b\uff08\u200b\u8bcd\u200b\u4e91\u56fe\u200b\uff09","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndef draw_word_cloud(\ntext_path, output_path, outline_image_path=imread(r\".\\data\\\u200b\u9ed1\u200b\u5706\u70b9\u200b.png\")\n):\n# \u200b\u5b57\u4f53\u200b\u8def\u5f84\u200b\nfont_path = r\"C:\\Windows\\Fonts\\simhei.ttf\"\n# \u200b\u8bfb\u53d6\u200b\u6587\u672c\u200b\ntext = open(text_path, encoding=\"UTF-8\").read()\n# \u200b\u914d\u7f6e\u200b\u8bcd\u200b\u4e91\u56fe\u200b\nwc = WordCloud(\nfont_path=font_path,\nbackground_color=\"white\",\nmax_words=2000,\nmask=outline_image_path,\nmax_font_size=100,\nrandom_state=42,\nwidth=1000,\nheight=860,\nmargin=2,\n)\n# \u200b\u751f\u6210\u200b\u8bcd\u200b\u4e91\u56fe\u200b\nwc.generate(text)\nplt.figure(dpi=300)\nplt.imshow(wc, interpolation=\"bilinear\")\nplt.axis(\"off\")\n# \u200b\u4fdd\u5b58\u200b\u4e3a\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nwc.to_file(output_path)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u5404\u5e74\u5ea6\u5165\u5b66\u7684\u672c\u79d1\u4e13\u4e1a","title":"\u5404\u200b\u5e74\u5ea6\u200b\u5165\u5b66\u200b\u7684\u200b\u672c\u79d1\u4e13\u4e1a","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u5404\u200b\u5e74\u5ea6\u200b\u5e74\u200b\u672c\u79d1\u4e13\u4e1a\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\nfor year in [\"2020\", \"2021\", \"2022\"]:\ndf[df[\"\u200b\u5165\u5b66\u200b\u5e74\u4efd\u200b\"] == year][\"\u200b\u672c\u79d1\u4e13\u4e1a\u200b\"].to_csv(\nr\".\\data\\undergraduate_major_{}.txt\".format(year), index=False, header=False\n)\ndraw_word_cloud(\ntext_path=r\".\\data\\undergraduate_major_{}.txt\".format(year),\noutput_path=r\".\\output\\{}\u200b\u5e74\u200b\u672c\u79d1\u4e13\u4e1a\u200b\u8bcd\u200b\u4e91\u56fe\u200b.png\".format(year),\n)\n</code></pre> <p>2020 \u200b\u5e74\u200b\uff1a</p> <p></p> <p>2021 \u200b\u5e74\u200b\uff1a</p> <p></p> <p>2022 \u200b\u5e74\u200b\uff1a</p> <p></p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u4e0d\u65b9\u4fbf\u8fdb\u884c\u7ed3\u6784\u5316\u7684\u6570\u636e\u53ef\u89c6\u5316","title":"\u4e0d\u200b\u65b9\u4fbf\u200b\u8fdb\u884c\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u89c6\u5316","text":"","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#smart-\u5206\u6790\u8fc7\u7a0b_3","title":"SMART \u200b\u5206\u6790\u200b\u8fc7\u7a0b","text":"<p>\u2022Specific\uff1a\u200b\u63d0\u51fa\u200b\u95ee\u9898\u200b\uff1aDS&amp;BA \u200b\u9879\u76ee\u200b\u7684\u200b\u540c\u5b66\u200b\u6709\u4f55\u200b\u5174\u8da3\u7231\u597d\u200b\uff1f\u200b\u53bb\u8fc7\u200b\u7684\u200b\u4ee5\u53ca\u200b\u60f3\u200b\u53bb\u200b\u7684\u200b\u5730\u65b9\u200b\u6709\u200b\u54ea\u4e9b\u200b\uff1f</p> <p>\u2022Measurable\uff1a\u200b\u5174\u8da3\u7231\u597d\u200b\u7b49\u200b\u6570\u636e\u200b\u90fd\u200b\u662f\u200b\u540c\u5b66\u200b\u4eec\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6587\u672c\u200b\u6570\u636e\u200b\uff0c\u200b\u672c\u8eab\u200b\u5e76\u200b\u4e0d\u200b\u89c4\u8303\u200b\uff0c\u200b\u56e0\u6b64\u200b\u96be\u4ee5\u200b\u8fdb\u884c\u200b\u7ed3\u6784\u5316\u200b\u3002\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u5c55\u73b0\u200b\u5173\u952e\u8bcd\u200b\u7684\u200b\u51fa\u73b0\u200b\u9891\u7387\u200b\u3002</p> <p>\u2022Attainable\uff1a\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u5e74\u7ea7\u200b\u540c\u5b66\u200b\u7684\u200b\u5174\u8da3\u7231\u597d\u200b\u7b49\u200b\u4fe1\u606f\u200b\u30022022 \u200b\u7ea7\u200b\u540c\u5b66\u200b\u8fd8\u200b\u5305\u542b\u200b\u53bb\u8fc7\u200b\u7684\u200b\u548c\u200b\u60f3\u200b\u53bb\u200b\u7684\u200b\u5730\u65b9\u200b\u7b49\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u2022Relevant\uff1a\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u4e86\u89e3\u200b DS&amp;BA \u200b\u9879\u76ee\u200b\u7684\u200b\u540c\u5b66\u200b\u7684\u200b\u751f\u6d3b\u200b\uff0c\u200b\u627e\u5230\u200b\u76f8\u540c\u200b\u7231\u597d\u200b\u7684\u200b\u540c\u5b66\u200b\u4eec\u200b\u3001\u200b\u7ec4\u7ec7\u200b\u5927\u5bb6\u200b\u90fd\u200b\u559c\u6b22\u200b\u7684\u200b\u805a\u4f1a\u200b\u6d3b\u52a8\u200b\u7b49\u200b\u3002</p> <p>\u2022Time-Bound\uff1a\u200b\u9700\u8981\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u3001\u200b\u751f\u6210\u200b\u8bcd\u200b\u4e91\u56fe\u200b\uff0c\u200b\u9884\u8ba1\u200b\u82b1\u8d39\u200b\u4e0d\u5230\u200b 2 \u200b\u5c0f\u65f6\u200b\u3002</p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u5174\u8da3\u7231\u597d","title":"\u5174\u8da3\u7231\u597d","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u5174\u8da3\u7231\u597d\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u5174\u8da3\u7231\u597d\u200b\"].to_csv(r\".\\data\\hobby.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\hobby.txt\",\noutput_path=r\".\\output\\\u200b\u5174\u8da3\u7231\u597d\u200b\u8bcd\u200b\u4e91\u56fe\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u7bee\u7403\u200b.png\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u6700\u559c\u6b22\u7684\u4e66","title":"\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u4e66","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u4e66\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u4e66\u200b\"].to_csv(r\".\\data\\favorite_book.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\favorite_book.txt\",\noutput_path=r\".\\output\\\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u4e66\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u4e66\u672c\u200b.png\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u6700\u559c\u6b22\u7684\u7535\u5f71","title":"\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u7535\u5f71","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u7535\u5f71\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u7535\u5f71\u200b\"].to_csv(r\".\\data\\favorite_movie.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\favorite_movie.txt\",\noutput_path=r\".\\output\\\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u7535\u5f71\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u7535\u5f71\u200b.png\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u6700\u559c\u6b22\u7684\u98df\u7269","title":"\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u98df\u7269","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u98df\u7269\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u98df\u7269\u200b\"].to_csv(r\".\\data\\favorite_food.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\favorite_food.txt\",\noutput_path=r\".\\output\\\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u98df\u7269\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u98df\u7269\u200b.jpg\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u53bb\u8fc7\u4ee4\u4f60\u5370\u8c61\u6700\u6df1\u523b\u7684\u5730\u65b9","title":"\u53bb\u8fc7\u200b\u4ee4\u200b\u4f60\u200b\u5370\u8c61\u200b\u6700\u200b\u6df1\u523b\u200b\u7684\u200b\u5730\u65b9","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u53bb\u8fc7\u200b\u4ee4\u200b\u4f60\u200b\u5370\u8c61\u200b\u6700\u200b\u6df1\u523b\u200b\u7684\u200b\u5730\u65b9\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u53bb\u8fc7\u200b\u4ee4\u200b\u4f60\u200b\u5370\u8c61\u200b\u6700\u200b\u6df1\u523b\u200b\u7684\u200b\u5730\u65b9\u200b\"].to_csv(\nr\".\\data\\most_impressing_place.txt\", index=False, header=False\n)\ndraw_word_cloud(\ntext_path=r\".\\data\\most_impressing_place.txt\",\noutput_path=r\".\\output\\\u200b\u53bb\u8fc7\u200b\u4ee4\u200b\u4f60\u200b\u5370\u8c61\u200b\u6700\u200b\u6df1\u523b\u200b\u7684\u200b\u5730\u65b9\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u5c71\u8109\u200b.jpg\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u75ab\u60c5\u7ed3\u675f\u540e\u6700\u60f3\u53bb\u7684\u5730\u65b9","title":"\u75ab\u60c5\u200b\u7ed3\u675f\u200b\u540e\u200b\u6700\u200b\u60f3\u200b\u53bb\u200b\u7684\u200b\u5730\u65b9","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u75ab\u60c5\u200b\u7ed3\u675f\u200b\u540e\u200b\u6700\u200b\u60f3\u200b\u53bb\u200b\u7684\u200b\u5730\u65b9\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u75ab\u60c5\u200b\u7ed3\u675f\u200b\u540e\u200b\u6700\u200b\u60f3\u200b\u53bb\u200b\u7684\u200b\u5730\u65b9\u200b\"].to_csv(r\".\\data\\most_attractive_place.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\most_attractive_place.txt\",\noutput_path=r\".\\output\\\u200b\u75ab\u60c5\u200b\u7ed3\u675f\u200b\u540e\u200b\u6700\u200b\u60f3\u200b\u53bb\u200b\u7684\u200b\u5730\u65b9\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u5c71\u8109\u200b.jpg\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u6700\u559c\u6b22\u7684\u660e\u661f\u6216\u827a\u672f\u5bb6","title":"\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u660e\u661f\u200b\u6216\u200b\u827a\u672f\u5bb6","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u660e\u661f\u200b\u6216\u200b\u827a\u672f\u5bb6\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u660e\u661f\u200b\u6216\u200b\u827a\u672f\u5bb6\u200b\"].to_csv(r\".\\data\\favorite_artist.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\favorite_artist.txt\",\noutput_path=r\".\\output\\\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u660e\u661f\u200b\u6216\u200b\u827a\u672f\u5bb6\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u660e\u661f\u200b.jpg\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/visualization-of-who-is-who/#\u6700\u559c\u6b22\u7684\u6b4c","title":"\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u6b4c","text":"Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u6b4c\u8bcd\u200b\u4e91\u56fe\u200b=====\ndf[\"\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u6b4c\u200b\"].to_csv(r\".\\data\\favorite_song.txt\", index=False, header=False)\ndraw_word_cloud(\ntext_path=r\".\\data\\favorite_song.txt\",\noutput_path=r\".\\output\\\u200b\u6700\u200b\u559c\u6b22\u200b\u7684\u200b\u6b4c\u200b.png\",\noutline_image_path=imread(r\".\\data\\\u200b\u97f3\u4e50\u200b.jpg\"),\n)\n</code></pre>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/","title":"\u591a\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u7684\u200b\u63a8\u5bfc\u200b\u4e0e\u200b Python \u200b\u5b9e\u73b0","text":"<p>\u200b\u591a\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u5e76\u7528\u200b Python \u200b\u5b9e\u73b0\u200b OvO\u3001OvR \u200b\u548c\u200b\u76f4\u63a5\u200b\u6784\u9020\u200b\u591a\u5143\u200b Logistic \u200b\u6a21\u578b\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u6570\u5b66\u63a8\u5bfc","title":"\u6570\u5b66\u200b\u63a8\u5bfc","text":"<p>\u200b\u8bb0\u200b \\(x=\\left[\\begin{array}{l} 1 \\\\\\ x \\end{array}\\right]\\)\uff0c\u200b\u5373\u200b\u4e0b\u6587\u200b\u7684\u200b\u63a8\u5bfc\u200b\u4e2d\u200b\uff0c\\(x\\) \u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b\u5728\u200b\u539f\u59cb\u200b\u7279\u5f81\u200b\u7684\u200b\u4e0a\u65b9\u200b\u6dfb\u52a0\u200b\u5143\u7d20\u200b\u201c \\(1\\) \u201d\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u5bf9\u6570\u51e0\u7387\u6a21\u578b\u662f\u7ebf\u6027\u6a21\u578b","title":"\u5bf9\u6570\u200b\u51e0\u7387\u200b\u6a21\u578b\u200b\u662f\u200b\u7ebf\u6027\u200b\u6a21\u578b","text":"<p>\u200b\u7531\u200b\u4e0a\u8ff0\u200b\u5173\u4e8e\u200b \\(x\\) \u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u5728\u200b\u591a\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u4e0b\u200b\uff0c\u200b\u6709\u200b</p> \\[ \\log \\frac{P(Y=k \\mid X=x)}{P(Y=K \\mid X=x)}=\\beta_k^{\\top} x,\\quad k=1,2, \\cdots, K-1 \\] <p>\u200b\u4e0a\u5f0f\u200b\u4e2d\u200b\uff0c\\(x\\) \u200b\u548c\u200b \\(\\beta_k\\) \u200b\u5747\u200b\u662f\u200b \\(n+1\\) \u200b\u7ef4\u5217\u200b\u5411\u91cf\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u5f85\u6c42\u89e3\u7684-logistic-\u6a21\u578b","title":"\u5f85\u200b\u6c42\u89e3\u200b\u7684\u200b Logistic \u200b\u6a21\u578b","text":"<p>\u200b\u591a\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u7684\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u4e3a\u200b</p> \\[ \\theta=\\lbrace\\beta_1, \\beta_2, \\ldots, \\beta_{k-1}\\rbrace \\] <p>\u200b\u5f53\u200b\\(k=1,2, \\cdots, K-1\\)\u200b\u65f6\u200b\uff0c</p> \\[ \\begin{aligned} P\\left(y_i=k \\mid x\\right)&amp;=\\frac{P\\left(y_i=k \\mid x\\right)}{1}\\\\\\ &amp;=\\frac{P\\left(y_i=k \\mid x\\right)}{P\\left(y_i=K \\mid x\\right)+\\sum\\limits_{l=1}^{K-1} P\\left(y_i=l \\mid x\\right)}\\\\\\ &amp;=\\frac{\\frac{P\\left(y_i=k \\mid x\\right)}{P\\left(y_i=K \\mid x\\right)}} {\\frac{P\\left(y_i=K \\mid x\\right)}{P\\left(y_i=K \\mid x\\right)}+\\frac{\\sum\\limits_{l=1}^{K-1} P\\left(y_i=l \\mid x\\right)}{P\\left(y_i=K \\mid x\\right)}}\\\\\\ &amp;=\\frac{e^{\\beta_{k} ^{\\top} x}}{1+\\sum\\limits_{l=1}^{K-1} e^{\\beta_{l} ^{\\top} x}} \\end{aligned} \\] <p>\u200b\u5f53\u200b\\(k=K\\)\u200b\u65f6\u200b\uff0c</p> \\[ \\begin{aligned} P\\left(y_i=K \\mid x\\right)=\\frac{1}{1+\\sum_{l=1}^{K-1} e^{\\beta_l ^{\\top} x}} \\end{aligned} \\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u4f3c\u7136\u51fd\u6570","title":"\u4f3c\u7136\u200b\u51fd\u6570","text":"\\[ L(\\theta)=\\prod_{i=1}^n \\prod_{k=1}^K P\\left(y_i=k \\mid x ; \\theta\\right)^{I\\left(y_i=k\\right)} \\] <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b\\(I\\left(y_i=k\\right)\\)\u200b\u4f5c\u4e3a\u200b\u793a\u6027\u200b\u51fd\u6570\u200b\u653e\u5728\u200b\u6307\u6570\u200b\u90e8\u5206\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u8bc6\u522b\u200b\u6837\u672c\u200b\u7684\u200b\u89c2\u6d4b\u200b\u503c\u200b\uff0c\u200b\u4e5f\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u6c42\u5bfc\u200b\uff0c\u200b\u56e0\u6b64\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5341\u5206\u200b\u5de7\u5999\u200b\u7684\u200b\u529e\u6cd5\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u76ee\u6807\u51fd\u6570\u635f\u5931\u51fd\u6570","title":"\u76ee\u6807\u200b\u51fd\u6570\u200b\uff08\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff09","text":"<p>\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b\\(\\theta\\)\uff0c\u200b\u4f7f\u5f97\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u6700\u5927\u200b\uff0c\u200b\u5373\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u7684\u200b\u76f8\u53cd\u6570\u200b\u6700\u5c0f\u200b\u3002</p> \\[ \\begin{aligned} l(\\theta)=&amp;-\\log L(\\theta) \\\\\\ =&amp;-\\sum_{i=1}^n \\sum_{k=1}^K I\\left(y_i=k\\right) \\log P\\left(y_{i}=k \\mid x_{i; \\theta}\\right) \\\\\\ =&amp;-\\sum_{i=1} ^n \\left(\\sum_{k=1}^{K-1} I\\left(y_{i}=k\\right)\\left(\\beta_k ^{\\top} x_i-\\log \\left(1+\\sum_{l=1}^{K-1} e^{\\beta_l ^{\\top} x_i}\\right)\\right)\\right.\\\\\\ &amp;\\left.+I\\left(y_i=K\\right)\\left(-\\log \\left(1+\\sum_{l=1}^{K-1} e^{\\beta_l ^{\\top} x_i}\\right)\\right)\\right) \\\\\\ =&amp;-\\sum_{i=1} ^n \\left(\\sum_{k=1}^{K-1} I\\left(y_i=k\\right) \\beta_k ^{\\top} x_i-\\log \\left(1+\\sum_{l=1}^{K-1} e^{\\beta_l ^{\\top} x_i}\\right) \\sum_{k=1}^K I\\left(y_i=k\\right)\\right) \\\\\\ =&amp; \\sum_{i=1} ^n \\left[-\\sum_{k=1}^{K-1} I\\left(y_i=k\\right) \\beta_k ^{\\top} x_i+\\log \\left(1+\\sum_{l=1}^{K-1} e^{\\beta_l ^{\\top} x_i}\\right)\\right] \\end{aligned} \\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u6c42\u68af\u5ea6\u4e0b\u964d\u6cd5\u7684\u8fed\u4ee3\u516c\u5f0f","title":"\u6c42\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u7684\u200b\u8fed\u4ee3\u200b\u516c\u5f0f","text":"<p>\u200b\u5148\u200b\u5c06\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u5bf9\u200b\\(\\theta\\)\u200b\u6c42\u5bfc\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\\(k=1,2, \\cdots, K-1\\)\uff0c\u200b\u6709\u200b</p> \\[ \\begin{aligned} \\frac{\\partial l(\\theta)}{\\partial \\beta_k} &amp;=\\sum_{i=1} ^n \\left[-I\\left(y_i=k\\right) x_i+\\frac{e^{\\beta_k ^{\\top} x_i} x_i}{1+\\sum\\limits_{l=1}^{K-1} e^{\\beta_l ^{\\top} x_i}}\\right] \\\\\\ &amp;=\\sum_{i=1} ^n \\left(P\\left(y_i=k \\mid x\\right)-I\\left(y_i=k\\right)\\right) x_i \\end{aligned} \\] <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u7684\u200b\u8fed\u4ee3\u200b\u516c\u5f0f\u200b\u4e3a\u200b</p> \\[ \\beta_{k}^{'}=\\beta_k-\\sum_{i=1}^n\\left(P\\left(y_i=k \\mid x\\right)-I\\left(y_i=k\\right)\\right) x_i \\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#python-\u5b9e\u73b0\u591a\u5143\u903b\u8f91\u56de\u5f52","title":"Python \u200b\u5b9e\u73b0\u200b\u591a\u5143\u200b\u903b\u8f91\u200b\u56de\u5f52","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u5bfc\u5165\u76f8\u5173\u5305","title":"\u5bfc\u5165\u200b\u76f8\u5173\u200b\u5305","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u6570\u636e\u5904\u7406\u200b\u76f8\u5173\u200b\u7684\u200b\u5305\u200b\nimport pandas as pd\nimport numpy as np\nfrom scipy import stats\n# \u200b\u5bfc\u5165\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b\u5305\u200b\nfrom sklearn.linear_model import LogisticRegression as LR\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\n# \u200b\u5bfc\u5165\u200b\u7ed8\u5236\u200b\u5faa\u73af\u200b\u8fdb\u5ea6\u6761\u200b\u7684\u200b\u5305\u200b\nfrom tqdm import tqdm\n# \u200b\u5ffd\u7565\u200b\u8b66\u544a\u200b\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u5bfc\u5165\u6570\u636e","title":"\u5bfc\u5165\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u6570\u636e\u200b\ndata = pd.read_csv(\"letter_recognition.csv\")\n# \u200b\u5212\u5206\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\nX = data.iloc[:, 1:]\ny = data.iloc[:, :1]\n# \u200b\u4e3a\u200b\u5b57\u6bcd\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\ny = LabelEncoder().fit_transform(y.values.ravel())\n# \u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.4, shuffle=False)\n# \u200b\u63d0\u53d6\u200b\u552f\u4e00\u200b\u7684\u200b\u6807\u7b7e\u200b\nlabels = np.unique(y_train)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#one-vs-one-\u7b97\u6cd5","title":"One vs. One \u200b\u7b97\u6cd5","text":"Python<pre><code># OvO\ncount = 0\n# \u200b\u5c06\u200b\u9884\u6d4b\u503c\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0\ny_pred = np.zeros((len(y_test), 1))\npbar = tqdm(range(len(labels)))\nfor i in pbar:\nfor j in range(i + 1, len(labels)):\n# \u200b\u8f93\u51fa\u200b\u8fdb\u5ea6\u6761\u200b\npbar.set_description(\"\u200b\u6b63\u5728\u200b\u6784\u5efa\u200b\u7b2c\u200b{}_{}\u200b\u5206\u7c7b\u5668\u200b\".format(labels[i] + 1, labels[j] + 1))\ncount += 1\n# \u200b\u53ea\u200b\u4f7f\u7528\u200b\u5c5e\u4e8e\u200b\u7b2c\u200b i \u200b\u7c7b\u200b\u548c\u200b\u7b2c\u200b j \u200b\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\ny_train_ = np.where(\nnp.logical_or(y_train == labels[i], y_train == labels[j]), y_train, np.NAN\n)\nX_train_ = X_train.iloc[~np.isnan(y_train_)]\n# \u200b\u4e8c\u5143\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\nglobals()[\"LR_{}_{}\".format(labels[i], labels[j])] = LR().fit(\nX_train_, y_train_[~np.isnan(y_train_)]\n)\n# \u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u9884\u6d4b\u200b\nglobals()[\"y_pred_{}_{}\".format(labels[i], labels[j])] = globals()[\n\"LR_{}_{}\".format(labels[i], labels[j])\n].predict(X_test)\n# \u200b\u5408\u5e76\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\ny_pred = np.append(\ny_pred,\nglobals()[\"y_pred_{}_{}\".format(labels[i], labels[j])].reshape(-1, 1),\naxis=1,\n)\nprint(\"\u200b\u4e00\u5171\u200b\u6784\u5efa\u200b\u4e86\u200b{}\u200b\u4e2a\u200b\u5206\u7c7b\u5668\u200b\".format(count))\n# \u200b\u5220\u9664\u200b\u7b2c\u4e00\u5217\u200b\u7684\u200b\u521d\u59cb\u200b\u96f6\u503c\u200b\ny_pred = np.delete(y_pred, 0, axis=1)\n# \u200b\u4ee5\u200b\u6240\u6709\u200b\u5206\u7c7b\u5668\u200b\u7684\u200b\u5206\u7c7b\u200b\u7ed3\u679c\u200b\u7684\u200b\u4f17\u6570\u200b\u4f5c\u4e3a\u200b\u6700\u7ec8\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\ny_pred = np.squeeze(stats.mode(y_pred, axis=1)[0])\nerror_rate_OvO = 1 - accuracy_score(y_test, y_pred)\n# \u200b\u67e5\u770b\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\npd.DataFrame(\nnp.append(y_pred.reshape(-1, 1), y_test.reshape(-1, 1), axis=1),\ncolumns=[\"\u200b\u9884\u6d4b\u503c\u200b\", \"\u200b\u771f\u5b9e\u200b\u503c\u200b\"],\ndtype=int,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#one-vs-rest-\u7b97\u6cd5","title":"One vs. Rest \u200b\u7b97\u6cd5","text":"Python<pre><code># OvR\ncount = 0\n# \u200b\u5c06\u200b\u9884\u6d4b\u503c\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0\ny_pred = np.zeros((len(y_test), 1))\npbar = tqdm(range(len(labels)))\nfor i in pbar:\n# \u200b\u8f93\u51fa\u200b\u8fdb\u5ea6\u6761\u200b\npbar.set_description(\"\u200b\u6b63\u5728\u200b\u6784\u5efa\u200b\u7b2c\u200b{}\u200b\u5206\u7c7b\u5668\u200b\".format(labels[i] + 1))\ncount += 1\n# \u200b\u53ea\u200b\u4f7f\u7528\u200b\u5c5e\u4e8e\u200b\u7b2c\u200b i \u200b\u7c7b\u200b\u548c\u200b\u7b2c\u200b j \u200b\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\ny_train_ = np.where(y_train == labels[i], y_train, -1)\n# \u200b\u4e8c\u5143\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\nglobals()[\"LR_{}\".format(labels[i])] = LR().fit(X_train, y_train_)\n# \u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u9884\u6d4b\u200b\nglobals()[\"y_pred_{}\".format(labels[i])] = globals()[\n\"LR_{}\".format(labels[i])\n].predict_proba(X_test)[:, 1]\n# \u200b\u5408\u5e76\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\ny_pred = np.append(\ny_pred, globals()[\"y_pred_{}\".format(labels[i])].reshape(-1, 1), axis=1\n)\nprint(\"\u200b\u4e00\u5171\u200b\u6784\u5efa\u200b\u4e86\u200b{}\u200b\u4e2a\u200b\u5206\u7c7b\u5668\u200b\".format(count))\n# \u200b\u5220\u9664\u200b\u7b2c\u4e00\u5217\u200b\u7684\u200b\u521d\u59cb\u200b\u96f6\u503c\u200b\ny_pred = np.delete(y_pred, 0, axis=1)\n# \u200b\u4ee5\u200b\u6240\u6709\u200b\u5206\u7c7b\u5668\u200b\u7684\u200b\u5206\u7c7b\u200b\u6982\u7387\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u503c\u200b\u4f5c\u4e3a\u200b\u6700\u7ec8\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\ny_pred = np.argmax(y_pred, axis=1)\nerror_rate_OvR = 1 - accuracy_score(y_test, y_pred)\n# \u200b\u67e5\u770b\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\npd.DataFrame(\nnp.append(y_pred.reshape(-1, 1), y_test.reshape(-1, 1), axis=1),\ncolumns=[\"\u200b\u9884\u6d4b\u503c\u200b\", \"\u200b\u771f\u5b9e\u200b\u503c\u200b\"],\ndtype=int,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u76f4\u63a5\u6784\u9020\u591a\u5143\u903b\u8f91\u56de\u5f52\u6a21\u578b","title":"\u76f4\u63a5\u200b\u6784\u9020\u200b\u591a\u5143\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u6a21\u578b","text":"Python<pre><code># \u200b\u76f4\u63a5\u200b\u6784\u9020\u200b\u591a\u5143\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\n# \u200b\u591a\u5143\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\nLR_multiclass = LR(multi_class=\"multinomial\").fit(X_train, y_train)\n# \u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u9884\u6d4b\u200b\ny_pred_multiclass = LR_multiclass.predict(X_test)\nerror_rate_multiclass = 1 - accuracy_score(y_test, y_pred_multiclass)\n# \u200b\u67e5\u770b\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\npd.DataFrame(\nnp.append(y_pred_multiclass.reshape(-1, 1), y_test.reshape(-1, 1), axis=1),\ncolumns=[\"\u200b\u9884\u6d4b\u503c\u200b\", \"\u200b\u771f\u5b9e\u200b\u503c\u200b\"],\ndtype=int,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u6bd4\u8f83\u4e09\u79cd\u65b9\u6cd5\u7684\u8bef\u5dee\u7387","title":"\u6bd4\u8f83\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bef\u5dee\u7387","text":"Python<pre><code># \u200b\u8f93\u51fa\u200b\u5404\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bef\u5dee\u7387\u200b\nfor method in [\"OvO\", \"OvR\", \"multiclass\"]:\nprint(method + \"\u200b\u7684\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b{:.2%}\".format(globals()[\"error_rate_\" + method]), sep=\"\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/math-and-python-implementation-for-multi-class-logistic-regression/#\u6bd4\u8f83\u4e09\u79cd\u65b9\u6cd5\u7684\u8fd0\u884c\u901f\u5ea6","title":"\u6bd4\u8f83\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8fd0\u884c\u200b\u901f\u5ea6","text":"<ul> <li> <p>OvO \u200b\u9700\u8981\u200b\u6784\u9020\u200b\\(\\frac{K\\times (K-1)}{2}\\)\u200b\u4e2a\u200b\u4e8c\u5143\u200b\u5206\u7c7b\u5668\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8017\u65f6\u200b\u8f83\u957f\u200b\uff08\u200b\u672c\u4f8b\u200b\u8017\u65f6\u200b 16 \u200b\u79d2\u200b\uff09\uff0c\u200b\u4f46\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u66f4\u200b\u51c6\u786e\u200b\u3002</p> </li> <li> <p>OvR \u200b\u9700\u8981\u200b\u6784\u9020\u200b\\(K\\)\u200b\u4e2a\u200b\u4e8c\u5143\u200b\u5206\u7c7b\u5668\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8017\u65f6\u200b\u8f83\u200b\u77ed\u200b\uff08\u200b\u672c\u4f8b\u200b\u8017\u65f6\u200b 3 \u200b\u79d2\u200b\uff09\uff0c\u200b\u4f46\u200b\u7ed3\u679c\u200b\u4e0d\u5982\u200b OvO \u200b\u51c6\u786e\u200b\u3002</p> </li> </ul>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/movie-analysis-based-on-spark-rdd/","title":"\u57fa\u4e8e\u200b Spark RDD \u200b\u7684\u200b\u7535\u5f71\u200b\u70b9\u8bc4\u200b\u6570\u636e\u5206\u6790","text":"<p>\u200b\u5b66\u4e60\u200b Spark \u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5\u200b\uff0c\u200b\u5229\u7528\u200b Spark \u200b\u7684\u200b map\u3001sort\u3001join\u3001reduce \u200b\u7b49\u200b\u529f\u80fd\u200b\uff0c\u200b\u5bf9\u200b\u7535\u5f71\u200b\u70b9\u8bc4\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7b80\u5355\u200b\u7684\u200b\u5206\u6790\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/movie-analysis-based-on-spark-rdd/#\u521d\u59cb\u5316-spark-context","title":"\u521d\u59cb\u5316\u200b Spark Context","text":"Python<pre><code>import findspark\n# \u200b\u521d\u59cb\u5316\u200b spark \u200b\u73af\u5883\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u5168\u5c40\u200b\u73af\u5883\u53d8\u91cf\u200b\u5df2\u7ecf\u200b\u8bbe\u7f6e\u200b SPARK_HOME, PYSPARK_PYTHON \u200b\u5219\u200b\u4e0d\u200b\u9700\u8981\u200b\u7ed9\u200b\u6b64\u200b\u51fd\u6570\u200b\u4f20\u5165\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002\nfindspark.init()\nfrom pyspark.conf import SparkConf\nfrom pyspark.sql import SparkSession\nappname = \"rdd movies - 1. top 10 - user_47\"  # \u200b\u4efb\u52a1\u200b\u540d\u79f0\u200b\uff08\u200b\u5c06\u200b user_xx \u200b\u66ff\u6362\u6210\u200b\u4f60\u200b\u7684\u200b\u53f7\u7801\u200b\uff09\nmaster = \"yarn\"  # spark \u200b\u96c6\u7fa4\u200b\u5730\u5740\u200b\n# spark \u200b\u8d44\u6e90\u914d\u7f6e\u200b\nconf = SparkConf().setAppName(appname).setMaster(master)\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\n# \u200b\u83b7\u53d6\u200b\u4f5c\u4e1a\u200b\u4e0a\u4e0b\u6587\u200b\nsc = spark.sparkContext\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/movie-analysis-based-on-spark-rdd/#\u51c6\u5907\u6570\u636e","title":"\u51c6\u5907\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u200b HDFS \u200b\u6587\u4ef6\u200b\nmovies = sc.textFile(\"hdfs://node1:8020/text/ml_1m/movies.dat\")\nratings = sc.textFile(\"hdfs://node1:8020/text/ml_1m/ratings.dat\")\nusers = sc.textFile(\"hdfs://node1:8020/text/ml_1m/users.dat\")\n</code></pre> Python<pre><code># \u200b\u8fc7\u6ee4\u200b\u5f02\u5e38\u200b\u6570\u636e\u200b\nmovies = movies.filter(\nlambda movie: (len(movie.strip()) &gt; 0) and (len(movie.split(\"::\")) == 3)\n)\nmovies.cache()\nratings = ratings.filter(\nlambda rating: (len(rating.strip()) &gt; 0) and (len(rating.split(\"::\")) == 4)\n)\nratings.cache()\nusers = users.filter(\nlambda user: (len(user.strip()) &gt; 0) and (len(user.split(\"::\")) == 5)\n)\nusers.cache()\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/movie-analysis-based-on-spark-rdd/#\u8f93\u51fa\u6240\u6709\u7535\u5f71\u4e2d\u8bc4\u5206\u6700\u9ad8\u7684\u524d-10-\u4e2a\u7535\u5f71\u540d\u79f0\u548c\u5e73\u5747\u8bc4\u5206","title":"\u8f93\u51fa\u200b\u6240\u6709\u200b\u7535\u5f71\u200b\u4e2d\u200b\u8bc4\u5206\u200b\u6700\u9ad8\u200b\u7684\u200b\u524d\u200b 10 \u200b\u4e2a\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u548c\u200b\u5e73\u5747\u200b\u8bc4\u5206","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u8f93\u5165\u200b\u3010\u200b\u7535\u5f71\u200b ID \u200b\u548c\u200b\u8bc4\u5206\u200b\u3011\u3001\u3010\u200b\u7535\u5f71\u200b ID \u200b\u548c\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\u200b\u548c\u200b\u3010\u200b\u8bc4\u5206\u200b\u524d\u200b n \u200b\u4f4d\u200b\u3011\uff0c\u200b\u8f93\u51fa\u200b\u3010\u200b\u8bc4\u5206\u200b\u6700\u9ad8\u200b\u7684\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u548c\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\ndef top(ratings_data, movies_data, n):\n# \u200b\u4ece\u200b ratings_data \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u8bc4\u5206\u200b\u3011\uff0c\u200b\u5e76\u200b\u5728\u200b value \u200b\u4e2d\u200b\u8865\u5145\u200b\u201c1\u201d\u200b\u4f5c\u4e3a\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u3011\nmovieID_rating = ratings_data.map(\nlambda x: (int(x.split(\"::\")[1]), (int(x.split(\"::\")[2]), 1))\n)\n# \u200b\u5bf9\u540c\u200b\u4e00\u90e8\u200b\u7535\u5f71\u200b\uff0c\u200b\u52a0\u603b\u200b\u3010\u200b\u8bc4\u5206\u200b\u3011\u200b\u548c\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u3011\uff0c\u200b\u5f97\u5230\u200b\u3010\u200b\u8bc4\u5206\u200b\u548c\u200b\u3011\u200b\u548c\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\nmovieID_rating_reduced = movieID_rating.reduceByKey(\nlambda x, y: (x[0] + y[0], x[1] + y[1])\n)\n# \u200b\u5bf9\u540c\u200b\u4e00\u90e8\u200b\u7535\u5f71\u200b\uff0c\u200b\u7528\u200b\u3010\u200b\u8bc4\u5206\u200b\u548c\u200b\u3011\u200b\u9664\u4ee5\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\uff0c\u200b\u5f97\u5230\u200b\u3010\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\nmovieID_rating_average = movieID_rating_reduced.mapValues(lambda x: x[0] / x[1])\n# \u200b\u6839\u636e\u200b\u6bcf\u200b\u4e00\u90e8\u200b\u7535\u5f71\u200b\u7684\u200b\u3010\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\u200b\u4ece\u5927\u5230\u200b\u5c0f\u200b\u6392\u5e8f\u200b\nmovieID_rating_descending = movieID_rating_average.sortBy(lambda x: x[1], False)\n# \u200b\u63d0\u53d6\u200b\u3010\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\u200b\u6700\u9ad8\u200b\u7684\u200b n \u200b\u90e8\u200b\u7535\u5f71\u200b\u7684\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\uff0c\u200b\u5e76\u200b\u5b58\u5165\u200b\u4e00\u4e2a\u200b RDD\nmovieID_rating_top_n = sc.parallelize(movieID_rating_descending.take(n))\n# \u200b\u4ece\u200b movies_data \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\nmovieID_movieName = movies_data.map(\nlambda x: (int(x.split(\"::\")[0]), x.split(\"::\")[1])\n)\n# \u200b\u5c06\u200b\u3010\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\u200b\u5408\u5e76\u200b\u5230\u200b\u3010\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\u200b\u6700\u9ad8\u200b\u7684\u200b n \u200b\u90e8\u200b\u7535\u5f71\u200b\uff0c\u200b\u5e76\u200b\u63d0\u53d6\u200b\u3010\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\u200b\u548c\u200b\u3010\u200b\u5e73\u5747\u200b\u8bc4\u5206\u200b\u3011\nmovieName_rating_top_n = movieID_rating_top_n.join(movieID_movieName).map(\nlambda x: (x[1][1], x[1][0])\n)\nreturn movieName_rating_top_n\n</code></pre> Python<pre><code>top10 = top(ratings, movies, 10).collect()\n</code></pre> Python<pre><code>for line in top10:\nprint(line[0], \"&gt;&gt;&gt;rating=\", line[1], sep=\"\")\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/movie-analysis-based-on-spark-rdd/#\u8f93\u51fa\u6240\u6709\u7535\u5f71\u4e2d\u6700\u53d7\u7537\u6027\u559c\u7231\u7684\u7535\u5f71-top-10-\u53ca\u5176\u5e73\u5747\u8bc4\u5206","title":"\u8f93\u51fa\u200b\u6240\u6709\u200b\u7535\u5f71\u200b\u4e2d\u200b\u6700\u53d7\u200b\u7537\u6027\u200b\u559c\u7231\u200b\u7684\u200b\u7535\u5f71\u200b Top 10 \u200b\u53ca\u5176\u200b\u5e73\u5747\u200b\u8bc4\u5206","text":"Python<pre><code># \u200b\u4ece\u200b users \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7528\u6237\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u7528\u6237\u200b\u6027\u522b\u200b\u3011\nuserID_gender = users.map(lambda x: (int(x.split(\"::\")[0]), x.split(\"::\")[1]))\n</code></pre> Python<pre><code># \u200b\u5c06\u200b ratings \u200b\u548c\u200b userID_gender \u200b\u5408\u5e76\u200b\u540e\u200b\uff0c\u200b\u8fc7\u6ee4\u200b\u5f97\u5230\u200b\u7537\u6027\u200b\u7684\u200b\u8bc4\u5206\u200b\u6570\u636e\u200b\nmale_ratings = (\nratings.map(\nlambda x: (\nint(x.split(\"::\")[0]),\n(int(x.split(\"::\")[1]), int(x.split(\"::\")[2])),\n)\n)\n.join(userID_gender)\n.filter(lambda x: x[1][1] == \"M\")\n.map(lambda x: \"{}::{}::{}\".format(x[0], x[1][0][0], x[1][0][1]))\n)\n</code></pre> Python<pre><code>top10_male = top(male_ratings, movies, 10).collect()\n</code></pre> Python<pre><code>for line in top10_male:\nprint(line[0], \"&gt;&gt;&gt;rating=\", line[1], sep=\"\")\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/movie-analysis-based-on-spark-rdd/#\u8f93\u51fa\u6240\u6709\u7535\u5f71\u4e2d\u6700\u53d7\u4e2d\u5e74\u4eba45age55\u559c\u7231\u7684\u7535\u5f71-top-5-\u53ca\u5176\u5e73\u5747\u8bc4\u5206","title":"\u8f93\u51fa\u200b\u6240\u6709\u200b\u7535\u5f71\u200b\u4e2d\u200b\u6700\u53d7\u200b\u4e2d\u5e74\u4eba\u200b\uff0845&lt;=age&lt;=55\uff09\u200b\u559c\u7231\u200b\u7684\u200b\u7535\u5f71\u200b Top 5 \u200b\u53ca\u5176\u200b\u5e73\u5747\u200b\u8bc4\u5206","text":"Python<pre><code># \u200b\u4ece\u200b users \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7528\u6237\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u5e74\u9f84\u200b\u3011\nuserID_age = users.map(lambda x: (int(x.split(\"::\")[0]), int(x.split(\"::\")[2])))\n</code></pre> Python<pre><code># \u200b\u5c06\u200b ratings \u200b\u548c\u200b userID_age \u200b\u5408\u5e76\u200b\u540e\u200b\uff0c\u200b\u8fc7\u6ee4\u200b\u5f97\u5230\u200b\u4e2d\u5e74\u4eba\u200b\u7684\u200b\u8bc4\u5206\u200b\u6570\u636e\u200b\nmiddleAge_ratings = (\nratings.map(\nlambda x: (\nint(x.split(\"::\")[0]),\n(int(x.split(\"::\")[1]), int(x.split(\"::\")[2])),\n)\n)\n.join(userID_age)\n.filter(lambda x: x[1][1] == 45 or x[1][1] == 50)\n.map(lambda x: \"{}::{}::{}\".format(x[0], x[1][0][0], x[1][0][1]))\n)\n</code></pre> Python<pre><code>top5_middleAge = top(middleAge_ratings, movies, 5).collect()\n</code></pre> Python<pre><code>for line in top5_middleAge:\nprint(line[0], \"&gt;&gt;&gt;rating=\", line[1], sep=\"\")\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/movie-analysis-based-on-spark-rdd/#\u8f93\u51fa\u6700\u53d7\u5b66\u751f\u542b\u4e2d\u5c0f\u5b66\u751f\u53ca\u5927\u5b66\u751f\u6b22\u8fce\u7684\u5373\u89c2\u770b\u4eba\u6570\u6700\u591a\u52a8\u753b-animation-\u7535\u5f71-top-5-\u7684\u540d\u79f0","title":"\u8f93\u51fa\u200b\u6700\u53d7\u200b\u5b66\u751f\u200b\uff08\u200b\u542b\u200b\u4e2d\u5c0f\u5b66\u751f\u200b\u53ca\u200b\u5927\u5b66\u751f\u200b\uff09\u200b\u6b22\u8fce\u200b\u7684\u200b\uff08\u200b\u5373\u200b\u89c2\u770b\u200b\u4eba\u200b\u6570\u6700\u591a\u200b\uff09\u200b\u52a8\u753b\u200b (Animation) \u200b\u7535\u5f71\u200b Top 5 \u200b\u7684\u200b\u540d\u79f0","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u8f93\u5165\u200b\u3010\u200b\u7535\u5f71\u200b ID \u200b\u548c\u200b\u8bc4\u5206\u200b\u3011\u3001\u3010\u200b\u7535\u5f71\u200b ID \u200b\u548c\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\u200b\u548c\u200b\u3010\u200b\u89c2\u770b\u200b\u4eba\u6570\u200b\u524d\u200b n \u200b\u4f4d\u200b\u3011\uff0c\u200b\u8f93\u51fa\u200b\u3010\u200b\u89c2\u770b\u200b\u4eba\u200b\u6570\u6700\u591a\u200b\u7684\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u548c\u200b\u89c2\u770b\u200b\u6b21\u6570\u200b\u3011\ndef popular(ratings_data, movies_data, Genre, n):\n# \u200b\u4ece\u200b movies_data \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u7535\u5f71\u200b\u7c7b\u578b\u200b\u3011\nmovieID_movieGenre = movies_data.map(\nlambda x: (int(x.split(\"::\")[0]), x.split(\"::\")[2])\n)\n# \u200b\u4ece\u200b ratings_data \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\uff0c\u200b\u5e76\u200b\u5728\u200b value \u200b\u4e2d\u200b\u8865\u5145\u200b\u201c1\u201d\u200b\u4f5c\u4e3a\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u3011\uff0c\u200b\u5e76\u200b\u4e0e\u200b movieID_movieGenre \u200b\u5408\u5e76\u200b\uff0c\u200b\u7b5b\u9009\u200b\u5f97\u5230\u200b\u3010\u200b\u52a8\u753b\u7535\u5f71\u200b\u3011\u200b\u7684\u200b\u6570\u636e\u200b\nmovieID_rating_number = (\nratings_data.map(lambda x: (int(x.split(\"::\")[1]), 1))\n.join(movieID_movieGenre)\n.filter(lambda line: Genre in line[1][1].split(\"|\"))\n.map(lambda line: (line[0], line[1][0]))\n)\n# \u200b\u5bf9\u540c\u200b\u4e00\u90e8\u200b\u7535\u5f71\u200b\uff0c\u200b\u52a0\u603b\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u3011\u200b\u5f97\u5230\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\nmovieID_rating_number_sum = movieID_rating_number.reduceByKey(lambda x, y: x + y)\n# \u200b\u6839\u636e\u200b\u6bcf\u200b\u4e00\u90e8\u200b\u7535\u5f71\u200b\u7684\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\u200b\u4ece\u5927\u5230\u200b\u5c0f\u200b\u6392\u5e8f\u200b\nmovieID_rating_number_sum_descending = movieID_rating_number_sum.sortBy(\nlambda x: x[1], False\n)\n# \u200b\u63d0\u53d6\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\u200b\u6700\u9ad8\u200b\u7684\u200b n \u200b\u90e8\u200b\u7535\u5f71\u200b\u7684\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\uff0c\u200b\u5e76\u200b\u5b58\u5165\u200b\u4e00\u4e2a\u200b RDD\nmovieID_rating_number_sum_top_n = sc.parallelize(\nmovieID_rating_number_sum_descending.take(n)\n)\n# \u200b\u4ece\u200b movies_data \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7535\u5f71\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\nmovieID_movieName = movies_data.map(\nlambda x: (int(x.split(\"::\")[0]), x.split(\"::\")[1])\n)\n# \u200b\u5c06\u200b\u3010\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\u200b\u5408\u5e76\u200b\u5230\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\u200b\u6700\u591a\u200b\u7684\u200b n \u200b\u90e8\u200b\u7535\u5f71\u200b\uff0c\u200b\u5e76\u200b\u63d0\u53d6\u200b\u3010\u200b\u7535\u5f71\u200b\u540d\u79f0\u200b\u3011\u200b\u548c\u200b\u3010\u200b\u8bc4\u5206\u200b\u6570\u91cf\u200b\u548c\u200b\u3011\nmovieName_rating_number_sum_top_n = movieID_rating_number_sum_top_n.join(\nmovieID_movieName\n).map(lambda x: (x[1][1], x[1][0]))\nreturn movieName_rating_number_sum_top_n.sortBy(lambda x: x[1], False)\n</code></pre> Python<pre><code># \u200b\u4ece\u200b users \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b\u3010\u200b\u7528\u6237\u200b ID\u3011\u200b\u548c\u200b\u3010\u200b\u804c\u4e1a\u200b\u3011\nuserID_occupation = users.map(lambda x: (int(x.split(\"::\")[0]), int(x.split(\"::\")[3])))\n</code></pre> Python<pre><code># \u200b\u5c06\u200b ratings \u200b\u548c\u200b userID_occupation \u200b\u5408\u5e76\u200b\u540e\u200b\uff0c\u200b\u8fc7\u6ee4\u200b\u5f97\u5230\u200b\u3010\u200b\u5b66\u751f\u200b\u3011\u200b\u7684\u200b\u8bc4\u5206\u200b\u6570\u636e\u200b\nstudent_ratings = (\nratings.map(\nlambda x: (\nint(x.split(\"::\")[0]),\n(int(x.split(\"::\")[1]), int(x.split(\"::\")[2])),\n)\n)\n.join(userID_occupation)\n.filter(lambda x: x[1][1] == 4 or x[1][1] == 10)\n.map(lambda x: \"{}::{}::{}\".format(x[0], x[1][0][0], x[1][0][1]))\n)\n</code></pre> Python<pre><code>popular5_student_animation = popular(student_ratings, movies, \"Animation\", 5).collect()\n</code></pre> Python<pre><code>for line in popular5_student_animation:\nprint(line[0], \" &gt;&gt;&gt;  \", line[1], sep=\"\")\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/use-python-in-r-markdown/","title":"\u5728\u200b Rmarkdown \u200b\u4e2d\u200b\u4f7f\u7528\u200b Python","text":"<p>\u200b\u5728\u200b Rmarkdown \u200b\u4e2d\u200b\u8fd0\u884c\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u5e76\u200b\u81ea\u4e3b\u200b\u914d\u7f6e\u200b Python \u200b\u73af\u5883\u200b\u3002</p>","tags":["Python"]},{"location":"blog/use-python-in-r-markdown/#\u5fc5\u8981\u7684\u5305\u548c\u5207\u6362\u73af\u5883","title":"\u5fc5\u8981\u200b\u7684\u200b\u5305\u200b\u548c\u200b\u5207\u6362\u200b\u73af\u5883","text":"<p>\u200b\u5728\u200b Rmarkdown \u200b\u4e2d\u200b\u8fd0\u884c\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u9700\u8981\u200b\u7528\u5230\u200b<code>reticulate</code>\u200b\u5305\u200b\u3002</p> <p>\u200b\u5b89\u88c5\u200b<code>reticulate</code>\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u5b89\u88c5\u200b\u540d\u4e3a\u200b<code>r-miniconda</code>\u200b\u7684\u200b<code>conda</code>\u200b\u73af\u5883\u200b\u3002\u200b\u5728\u200b\u4e4b\u540e\u200b\u4f7f\u7528\u200b Python \u200b\u65f6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b<code>r-reticulate</code>\u200b\u73af\u5883\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u73af\u5883\u200b\u53ea\u6709\u200b<code>numpy</code>\u200b\u7684\u200b\u5e93\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u5176\u4ed6\u200b\u5e93\u5219\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u3002\u200b\u5177\u4f53\u200b\u5b89\u88c5\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1a</p> <ul> <li><code>py_install(\"pandas\")</code></li> <li><code>conda_install(\"r-reticulate\", \"scipy\")</code></li> </ul> <p>\u200b\u719f\u6089\u200b\u5e38\u7528\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li> <p>\u200b\u6253\u5f00\u200b Anaconda Prompt(R-MINI~1) \u200b\u7ec8\u7aef\u200b\u3002</p> </li> <li> <p>\u200b\u8f93\u5165\u200b<code>conda activate r-reticulate</code>\uff0c\u200b\u8fd9\u662f\u200b reticulate \u200b\u91cc\u200b\u9ed8\u8ba4\u200b\u7528\u200b\u7684\u200b conda \u200b\u73af\u5883\u200b\u3002</p> </li> <li> <p>\u200b\u628a\u200b\u4ee3\u7406\u200b\u7f51\u7edc\u200b\u5173\u95ed\u200b\uff08\u200b\u7528\u200b<code>pip</code>\u200b\u901a\u8fc7\u200b\u6e05\u534e\u200b\u6e90\u200b\u5b89\u88c5\u5305\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7528\u200b\u4ee3\u7406\u200b\u73af\u5883\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff09\uff0c\u200b\u8f93\u5165\u200b<code>pip install package_name</code>\u200b\u5373\u53ef\u200b\u5b89\u88c5\u200b\u3002</p> </li> </ol> <p>\u200b\u53e6\u200b\u4e00\u79cd\u200b\u89e3\u51b3\u65b9\u6848\u200b\u662f\u200b\u5c06\u200b\u73af\u5883\u200b\u5207\u6362\u200b\u4e3a\u200b\u6211\u200b\u5e38\u7528\u200b\u7684\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u73af\u5883\u200b\u91cc\u200b\u6709\u200b\u6211\u200b\u9700\u8981\u200b\u7684\u200b\u5e93\u200b\u3002</p> <p>\u200b\u5207\u6362\u200b\u73af\u5883\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u5148\u200b\u5728\u200b R Session \u200b\u4e2d\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b<code>reticulate::use_python(\"C:\\\\ProgramData\\\\Anaconda3\")</code>\u3002</li> <li>\u200b\u518d\u200b\u5bfc\u5165\u200b<code>reticulate</code>\u200b\u5305\u200b\u3002</li> </ol> <p>\u200b\u4e0a\u9762\u200b\u4e24\u4e2a\u200b\u6b65\u9aa4\u200b\u6700\u597d\u200b\u4e0d\u8981\u200b\u8c03\u6362\u200b\u3002\u200b\u5982\u679c\u200b\u5148\u5bfc\u200b\u5165\u200b<code>reticulate</code>\u200b\u5305\u200b\uff0c\u200b\u518d\u200b\u5207\u6362\u200b\u73af\u5883\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u7531\u4e8e\u200b<code>reticulate</code>\u200b\u5305\u200b\u5df2\u7ecf\u200b\u4f7f\u7528\u200b\u4e86\u200b\u9ed8\u8ba4\u200b\u73af\u5883\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u518d\u200b\u5207\u6362\u200b\u73af\u5883\u200b\u4e86\u200b\u3002\u200b\u62a5\u9519\u200b\u4fe1\u606f\u200b\u5982\u4e0b\u200b\u3002\u200b\u89e3\u51b3\u65b9\u6848\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200bStack overflow \u200b\u4e0a\u200b\u7684\u200b\u56de\u7b54\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/use-python-in-r-markdown/#\u4f7f\u7528\u793a\u4f8b","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"Python<pre><code>print(\"Hello Python!\")\n</code></pre> Text Only<pre><code>## Hello Python!\n</code></pre> Python<pre><code># Import pandas library\nimport pandas as pd\n# initialize list elements\ndata = [10, 20, 30, 40, 50, 60]\n# Create the pandas DataFrame with column name is provided explicitly\ndf = pd.DataFrame(data, columns=[\"Numbers\"])\n# print dataframe.\ndf\n</code></pre> Text Only<pre><code>##    Numbers\n## 0       10\n## 1       20\n## 2       30\n## 3       40\n## 4       50\n## 5       60\n</code></pre>","tags":["Python"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/","title":"\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0","text":"<p>\u200b\u7528\u200b\u6570\u503c\u200b\u8fd1\u4f3c\u200b\u6cd5\u200b\u6c42\u51fd\u6570\u200b\u5728\u200b\u67d0\u70b9\u200b\u7684\u200b\u68af\u5ea6\u200b\uff0c\u200b\u7528\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u6cd5\u200b\u63a7\u5236\u200b\u6b65\u957f\u200b\uff0c\u200b\u5e94\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u6c42\u51fd\u6570\u200b\u6781\u503c\u200b\u3002</p> <p>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u7684\u200b\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u5bf9\u200b\u67d0\u200b\u4e00\u200b\u521d\u59cb\u503c\u200b\uff0c\u200b\u4e0d\u65ad\u200b\u6539\u53d8\u200b\u8fd9\u4e00\u200b\u521d\u59cb\u503c\u200b\uff0c\u200b\u4e14\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u90fd\u200b\u671d\u7740\u200b\u80fd\u200b\u4f7f\u200b\u51fd\u6570\u200b\u503c\u200b\u51cf\u5c0f\u200b\u7684\u200b\u65b9\u5411\u200b\u6539\u53d8\u200b\uff0c\u200b\u6700\u7ec8\u200b\u51fd\u6570\u200b\u503c\u200b\u51e0\u4e4e\u200b\u4e0d\u518d\u200b\u53d8\u5c0f\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u8ba4\u4e3a\u200b\u8fbe\u5230\u200b\u4e86\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u5982\u4f55\u8ba1\u7b97\u68af\u5ea6","title":"\u5982\u4f55\u200b\u8ba1\u7b97\u200b\u68af\u5ea6","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u663e\u5f0f\u89e3","title":"\u663e\u5f0f\u200b\u89e3","text":"<p>\u200b\u5bf9\u4e8e\u200b\u504f\u5bfc\u200b\u51fd\u6570\u200b\u6709\u200b\u663e\u793a\u200b\u89e3\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5f53\u7136\u200b\u53ef\u4ee5\u200b\u628a\u200b\u504f\u200b\u5bfc\u6570\u200b\u76f4\u63a5\u200b\u5199\u200b\u51fa\u6765\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u5750\u6807\u200b\u70b9\u200b\u4ee3\u5165\u200b\u504f\u5bfc\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u5f97\u5230\u200b\u68af\u5ea6\u200b\u5411\u91cf\u200b\u3002</p> \\[ \\nabla f(x,y) = \\left ( {\\partial f \\over \\partial x}, {\\partial f \\over \\partial y} \\right ). \\] <p>\u200b\u4f8b\u5b50\u200b</p> <p>\u200b\u6c42\u51fd\u6570\u200b\u5728\u200b\\((x,y,z)=(1,2,\\pi/3)\\)\u200b\u7684\u200b\u68af\u5ea6\u200b</p> \\[ f(x,y,z)=x^2y\\sin(z) \\] <p>\u200b\u4e00\u9636\u504f\u200b\u5bfc\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ \\nabla f(x,y,x)=(2xy \\sin(z), x^2 \\sin(z), x^2 y \\cos(z)) = (2 \\sqrt{3},\\sqrt{3},1) \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u6570\u503c\u65b9\u6cd5\u8fd1\u4f3c","title":"\u6570\u503c\u200b\u65b9\u6cd5\u200b\u8fd1\u4f3c","text":"<p>\u200b\u82e5\u200b\u4e0d\u200b\u65b9\u4fbf\u200b\u6c42\u200b\u51fa\u200b\u68af\u5ea6\u200b\u5411\u91cf\u200b\u7684\u200b\u663e\u5f0f\u200b\u89e3\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6570\u503c\u200b\u65b9\u6cd5\u200b\u8fd1\u4f3c\u200b\u6c42\u200b\u51fa\u200b\u68af\u5ea6\u200b\u5411\u91cf\u200b\u3002 </p> \\[ \\nabla f(x) \\approx\\left[\\begin{array}{c} \\frac{f\\left(x+\\varepsilon e_1\\right)-f\\left(x-\\varepsilon e_1\\right)}{2 \\varepsilon} \\\\\\ \\frac{f\\left(x+\\varepsilon e_2\\right)-f\\left(x-\\varepsilon e_2\\right)}{2 \\varepsilon} \\\\\\ \\vdots \\\\\\ \\frac{f\\left(x+\\varepsilon e_n\\right)-f\\left(x-\\varepsilon e_n\\right)}{2 \\varepsilon} \\end{array}\\right] \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u5982\u4f55\u786e\u5b9a\u6b65\u957f\u5b66\u4e60\u7387","title":"\u5982\u4f55\u200b\u786e\u5b9a\u200b\u6b65\u957f\u200b\uff08\u200b\u5b66\u4e60\u200b\u7387\u200b\uff09","text":"<p>\u200b\u5f97\u5230\u200b\u51fd\u6570\u200b\u5728\u200b\u67d0\u200b\u4e00\u70b9\u200b\u7684\u200b\u68af\u5ea6\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6cbf\u7740\u200b\u68af\u5ea6\u200b\u7684\u200b\u53cd\u200b\u65b9\u5411\u200b\u66f4\u65b0\u200b\u5750\u6807\u200b\u70b9\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u56fa\u5b9a\u6b65\u957f","title":"\u56fa\u5b9a\u200b\u6b65\u957f","text":"<p>\u200b\u5982\u679c\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u8fed\u4ee3\u200b\u65f6\u200b\u79fb\u52a8\u200b\u7684\u200b\u6b65\u957f\u200b\u90fd\u200b\u76f8\u540c\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li>\u200b\u6b65\u957f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u8fed\u4ee3\u200b\u8fc7\u5feb\u200b\uff0c\u200b\u751a\u81f3\u200b\u6709\u200b\u53ef\u80fd\u200b\u9519\u8fc7\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002</li> <li>\u200b\u6b65\u957f\u200b\u592a\u5c0f\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u901f\u5ea6\u200b\u592a\u6162\u200b\uff0c\u200b\u5f88\u200b\u957f\u65f6\u95f4\u200b\u7b97\u6cd5\u200b\u90fd\u200b\u4e0d\u80fd\u200b\u7ed3\u675f\u200b\u3002</li> </ul> <p>\u200b\u4e00\u4e9b\u200b\u7b97\u6cd5\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u81ea\u200b\u9002\u5e94\u200b\u7684\u200b\u6b65\u957f\u200b\uff0c\u200b\u4f8b\u5982\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u81ea\u9002\u5e94\u6b65\u957f","title":"\u81ea\u200b\u9002\u5e94\u200b\u6b65\u957f","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u56de\u6eaf\u7ebf\u641c\u7d22","title":"\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22","text":"<p>\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u662f\u200b\u4e00\u79cd\u200b\u81ea\u200b\u9002\u5e94\u200b\u6b65\u957f\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u7b97\u6cd5\u200b\u4e3a\u200b\uff1a</p> <p>\u200b\u53d6\u200b\u5e38\u6570\u200b\\(\\alpha, \\beta\\)\u200b\u6ee1\u8db3\u200b\\(0&lt;\\alpha&lt;0.5,0&lt;\\beta&lt;1\\)., \u200b\u53ca\u200b\\(\\epsilon&gt;0\\)</p> <ol> <li>\u200b\u4ee4\u200b\\(k=0\\)\u200b\u7ed9\u5b9a\u200b\u8fed\u4ee3\u200b\u521d\u59cb\u503c\u200b\\(x^0\\)\u200b\u53ca\u200b\u521d\u59cb\u200b\u6b65\u957f\u200b\\(t_0=1\\).</li> <li>\u200b\u66f4\u65b0\u200b\\(t_k=\\beta t_k\\)</li> <li> <p>\u200b\u91cd\u590d\u200b 2 \u200b\u76f4\u5230\u200b</p> \\[ f\\left(x^k-t_k \\nabla f\\left(x^k\\right)\\right) \\leq f\\left(x^k\\right)-\\alpha t_k\\left\\|\\nabla f\\left(x^k\\right)\\right\\|^2 \\] </li> <li> <p>\u200b\u8ba1\u7b97\u200b\\(x^{k+1}=x^k-t^k \\nabla f\\left(x^k\\right)\\)\u200b\u5e76\u200b\u66f4\u65b0\u200b\\(k=k+1\\)</p> </li> <li>\u200b\u8f6c\u200b\u81f3\u200b (1) \u200b\u76f4\u5230\u200b\\(\\nabla f\\left(x^k\\right) \\leq \\epsilon\\)</li> </ol> <p>\u200b\u5176\u4e2d\u200b\u7684\u200b\u7b2c\u200b (3) \u200b\u6b65\u200b\u6700\u200b\u5173\u952e\u200b\uff0c\u200b\u51e0\u4f55\u200b\u4e0a\u200b\u7406\u89e3\u200b\u7b2c\u200b (3) \u200b\u6b65\u200b\uff1a</p> <p>\u200b\u5728\u200b\\(t=0\\)\u200b\u70b9\u200b\u7684\u200b\u5207\u7ebf\u200b\u659c\u7387\u200b\u5c31\u662f\u200b\u68af\u5ea6\u200b\uff0c\u200b\u628a\u200b\u8fd9\u4e2a\u200b\u659c\u7387\u200b\u4e58\u4ee5\u200b\\(\\alpha\\)\uff0c\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e00\u6761\u200b\u66f4\u200b\u5e73\u7f13\u200b\u7684\u200b\u865a\u7ebf\u200b\uff0c\u200b\u5373\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u5904\u5728\u200b\u4e0a\u65b9\u200b\u7684\u200b\u865a\u7ebf\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\u6211\u4eec\u200b\u8981\u6c42\u200b</p> \\[ f\\left(x^k-t_k \\nabla f\\left(x^k\\right)\\right) \\leq f\\left(x^k\\right)-\\alpha t_k\\left\\|\\nabla f\\left(x^k\\right)\\right\\|^2 \\] <p>\u200b\u4e5f\u200b\u5c31\u662f\u200b\u66f4\u65b0\u200b\u5750\u6807\u200b\u70b9\u540e\u200b\u7684\u200b\u51fd\u6570\u200b\u503c\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\u4e0a\u65b9\u200b\u7684\u200b\u865a\u7ebf\u200b\u7684\u200b\u51fd\u6570\u200b\u503c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\\(t\\)\u200b\u53ea\u80fd\u200b\u5904\u5728\u200b\\((0,t_0)\\)\u200b\u4e4b\u95f4\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5927\u4e8e\u200b\\(t_0\\)\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u4f7f\u200b\u8fd9\u4e2a\u200b\u4e0d\u7b49\u5f0f\u200b\u4e0d\u200b\u6210\u7acb\u200b\u3002</p> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u9650\u5236\u200b\u4e86\u200b\u6b65\u957f\u200b\u4e0d\u80fd\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0d\u80fd\u200b\u8de8\u8d8a\u200b\u3001\u200b\u504f\u79bb\u200b\u6781\u503c\u200b\u70b9\u592a\u591a\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#python-\u5b9e\u73b0","title":"Python \u200b\u5b9e\u73b0","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>\u200b\u8003\u8651\u200b\\(R^2\\)\u200b\u4e0a\u200b\u7684\u200b\u4e8c\u5143\u200b\u51fd\u6570\u200b\uff1a</p> \\[ f\\left(x_1, x_2\\right)=e^{x_1+3 x_2-0.1}+e^{x_1-3 x_2-0.1}+e^{-x_1-0.1} \\] <p>\u200b\u5229\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u6c42\u200b\u5176\u200b\u6781\u5c0f\u503c\u200b\u4e0e\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\u3002\u200b\u6ce8\u610f\u200b\uff1a 1. \u200b\u9700\u200b\u5229\u7528\u200b\u6570\u503c\u200b\u7b97\u6cd5\u200b\u8ba1\u7b97\u200b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\u5411\u91cf\u200b\uff1b 2. \u200b\u9700\u200b\u5229\u7528\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b (Backtracking Line Search) \u200b\u6216\u200b\u7cbe\u786e\u200b\u7684\u200b\u7ebf\u200b\u641c\u7d22\u200b (Exact line search) \u200b\u9009\u62e9\u200b\u81ea\u200b\u9002\u5e94\u200b\u7684\u200b\u6b65\u957f\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u5e94\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u8fed\u4ee3\u66f4\u65b0\u6781\u5c0f\u503c\u70b9","title":"\u5e94\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u66f4\u65b0\u200b\u6781\u5c0f\u503c\u200b\u70b9","text":"Python<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib\n# \u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\nmatplotlib.rcParams[\"font.sans-serif\"] = [\"SimSun\"]\nmatplotlib.rcParams[\"axes.unicode_minus\"] = False\n# \u200b\u6e32\u67d3\u200b\u516c\u5f0f\u200b\nplt.rcParams[\"text.usetex\"] = True\n</code></pre> <p>\u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6c42\u200b\u539f\u51fd\u6570\u200b\u3001\u200b\u504f\u5bfc\u200b\u51fd\u6570\u200b\u3001\u200b\u68af\u5ea6\u200b\u548c\u200b\u5411\u91cf\u200b\u6a21\u200b\u3002</p> Python<pre><code>def f(X):\nx1 = X[0]\nx2 = X[1]\nitem1 = np.exp(x1 + 3 * x2 - 0.1)\nitem2 = np.exp(x1 - 3 * x2 - 0.1)\nitem3 = np.exp(-x1 - 0.1)\nreturn item1 + item2 + item3\ndef derivative_x1(x1, x2, delta=1e-6):\nX_delta1 = [x1 + delta, x2]\nX_delta2 = [x1 - delta, x2]\nreturn (f(X_delta1) - f(X_delta2)) / (2 * delta)\ndef derivative_x2(x1, x2, delta=1e-6):\nX_delta1 = [x1, x2 + delta]\nX_delta2 = [x1, x2 - delta]\nreturn (f(X_delta1) - f(X_delta2)) / (2 * delta)\ndef gradient(X, delta=1e-6):\nx1 = X[0]\nx2 = X[1]\nreturn np.array([derivative_x1(x1, x2, delta), derivative_x2(x1, x2, delta)])\ndef norm(vector):\nreturn np.sqrt(sum([i**2 for i in vector]))\n</code></pre> <p>\u200b\u8bbe\u7f6e\u200b\u53c2\u6570\u200b\uff1a</p> <ul> <li>\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b<code>np.array([1, 1])</code></li> <li>\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u53c2\u6570\u200b\\(\\alpha=0.4, \\beta=0.5\\)</li> <li>\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u4e3a\u200b<code>norm(gradient(X))</code> &lt;\\(1e-6\\)</li> <li>\u200b\u521d\u59cb\u200b\u6b65\u957f\u200b\\(t=1\\)</li> </ul> Python<pre><code># \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u5b9e\u73b0\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\nalpha = 0.4\nbeta = 0.5\nepsilon = 1e-6\nk = 0\nX = np.array([1, 1])\nt = 1\nk_list = [k]\nX_all = X\n</code></pre> <p>\u200b\u5e94\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u66f4\u65b0\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\u3002</p> Python<pre><code># \u200b\u5f53\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\u4ecd\u7136\u200b\u9ad8\u4e8e\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u76f4\u200b\u8fed\u4ee3\u200b\nwhile norm(gradient(X)) &gt; epsilon:\n# \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\uff0c\u200b\u68c0\u67e5\u200b\u76ee\u524d\u200b\u7684\u200b\u6b65\u957f\u200b\u662f\u5426\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u82e5\u200b\u6b65\u957f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u7f29\u5c0f\u200b\u6b65\u957f\u200b\nwhile f(np.subtract(X, t * gradient(X))) &gt; f(X) - alpha * t * gradient(\nX\n).T @ gradient(X):\nt = beta * t\n# \u200b\u8bb0\u5f55\u200b\u6b64\u6b21\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\nk = k + 1\nk_list.append(k)\nX = X - t * gradient(X)\nX_all = np.vstack((X_all, X))\n# print(\"k = %d, X = %s, f(X) = %f\" % (k, X, f(X)))\n# \u200b\u9000\u51fa\u200b\u5faa\u73af\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5df2\u7ecf\u200b\u5f97\u5230\u200b\u4e86\u200b\u6ee1\u8db3\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u7684\u200b\u68af\u5ea6\u200b\u3002\u200b\u6b64\u65f6\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\u5c31\u662f\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\nprint(\"\u200b\u6781\u5c0f\u503c\u200b\u70b9\u4e3a\u200b\uff1aX* = {}\\n \u200b\u6781\u5c0f\u503c\u200b\u4e3a\u200b\uff1af(X*) = {}\".format(X, f(X)))\n</code></pre> Text Only<pre><code>## \u200b\u6781\u5c0f\u503c\u200b\u70b9\u4e3a\u200b\uff1aX* = [-3.4657320e-01 -1.0000889e-12]\n## \u200b\u6781\u5c0f\u503c\u200b\u4e3a\u200b\uff1af(X*) = 2.559266696658411\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u7ed8\u5236\u7ed8\u5236\u8fed\u4ee3\u6b21\u6570\u4e0e\u81ea\u53d8\u91cf\u53d6\u503c","title":"\u7ed8\u5236\u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u81ea\u53d8\u91cf\u200b\u53d6\u503c","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u81ea\u53d8\u91cf\u200b\u53d6\u503c\u200b\nfig = plt.figure(figsize=(5, 4), dpi=200)\nplt.plot(X_all[:, 0], \"r-o\", markerfacecolor=\"none\", label=r\"$x_1$\")\nplt.plot(X_all[:, 1], \"b-o\", markerfacecolor=\"none\", label=r\"$x_2$\")\nplt.xlabel(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\", usetex=False)  # \u200b\u4e2d\u6587\u200b\u4e0d\u7528\u200b tex \u200b\u6e32\u67d3\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\nplt.ylabel(\"\u200b\u81ea\u53d8\u91cf\u200b\u7684\u200b\u53d6\u503c\u200b\", usetex=False)\nplt.legend()\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-and-its-implementation-in-python/#\u7ed8\u5236\u8fed\u4ee3\u8f68\u8ff9\u4e0e\u7b49\u9ad8\u7ebf\u56fe","title":"\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u8f68\u8ff9\u200b\u4e0e\u200b\u7b49\u9ad8\u7ebf\u56fe","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u8f68\u8ff9\u200b\u4e0e\u200b\u7b49\u9ad8\u7ebf\u56fe\u200b\nx1 = np.linspace(-2, 1.2, 1000)\nx2 = np.linspace(-1, 1.2, 1000)\nX1, X2 = np.meshgrid(x1, x2)\nY = np.exp(X1 + 3 * X2 - 0.1) + np.exp(X1 - 3 * X2 - 0.1) + np.exp(-X1 - 0.1)\nfig = plt.figure(figsize=(5, 4), dpi=200)\nplt.contourf(\nX1, X2, Y, levels=[3, 4, 5, 6, 7, 8, 9, 10], alpha=0.75, cmap=\"coolwarm\"\n)  # contourf \u200b\u53ef\u4ee5\u200b\u7ed8\u5236\u200b\u7b49\u9ad8\u7ebf\u200b\u5e76\u200b\u4e3a\u200b\u533a\u57df\u200b\u6d82\u8272\u200b\n</code></pre> Python<pre><code>C = plt.contour(\nX1, X2, Y, levels=[3, 4, 5, 6, 7, 8, 9, 10], colors=\"black\"\n)  # contour \u200b\u53ef\u4ee5\u200b\u7ed8\u5236\u200b\u7b49\u9ad8\u7ebf\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u6d82\u8272\u200b\nplt.clabel(C, inline=True)  # \u200b\u5728\u200b\u7b49\u9ad8\u7ebf\u200b\u4e0a\u200b\u663e\u793a\u200b\u51fd\u6570\u200b\u503c\u200b\nplt.plot(\n[i[0] for i in X_all], [i[1] for i in X_all], \"k-o\", markerfacecolor=\"none\"\n)  # \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u8f68\u8ff9\u200b\nplt.xlabel(r\"$x_1$\")\nplt.ylabel(r\"$x_2$\")\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/ols-in-matrix-form/","title":"\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u63a8\u5bfc","text":"<p>\u200b\u5229\u7528\u200b\u5fc5\u8981\u200b\u7684\u200b\u77e9\u9635\u200b\u6c42\u5bfc\u200b\u6cd5\u5219\u200b\uff0c\u200b\u63a8\u5bfc\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u3002</p> \\[ \\begin{aligned} {\\color{red}{\\boldsymbol{\\beta}}}&amp;\\color{red}{=(\\boldsymbol{X}^{\\top} \\boldsymbol{X})^{-1} \\boldsymbol{X}^{\\top} \\boldsymbol{y}} \\end{aligned} \\]","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-in-matrix-form/#\u591a\u5143\u7ebf\u6027\u56de\u5f52\u7684\u77e9\u9635\u5f62\u5f0f","title":"\u591a\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f","text":"<p>\u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u7406\u89e3\u200b\uff0c\u200b\u4ee5\u200b 5 \u200b\u6761\u200b\u6570\u636e\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u6784\u5efa\u200b\u7684\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u4e3a\u200b\uff1a</p> \\[ y_1 = \\beta_0 + \\beta_1x_{11} + \\beta_2x_{12} + \\epsilon_1\\\\\\ y_2 = \\beta_0 + \\beta_1x_{21} + \\beta_2x_{22} + \\epsilon_2\\\\\\ y_3 = \\beta_0 + \\beta_1x_{31} + \\beta_2x_{32} + \\epsilon_3\\\\\\ y_4 = \\beta_0 + \\beta_1x_{41} + \\beta_2x_{42} + \\epsilon_4\\\\\\ y_5 = \\beta_0 + \\beta_1x_{51} + \\beta_2x_{52} + \\epsilon_5 \\] <p>\u200b\u5199\u6210\u200b\u77e9\u9635\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff1a</p> \\[ \\boldsymbol{y} = \\begin{bmatrix} y_1 \\\\\\ y_2 \\\\\\ y_3 \\\\\\ y_4 \\\\\\ y_5 \\end{bmatrix},\\quad \\boldsymbol{X} = \\begin{bmatrix} 1 &amp; x_{11} &amp; x_{12} \\\\\\ 1 &amp; x_{21} &amp; x_{22} \\\\\\ 1 &amp; x_{31} &amp; x_{32} \\\\\\ 1 &amp; x_{41} &amp; x_{42} \\\\\\ 1 &amp; x_{51} &amp; x_{52} \\end{bmatrix},\\quad \\boldsymbol{\\beta} = \\begin{bmatrix} \\beta_0 \\\\\\ \\beta_1 \\\\\\ \\beta_2 \\end{bmatrix},\\quad \\boldsymbol{\\epsilon} = \\begin{bmatrix} \\epsilon_1 \\\\\\ \\epsilon_2 \\\\\\ \\epsilon_3 \\\\\\ \\epsilon_4 \\\\\\ \\epsilon_5 \\end{bmatrix}\\\\\\ \\] \\[ \\boldsymbol{y} = \\boldsymbol{X}\\boldsymbol{\\beta} + \\boldsymbol{\\epsilon} \\] <p>\u200b\u6ce8\u610f\u200b\uff0c\\(\\boldsymbol{X}\\)\u200b\u7684\u200b\u7b2c\u4e00\u5217\u200b\u5747\u200b\u4e3a\u200b\\(1\\)\uff0c\u200b\u8fd9\u662f\u200b\u6211\u4eec\u200b\u52a0\u5165\u200b\u7684\u200b\u504f\u7f6e\u200b\u9879\u200b\u3002\u200b\u5bf9\u5e94\u200b\u5730\u200b\uff0c\\(\\boldsymbol{\\beta}\\)\u200b\u7684\u200b\u7b2c\u4e00\u9879\u200b\\(\\beta_0\\)\u200b\u5c31\u662f\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u4e2d\u200b\u7684\u200b\u622a\u8ddd\u200b\u9879\u200b\u3002</p> <p>\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u601d\u60f3\u200b\u5c31\u662f\u200b\u627e\u5230\u200b \\(\\boldsymbol{\\beta}\\) \u200b\u8ba9\u200b\u8bef\u5dee\u200b\u7684\u200b\u5e73\u65b9\u548c\u200b\\(\\boldsymbol{\\epsilon}^{\\top} \\boldsymbol{\\epsilon}\\)\u200b\u6700\u5c0f\u200b\u3002</p> \\[ \\underset{\\boldsymbol{\\beta}}{min} \\quad \\boldsymbol{\\epsilon}^{\\top} \\boldsymbol{\\epsilon} \\] \\[ \\begin{aligned} \\boldsymbol{\\epsilon}^{\\top} \\boldsymbol{\\epsilon} &amp;=(\\boldsymbol{y}-\\boldsymbol{X} \\boldsymbol{\\beta})^{\\top}(\\boldsymbol{y}-\\boldsymbol{X}  \\boldsymbol{\\beta}) \\\\\\ &amp;=(\\boldsymbol{y}-\\boldsymbol{X}  \\boldsymbol{\\beta})^{\\top} \\boldsymbol{y}-(\\boldsymbol{y}-\\boldsymbol{X} \\boldsymbol{\\beta})^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta} \\\\\\ &amp;=\\boldsymbol{y}^{\\top} \\boldsymbol{y}-(\\boldsymbol{X}  \\boldsymbol{\\beta})^{\\top} \\boldsymbol{y}-\\boldsymbol{y}^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta}+(\\boldsymbol{X}  \\boldsymbol{\\beta})^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta} \\\\\\ &amp;=\\boldsymbol{y}^{\\top} \\boldsymbol{y}-\\boldsymbol{\\beta}^{\\top} \\boldsymbol{X} ^{\\top} \\boldsymbol{y}-\\boldsymbol{y}^{\\top} \\boldsymbol{X} \\boldsymbol{\\beta}+\\boldsymbol{\\beta}^{\\top} \\boldsymbol{X} ^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta} \\end{aligned} \\] <p>\u200b\u5e94\u7528\u200b\u4e0b\u200b\u4e00\u8282\u200b\u7684\u200b\u63a8\u5bfc\u200b\u7ed3\u8bba\u200b\uff0c\u200b\u628a\u200b\u4e0a\u5f0f\u200b\u6700\u540e\u200b\u4e00\u6b65\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e00\u9879\u200b\u5bf9\u200b\\(\\boldsymbol{\\beta}\\)\u200b\u6c42\u5bfc\u200b\uff1a</p> <ol> <li> <p>\\(\\frac{\\partial( \\boldsymbol{y}^{\\top}\\boldsymbol{y})}{\\partial{\\boldsymbol{\\beta}}} = 0\\)</p> </li> <li> <p>\\(\\frac{\\partial( \\boldsymbol{\\beta}^{\\top} \\boldsymbol{X} ^{\\top} \\boldsymbol{y})}{\\partial{\\boldsymbol{\\beta}}} = \\boldsymbol{X}^{\\top}\\boldsymbol{y}\\)</p> </li> <li> <p>\\(\\frac{\\partial( \\boldsymbol{y}^{\\top} \\boldsymbol{X} \\boldsymbol{\\beta})}{\\partial{\\boldsymbol{\\beta}}} =(\\boldsymbol{y}^{\\top}\\boldsymbol{X})^{\\top}= \\boldsymbol{X}^{\\top}\\boldsymbol{y}\\)</p> </li> <li> <p>\\(\\frac{\\partial( \\boldsymbol{\\beta}^{\\top} \\boldsymbol{X} ^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta})}{\\partial{\\boldsymbol{\\beta}}} =\\boldsymbol{X} ^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta}+(\\boldsymbol{X} ^{\\top} \\boldsymbol{X})^{\\top}  \\boldsymbol{\\beta}= 2\\boldsymbol{X} ^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta}\\)</p> </li> </ol> <p>\u200b\u56e0\u6b64\u200b\uff1a</p> \\[ \\begin{aligned} \\frac{\\partial( \\boldsymbol{\\epsilon}^{\\top} \\boldsymbol{\\epsilon})} {\\partial{\\boldsymbol{\\beta}}} &amp;=0-\\boldsymbol{X}^{\\top} \\boldsymbol{y}-\\boldsymbol{X}^{\\top} \\boldsymbol{y}+2\\boldsymbol{X} ^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta}\\\\\\ &amp;=2\\boldsymbol{X} ^{\\top} \\boldsymbol{X}  \\boldsymbol{\\beta}-2\\boldsymbol{X}^{\\top}\\boldsymbol{y} \\end{aligned} \\] <p>\u200b\u4ee4\u5176\u200b\u7b49\u4e8e\u200b\\(0\\)\uff0c\u200b\u5f97\u200b\uff1a</p> \\[ \\begin{aligned} 2 \\boldsymbol{X}^{\\top} \\boldsymbol{X} \\boldsymbol{\\beta}-2\\boldsymbol{X}^{\\top}  \\boldsymbol{y}&amp;=0\\\\\\ \\boldsymbol{X}^{\\top} \\boldsymbol{X} \\boldsymbol{\\beta}&amp;=\\boldsymbol{X}^{\\top} \\boldsymbol{y}\\\\\\ {\\color{red}{\\boldsymbol{\\beta}}}&amp;\\color{red}{=(\\boldsymbol{X}^{\\top} \\boldsymbol{X})^{-1} \\boldsymbol{X}^{\\top} \\boldsymbol{y}} \\end{aligned} \\]","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-in-matrix-form/#\u5fc5\u8981\u7684\u77e9\u9635\u6c42\u5bfc\u6cd5\u5219","title":"\u5fc5\u8981\u200b\u7684\u200b\u77e9\u9635\u200b\u6c42\u5bfc\u200b\u6cd5\u5219","text":"<p>PDF \u200b\u7248\u200b\u63a8\u5bfc\u200b\u8fc7\u7a0b\u200b\u5728\u200b\u8fd9\u91cc\u200b\u3002</p> \\[ \\frac{\\partial( \\boldsymbol{x}^{\\top} \\boldsymbol{a})}{\\partial{\\boldsymbol{x}}} = \\frac{\\partial( \\boldsymbol{a}^{\\top}\\boldsymbol{x})}{\\partial{\\boldsymbol{x}}} = \\boldsymbol{a} \\] <p>\u200b\u8bc1\u660e\u200b\uff1a</p> \\[ \\begin{aligned} \\frac{\\partial\\left(\\boldsymbol{x}^{\\top} \\boldsymbol{a}\\right)}{\\partial \\boldsymbol{x}} &amp;=\\frac{\\partial\\left(\\boldsymbol{a}^{\\top} \\boldsymbol{x}\\right)}{\\partial \\boldsymbol{x}} \\\\\\ &amp;=\\frac{\\partial\\left(a_1 x_1+a_2 x_2+\\cdots+a_n x_n\\right)}{\\partial \\boldsymbol{x}} \\\\\\ &amp;=\\left[\\begin{array}{c} \\left.\\frac{\\partial\\left(a_1 x_1+a_2 x_2+\\cdots+a_n x_n\\right)}{\\partial x_1}\\right] \\\\\\ \\frac{\\partial\\left(a_1 x_1+a_2 x_2+\\cdots+a_n x_n\\right)}{\\partial x_2} \\\\\\ \\vdots \\\\\\ \\frac{\\partial\\left(a_1 x_1+a_2 x_2+\\cdots+a_n x_n\\right)}{\\partial x_n} \\end{array}\\right] \\\\\\ &amp;=\\left[\\begin{array}{c} a_1 \\\\\\ a_2 \\\\\\ \\vdots \\\\\\ a_n \\end{array}\\right] \\\\\\ &amp;=\\boldsymbol{a} \\end{aligned} \\] \\[ \\frac{\\partial( \\boldsymbol{x}^{\\top} \\boldsymbol{x})}{\\partial{\\boldsymbol{x}}} = 2\\boldsymbol{x} \\] <p>\u200b\u8bc1\u660e\u200b\uff1a</p> \\[ \\begin{aligned} \\frac{\\partial\\left(\\boldsymbol{x}^{\\top} \\boldsymbol{x}\\right)}{\\partial \\boldsymbol{x}}&amp; =\\frac{\\partial\\left(x_1^2 +x_2^2 +\\cdots+ x_n^2\\right)}{\\partial \\boldsymbol{x}} \\\\\\ &amp; =\\left[\\begin{array}{c} \\frac{\\partial\\left(x_1^2 +x_2^2 +\\cdots+ x_n^2\\right)}{\\partial x_1} \\\\\\ \\frac{\\partial\\left(x_1^2 +x_2^2 +\\cdots+ x_n^2\\right)}{\\partial x_2} \\\\\\ \\vdots \\\\\\ \\frac{\\partial\\left(x_1^2 +x_2^2 +\\cdots+ x_n^2\\right)}{\\partial x_n} \\end{array}\\right] \\\\\\ &amp; =\\left[\\begin{array}{c} 2 x_1 \\\\\\ 2 x_2 \\\\\\ \\vdots \\\\\\ 2 x_n \\end{array}\\right] \\\\\\ &amp; =2\\left[\\begin{array}{c} x_1 \\\\\\ x_2 \\\\\\ \\vdots \\\\\\ x_n \\end{array}\\right] \\\\\\ &amp; =2 \\boldsymbol{x} \\\\\\ \\end{aligned} \\] \\[ \\frac{\\partial( \\boldsymbol{x}^{\\top} \\boldsymbol{A}\\boldsymbol{x})}{\\partial{\\boldsymbol{x}}} = \\boldsymbol{A}\\boldsymbol{x}+\\boldsymbol{A}^{\\top} \\boldsymbol{x} \\] <p>\u200b\u8bc1\u660e\u200b\uff1a</p> \\[ \\begin{aligned}     &amp;\\partial\\left(a_{11} x_1 x_1+a_{12} x_1 x_2+\\cdots+a_{1 n} x_1 x_n\\right.\\\\\\     &amp;+a_{21} x_2 x_1+a_{22} x_2 x_2+\\cdots+a_{2 n} x_2 x_n\\\\\\     \\frac{\\partial\\left(\\boldsymbol{x}^{\\top} \\boldsymbol{A} \\boldsymbol{x}\\right)}{\\partial \\boldsymbol{x}}=&amp;\\frac{\\left.+a_{n 1} x_n x_1+a_{n 2} x_n x_2+\\cdots+a_{n n} x_n x_n\\right)}{\\partial \\boldsymbol{x}}\\\\\\     =&amp;\\left[\\begin{array}{c}         \\left(a_{11} x_1+a_{12} x_2+\\cdots+a_{1 n} x_n\\right)+\\left(a_{11} x_1+a_{21} x_2+\\cdots+a_{n 1} x_n\\right) \\\\\\         \\left(a_{21} x_1+a_{22} x_2+\\cdots+a_{2 n} x_n\\right)+\\left(a_{12} x_1+a_{22} x_2+\\cdots+a_{n 2} x_n\\right) \\\\\\         \\vdots \\\\\\         \\left(a_{n 1} x_1+a_{n 2} x_2+\\cdots+a_{n n} x_n\\right)+\\left(a_{1 n} x_1+a_{2 n} x_2+\\cdots+a_{n n} x_n\\right)         \\end{array}\\right] \\\\\\         =&amp;\\left[\\begin{array}{c}         a_{11} x_1+a_{12} x_2+\\cdots+a_{1 n} x_n \\\\\\         a_{21} x_1+a_{22} x_2+\\cdots+a_{2 n} x_n \\\\\\         \\vdots \\\\\\         a_{n 1} x_1+a_{n 2} x_2+\\cdots+a_{n n} x_n         \\end{array}\\right]+\\left[\\begin{array}{c}         a_{11} x_1+a_{21} x_2+\\cdots+a_{n 1} x_n \\\\\\         a_{12} x_1+a_{22} x_2+\\cdots+a_{n 2} x_n \\\\\\         \\vdots \\\\\\         a_{1 n} x_1+a_{2 n} x_2+\\cdots+a_{n n} x_n         \\end{array}\\right]\\\\\\     =&amp;\\left[\\begin{array}{cccc}         a_{11} &amp; a_{12} &amp; \\cdots &amp; a_{1 n} \\\\\\         a_{21} &amp; a_{22} &amp; \\cdots &amp; a_{2 n} \\\\\\         \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\\\         a_{n 1} &amp; a_{n 2} &amp; \\cdots &amp; a_{n n}         \\end{array}\\right]\\left[\\begin{array}{c}         x_1 \\\\\\         x_2 \\\\\\         \\vdots \\\\\\         x_n         \\end{array}\\right]+\\left[\\begin{array}{cccc}         a_{11} &amp; a_{21} &amp; \\cdots &amp; a_{n 1} \\\\\\         a_{12} &amp; a_{22} &amp; \\cdots &amp; a_{n 2} \\\\\\         \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\\\         a_{1 n} &amp; a_{2 n} &amp; \\cdots &amp; a_{n n}         \\end{array}\\right]\\left[\\begin{array}{c}         x_1 \\\\\\         x_2 \\\\\\         \\vdots \\\\\\         x_n         \\end{array}\\right] \\\\\\     =&amp;\\boldsymbol{A} \\boldsymbol{x}+\\boldsymbol{A}^{\\top} \\boldsymbol{x} \\end{aligned} \\]","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sql-exercise/","title":"SQL \u200b\u5237\u9898","text":"<p>\u200b\u8bb0\u5f55\u200b\u9047\u5230\u200b\u7684\u200b<code>SQL</code>\u200b\u9898\u200b\uff0c\u200b\u592f\u5b9e\u200b\u4f7f\u7528\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u6280\u80fd\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/sql-exercise/#596-\u8d85\u8fc7-5-\u540d\u5b66\u751f\u7684\u8bfe","title":"596. \u200b\u8d85\u8fc7\u200b 5 \u200b\u540d\u200b\u5b66\u751f\u200b\u7684\u200b\u8bfe","text":"SQL<pre><code>SELECT\nclass\nFROM\ncourses\nGROUP BY class\nHAVING COUNT(DISTINCT student) &gt;= 5\n</code></pre> <ul> <li>\u200b\u5173\u952e\u200b\uff1a<code>GROUP BY</code>\u200b\u4e4b\u540e\u200b\u518d\u200b<code>HAVING COUNT()</code>\uff0c<code>HAVING</code>\u200b\u76f8\u5f53\u4e8e\u200b\u505a\u200b\u4e86\u200b\u4e00\u6b21\u200b\u7b5b\u9009\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/sql-exercise/#1873-\u8ba1\u7b97\u7279\u6b8a\u5956\u91d1","title":"1873. \u200b\u8ba1\u7b97\u200b\u7279\u6b8a\u200b\u5956\u91d1","text":"SQL<pre><code>select\nemployee_id,\nif(employee_id % 2 != 0 and left(name,1) != 'M',salary,0) as bonus\nfrom Employees\norder by employee_id\n</code></pre> <ul> <li> <p>\u200b\u53d6\u6a21\u200b\u8fd0\u7b97\u200b\u7528\u200b<code>MOD(a, b)</code>\uff0c\u200b\u6216\u8005\u200b<code>a % b</code>\u3002</p> </li> <li> <p>\u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u4ee5\u200b'M'\u200b\u5f00\u5934\u200b\u7528\u200b<code>LIKE 'M%'</code>\u3002</p> </li> <li> <p>\u200b\u6ce8\u610f\u200b\u662f\u200b<code>LIKE</code>\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b<code>=</code>\u3002</p> </li> <li> <p><code>IF(expr,v1,v2)</code></p> </li> </ul> <p>\u200b\u5176\u4e2d\u200b\uff1a\u200b\u8868\u8fbe\u5f0f\u200b <code>expr</code> \u200b\u5f97\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5f53\u200b <code>expr</code>\u200b\u4e3a\u200b\u771f\u662f\u200b\u8fd4\u56de\u200b <code>v1</code> \u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b <code>v2</code>\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/sql-exercise/#1667-\u4fee\u590d\u8868\u4e2d\u7684\u540d\u5b57","title":"1667. \u200b\u4fee\u590d\u200b\u8868\u4e2d\u200b\u7684\u200b\u540d\u5b57","text":"SQL<pre><code>select\nuser_id,\nconcat(upper(SUBSTRING(name,1,1)), lower(SUBSTRING(name,2,length(name)))) AS name\nfrom Users\nORDER BY\nuser_id\n</code></pre> <ul> <li><code>UPPER(str)</code> \u200b\u4e0e\u200b <code>LOWER(str)</code> </li> <li> <p><code>UPPER(str)</code> \u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u6240\u6709\u200b\u5b57\u7b26\u200b\u8f6c\u4e3a\u200b\u5927\u5199\u200b</p> </li> <li> <p><code>LOWER(str)</code> \u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u6240\u6709\u200b\u5b57\u7b26\u200b\u8f6c\u4e3a\u200b\u5c0f\u5199\u200b</p> </li> <li> <p><code>SUBSTRING(str, begin, end)</code>\u200b\u622a\u53d6\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> </li> <li><code>end</code> \u200b\u4e0d\u5199\u200b\u9ed8\u8ba4\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u5219\u200b\u622a\u53d6\u200b\u5230\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u3002</li> <li> <p><code>SUBSTRING(name, 2)</code>\u200b\u4ece\u200b\u7b2c\u4e8c\u4e2a\u200b\u622a\u53d6\u200b\u5230\u200b\u672b\u5c3e\u200b\uff0c\u200b\u6ce8\u610f\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e0b\u6807\u200b\uff0c\u200b\u5c31\u662f\u200b\u7b2c\u4e8c\u4e2a\u200b\u3002\u200b\u5373\u200b<code>SUBSTRING(abcd, 2)</code>\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b<code>bcd</code>\u3002</p> </li> <li> <p><code>CONCAT()</code>\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u62fc\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u3002</p> </li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/sql-exercise/#1484-\u6309\u65e5\u671f\u5206\u7ec4\u9500\u552e\u4ea7\u54c1","title":"1484. \u200b\u6309\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u9500\u552e\u200b\u4ea7\u54c1","text":"SQL<pre><code>SELECT\nsell_date,\nCOUNT(DISTINCT product) AS num_sold,\nGROUP_CONCAT(DISTINCT product\nORDER BY product\nSEPARATOR ',') AS products\nFROM\nActivities\nGROUP BY\nsell_date\nORDER BY\nsell_date\n</code></pre> <ul> <li><code>COUNT(DISTINCT product)</code>\uff1a\u200b\u552f\u4e00\u200b\u503c\u200b\u8ba1\u6570\u200b</li> <li><code>group_concat()</code>\u200b\u51fd\u6570\u200b\uff0c\u200b\u987e\u540d\u601d\u4e49\u200b\u4e0e\u200b group by \u200b\u6709\u5173\u200b\uff0c\u200b\u529f\u80fd\u200b\uff1a\u200b\u5c06\u200b group by \u200b\u4ea7\u751f\u200b\u7684\u200b\u540c\u4e00\u4e2a\u200b\u5206\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u8fde\u63a5\u8d77\u6765\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7ed3\u679c\u200b\u3002</li> <li><code>Distinct</code>\uff1a\u200b\u53bb\u9664\u200b\u91cd\u590d\u200b\u503c\u200b\u3002</li> <li><code>Order By</code>\uff1a\u200b\u7ec4\u5185\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u6309\u7167\u200b\u4ec0\u4e48\u200b\u6392\u5e8f\u200b\u3002\u200b\u53ef\u4ee5\u200b\u52a0\u200b<code>DESC</code>\u200b\u7528\u4e8e\u200b\u964d\u5e8f\u200b\u3002</li> <li><code>Separator</code>\uff1a\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u7ec4\u7684\u503c\u200b\u7531\u200b <code>,</code>\u200b\u8fd0\u7b97\u7b26\u200b\u5206\u9694\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u200b\u628a\u200b\u5206\u9694\u7b26\u200b\u6539\u6210\u200b<code>;</code>\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>SEPARATOR ';'</code>\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/","title":"\u725b\u987f\u200b\u6cd5\u548c\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u200b\u5b9e\u73b0\u200b Logistic \u200b\u56de\u5f52","text":"<p>\u200b\u63a8\u5bfc\u200b\u4e8c\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u7684\u200b Hessian \u200b\u77e9\u9635\u200b\uff0c\u200b\u5229\u7528\u200b\u725b\u987f\u200b\u6cd5\u548c\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u6c42\u200b\u56de\u5f52\u7cfb\u6570\u200b\u7684\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u3002\u200b\u6240\u5f97\u200b\u6a21\u578b\u200b\u5728\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u200b\u51c6\u786e\u5ea6\u200b\u4e3a\u200b 78%\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0\u200b\uff1a","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u6570\u636e\u6587\u4ef6","title":"\u6570\u636e\u6587\u4ef6\u200b\uff1a","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u63a8\u5bfc\u4f3c\u7136\u51fd\u6570\u7684-hessian-\u77e9\u9635","title":"\u63a8\u5bfc\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u7684\u200b Hessian \u200b\u77e9\u9635","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u4f3c\u7136\u51fd\u6570\u7684\u68af\u5ea6","title":"\u4f3c\u7136\u200b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u4f3c\u7136\u51fd\u6570\u7684-hessian-\u77e9\u9635","title":"\u4f3c\u7136\u200b\u51fd\u6570\u200b\u7684\u200b Hessian \u200b\u77e9\u9635","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u725b\u987f\u6cd5\u7b97\u6cd5\u6b65\u9aa4","title":"\u725b\u987f\u200b\u6cd5\u200b\u7b97\u6cd5\u200b\u6b65\u9aa4","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u56de\u6eaf\u7ebf\u641c\u7d22\u7684\u725b\u987f\u6cd5","title":"\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u7684\u200b\u725b\u987f\u200b\u6cd5","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u62df\u725b\u987f-bfgs-\u6cd5\u7b97\u6cd5\u6b65\u9aa4","title":"\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u200b\u7b97\u6cd5\u200b\u6b65\u9aa4","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u62df\u725b\u987f-bfgs-\u6cd5\u4e2db\u77e9\u9635\u7684\u8fed\u4ee3\u516c\u5f0f","title":"\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u4e2d\u200b\\(B\\)\u200b\u77e9\u9635\u200b\u7684\u200b\u8fed\u4ee3\u200b\u516c\u5f0f","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u4f7f\u7528-python-\u5c06\u725b\u987f\u6cd5\u548c\u62df\u725b\u987f-bfgs-\u6cd5\u5e94\u7528\u4e8e\u6c42\u89e3beta\u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1","title":"\u4f7f\u7528\u200b Python \u200b\u5c06\u200b\u725b\u987f\u200b\u6cd5\u548c\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u200b\u5e94\u7528\u200b\u4e8e\u200b\u6c42\u89e3\u200b\\(\\beta\\)\u200b\u7684\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib\n# \u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\nmatplotlib.rcParams[\"font.sans-serif\"] = [\"SimSun\"]\nmatplotlib.rcParams[\"axes.unicode_minus\"] = False\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u5bfc\u5165\u6570\u636e","title":"\u5bfc\u5165\u200b\u6570\u636e","text":"Python<pre><code>df = pd.read_csv(\"data.csv\")\nX = df.iloc[:, 2:].to_numpy()\nY = df.iloc[:, 1:2].to_numpy()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u6c42\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\u7684\u76f8\u53cd\u6570\u503c\u5373jbeta","title":"\u6c42\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u7684\u200b\u76f8\u53cd\u200b\u6570\u503c\u200b\uff0c\u200b\u5373\u200b\\(J(\\beta)\\)","text":"Python<pre><code>def f(X, Y, beta):\nsum = 0\nfor i in range(Y.shape[0]):\nproduct = np.exp(beta @ X[i])\nif Y[i][0] == 1:\nsum = sum + np.log(product / (1 + product))\nelse:\nsum = sum + np.log(1 / (1 + product))\nreturn -sum\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u6c42\u68af\u5ea6\u5411\u91cf","title":"\u6c42\u200b\u68af\u5ea6\u200b\u5411\u91cf","text":"Python<pre><code>def gradient(X, Y, beta):\n# \u200b\u5c06\u200b\u68af\u5ea6\u200b\u5411\u91cf\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b\u96f6\u200b\u5411\u91cf\u200b\ngradient_vector = np.zeros(X.shape[1])\n# \u200b\u5c06\u200b i \u200b\u5728\u200b 1 \u200b\u5230\u200b n \u200b\u4e0a\u200b\u904d\u5386\u200b\u5e76\u52a0\u200b\u548c\u200b\uff0c\u200b\u6c42\u200b\u68af\u5ea6\u200b\u7684\u200b\u503c\u200b\nfor i in range(Y.shape[0]):\nproduct = np.exp(beta @ X[i])\nif Y[i][0] == 1:\ngradient_vector = gradient_vector - X[i] / (1 + product)\nelse:\ngradient_vector = gradient_vector + product * X[i] / (1 + product)\nreturn gradient_vector\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u6c42-hessian-\u77e9\u9635\u6b64\u9898\u4e2d\u7684-hessian-\u77e9\u9635\u53ea\u4e0ex\u548cbeta\u6709\u5173\u4e0ey\u65e0\u5173","title":"\u6c42\u200b Hessian \u200b\u77e9\u9635\u200b\u3002\u200b\u6b64\u9898\u200b\u4e2d\u200b\u7684\u200b Hessian \u200b\u77e9\u9635\u200b\u53ea\u200b\u4e0e\u200b\\(X\\)\u200b\u548c\u200b\\(\\beta\\)\u200b\u6709\u5173\u200b\uff0c\u200b\u4e0e\u200b\\(Y\\)\u200b\u65e0\u5173","text":"Python<pre><code>def hessian(X, beta):\n# \u200b\u5c06\u200b S \u200b\u77e9\u9635\u200b\u521d\u59cb\u5316\u200b\u3002\u200b\u6ce8\u610f\u200b\u8981\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0.0\uff0c\u200b\u5982\u679c\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0\uff0c\u200b\u5219\u200b\u4e0d\u80fd\u200b\u50a8\u5b58\u200b\u5c0f\u6570\u200b\nS = np.diag(np.full(Y.shape[0], 0.0))\nfor i in range(Y.shape[0]):\nproduct = np.exp(beta @ X[i])\nu = product / (1 + product)\nS[i, i] = u * (1 - u)\nreturn X.T @ S @ X\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u5e94\u7528\u725b\u987f\u6cd5\u7ed3\u5408\u56de\u6eaf\u7ebf\u641c\u7d22\u6c42beta\u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1","title":"\u5e94\u7528\u200b\u725b\u987f\u200b\u6cd5\u200b\uff0c\u200b\u7ed3\u5408\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u6c42\u200b\\(\\beta\\)\u200b\u7684\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1","text":"<p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6700\u521d\u200b\u6211\u200b\u6ca1\u6709\u200b\u7528\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u63a7\u5236\u200b\u6b65\u957f\u200b\uff0c\u200b\u5bfc\u81f4\u200b\\(\\beta\\)\u200b\u7684\u200b\u6a21\u957f\u200b\u5f88\u5927\u200b\uff0c\u200b\u4ee3\u5165\u200b\u5230\u200b\u68af\u5ea6\u200b\u516c\u5f0f\u200b\u4e2d\u200b\uff0c\u200b\u7531\u4e8e\u200b\u8981\u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\uff0c\u200b\u800c\u200b\\(\\beta\\)\u200b\u51fa\u73b0\u200b\u5728\u200b\u6307\u6570\u200b\u4e2d\u200b\uff0c\u200b\u4ece\u800c\u200b\u6307\u6570\u200b\u7684\u200b\u7ed3\u679c\u200b\u8fc7\u4e8e\u200b\u5de8\u5927\u200b\u751a\u81f3\u200b\u6ea2\u51fa\u200b\u3002\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u4e0d\u200b\u63a7\u5236\u200b\u6b65\u957f\u200b\u7684\u8bdd\u200b\u7ed3\u679c\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u6536\u655b\u200b\uff0c\u200b\u53cd\u800c\u200b\u5728\u200b\u671d\u200b\u76ee\u6807\u503c\u200b\u7684\u200b\u53cd\u200b\u65b9\u5411\u200b\u8fed\u4ee3\u200b\u3002</p> <p>\u200b\u7531\u6b64\u53ef\u89c1\u200b\uff0c\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u7b49\u200b\u63a7\u5236\u200b\u6b65\u957f\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5177\u6709\u200b\u5f88\u5927\u200b\u7684\u200b\u5b9e\u9645\u610f\u4e49\u200b\u3002</p> Python<pre><code># \u200b\u8bbe\u7f6e\u200b beta \u200b\u7684\u200b\u521d\u59cb\u200b\u70b9\u200b\nbeta = np.ones(X.shape[1])\n# \u200b\u8ba1\u7b97\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\nnorm = np.linalg.norm(gradient(X, Y, beta))\nnorm_list = [norm]\n# \u200b\u5f53\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\u957f\u5927\u200b\u4e8e\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u76f4\u200b\u8fed\u4ee3\u200b\nwhile norm &gt; 1e-5:\n# \u200b\u6c42\u200b Hessian \u200b\u77e9\u9635\u200b\nhessian_matrix = hessian(X, beta)\n# \u200b\u6c42\u200b Hessian \u200b\u77e9\u9635\u200b\u7684\u200b\u9006\u200b\nhessian_matrix_inverse = np.linalg.inv(hessian_matrix)\n# \u200b\u6c42\u200b beta \u200b\u7684\u200b\u8fed\u4ee3\u200b\u65b9\u5411\u200b\u548c\u200b\u957f\u5ea6\u200b\nv = -hessian_matrix_inverse @ gradient(X, Y, beta)\n# \u200b\u8bbe\u7f6e\u200b\u6b65\u957f\u200b\u500d\u6570\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\nt = 1\n# \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\uff0c\u200b\u68c0\u67e5\u200b\u76ee\u524d\u200b\u7684\u200b\u6b65\u957f\u200b\u662f\u5426\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u82e5\u200b\u6b65\u957f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u7f29\u5c0f\u200b\u6b65\u957f\u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b 0.5\nwhile f(X, Y, beta + t * v) &gt; f(X, Y, beta) + 0.4 * t * gradient(X, Y, beta) @ v:\nt = 0.5 * t\n# \u200b\u8fed\u4ee3\u200b\u66f4\u65b0\u200b beta\nbeta = beta + t * v\n# \u200b\u6c42\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u957f\u200b\nnorm = np.linalg.norm(gradient(X, Y, beta))\n# \u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u957f\u200b\nnorm_list.append(norm)\nprint(\"beta \u200b\u7684\u200b\u6700\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u662f\u200b\uff1a\", beta)\n</code></pre> Text Only<pre><code>## beta\u200b\u7684\u200b\u6700\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u662f\u200b\uff1a [ 1.27459903  1.43703603  0.65622366 -1.22337458 -2.34681303]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u7ed8\u5236\u8fed\u4ee3\u6b21\u6570\u4e0e\u68af\u5ea6\u7684\u6a21","title":"\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21","text":"Python<pre><code>fig = plt.figure(figsize=(5, 4), dpi=200)\nplt.plot(norm_list, \"r-o\", markerfacecolor=\"none\")  # \u200b\u7a7a\u5fc3\u200b\u5706\u7528\u200b markerfacecolor='none',\nplt.xlabel(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\")\nplt.ylabel(\"\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u5e94\u7528\u62df\u725b\u987f\u6cd5\u7ed3\u5408\u56de\u6eaf\u7ebf\u641c\u7d22\u6c42beta\u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1","title":"\u5e94\u7528\u200b\u62df\u200b\u725b\u987f\u200b\u6cd5\u200b\uff0c\u200b\u7ed3\u5408\u200b\u56de\u6eaf\u200b\u7ebf\u200b\u641c\u7d22\u200b\u6c42\u200b\\(\\beta\\)\u200b\u7684\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1","text":"Python<pre><code># \u200b\u8bbe\u7f6e\u200b beta \u200b\u7684\u200b\u521d\u59cb\u200b\u70b9\u200b\nbeta = np.ones(X.shape[1])\n# \u200b\u8bbe\u7f6e\u200b B \u200b\u7684\u200b\u521d\u59cb\u503c\u200b\uff0c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5bf9\u79f0\u200b\u6b63\u5b9a\u200b\u77e9\u9635\u200b\nB = np.diag(np.full(X.shape[1], 10))\n# \u200b\u5f53\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\u957f\u5927\u200b\u4e8e\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u76f4\u200b\u8fed\u4ee3\u200b\n# \u200b\u6c42\u200b g_k\ng_k = gradient(X, Y, beta)\n# \u200b\u8ba1\u7b97\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\nnorm = np.linalg.norm(g_k)\nnorm_list = [norm]\nwhile norm &gt; 1e-5:\n# \u200b\u6c42\u200b\u8fed\u4ee3\u200b\u7684\u200b\u65b9\u5411\u200b\u548c\u200b\u6b65\u957f\u200b\np = -np.linalg.inv(B) @ g_k\n# \u200b\u8bbe\u7f6e\u200b\u6b65\u957f\u200b\u500d\u6570\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\nt = 1\n# \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\uff0c\u200b\u68c0\u67e5\u200b\u76ee\u524d\u200b\u7684\u200b\u6b65\u957f\u200b\u662f\u5426\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u82e5\u200b\u6b65\u957f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u7f29\u5c0f\u200b\u6b65\u957f\u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b 0.5\nwhile f(X, Y, beta + t * p) &gt; f(X, Y, beta) + 0.4 * t * g_k @ p:\nt = 0.5 * t\n# \u200b\u8fed\u4ee3\u200b\u66f4\u65b0\u200b B\n# \u200b\u6c42\u200b g_{k+1}\ng_k_plus_1 = gradient(X, Y, beta + t * p)\n# \u200b\u6c42\u200b y_k\ny_k = g_k_plus_1 - g_k\n# \u200b\u6c42\u200b sigma_k\nsigma_k = t * p\n# \u200b\u8fed\u4ee3\u200b\u66f4\u65b0\u200b B\nB = (\nB\n+ (np.outer(y_k, y_k)) / (y_k @ sigma_k)\n- (np.outer(B.dot(sigma_k), (sigma_k.T)).dot(B.T)) / (sigma_k.T @ B @ sigma_k)\n)\n# \u200b\u8fed\u4ee3\u200b\u66f4\u65b0\u200b beta\nbeta = beta + t * p\n# \u200b\u6c42\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\ng_k = gradient(X, Y, beta)\n# \u200b\u6c42\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u957f\u200b\nnorm = np.linalg.norm(g_k)\n# \u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u957f\u200b\nnorm_list.append(norm)\nprint(\"beta \u200b\u7684\u200b\u6700\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u662f\u200b\uff1a\", beta)\n</code></pre> Text Only<pre><code>## beta\u200b\u7684\u200b\u6700\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u662f\u200b\uff1a [ 1.27459939  1.43703625  0.65622384 -1.22337487 -2.34681354]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u7ed8\u5236\u8fed\u4ee3\u6b21\u6570\u4e0e\u68af\u5ea6\u7684\u6a21_1","title":"\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21","text":"Python<pre><code>fig = plt.figure(figsize=(5, 4), dpi=200)\nplt.plot(norm_list, \"r-o\", markerfacecolor=\"none\")  # \u200b\u7a7a\u5fc3\u200b\u5706\u7528\u200b markerfacecolor='none',\nplt.xlabel(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\", usetex=False)  # \u200b\u4e2d\u6587\u200b\u4e0d\u7528\u200b tex \u200b\u6e32\u67d3\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\nplt.ylabel(\"\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\", usetex=False)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u5229\u7528\u8bad\u7ec3\u51fa\u7684beta\u503c\u5bf9y\u8fdb\u884c\u9884\u6d4b","title":"\u5229\u7528\u200b\u8bad\u7ec3\u200b\u51fa\u200b\u7684\u200b\\(\\beta\\)\u200b\u503c\u200b\uff0c\u200b\u5bf9\u200b\\(Y\\)\u200b\u8fdb\u884c\u200b\u9884\u6d4b","text":"Python<pre><code>df[\"p_predict\"] = np.nan\ndf[\"Y_predict\"] = np.nan\ndf[\"correct\"] = np.nan\ndf[\"p_predict\"] = df.apply(\nlambda line: 1 / (1 + np.exp(-line.iloc[2:7] @ beta)), axis=1\n)\n# \u200b\u8bbe\u5b9a\u200b\u5224\u65ad\u200b\u9608\u503c\u200b\nhurdle = 0.5\ndf[\"Y_predict\"] = df.apply(lambda line: 1 if line[\"p_predict\"] &gt; hurdle else 0, axis=1)\ndf[\"correct\"] = df.apply(\nlambda line: 1 if line[\"Y_predict\"] == line[\"Y\"] else 0, axis=1\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-using-newton-raphson-and-bfgs-algorithm/#\u8ba1\u7b97\u9884\u6d4b\u51c6\u786e\u7387","title":"\u8ba1\u7b97\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387","text":"Python<pre><code>df\n</code></pre> Text Only<pre><code>##      Unnamed: 0  Y        X1        X2  ...        X5  p_predict  Y_predict  correct\n## 0             1  0  0.227077 -0.492374  ...  0.337587   0.074140          0        1\n## 1             2  1 -1.439121 -0.898333  ... -1.729708   0.840268          1        1\n## 2             3  0 -0.252111 -0.274725  ... -0.705981   0.654752          1        0\n## 3             4  1 -1.736983 -1.197634  ... -1.266615   0.471904          0        0\n## 4             5  1 -1.081011 -0.283816  ... -0.937780   0.639866          1        1\n## ..          ... ..       ...       ...  ...       ...        ...        ...      ...\n## 195         196  1 -0.555757 -0.483450  ... -1.764113   0.993497          1        1\n## 196         197  0 -0.581243 -0.590711  ...  0.485322   0.057910          0        1\n## 197         198  0 -1.752883 -0.934694  ...  0.876816   0.004954          0        1\n## 198         199  1  0.397383  0.231328  ...  0.902995   0.121900          0        0\n## 199         200  1  1.127998  1.487247  ...  0.228712   0.963261          1        1\n## \n## [200 rows x 10 columns]\n</code></pre> Python<pre><code>print(\"\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u4e3a\u200b\uff1a{0:.2%}\".format(df[\"correct\"].mean()))\n</code></pre> Text Only<pre><code>## \u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u4e3a\u200b\uff1a78.50%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/hbase-hive/","title":"\u5927\u200b\u6570\u636e\u200b\u6280\u672f\u200b\u4e4b\u200b HBase \u200b\u548c\u200b Hive","text":"<p>HBase \u200b\u548c\u200b Hive \u200b\u662f\u200b\u6d77\u91cf\u200b\u6570\u636e\u200b\u4e0b\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u6280\u672f\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#hbase","title":"HBase","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u521d\u8bc6-hbase","title":"\u521d\u8bc6\u200b HBase","text":"<p>\u200b\u4e2a\u4eba\u200b\u7406\u89e3\u200b\uff1a</p> <p>HBase \u200b\u662f\u200b Hadoop database \u200b\u7684\u200b\u7b80\u79f0\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u57fa\u4e8e\u200b Hadoop \u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u662f\u200b\u4e00\u79cd\u200b\u975e\u200b\u5173\u7cfb\u200b\u578b\u200b\u3001\u200b\u5217\u5f0f\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u3002\u200b\u9002\u5408\u200b\u5b58\u50a8\u200b\u7a00\u758f\u200b\u6570\u636e\u200b\u3002\u200b\u5f53\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u5220\u9664\u200b\u539f\u200b\u6570\u636e\u200b\uff0c\u200b\u53ea\u662f\u200b\u65b0\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u6233\u200b\u8bb0\u5f55\u200b\u65b0\u200b\u7684\u200b\u503c\u200b\uff08\u200b\u6700\u200b\u591a\u200b\u4fdd\u7559\u200b\u6700\u8fd1\u200b\u7684\u200b 5 \u200b\u4e2a\u200b\u7248\u672c\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u5bf9\u200b\u53ea\u8bfb\u200b\u7684\u200b\u4f18\u5316\u200b\u505a\u200b\u5f97\u200b\u5f88\u200b\u597d\u200b\u3002</p> <p>\u200b\u8bfe\u4ef6\u200b\u4e0a\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff1a</p> <p>HBase \u200b\u662f\u200b\u4e00\u4e2a\u200b\u9ad8\u200b\u53ef\u9760\u200b\u3001\u200b\u9ad8\u6027\u80fd\u200b\u3001\u200b\u9762\u5411\u200b\u5217\u200b\u3001\u200b\u53ef\u200b\u4f38\u7f29\u200b\u7684\u200b\u5206\u5e03\u5f0f\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u662f\u200b\u8c37\u6b4c\u200b BigTable \u200b\u7684\u200b\u5f00\u6e90\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u975e\u200b\u7ed3\u6784\u5316\u200b\u548c\u200b\u534a\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u677e\u6563\u200b\u6570\u636e\u200b\u3002HBase \u200b\u7684\u200b\u76ee\u6807\u200b\u662f\u200b\u5904\u7406\u200b\u975e\u5e38\u200b\u5e9e\u5927\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6c34\u5e73\u200b\u6269\u5c55\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5229\u7528\u200b\u5ec9\u4ef7\u200b\u8ba1\u7b97\u673a\u200b\u96c6\u7fa4\u200b\u5904\u7406\u200b\u7531\u200b\u8d85\u8fc7\u200b 10 \u200b\u4ebf\u884c\u200b\u6570\u636e\u200b\u548c\u200b\u6570\u767e\u4e07\u200b\u5217\u200b\u5143\u7d20\u200b\u7ec4\u6210\u200b\u7684\u200b\u6570\u636e\u8868\u200b\u3002</p> <p>\u200b\u4e60\u9898\u8bfe\u200b\u4e0a\u200b\u7684\u200b\u66f4\u200b\u591a\u200b\u7406\u89e3\u200b\uff1a</p> <p>HBase \u200b\u5176\u5b9e\u200b\u4e5f\u200b\u53ef\u200b\u90e8\u7f72\u200b\u5728\u200b\u5355\u673a\u200b\u4e0a\u200b\uff0c\u200b\u4f46\u200b HBase \u200b\u7684\u200b\u4f18\u52bf\u200b\u662f\u200b\u65b9\u4fbf\u200b\u5904\u7406\u200b\u6d77\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u800c\u200b\u5355\u673a\u200b\u4e00\u822c\u200b\u65e0\u6cd5\u200b\u5b58\u50a8\u200b\u6d77\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e00\u822c\u200b\u5c06\u200b HBase \u200b\u4e0e\u200b Zookeeper\uff08\u200b\u5206\u5e03\u5f0f\u200b\u534f\u8c03\u200b\u670d\u52a1\u200b\u7cfb\u7edf\u200b\uff09\u200b\u548c\u200b Kafka\uff08\u200b\u5206\u5e03\u5f0f\u200b\u6d88\u606f\u200b\u7cfb\u7edf\u200b\uff09\u200b\u7ed3\u5408\u200b\uff0c\u200b\u90e8\u7f72\u200b\u5728\u200b HDFS\uff08\u200b\u5206\u5e03\u5f0f\u200b\u6587\u4ef6\u200b\u50a8\u5b58\u200b\u7cfb\u7edf\u200b\uff09\u200b\u4e0a\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u200b\u8bb8\u591a\u200b\u5ec9\u4ef7\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5904\u7406\u200b\u6d77\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#hbase-\u4e0e\u4f20\u7edf\u7684\u5173\u7cfb\u6570\u636e\u5e93rational-database-management-system\u7684\u533a\u522b","title":"HBase \u200b\u4e0e\u200b\u4f20\u7edf\u200b\u7684\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\uff08Rational Database Management System\uff09\u200b\u7684\u200b\u533a\u522b","text":"<ol> <li>\u200b\u6570\u636e\u7c7b\u578b\u200b\uff1a\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u91c7\u7528\u200b\u5173\u7cfb\u200b\u6a21\u578b\u200b\uff0c\u200b\u5177\u6709\u200b\u4e30\u5bcc\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u548c\u200b\u5b58\u50a8\u200b\u65b9\u5f0f\u200b\uff0cHBase \u200b\u5219\u200b\u91c7\u7528\u200b\u4e86\u200b\u66f4\u52a0\u200b\u7b80\u5355\u200b\u7684\u200b\u6570\u636e\u6a21\u578b\u200b\uff0c\u200b\u5b83\u200b\u628a\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u4e3a\u200b\u672a\u7ecf\u200b\u89e3\u91ca\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u4e2d\u200b\u5305\u542b\u200b\u4e86\u200b\u4e30\u5bcc\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4f1a\u200b\u6d89\u53ca\u200b\u590d\u6742\u200b\u7684\u200b\u591a\u8868\u200b\u8fde\u63a5\u200b\u3002HBase \u200b\u64cd\u4f5c\u200b\u5219\u200b\u4e0d\u200b\u5b58\u5728\u200b\u590d\u6742\u200b\u7684\u200b\u8868\u4e0e\u8868\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\uff0c\u200b\u53ea\u6709\u200b\u7b80\u5355\u200b\u7684\u200b\u63d2\u5165\u200b\u3001\u200b\u67e5\u8be2\u200b\u3001\u200b\u5220\u9664\u200b\u3001\u200b\u6e05\u7a7a\u200b\u7b49\u200b\uff0c\u200b\u56e0\u4e3a\u200b HBase \u200b\u5728\u200b\u8bbe\u8ba1\u200b\u4e0a\u200b\u5c31\u200b\u907f\u514d\u200b\u4e86\u200b\u590d\u6742\u200b\u7684\u200b\u8868\u548c\u8868\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u3002</li> <li>\u200b\u5b58\u50a8\u200b\u6a21\u5f0f\u200b\uff1a\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u662f\u200b\u57fa\u4e8e\u200b\u884c\u200b\u6a21\u5f0f\u200b\u5b58\u50a8\u200b\u7684\u200b\u3002HBase \u200b\u662f\u200b\u57fa\u4e8e\u200b\u5217\u200b\u5b58\u50a8\u200b\u7684\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5217\u65cf\u200b\u90fd\u200b\u7531\u200b\u51e0\u4e2a\u200b\u6587\u4ef6\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u4e0d\u540c\u200b\u5217\u65cf\u200b\u7684\u200b\u6587\u4ef6\u200b\u662f\u200b\u5206\u79bb\u200b\u7684\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u7d22\u5f15\u200b\uff1a\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u901a\u5e38\u200b\u53ef\u4ee5\u200b\u9488\u5bf9\u200b\u4e0d\u540c\u200b\u5217\u200b\u6784\u5efa\u200b\u590d\u6742\u200b\u7684\u200b\u591a\u4e2a\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u6570\u636e\u200b\u8bbf\u95ee\u200b\u6027\u80fd\u200b\u3002HBase \u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\u2014\u2014\u200b\u884c\u952e\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5de7\u5999\u200b\u7684\u200b\u8bbe\u8ba1\u200b\uff0cHBase \u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u8bbf\u95ee\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6216\u8005\u200b\u901a\u8fc7\u200b\u884c\u952e\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u6216\u8005\u200b\u901a\u8fc7\u200b\u884c\u952e\u200b\u626b\u63cf\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u5f97\u200b\u6574\u4e2a\u200b\u7cfb\u7edf\u200b\u4e0d\u4f1a\u200b\u6162\u4e0b\u6765\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u7ef4\u62a4\u200b\uff1a\u200b\u5728\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u4e2d\u200b\uff0c\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u4f1a\u200b\u7528\u200b\u6700\u65b0\u200b\u7684\u200b\u5f53\u524d\u200b\u503c\u53bb\u200b\u66ff\u6362\u200b\u8bb0\u5f55\u200b\u4e2d\u200b\u539f\u6765\u200b\u7684\u200b\u65e7\u503c\u200b\uff0c\u200b\u65e7\u503c\u200b\u88ab\u200b\u8986\u76d6\u200b\u540e\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u5b58\u5728\u200b\u3002\u200b\u800c\u200b\u5728\u200b HBase \u200b\u4e2d\u200b\u6267\u884c\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u65f6\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5220\u9664\u200b\u6570\u636e\u200b\u65e7\u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u800c\u662f\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u65e7\u6709\u200b\u7684\u200b\u7248\u672c\u200b\u4ecd\u7136\u200b\u4fdd\u7559\u200b\u3002</li> <li>\u200b\u53ef\u4f38\u7f29\u6027\u200b\uff1a\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u5f88\u96be\u200b\u5b9e\u73b0\u200b\u6a2a\u5411\u200b\u6269\u5c55\u200b\uff0c\u200b\u7eb5\u5411\u200b\u6269\u5c55\u200b\u7684\u200b\u7a7a\u95f4\u200b\u4e5f\u200b\u6bd4\u8f83\u200b\u6709\u9650\u200b\u3002\u200b\u76f8\u53cd\u200b\uff0cHBase \u200b\u548c\u200b BigTable \u200b\u8fd9\u4e9b\u200b\u5206\u5e03\u5f0f\u200b\u6570\u636e\u5e93\u200b\u5c31\u662f\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u7075\u6d3b\u200b\u7684\u200b\u6c34\u5e73\u200b\u6269\u5c55\u200b\u800c\u200b\u5f00\u53d1\u200b\u7684\u200b\uff0c\u200b\u80fd\u591f\u200b\u8f7b\u6613\u200b\u5730\u200b\u901a\u8fc7\u200b\u5728\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u589e\u52a0\u200b\u6216\u8005\u200b\u51cf\u5c11\u200b\u786c\u4ef6\u200b\u6570\u91cf\u200b\u6765\u200b\u5b9e\u73b0\u200b\u6027\u80fd\u200b\u7684\u200b\u4f38\u7f29\u200b\u3002</li> </ol>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#hbase-\u7684\u6570\u636e\u6a21\u578b","title":"HBase \u200b\u7684\u200b\u6570\u636e\u6a21\u578b","text":"<p>\u200b\u6309\u7167\u200b\uff1a</p> <ul> <li>\u200b\u884c\u952e\u200b</li> <li>\u200b\u5217\u65cf\u200b</li> <li>\u200b\u5217\u200b\u9650\u5b9a\u7b26\u200b\uff08\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u5217\u65cf\u200b\u4e0b\u200b\u7684\u200b\u5217\u540d\u200b\uff09</li> <li>\u200b\u65f6\u95f4\u200b\u6233\u200b</li> </ul> <p>\u200b\u6765\u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u503c\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b Cell \u200b\u91cc\u200b\u7684\u200b\u6570\u636e\u200b\u503c\u200b\u6ca1\u6709\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ea\u662f\u200b<code>byte array</code>\uff0c\u200b\u5373\u200b<code>\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b</code>\u3002\u200b\u9700\u8981\u200b\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\u89e3\u91ca\u200b\u6210\u200b\u9002\u5f53\u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5982\u200b\u4e2d\u6587\u200b\u3001\u200b\u6570\u5b57\u200b\u7b49\u7b49\u200b\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u5217\u5f0f\u5b58\u50a8\u7ed3\u6784","title":"\u5217\u5f0f\u200b\u5b58\u50a8\u200b\u7ed3\u6784","text":"<p>\u200b\u6309\u7167\u200b\u5217\u5f0f\u200b\u5b58\u50a8\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8868\u683c\u200b\u4e2d\u200b\u7684\u200b\u7a7a\u503c\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u88ab\u200b\u5b58\u50a8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5927\u5927\u200b\u8282\u7ea6\u200b\u7a7a\u95f4\u200b\u3002\u200b\u56e0\u6b64\u200b HBase \u200b\u5341\u5206\u200b\u9002\u5408\u200b\u5b58\u50a8\u200b\u7a00\u758f\u200b\u6570\u636e\u200b\uff08\u200b\u7a00\u758f\u200b\u6570\u636e\u200b\u6709\u200b\u5f88\u591a\u200b\u7a7a\u503c\u200b\uff09\u3002</p> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#hbase-\u5e38\u7528\u64cd\u4f5c","title":"HBase \u200b\u5e38\u7528\u200b\u64cd\u4f5c","text":"<p>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u8f93\u5165\u200b</p> Bash<pre><code>hbase shell\nquit\n</code></pre> <p>\u200b\u8fdb\u5165\u200b\u548c\u200b\u9000\u51fa\u200b HBase\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u6570\u636e\u5b9a\u4e49\u76f8\u5173ddl","title":"\u6570\u636e\u200b\u5b9a\u4e49\u200b\u76f8\u5173\u200b\uff08DDL\uff09","text":"<ul> <li>create: \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u8868\u200b\u3002<ul> <li>create '\u200b\u8868\u540d\u200b', '\u200b\u5217\u65cf\u540d\u200b 1', '\u200b\u5217\u65cf\u540d\u200b 2'</li> </ul> </li> <li>list: \u200b\u5217\u51fa\u200b HBase \u200b\u7684\u200b\u6240\u6709\u200b\u8868\u200b\u3002</li> <li>disable: \u200b\u7981\u7528\u200b\u8868\u200b\u3002<ul> <li>disable '\u200b\u8868\u540d\u200b'</li> </ul> </li> <li>is_disabled: \u200b\u9a8c\u8bc1\u200b\u8868\u200b\u662f\u5426\u200b\u88ab\u200b\u7981\u7528\u200b\u3002</li> <li>enable: \u200b\u542f\u7528\u200b\u4e00\u4e2a\u200b\u8868\u200b\u3002</li> <li>is_enabled: \u200b\u9a8c\u8bc1\u200b\u8868\u200b\u662f\u5426\u200b\u5df2\u200b\u542f\u7528\u200b\u3002</li> <li>describe: \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u8868\u200b\u7684\u200b\u63cf\u8ff0\u200b\u3002<ul> <li>describe '\u200b\u8868\u540d\u200b'</li> </ul> </li> <li>alter: \u200b\u6539\u53d8\u200b\u4e00\u4e2a\u200b\u8868\u200b\u3002</li> <li>exists: \u200b\u9a8c\u8bc1\u200b\u8868\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u3002<ul> <li>exist '\u200b\u8868\u540d\u200b'</li> </ul> </li> <li>drop: \u200b\u4ece\u200b HBase \u200b\u4e2d\u200b\u5220\u9664\u200b\u8868\u200b\u3002<ul> <li>Disable it first</li> <li>drop '\u200b\u8868\u540d\u200b'</li> </ul> </li> <li>drop_all: \u200b\u4e22\u5f03\u200b\u5728\u200b\u547d\u4ee4\u200b\u4e2d\u200b\u7ed9\u51fa\u200b\u5339\u914d\u200b\u201cregex\u201d\u200b\u7684\u200b\u8868\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u6570\u636e\u64cd\u7eb5\u76f8\u5173dml","title":"\u6570\u636e\u200b\u64cd\u7eb5\u200b\u76f8\u5173\u200b\uff08DML\uff09","text":"<ul> <li>put: \u200b\u628a\u200b\u6307\u5b9a\u200b\u5217\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u884c\u4e2d\u200b\u5355\u5143\u683c\u200b\u7684\u200b\u503c\u200b\u5728\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u8868\u200b\u3002</li> <li>get: \u200b\u53d6\u884c\u200b\u6216\u200b\u5355\u5143\u683c\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</li> <li>delete: \u200b\u5220\u9664\u200b\u8868\u4e2d\u200b\u7684\u200b\u5355\u5143\u683c\u200b\u503c\u200b\u3002</li> <li>deleteall: \u200b\u5220\u9664\u200b\u7ed9\u5b9a\u200b\u884c\u200b\u7684\u200b\u6240\u6709\u200b\u5355\u5143\u683c\u200b\u3002</li> <li>scan: \u200b\u626b\u63cf\u200b\u5e76\u200b\u8fd4\u56de\u200b\u8868\u200b\u6570\u636e\u200b\u3002<ul> <li>scan '\u200b\u8868\u540d\u200b'</li> <li>\u200b\u626b\u63cf\u200b\u65f6\u200b\u7b5b\u9009\u200b\u524d\u7f00\u200b\uff1ascan \"p_table\",{LIMIT=&gt;5,FILTER=&gt;\"PrefixFilter('www.t')\"}</li> <li>\u200b\u626b\u63cf\u200b\u65f6\u200b\u7b5b\u9009\u200b\u5305\u542b\u200b\u5b57\u7b26\u4e32\u200b\uff1ascan \"p_table\",{LIMIT=&gt;5,FILTER=&gt;\"ValueFilter(=,'substring:')\"} <li>\u200b\u626b\u63cf\u200b\u65f6\u200b\u7b5b\u9009\u200b\u5217\u540d\u200b\uff1ascan 'p_table', {COLUMNS=&gt;['df:body']}</li> <li>count: \u200b\u8ba1\u6570\u200b\u5e76\u200b\u8fd4\u56de\u200b\u8868\u4e2d\u200b\u7684\u200b\u884c\u200b\u7684\u200b\u6570\u76ee\u200b\u3002</li> <li>truncate: \u200b\u7981\u7528\u200b\uff0c\u200b\u5220\u9664\u200b\u548c\u200b\u91cd\u65b0\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6307\u5b9a\u200b\u7684\u200b\u8868\u200b\u3002</li>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#python-\u901a\u8fc7happybase\u5305\u8bbf\u95ee-hbase","title":"Python \u200b\u901a\u8fc7\u200b<code>happybase</code>\u200b\u5305\u200b\u8bbf\u95ee\u200b HBase","text":"Python<pre><code>import happybase\nfrom pprint import pprint  # \u200b\u7f8e\u5316\u200b\u3001\u200b\u683c\u5f0f\u5316\u200b\u7684\u200b print\n</code></pre> <p>\u200b\u914d\u7f6e\u200b</p> Python<pre><code>conn = happybase.Connection(\nhost=\"node1\", port=9090, protocol=\"compact\", transport=\"framed\"\n)\n</code></pre> <p>\u200b\u67e5\u8be2\u200b\u6709\u200b\u54ea\u4e9b\u200b\u8868\u683c\u200b</p> Python<pre><code>tables = conn.tables()\npprint(tables)\n</code></pre> <p></p> <p><code>scan</code>\u200b\u626b\u63cf\u200b\u5168\u8868\u200b</p> Python<pre><code>table = conn.table(b\"emp_xxx\")\n# \u200b\u626b\u63cf\u200b\u5168\u8868\u200b\uff0c\u200b\u81f3\u591a\u200b 2 \u200b\u7ec4\u200b\u6570\u636e\u200b\nfor key, value in table.scan(limit=2):\nprint(f\"key: {key}\")\npprint(value, indent=2)\n</code></pre> <p></p> <p>\u200b\u67e5\u8be2\u200b\u67d0\u200b\u884c\u200b\u6570\u636e\u200b\u3002\u200b\u56e0\u4e3a\u200b HBase \u200b\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u6ca1\u6709\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u90fd\u200b\u662f\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8981\u200b\u7528\u200b<code>b'1'</code>\u200b\u5c06\u200b<code>'1'</code>\u200b\u8f6c\u4e3a\u200b\u5b57\u8282\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u8fd9\u6837\u200b HBase \u200b\u624d\u80fd\u200b\u6267\u884c\u200b\u3002</p> Python<pre><code># \u200b\u67e5\u8be2\u200b\u67d0\u200b\u884c\u200b\u6570\u636e\u200b\nrowValue = table.row(b\"1\")\npprint(rowValue, indent=2)\n</code></pre> <p></p> <p>\u200b\u6216\u8005\u200b\u7528\u200b<code>.encode(\"utf-8\")</code>\uff1a</p> Python<pre><code>fieldname = \"personal data:city\"\nrowValue[fieldname.encode(\"utf-8\")]\n</code></pre> <p></p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#hive","title":"Hive","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u521d\u8bc6-hive","title":"\u521d\u8bc6\u200b Hive","text":"<p>\u200b\u4e2a\u4eba\u200b\u7406\u89e3\u200b\uff1aHive \u200b\u5141\u8bb8\u200b\u6211\u4eec\u200b\u5199\u200b SQL \u200b\u547d\u4ee4\u200b\u6765\u200b\u5b9e\u73b0\u200b\u5927\u200b\u6570\u636e\u200b\u7684\u200b\u67e5\u8be2\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u7f16\u5199\u200b\u590d\u6742\u200b\u7684\u200b MapReduce \u200b\u4ee3\u7801\u200b\u4e86\u200b\u3002</p> <p>Hive \u200b\u662f\u200b\u57fa\u4e8e\u200b Hadoop \u200b\u7684\u200b\u4e00\u4e2a\u200b\u6570\u636e\u4ed3\u5e93\u200b\u5de5\u5177\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u6570\u636e\u6587\u4ef6\u200b\u6620\u5c04\u200b\u4e3a\u200b\u4e00\u5f20\u200b\u6570\u636e\u5e93\u200b\u8868\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u7c7b\u200b SQL \u200b\u67e5\u8be2\u200b\u529f\u80fd\u200b\u3002\u200b\u5176\u672c\u8d28\u200b\u662f\u200b\u5c06\u200b SQL \u200b\u8f6c\u6362\u200b\u4e3a\u200b MapReduce/Spark \u200b\u7684\u200b\u4efb\u52a1\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5e95\u5c42\u200b\u7531\u200b HDFS \u200b\u6765\u200b\u63d0\u4f9b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u3002</p> <p>Hive \u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5c06\u200b SQL \u200b\u8f6c\u6362\u200b\u4e3a\u200b MapReduce/Spark \u200b\u7684\u200b\u4efb\u52a1\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u751a\u81f3\u200b\u66f4\u8fdb\u4e00\u6b65\u200b\u53ef\u4ee5\u200b\u8bf4\u200b Hive \u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b MapReduce/Spark SQL \u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528-hive-","title":"\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u4f7f\u7528\u200b Hive ?","text":"<ul> <li>\u200b\u5b66\u4e60\u200b MapReduce \u200b\u7684\u200b\u6210\u672c\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u9879\u76ee\u200b\u5468\u671f\u200b\u8981\u6c42\u200b\u592a\u77ed\u200b\uff0cMapReduce \u200b\u5982\u679c\u200b\u8981\u200b\u5b9e\u73b0\u200b\u590d\u6742\u200b\u7684\u200b\u67e5\u8be2\u200b\u903b\u8f91\u200b\u5f00\u53d1\u200b\u7684\u200b\u96be\u5ea6\u200b\u662f\u200b\u6bd4\u8f83\u200b\u5927\u200b\u7684\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b Hive\uff0cHive \u200b\u91c7\u7528\u200b\u64cd\u4f5c\u200b\u63a5\u53e3\u200b\u7c7b\u4f3c\u200b SQL \u200b\u8bed\u6cd5\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200b\u7684\u200b\u80fd\u529b\u200b\u3002\u200b\u907f\u514d\u200b\u53bb\u200b\u4e66\u5199\u200b MapReduce\uff0c\u200b\u51cf\u5c11\u200b\u5b66\u4e60\u200b\u6210\u672c\u200b\uff0c\u200b\u800c\u4e14\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u529f\u80fd\u200b\u7684\u200b\u6269\u5c55\u200b</li> </ul> <p>hive \u200b\u7684\u200b\u7279\u70b9\u200b\uff1a - \u200b\u53ef\u200b\u6269\u5c55\u200b :  Hive \u200b\u53ef\u4ee5\u200b\u81ea\u7531\u200b\u7684\u200b\u6269\u5c55\u200b\u96c6\u7fa4\u200b\u7684\u200b\u89c4\u6a21\u200b\uff0c\u200b\u4e00\u822c\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e0d\u200b\u9700\u8981\u200b\u91cd\u542f\u200b\u670d\u52a1\u200b\u3002 - \u200b\u5ef6\u5c55\u6027\u200b :  Hive \u200b\u652f\u6301\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u81ea\u5df1\u200b\u7684\u200b\u9700\u6c42\u200b\u6765\u200b\u5b9e\u73b0\u200b\u81ea\u5df1\u200b\u7684\u200b\u51fd\u6570\u200b\u3002 - \u200b\u5bb9\u9519\u200b :  \u200b\u826f\u597d\u200b\u7684\u200b\u5bb9\u9519\u6027\u200b\uff0c\u200b\u8282\u70b9\u200b\u51fa\u73b0\u200b\u95ee\u9898\u200b SQL \u200b\u4ecd\u200b\u53ef\u200b\u5b8c\u6210\u200b\u6267\u884c\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u5185\u90e8\u8868\u53ca\u5916\u90e8\u8868","title":"\u5185\u90e8\u200b\u8868\u53ca\u200b\u5916\u90e8\u200b\u8868","text":"<p>\u200b\u6570\u636e\u200b (data) \u200b\u90fd\u200b\u5b58\u50a8\u200b\u5728\u200b HDFS \u200b\u4e0a\u200b\uff0c\u200b\u5185\u90e8\u200b\u8868\u7531\u200b Hive \u200b\u81ea\u8eab\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5916\u90e8\u200b\u8868\u200b\u6570\u636e\u200b\u7531\u200b HDFS \u200b\u7ba1\u7406\u200b\u3002\u200b\u8fd9\u95e8\u200b\u8bfe\u200b\u53ea\u200b\u9700\u8981\u200b\u638c\u63e1\u200b\u5185\u90e8\u200b\u8868\u200b\u3002</p> <ul> <li>\u200b\u5185\u90e8\u200b\u8868\u200b (managed table):<ul> <li>\u200b\u672a\u200b\u88ab\u200b external \u200b\u4fee\u9970\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u4e5f\u200b\u53eb\u200b\u7ba1\u7406\u200b\u8868\u200b\u3002</li> <li>\u200b\u5143\u200b\u6570\u636e\u200b (metadata) \u200b\u5b58\u50a8\u200b\u5728\u200b MySQL \u200b\u4e0a\u200b\uff0c\u200b\u7531\u200b MySQL \u200b\u7ba1\u7406\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b (data) \u200b\u5b58\u50a8\u200b\u5728\u200b HDFS \u200b\u4e0a\u200b\uff0c\u200b\u5185\u90e8\u200b\u8868\u7531\u200b Hive \u200b\u81ea\u8eab\u200b\u7ba1\u7406\u200b</li> <li>\u200b\u5220\u9664\u200b\u8868\u4f1a\u200b\u5220\u9664\u200b\u8868\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b (metadata) \u200b\u548c\u8868\u200b\u6570\u636e\u200b\uff08data\uff09\u3002</li> <li>\u200b\u5185\u90e8\u200b\u8868\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u662f\u200b hive.metastore.warehouse.dir\uff08\u200b\u9ed8\u8ba4\u200b\uff1a/user/hive/warehouse\uff09</li> </ul> </li> <li>\u200b\u5916\u90e8\u200b\u8868\u200b (external table):<ul> <li>\u200b\u88ab\u200b external \u200b\u4fee\u9970\u200b\u7684\u200b\u8868\u200b\u3002</li> <li>\u200b\u5143\u200b\u6570\u636e\u200b (metadata) \u200b\u90fd\u200b\u5b58\u50a8\u200b\u5728\u200b MySQL \u200b\u4e0a\u200b\uff0c\u200b\u7531\u200b MySQL \u200b\u7ba1\u7406\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b (data) \u200b\u5b58\u50a8\u200b\u5728\u200b HDFS \u200b\u4e0a\u200b\uff0c\u200b\u5916\u90e8\u200b\u8868\u200b\u6570\u636e\u200b\u7531\u200b HDFS \u200b\u7ba1\u7406\u200b\uff1b</li> <li>\u200b\u5220\u9664\u200b\u8868\u4f1a\u200b\u5220\u9664\u200b\u8868\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b (metadata)\uff0c\u200b\u4f46\u200b\u4e0d\u4f1a\u200b\u5220\u9664\u200b\u8868\u200b\u6570\u636e\u200b\uff08data\uff09\u3002</li> <li>\u200b\u5916\u90e8\u200b\u8868\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\u7531\u200b\u81ea\u5df1\u200b\u5236\u5b9a\u200b\uff08\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b LOCATION\uff0cHive \u200b\u5c06\u200b\u5728\u200b HDFS \u200b\u4e0a\u200b\u7684\u200b/user/hive/warehouse \u200b\u6587\u4ef6\u5939\u200b\u4e0b\u4ee5\u200b\u5916\u90e8\u200b\u8868\u200b\u7684\u200b\u8868\u540d\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5c5e\u4e8e\u200b\u8fd9\u4e2a\u200b\u8868\u200b\u7684\u200b\u6570\u636e\u200b\u5b58\u653e\u200b\u5728\u200b\u8fd9\u91cc\u200b\uff09\uff1b</li> </ul> </li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u521b\u5efa\u8868","title":"\u521b\u5efa\u200b\u8868","text":"Text Only<pre><code>## \u200b\u5185\u90e8\u200b\u8868\u200b\n\nCREATE TABLE emp(\n    empno INT,\n    ename STRING,\n    job STRING,\n    mgr INT,\n    hiredate TIMESTAMP,\n    sal DECIMAL(7,2),\n    comm DECIMAL(7,2),\n    deptno INT)\n    ROW FORMAT DELIMITED \n    FIELDS TERMINATED BY \",\";\n\ndesc emp;    \n\n## \u200b\u5916\u90e8\u200b\u8868\u200b\nCREATE EXTERNAL TABLE emp_external(\n  empno INT,\n  ename STRING,\n  job STRING,\n  mgr INT,\n  hiredate TIMESTAMP,\n  sal DECIMAL(7,2),\n  comm DECIMAL(7,2),\n  deptno INT)\n  ROW FORMAT DELIMITED \n  FIELDS TERMINATED BY \",\"\n  LOCATION '/hive/external/emp_external';\n\n#### -- \u200b\u6309\u7167\u200b\u90e8\u95e8\u200b\u7f16\u53f7\u200b\u8fdb\u884c\u200b\u5206\u533a\u200b, \u200b\u5206\u533a\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\u4e0d\u80fd\u200b\u548c\u200b\u8868\u4e2d\u200b\u7684\u200b\u5217\u200b\u76f8\u540c\u200b\nCREATE EXTERNAL TABLE emp_partition(\n  empno INT,\n  ename STRING,\n  job STRING,\n  mgr INT,\n  hiredate TIMESTAMP,\n  sal DECIMAL(7,2),\n  comm DECIMAL(7,2)\n  )\n  PARTITIONED BY (deptno INT)   \n  ROW FORMAT DELIMITED \n  FIELDS TERMINATED BY \",\"\n  LOCATION '/hive/partition/emp_partition';\n\n## \u200b\u88c5\u8f7d\u200b\u6570\u636e\u200b\n\u200b\u4e00\u822c\u200b\u5f88\u5c11\u200b\u7528\u200binsert \u200b\u8bed\u53e5\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5c31\u7b97\u200b\u5c31\u7b97\u200b\u63d2\u5165\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\uff0c\u200b\u4e5f\u200b\u4f1a\u200b\u8c03\u7528\u200bMapReduce\uff0c\u200b\u4e00\u822c\u200b\u9009\u62e9\u200bLoad Data\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002\n\n## \u200b\u5185\u90e8\u200b\u8868\u200b\nload data local inpath \"emp.txt\" into table emp;\nload data local inpath \"emp1.txt\" into table emp;\n\n## \u200b\u5916\u90e8\u200b\u8868\u200b \uff1a\u200b\u591a\u6b21\u200b\u52a0\u8f7d\u200b\u589e\u52a0\u200b\u6587\u4ef6\u200b\nload data local inpath \"emp.txt\" into table emp_external;\nload data local inpath \"emp1.txt\" into table emp_external;\n\n## \u200b\u5206\u533a\u8868\u200b \uff1a\u200b\u591a\u6b21\u200b\u52a0\u8f7d\u200b \u200b\u8986\u76d6\u200bOVERWRITE\nLOAD DATA LOCAL INPATH \"emp.txt\" OVERWRITE INTO TABLE emp_partition PARTITION (deptno=10);\nLOAD DATA LOCAL INPATH \"emp.txt\" OVERWRITE INTO TABLE emp_partition PARTITION (deptno=20);\nLOAD DATA LOCAL INPATH \"emp1.txt\" OVERWRITE INTO TABLE emp_partition PARTITION (deptno=20);\nLOAD DATA LOCAL INPATH \"emp.txt\" OVERWRITE INTO TABLE emp_partition PARTITION (deptno=30);\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#python-\u8bbf\u95ee-hive","title":"Python \u200b\u8bbf\u95ee\u200b Hive","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u901a\u8fc7impala\u5305","title":"\u901a\u8fc7\u200b<code>impala</code>\u200b\u5305","text":"Python<pre><code>from impala.dbapi import connect\nimpala_param = {\"host\": \"node1\", \"port\": 21050, \"database\": \"machine_learning\"}\nconn = connect(**impala_param)\ncur = conn.cursor()\ncur.execute(\"SELECT * FROM aapl_stock_parquet ORDER BY p_date\")\ndata_list = cur.fetchall()\ndata_list[:3]\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/hbase-hive/#\u901a\u8fc7pyhive\u5305","title":"\u901a\u8fc7\u200b<code>pyhive</code>\u200b\u5305","text":"Python<pre><code>from pyhive import hive\nconn = hive.Connection(\nhost=\"node1\", port=\"10000\", username=\"user_01\", database=\"userdb_99\"\n)\ncursor = conn.cursor()\ncursor.execute(\"select * from emp limit 2\")\nfor result in cursor.fetchall():\nprint(result)\n</code></pre> Python<pre><code>conn = hive.Connection(\nhost=\"node1\", port=\"10000\", username=\"user_47\", database=\"userdb_47\"\n)\ncursor = conn.cursor()\ncursor.execute(\"select * from emp\")\nfor result in cursor.fetchall():\nprint(result)\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"blog/stock-research-strategy/","title":"\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u4e8b\u4ef6\u200b\u7b56\u7565\u200b&amp;\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u81ea\u52a8\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1","text":"<p>\u200b\u57fa\u4e8e\u200b\u4e1c\u65b9\u200b\u8d22\u5bcc\u7f51\u200b\u7684\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e8b\u4ef6\u200b\u7b56\u7565\u200b\u9009\u80a1\u200b\uff0c\u200b\u5e76\u200b\u5b9e\u73b0\u200b\u81ea\u52a8\u5316\u200b\u7b5b\u9009\u200b\u80a1\u7968\u200b\u548c\u200b\u63a8\u9001\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u3002</p> <p></p> <p> </p> <p>\u200b\u7b56\u7565\u200b\u903b\u8f91\u200b\uff1a\u200b\u9009\u62e9\u200b\u5f53\u5929\u200b\u53d1\u5e03\u200b\u7684\u200b\u7814\u62a5\u200b\u4e2d\u200b\u8bc4\u7ea7\u200b\u4e3a\u200b\u201c\u200b\u4e70\u5165\u200b\u201d\uff08\u200b\u6700\u9ad8\u200b\u8bc4\u7ea7\u200b\uff09\u200b\u7684\u200b\u80a1\u7968\u200b\uff0c\u200b\u6309\u7167\u200b\u201c\u200b\u8fd1\u200b\u4e00\u4e2a\u6708\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u76ee\u200b\u201d\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\uff0c\u200b\u9009\u62e9\u200b\u524d\u200b\u82e5\u5e72\u200b\u53ea\u200b\u80a1\u7968\u200b\u8fdb\u884c\u200b\u7b49\u6743\u200b\u4e70\u5165\u200b\u3002</p> <p>\u200b\u5c06\u200b\u7b56\u7565\u200b\u4ee3\u7801\u200b\u90e8\u7f72\u200b\u5230\u200b<code>Streamlit</code>\u200b\u4e0a\u200b\uff0c\u200b\u5b9a\u671f\u200b\u6267\u884c\u200b\u4e8b\u4ef6\u200b\u9009\u80a1\u200b\u7b56\u7565\u200b\u5e76\u200b\u5c06\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5927\u5927\u200b\u8282\u7701\u200b\u91cd\u590d\u200b\u8fd0\u884c\u200b\u7b56\u7565\u200b\u4ee3\u7801\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u4ea4\u6613\u200b\u7684\u200b\u6267\u884c\u200b\u6548\u7387\u200b\u3002</p> <p>\u200b\u6f14\u793a\u200b\u5730\u5740\u200b</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-research-strategy/#\u4e1c\u65b9\u8d22\u5bcc\u7f51\u4e2a\u80a1\u7814\u62a5\u6570\u636e\u722c\u866b","title":"\u4e1c\u65b9\u200b\u8d22\u5bcc\u7f51\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u636e\u200b\u722c\u866b","text":"Python<pre><code>from urllib.request import urlopen  # python \u200b\u81ea\u5e26\u200b\u722c\u866b\u200b\u5e93\u200b\nimport json  # python \u200b\u81ea\u5e26\u200b\u7684\u200b JSON \u200b\u6570\u636e\u5e93\u200b\nimport pandas as pd\nimport time\nimport datetime\ndef change(x):\nif x[:1] == \"6\" or x[:3] == \"900\":\nreturn \"sh\" + x\nelif x[:2] == \"00\" or x[:2] == \"30\" or x[:3] == \"200\":\nreturn \"sz\" + x\nelse:\nreturn x\ndef get_research_report_data(begin_time, until_time):\n\"\"\"\n    \u200b\u83b7\u53d6\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u5386\u53f2\u6570\u636e\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u8d77\u59cb\u200b\u65f6\u95f4\u200b\u548c\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\n    :param until_time:\n    :param begin_time: \u200b\u8d77\u59cb\u200b\u65f6\u95f4\u200b \u200b\u683c\u5f0f\u200b\u4e3a\u200b'2020-06-01'\n    :param until_time: \u200b\u8d77\u59cb\u200b\u65f6\u95f4\u200b \u200b\u683c\u5f0f\u200b\u4e3a\u200b'2020-06-01'\n    :return:\n    \"\"\"\n# http://data.eastmoney.com/report/stock.jshtml\nif len(begin_time.split(\"-\")) != 3:\nprint(\"begin_tiem_str \u200b\u683c\u5f0f\u200b\u6709\u8bef\u200b \u200b\u683c\u5f0f\u200b\u4e3a\u200b\u2019%Y-%m-%d\u2018\")\nreturn None\ntry:\nts = int(time.time() * 1000)\nif until_time is None:\nuntil_time = now_date.strftime(\"%Y-%m-%d\")\npageNum = 1\ndata = []\nwhile True:\nurl_1 = \"http://reportapi.eastmoney.com/report/list?cb=datatable4263982&amp;industryCode=*&amp;pageSize=100&amp;industry=*&amp;rating=*&amp;ratingChange=*&amp;beginTime=%s&amp;endTime=%s&amp;pageNo=%d&amp;fields=&amp;qType=0&amp;orgCode=&amp;code=*&amp;rcode=&amp;_=%d\"\nurl_stockResearch = url_1 % (begin_time, until_time, pageNum, ts)\ncontent = urlopen(url_stockResearch).read().decode(\"utf-8\")\ncontent = content.split(\"(\", maxsplit=1)[-1][:-1]  # \u200b\u53bb\u6389\u200b\u62ec\u53f7\u200b\n# content_0 = content_0.split(\")\", maxsplit=1)[0]  # \u200b\u53bb\u6389\u200b\u53f3\u200b\u62ec\u53f7\u200b\ncontent_1 = json.loads(content)  # \u200b\u81ea\u5df1\u200b\u53bb\u200b\u4ed4\u7ec6\u200b\u770b\u4e0b\u200b\u8fd9\u200b\u91cc\u9762\u200b\u6709\u200b\u4ec0\u4e48\u200b\u6570\u636e\u200b\nif content_1[\"data\"]:\ndf = pd.DataFrame(content_1[\"data\"])\nelse:\nprint(\"\u200b\u4eca\u65e5\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u65e0\u200b\u6570\u636e\u200b\")\nbreak\ndf_0 = df[\n[\n\"stockName\",\n\"stockCode\",\n\"title\",\n\"orgName\",\n\"orgSName\",\n\"predictThisYearPe\",\n\"predictThisYearEps\",\n\"predictNextYearPe\",\n\"predictNextYearEps\",\n\"predictNextTwoYearPe\",\n\"predictNextTwoYearEps\",\n\"indvInduName\",\n\"indvInduCode\",\n\"emRatingName\",\n\"lastEmRatingName\",\n\"count\",\n\"publishDate\",\n]\n].copy()\ndf_0.rename(\ncolumns={\n\"stockName\": \"\u200b\u80a1\u7968\u540d\u79f0\u200b\",\n\"stockCode\": \"\u200b\u80a1\u7968\u4ee3\u7801\u200b\",\n\"title\": \"\u200b\u7814\u62a5\u200b\u6807\u9898\u200b\",\n\"orgName\": \"\u200b\u673a\u6784\u200b\",\n\"orgSName\": \"\u200b\u673a\u6784\u540d\u79f0\u200b\",\n\"predictThisYearPe\": \"\u200b\u9884\u6d4b\u200b\u4eca\u5e74\u200b\u5e02\u76c8\u7387\u200b\",\n\"predictThisYearEps\": \"\u200b\u9884\u6d4b\u200b\u4eca\u5e74\u200b\u6bcf\u80a1\u200b\u6536\u76ca\u200b\",\n\"predictNextYearPe\": \"\u200b\u9884\u6d4b\u200b\u660e\u5e74\u200b\u5e02\u76c8\u7387\u200b\",\n\"predictNextYearEps\": \"\u200b\u9884\u6d4b\u200b\u660e\u5e74\u200b\u6bcf\u80a1\u200b\u6536\u76ca\u200b\",\n\"predictNextTwoYearPe\": \"\u200b\u9884\u6d4b\u200b\u540e\u200b\u5e74\u200b\u5e02\u76c8\u7387\u200b\",\n\"predictNextTwoYearEps\": \"\u200b\u9884\u6d4b\u200b\u540e\u200b\u5e74\u200b\u6bcf\u80a1\u200b\u6536\u76ca\u200b\",\n\"indvInduName\": \"\u200b\u884c\u4e1a\u200b\u540d\u79f0\u200b\",\n\"indvInduCode\": \"\u200b\u884c\u4e1a\u200b\u4ee3\u7801\u200b\",\n\"emRatingName\": \"\u200b\u8bc4\u7ea7\u200b\",\n\"lastEmRatingName\": \"\u200b\u4e0a\u6b21\u200b\u8bc4\u7ea7\u200b\",\n\"count\": \"\u200b\u8fd1\u200b\u4e00\u4e2a\u6708\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u76ee\u200b\",\n\"publishDate\": \"\u200b\u53d1\u5e03\u200b\u65e5\u671f\u200b\",\n},\ninplace=True,\n)\ndata.append(df_0)\nprint(\"\u200b\u5df2\u200b\u722c\u200b\u53d6\u200b\u7b2c\u200b%d\u200b\u9875\u200b\uff0c\u200b\u5f53\u524d\u9875\u200b\u6709\u200b%d\u200b\u884c\u200b\u6570\u636e\u200b\" % (pageNum, len(df_0)))\npageNum += 1\ntime.sleep(1)\nif not data:\nreturn None\nelse:\ntotal = pd.concat(data, ignore_index=True)\ntotal[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"] = total[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"].apply(lambda x: change(x))\nreturn total\nexcept Exception as e:\nprint(\"\u200b\u62a5\u9519\u200b\uff0c\u200b\u62a5\u9519\u200b\u5185\u5bb9\u200b\uff1a\", str(e))\nreturn None\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-research-strategy/#\u83b7\u53d6\u6307\u5b9a\u65e5\u671f\u8303\u56f4\u7684\u4e2a\u80a1\u7814\u62a5\u6570\u636e\u9ed8\u8ba4\u4e3a\u5f53\u65e5","title":"\u83b7\u53d6\u200b\u6307\u5b9a\u200b\u65e5\u671f\u200b\u8303\u56f4\u200b\u7684\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u636e\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u5f53\u65e5\u200b\uff09","text":"Python<pre><code>now_date = datetime.datetime.now()\nbegin_time = st.sidebar.date_input(\"\u200b\u8d77\u59cb\u200b\u65e5\u671f\u200b\", now_date)\nuntil_time = st.sidebar.date_input(\"\u200b\u7ed3\u675f\u200b\u65e5\u671f\u200b\", now_date)\nbegin_time_str = begin_time.strftime(\"%Y-%m-%d\")\nuntil_time_str = until_time.strftime(\"%Y-%m-%d\")\ndata = get_research_report_data(begin_time_str, until_time_str)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-research-strategy/#\u901a\u8fc7akshare\u83b7\u53d6\u80a1\u7968\u6700\u65b0\u884c\u60c5\u6570\u636e","title":"\u901a\u8fc7\u200b<code>Akshare</code>\u200b\u83b7\u53d6\u200b\u80a1\u7968\u200b\u6700\u65b0\u200b\u884c\u60c5\u200b\u6570\u636e","text":"Python<pre><code>import akshare as ak\ndef get_price():\nreturn ak.stock_zh_a_spot_em()\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-research-strategy/#\u8bbe\u7f6e\u9009\u80a1\u6761\u4ef6","title":"\u8bbe\u7f6e\u200b\u9009\u80a1\u200b\u6761\u4ef6","text":"Python<pre><code>st.sidebar.write(\"\u200b\u8bbe\u7f6e\u200b\u9009\u80a1\u200b\u6761\u4ef6\u200b\")\n# \u200b\u8bbe\u7f6e\u200b\u9009\u80a1\u200b\u6761\u4ef6\u200b\uff0c\u200b\u5bf9\u200b\u80a1\u7968\u200b\u8fdb\u884c\u200b\u7b5b\u9009\u200b\ncondition = None\n# \u200b\u8bc4\u7ea7\u200b\u4e3a\u200b\u6700\u9ad8\u200b\u7b49\u7ea7\u200b\u7684\u200b\u4e70\u5165\u200b\nif st.sidebar.checkbox(\"\u200b\u6295\u8d44\u200b\u8bc4\u7ea7\u200b\u4e3a\u200b\u4e70\u5165\u200b\", True):\ncondition = data[\"\u200b\u8bc4\u7ea7\u200b\"] == \"\u200b\u4e70\u5165\u200b\"\n# \u200b\u5e94\u7528\u200b\u9009\u80a1\u200b\u6761\u4ef6\u200b\nselected_stock = data[condition]\nif st.sidebar.checkbox(\"\u200b\u9009\u62e9\u200b\u7814\u62a5\u200b\u6570\u91cf\u200b\u6700\u591a\u200b\u7684\u200b\u80a1\u7968\u200b\", True):\nselected_stock = selected_stock.sort_values(by=\"\u200b\u8fd1\u200b\u4e00\u4e2a\u6708\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u76ee\u200b\", ascending=False)\n# \u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u7684\u200b\u80a1\u7968\u200b\nselected_stock.drop_duplicates(subset=[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"], keep=\"first\", inplace=True)\n# \u200b\u91cd\u65b0\u200b\u7d22\u5f15\u200b\nselected_stock.index = range(len(selected_stock))\n# \u200b\u8bbe\u7f6e\u200b\u4e70\u5165\u200b\u80a1\u7968\u200b\u6570\u91cf\u200b\nbuy_num = st.sidebar.number_input(\"\u200b\u4e70\u5165\u200b\u80a1\u7968\u200b\u6570\u91cf\u200b\", 1, None, 5)\n# \u200b\u6c42\u200b\u51fa\u200b\u4e70\u5165\u200b\u80a1\u7968\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u540d\u79f0\u200b\nbuy_stock = selected_stock[[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\", \"\u200b\u80a1\u7968\u540d\u79f0\u200b\", \"\u200b\u8fd1\u200b\u4e00\u4e2a\u6708\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u6570\u76ee\u200b\"]][:buy_num]\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-research-strategy/#\u7ed3\u5408\u6700\u65b0\u4ef7\u8ba1\u7b97\u5e94\u4e70\u5165\u7684\u80a1\u7968\u6570\u91cf","title":"\u7ed3\u5408\u200b\u6700\u65b0\u200b\u4ef7\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5e94\u200b\u4e70\u5165\u200b\u7684\u200b\u80a1\u7968\u200b\u6570\u91cf","text":"Python<pre><code># \u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b\u4e70\u5165\u200b\u91d1\u989d\u200b\nbuy_money = st.sidebar.number_input(\"\u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b\u4e70\u5165\u200b\u91d1\u989d\u200b\", 1, None, 100000, 10000)\n# \u200b\u5220\u9664\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b\u524d\u7f00\u200b\nbuy_stock[\"\u200b\u4ee3\u7801\u200b\"] = buy_stock[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"].apply(lambda x: x[2:])\n# \u200b\u83b7\u53d6\u200b\u80a1\u7968\u200b\u7684\u200b\u5b9e\u65f6\u200b\u6570\u636e\u200b\nprice = get_price()\n# \u200b\u5c06\u200b\u6700\u65b0\u200b\u4ef7\u200b\u5408\u5e76\u200b\u5230\u200b\u4e70\u5165\u200b\u80a1\u7968\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u540d\u79f0\u200b\u4e2d\u200b\nbuy_stock = pd.merge(buy_stock, price, on=\"\u200b\u4ee3\u7801\u200b\", how=\"left\")\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b\u4e70\u5165\u200b\u7684\u200b\u80a1\u6570\u200b\nbuy_stock[\"\u200b\u4e70\u5165\u200b\u80a1\u6570\u200b\"] = buy_stock[\"\u200b\u6700\u65b0\u200b\u4ef7\u200b\"].apply(lambda x: int((buy_money // x) // 100 * 100))\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-research-strategy/#\u901a\u8fc7pushplus\u63a8\u9001\u5230\u5fae\u4fe1","title":"\u901a\u8fc7\u200b<code>pushplus</code>\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1","text":"Python<pre><code># \u200b\u5f00\u59cb\u200b\u63a8\u52a8\u200b\u5230\u200b pushplus\nif st.button(\"\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1\u200b\"):\n# \u200b\u63a8\u9001\u200b\u6807\u9898\u200b\ntitle = now_date.strftime(\"%Y-%m-%d\") + \"\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u7b56\u7565\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\"\n# \u200b\u5c06\u200b buy_stock \u200b\u8f6c\u6362\u200b\u4e3a\u200b Markdown \u200b\u683c\u5f0f\u200b\nbuy_stock_md = buy_stock.to_markdown(index=False)\n# \u200b\u63a8\u9001\u200b\u5185\u5bb9\u200b\ncontent = buy_stock_md\ntemplate = \"markdown\"\nheaders = {\"Content-Type\": \"application/json\"}\nurl = (\n\"http://www.pushplus.plus/send?token=\"\n+ token\n+ \"&amp;title=\"\n+ title\n+ \"&amp;content=\"\n+ content\n+ \"&amp;template=\"\n+ template\n)\nrequests.get(url)\nst.success(\"\u200b\u63a8\u9001\u200b\u6210\u529f\u200b\")\n</code></pre> <p>\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1\u200b\uff1a</p> <p></p> <p>\u200b\u70b9\u51fb\u200b\u6d88\u606f\u200b\u540e\u200b\u53ef\u200b\u770b\u5230\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u8868\u683c\u200b\uff1a</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/","title":"\u6709\u200b\u7ea6\u675f\u200b\u7684\u200b\u4f18\u5316\u200b\u95ee\u9898\u200b\u4e4b\u200b Lagrangian \u200b\u4e58\u5b50\u6cd5\u200b\u3001\u200b\u6295\u5f71\u200b\u68af\u5ea6\u200b\u7b97\u6cd5\u200b\u548c\u200b\u7f5a\u51fd\u6570\u6cd5","text":"<p>\u200b\u4f7f\u7528\u200b Lagrangian \u200b\u4e58\u5b50\u6cd5\u200b\u3001\u200b\u6295\u5f71\u200b\u68af\u5ea6\u200b\u7b97\u6cd5\u200b\u3001\u200b\u7f5a\u51fd\u6570\u6cd5\u200b\u6c42\u89e3\u200b\u6709\u200b\u7ea6\u675f\u200b\u7684\u200b\u4f18\u5316\u200b\u95ee\u9898\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#lagrangian-\u4e58\u5b50\u6cd5","title":"Lagrangian \u200b\u4e58\u5b50\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#lagrangian-\u4e58\u5b50\u7684\u5177\u4f53\u5f62\u5f0f","title":"Lagrangian \u200b\u4e58\u5b50\u200b\u7684\u200b\u5177\u4f53\u200b\u5f62\u5f0f","text":"\\[ L(x, y, \\lambda) = x^2 + 5y^2 + xy + \\lambda(x^2 + y^2 - 1) \\]","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u5bf9\u5076\u95ee\u9898","title":"\u5bf9\u5076\u200b\u95ee\u9898","text":"\\[ \\max_{\\lambda} g(\\lambda)\\\\\\ \\text{ s.t. } \\lambda \\geq 0 \\] \\[ \\text{where } g(\\lambda) = \\min_{x, y} L(x, y, \\lambda) \\]","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0\u200b\uff1a","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u6295\u5f71\u68af\u5ea6\u7b97\u6cd5\u6c42\u539f\u95ee\u9898\u7684\u89e3","title":"\u6295\u5f71\u200b\u68af\u5ea6\u200b\u7b97\u6cd5\u200b\u6c42\u539f\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u7b97\u6cd5\u6b65\u9aa4","title":"\u7b97\u6cd5\u200b\u6b65\u9aa4","text":"<p>\u200b\u5148\u200b\u6309\u7167\u200b\u666e\u901a\u200b\u7684\u200b\u65e0\u7ea6\u675f\u200b\u4f18\u5316\u200b\u95ee\u9898\u200b\u8fdb\u884c\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\uff0c\u200b\u5982\u679c\u200b\u8fed\u4ee3\u200b\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u53d6\u503c\u200b\\(y_{k+1}\\)\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff0c\u200b\u5219\u200b\u5728\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u7684\u200b\u53ef\u884c\u200b\u96c6\u4e2d\u200b\u627e\u200b\u4e00\u4e2a\u200b\u8ddd\u79bb\u200b\\(y_{k+1}\\)\u200b\u6700\u8fd1\u200b\u7684\u200b\u70b9\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\\(x_{k+1}\\)\u3002\u200b\u5982\u679c\u200b\u8fed\u4ee3\u200b\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u53d6\u503c\u200b\\(y_{k+1}\\)\u200b\u5df2\u7ecf\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff0c\u200b\u5219\u200b\\(x_{k+1}\\)\u200b\u5c31\u200b\u7b49\u4e8e\u200b\\(y_{k+1}\\)\u3002</p> <p></p> Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib\n# \u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\nmatplotlib.rcParams[\"font.sans-serif\"] = [\"SimSun\"]\nmatplotlib.rcParams[\"axes.unicode_minus\"] = False\n# \u200b\u6e32\u67d3\u200b\u516c\u5f0f\u200b\nplt.rcParams[\"text.usetex\"] = True\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u5b9a\u4e49\u539f\u51fd\u6570\u7ea6\u675f\u51fd\u6570\u548c\u68af\u5ea6\u51fd\u6570\u7b49","title":"\u5b9a\u4e49\u200b\u539f\u51fd\u6570\u200b\u3001\u200b\u7ea6\u675f\u200b\u51fd\u6570\u200b\u548c\u200b\u68af\u5ea6\u200b\u51fd\u6570\u200b\u7b49","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u539f\u51fd\u6570\u200b\ndef f(X):\nx = X[0]\ny = X[1]\nreturn x**2 + 5 * y**2 + x * y\n# \u200b\u5b9a\u4e49\u200b\u7ea6\u675f\u200b\u51fd\u6570\u200b\ndef h(X):\nx = X[0]\ny = X[1]\nreturn np.array([x**2 + y**2 - 1])\n# \u200b\u5b9a\u4e49\u200b\u68af\u5ea6\u200b\u51fd\u6570\u200b\ndef grad_f(X):\nx = X[0]\ny = X[1]\nreturn np.array([2 * x + y, 10 * y + x])\n# \u200b\u5b9a\u4e49\u200b\u6a21\u957f\u200b\u51fd\u6570\u200b\ndef norm(vector):\nreturn np.sqrt(sum([i**2 for i in vector]))\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u521d\u59cb\u5316\u53c2\u6570\u8fed\u4ee3\u5b9e\u73b0\u6295\u5f71\u68af\u5ea6\u7b97\u6cd5","title":"\u521d\u59cb\u5316\u200b\u53c2\u6570\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u5b9e\u73b0\u200b\u6295\u5f71\u200b\u68af\u5ea6\u200b\u7b97\u6cd5","text":"Python<pre><code># \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u5b9e\u73b0\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\nalpha = 0.4\nbeta = 0.5\nepsilon = 1e-6\nk = 0\nX = np.array([2, 2])\nt = 1\nk_list = [k]\nX_all = X\n# \u200b\u5f53\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\u4ecd\u7136\u200b\u9ad8\u4e8e\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u76f4\u200b\u8fed\u4ee3\u200b\nwhile norm(grad_f(X)) &gt; epsilon:\n# \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\uff0c\u200b\u68c0\u67e5\u200b\u76ee\u524d\u200b\u7684\u200b\u6b65\u957f\u200b\u662f\u5426\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u82e5\u200b\u6b65\u957f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u7f29\u5c0f\u200b\u6b65\u957f\u200b\nwhile f(np.subtract(X, t * grad_f(X))) &gt; f(X) - alpha * t * grad_f(X).T @ grad_f(X):\nt = beta * t\n# \u200b\u68c0\u67e5\u200b X \u200b\u662f\u5426\u200b\u5728\u200b\u7ea6\u675f\u200b\u8303\u56f4\u200b\u5185\u200b\nif h(X) &gt; 0:\n# \u200b\u5bf9\u4e8e\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u200b\u7684\u200b X\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u5176\u200b\u6295\u5f71\u200b\u5230\u200b\u7ea6\u675f\u200b\u8303\u56f4\u200b\u5185\u200b\n# \u200b\u672c\u9898\u200b\u7684\u200b\u7ea6\u675f\u200b\u51fd\u6570\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5355\u4f4d\u200b\u5706\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6295\u5f71\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u5c06\u200b X \u200b\u5411\u91cf\u200b\u7684\u200b\u6a21\u7f29\u200b\u653e\u5230\u200b 1\nX = X / norm(X)\n# \u200b\u8bb0\u5f55\u200b\u6b64\u6b21\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\nk = k + 1\nk_list.append(k)\nX = X - t * grad_f(X)\nX_all = np.vstack((X_all, X))\n# print(\"k = %d, X = %s, f(X) = %f\" % (k, X, f(X)))\n# \u200b\u9000\u51fa\u200b\u5faa\u73af\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5df2\u7ecf\u200b\u5f97\u5230\u200b\u4e86\u200b\u6ee1\u8db3\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u7684\u200b\u68af\u5ea6\u200b\u3002\u200b\u6b64\u65f6\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\u5c31\u662f\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\nprint(\"\u200b\u6781\u5c0f\u503c\u200b\u70b9\u4e3a\u200b\uff1ax* = {:.2f}, y* = {:.2f}\".format(X[0], X[1]))\n</code></pre> Text Only<pre><code>## \u200b\u6781\u5c0f\u503c\u200b\u70b9\u4e3a\u200b\uff1ax* = 0.00, y* = -0.00\n</code></pre> Python<pre><code>print(\"\u200b\u6781\u5c0f\u503c\u200b\u4e3a\u200b\uff1af(x*, y*) = {:.2f}\".format(f(X)))\n</code></pre> Text Only<pre><code>## \u200b\u6781\u5c0f\u503c\u200b\u4e3a\u200b\uff1af(x*, y*) = 0.00\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u7ed8\u5236\u8fed\u4ee3\u53d8\u5316\u56fe","title":"\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u53d8\u5316\u200b\u56fe","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u81ea\u53d8\u91cf\u200b\u53d6\u503c\u200b\nfig = plt.figure(figsize=(5, 4), dpi=200)\nplt.plot(\nX_all[:, 0], \"r-o\", markerfacecolor=\"none\", label=r\"$x$\"\n)  # \u200b\u7a7a\u5fc3\u200b\u5706\u7528\u200b markerfacecolor='none',\nplt.plot(X_all[:, 1], \"b-o\", markerfacecolor=\"none\", label=r\"$y$\")\nplt.xlabel(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\", usetex=False)  # \u200b\u4e2d\u6587\u200b\u4e0d\u7528\u200b tex \u200b\u6e32\u67d3\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\nplt.ylabel(\"\u200b\u81ea\u53d8\u91cf\u200b\u7684\u200b\u53d6\u503c\u200b\", usetex=False)\nplt.legend()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u7f5a\u51fd\u6570\u65b9\u6cd5\u6c42\u539f\u95ee\u9898\u7684\u89e3","title":"\u7f5a\u200b\u51fd\u6570\u200b\u65b9\u6cd5\u200b\u6c42\u539f\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u7b97\u6cd5\u6b65\u9aa4_1","title":"\u7b97\u6cd5\u200b\u6b65\u9aa4","text":"<p>\u200b\u628a\u200b\u4e0d\u7b49\u5f0f\u200b\u7684\u200b\u7ea6\u675f\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u60e9\u7f5a\u200b\uff0c\u200b\u5728\u200b\u524d\u671f\u200b\u5148\u200b\u5141\u8bb8\u200b\u81ea\u53d8\u91cf\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u200b\u51fd\u6570\u200b\uff0c\u200b\u540e\u671f\u200b\u968f\u7740\u200b\\(u\\)\u200b\u53d8\u5f97\u200b\u975e\u5e38\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u5e26\u6765\u200b\u7684\u200b\u60e9\u7f5a\u200b\u4e5f\u200b\u4f1a\u200b\u975e\u5e38\u200b\u5927\u200b\u3002\u200b\u8fd9\u4f1a\u200b\u8feb\u4f7f\u200b\u52a0\u5165\u200b\u60e9\u7f5a\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u662f\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u7684\u200b\uff08\u200b\u76f8\u5f53\u4e8e\u200b\u9003\u907f\u200b\u4e86\u200b\u60e9\u7f5a\u200b\uff09\u3002</p> <p></p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u5b9a\u4e49\u7f5a\u51fd\u6570\u548c\u7f5a\u51fd\u6570\u7684\u68af\u5ea6\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u7f5a\u200b\u51fd\u6570\u200b\u548c\u200b\u7f5a\u200b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u7f5a\u200b\u51fd\u6570\u200b\ndef g(X):\nreturn max(0, h(X)) ** 2\n# \u200b\u5b9a\u4e49\u200b\u7f5a\u200b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\ndef grad_g(X):\nif h(X) &gt; 0:\nreturn np.array([2 * X[0], 2 * X[1]])\nelse:\nreturn np.array([0, 0])\n# \u200b\u5b9a\u4e49\u200b\u52a0\u5165\u200b\u7f5a\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\ndef penalty(X, u):\nreturn f(X) + u * g(X)\n# \u200b\u5b9a\u4e49\u200b\u52a0\u5165\u200b\u7f5a\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\ndef grad_penalty(X, u):\nreturn grad_f(X) + u * grad_g(X)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u521d\u59cb\u5316\u53c2\u6570\u8fed\u4ee3\u5b9e\u73b0\u7f5a\u51fd\u6570\u6cd5","title":"\u521d\u59cb\u5316\u200b\u53c2\u6570\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u5b9e\u73b0\u200b\u7f5a\u51fd\u6570\u6cd5","text":"Python<pre><code># \u200b\u521d\u59cb\u5316\u200b\u53c2\u6570\u200b\nu = 1\nk = 0\nX = np.array([2, 2])\nt = 1\nk_list = [k]\nX_all = X\n# \u200b\u5f53\u200b\u68af\u5ea6\u200b\u7684\u200b\u6a21\u200b\u4ecd\u7136\u200b\u9ad8\u4e8e\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\uff0c\u200b\u6216\u8005\u200b\u7ea6\u675f\u200b\u51fd\u6570\u200b\u4e0d\u200b\u88ab\u200b\u6ee1\u8db3\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u76f4\u200b\u8fed\u4ee3\u200b\n# \u200b\u901a\u8fc7\u200b\u65e0\u7ea6\u675f\u200b\u4f18\u5316\u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u52a0\u5165\u200b\u7f5a\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\nwhile norm(grad_f(X)) &gt; epsilon or h(X) &gt; epsilon:\nwhile norm(grad_penalty(X, u)) &gt; epsilon:\n# \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\uff0c\u200b\u68c0\u67e5\u200b\u76ee\u524d\u200b\u7684\u200b\u6b65\u957f\u200b\u662f\u5426\u200b\u6ee1\u8db3\u8981\u6c42\u200b\uff0c\u200b\u82e5\u200b\u6b65\u957f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u7f29\u5c0f\u200b\u6b65\u957f\u200b\nwhile penalty(np.subtract(X, t * grad_penalty(X, u)), u) &gt; penalty(\nX, u\n) - alpha * t * grad_penalty(X, u).T @ grad_penalty(X, u):\nt = beta * t\n# \u200b\u66f4\u65b0\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\nX = X - t * grad_penalty(X, u)\n# \u200b\u8bb0\u5f55\u200b\u6b64\u6b21\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u52a0\u5165\u200b\u7f5a\u200b\u51fd\u6570\u200b\u4e4b\u540e\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\nk = k + 1\nk_list.append(k)\nX_all = np.vstack((X_all, X))\n# \u200b\u589e\u5927\u200b\u60e9\u7f5a\u200b\u53c2\u6570\u200b\nu = 10 * u\n# \u200b\u9000\u51fa\u200b\u5faa\u73af\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5df2\u7ecf\u200b\u5f97\u5230\u200b\u4e86\u200b\u6ee1\u8db3\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u7684\u200b\u68af\u5ea6\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e5f\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u3002\u200b\u6b64\u65f6\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u503c\u200b\u5c31\u662f\u200b\u6781\u5c0f\u503c\u200b\u70b9\u200b\nprint(\"\u200b\u6781\u5c0f\u503c\u200b\u70b9\u4e3a\u200b\uff1ax* = {:.2f}, y* = {:.2f}\".format(X[0], X[1]))\n</code></pre> Text Only<pre><code>## \u200b\u6781\u5c0f\u503c\u200b\u70b9\u4e3a\u200b\uff1ax* = 0.00, y* = -0.00\n</code></pre> Python<pre><code>print(\"\u200b\u6781\u5c0f\u503c\u200b\u4e3a\u200b\uff1af(x*, y*) = {:.2f}\".format(f(X)))\n</code></pre> Text Only<pre><code>## \u200b\u6781\u5c0f\u503c\u200b\u4e3a\u200b\uff1af(x*, y*) = 0.00\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/constrained-optimization-lagrangian-projected-gradient-and-penalty-function-method/#\u7ed8\u5236\u8fed\u4ee3\u53d8\u5316\u56fe_1","title":"\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u53d8\u5316\u200b\u56fe","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u81ea\u53d8\u91cf\u200b\u53d6\u503c\u200b\nfig = plt.figure(figsize=(5, 4), dpi=200)\nplt.plot(\nX_all[:, 0], \"r-o\", markerfacecolor=\"none\", label=r\"$x$\"\n)  # \u200b\u7a7a\u5fc3\u200b\u5706\u7528\u200b markerfacecolor='none',\nplt.plot(X_all[:, 1], \"b-o\", markerfacecolor=\"none\", label=r\"$y$\")\nplt.xlabel(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\", usetex=False)  # \u200b\u4e2d\u6587\u200b\u4e0d\u7528\u200b tex \u200b\u6e32\u67d3\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\nplt.ylabel(\"\u200b\u81ea\u53d8\u91cf\u200b\u7684\u200b\u53d6\u503c\u200b\", usetex=False)\nplt.legend()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/decision-tree-classfication/","title":"\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u51b3\u7b56\u6811\u200b\u5206\u7c7b\u200b\u7b97\u6cd5","text":"<p>\u200b\u57fa\u4e8e\u200b Information Value \u200b\u5bf9\u200b\u7c7b\u522b\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u521d\u6b65\u200b\u7b5b\u9009\u200b\uff0c\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u51b3\u7b56\u6811\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5bf9\u200b\u5ba2\u6237\u200b\u6d41\u5931\u200b\u60c5\u51b5\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\uff0c\u200b\u6c47\u62a5\u200b Accuracy\u3001Presicion\u3001Recall\u3001F1\u3001AUC \u200b\u7b49\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u5bfc\u5165\u5305\u548c\u6570\u636e","title":"\u5bfc\u5165\u200b\u5305\u200b\u548c\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport pandas as pd\nimport numpy as np\nimport seaborn as sb\nimport matplotlib.pyplot as plt\nfrom sklearn import preprocessing\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import cross_val_score\nimport sklearn.metrics as metrics\n</code></pre> Python<pre><code># \u200b\u5bfc\u5165\u200b\u6570\u636e\u200b\ntrain = pd.read_excel(\"BankChurners2.xlsx\", sheet_name=\"training\", engine=\"openpyxl\")\ntest = pd.read_excel(\"BankChurners2.xlsx\", sheet_name=\"testing\", engine=\"openpyxl\")\nx_train = train.drop(columns=[\"id\", \"Attrition_Flag\"])\nx_test = test.drop(columns=[\"id\", \"Attrition_Flag\"])\ny_train = train[\"Attrition_Flag\"]\ny_test = test[\"Attrition_Flag\"]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u67e5\u770b\u6570\u636e","title":"\u67e5\u770b\u200b\u6570\u636e","text":"Python<pre><code>x_train.head()\n</code></pre> Text Only<pre><code>##    Customer_Age Gender  ...  Total_Ct_Chng_Q4_Q1 Avg_Utilization_Ratio\n## 0            46      M  ...                0.559                 0.289\n## 1            58      M  ...                0.778                 0.088\n## 2            47      M  ...                1.357                 0.000\n## 3            54      M  ...                0.423                 0.000\n## 4            44      F  ...                0.667                 0.000\n## \n## [5 rows x 19 columns]\n</code></pre> Python<pre><code>y_train.head()\n</code></pre> Text Only<pre><code>## 0    Existing Customer\n## 1    Existing Customer\n## 2    Existing Customer\n## 3    Attrited Customer\n## 4    Existing Customer\n## Name: Attrition_Flag, dtype: object\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u7279\u5f81\u7b5b\u9009","title":"\u7279\u5f81\u200b\u7b5b\u9009","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u7ed8\u5236\u76f8\u5173\u7cfb\u6570\u70ed\u529b\u56fe\u8bc6\u522b\u7279\u5f81\u4e4b\u95f4\u7684\u76f8\u5173\u6027","title":"\u7ed8\u5236\u200b\u76f8\u5173\u7cfb\u6570\u200b\u70ed\u200b\u529b\u56fe\u200b\uff0c\u200b\u8bc6\u522b\u200b\u7279\u5f81\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u5173\u6027","text":"Python<pre><code># \u200b\u751f\u6210\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\ncorr = x_train.corr()\n# \u200b\u751f\u6210\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\uff0c\u200b\u5728\u200b\u540e\u9762\u200b\u53ef\u4ee5\u200b\u7528\u200b mask \u200b\u628a\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u8986\u76d6\u4f4f\u200b\nmatrix = np.triu(corr)\n# \u200b\u8bbe\u7f6e\u200b\u56fe\u7247\u5927\u5c0f\u200b\nfig, ax = plt.subplots(figsize=(20, 10))\n# \u200b\u751f\u6210\u200b\u70ed\u200b\u529b\u56fe\u200b\u3002cmap \u200b\u662f\u200b\u989c\u8272\u200b\uff0cannot \u200b\u662f\u200b\u662f\u5426\u200b\u663e\u793a\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0cmask \u200b\u662f\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\nsb.heatmap(corr, cmap=\"Blues\", annot=True, mask=matrix)\nplt.show()\n</code></pre> Python<pre><code>plt.close()\n</code></pre> Python<pre><code>fig, ax = plt.subplots(figsize=(5, 5))\nplt.scatter(x_train[\"Credit_Limit\"], x_train[\"Avg_Open_To_Buy\"])\nplt.show()\n</code></pre> Python<pre><code>plt.close()\n</code></pre> Python<pre><code># \u200b\u7531\u4e8e\u200b Avg_Open_To_Buy \u200b\u548c\u200b Credit_Limit \u200b\u76f8\u5173\u200b\u975e\u5e38\u200b\u9ad8\u200b\uff0c\u200b\u6545\u200b\u5220\u9664\u200b Avg_Open_To_Buy\nx_train = x_train.drop(columns=[\"Avg_Open_To_Buy\"])\nx_test = x_test.drop(columns=[\"Avg_Open_To_Buy\"])\n</code></pre> Python<pre><code># \u200b\u79bb\u6563\u200b\u53d8\u91cf\u200b\ndiscrete_features = [\n\"Gender\",\n\"Dependent_count\",\n\"Education_Level\",\n\"Marital_Status\",\n\"Income_Category\",\n\"Card_Category\",\n\"Total_Relationship_Count\",\n\"Months_Inactive_12_mon\",\n\"Contacts_Count_12_mon\",\n]\n# \u200b\u8fde\u7eed\u53d8\u91cf\u200b\ncontinuous_features = x_train.columns.drop(discrete_features)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u5bf9\u79bb\u6563\u5206\u7ec4\u53d8\u91cf\u8ba1\u7b97-information-value\u5bf9\u7279\u5f81\u8fdb\u884c\u7b5b\u9009","title":"\u5bf9\u200b\u79bb\u6563\u200b\u5206\u7ec4\u200b\u53d8\u91cf\u200b\uff0c\u200b\u8ba1\u7b97\u200b Information Value\uff0c\u200b\u5bf9\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u7b5b\u9009\u200b\u3002","text":"Python<pre><code>def cal_IV(feature, label):\n# \u200b\u8ba1\u7b97\u200b WOE\nwoe = pd.crosstab(feature, label, normalize=\"columns\").assign(\nwoe=lambda dfx: np.log(dfx[\"Attrited Customer\"] / dfx[\"Existing Customer\"])\n)\n# \u200b\u8ba1\u7b97\u200b IV\niv = np.sum(woe[\"woe\"] * (woe[\"Attrited Customer\"] - woe[\"Existing Customer\"]))\nreturn iv\n</code></pre> Python<pre><code># \u200b\u5b58\u653e\u200b\u5404\u200b\u53d8\u91cf\u200b\u7684\u200b IV \u200b\u503c\u200b\niv_dict = {}\nfor feature in discrete_features:\niv_dict[feature] = cal_IV(x_train[feature], y_train)\n</code></pre> Python<pre><code># \u200b\u5bf9\u200b IV \u200b\u503c\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\niv_dict = dict(sorted(iv_dict.items(), key=lambda item: item[1]))\niv_dict\n</code></pre> Text Only<pre><code>## {'Card_Category': 0.0013000619131457577, 'Marital_Status': 0.0036967489569619365, 'Gender': 0.003925134588828062, 'Income_Category': 0.009186000687735793, 'Education_Level': 0.010361108736073923, 'Dependent_count': 0.011508555906514393, 'Total_Relationship_Count': 0.17613730345552436, 'Months_Inactive_12_mon': 0.375963833865356, 'Contacts_Count_12_mon': inf}\n</code></pre> Python<pre><code># \u200b\u7531\u4e8e\u200b Card_Category \u200b\u7684\u200b IV \u200b\u503c\u200b\u975e\u5e38\u4f4e\u200b\uff0c\u200b\u6545\u200b\u5220\u9664\u200b Card_Category\ndiscrete_features.remove(\"Card_Category\")\nx_train = x_train.drop(columns=[\"Card_Category\"])\nx_test = x_test.drop(columns=[\"Card_Category\"])\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u5c06\u6587\u672c\u578b\u7684\u7279\u5f81\u548c\u6807\u7b7e\u7f16\u7801\u6210\u6570\u503c\u578b","title":"\u5c06\u200b\u6587\u672c\u200b\u578b\u200b\u7684\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\u7f16\u7801\u200b\u6210\u200b\u6570\u503c\u200b\u578b","text":"Python<pre><code># \u200b\u5c06\u200b\u7279\u5f81\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\nOrdinalEncoder = preprocessing.OrdinalEncoder()\nx_train = OrdinalEncoder.fit_transform(x_train[discrete_features])\nx_test = OrdinalEncoder.transform(x_test[discrete_features])\n</code></pre> Python<pre><code># \u200b\u5c06\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\nle = preprocessing.LabelEncoder()\ny_train = le.fit_transform(y_train)\ny_test = le.transform(y_test)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u6784\u5efa\u51b3\u7b56\u6811","title":"\u6784\u5efa\u200b\u51b3\u7b56\u6811","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u57fa\u4e8e\u4ea4\u53c9\u9a8c\u8bc1\u9009\u62e9\u6700\u4f18\u7684\u6811\u6df1\u5ea6","title":"\u57fa\u4e8e\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u9009\u62e9\u200b\u6700\u4f18\u200b\u7684\u200b\u6811\u200b\u6df1\u5ea6","text":"Python<pre><code># \u200b\u57fa\u4e8e\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u9009\u62e9\u200b\u6700\u4f18\u200b\u7684\u200b\u6811\u200b\u6df1\u5ea6\u200b\ndepths = np.arange(1, 20)\nscores = []\nfor depth in depths:\nclf = DecisionTreeClassifier(max_depth=depth, random_state=42)\nscore = cross_val_score(clf, x_train, y_train, cv=5).mean()\nscores.append(score)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u7ed8\u5236\u6811\u6df1\u5ea6\u4e0e\u51c6\u786e\u7387\u7684\u5173\u7cfb","title":"\u7ed8\u5236\u200b\u6811\u200b\u6df1\u5ea6\u200b\u4e0e\u200b\u51c6\u786e\u7387\u200b\u7684\u200b\u5173\u7cfb","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u6811\u200b\u6df1\u5ea6\u200b\u4e0e\u200b\u51c6\u786e\u7387\u200b\u7684\u200b\u5173\u7cfb\u200b\nplt.plot(depths, scores)\nplt.annotate(\n\"best depth: {}\".format(depths[np.argmax(scores)]),\nxy=(depths[np.argmax(scores)], np.max(scores)),\nxytext=(np.argmax(scores) + 1, np.max(scores) - 0.02),\narrowprops=dict(facecolor=\"black\", shrink=0.05),\n)\nplt.xlabel(\"depth\")\nplt.ylabel(\"score\")\nplt.show()\n</code></pre> Python<pre><code>plt.close()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u9009\u62e9\u6700\u4f18\u7684\u6811\u6df1\u5ea6\u6784\u5efa\u51b3\u7b56\u6811","title":"\u9009\u62e9\u200b\u6700\u4f18\u200b\u7684\u200b\u6811\u200b\u6df1\u5ea6\u200b\uff0c\u200b\u6784\u5efa\u200b\u51b3\u7b56\u6811","text":"Python<pre><code># \u200b\u9009\u62e9\u200b\u6700\u4f18\u200b\u7684\u200b\u6811\u200b\u6df1\u5ea6\u200b\uff0c\u200b\u6784\u5efa\u200b\u51b3\u7b56\u6811\u200b\nclf = DecisionTreeClassifier(max_depth=depths[np.argmax(scores)], random_state=42)\n# \u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nclf.fit(x_train, y_train)\n# \u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\n</code></pre> Text Only<pre><code>## DecisionTreeClassifier(max_depth=4, random_state=42)\n</code></pre> Python<pre><code>y_pred = clf.predict(x_test)\n# \u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u7684\u200b\u6982\u7387\u200b\ny_pred_proba = clf.predict_proba(x_test)[:, 1]\ny_pred_proba\n</code></pre> Text Only<pre><code>## array([0.79381919, 0.79381919, 0.79381919, ..., 0.79381919, 0.91443167,\n##        0.79381919])\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u6a21\u578b\u8bc4\u4ef7","title":"\u6a21\u578b\u200b\u8bc4\u4ef7","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#accuracy-presicion-recall-f1","title":"Accuracy, Presicion, Recall, F1","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u51c6\u786e\u7387\u200b Accuracy\naccuracy = np.sum(y_pred == y_test) / len(y_test)\n# \u200b\u8ba1\u7b97\u200b\u7cbe\u786e\u200b\u7387\u200b Presicion\npresicion = np.sum(y_pred[y_pred == 1] == y_test[y_pred == 1]) / np.sum(y_pred == 1)\n# \u200b\u8ba1\u7b97\u200b\u53ec\u56de\u200b\u7387\u200b Recall\nrecall = np.sum(y_pred[y_test == 1] == y_test[y_test == 1]) / np.sum(y_test == 1)\n# \u200b\u8ba1\u7b97\u200b F1 \u200b\u503c\u200b\nf1 = 2 * presicion * recall / (presicion + recall)\n</code></pre> Python<pre><code>print(\n\"Accuracy: {:.2%}\\n\\\nPresicion: {:.2%}\\n\\\nRecall: {:.2%}\\n\\\nF1: {:.2%}\".format(\naccuracy, presicion, recall, f1\n)\n)\n</code></pre> Text Only<pre><code>## Accuracy: 86.09%\n## Presicion: 85.93%\n## Recall: 99.85%\n## F1: 92.37%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u4f7f\u7528-sklearn-\u81ea\u5e26\u7684\u8bc4\u4ef7\u6307\u6807\u51fd\u6570","title":"\u4f7f\u7528\u200b sklearn \u200b\u81ea\u5e26\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u51fd\u6570","text":"Python<pre><code>print(\n\"Accuracy: {:.2%}\\n\\\nPresicion: {:.2%}\\n\\\nRecall: {:.2%}\\n\\\nF1: {:.2%}\".format(\nmetrics.accuracy_score(y_test, y_pred),\nmetrics.precision_score(y_test, y_pred),\nmetrics.recall_score(y_test, y_pred),\nmetrics.f1_score(y_test, y_pred),\n)\n)\n</code></pre> Text Only<pre><code>## Accuracy: 86.09%\n## Presicion: 85.93%\n## Recall: 99.85%\n## F1: 92.37%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u7ed8\u5236-roc-\u66f2\u7ebf","title":"\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\nfpr, tpr, thresholds = metrics.roc_curve(y_test, y_pred_proba)\nplt.plot(fpr, tpr, color=\"darkorange\", lw=2, label=\"ROC curve\")\nplt.plot([0, 1], [0, 1], color=\"navy\", lw=2, linestyle=\"--\")\nplt.xlabel(\"False Positive Rate\")\nplt.ylabel(\"True Positive Rate\")\nplt.title(\"ROC Curve\")\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre> Python<pre><code>plt.close()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-classfication/#\u8ba1\u7b97-auc","title":"\u8ba1\u7b97\u200b AUC","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b AUC\nauc = metrics.auc(fpr, tpr)\nprint(\"AUC: {:.2%}\".format(auc))\n</code></pre> Text Only<pre><code>## AUC: 71.57%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/","title":"\u624b\u5199\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b","text":"<p>\u200b\u4e0d\u200b\u501f\u52a9\u200b\u73b0\u6210\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6846\u67b6\u200b\uff0c\u200b\u4f7f\u7528\u200b NumPy \u200b\u5b9e\u73b0\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u7ecf\u9a8c\u4e0e\u5fc3\u5f97","title":"\u7ecf\u9a8c\u200b\u4e0e\u200b\u5fc3\u5f97","text":"<ol> <li> <p>\u200b\u8ba1\u7b97\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\u65f6\u200b\uff0c\u200b\u6c42\u548c\u200b\u9879\u91cc\u200b\u5176\u5b9e\u200b\u6ca1\u6709\u200b\u8d1f\u53f7\u200b\u4e86\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b \u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b\u7b14\u8bb0\u200b\u4e2d\u8bef\u200b\u52a0\u200b\u4e86\u200b\u8d1f\u53f7\u200b\u3002\u200b\u8fd9\u200b\u5c5e\u4e8e\u200b\u662f\u200b\u88ab\u200b\u81ea\u5df1\u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b\u7b14\u8bb0\u200b\u5751\u200b\u4e86\u200b\u3002\u200b\u6b63\u786e\u200b\u7684\u200b\u516c\u5f0f\u200b\u5982\u4e0b\u200b\uff1a</p> \\[ H(D) = -\\sum_{k=1}^{K} p(k) \\log_2 p(k) \\] \\[ H(D|A) = \\sum_{i=1}^{n}\\frac{|D_i|}{|D|} H(D_i) \\] </li> <li> <p>\u200b\u5728\u200b\u7f16\u5199\u200b\u6d4b\u8bd5\u7a0b\u5e8f\u200b\u65f6\u200b\u6682\u65f6\u200b\u628a\u200b<code>feature_index</code>\u200b\u8bbe\u200b\u4e3a\u200b 1\uff0c\u200b\u5728\u200b\u540e\u9762\u200b\u5fd8\u8bb0\u200b\u6539\u6210\u200b\u901a\u7528\u200b\u7684\u200b<code>feature_index</code>\u200b\u4e86\u200b\u3002</p> <p></p> </li> <li> <p>\u200b\u7eb8\u4e0a\u200b\u5f97\u6765\u200b\u7ec8\u89c9\u200b\u6d45\u200b\uff0c\u200b\u7edd\u77e5\u200b\u6b64\u4e8b\u200b\u8981\u200b\u8eac\u884c\u200b\u3002\u200b\u770b\u200b\u7f51\u7edc\u200b\u4e0a\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6559\u7a0b\u200b\u3001\u200b\u542c\u200b\u8001\u5e08\u4e0a\u8bfe\u200b\u8bb2\u200b\u7b97\u6cd5\u200b\u539f\u7406\u200b\u548c\u200b\u6b65\u9aa4\u200b\uff0c\u200b\u90fd\u200b\u4e0d\u5982\u200b\u81ea\u5df1\u200b\u4ece\u5934\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u7b97\u6cd5\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u5370\u8c61\u200b\u66f4\u200b\u6df1\u523b\u200b\u3002\u200b\u867d\u7136\u200b\u6a21\u578b\u200b\u8fd8\u6709\u200b\u5404\u79cd\u200b\u7f3a\u9677\u200b\uff0c\u200b\u4f46\u200b\u6700\u7ec8\u200b\u5f97\u5230\u200b\u7ea6\u200b 90% \u200b\u7684\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u8fd8\u662f\u200b\u4f1a\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u89c9\u5f97\u200b\u60ca\u559c\u200b\u3002\u200b\u8fd9\u4e00\u200b\u770b\u4f3c\u200b\u7b80\u5355\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5728\u200b\u7ecf\u5386\u200b\u4e86\u200b\u5404\u79cd\u200b\u7ec6\u8282\u200b\u4e0a\u200b\u7684\u200b\u62a5\u9519\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6211\u200b\u76f8\u4fe1\u200b\u4f1a\u200b\u5bf9\u200b\u5b83\u200b\u6709\u200b\u66f4\u6df1\u200b\u7684\u200b\u7406\u89e3\u200b\u3002</p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5bfc\u5165\u5fc5\u8981\u7684\u5305","title":"\u5bfc\u5165\u200b\u5fc5\u8981\u200b\u7684\u200b\u5305","text":"Python<pre><code>import numpy as np\nimport pandas as pd\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5bfc\u5165\u6570\u636e","title":"\u5bfc\u5165\u200b\u6570\u636e","text":"<p>\u200b\u8fd9\u91cc\u200b\u4f7f\u7528\u200b\u4e86\u200b UCI \u200b\u63d0\u4f9b\u200b\u7684\u200b \u200b\u6c7d\u8f66\u200b\u8bc4\u4f30\u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0b\u8f7d\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\u90fd\u200b\u662f\u200b\u7c7b\u522b\u200b\u578b\u200b\u7684\u200b\uff0c\u200b\u9002\u5408\u200b\u7528\u200b ID3 \u200b\u7b97\u6cd5\u200b\u5b9e\u73b0\u200b\u51b3\u7b56\u6811\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u7684\u200b\u4efb\u52a1\u200b\u662f\u200b\u7528\u200b\u8d2d\u4e70\u200b\u4ef7\u683c\u200b\u3001\u200b\u7ef4\u4fee\u200b\u6210\u672c\u200b\u3001\u200b\u8f7d\u5ba2\u200b\u6570\u91cf\u200b\u7b49\u200b\u7279\u5f81\u200b\u9884\u6d4b\u200b\u6c7d\u8f66\u200b\u8bc4\u4f30\u200b\u7684\u200b\u7b49\u7ea7\u200b\u3002\u200b\u6807\u7b7e\u200b\u4e00\u5171\u200b\u6709\u200b 4 \u200b\u4e2a\u503c\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\uff1aunacc\u3001acc\u3001good\u3001vgood\uff0c\u200b\u5373\u200b\u6700\u5dee\u200b\u5230\u200b\u6700\u597d\u200b\u3002</p> Python<pre><code>header = [\"buying\", \"maint\", \"doors\", \"persons\", \"lug_boot\", \"safety\", \"class\"]\ndata = pd.read_csv(\"car.data\", names=header, header=None)\n</code></pre> Python<pre><code>data\n</code></pre> Text Only<pre><code>##      buying  maint  doors persons lug_boot safety  class\n## 0     vhigh  vhigh      2       2    small    low  unacc\n## 1     vhigh  vhigh      2       2    small    med  unacc\n## 2     vhigh  vhigh      2       2    small   high  unacc\n## 3     vhigh  vhigh      2       2      med    low  unacc\n## 4     vhigh  vhigh      2       2      med    med  unacc\n## ...     ...    ...    ...     ...      ...    ...    ...\n## 1723    low    low  5more    more      med    med   good\n## 1724    low    low  5more    more      med   high  vgood\n## 1725    low    low  5more    more      big    low  unacc\n## 1726    low    low  5more    more      big    med   good\n## 1727    low    low  5more    more      big   high  vgood\n##\n## [1728 rows x 7 columns]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5b9a\u4e49\u6784\u5efa\u51b3\u7b56\u6811\u6240\u9700\u7684-class","title":"\u5b9a\u4e49\u200b\u6784\u5efa\u200b\u51b3\u7b56\u6811\u200b\u6240\u200b\u9700\u200b\u7684\u200b class","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5b9a\u4e49-node-\u7c7b\u7528\u4e8e\u8868\u793a\u6811\u7684\u8282\u70b9","title":"\u5b9a\u4e49\u200b Node \u200b\u7c7b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8868\u793a\u200b\u6811\u200b\u7684\u200b\u8282\u70b9","text":"<p>Node \u200b\u7c7b\u200b\u7684\u200b\u5c5e\u6027\u200b\u6709\u200b\uff1a</p> <ol> <li>feature_index: \u200b\u6b64\u200b\u8282\u70b9\u200b\u7528\u4e8e\u200b\u5212\u5206\u200b\u7684\u200b\u7279\u5f81\u200b\u7684\u200b\u7d22\u5f15\u200b</li> <li>children:     \u200b\u6b64\u200b\u8282\u70b9\u200b\u7684\u200b\u5b50\u200b\u8282\u70b9\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b\uff0c\u200b\u952e\u200b\u662f\u200b\u7279\u5f81\u200b\u7684\u200b\u53d6\u503c\u200b\uff0c\u200b\u503c\u200b\u662f\u200b\u5b50\u200b\u8282\u70b9\u200b\uff0c\u200b\u5b50\u200b\u8282\u70b9\u200b\u4e5f\u200b\u662f\u200b Node \u200b\u7c7b\u200b</li> <li>info_gain: \u200b\u6b64\u200b\u8282\u70b9\u200b\u7684\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b</li> <li>value: \u200b\u6b64\u200b\u8282\u70b9\u200b\u7684\u200b\u7c7b\u522b\u200b\u3002\u200b\u5982\u679c\u200b\u6b64\u200b\u8282\u70b9\u200b\u662f\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\uff0c\u200b\u5219\u200b\u6b64\u200b\u5c5e\u6027\u200b\u6709\u503c\u200b\uff0c\u200b\u5426\u5219\u200b\u4e3a\u200b None</li> </ol> Python<pre><code>class Node:\ndef __init__(self, feature_index=None, children=None, info_gain=None, value=None):\n\"\"\"constructor\"\"\"\n# for decision node\nself.feature_index = feature_index\nself.children = children\nself.info_gain = info_gain\n# for leaf node\nself.value = value\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5b9a\u4e49-tree-\u7c7b\u7528\u4e8e\u8868\u793a\u51b3\u7b56\u6811","title":"\u5b9a\u4e49\u200b Tree \u200b\u7c7b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8868\u793a\u200b\u51b3\u7b56\u6811","text":"<p>Tree \u200b\u7c7b\u200b\u7684\u200b\u5c5e\u6027\u200b\u6709\u200b\uff1a</p> <ol> <li>root: \u200b\u6811\u200b\u7684\u200b\u6839\u200b\u8282\u70b9\u200b\uff0c\u200b\u662f\u200b Node \u200b\u7c7b\u200b</li> <li>min_samples_split:     \u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6700\u5c0f\u200b\u5206\u88c2\u200b\u6837\u672c\u6570\u200b\uff0c\u200b\u5982\u679c\u200b\u6837\u672c\u6570\u200b\u5c0f\u4e8e\u200b\u6b64\u503c\u200b\uff0c\u200b\u5219\u200b\u4e0d\u518d\u200b\u5206\u88c2\u200b</li> <li>max_depth: \u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6700\u5927\u200b\u6df1\u5ea6\u200b\uff0c\u200b\u5982\u679c\u200b\u6df1\u5ea6\u200b\u5927\u4e8e\u200b\u6b64\u503c\u200b\uff0c\u200b\u5219\u200b\u4e0d\u518d\u200b\u5206\u88c2\u200b</li> </ol> <p>\u200b\u5173\u952e\u200b\u51fd\u6570\u200b\u662f\u200b\uff1a</p> <ol> <li>build_tree: \u200b\u7528\u4e8e\u200b\u6784\u5efa\u200b\u51b3\u7b56\u6811\u200b</li> <li>get_best_feature: \u200b\u7528\u4e8e\u200b\u627e\u5230\u200b\u6700\u4f73\u200b\u5212\u5206\u200b\u7279\u5f81\u200b</li> </ol> Python<pre><code>class DecisionTreeClassifier:\ndef __init__(self, min_samples_split=2, max_depth=2):\n\"\"\"constructor\"\"\"\n# initialize the root of the tree\nself.root = None\n# stopping conditions\nself.min_samples_split = min_samples_split\nself.max_depth = max_depth\ndef build_tree(self, dataset, curr_depth=0):\n\"\"\"recursive function to build the tree\"\"\"\nX, Y = dataset[:, :-1], dataset[:, -1]\nnum_samples, num_features = np.shape(X)\n# split until stopping conditions are met\nif num_samples &gt;= self.min_samples_split and curr_depth &lt;= self.max_depth:\n# find the best feature\nbest_feature = self.get_best_feature(dataset, num_features)\n# check if information gain is positive\nif best_feature[\"info_gain\"] &gt; 0:\nchildren = []\nfor child in best_feature[\"children\"]:\n# \u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b child\uff0c\u200b\u8fed\u4ee3\u200b\u8c03\u7528\u200b build_tree \u200b\u51fd\u6570\u200b\nchildren.append(\n(child[0], self.build_tree(child[1], curr_depth + 1))\n)\nreturn Node(\nbest_feature[\"feature_index\"], children, best_feature[\"info_gain\"]\n)\n# compute leaf node\nleaf_value = self.calculate_leaf_value(Y)\n# return leaf node\nreturn Node(value=leaf_value)\ndef get_best_feature(self, dataset, num_features):\n\"\"\"function to find the best split\"\"\"\n# dictionary to store the best split\nbest_feature = {}\nmax_info_gain = -float(\"inf\")\n# \u200b\u6c42\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u6807\u7b7e\u200b\ny = dataset[:, -1]\n# \u200b\u6c42\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u6570\u200b\nD = y.shape[0]\n# \u200b\u6c42\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\nH_D = self.entropy(y)\n# loop over all the features\nfor feature_index in range(num_features):\nfeature_values = dataset[:, feature_index]\n# \u200b\u83b7\u53d6\u200b\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u6240\u6709\u200b\u53bb\u200b\u91cd\u503c\u200b\nfeature_values = np.unique(feature_values)\n# \u200b\u8ba1\u7b97\u200b\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\nH_D_A = 0\nfor i in feature_values:\n# \u200b\u6c42\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u503c\u200b\u7b49\u4e8e\u200b i \u200b\u65f6\u200b\u7684\u200b\u6807\u7b7e\u200b\ny_i = dataset[dataset[:, feature_index] == i][:, -1]\n# \u200b\u6c42\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u503c\u200b\u7b49\u4e8e\u200b i \u200b\u65f6\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u71b5\u200b\nH_D_i = self.entropy(y_i)\n# \u200b\u6c42\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u503c\u200b\u7b49\u4e8e\u200b i \u200b\u7684\u200b\u6bd4\u4f8b\u200b\nweight_i = y_i.shape[0] / D\n# \u200b\u6c42\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u6761\u4ef6\u200b\u71b5\u200b\nH_D_A += weight_i * H_D_i\n# \u200b\u6c42\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\ncurr_info_gain = H_D - H_D_A\n# update the best split if needed\nif curr_info_gain &gt; max_info_gain:\nbest_feature[\"feature_index\"] = feature_index\nbest_feature[\"children\"] = [\n(i, dataset[dataset[:, feature_index] == i]) for i in feature_values\n]\nbest_feature[\"info_gain\"] = curr_info_gain\nmax_info_gain = curr_info_gain\nreturn best_feature\ndef entropy(self, y):\n\"\"\"function to compute entropy\"\"\"\nclass_labels = np.unique(y)\nentropy = 0\nfor cls in class_labels:\np_cls = len(y[y == cls]) / len(y)\nentropy += -p_cls * np.log2(p_cls)\nreturn entropy\ndef calculate_leaf_value(self, Y):\n\"\"\"function to compute leaf node\"\"\"\nY = list(Y)\nreturn max(Y, key=Y.count)\ndef print_tree(self, tree=None, indent=\"    \"):\n\"\"\"function to print the tree\"\"\"\n# \u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u4f20\u5165\u200b tree \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u9ed8\u8ba4\u200b\u9700\u8981\u200b\u6253\u5370\u200b self.root \u200b\u8fd9\u68f5\u6811\u200b\nif not tree:\ntree = self.root\n# \u200b\u5982\u679c\u200b\u662f\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\uff0c\u200b\u5219\u200b\u6253\u5370\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b\u503c\u200b\nif tree.value is not None:\nprint(\"&lt;{}&gt;\".format(tree.value))\n# \u200b\u5982\u679c\u200b\u662f\u200b\u51b3\u7b56\u200b\u8282\u70b9\u200b\uff0c\u200b\u5219\u200b\u6253\u5370\u200b\u51b3\u7b56\u200b\u8282\u70b9\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5305\u62ec\u200b\u7279\u5f81\u200b\u540d\u79f0\u200b\u548c\u5b50\u200b\u8282\u70b9\u200b\nelse:\n# print('\\n')\nprint(\"_{}_\".format(str(columns[tree.feature_index])))\nfor i in tree.children:\nprint(\"{}{}:\".format(indent, i[0]), end=\"\")\nself.print_tree(i[1], indent + indent)\ndef fit(self, X, Y):\n\"\"\"function to train the tree\"\"\"\ndataset = np.concatenate((X, Y), axis=1)\nself.root = self.build_tree(dataset)\ndef predict(self, X):\n\"\"\"function to predict new dataset\"\"\"\npreditions = [self.make_prediction(x, self.root) for x in X]\nreturn preditions\ndef make_prediction(self, x, tree):\n\"\"\"function to predict a single data point\"\"\"\nif tree.value != None:\nreturn tree.value\nfeature_val = x[tree.feature_index]\nchild_index = [\nidx for idx, tup in enumerate(tree.children) if tup[0] == feature_val\n][0]\nreturn self.make_prediction(x, tree.children[child_index][1])\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5212\u5206\u6570\u636e\u96c6","title":"\u5212\u5206\u200b\u6570\u636e\u200b\u96c6","text":"Python<pre><code>columns = data.columns\nX = data.iloc[:, :-1].values\nY = data.iloc[:, -1].values.reshape(-1, 1)\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, Y_train, Y_test = train_test_split(\nX, Y, test_size=0.3, random_state=41\n)\n</code></pre> Python<pre><code>X_train\n</code></pre> Text Only<pre><code>## array([['low', 'vhigh', '2', '2', 'small', 'low'],\n##        ['low', 'low', '4', '4', 'big', 'high'],\n##        ['med', 'med', '2', '4', 'med', 'low'],\n##        ...,\n##        ['vhigh', 'med', '5more', 'more', 'big', 'low'],\n##        ['med', 'med', '2', 'more', 'big', 'low'],\n##        ['med', 'vhigh', '4', '4', 'med', 'med']], dtype=object)\n</code></pre> Python<pre><code>Y_train\n</code></pre> Text Only<pre><code>## array([['unacc'],\n##        ['vgood'],\n##        ['unacc'],\n##        ...,\n##        ['unacc'],\n##        ['acc']], dtype=object)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u8bad\u7ec3\u51b3\u7b56\u6811\u6a21\u578b","title":"\u8bad\u7ec3\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b","text":"Python<pre><code>classifier = DecisionTreeClassifier(min_samples_split=3, max_depth=3)\nclassifier.fit(X_train, Y_train)\nclassifier.print_tree()\n</code></pre> Text Only<pre><code>## _safety_\n##     high:_persons_\n##         2:&lt;unacc&gt;\n##         4:_buying_\n##                 high:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;unacc&gt;\n##                 low:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;good&gt;\n##                                 med:&lt;good&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 med:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;good&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 vhigh:_maint_\n##                                 high:&lt;unacc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;unacc&gt;\n##         more:_buying_\n##                 high:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;unacc&gt;\n##                 low:_maint_\n##                                 high:&lt;vgood&gt;\n##                                 low:&lt;vgood&gt;\n##                                 med:&lt;vgood&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 med:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;vgood&gt;\n##                                 med:&lt;vgood&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 vhigh:_maint_\n##                                 high:&lt;unacc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;unacc&gt;\n##     low:&lt;unacc&gt;\n##     med:_persons_\n##         2:&lt;unacc&gt;\n##         4:_buying_\n##                 high:_lug_boot_\n##                                 big:&lt;acc&gt;\n##                                 med:&lt;unacc&gt;\n##                                 small:&lt;unacc&gt;\n##                 low:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;good&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;unacc&gt;\n##                 med:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 vhigh:_maint_\n##                                 high:&lt;unacc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;unacc&gt;\n##                                 vhigh:&lt;unacc&gt;\n##         more:_buying_\n##                 high:_lug_boot_\n##                                 big:&lt;acc&gt;\n##                                 med:&lt;acc&gt;\n##                                 small:&lt;unacc&gt;\n##                 low:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;good&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 med:_maint_\n##                                 high:&lt;acc&gt;\n##                                 low:&lt;good&gt;\n##                                 med:&lt;acc&gt;\n##                                 vhigh:&lt;acc&gt;\n##                 vhigh:_maint_\n##                                 high:&lt;unacc&gt;\n##                                 low:&lt;acc&gt;\n##                                 med:&lt;unacc&gt;\n##                                 vhigh:&lt;unacc&gt;\n</code></pre> <p>\u200b\u82e5\u200b\u51b3\u7b56\u6811\u200b\u592a\u200b\u5e9e\u5927\u200b\uff0c\u200b\u53ef\u80fd\u200b\u65e0\u6cd5\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u5b8c\u5168\u200b\u663e\u793a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5230\u200b\u6587\u672c\u6587\u4ef6\u200b\u4e2d\u200b\u67e5\u770b\u200b\u5b8c\u6574\u200b\u51b3\u7b56\u6811\u200b\u3002\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5\u200b\u53ef\u200b\u53c2\u89c1\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u6a21\u578b\u8bc4\u4f30","title":"\u6a21\u578b\u200b\u8bc4\u4f30","text":"Python<pre><code>import sklearn.metrics as metrics\ndef evaluate(true, pred):\nprint(\"accuracy:{:.2%}\".format(metrics.accuracy_score(true, pred)))\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u8bad\u7ec3\u96c6\u4e0a\u7684\u8868\u73b0","title":"\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0","text":"Python<pre><code>Y_pred = classifier.predict(X_train)\nevaluate(Y_train, Y_pred)\n</code></pre> Text Only<pre><code>## accuracy:90.65%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0","title":"\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0","text":"Python<pre><code>Y_pred = classifier.predict(X_test)\nevaluate(Y_test, Y_pred)\n</code></pre> Text Only<pre><code>## accuracy:87.28%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/decision-tree-id3/#\u5b58\u5728\u7684\u7f3a\u9677","title":"\u5b58\u5728\u200b\u7684\u200b\u7f3a\u9677","text":"<p>\u200b\u672c\u6587\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b\uff0c\u200b\u4f46\u200b\u5b58\u5728\u200b\u5982\u4e0b\u200b\u95ee\u9898\u200b\u4e0d\u80fd\u200b\u5f88\u200b\u597d\u5730\u89e3\u51b3\u200b\uff1a</p> <ol> <li> <p>\u200b\u53ea\u200b\u652f\u6301\u200b\u79bb\u6563\u200b\u7c7b\u578b\u200b\u7684\u200b\u7279\u5f81\u200b\u53d8\u91cf\u200b\uff0c\u200b\u82e5\u200b\u7279\u5f81\u200b\u4e3a\u200b\u8fde\u7eed\u200b\u503c\u200b\uff0c\u200b\u5219\u200b\u4e0d\u9002\u200b\u7528\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u3002</p> </li> <li> <p>\u200b\u82e5\u200b\u6d4b\u8bd5\u200b\u96c6\u4e2d\u200b\u51fa\u73b0\u200b\u4e86\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u6ca1\u6709\u200b\u89c1\u200b\u8fc7\u200b\u7684\u200b\u6837\u672c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u57fa\u4e8e\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u751f\u6210\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u5c31\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5982\u4f55\u200b\u5206\u679d\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u62a5\u9519\u200b\u3002\u200b\u5177\u4f53\u200b\u62a5\u9519\u200b\u5982\u4e0b\u200b\uff1a</p> </li> </ol> <p></p> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b\u62a5\u9519\u200b\u662f\u200b children \u200b\u4e2d\u200b\u627e\u200b\u4e0d\u5230\u200b\u8fd9\u4e2a\u200b\u7279\u5f81\u503c\u200b\u5bf9\u5e94\u200b\u7684\u200b child tree\u3002\u200b\u8fd9\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u56e0\u4e3a\u200b\uff0c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u800c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u200b\u592a\u5c0f\u200b\u3002\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u5206\u679d\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u80fd\u591f\u200b\u628a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u200b\u5b8c\u5168\u200b\u5206\u7c7b\u200b\u3002\u200b\u4f46\u200b\u73b0\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6709\u4e9b\u200b\u6837\u672c\u200b\u662f\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u6ca1\u89c1\u200b\u8fc7\u200b\u7684\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u653e\u5230\u200b\u57fa\u4e8e\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u5f97\u5230\u200b\u7684\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u6a21\u578b\u200b\u4e5f\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5e94\u8be5\u200b\u600e\u4e48\u200b\u5206\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u62a5\u9519\u200b\u53ef\u80fd\u200b\u662f\u200b\u7531\u4e8e\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u6bd4\u4f8b\u200b\u592a\u200b\u5927\u200b\uff08\u200b\u5bfc\u81f4\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u6ca1\u6709\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u6837\u672c\u200b\uff09\uff0c\u200b\u6216\u8005\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6df1\u5ea6\u200b\u592a\u200b\u5927\u200b\uff08\u200b\u8bad\u7ec3\u200b\u51fa\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6df1\u5ea6\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u5230\u200b\u6811\u200b\u7684\u200b\u5e95\u90e8\u200b\u65f6\u200b\uff0c\u200b\u53ef\u200b\u5206\u679d\u200b\u7684\u200b\u7279\u5f81\u200b\u53d8\u91cf\u200b\u7684\u200b\u5c5e\u6027\u200b\u6bd4\u8f83\u200b\u5c11\u200b\uff0c\u200b\u5982\u679c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u521a\u597d\u200b\u51fa\u73b0\u200b\u4e86\u200b\u65b0\u200b\u7684\u200b\u5c5e\u6027\u200b\uff0c\u200b\u90a3\u4e48\u200b\u51b3\u7b56\u6811\u200b\u5c31\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5982\u4f55\u200b\u7ee7\u7eed\u200b\u5206\u679d\u200b\uff09\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/","title":"\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u5206\u7c7b\u200b\u7b97\u6cd5","text":"<p>\u200b\u57fa\u4e8e\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5bf9\u200b\u5ba2\u6237\u200b\u6d41\u5931\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\uff0c\u200b\u8fdb\u884c\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u3001\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5c55\u73b0\u200b\u548c\u200b\u8d85\u200b\u53c2\u6570\u200b\u8c03\u4f18\u200b\u3002\u200b\u5229\u7528\u200b<code>n_jobs</code>\u200b\u591a\u7ebf\u7a0b\u200b\u5e76\u884c\u200b\u52a0\u901f\u200b\u8ba1\u7b97\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u5bfc\u5165\u5fc5\u8981\u7684\u5305","title":"\u5bfc\u5165\u200b\u5fc5\u8981\u200b\u7684\u200b\u5305","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u6570\u636e\u5904\u7406\u200b\u548c\u200b\u7ed8\u56fe\u200b\u7684\u200b\u5305\u200b\nimport pandas as pd\nimport matplotlib.pyplot as plt\n# \u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\n# \u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u76f8\u5173\u200b\u7684\u200b\u5305\u200b\nfrom sklearn import preprocessing\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn import metrics\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\ndata_train = pd.read_excel(\n\"../2022-10-30-decision-tree-classfication/BankChurners2.xlsx\",\nsheet_name=0,\nengine=\"openpyxl\",\n)\ndata_test = pd.read_excel(\n\"../2022-10-30-decision-tree-classfication/BankChurners2.xlsx\",\nsheet_name=1,\nengine=\"openpyxl\",\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u5212\u5206\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u7279\u5f81\u548c\u6807\u7b7e","title":"\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u3001\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e","text":"Python<pre><code># \u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u3001\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\nX_train = data_train.iloc[:, 2:]\ny_train = data_train.iloc[:, 1]\nX_test = data_test.iloc[:, 2:]\ny_test = data_test.iloc[:, 1]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u5c06\u5b57\u7b26\u578b\u53d8\u91cf\u8fdb\u884c\u7f16\u7801","title":"\u5c06\u200b\u5b57\u7b26\u200b\u578b\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u7f16\u7801","text":"Python<pre><code># \u200b\u79bb\u6563\u200b\u53d8\u91cf\u200b\ndiscrete_features = [\n\"Gender\",\n\"Dependent_count\",\n\"Education_Level\",\n\"Marital_Status\",\n\"Income_Category\",\n\"Card_Category\",\n\"Total_Relationship_Count\",\n\"Months_Inactive_12_mon\",\n\"Contacts_Count_12_mon\",\n]\n# \u200b\u8fde\u7eed\u53d8\u91cf\u200b\ncontinuous_features = X_train.columns.drop(discrete_features)\n# \u200b\u5c06\u200b\u7279\u5f81\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\nOrdinalEncoder = preprocessing.OrdinalEncoder()\nX_train[discrete_features] = OrdinalEncoder.fit_transform(X_train[discrete_features])\nX_test[discrete_features] = OrdinalEncoder.transform(X_test[discrete_features])\n# \u200b\u5c06\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\nle = preprocessing.LabelEncoder()\ny_train = le.fit_transform(y_train)\ny_test = le.transform(y_test)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u6784\u5efa\u968f\u673a\u68ee\u6797\u5206\u7c7b\u5668\u4f7f\u7528n_jobs-1\u8fdb\u884c\u5e76\u884c\u8ba1\u7b97","title":"\u6784\u5efa\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u5206\u7c7b\u5668\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>n_jobs=-1</code>\u200b\u8fdb\u884c\u200b\u5e76\u884c\u8ba1\u7b97","text":"<ul> <li><code>n_jobs=-1</code>\u200b\u4ee3\u8868\u200b\u4f7f\u7528\u200b\u6240\u6709\u200b\u7684\u200b CPU\uff0c\u200b\u5b9e\u6d4b\u200b\u53ef\u4ee5\u200b\u5c06\u200b CPU \u200b\u4f7f\u7528\u7387\u200b\u63d0\u5347\u200b\u81f3\u200b 100%\uff0c\u200b\u8ba1\u7b97\u200b\u65f6\u95f4\u200b\u76f8\u6bd4\u200b\u9ed8\u8ba4\u200b\u7684\u200b<code>n_jobs=1</code>\u200b\u4e0b\u964d\u200b\u7ea6\u200b 50%\u3002</li> <li> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u4f7f\u7528\u200b CPU \u200b\u7684\u200b\u6570\u76ee\u200b\uff0c\u200b\u5982\u200b<code>n_jobs=2</code>\u3002</p> </li> <li> <p>\u200b\u5173\u4e8e\u200b\u4f7f\u7528\u200b CPU \u200b\u7684\u200b\u6570\u76ee\u200b\u548c\u200b\u8ba1\u7b97\u200b\u6548\u7387\u200b\u7684\u200b\u5173\u7cfb\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p> </li> </ul> Python<pre><code># \u200b\u6784\u5efa\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\nclf = RandomForestClassifier(oob_score=True, random_state=42, n_jobs=-1)\nclf.fit(X_train, y_train)\n# \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u9884\u6d4b\u200b\n</code></pre> Text Only<pre><code>## RandomForestClassifier(n_jobs=-1, oob_score=True, random_state=42)\n</code></pre> Python<pre><code>y_pred = clf.predict(X_test)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u5728\u6d4b\u8bd5\u96c6\u4e0a\u5206\u7c7b\u7684\u6548\u679c","title":"\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c","text":"Python<pre><code># \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7ed9\u51fa\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c\u200b\ndef evaluate(true, pred):\nprint(\"accuracy:{:.2%}\".format(metrics.accuracy_score(true, pred)))\nprint(\"precision:{:.2%}\".format(metrics.precision_score(true, pred)))\nprint(\"recall:{:.2%}\".format(metrics.recall_score(true, pred)))\nprint(\"f1-score:{:.2%}\".format(metrics.f1_score(true, pred)))\nprint(\"\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7ed9\u51fa\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c\u200b\uff1a\")\n</code></pre> Text Only<pre><code>## \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7ed9\u51fa\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c\u200b\uff1a\n</code></pre> Python<pre><code>evaluate(y_test, y_pred)\n</code></pre> Text Only<pre><code>## accuracy:96.32%\n## precision:96.88%\n## recall:98.82%\n## f1-score:97.84%\n</code></pre> Python<pre><code>print(metrics.classification_report(y_test, y_pred))\n</code></pre> Text Only<pre><code>##               precision    recall  f1-score   support\n## \n##            0       0.93      0.83      0.88       490\n##            1       0.97      0.99      0.98      2637\n## \n##     accuracy                           0.96      3127\n##    macro avg       0.95      0.91      0.93      3127\n## weighted avg       0.96      0.96      0.96      3127\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u968f\u673a\u68ee\u6797\u6a21\u578b\u7684\u5305\u5916\u4f30\u8ba1","title":"\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u7684\u200b\u5305\u5916\u200b\u4f30\u8ba1","text":"<p>\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\uff08out-of-bag estimate\uff09\u200b\u662f\u200b\u7528\u200b\u672a\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u51fa\u73b0\u200b\u7684\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u6765\u200b\u4f5c\u51fa\u200b\u51b3\u7b56\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u5929\u7136\u200b\u5730\u200b\u4ece\u200b\u6240\u6709\u200b\\(N\\)\u200b\u4e2a\u200b\u6837\u672c\u200b\u4e2d\u200b\u968f\u673a\u200b\u5730\u6709\u200b\u653e\u200b\u56de\u5730\u200b\u62bd\u53d6\u200b\\(N\\)\u200b\u4e2a\u200b\u6837\u672c\u200b\u4f5c\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\uff0c\u200b\u5b83\u200b\u5728\u200b\\(N\\)\u200b\u6b21\u200b\u6709\u200b\u653e\u56de\u200b\u62bd\u6837\u200b\u4e2d\u200b\uff0c\u200b\u59cb\u7ec8\u200b\u6ca1\u6709\u200b\u88ab\u200b\u62bd\u5230\u200b\u7684\u200b\u6982\u7387\u200b\u662f\u200b\uff1a</p> \\[ (1-\\frac{1}{N})^N \\] <p>\u200b\u5f53\u200b\u6837\u672c\u91cf\u200b\\(N\\)\u200b\u8db3\u591f\u200b\u5927\u65f6\u200b\uff0c\u200b\u8fd9\u4e00\u200b\u6982\u7387\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b</p> <p>$$ \\begin{aligned} &amp; \\quad \\lim_{N\\to +\\infty}(1-\\frac{1}{N})^N\\\\ &amp;=\\frac{1}{e}\\\\ &amp;\\approx36.8\\% \\end{aligned} $$ \u200b\u5176\u4e2d\u200b\uff0c\u200b\u5173\u4e8e\u200b\u4e0a\u8ff0\u200b\u63a8\u5bfc\u200b\u4e2d\u200b\u6781\u9650\u200b\u7684\u200b\u6c42\u89e3\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p> <p>\u200b\u65e2\u7136\u200b\u6709\u4e9b\u200b\u6837\u672c\u200b\u6ca1\u6709\u200b\u88ab\u9009\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u200b\u8fd9\u4e9b\u200b\u8bad\u7ec3\u200b\u96c6\u6765\u200b\u9884\u6d4b\u200b\u8fd9\u4e9b\u200b\u6837\u672c\u200b\uff0c\u200b\u5f97\u5230\u200b\u9884\u6d4b\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u5c31\u662f\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u3002\u200b\u4e14\u200b\u53ef\u4ee5\u200b\u8fdb\u4e00\u6b65\u200b\u8ba1\u7b97\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u3002</p> <p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u5f97\u5230\u200b\u7684\u200b\u8bef\u5dee\u200b\u662f\u200b\u771f\u5b9e\u200b\u8bef\u5dee\u200b\u7684\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u800c\u8a00\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5fc5\u8981\u200b\u5bf9\u200b\u5b83\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u6216\u7528\u200b\u4e00\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u6765\u200b\u83b7\u5f97\u200b\u8bef\u5dee\u200b\u7684\u200b\u4e00\u4e2a\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5185\u90e8\u200b\u8fdb\u884c\u200b\u8bc4\u4f30\u200b\uff0c\u200b\u5373\u200b\u5728\u200b\u751f\u6210\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u5c31\u200b\u5bf9\u200b\u8bef\u5dee\u200b\u5efa\u7acb\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\u3002\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u4f18\u70b9\u200b\u3002</p> <p>\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u7684\u200b\u66f4\u200b\u591a\u200b\u4ecb\u7ecd\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p> Python<pre><code>print(\"\u200b\u6a21\u578b\u200b\u7684\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u7ed3\u679c\u200b\uff1a\\n\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u7684\u200b accuracy:{:.2%}\".format(clf.oob_score_))\n</code></pre> Text Only<pre><code>## \u200b\u6a21\u578b\u200b\u7684\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u7ed3\u679c\u200b\uff1a\n## \u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u7684\u200baccuracy:95.90%\n</code></pre> <p>\u200b\u5bf9\u6bd4\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u548c\u200b\u5305\u5916\u200b\u4f30\u8ba1\u200b\u7684\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u6548\u679c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u4e24\u8005\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u5206\u522b\u200b\u4e3a\u200b 96.32% \u200b\u548c\u200b 95.9%\uff0c\u200b\u51e0\u4e4e\u200b\u4e00\u81f4\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u6a21\u578b\u53d8\u91cf\u7684\u91cd\u8981\u6027\u6392\u5e8f","title":"\u6a21\u578b\u200b\u53d8\u91cf\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u6392\u5e8f","text":"Python<pre><code>feat_importances = pd.Series(clf.feature_importances_, index=X_train.columns)\n</code></pre> Python<pre><code># \u200b\u5c06\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u6392\u5e8f\u200b\u540e\u7ed8\u56fe\u200b\nax = feat_importances.sort_values().plot(kind=\"barh\", figsize=(12, 6))\n# \u200b\u8bbe\u7f6e\u200b\u6a2a\u5750\u6807\u200b\u683c\u5f0f\u200b\nax.xaxis.set_major_formatter(plt.FuncFormatter(lambda x, pos: \"{:.2%}\".format(x)))\n# \u200b\u8bbe\u7f6e\u200b\u6807\u9898\u200b\nax.set_title(\"\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u6392\u5e8f\u200b\")\n# \u200b\u5982\u679c\u200b\u4e0d\u200b\u9700\u8981\u200b\u663e\u793a\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5927\u5c0f\u200b\u6570\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b 2 \u200b\u884c\u200b\u4ee3\u7801\u200b\n# for container in ax.containers:\n#     ax.bar_label(container)\n# \u200b\u5982\u679c\u200b\u9700\u8981\u200b\u663e\u793a\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5927\u5c0f\u200b\u6570\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\nx_offset = 0\ny_offset = 0\nfor p in ax.patches:\nb = p.get_bbox()\nval = \"{:.2%}\".format(b.x1)\nax.annotate(val, (b.x1 + 0.002, b.y1 - 0.4))\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u53c2\u6570\u654f\u611f\u6027\u5206\u6790","title":"\u53c2\u6570\u200b\u654f\u611f\u6027\u200b\u5206\u6790","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u7ed8\u5236\u4e0d\u540c\u8d85\u53c2\u6570\u4e0b\u7684\u6a21\u578b\u8bc4\u4ef7\u6307\u6807","title":"\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u8d85\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\u6307\u6807","text":"Python<pre><code>def plot_metrics(parameter, accuracy_all, precision_all, recall_all, f1_all):\nplt.figure(figsize=(12, 6))\nplt.plot(accuracy_all, label=\"accuracy\")\nplt.plot(precision_all, label=\"precision\")\nplt.plot(recall_all, label=\"recall\")\nplt.plot(f1_all, label=\"f1-score\")\nplt.legend()\nplt.xlabel(parameter)\nplt.title(f\"\u200b\u4e0d\u540c\u200b{parameter}\u200b\u7684\u200b\u6a21\u578b\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\")\nplt.show()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u904d\u5386\u5404\u8d85\u53c2\u6570","title":"\u904d\u5386\u200b\u5404\u8d85\u200b\u53c2\u6570","text":"Python<pre><code>def tuning(parameter, parameter_name, parameter_range):\n# \u200b\u91cd\u200b\u62bd\u6837\u200b\u7684\u200b\u6b21\u6570\u200b\naccuracy_all = pd.Series(index=parameter_range, dtype=\"float\")\nprecision_all = pd.Series(index=parameter_range, dtype=\"float\")\nrecall_all = pd.Series(index=parameter_range, dtype=\"float\")\nf1_all = pd.Series(index=parameter_range, dtype=\"float\")\nfor parameter_value in parameter_range:\nclf = RandomForestClassifier(\n**{parameter: parameter_value}, random_state=42, n_jobs=-1\n)\nclf.fit(X_train, y_train)\ny_pred = clf.predict(X_test)\naccuracy_all[parameter_value] = metrics.accuracy_score(y_test, y_pred)\nprecision_all[parameter_value] = metrics.precision_score(y_test, y_pred)\nrecall_all[parameter_value] = metrics.recall_score(y_test, y_pred)\nf1_all[parameter_value] = metrics.f1_score(y_test, y_pred)\nplot_metrics(parameter_name, accuracy_all, precision_all, recall_all, f1_all)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u91cd\u62bd\u6837\u7684\u6b21\u6570-b","title":"\u91cd\u200b\u62bd\u6837\u200b\u7684\u200b\u6b21\u6570\u200b B","text":"Python<pre><code># \u200b\u8c03\u6574\u200b\u91cd\u200b\u62bd\u6837\u200b\u7684\u200b\u6b21\u6570\u200b\ntuning(\"n_estimators\", \"\u200b\u91cd\u200b\u62bd\u6837\u200b\u7684\u200b\u6b21\u6570\u200b\", range(1, 100))\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u6bcf\u6b21\u5206\u88c2\u65f6\u5c5e\u6027\u4e2a\u6570-m","title":"\u6bcf\u6b21\u200b\u5206\u88c2\u200b\u65f6\u200b\u5c5e\u6027\u200b\u4e2a\u6570\u200b m","text":"Python<pre><code># \u200b\u8c03\u6574\u200b\u6bcf\u6b21\u200b\u5206\u5217\u200b\u65f6\u200b\u5c5e\u6027\u200b\u4e2a\u6570\u200b\ntuning(\"max_features\", \"\u200b\u6bcf\u6b21\u200b\u5206\u88c2\u200b\u65f6\u200b\u5c5e\u6027\u200b\u4e2a\u6570\u200b\", range(2, 20))\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/random-forest-classfication/#\u5355\u68f5\u51b3\u7b56\u6811\u7684\u6df1\u5ea6","title":"\u5355\u68f5\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6df1\u5ea6","text":"Python<pre><code># \u200b\u8c03\u6574\u200b\u5355\u68f5\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6df1\u5ea6\u200b\ntuning(\"max_depth\", \"\u200b\u5355\u68f5\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6df1\u5ea6\u200b\", range(2, 20))\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/online-word-cloud-generator/","title":"\u5728\u7ebf\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u751f\u6210\u5668","text":"<p>\u200b\u57fa\u4e8e\u200b wordcloud \u200b\u5f00\u53d1\u200b\u7684\u200b Streamlit \u200b\u5e94\u7528\u200b\uff0c\u200b\u53ef\u81ea\u5b9a\u200b\u5b57\u4f53\u200b\u3001\u200b\u989c\u8272\u200b\u4e3b\u9898\u200b\u3001\u200b\u8f6e\u5ed3\u56fe\u200b\u7684\u200b\u5728\u7ebf\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u751f\u6210\u5668\u200b\u3002</p> <p> </p> <p>\u200b\u6f14\u793a\u200b\u5730\u5740\u200b</p> <p>\u200b\u4e0a\u4f20\u200b\u6587\u672c\u6587\u4ef6\u200b\uff0c\u200b\u5728\u7ebf\u200b\u751f\u6210\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u3002</p> <ul> <li> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u5b57\u4f53\u200b\u3002</p> </li> <li> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u80cc\u666f\u200b\u8f6e\u5ed3\u200b\u3002</p> </li> </ul> <p></p>","tags":["\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/","title":"\u57fa\u4e8e\u200b EM \u200b\u7b97\u6cd5\u200b\u7684\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0","text":"<p>\u200b\u57fa\u4e8e\u200b EM \u200b\u7b97\u6cd5\u200b\uff0c\u200b\u63a8\u5bfc\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u7684\u200b\u53c2\u6570\u200b\u8fed\u4ee3\u200b\u516c\u5f0f\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b Python \u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u805a\u7c7b\u200b\u548c\u200b\u5404\u7c7b\u200b\u522b\u7684\u200b\u53c2\u6570\u200b\u6c42\u89e3\u200b\u3002</p> <p>\u200b\u5728\u200b\u7f16\u5199\u200b\u4ee3\u7801\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u9047\u5230\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u7b80\u5355\u200b\u4f46\u200b\u4e00\u76f4\u200b\u6ca1\u200b\u53d1\u73b0\u200b\u7684\u200b Bug\u3002</p> <p>\u200b\u5b9a\u4e49\u200b\u6570\u7ec4\u200b\u7528\u200b<code>all_density = np.array([0]*K)</code>\uff0c\u200b\u518d\u7528\u200b<code>all_density[k] = k_density</code>\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u8ba9\u200b<code>all_density</code>\u200b\u7684\u200b\u7b2c\u200b<code>k</code>\u200b\u4e2a\u200b\u5143\u7d20\u200b\u6539\u53d8\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b<code>all_density</code>\u200b\u662f\u200b\u4ecb\u4e8e\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e4b\u95f4\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u5728\u200b\u5b9a\u4e49\u200b<code>all_density</code>\u200b\u7684\u200b\u65f6\u5019\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u6570\u7ec4\u200b\u5185\u90e8\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e0d\u200b\u652f\u6301\u200b\u5c0f\u6570\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8d4b\u503c\u200b\u4e4b\u540e\u200b<code>all_density</code>\u200b\u7684\u200b\u7b2c\u200b<code>k</code>\u200b\u4e2a\u200b\u5143\u7d20\u200b\u4ecd\u7136\u200b\u662f\u200b 0\u3002</p> <p>\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u5b9a\u4e49\u200b\u6570\u7ec4\u200b\u7684\u200b\u65f6\u5019\u200b\u4e00\u5b9a\u200b\u8981\u200b\u6307\u5b9a\u200b\u5143\u7d20\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u6307\u5b9a\u200b\u4e3a\u200b<code>dtype=flout64</code>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b\u9ad8\u7cbe\u5ea6\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#em-\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u548c\u5177\u4f53\u6b65\u9aa4","title":"EM \u200b\u7b97\u6cd5\u200b\u7684\u200b\u57fa\u672c\u200b\u601d\u60f3\u200b\u548c\u200b\u5177\u4f53\u6b65\u9aa4","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u57fa\u672c\u601d\u60f3","title":"\u57fa\u672c\u200b\u601d\u60f3","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u5177\u4f53\u6b65\u9aa4","title":"\u5177\u4f53\u6b65\u9aa4","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u5173\u4e8e\u521d\u59cb\u503c\u548c\u7ec8\u6b62\u6761\u4ef6\u7684\u51e0\u70b9\u8bf4\u660e","title":"\u5173\u4e8e\u200b\u521d\u59cb\u503c\u200b\u548c\u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\u7684\u200b\u51e0\u70b9\u200b\u8bf4\u660e","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u63a8\u5bfc\u591a\u5143\u9ad8\u65af\u6df7\u5408\u6a21\u578b\u805a\u7c7b\u7684\u53c2\u6570\u8fed\u4ee3\u516c\u5f0f","title":"\u63a8\u5bfc\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u7684\u200b\u53c2\u6570\u200b\u8fed\u4ee3\u200b\u516c\u5f0f","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u4f7f\u7528-python-\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u805a\u7c7b\u548c\u5404\u7c7b\u522b\u7684\u53c2\u6570\u6c42\u89e3","title":"\u4f7f\u7528\u200b Python \u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u805a\u7c7b\u200b\u548c\u200b\u5404\u7c7b\u200b\u522b\u7684\u200b\u53c2\u6570\u200b\u6c42\u89e3","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u6570\u636e\u96c6\u63cf\u8ff0","title":"\u6570\u636e\u200b\u96c6\u200b\u63cf\u8ff0","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as ticker\n# \u200b\u663e\u793a\u200b\u4e2d\u6587\u200b\nplt.rcParams[\"font.sans-serif\"] = [\"SimSun\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\n# \u200b\u6e32\u67d3\u200b\u516c\u5f0f\u200b\nplt.rcParams[\"text.usetex\"] = True\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\uff0c\u200b\u8df3\u8fc7\u200b\u7b2c\u4e00\u5217\u200b\ndata = pd.read_csv(\"EM.csv\", index_col=0).values\n# \u200b\u8bc6\u522b\u200b\u6570\u636e\u200b\u7ef4\u5ea6\u200b\nn, p = data.shape\n# \u200b\u53ef\u80fd\u200b\u6765\u81ea\u200b\u7684\u200b\u5206\u5e03\u200b\u6570\u91cf\u200b\nK = 2\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u7ed9\u51fa\u6240\u6709\u53c2\u6570\u7684\u521d\u59cb\u503c","title":"\u7ed9\u51fa\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u7684\u200b\u521d\u59cb\u503c","text":"Python<pre><code># \u200b\u521d\u59cb\u5316\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u70b9\u200b\u6765\u81ea\u200b\u54ea\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u200b\npai = np.array([0.5] * K, dtype=np.float64)\n# \u200b\u521d\u59cb\u5316\u200b\u5747\u503c\u200b\u77e9\u9635\u200b\uff08p*K\uff09\u3002\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u5747\u503c\u200b\u90fd\u200b\u662f\u200b 1\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u5747\u503c\u200b\u90fd\u200b\u662f\u200b 0\nmu = np.array([[1] * p, [0] * p], dtype=np.float64).T\n# \u200b\u521d\u59cb\u5316\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\uff08p*p*K\uff09\u3002\u200b\u6bcf\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u90fd\u200b\u662f\u200b\u5355\u4f4d\u77e9\u9635\u200b\nsigma = np.array([np.eye(p)] * K, dtype=np.float64)\n# \u200b\u6253\u5370\u200b\u521d\u59cb\u503c\u200b\nprint(\"pai:\\n{}\\n\\nmu:\\n{}\\n\\nsigma:\\n{}\".format(pai, mu, sigma))\n</code></pre> Text Only<pre><code>## pai:\n## [0.5 0.5]\n##\n## mu:\n## [[1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]\n##  [1. 0.]]\n##\n## sigma:\n## [[[1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n##   [0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]\n##   [0. 0. 1. 0. 0. 0. 0. 0. 0. 0.]\n##   [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]\n##   [0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]\n##   [0. 0. 0. 0. 0. 1. 0. 0. 0. 0.]\n##   [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]\n##   [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]\n##   [0. 0. 0. 0. 0. 0. 0. 0. 1. 0.]\n##   [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]\n##\n##  [[1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n##   [0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]\n##   [0. 0. 1. 0. 0. 0. 0. 0. 0. 0.]\n##   [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]\n##   [0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]\n##   [0. 0. 0. 0. 0. 1. 0. 0. 0. 0.]\n##   [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]\n##   [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]\n##   [0. 0. 0. 0. 0. 0. 0. 0. 1. 0.]\n##   [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]]\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u8fed\u4ee3\u66f4\u65b0\u53c2\u6570","title":"\u8fed\u4ee3\u200b\u66f4\u65b0\u200b\u53c2\u6570","text":"Python<pre><code># \u200b\u6c42\u200b\u9ad8\u65af\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\ndef gaussian(x, mu, sigma):\nreturn (\n1\n/ np.sqrt((2 * np.pi) ** p * np.linalg.det(sigma))\n* np.exp(-0.5 * (x - mu).T.dot(np.linalg.inv(sigma)).dot(x - mu))\n)\n# \u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u53c2\u6570\u200b\u4e0b\u200b\uff0c\u200b\u6570\u636e\u200b\u70b9\u200b\u5c5e\u4e8e\u200b\u5404\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u200b\ndef prob(x, mu, sigma, pai, K):\nall_density = np.array([0] * K, dtype=np.float64)\nfor k in range(K):\nk_density = pai[k] * gaussian(x, mu[:, k], sigma[k])\nall_density[k] = k_density\nreturn all_density / all_density.sum()\n</code></pre> Python<pre><code>all_iteration_pai = [pai]\nall_iteration_mu = [mu]\nall_iteration_sigma = [sigma]\niteration_count = 0\nwhile True:\niteration_count += 1\n# \u200b\u5c06\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u5c5e\u4e8e\u200b\u5404\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 0\nn_prob = np.array([[0] * K] * n, dtype=np.float64)\n# \u200b\u6c42\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u5c5e\u4e8e\u200b\u5404\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u200b\nfor i in range(n):\n# \u200b\u6c42\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u6837\u672c\u200b\u5c5e\u4e8e\u200b\u5404\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u200b\nx = data[i, :].T\nprob_i = prob(x, mu, sigma, pai, K)\nn_prob[i] = prob_i\n# \u200b\u66f4\u65b0\u200b pai_k\npai = n_prob.sum(axis=0) / n\n# \u200b\u5c06\u200b\u672c\u8f6e\u200b\u8fed\u4ee3\u200b\u7684\u200b pai \u200b\u4fdd\u5b58\u200b\nall_iteration_pai.append(pai)\n# \u200b\u66f4\u65b0\u200b mu\nmu = data.T.dot(n_prob) / n_prob.sum(axis=0)\n# \u200b\u5c06\u200b\u672c\u8f6e\u200b\u8fed\u4ee3\u200b\u7684\u200b mu \u200b\u4fdd\u5b58\u200b\nall_iteration_mu.append(mu)\n# \u200b\u66f4\u65b0\u200b sigma\nfor k in range(K):\nsigma_k = np.zeros((p, p), dtype=np.float64)\nfor i in range(n):\nx = data[i, :].T  # x \u200b\u662f\u200b\u5217\u200b\u5411\u91cf\u200b\nsigma_k += n_prob[i, k] * np.outer(x - mu[:, k], x - mu[:, k])\nsigma_k /= n_prob.sum(axis=0)[k]\n# sigma_k \u200b\u662f\u200b 10*10 \u200b\u7684\u200b\u77e9\u9635\u200b\nsigma[k] = sigma_k\n# \u200b\u5c06\u200b\u672c\u8f6e\u200b\u8fed\u4ee3\u200b\u7684\u200b sigma \u200b\u4fdd\u5b58\u200b\nall_iteration_sigma.append(sigma)\n# \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u7ec8\u6b62\u200b 1\nnew_mu = all_iteration_mu[-1]\nold_mu = all_iteration_mu[-2]\n# \u200b\u5f53\u200b\u672c\u6b21\u200b\u8fed\u4ee3\u200b\u5f97\u5230\u200b\u7684\u200b mu \u200b\u548c\u200b\u4e0a\u6b21\u200b\u8fed\u4ee3\u200b\u5f97\u5230\u200b\u7684\u200b mu \u200b\u51e0\u4e4e\u200b\u6ca1\u6709\u200b\u5dee\u522b\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7ec8\u6b62\u200b\u8fed\u4ee3\u200b\nif (np.subtract(new_mu, old_mu) ** 2).sum() &lt; 1e-8:\nbreak\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u6253\u5370\u51fa\u8fed\u4ee3\u7684\u6b21\u6570\u548c\u53c2\u6570\u7684\u503c","title":"\u6253\u5370\u200b\u51fa\u200b\u8fed\u4ee3\u200b\u7684\u200b\u6b21\u6570\u200b\u548c\u200b\u53c2\u6570\u200b\u7684\u200b\u503c","text":"Python<pre><code>print(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\uff1a{}\".format(iteration_count))\n</code></pre> Text Only<pre><code>## \u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\uff1a17\n</code></pre> Python<pre><code>print(\"pai:\\n{}\\n\".format(pai))\n</code></pre> Text Only<pre><code>## pai:\n## [0.58870318 0.41129682]\n</code></pre> Python<pre><code>print(\"mu:\\n{}\\n\".format(mu))\n</code></pre> Text Only<pre><code>## mu:\n## [[ 1.01500407  0.18662592]\n##  [ 0.97982009  0.01332565]\n##  [ 1.00858025 -0.12719368]\n##  [ 1.0234199  -0.02555446]\n##  [ 1.04411481  0.00185229]\n##  [ 1.02298727  0.00717931]\n##  [ 1.01387045 -0.05989538]\n##  [ 0.97264306 -0.08819002]\n##  [ 0.99824314  0.22147017]\n##  [ 0.92537071 -0.00442322]]\n</code></pre> Python<pre><code>print(\"sigma:\\n{}\".format(sigma))\n</code></pre> Text Only<pre><code>## sigma:\n## [[[ 4.77850968e-01  2.03033657e-02  3.78546195e-02 -1.01181913e-03\n##    -2.96115297e-02 -5.54141629e-03 -1.47452695e-02  1.37669547e-02\n##    -6.28394728e-02 -1.21109511e-02]\n##   [ 2.03033657e-02  4.77796696e-01 -6.62293811e-03  3.75985666e-02\n##    -2.04491793e-02 -2.98300772e-03 -8.21489696e-03 -3.22317835e-02\n##    -5.36574177e-03  4.54354716e-02]\n##   [ 3.78546195e-02 -6.62293811e-03  4.54636109e-01 -3.51923568e-02\n##     6.34667740e-03 -3.56763317e-02 -1.53553017e-03 -1.43510168e-02\n##    -2.67175562e-02  2.75253474e-02]\n##   [-1.01181913e-03  3.75985666e-02 -3.51923568e-02  4.54814674e-01\n##    -1.09588387e-02 -8.04964137e-03 -6.79355591e-02 -1.58610602e-02\n##     1.38411070e-03  2.97408576e-02]\n##   [-2.96115297e-02 -2.04491793e-02  6.34667740e-03 -1.09588387e-02\n##     4.18149094e-01  5.14822421e-02 -2.70075163e-02 -4.85719583e-02\n##    -3.90824938e-02 -9.80214724e-03]\n##   [-5.54141629e-03 -2.98300772e-03 -3.56763317e-02 -8.04964137e-03\n##     5.14822421e-02  5.57272122e-01 -3.35251541e-03  1.08618076e-02\n##    -1.70210877e-02 -3.56956117e-02]\n##   [-1.47452695e-02 -8.21489696e-03 -1.53553017e-03 -6.79355591e-02\n##    -2.70075163e-02 -3.35251541e-03  4.87019479e-01 -3.51035789e-02\n##    -1.15753668e-02 -1.56505402e-02]\n##   [ 1.37669547e-02 -3.22317835e-02 -1.43510168e-02 -1.58610602e-02\n##    -4.85719583e-02  1.08618076e-02 -3.51035789e-02  4.23483429e-01\n##     4.98114718e-02  2.34207606e-03]\n##   [-6.28394728e-02 -5.36574177e-03 -2.67175562e-02  1.38411070e-03\n##    -3.90824938e-02 -1.70210877e-02 -1.15753668e-02  4.98114718e-02\n##     4.82600350e-01 -1.92214963e-02]\n##   [-1.21109511e-02  4.54354716e-02  2.75253474e-02  2.97408576e-02\n##    -9.80214724e-03 -3.56956117e-02 -1.56505402e-02  2.34207606e-03\n##    -1.92214963e-02  5.65086238e-01]]\n##\n##  [[ 9.29295093e-01  4.08010510e-02 -8.23808935e-04  8.44863621e-03\n##     1.20218799e-01 -1.11470574e-01  1.53808551e-02  7.88913749e-02\n##    -2.78554252e-02  3.22006682e-02]\n##   [ 4.08010510e-02  9.83440827e-01 -5.49377007e-02 -2.71323305e-02\n##    -5.45668743e-02  1.21946570e-01  2.00130257e-02  9.74783909e-02\n##    -1.53586564e-01  1.30733179e-01]\n##   [-8.23808935e-04 -5.49377007e-02  1.07523742e+00  7.43292761e-02\n##     3.62964590e-02 -2.81937066e-02  1.96732798e-02 -1.07758450e-01\n##     8.91156366e-02 -1.92974649e-02]\n##   [ 8.44863621e-03 -2.71323305e-02  7.43292761e-02  9.11091322e-01\n##     1.89237737e-02 -7.29374832e-02 -1.32674621e-01 -7.57571711e-02\n##     5.28107636e-02 -1.12753582e-01]\n##   [ 1.20218799e-01 -5.45668743e-02  3.62964590e-02  1.89237737e-02\n##     8.88748718e-01 -9.57949898e-02 -5.23966099e-02 -9.07784608e-02\n##     3.94038498e-02 -7.42123835e-02]\n##   [-1.11470574e-01  1.21946570e-01 -2.81937066e-02 -7.29374832e-02\n##    -9.57949898e-02  1.00163225e+00  2.84507420e-02  1.29356885e-01\n##     8.54158988e-02  6.04867236e-02]\n##   [ 1.53808551e-02  2.00130257e-02  1.96732798e-02 -1.32674621e-01\n##    -5.23966099e-02  2.84507420e-02  9.74886562e-01 -1.91740598e-02\n##    -1.45956772e-01  4.74506001e-02]\n##   [ 7.88913749e-02  9.74783909e-02 -1.07758450e-01 -7.57571711e-02\n##    -9.07784608e-02  1.29356885e-01 -1.91740598e-02  1.07694992e+00\n##    -1.53518203e-01  1.93095744e-01]\n##   [-2.78554252e-02 -1.53586564e-01  8.91156366e-02  5.28107636e-02\n##     3.94038498e-02  8.54158988e-02 -1.45956772e-01 -1.53518203e-01\n##     1.14354842e+00 -4.74273894e-02]\n##   [ 3.22006682e-02  1.30733179e-01 -1.92974649e-02 -1.12753582e-01\n##    -7.42123835e-02  6.04867236e-02  4.74506001e-02  1.93095744e-01\n##    -4.74273894e-02  1.00534259e+00]]]\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/em-algorithm-for-multivariable-gaussian-mixture-model/#\u7ed8\u5236\u5404\u53c2\u6570\u7684\u8fed\u4ee3\u53d8\u5316\u56fe","title":"\u7ed8\u5236\u200b\u5404\u200b\u53c2\u6570\u200b\u7684\u200b\u8fed\u4ee3\u200b\u53d8\u5316\u200b\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(9, 16))\n# \u200b\u753b\u200b pai \u200b\u7684\u200b\u8fed\u4ee3\u200b\u8fc7\u7a0b\u200b\nax1 = fig.add_subplot(311)\n# \u200b\u5c06\u200b\u6a2a\u5750\u6807\u200b\u523b\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6574\u6570\u200b\uff0c\u200b\u5b57\u53f7\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 18\nax1.xaxis.set_major_locator(ticker.MultipleLocator(1))\nax1.tick_params(labelsize=18)\nax1.set_ylabel(r\"$\\pi$\", size=18)\nax1.plot(\nrange(iteration_count + 1),\n[all_iteration_pai[i][0] for i in range(iteration_count + 1)],\nlabel=r\"$\\pi_1$\",\n)\nax1.plot(\nrange(iteration_count + 1),\n[all_iteration_pai[i][1] for i in range(iteration_count + 1)],\nlabel=r\"$\\pi_2$\",\n)\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\uff0c\u200b\u5b57\u53f7\u200b\u4e3a\u200b 18\uff0c\u200b\u4e14\u200b\u56fe\u4f8b\u200b\u663e\u793a\u200b\u5728\u200b\u56fe\u5916\u200b\nax1.legend(fontsize=18, bbox_to_anchor=(1, 1))\n# \u200b\u753b\u200b\u7b2c\u4e00\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b mu \u200b\u7684\u200b\u8fed\u4ee3\u200b\u8fc7\u7a0b\u200b\nax2 = fig.add_subplot(312)\n# \u200b\u5c06\u200b\u6a2a\u5750\u6807\u200b\u523b\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6574\u6570\u200b\uff0c\u200b\u5b57\u53f7\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 18\nax2.xaxis.set_major_locator(ticker.MultipleLocator(1))\nax2.tick_params(labelsize=18)\nax2.set_ylabel(r\"$\\mu_1$\", size=18)\nfor param in range(K * p):\n# \u200b\u53ea\u753b\u200b\u7b2c\u4e00\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b mu\nif param % 2 == 0:\nax2.plot(\nrange(iteration_count + 1),\n[all_iteration_mu[i][param // 2][0] for i in range(iteration_count + 1)],\nlabel=r\"$\\mu_{1{%s}}$\" % (param // 2 + 1),\n)\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\uff0c\u200b\u5b57\u53f7\u200b\u4e3a\u200b 18\nax2.legend(fontsize=18, bbox_to_anchor=(1, 1))\n# \u200b\u753b\u200b\u7b2c\u4e8c\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b mu \u200b\u7684\u200b\u8fed\u4ee3\u200b\u8fc7\u7a0b\u200b\nax3 = fig.add_subplot(313)\n# \u200b\u5c06\u200b\u6a2a\u5750\u6807\u200b\u523b\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6574\u6570\u200b\uff0c\u200b\u5b57\u53f7\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 18\nax3.xaxis.set_major_locator(ticker.MultipleLocator(1))\nax3.tick_params(labelsize=18)\nax3.set_xlabel(\"\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\", size=18, usetex=False)  # \u200b\u4e2d\u6587\u200b\u4e0d\u7528\u200b tex \u200b\u6e32\u67d3\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\nax3.set_ylabel(r\"$\\mu_2$\", size=18)\nfor param in range(K * p):\n# \u200b\u53ea\u753b\u200b\u7b2c\u4e8c\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b mu\nif param % 2 == 1:\nax3.plot(\nrange(iteration_count + 1),\n[all_iteration_mu[i][param // 2][1] for i in range(iteration_count + 1)],\nlabel=r\"$\\mu_{2{%s}}$\" % (param // 2 + 1),\n)\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\uff0c\u200b\u5b57\u53f7\u200b\u4e3a\u200b 18\nax3.legend(fontsize=18, bbox_to_anchor=(1, 1))\n# \u200b\u6807\u9898\u200b\nfig.suptitle(\"EM \u200b\u7b97\u6cd5\u200b\u8fed\u4ee3\u200b\u8fc7\u7a0b\u200b\", size=20, usetex=False)  # \u200b\u4e2d\u6587\u200b\u4e0d\u7528\u200b tex \u200b\u6e32\u67d3\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\n# \u200b\u6807\u9898\u200b\u79bb\u200b\u56fe\u50cf\u200b\u7684\u200b\u8ddd\u79bb\u200b\nfig.subplots_adjust(top=0.95)\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/","title":"\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u5bf9\u200b fer2013 \u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4eba\u8138\u200b\u8868\u60c5\u200b\u8bc6\u522b","text":"<p>\u200b\u4f7f\u7528\u200b Keras \u200b\u6784\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff0c\u200b\u5bf9\u200b Block \u200b\u6570\u91cf\u200b\u3001\u200b\u5377\u79ef\u200b\u6838\u200b\u5927\u5c0f\u200b\u3001Dropout rate \u200b\u8fdb\u884c\u200b\u53c2\u6570\u200b\u8c03\u4f18\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u65b9\u6cd5\u200b\u751f\u6210\u200b\u6a21\u578b\u200b\u6570\u636e\u200b\u7f13\u89e3\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\u3002\u200b\u6700\u4f18\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u5206\u7c7b\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u7cbe\u786e\u200b\u7387\u200b\u548c\u200b\u53ec\u56de\u200b\u7387\u5747\u200b\u4e3a\u200b 63%\uff0c\u200b\u6bd4\u200b\u57fa\u51c6\u200b\u6a21\u578b\u200b\u7684\u200b\u5206\u7c7b\u200b\u6548\u679c\u200b\u63d0\u9ad8\u200b\u4e86\u200b\u7ea6\u200b 10%\u3002</p> <p></p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6570\u636e\u589e\u5f3a","title":"\u6570\u636e\u200b\u589e\u5f3a","text":"<p>\u200b\u5f53\u200b\u6837\u672c\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u4e0d\u591f\u200b\u591a\u200b\uff0c\u200b\u53c8\u200b\u60f3\u200b\u5c3d\u91cf\u200b\u63d0\u5347\u200b\u6a21\u578b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u679c\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u6280\u672f\u200b\u3002</p> <p>\u200b\u5bf9\u200b\u73b0\u6709\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u53d8\u5f62\u200b\uff0c\u200b\u5982\u200b\u5e73\u79fb\u200b\u3001\u200b\u65cb\u8f6c\u200b\u3001\u200b\u62c9\u4f38\u200b\u7b49\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\u4e2d\u200b\u4ecd\u200b\u6709\u200b\u8f83\u4e3a\u200b\u91cd\u8981\u200b\u7684\u200b\u7279\u5f81\u200b\uff08\u200b\u4f8b\u5982\u200b\u732b\u200b\u7684\u200b\u7279\u5f81\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u3002</p> <p>\u200b\u66f4\u200b\u591a\u200b\u5185\u5bb9\u200b\u53ef\u200b\u53c2\u89c1\u200b Keras \u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u6559\u7a0b\u200b\u3002</p> <p>\u200b\u672c\u200b\u9879\u76ee\u200b\u5c31\u200b\u4f7f\u7528\u200b\u4e86\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u6280\u672f\u200b\uff0c\u200b\u4e0b\u9762\u200b\u4e24\u5f20\u200b\u56fe\u7247\u200b\u5206\u522b\u200b\u662f\u200b\u539f\u59cb\u200b\u56fe\u7247\u200b\u548c\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u540e\u200b\u7684\u200b\u56fe\u7247\u200b\u3002</p> <p>\u200b\u539f\u59cb\u200b\u7684\u200b\u56fe\u7247\u200b\uff1a</p> <p></p> <p>\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u540e\u200b\u7684\u200b\u56fe\u7247\u200b\uff1a</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8fc1\u79fb\u5b66\u4e60","title":"\u8fc1\u79fb\u200b\u5b66\u4e60","text":"<p>\u200b\u4f7f\u7528\u200b\u9884\u200b\u8bad\u7ec3\u200b\u7684\u200b\u7f51\u7edc\u200b\uff0c\u200b\u5373\u7528\u200b\u524d\u4eba\u200b\u5df2\u7ecf\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b Feature Map \u200b\u5c42\u200b\uff0c\u200b\u5bf9\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u3002\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b\u4ec5\u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\u3002</p> <p>\u200b\u4ee5\u200b VGG16 \u200b\u7b97\u6cd5\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5177\u4f53\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>from keras.applications import VGG16\nconv_base = VGG16(weights=\"imagenet\", include_top=False, input_shape=(150, 150, 3))\n</code></pre> <ul> <li><code>include_top=False</code>\u200b\u4ee3\u8868\u200b\u4ec5\u200b\u4f7f\u7528\u200b VGG16 \u200b\u4e2d\u200b\u7684\u200b Feature Map \u200b\u5c42\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u7528\u4e8e\u200b\u5206\u7c7b\u200b\u7684\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b<code>include_top=True</code>\uff0c\u200b\u5219\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b VGG16 \u200b\u4e2d\u200b\u7684\u200b Feature Map \u200b\u5c42\u200b\u548c\u200b\u5206\u7c7b\u200b\u7684\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u3002VGG16 \u200b\u6700\u7ec8\u200b\u53ef\u4ee5\u200b\u5bf9\u200b 1000 \u200b\u79cd\u200b\u7269\u4f53\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u3002</li> </ul> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u4f7f\u7528\u200b VGG16 \u200b\u4e2d\u200b\u7684\u200b Feature Map \u200b\u5c42\u200b\u53c8\u200b\u5206\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\uff1a</p> <ol> <li>\u200b\u5982\u679c\u200b\u53ea\u662f\u200b\u5e0c\u671b\u200b\u4f7f\u7528\u200b VGG16 \u200b\u4e2d\u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\uff0c\u200b\u4f46\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u5177\u4f53\u200b\u53c2\u6570\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b</li> </ol> Python<pre><code>conv_base.trainable = True\n</code></pre> <p>\u200b\u8fd9\u200b\u5bf9\u200b\u673a\u5668\u200b\u7684\u200b\u6027\u80fd\u200b\u8981\u6c42\u200b\u5f88\u200b\u9ad8\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u8bad\u7ec3\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u4f46\u200b\u7531\u4e8e\u200b\u53c2\u6570\u200b\u662f\u200b\u57fa\u4e8e\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u7684\u200b\u6570\u636e\u200b\u8bad\u7ec3\u200b\u51fa\u6765\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u66f4\u200b\u9002\u7528\u200b\u4e8e\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4ece\u800c\u200b\u51c6\u786e\u7387\u200b\u5e94\u8be5\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\u3002</p> <ol> <li>\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u4f7f\u7528\u200b VGG16 \u200b\u4e2d\u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b VGG16 \u200b\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u5177\u4f53\u200b\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b</li> </ol> Python<pre><code>conv_base.trainable = False\n</code></pre> <p>\u200b\u7531\u4e8e\u200b\u662f\u200b\u76f4\u63a5\u200b\u501f\u7528\u200b VGG16 \u200b\u4e2d\u200b Feature Map \u200b\u5c42\u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u5177\u4f53\u200b\u53c2\u6570\u200b\uff0c\u200b\u771f\u6b63\u200b\u9700\u200b\u8981\u6c42\u200b\u53c2\u6570\u200b\u7684\u200b\u5c31\u200b\u53ea\u6709\u200b\u5206\u7c7b\u200b\u7684\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6574\u4e2a\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u975e\u5e38\u200b\u5feb\u200b\u3002\u200b\u7531\u4e8e\u200b\u53c2\u6570\u200b\u662f\u200b VGG16 \u200b\u7f51\u7edc\u200b\u5df2\u7ecf\u200b\u7b97\u597d\u200b\u7684\u200b\uff0c\u200b\u800c\u200b VGG16 \u200b\u7528\u200b\u7684\u200b\u6570\u636e\u200b\u548c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u80fd\u200b\u6709\u200b\u8f83\u5927\u200b\u5dee\u5f02\u200b\uff0c\u200b\u56e0\u6b64\u200b\u51c6\u786e\u7387\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u5f88\u200b\u9ad8\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u66f4\u590d\u6742\u7684\u8fc1\u79fb\u5b66\u4e60","title":"\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u8fc1\u79fb\u200b\u5b66\u4e60","text":"<p>\u200b\u4e0a\u8ff0\u200b\u7684\u200b\u8fc1\u79fb\u200b\u5b66\u4e60\u200b\u662f\u200b\u5c06\u200b Feature Map \u200b\u5c42\u7528\u200b VGG16 \u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\uff0c\u200b\u518d\u200b\u63a5\u4e0a\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5206\u7c7b\u200b\u7684\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u3002</p> <p>\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u8fc1\u79fb\u200b\u5b66\u4e60\u200b\u53ef\u4ee5\u200b\u662f\u200b\uff1a\u200b\u5148\u200b\u7528\u200b VGG16 \u200b\u8bad\u7ec3\u200b\u597d\u200b Feature Map \u200b\u5c42\u200b\uff0c\u200b\u518d\u200b\u63a5\u4e0a\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u5b9a\u4e49\u200b\u7684\u200b Feature Map \u200b\u5c42\u200b\uff0c\u200b\u6700\u540e\u200b\u518d\u200b\u63a5\u4e0a\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5206\u7c7b\u200b\u7684\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u3002</p> <p>\u200b\u53ef\u89c1\u200b\u8fd9\u91cc\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u81ea\u5df1\u200b\u8bad\u7ec3\u200b\u7684\u200b Feature Map \u200b\u5c42\u200b\uff0c\u200b\u4e5f\u8bb8\u200b\u80fd\u200b\u5bf9\u6a21\u578b\u200b\u6548\u679c\u200b\u6709\u200b\u63d0\u5347\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6570\u636e\u51c6\u5907","title":"\u6570\u636e\u200b\u51c6\u5907","text":"Python<pre><code>import functions\nimport importlib\nimportlib.reload(functions)\nfrom functions import *\nimport os\nimport time\nimport numpy as np\nimport pandas as pd\nfrom tqdm import tqdm\nfrom sklearn.metrics import classification_report, confusion_matrix\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u4f7f\u7528-gpu","title":"\u4f7f\u7528\u200b GPU","text":"Python<pre><code># os.environ[\"CUDA_VISIBLE_DEVICES\"] = \"-1\" #\u200b\u4ec5\u200b CPU\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = \"0\"  # GPU 0  \u200b\u6bcf\u6b21\u200b\u53ea\u7528\u200b\u4e00\u4e2a\u200b GPU\n# os.environ[\"CUDA_VISIBLE_DEVICES\"] = \"1\" #GPU 1\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u4ece\u6570\u7ec4\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e","title":"\u4ece\u200b\u6570\u7ec4\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code>x_train = np.load(\"x_train.npy\")\ny_train = np.load(\"y_train.npy\")\nx_val = np.load(\"x_val.npy\")\ny_val = np.load(\"y_val.npy\")\nx_test = np.load(\"x_test.npy\")\ny_test = np.load(\"y_test.npy\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6839\u636e\u6570\u636e\u96c6\u7684\u5185\u5bb9\u5212\u5206\u6807\u7b7e","title":"\u6839\u636e\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5212\u5206\u200b\u6807\u7b7e","text":"Python<pre><code>emotions_Str = [\"anger\", \"disgust\", \"fear\", \"happy\", \"neutral\", \"sad\", \"surprised\"]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u642d\u5efa\u521d\u59cb\u6a21\u578b","title":"\u642d\u5efa\u200b\u521d\u59cb\u6a21\u578b","text":"<p>\u200b\u642d\u5efa\u200b\u521d\u59cb\u6a21\u578b\u200b\uff1a\u200b\u4e09\u4e2a\u200b block\uff08\u200b\u4e24\u5c42\u200b\u5377\u79ef\u200b\uff0c\u200b\u4e00\u5c42\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\uff09 + Flatten + \u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\uff08Dense\uff09</p> <ul> <li>\u200b\u7b2c\u4e00\u4e2a\u200b Block\uff1a2 \u200b\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u5747\u200b\u4e3a\u200b filters=32,     kernel_size=3\uff1b\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\uff1apool_size=2, strides=2</li> <li>\u200b\u7b2c\u4e8c\u4e2a\u200b Block\uff1a2 \u200b\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u5747\u200b\u4e3a\u200b filters=64,     kernel_size=3\uff1b\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\uff1apool_size=2, strides=2</li> <li>\u200b\u7b2c\u4e09\u4e2a\u200b Block\uff1a2 \u200b\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u5747\u200b\u4e3a\u200b filters=128,     kernel_size=3\uff1b\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\uff1apool_size=2, strides=2</li> <li>Flatten \u200b\u5c42\u200b\u7528\u6765\u200b\u5c06\u200b\u8f93\u5165\u200b\"\u200b\u538b\u5e73\u200b\"\uff0c\u200b\u5373\u200b\u628a\u200b\u591a\u7ef4\u200b\u7684\u200b\u8f93\u5165\u200b\u4e00\u7ef4\u200b\u5316\u200b\uff0c\u200b\u5e38\u7528\u200b\u5728\u200b\u4ece\u200b\u5377\u79ef\u200b\u5c42\u5230\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7684\u200b\u8fc7\u6e21\u200b\u3002Flatten \u200b\u4e0d\u200b\u5f71\u54cd\u200b batch \u200b\u7684\u200b\u5927\u5c0f\u200b\u3002</li> <li>\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\uff1a\u200b\u8f93\u51fa\u200b 7 \u200b\u4e2a\u200b\u7c7b\u522b\u200b\u7684\u200b\u6982\u7387\u200b\uff0c\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u4e3a\u200b softmax</li> </ul> Python<pre><code>Keras.clear_session()\n# \u200b\u8bad\u7ec3\u200b\u521d\u59cb\u6a21\u578b\u200b\n# \u200b\u8bb0\u5f55\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u7684\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b\nstart = time.time()\nhistory = tuning(\nblock_num=3,\nlayer_num=2,\nfilters_in_each_block=[32, 64, 128],\nkernel_size=3,\npool_size=2,\nstrides=2,\ndropout_rate=0,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\n)\n# \u200b\u8bb0\u5f55\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u7684\u200b\u8017\u65f6\u200b\nprint(\"\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u4e00\u5171\u200b\u8017\u65f6\u200b{}\u200b\u79d2\u200b\".format((time.time() - start)))\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc(history)\n</code></pre> <p> \u200b\u53ef\u4ee5\u200b\u660e\u663e\u200b\u7684\u200b\u770b\u5230\u200b\uff0c\u200b\u8d8a\u5f80\u540e\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u8d8a\u9ad8\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u548c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u53cd\u800c\u200b\u8d8a\u6765\u8d8a\u200b\u5dee\u200b\uff0c\u200b\u8fd9\u662f\u200b\u975e\u5e38\u200b\u5178\u578b\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u60c5\u5f62\u200b\uff0c\u200b\u6709\u200b\u4ec0\u4e48\u200b\u6539\u8fdb\u200b\u63aa\u65bd\u200b\u5462\u200b\uff1f<code>&lt;BR&gt;</code> \u200b\u8003\u8651\u200b\u4ee5\u4e0b\u200b\u6539\u8fdb\u200b\u65b9\u6cd5\u200b\uff08\u200b\u53ca\u5176\u200b\u7ec4\u5408\u200b\uff09\uff1a</p> <ol> <li>\u200b\u8c03\u6574\u200b Block \u200b\u7684\u200b\u6570\u91cf\u200b\uff1b</li> <li>\u200b\u6539\u53d8\u200b\u6bcf\u4e2a\u200b Block \u200b\u4e2d\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5c42\u6570\u200b\uff1b</li> <li>\u200b\u6539\u53d8\u200b\u6bcf\u5c42\u200b\u7684\u200b\u795e\u7ecf\u5143\u200b\u6570\u91cf\u200b\u53ca\u200b Kernel size \u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u6539\u53d8\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b pool_size \u200b\u548c\u200b strides\uff1b</li> <li>\u200b\u589e\u52a0\u200b dropout\uff1b</li> <li>\u200b\u8c03\u6574\u200b batch\uff1b</li> <li>\u200b\u8c03\u6574\u200b epochs\uff1b</li> <li>\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u65b9\u6cd5\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6a21\u578b\u8c03\u4f18","title":"\u6a21\u578b\u200b\u8c03\u4f18","text":"","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574-block-\u7684\u6570\u91cf","title":"\u8c03\u6574\u200b Block \u200b\u7684\u200b\u6570\u91cf","text":"<p>\u200b\u8bbe\u7f6e\u200b Block \u200b\u7684\u200b\u6570\u91cf\u200b\u4e3a\u200b 1 \u200b\u81f3\u200b 5\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b Block \u200b\u7684\u200b\u6570\u91cf\u200b\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u5148\u200b\u6307\u5b9a\u200b\u6bcf\u4e2a\u200b Block \u200b\u7684\u200b filters \u200b\u6570\u91cf\u200b\uff0c\u200b\u518d\u200b\u6839\u636e\u200b Block \u200b\u7684\u200b\u6570\u91cf\u200b\u9009\u53d6\u200b\u76f8\u5e94\u200b\u7684\u200b filters \u200b\u6570\u91cf\u200b\nfilters_for_all_block = [32, 64, 128, 256, 512]\npbar = tqdm(range(1, 5 + 1), leave=True)\nfor block_num in pbar:\npbar.set_description(\"Block_num: {}\".format(block_num))\nhistory = tuning(\nblock_num=block_num,\nlayer_num=2,\nfilters_in_each_block=filters_for_all_block[:block_num],\nkernel_size=3,\npool_size=2,\nstrides=2,\ndropout_rate=0,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(history_list, \"block number\", list(range(1, 5 + 1)))\n</code></pre> <p> \u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b Block \u200b\u7684\u200b\u6570\u91cf\u200b\u8bbe\u200b\u4e3a\u200b<code>4</code>\u200b\u8f83\u200b\u5408\u9002\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574\u6bcf\u4e2a-block-\u4e2d\u7684\u795e\u7ecf\u7f51\u7edc\u5c42\u6570","title":"\u8c03\u6574\u200b\u6bcf\u4e2a\u200b Block \u200b\u4e2d\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5c42\u6570","text":"<p>\u200b\u6bcf\u4e2a\u200b Block \u200b\u7684\u200b\u5c42\u6570\u200b\u8bbe\u200b\u4e3a\u200b 1 \u200b\u81f3\u200b 5\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b Block \u200b\u7684\u200b\u6570\u91cf\u200b\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u6307\u5b9a\u200b\u6bcf\u4e2a\u200b Block \u200b\u7684\u200b filters \u200b\u6570\u91cf\u200b\nfilters_for_all_block = [32, 64, 128, 256]\npbar = tqdm(range(1, 5 + 1), leave=True)\nfor layer_num in pbar:\npbar.set_description(\"Layer_num: {}\".format(layer_num))\nhistory = tuning(\nblock_num=4,\nlayer_num=layer_num,\nfilters_in_each_block=filters_for_all_block,\nkernel_size=3,\npool_size=2,\nstrides=2,\ndropout_rate=0,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(history_list, \"layer number\", list(range(1, 5 + 1)))\n</code></pre> <p> \u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b\u6bcf\u4e2a\u200b Block \u200b\u4e2d\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5c42\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>2</code>\u200b\u8f83\u200b\u5408\u9002\u200b\uff0c\u200b\u5373\u200b\u53ef\u4ee5\u200b\u6cbf\u7528\u200b\u539f\u200b\u6a21\u578b\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574\u6bcf\u5c42\u7684\u795e\u7ecf\u5143\u6570\u91cf","title":"\u8c03\u6574\u200b\u6bcf\u5c42\u200b\u7684\u200b\u795e\u7ecf\u5143\u200b\u6570\u91cf","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6bcf\u5c42\u200b\u7684\u200b\u795e\u7ecf\u5143\u200b\u6570\u91cf\u200b\u4e3a\u200b 16 \u200b\u81f3\u200b 1024 \u200b\u7684\u200b\u56db\u79cd\u200b\u7ec4\u5408\u200b\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b\u6bcf\u4e2a\u200b Block \u200b\u4e2d\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5c42\u6570\u200b\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u6307\u5b9a\u200b\u6bcf\u4e2a\u200b Block \u200b\u7684\u200b filters \u200b\u6570\u91cf\u200b\nfilters_in_each_block_list = [\n[16, 32, 64, 128],\n[32, 64, 128, 256],\n[64, 128, 256, 512],\n[128, 256, 512, 1024],\n]\npbar = tqdm(filters_in_each_block_list, leave=True)\nfor filters_in_each_block in pbar:\npbar.set_description(\"filters_in_each_block: {}\".format(filters_in_each_block))\nhistory = tuning(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=filters_in_each_block,\nkernel_size=3,\npool_size=2,\nstrides=2,\ndropout_rate=0,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(\nhistory_list, \"filters_in_each_block\", filters_in_each_block_list\n)\n</code></pre> <p></p> <p>\u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b\u6bcf\u4e2a\u200b Block \u200b\u4e2d\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5c42\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>[64, 128, 256, 512]</code>\u200b\u8f83\u200b\u5408\u9002\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574-kernel-size-\u7684\u5927\u5c0f","title":"\u8c03\u6574\u200b Kernel size \u200b\u7684\u200b\u5927\u5c0f","text":"<p>\u200b\u8bbe\u7f6e\u200b Kernel size \u200b\u7684\u200b\u5927\u5c0f\u200b\u4e3a\u200b 2 \u200b\u81f3\u200b 5\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b kernel_size\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u6307\u5b9a\u200b Kernel Size\nkernel_size_list = list(range(2, 5 + 1))\npbar = tqdm(kernel_size_list, leave=True)\nfor kernel_size in pbar:\npbar.set_description(\"kernel_size: {}\".format(kernel_size))\nhistory = tuning(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=kernel_size,\npool_size=2,\nstrides=2,\ndropout_rate=0,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(history_list, \"kernel_size\", kernel_size_list)\n</code></pre> <p></p> <p>\u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b Kernel size \u200b\u7684\u200b\u5927\u5c0f\u200b\u8bbe\u200b\u4e3a\u200b<code>3</code>\u200b\u8f83\u200b\u5408\u9002\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574\u6700\u5927\u6c60\u5316\u5c42\u7684-pool_size","title":"\u8c03\u6574\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b pool_size","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b pool_size \u200b\u4e3a\u200b 2 \u200b\u81f3\u200b 4\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b pool_size\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u6307\u5b9a\u200b Pool Size\npool_size_list = list(range(2, 4 + 1))\npbar = tqdm(pool_size_list, leave=True)\nfor pool_size in pbar:\npbar.set_description(\"pool_size: {}\".format(pool_size))\nhistory = tuning(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=3,\npool_size=pool_size,\nstrides=2,\ndropout_rate=0,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(history_list, \"pool_size\", pool_size_list)\n</code></pre> <p></p> <p>\u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b\u6700\u5927\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b pool_size \u200b\u8bbe\u200b\u4e3a\u200b<code>4</code>\u200b\u8f83\u200b\u5408\u9002\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574-dropout_rate","title":"\u8c03\u6574\u200b dropout_rate","text":"<p>\u200b\u8bbe\u7f6e\u200b dropout_rate \u200b\u7684\u200b\u5927\u5c0f\u200b\u4e3a\u200b 0 \u200b\u81f3\u200b 0.5\uff0c\u200b\u95f4\u9694\u200b 0.1\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b dropout_rate\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u6307\u5b9a\u200b dropout_rate\ndropout_rate_list = list(np.arange(0, 0.5 + 0.1, 0.1))\npbar = tqdm(dropout_rate_list, leave=True)\nfor dropout_rate in pbar:\npbar.set_description(\"dropout_rate: {}\".format(dropout_rate))\nhistory = tuning(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=3,\npool_size=4,\nstrides=2,\ndropout_rate=dropout_rate,\nbatch_size=512,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(history_list, \"dropout_rate\", dropout_rate_list)\n</code></pre> <p></p> <p>\u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b dropout_rate \u200b\u8bbe\u200b\u4e3a\u200b<code>0.2</code>\u200b\u8f83\u200b\u5408\u9002\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8c03\u6574-batch_size","title":"\u8c03\u6574\u200b batch_size","text":"<p>\u200b\u8bbe\u7f6e\u200b batch_size \u200b\u7684\u200b\u5927\u5c0f\u200b\u4e3a\u200b\u3001[128, 256, 512, 1024]\uff0c\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002</p> Python<pre><code>Keras.clear_session()\n# \u200b\u8c03\u6574\u200b batch_size\n# \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\nhistory_list = []\n# \u200b\u6307\u5b9a\u200b batch_size\nbatch_size_list = [128, 256, 512, 1024]\npbar = tqdm(batch_size_list, leave=True)\nfor batch_size in pbar:\npbar.set_description(\"batch_size: {}\".format(batch_size))\nhistory = tuning(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=3,\npool_size=4,\nstrides=2,\ndropout_rate=0.2,\nbatch_size=batch_size,\nepochs=20,\nx_train=x_train,\ny_train=y_train,\nx_val=x_val,\ny_val=y_val,\nshow_epoch_log=0,\n)\nhistory_list.append(history)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc_of_multiple_paramters(history_list, \"batch_size\", batch_size_list)\n</code></pre> <p></p> <p>\u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5c06\u200b batch_size \u200b\u8bbe\u200b\u4e3a\u200b<code>256</code>\u200b\u8f83\u200b\u5408\u9002\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6570\u636e\u589e\u5f3a_1","title":"\u6570\u636e\u200b\u589e\u5f3a","text":"<p>\u200b\u7ecf\u8fc7\u200b\u4e0a\u8ff0\u200b\u8c03\u4f18\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u5df2\u7ecf\u200b\u63a5\u8fd1\u200b 60%\uff0c\u200b\u4f46\u662f\u200b\u4ecd\u7136\u200b\u6709\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u4f7f\u7528\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6765\u200b\u6539\u5584\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6570\u636e\u589e\u5f3a\u524d\u7684\u539f\u59cb\u56fe\u7247","title":"\u6570\u636e\u200b\u589e\u5f3a\u200b\u524d\u200b\u7684\u200b\u539f\u59cb\u200b\u56fe\u7247","text":"Python<pre><code>plot_original_image(x_train, y_train, [182, 3139, 3981])\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u6570\u636e\u589e\u5f3a\u540e\u7684\u751f\u6210\u56fe\u7247","title":"\u6570\u636e\u200b\u589e\u5f3a\u200b\u540e\u200b\u7684\u200b\u751f\u6210\u200b\u56fe\u7247","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\"\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u4ea7\u751f\u5668\u200b (ImageDataGenerator)\"\u200b\u7684\u200b\u53c2\u6570\u200b\ndatagen = ImageDataGenerator(\nrotation_range=20,  # \u200b\u968f\u673a\u200b\u65cb\u8f6c\u200b\u7684\u200b\u89d2\u5ea6\u200b\nzoom_range=0.1,  # \u200b\u968f\u673a\u200b\u7f29\u653e\u200b\u7684\u200b\u8303\u56f4\u200b\nwidth_shift_range=0.1,  # \u200b\u968f\u673a\u200b\u6c34\u5e73\u200b\u5e73\u79fb\u200b\u7684\u200b\u8303\u56f4\u200b\nheight_shift_range=0.1,  # \u200b\u968f\u673a\u200b\u7ad6\u76f4\u200b\u5e73\u79fb\u200b\u7684\u200b\u8303\u56f4\u200b\nshear_range=0.1,  # \u200b\u8bbe\u7f6e\u200b\u968f\u673a\u200b\u9519\u5207\u200b\u53d8\u6362\u200b\u7684\u200b\u89d2\u5ea6\u200b\nhorizontal_flip=True,  # \u200b\u968f\u673a\u200b\u5c06\u200b\u4e00\u534a\u200b\u56fe\u50cf\u200b\u6c34\u5e73\u200b\u7ffb\u8f6c\u200b\nfill_mode=\"nearest\",\n)  # \u200b\u586b\u5145\u200b\u65b0\u521b\u5efa\u200b\u50cf\u7d20\u200b\u7684\u200b\u65b9\u6cd5\u200b\n# \u200b\u900f\u8fc7\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u96c6\u6765\u200b\u8bad\u7ec3\u200b (fit) \u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u4ea7\u751f\u5668\u200b (ImageDataGenerator) \u200b\u7684\u200b\u5b9e\u4f8b\u200b\ndatagen.fit(x_train)\nplot_augmented_image(x_train[[182, 3139, 3981]], y_train[[182, 3139, 3981]], datagen)\n</code></pre> Python<pre><code># \u200b\u5b9a\u4e49\u200b\u56fe\u7247\u200b\u751f\u6210\u5668\u200b\ndatagen = ImageDataGenerator(\nrotation_range=20,  # \u200b\u968f\u673a\u200b\u65cb\u8f6c\u200b\u7684\u200b\u89d2\u5ea6\u200b\nzoom_range=0.1,  # \u200b\u968f\u673a\u200b\u7f29\u653e\u200b\u7684\u200b\u8303\u56f4\u200b\nwidth_shift_range=0.1,  # \u200b\u968f\u673a\u200b\u6c34\u5e73\u200b\u5e73\u79fb\u200b\u7684\u200b\u8303\u56f4\u200b\nheight_shift_range=0.1,  # \u200b\u968f\u673a\u200b\u7ad6\u76f4\u200b\u5e73\u79fb\u200b\u7684\u200b\u8303\u56f4\u200b\nshear_range=0.1,  # \u200b\u8bbe\u7f6e\u200b\u968f\u673a\u200b\u9519\u5207\u200b\u53d8\u6362\u200b\u7684\u200b\u89d2\u5ea6\u200b\nhorizontal_flip=True,  # \u200b\u968f\u673a\u200b\u5c06\u200b\u4e00\u534a\u200b\u56fe\u50cf\u200b\u6c34\u5e73\u200b\u7ffb\u8f6c\u200b\nfill_mode=\"nearest\",\n)  # \u200b\u586b\u5145\u200b\u65b0\u521b\u5efa\u200b\u50cf\u7d20\u200b\u7684\u200b\u65b9\u6cd5\u200b\ndatagen.fit(x_train)\nKeras.clear_session()\n# \u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\nmodel = build_model(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=3,\npool_size=4,\nstrides=2,\ndropout_rate=0.2,\nx_train=x_train,\n)\n# \u200b\u7f16\u8bd1\u200b\u6a21\u578b\u200b\nmodel.compile(optimizer=\"adam\", loss=\"categorical_crossentropy\", metrics=[\"accuracy\"])\n# \u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nhistory = model.fit(\ndatagen.flow(x_train, y_train, batch_size=256),\nepochs=50,\nvalidation_data=(x_val, y_val),\nverbose=2,\n)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u66f2\u7ebf\u200b\nplot_loss_acc(history)\n</code></pre> \u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b Text Only<pre><code>Epoch 1/50\n113/113 - 7s - loss: 2.1093 - accuracy: 0.2449 - val_loss: 1.8164 - val_accuracy: 0.2449 - 7s/epoch - 66ms/step\nEpoch 2/50\n113/113 - 7s - loss: 1.7981 - accuracy: 0.2544 - val_loss: 1.7467 - val_accuracy: 0.2881 - 7s/epoch - 61ms/step\nEpoch 3/50\n113/113 - 7s - loss: 1.7262 - accuracy: 0.2909 - val_loss: 1.7203 - val_accuracy: 0.2878 - 7s/epoch - 62ms/step\nEpoch 4/50\n113/113 - 7s - loss: 1.6725 - accuracy: 0.3225 - val_loss: 1.5804 - val_accuracy: 0.3653 - 7s/epoch - 62ms/step\nEpoch 5/50\n113/113 - 7s - loss: 1.5439 - accuracy: 0.3981 - val_loss: 1.4188 - val_accuracy: 0.4564 - 7s/epoch - 62ms/step\nEpoch 6/50\n113/113 - 7s - loss: 1.4416 - accuracy: 0.4414 - val_loss: 1.3039 - val_accuracy: 0.5024 - 7s/epoch - 62ms/step\nEpoch 7/50\n113/113 - 7s - loss: 1.3441 - accuracy: 0.4814 - val_loss: 1.2869 - val_accuracy: 0.5127 - 7s/epoch - 62ms/step\nEpoch 8/50\n113/113 - 7s - loss: 1.3043 - accuracy: 0.4988 - val_loss: 1.2460 - val_accuracy: 0.5163 - 7s/epoch - 62ms/step\nEpoch 9/50\n113/113 - 7s - loss: 1.2659 - accuracy: 0.5192 - val_loss: 1.1656 - val_accuracy: 0.5503 - 7s/epoch - 62ms/step\nEpoch 10/50\n113/113 - 7s - loss: 1.2247 - accuracy: 0.5345 - val_loss: 1.1632 - val_accuracy: 0.5495 - 7s/epoch - 62ms/step\nEpoch 11/50\n113/113 - 7s - loss: 1.2025 - accuracy: 0.5404 - val_loss: 1.1801 - val_accuracy: 0.5503 - 7s/epoch - 62ms/step\nEpoch 12/50\n113/113 - 7s - loss: 1.1825 - accuracy: 0.5499 - val_loss: 1.1105 - val_accuracy: 0.5837 - 7s/epoch - 61ms/step\nEpoch 13/50\n113/113 - 7s - loss: 1.1661 - accuracy: 0.5557 - val_loss: 1.1303 - val_accuracy: 0.5631 - 7s/epoch - 62ms/step\nEpoch 14/50\n113/113 - 7s - loss: 1.1469 - accuracy: 0.5642 - val_loss: 1.1002 - val_accuracy: 0.5882 - 7s/epoch - 62ms/step\nEpoch 15/50\n113/113 - 7s - loss: 1.1348 - accuracy: 0.5670 - val_loss: 1.0787 - val_accuracy: 0.5834 - 7s/epoch - 62ms/step\nEpoch 16/50\n113/113 - 7s - loss: 1.1208 - accuracy: 0.5752 - val_loss: 1.0784 - val_accuracy: 0.5935 - 7s/epoch - 62ms/step\nEpoch 17/50\n113/113 - 7s - loss: 1.1006 - accuracy: 0.5817 - val_loss: 1.0774 - val_accuracy: 0.5829 - 7s/epoch - 62ms/step\nEpoch 18/50\n113/113 - 7s - loss: 1.1032 - accuracy: 0.5817 - val_loss: 1.0972 - val_accuracy: 0.5843 - 7s/epoch - 61ms/step\nEpoch 19/50\n113/113 - 7s - loss: 1.0778 - accuracy: 0.5929 - val_loss: 1.0462 - val_accuracy: 0.5963 - 7s/epoch - 61ms/step\nEpoch 20/50\n113/113 - 7s - loss: 1.0835 - accuracy: 0.5934 - val_loss: 1.0477 - val_accuracy: 0.5949 - 7s/epoch - 62ms/step\nEpoch 21/50\n113/113 - 7s - loss: 1.0720 - accuracy: 0.5926 - val_loss: 1.0736 - val_accuracy: 0.5865 - 7s/epoch - 61ms/step\nEpoch 22/50\n113/113 - 7s - loss: 1.0614 - accuracy: 0.5966 - val_loss: 1.0729 - val_accuracy: 0.5926 - 7s/epoch - 62ms/step\nEpoch 23/50\n113/113 - 7s - loss: 1.0502 - accuracy: 0.6021 - val_loss: 1.0453 - val_accuracy: 0.5957 - 7s/epoch - 61ms/step\nEpoch 24/50\n113/113 - 7s - loss: 1.0512 - accuracy: 0.6014 - val_loss: 1.0475 - val_accuracy: 0.6080 - 7s/epoch - 61ms/step\nEpoch 25/50\n113/113 - 7s - loss: 1.0357 - accuracy: 0.6082 - val_loss: 1.0204 - val_accuracy: 0.6091 - 7s/epoch - 62ms/step\nEpoch 26/50\n113/113 - 7s - loss: 1.0362 - accuracy: 0.6067 - val_loss: 1.0235 - val_accuracy: 0.6024 - 7s/epoch - 62ms/step\nEpoch 27/50\n113/113 - 7s - loss: 1.0139 - accuracy: 0.6191 - val_loss: 1.0101 - val_accuracy: 0.6180 - 7s/epoch - 62ms/step\nEpoch 28/50\n113/113 - 7s - loss: 1.0049 - accuracy: 0.6181 - val_loss: 1.0057 - val_accuracy: 0.6194 - 7s/epoch - 61ms/step\nEpoch 29/50\n113/113 - 7s - loss: 1.0128 - accuracy: 0.6171 - val_loss: 1.0234 - val_accuracy: 0.6239 - 7s/epoch - 61ms/step\nEpoch 30/50\n113/113 - 7s - loss: 1.0037 - accuracy: 0.6239 - val_loss: 1.0346 - val_accuracy: 0.6194 - 7s/epoch - 62ms/step\nEpoch 31/50\n113/113 - 7s - loss: 1.0002 - accuracy: 0.6223 - val_loss: 1.0438 - val_accuracy: 0.6060 - 7s/epoch - 62ms/step\nEpoch 32/50\n113/113 - 7s - loss: 0.9880 - accuracy: 0.6267 - val_loss: 1.0294 - val_accuracy: 0.6124 - 7s/epoch - 62ms/step\nEpoch 33/50\n113/113 - 7s - loss: 0.9901 - accuracy: 0.6277 - val_loss: 1.0093 - val_accuracy: 0.6311 - 7s/epoch - 62ms/step\nEpoch 34/50\n113/113 - 7s - loss: 0.9820 - accuracy: 0.6288 - val_loss: 1.0159 - val_accuracy: 0.6191 - 7s/epoch - 62ms/step\nEpoch 35/50\n113/113 - 7s - loss: 0.9836 - accuracy: 0.6274 - val_loss: 0.9944 - val_accuracy: 0.6275 - 7s/epoch - 62ms/step\nEpoch 36/50\n113/113 - 7s - loss: 0.9663 - accuracy: 0.6312 - val_loss: 1.0168 - val_accuracy: 0.6172 - 7s/epoch - 61ms/step\nEpoch 37/50\n113/113 - 7s - loss: 0.9691 - accuracy: 0.6330 - val_loss: 1.0165 - val_accuracy: 0.6186 - 7s/epoch - 62ms/step\nEpoch 38/50\n113/113 - 7s - loss: 0.9606 - accuracy: 0.6388 - val_loss: 0.9916 - val_accuracy: 0.6280 - 7s/epoch - 61ms/step\nEpoch 39/50\n113/113 - 7s - loss: 0.9580 - accuracy: 0.6367 - val_loss: 1.0440 - val_accuracy: 0.6119 - 7s/epoch - 62ms/step\nEpoch 40/50\n113/113 - 7s - loss: 0.9455 - accuracy: 0.6414 - val_loss: 0.9797 - val_accuracy: 0.6305 - 7s/epoch - 61ms/step\nEpoch 41/50\n113/113 - 7s - loss: 0.9422 - accuracy: 0.6437 - val_loss: 1.0461 - val_accuracy: 0.6236 - 7s/epoch - 62ms/step\nEpoch 42/50\n113/113 - 7s - loss: 0.9372 - accuracy: 0.6467 - val_loss: 1.0237 - val_accuracy: 0.6174 - 7s/epoch - 62ms/step\nEpoch 43/50\n113/113 - 7s - loss: 0.9420 - accuracy: 0.6428 - val_loss: 1.0036 - val_accuracy: 0.6353 - 7s/epoch - 61ms/step\nEpoch 44/50\n113/113 - 7s - loss: 0.9424 - accuracy: 0.6437 - val_loss: 0.9779 - val_accuracy: 0.6339 - 7s/epoch - 61ms/step\nEpoch 45/50\n113/113 - 7s - loss: 0.9166 - accuracy: 0.6533 - val_loss: 1.0155 - val_accuracy: 0.6258 - 7s/epoch - 61ms/step\nEpoch 46/50\n113/113 - 7s - loss: 0.9200 - accuracy: 0.6527 - val_loss: 1.0246 - val_accuracy: 0.6130 - 7s/epoch - 62ms/step\nEpoch 47/50\n113/113 - 7s - loss: 0.9235 - accuracy: 0.6506 - val_loss: 1.0260 - val_accuracy: 0.6247 - 7s/epoch - 61ms/step\nEpoch 48/50\n113/113 - 7s - loss: 0.9225 - accuracy: 0.6530 - val_loss: 1.0159 - val_accuracy: 0.6227 - 7s/epoch - 62ms/step\nEpoch 49/50\n113/113 - 7s - loss: 0.9082 - accuracy: 0.6571 - val_loss: 1.0092 - val_accuracy: 0.6347 - 7s/epoch - 62ms/step\nEpoch 50/50\n113/113 - 7s - loss: 0.9078 - accuracy: 0.6558 - val_loss: 1.0390 - val_accuracy: 0.6289 - 7s/epoch - 61ms/step\n</code></pre> <p>\u200b\u4ece\u56fe\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u663e\u8457\u200b\u7f13\u89e3\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u5dee\u5f02\u200b\u5e76\u200b\u4e0d\u200b\u660e\u663e\u200b\uff0c\u200b\u4e14\u200b\u6700\u7ec8\u200b\u6a21\u578b\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u8fbe\u5230\u200b\u4e86\u200b 63% \u200b\u5de6\u53f3\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u9009\u62e9\u6700\u4f18\u7684-epoch","title":"\u9009\u62e9\u200b\u6700\u4f18\u200b\u7684\u200b epoch","text":"Python<pre><code>best_epoch = np.argmax(history.history[\"val_accuracy\"]) + 1\nprint(\"Best Epoch: %d\" % (best_epoch))\nprint(\n\"Best Validation Accuracy: {:.2%}\".format(np.max(history.history[\"val_accuracy\"]))\n)\n</code></pre> Text Only<pre><code>    Best Epoch: 43\n    Best Validation Accuracy: 63.53%\n</code></pre> <p>\u200b\u6700\u4f18\u200b\u7684\u200b epoch \u200b\u4e3a\u200b<code>43</code>\uff0c\u200b\u6b64\u65f6\u200b\u6a21\u578b\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u4e3a\u200b<code>63.53%</code>\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u7528\u8bad\u7ec3\u597d\u7684\u6700\u4f18\u6a21\u578b\u5728\u4e00\u4e2a\u6837\u672c\u4e0a\u505a\u9884\u6d4b","title":"\u7528\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6700\u4f18\u200b\u6a21\u578b\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\u4e0a\u200b\u505a\u200b\u9884\u6d4b","text":"Python<pre><code>Keras.clear_session()\n# \u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\nmodel = build_model(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=3,\npool_size=4,\nstrides=2,\ndropout_rate=0.2,\nx_train=x_train,\n)\n# \u200b\u7f16\u8bd1\u200b\u6a21\u578b\u200b\nmodel.compile(optimizer=\"adam\", loss=\"categorical_crossentropy\", metrics=[\"accuracy\"])\n# \u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nhistory = model.fit(\ndatagen.flow(x_train, y_train, batch_size=256),\nepochs=43,\nvalidation_data=(x_val, y_val),\nverbose=2,\n)\n</code></pre> \u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b Text Only<pre><code>Epoch 1/43\n113/113 - 7s - loss: 2.0246 - accuracy: 0.2452 - val_loss: 1.8065 - val_accuracy: 0.2625 - 7s/epoch - 66ms/step\nEpoch 2/43\n113/113 - 7s - loss: 1.7402 - accuracy: 0.2855 - val_loss: 1.6153 - val_accuracy: 0.3514 - 7s/epoch - 61ms/step\nEpoch 3/43\n113/113 - 7s - loss: 1.6020 - accuracy: 0.3613 - val_loss: 1.4921 - val_accuracy: 0.4185 - 7s/epoch - 62ms/step\nEpoch 4/43\n113/113 - 7s - loss: 1.4516 - accuracy: 0.4412 - val_loss: 1.3237 - val_accuracy: 0.5004 - 7s/epoch - 62ms/step\nEpoch 5/43\n113/113 - 7s - loss: 1.3549 - accuracy: 0.4811 - val_loss: 1.2504 - val_accuracy: 0.5322 - 7s/epoch - 62ms/step\nEpoch 6/43\n113/113 - 7s - loss: 1.2933 - accuracy: 0.5104 - val_loss: 1.2412 - val_accuracy: 0.5191 - 7s/epoch - 61ms/step\nEpoch 7/43\n113/113 - 7s - loss: 1.2545 - accuracy: 0.5218 - val_loss: 1.1973 - val_accuracy: 0.5428 - 7s/epoch - 61ms/step\nEpoch 8/43\n113/113 - 7s - loss: 1.2273 - accuracy: 0.5347 - val_loss: 1.1605 - val_accuracy: 0.5564 - 7s/epoch - 62ms/step\nEpoch 9/43\n113/113 - 7s - loss: 1.2018 - accuracy: 0.5449 - val_loss: 1.1386 - val_accuracy: 0.5670 - 7s/epoch - 62ms/step\nEpoch 10/43\n113/113 - 7s - loss: 1.1844 - accuracy: 0.5484 - val_loss: 1.1057 - val_accuracy: 0.5734 - 7s/epoch - 61ms/step\nEpoch 11/43\n113/113 - 7s - loss: 1.1562 - accuracy: 0.5653 - val_loss: 1.0958 - val_accuracy: 0.5885 - 7s/epoch - 62ms/step\nEpoch 12/43\n113/113 - 7s - loss: 1.1338 - accuracy: 0.5711 - val_loss: 1.1016 - val_accuracy: 0.5754 - 7s/epoch - 62ms/step\nEpoch 13/43\n113/113 - 7s - loss: 1.1171 - accuracy: 0.5761 - val_loss: 1.1246 - val_accuracy: 0.5634 - 7s/epoch - 62ms/step\nEpoch 14/43\n113/113 - 7s - loss: 1.1203 - accuracy: 0.5788 - val_loss: 1.0861 - val_accuracy: 0.5812 - 7s/epoch - 62ms/step\nEpoch 15/43\n113/113 - 7s - loss: 1.1037 - accuracy: 0.5820 - val_loss: 1.0349 - val_accuracy: 0.6133 - 7s/epoch - 62ms/step\nEpoch 16/43\n113/113 - 7s - loss: 1.0831 - accuracy: 0.5915 - val_loss: 1.0556 - val_accuracy: 0.5957 - 7s/epoch - 62ms/step\nEpoch 17/43\n113/113 - 7s - loss: 1.0679 - accuracy: 0.5968 - val_loss: 1.0906 - val_accuracy: 0.5879 - 7s/epoch - 62ms/step\nEpoch 18/43\n113/113 - 7s - loss: 1.0684 - accuracy: 0.5969 - val_loss: 1.0594 - val_accuracy: 0.6049 - 7s/epoch - 62ms/step\nEpoch 19/43\n113/113 - 7s - loss: 1.0482 - accuracy: 0.6033 - val_loss: 1.0593 - val_accuracy: 0.5979 - 7s/epoch - 62ms/step\nEpoch 20/43\n113/113 - 7s - loss: 1.0360 - accuracy: 0.6067 - val_loss: 1.1180 - val_accuracy: 0.5765 - 7s/epoch - 62ms/step\nEpoch 21/43\n113/113 - 7s - loss: 1.0367 - accuracy: 0.6085 - val_loss: 1.0429 - val_accuracy: 0.6066 - 7s/epoch - 62ms/step\nEpoch 22/43\n113/113 - 7s - loss: 1.0316 - accuracy: 0.6137 - val_loss: 1.0131 - val_accuracy: 0.6286 - 7s/epoch - 62ms/step\nEpoch 23/43\n113/113 - 7s - loss: 1.0232 - accuracy: 0.6109 - val_loss: 1.0350 - val_accuracy: 0.6108 - 7s/epoch - 63ms/step\nEpoch 24/43\n113/113 - 7s - loss: 1.0138 - accuracy: 0.6190 - val_loss: 1.0407 - val_accuracy: 0.6169 - 7s/epoch - 61ms/step\nEpoch 25/43\n113/113 - 7s - loss: 0.9990 - accuracy: 0.6225 - val_loss: 1.0447 - val_accuracy: 0.6138 - 7s/epoch - 62ms/step\nEpoch 26/43\n113/113 - 7s - loss: 0.9967 - accuracy: 0.6255 - val_loss: 1.0246 - val_accuracy: 0.6205 - 7s/epoch - 61ms/step\nEpoch 27/43\n113/113 - 7s - loss: 0.9966 - accuracy: 0.6228 - val_loss: 1.0368 - val_accuracy: 0.6088 - 7s/epoch - 61ms/step\nEpoch 28/43\n113/113 - 7s - loss: 0.9858 - accuracy: 0.6254 - val_loss: 1.0190 - val_accuracy: 0.6177 - 7s/epoch - 61ms/step\nEpoch 29/43\n113/113 - 7s - loss: 0.9889 - accuracy: 0.6257 - val_loss: 1.0030 - val_accuracy: 0.6199 - 7s/epoch - 62ms/step\nEpoch 30/43\n113/113 - 7s - loss: 0.9747 - accuracy: 0.6342 - val_loss: 1.0409 - val_accuracy: 0.6141 - 7s/epoch - 61ms/step\nEpoch 31/43\n113/113 - 7s - loss: 0.9741 - accuracy: 0.6289 - val_loss: 1.0068 - val_accuracy: 0.6247 - 7s/epoch - 62ms/step\nEpoch 32/43\n113/113 - 7s - loss: 0.9611 - accuracy: 0.6360 - val_loss: 1.0076 - val_accuracy: 0.6219 - 7s/epoch - 61ms/step\nEpoch 33/43\n113/113 - 7s - loss: 0.9607 - accuracy: 0.6366 - val_loss: 0.9972 - val_accuracy: 0.6314 - 7s/epoch - 61ms/step\nEpoch 34/43\n113/113 - 7s - loss: 0.9595 - accuracy: 0.6380 - val_loss: 0.9825 - val_accuracy: 0.6400 - 7s/epoch - 61ms/step\nEpoch 35/43\n113/113 - 7s - loss: 0.9483 - accuracy: 0.6430 - val_loss: 1.0099 - val_accuracy: 0.6225 - 7s/epoch - 61ms/step\nEpoch 36/43\n113/113 - 7s - loss: 0.9476 - accuracy: 0.6435 - val_loss: 1.0002 - val_accuracy: 0.6278 - 7s/epoch - 61ms/step\nEpoch 37/43\n113/113 - 7s - loss: 0.9440 - accuracy: 0.6456 - val_loss: 0.9977 - val_accuracy: 0.6333 - 7s/epoch - 61ms/step\nEpoch 38/43\n113/113 - 7s - loss: 0.9406 - accuracy: 0.6467 - val_loss: 0.9986 - val_accuracy: 0.6294 - 7s/epoch - 61ms/step\nEpoch 39/43\n113/113 - 7s - loss: 0.9288 - accuracy: 0.6475 - val_loss: 0.9911 - val_accuracy: 0.6278 - 7s/epoch - 61ms/step\nEpoch 40/43\n113/113 - 7s - loss: 0.9240 - accuracy: 0.6524 - val_loss: 0.9996 - val_accuracy: 0.6308 - 7s/epoch - 61ms/step\nEpoch 41/43\n113/113 - 7s - loss: 0.9213 - accuracy: 0.6539 - val_loss: 1.0105 - val_accuracy: 0.6230 - 7s/epoch - 61ms/step\nEpoch 42/43\n113/113 - 7s - loss: 0.9250 - accuracy: 0.6535 - val_loss: 1.0178 - val_accuracy: 0.6375 - 7s/epoch - 61ms/step\nEpoch 43/43\n113/113 - 7s - loss: 0.9127 - accuracy: 0.6566 - val_loss: 1.0083 - val_accuracy: 0.6375 - 7s/epoch - 61ms/step\n</code></pre> Python<pre><code># \u200b\u6307\u5b9a\u200b\u9700\u8981\u200b\u9884\u6d4b\u200b\u7684\u200b\u6837\u672c\u200b\ni = 1111\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.subplot(221)\nplt.gray()\nplt.imshow(x_train[i].reshape([48, 48]))\n# \u200b\u5c06\u200b\u56fe\u7247\u200b\u8f6c\u6362\u200b\u4e3a\u200b 4 \u200b\u7ef4\u200b\u5f20\u91cf\u200b\nx = np.array(x_train[i])\nx = x.reshape(-1, 48, 48, 1)\n# \u200b\u8f93\u51fa\u200b\u7279\u5f81\u200b\u56fe\u200b\u5927\u5c0f\u200b\nprint(x.shape)\n# \u200b\u9884\u6d4b\u200b\u5404\u200b\u60c5\u7eea\u200b\u7684\u200b\u6982\u7387\u200b\nemotion_prob = model.predict(x)\n# \u200b\u8f93\u51fa\u200b\u6700\u4f73\u200b\u7684\u200b\u9884\u6d4b\u200b\u60c5\u7eea\u200b\nprint(emotions_Str[np.argmax(emotion_prob)])\n</code></pre> Text Only<pre><code>    (1, 48, 48, 1)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u7528\u8bad\u7ec3\u597d\u7684\u6700\u4f18\u6a21\u578b\u5728\u6d4b\u8bd5\u6837\u672c\u96c6\u5408\u4e0a\u505a\u9884\u6d4b\u5e76\u6c47\u62a5\u9884\u6d4b\u7684\u51c6\u786e\u5ea6","title":"\u7528\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6700\u4f18\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u96c6\u5408\u200b\u4e0a\u200b\u505a\u200b\u9884\u6d4b\u200b\uff0c\u200b\u5e76\u200b\u6c47\u62a5\u200b\u9884\u6d4b\u200b\u7684\u200b\u51c6\u786e\u5ea6","text":"Python<pre><code>test_score = model.evaluate(x_test, y_test)\n# \u200b\u6253\u5370\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u635f\u5931\u200b\u548c\u200b\u51c6\u786e\u7387\u200b\nprint(\"Test loss: {:.2f}\".format(test_score[0]))\nprint(\"Test accuracy: {:.2%}\".format(test_score[1]))\n</code></pre> \u200b\u6d4b\u8bd5\u200b\u8fc7\u7a0b\u200b Text Only<pre><code>113/113 [==============================] - 0s 2ms/step - loss: 1.0315 - accuracy: 0.6319\nTest loss: 1.03\nTest accuracy: 63.19%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u7ed8\u5236\u6df7\u6dc6\u77e9\u9635","title":"\u7ed8\u5236\u200b\u6df7\u6dc6\u200b\u77e9\u9635","text":"Python<pre><code>y_true = np.argmax(y_test, axis=1)\ny_pred = np.argmax(model.predict(x_test), axis=1)\ncm = confusion_matrix(y_true, y_pred)\ndf_cm = pd.DataFrame(cm, index=emotions_Str, columns=emotions_Str)\ndisplay(df_cm)\n</code></pre> anger disgust fear happy neutral sad surprised anger 294 5 24 29 40 14 61 disgust 26 20 1 3 3 1 2 fear 72 1 166 21 105 43 88 happy 20 0 9 782 15 17 52 neutral 101 0 45 41 289 20 157 sad 21 0 26 19 4 331 14 surprised 72 0 17 65 56 11 386 Python<pre><code>import seaborn as sn\nplt.figure(figsize=(10, 8))\nsn.heatmap(df_cm, annot=True, cmap=\"Blues\", fmt=\"d\")\nplt.xlabel(\"y_pred\")\nplt.ylabel(\"y_true\")\n</code></pre> Text Only<pre><code>    Text(69.0, 0.5, 'y_true')\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u8f93\u51fa\u5206\u7c7b\u62a5\u544a","title":"\u8f93\u51fa\u200b\u5206\u7c7b\u200b\u62a5\u544a","text":"Python<pre><code>print(classification_report(y_true, y_pred, target_names=emotions_Str))\n</code></pre> Text Only<pre><code>              precision    recall  f1-score   support\n\n       anger       0.49      0.63      0.55       467\n     disgust       0.77      0.36      0.49        56\n        fear       0.58      0.33      0.42       496\n       happy       0.81      0.87      0.84       895\n     neutral       0.56      0.44      0.50       653\n         sad       0.76      0.80      0.78       415\n   surprised       0.51      0.64      0.56       607\n\n    accuracy                           0.63      3589\n   macro avg       0.64      0.58      0.59      3589\nweighted avg       0.63      0.63      0.62      3589\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u4e3a\u200b<code>63.19%</code>\uff0c\u200b\u7cbe\u786e\u200b\u7387\u200b\u548c\u200b\u53ec\u56de\u200b\u7387\u5747\u200b\u7ea6\u200b\u4e3a\u200b<code>63%</code>\uff0cF1 \u200b\u503c\u4e3a\u200b<code>62%</code>\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u901a\u7528\u7684\u642d\u5efa\u6a21\u578b\u4e0e\u8c03\u6574\u53c2\u6570\u7684\u51fd\u6570","title":"\u901a\u7528\u200b\u7684\u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\u4e0e\u200b\u8c03\u6574\u200b\u53c2\u6570\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code>import matplotlib.pyplot as plt\nfrom tensorflow.keras import backend as Keras\nfrom tensorflow.keras.preprocessing.image import ImageDataGenerator\nfrom tensorflow.keras.models import Sequential, model_from_json\nfrom tensorflow.keras.layers import (\nConv2D,\nMaxPool2D,\nActivation,\nDropout,\nFlatten,\nDense,\n)\nfrom tensorflow.keras.optimizers import Adam\n# \u200b\u5b9a\u4e49\u200b\u6dfb\u52a0\u200b\u5377\u79ef\u200b\u5c42\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b input_shape \u200b\u53c2\u6570\u200b\ndef add_conv_layer(model, filters, kernel_size, input_shape=None):\nif input_shape:\nmodel.add(\nConv2D(\nfilters=filters,\nkernel_size=kernel_size,\npadding=\"same\",\nactivation=\"relu\",\ninput_shape=input_shape,\n)\n)\nelse:\nmodel.add(\nConv2D(\nfilters=filters,\nkernel_size=kernel_size,\npadding=\"same\",\nactivation=\"relu\",\n)\n)\nreturn model\n# \u200b\u5b9a\u4e49\u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\u7684\u200b\u51fd\u6570\u200b\ndef build_model(\nblock_num,\nlayer_num,\nfilters_in_each_block,\nkernel_size,\npool_size,\nstrides,\ndropout_rate,\nx_train,\n):\n# \u200b\u6e05\u9664\u200b Keras \u200b\u7684\u200b session\nKeras.clear_session()\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b Sequential \u200b\u6a21\u578b\u200b\nmodel = Sequential()\n# \u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u7684\u200b block\nfor block in range(1, block_num + 1):\n# \u200b\u7b2c\u4e00\u4e2a\u200b Block\uff0c\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u8f93\u5165\u200b\u7684\u200b\u5f62\u72b6\u200b\nif block == 1:\n# \u200b\u8be5\u200b block \u200b\u7684\u200b filters\nfilters = filters_in_each_block[block - 1]\n# \u200b\u6dfb\u52a0\u200b\u7b2c\u4e00\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u200b\uff0c\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u8f93\u5165\u200b\u7684\u200b\u5f62\u72b6\u200b\nmodel = add_conv_layer(\nmodel,\nfilters=filters,\nkernel_size=kernel_size,\ninput_shape=x_train.shape[1:],\n)\n# \u200b\u6dfb\u52a0\u200b\u9664\u200b\u7b2c\u4e00\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u200b\u4e4b\u5916\u200b\u7684\u200b\u5176\u4ed6\u200b\u5377\u79ef\u200b\u5c42\u200b\nfor layer in range(2, layer_num + 1):\nmodel = add_conv_layer(model, filters=filters, kernel_size=kernel_size)\n# \u200b\u6dfb\u52a0\u200b\u6c60\u5316\u5c42\u200b\nmodel.add(MaxPool2D(pool_size=pool_size, strides=strides))\n# \u200b\u5176\u4ed6\u200b Block\nelse:\n# \u200b\u8be5\u200b block \u200b\u7684\u200b filters\nfilters = filters_in_each_block[block - 1]\n# \u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u5377\u79ef\u200b\u5c42\u200b\nfor layer in range(1, layer_num + 1):\nmodel = add_conv_layer(model, filters=filters, kernel_size=kernel_size)\n# \u200b\u6dfb\u52a0\u200b\u6c60\u5316\u5c42\u200b\nmodel.add(MaxPool2D(pool_size=pool_size, strides=strides))\n# \u200b\u6dfb\u52a0\u200b Flatten \u200b\u5c42\u200b\nmodel.add(Flatten())\n# \u200b\u6dfb\u52a0\u200b Dropout \u200b\u5c42\u200b\nmodel.add(Dropout(dropout_rate))\n# \u200b\u6dfb\u52a0\u200b Dense \u200b\u5c42\u200b\nmodel.add(Dense(7, activation=\"softmax\"))\nreturn model\n# \u200b\u5b9a\u4e49\u200b\u8c03\u53c2\u200b\u7684\u200b\u51fd\u6570\u200b\ndef tuning(\nblock_num,\nlayer_num,\nfilters_in_each_block,\nkernel_size,\npool_size,\nstrides,\ndropout_rate,\nbatch_size,\nepochs,\nx_train,\ny_train,\nx_val,\ny_val,\nshow_epoch_log=1,\n):\n# \u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\nmodel = build_model(\nblock_num,\nlayer_num,\nfilters_in_each_block,\nkernel_size,\npool_size,\nstrides,\ndropout_rate,\nx_train,\n)\n# \u200b\u7f16\u8bd1\u200b\u6a21\u578b\u200b\nmodel.compile(\nloss=\"categorical_crossentropy\", optimizer=\"adam\", metrics=[\"accuracy\"]\n)\n# \u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\nhistory = model.fit(\nx_train,\ny_train,\nbatch_size=batch_size,\nepochs=epochs,\nverbose=show_epoch_log,\nvalidation_data=(x_val, y_val),\n)\n# \u200b\u5173\u95ed\u200b Keras \u200b\u7684\u200b session\nKeras.clear_session()\nreturn history\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u901a\u7528\u7684\u7ed8\u5236\u8bad\u7ec3\u6548\u679c\u7684\u51fd\u6570","title":"\u901a\u7528\u200b\u7684\u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u6548\u679c\u200b\u7684\u200b\u51fd\u6570","text":"<p>\u200b\u5171\u6709\u200b\u4e24\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b 1. \u200b\u7ed8\u5236\u200b\u5355\u4e2a\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u679c\u200b\uff1b 2. \u200b\u7ed8\u5236\u200b\u591a\u4e2a\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u679c\u200b\u3002</p> Python<pre><code># \u200b\u5b9a\u4e49\u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u548c\u200b acc \u200b\u66f2\u7ebf\u200b\u7684\u200b\u51fd\u6570\u200b\ndef plot_loss_acc(history):\n# \u200b\u63d0\u53d6\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b loss\nloss = history.history[\"loss\"]\n# \u200b\u63d0\u53d6\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss\nval_loss = history.history[\"val_loss\"]\n# \u200b\u63d0\u53d6\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b acc\nacc = history.history[\"accuracy\"]\n# \u200b\u63d0\u53d6\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b acc\nval_acc = history.history[\"val_accuracy\"]\n# \u200b\u8bad\u7ec3\u200b\u8f6e\u6b21\u200b\nepochs = range(1, len(loss) + 1)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u548c\u200b acc \u200b\u66f2\u7ebf\u200b\nfig = plt.figure(figsize=(30, 10))\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u66f2\u7ebf\u200b\uff0c\u200b\u653e\u5728\u200b\u7b2c\u4e00\u4e2a\u200b\u5b50\u56fe\u200b\u4e2d\u200b\nax = fig.add_subplot(121)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b loss \u200b\u66f2\u7ebf\u200b\nax.plot(epochs, loss, \"bo\", label=\"Training Loss\")\n# \u200b\u7ed8\u5236\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u66f2\u7ebf\u200b\nax.plot(epochs, val_loss, \"b\", label=\"Validation Loss\")\n# \u200b\u8bbe\u7f6e\u200b\u6807\u9898\u200b\nplt.title(\"Training and Validation loss\")\n# \u200b\u8bbe\u7f6e\u200b x \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.xlabel(\"Epochs\")\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.ylabel(\"Loss\")\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\nplt.legend()\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b acc \u200b\u66f2\u7ebf\u200b\uff0c\u200b\u653e\u5728\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b50\u56fe\u200b\u4e2d\u200b\nax2 = fig.add_subplot(122)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b acc \u200b\u66f2\u7ebf\u200b\nax2.plot(epochs, acc, \"bo\", label=\"Training Acc\")\n# \u200b\u7ed8\u5236\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b acc \u200b\u66f2\u7ebf\u200b\nax2.plot(epochs, val_acc, \"b\", label=\"Validation Acc\")\n# \u200b\u8bbe\u7f6e\u200b\u6807\u9898\u200b\nplt.title(\"Training and Validation accuracy\")\n# \u200b\u8bbe\u7f6e\u200b x \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.xlabel(\"Epochs\")\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.ylabel(\"Acc\")\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\nplt.legend()\n# \u200b\u663e\u793a\u200b\u56fe\u50cf\u200b\nplt.show()\n# \u200b\u5b9a\u4e49\u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u548c\u200b acc \u200b\u66f2\u7ebf\u200b\u7684\u200b\u51fd\u6570\u200b\ndef plot_loss_acc_of_multiple_paramters(history_list, parameter_name, parameter_list):\n# \u200b\u63d0\u53d6\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b loss\nloss_list = [x.history[\"loss\"] for x in history_list]\n# \u200b\u63d0\u53d6\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss\nval_loss_list = [x.history[\"val_loss\"] for x in history_list]\n# \u200b\u63d0\u53d6\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b acc\nacc_list = [x.history[\"accuracy\"] for x in history_list]\n# \u200b\u63d0\u53d6\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b acc\nval_acc_list = [x.history[\"val_accuracy\"] for x in history_list]\n# \u200b\u8bad\u7ec3\u200b\u8f6e\u6b21\u200b\nepochs = range(1, len(loss_list[0]) + 1)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u548c\u200b acc \u200b\u66f2\u7ebf\u200b\nfig = plt.figure(figsize=(30, 10))\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u66f2\u7ebf\u200b\uff0c\u200b\u653e\u5728\u200b\u7b2c\u4e00\u4e2a\u200b\u5b50\u56fe\u200b\u4e2d\u200b\nax = fig.add_subplot(121)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b loss \u200b\u66f2\u7ebf\u200b\nfor i in range(len(loss_list)):\nax.plot(\nepochs,\nloss_list[i],\n\"o\",\nlabel=\"Training Loss of \"\n+ parameter_name\n+ \" being \"\n+ str(parameter_list[i]),\n)\n# \u200b\u7ed8\u5236\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b loss \u200b\u66f2\u7ebf\u200b\nfor i in range(len(val_loss_list)):\nax.plot(\nepochs,\nval_loss_list[i],\nlabel=\"Validation Loss of \"\n+ parameter_name\n+ \" being \"\n+ str(parameter_list[i]),\n)\n# \u200b\u8bbe\u7f6e\u200b\u6807\u9898\u200b\nplt.title(\"Training and Validation loss\")\n# \u200b\u8bbe\u7f6e\u200b x \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.xlabel(\"Epochs\")\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.ylabel(\"Loss\")\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\nplt.legend()\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b acc \u200b\u66f2\u7ebf\u200b\uff0c\u200b\u653e\u5728\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b50\u56fe\u200b\u4e2d\u200b\nax2 = fig.add_subplot(122)\n# \u200b\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b acc \u200b\u66f2\u7ebf\u200b\nfor i in range(len(acc_list)):\nax2.plot(\nepochs,\nacc_list[i],\n\"o\",\nlabel=\"Training Acc of \"\n+ parameter_name\n+ \" being \"\n+ str(parameter_list[i]),\n)\n# \u200b\u7ed8\u5236\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b acc \u200b\u66f2\u7ebf\u200b\nfor i in range(len(val_acc_list)):\nax2.plot(\nepochs,\nval_acc_list[i],\nlabel=\"Validation Acc of \"\n+ parameter_name\n+ \" being \"\n+ str(parameter_list[i]),\n)\n# \u200b\u8bbe\u7f6e\u200b\u6807\u9898\u200b\nplt.title(\"Training and Validation accuracy\")\n# \u200b\u8bbe\u7f6e\u200b x \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.xlabel(\"Epochs\")\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u6807\u7b7e\u200b\nplt.ylabel(\"Acc\")\n# \u200b\u663e\u793a\u200b\u56fe\u4f8b\u200b\nplt.legend()\n# \u200b\u663e\u793a\u200b\u56fe\u50cf\u200b\nplt.show()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/cnn-for-facial-expression-recognition/#\u7ed8\u5236\u539f\u59cb\u56fe\u7247\u548c\u6570\u636e\u589e\u5f3a\u540e\u7684\u56fe\u7247\u7684\u51fd\u6570","title":"\u7ed8\u5236\u200b\u539f\u59cb\u200b\u56fe\u7247\u200b\u548c\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u540e\u200b\u7684\u200b\u56fe\u7247\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u7ed8\u5236\u200b\u539f\u59cb\u200b\u56fe\u50cf\u200b\u7684\u200b\u51fd\u6570\u200b\ndef plot_original_image(x, y, img_range):\nemotions_Str = [\"anger\", \"disgust\", \"fear\", \"happy\", \"neutral\", \"sad\", \"surprised\"]\nplt.figure(figsize=(8, 8))  # \u200b\u8bbe\u5b9a\u200b\u6bcf\u4e2a\u200b\u56fe\u50cf\u200b\u663e\u793a\u200b\u7684\u200b\u5927\u5c0f\u200b\n# \u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b 1x3 \u200b\u7f51\u683c\u200b\u7684\u200b\u7ec4\u5408\u200b\u56fe\u50cf\u200b\nfor i in img_range:\nplt.subplot(1, 3, 1 + img_range.index(i))\nplt.title(emotions_Str[np.argmax(y[i])])\nplt.axis(\"off\")  # \u200b\u4e0d\u200b\u663e\u793a\u200b\u5750\u6807\u200b\nplt.imshow(x[i], cmap=\"gray\")  # \u200b\u4ee5\u200b\u7070\u9636\u200b\u7684\u200b\u56fe\u50cf\u200b\u663e\u793a\u200b\n# \u200b\u5c55\u73b0\u51fa\u200b\u56fe\u50cf\u200b\nplt.show()\n# \u200b\u5b9a\u4e49\u200b\u7ed8\u5236\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u540e\u200b\u7684\u200b\u56fe\u50cf\u200b\u7684\u200b\u51fd\u6570\u200b\ndef plot_augmented_image(x, y, datagen):\nemotions_Str = [\"anger\", \"disgust\", \"fear\", \"happy\", \"neutral\", \"sad\", \"surprised\"]\nfor X_batch, y_batch in datagen.flow(x, y, batch_size=9):\nplt.figure(figsize=(8, 8))  # \u200b\u8bbe\u5b9a\u200b\u6bcf\u4e2a\u200b\u56fe\u50cf\u200b\u663e\u793a\u200b\u7684\u200b\u5927\u5c0f\u200b\n# \u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b 3x2 \u200b\u7f51\u683c\u200b\u7684\u200b\u7ec4\u5408\u200b\u56fe\u50cf\u200b\nfor i in range(0, 3):\nplt.subplot(131 + i)\nplt.title(emotions_Str[np.argmax(y_batch[i])])\nplt.axis(\"off\")  # \u200b\u4e0d\u200b\u663e\u793a\u200b\u5750\u6807\u200b\nplt.imshow(X_batch[i].reshape(48, 48), cmap=\"gray\")\nplt.show()\nbreak  # \u200b\u8df3\u51fa\u200b\u56de\u5708\u200b\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/stock-selection-and-backtesting-using-qstock/","title":"\u57fa\u4e8e\u200b qstock \u200b\u5b9e\u73b0\u200b\u6761\u4ef6\u200b\u9009\u80a1\u200b\u56de\u6d4b","text":"<p>\u200b\u57fa\u4e8e\u200b qstock \u200b\u83b7\u53d6\u200b\u591a\u53ea\u200b\u80a1\u7968\u200b\u7684\u200b\u5386\u53f2\u200b\u4ef7\u683c\u200b\u6570\u636e\u200b\uff0c\u200b\u5bf9\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u5b9a\u671f\u200b\u8c03\u4ed3\u200b\u56de\u6d4b\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-selection-and-backtesting-using-qstock/#\u5bfc\u5165\u5305\u548c\u5b9a\u4e49\u83b7\u53d6\u5904\u7406\u6570\u636e\u7ee9\u6548\u8bc4\u4ef7\u548c\u7ed8\u56fe\u7b49\u51fd\u6570","title":"\u5bfc\u5165\u200b\u5305\u200b\u548c\u200b\u5b9a\u4e49\u200b\u83b7\u53d6\u200b\u3001\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u3001\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\u548c\u200b\u7ed8\u56fe\u200b\u7b49\u200b\u51fd\u6570","text":"<p>qstock\u200b\u7531\u200b\u201cPython \u200b\u91d1\u878d\u200b\u91cf\u5316\u200b\u201d\u200b\u516c\u4f17\u200b\u53f7\u200b\u5f00\u53d1\u200b\uff0c\u200b\u53ef\u200b\u7528\u4e8e\u200b\u83b7\u53d6\u200b\u5404\u4e2a\u200b\u5e02\u573a\u200b\u7684\u200b\u5b9e\u65f6\u200b\u548c\u200b\u5386\u53f2\u6570\u636e\u200b\u3002\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b qstock \u200b\u83b7\u53d6\u200b\u5386\u53f2\u6570\u636e\u200b\uff0c\u200b\u5bf9\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u56de\u6d4b\u200b\u3002</p> Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport pandas as pd\nimport qstock as qs\nfrom tqdm import tqdm\nimport warnings\nfrom highcharts import Highstock\n# \u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\n# \u200b\u83b7\u53d6\u200b\u8c03\u4ed3\u65e5\u200b\u4ee5\u53ca\u200b\u6301\u4ed3\u200b\u7684\u200b\u80a1\u7968\u200b\ndef get_change_position_date_and_stocks(selected_stocks):\n# \u200b\u6839\u636e\u200b\u62a5\u544a\u671f\u200b\u5bf9\u5e94\u200b\u7684\u200b\u622a\u81f3\u200b\u65e5\u671f\u200b\uff0c\u200b\u63d0\u53d6\u200b\u51fa\u200b\u6bcf\u5b63\u5ea6\u200b\u9009\u51fa\u200b\u7684\u200b\u80a1\u7968\u4ee3\u7801\u200b\nreport_date_and_stocks = (\nselected_stocks.groupby(\"\u200b\u62a5\u544a\u200b\u65e5\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\")[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"]\n.apply(lambda g: g.values.tolist())\n.to_dict()\n)\n# \u200b\u5c06\u200b\u62a5\u544a\u200b\u62a5\u544a\u671f\u200b\u5bf9\u5e94\u200b\u7684\u200b\u622a\u81f3\u200b\u65e5\u671f\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8c03\u4ed3\u200b\u65e5\u671f\u200b\nchange_position_date_list = []\nfor report_date in report_date_and_stocks.keys():\n# \u200b\u82e5\u200b\u62a5\u544a\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\u662f\u200b\u7b2c\u4e00\u5b63\u5ea6\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u5929\u200b\uff0c\u200b\u5219\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8c03\u4ed3\u65e5\u200b\u662f\u200b4\u200b\u6708\u200b30\u200b\u65e5\u200b\nif report_date.month == 3:\nchange_position_date = \"{}{}{}\".format(report_date.year, \"04\", \"30\")\n# \u200b\u82e5\u200b\u62a5\u544a\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\u662f\u200b\u7b2c\u4e8c\u5b63\u5ea6\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u5929\u200b\uff0c\u200b\u5219\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8c03\u4ed3\u65e5\u200b\u662f\u200b8\u200b\u6708\u200b31\u200b\u65e5\u200b\nelif report_date.month == 6:\nchange_position_date = \"{}{}{}\".format(report_date.year, \"08\", \"31\")\n# \u200b\u82e5\u200b\u62a5\u544a\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\u662f\u200b\u7b2c\u4e09\u5b63\u5ea6\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u5929\u200b\uff0c\u200b\u5219\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8c03\u4ed3\u65e5\u200b\u662f\u200b10\u200b\u6708\u200b31\u200b\u65e5\u200b\nelif report_date.month == 9:\nchange_position_date = \"{}{}{}\".format(report_date.year, \"10\", \"31\")\nelse:\nraise ValueError\nchange_position_date_list.append(change_position_date)\nchange_position_date_and_stocks = dict(\nzip(change_position_date_list, report_date_and_stocks.values())\n)\nreturn change_position_date_and_stocks\n# \u200b\u83b7\u53d6\u200b\u591a\u53ea\u200b\u80a1\u7968\u200b\u7684\u200b\u6bcf\u65e5\u200b\u6536\u76d8\u4ef7\u683c\u200b\ndef get_price_of_many_stocks(code_list, start, end):\nprice = pd.DataFrame()\nfor code in tqdm(code_list, leave=False):\nprice_stock = qs.get_data(\ncode_list=code, start=start, end=end, freq=\"d\", fqt=2\n)[\"close\"]\nprice_stock.name = code\nprice = pd.concat([price, price_stock], axis=1)\nreturn price\n# \u200b\u5c06\u200b\u6536\u76ca\u7387\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4ef7\u683c\u200b\u6570\u636e\u200b\ndef prices_from_returns(returns):\nret = 1 + returns\nret.iloc[0] = 1\nreturn ret.cumprod()\n# \u200b\u8ba1\u7b97\u200b\u7b56\u7565\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\ndef strategy_evaluate(equity):\n\"\"\"\n    :param equity:  \u200b\u6bcf\u5929\u200b\u7684\u200b\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\n    :return:\n    \"\"\"\n# ===\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200bdataframe\u200b\u4fdd\u5b58\u200b\u56de\u6d4b\u200b\u6307\u6807\u200b\nresults = pd.DataFrame()\n# \u200b\u5c06\u200b\u6570\u5b57\u200b\u8f6c\u4e3a\u200b\u767e\u5206\u6570\u200b\ndef num_to_pct(value):\nreturn \"%.2f%%\" % (value * 100)\n# ===\u200b\u8ba1\u7b97\u200b\u7d2f\u79ef\u200b\u51c0\u503c\u200b\nresults.loc[0, \"\u200b\u7d2f\u79ef\u200b\u51c0\u503c\u200b\"] = round(equity[\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\"].iloc[-1], 2)\n# ===\u200b\u8ba1\u7b97\u200b\u5e74\u5316\u200b\u6536\u76ca\u200b\nannual_return = (equity[\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\"].iloc[-1]) ** (\n1 / (equity[\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"].iloc[-1] - equity[\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"].iloc[0]).days * 365\n) - 1\nresults.loc[0, \"\u200b\u5e74\u5316\u200b\u6536\u76ca\u200b\"] = str(round(annual_return * 100, 2)) + \"%\"\n# ===\u200b\u8ba1\u7b97\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\uff0c\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7684\u200b\u542b\u4e49\u200b\uff1a\u300a\u200b\u5982\u4f55\u200b\u901a\u8fc7\u200b3\u200b\u884c\u200b\u4ee3\u7801\u200b\u8ba1\u7b97\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u300bhttps://mp.weixin.qq.com/s/Dwt4lkKR_PEnWRprLlvPVw\n# \u200b\u8ba1\u7b97\u200b\u5f53\u65e5\u200b\u4e4b\u524d\u200b\u7684\u200b\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\u7684\u200b\u6700\u9ad8\u70b9\u200b\nequity[\"max2here\"] = equity[\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\"].expanding().max()\n# \u200b\u8ba1\u7b97\u200b\u5230\u200b\u5386\u53f2\u200b\u6700\u9ad8\u503c\u200b\u5230\u200b\u5f53\u65e5\u200b\u7684\u200b\u8dcc\u5e45\u200b\uff0cdrowdwon\nequity[\"dd2here\"] = equity[\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\"] / equity[\"max2here\"] - 1\n# \u200b\u8ba1\u7b97\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\nend_date, max_draw_down = tuple(\nequity.sort_values(by=[\"dd2here\"]).iloc[0][[\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\", \"dd2here\"]]\n)\n# \u200b\u8ba1\u7b97\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b\nstart_date = (\nequity[equity[\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"] &lt;= end_date]\n.sort_values(by=\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\", ascending=False)\n.iloc[0][\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"]\n)\n# \u200b\u5c06\u200b\u65e0\u5173\u200b\u7684\u200b\u53d8\u91cf\u200b\u5220\u9664\u200b\nequity.drop([\"max2here\", \"dd2here\"], axis=1, inplace=True)\nresults.loc[0, \"\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\"] = format(max_draw_down, \".2%\")\nresults.loc[0, \"\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b\"] = str(start_date)\nresults.loc[0, \"\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\"] = str(end_date)\n# ===\u200b\u5e74\u5316\u200b\u6536\u76ca\u200b/\u200b\u56de\u64a4\u200b\u6bd4\u200b\uff1a\nresults.loc[0, \"\u200b\u5e74\u5316\u200b\u6536\u76ca\u200b/\u200b\u56de\u64a4\u200b\u6bd4\u200b\"] = round(annual_return / abs(max_draw_down), 2)\n# ===\u200b\u6bcf\u5e74\u200b\u3001\u200b\u6bcf\u6708\u200b\u6536\u76ca\u7387\u200b\nequity.set_index(\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\", inplace=True)\nyear_return = (\nequity[[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\", \"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"]]\n.resample(rule=\"A\")\n.apply(lambda x: (1 + x).prod() - 1)\n)\nmonthly_return = (\nequity[[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\", \"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"]]\n.resample(rule=\"M\")\n.apply(lambda x: (1 + x).prod() - 1)\n)\nyear_return[\"\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\"] = year_return[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"] - year_return[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"]\nmonthly_return[\"\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\"] = monthly_return[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"] - monthly_return[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"]\nyear_return[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"] = year_return[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"].apply(num_to_pct)\nyear_return[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"] = year_return[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"].apply(num_to_pct)\nyear_return[\"\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\"] = year_return[\"\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\"].apply(num_to_pct)\nmonthly_return[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"] = monthly_return[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"].apply(num_to_pct)\nmonthly_return[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"] = monthly_return[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"].apply(num_to_pct)\nmonthly_return[\"\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\"] = monthly_return[\"\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\"].apply(num_to_pct)\nreturn results.T, year_return, monthly_return\n# \u200b\u7ed8\u5236\u200b\u51c0\u503c\u200b\u66f2\u7ebf\u200b\ndef draw_equity_curve(\nprices, returns_data=False, title=\"Equity Curve\", output_path=None\n):\n# \u200b\u5c06\u200b\u4f20\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u4fee\u6539\u200b\u4e3a\u200b\u6570\u636e\u200b\u6846\u200b\nif not isinstance(prices, pd.DataFrame):\nwarnings.warn(\"prices are not in a dataframe\", RuntimeWarning)\nprices = pd.DataFrame(prices)\n# \u200b\u5c06\u200b\u7d22\u5f15\u200b\u4fee\u6539\u200b\u4e3a\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\u683c\u5f0f\u200b\nif not isinstance(prices.index, pd.DatetimeIndex):\nprices.index = pd.to_datetime(prices.index)\n# \u200b\u5982\u679c\u200b\u4f20\u5165\u200b\u7684\u200b\u662f\u200b\u6536\u76ca\u7387\u200b\u6570\u636e\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8f6c\u6362\u6210\u200b\u4ef7\u683c\u200b\u6570\u636e\u200b\nif returns_data:\nprices = prices_from_returns(prices)\n# \u200b\u521d\u59cb\u5316\u200b\u7ed8\u56fe\u200b\u5bf9\u8c61\u200b\nH = Highstock()\n# \u200b\u5bfc\u5165\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u6570\u636e\u200b\nfor column in prices.columns:\nH.add_data_set(\ndata=prices[column].reset_index().values.tolist(),\nseries_type=\"line\",\nname=column,\n)\n# \u200b\u8bbe\u7f6e\u200b\u7ed8\u56fe\u200b\u53c2\u6570\u200b\noptions = {\n\"title\": {\"text\": title},\n\"rangeSelector\": {\"selected\": 5},  # 1-5\u200b\u7684\u200b\u6570\u5b57\u200b\u4ee3\u8868\u200b\u9ed8\u8ba4\u200b\u89c2\u5bdf\u200b\u7a97\u53e3\u200b\u4e3a\u200b1m\u30013m\u30016m\u3001YTM\u30011y\u200b\u548c\u200bAll\n\"yAxis\": {\n\"labels\": {\n\"formatter\": \"function () {\\\n                                return (this.value &gt; 0 ? ' + ' : '') + this.value + '%';\\\n                            }\"\n},  # this.value &gt; 0 ? ' + '\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6b63\u200b\u6536\u76ca\u200b\u7684\u200b\u6570\u503c\u200b\u524d\u200b\u52a0\u4e0a\u200b\u201c+\u201d\n# \u200b\u7ed8\u5236\u200b\u7eb5\u8f74\u200b\u4e3a\u200b0\u200b\u7684\u200b\u6a2a\u7ebf\u200b\n\"plotLines\": [{\"value\": 0, \"width\": 2, \"color\": \"silver\"}],\n},\n\"plotOptions\": {\"series\": {\"compare\": \"percent\"}},\n\"tooltip\": {\n\"pointFormat\": '&lt;span style=\"color:{series.color}\"&gt;{series.name}:&lt;/span&gt; &lt;b&gt;{point.y}&lt;/b&gt; ({point.change}%)&lt;br/&gt;',\n\"valueDecimals\": 2,  # \u200b\u9ed8\u8ba4\u200b\u663e\u793a\u200b\u7684\u200b\u5c0f\u6570\u4f4d\u200b\n},\n}\n# \u200b\u5e94\u7528\u200b\u7ed8\u56fe\u200b\u53c2\u6570\u200b\nH.set_dict_options(options)\n# \u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b\u8f93\u51fa\u200b\u8def\u5f84\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200bhtml\u200b\u6587\u4ef6\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u8def\u5f84\u200b\nif output_path:\nf = open(\"{}.html\".format(output_path), \"w\")\nf.write(H.htmlcontent)\nf.close()\nreturn H\n</code></pre> Python<pre><code># \u200b\u8bfb\u53d6\u200b\u5386\u53f2\u200b\u9009\u80a1\u200b\u6570\u636e\u200b\uff08\u200b\u6bcf\u5b63\u5ea6\u200b 15 \u200b\u53ea\u200b\uff09\nselected_stocks = pd.read_csv(\n\"./selected_stocks.csv\", parse_dates=[\"\u200b\u62a5\u544a\u200b\u65e5\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\"], encoding=\"gbk\"\n)  # parse_dates \u200b\u5c06\u200b'\u200b\u62a5\u544a\u200b\u65e5\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b'\u200b\u8fd9\u200b\u4e00\u5217\u200b\u8bc6\u522b\u200b\u4e3a\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\uff0cgbk \u200b\u7f16\u7801\u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\n# \u200b\u622a\u53d6\u200b\u201c\u200b\u80a1\u7968\u4ee3\u7801\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u62a5\u544a\u200b\u65e5\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\u201d\u200b\u8fd9\u200b\u4e24\u5217\u200b\nselected_stocks = selected_stocks[[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\", \"\u200b\u62a5\u544a\u200b\u65e5\u671f\u200b\u7684\u200b\u622a\u6b62\u65e5\u200b\"]]\n# \u200b\u5c06\u200b\u201c\u200b\u80a1\u7968\u4ee3\u7801\u200b\u201d\u200b\u7684\u200b\u540e\u7f00\u200b\u201c.SH\u201d\u200b\u53bb\u6389\u200b\nselected_stocks[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"] = selected_stocks[\"\u200b\u80a1\u7968\u4ee3\u7801\u200b\"].apply(lambda x: x[:-3])\n# \u200b\u83b7\u53d6\u200b\u8c03\u4ed3\u65e5\u200b\u4ee5\u53ca\u200b\u6301\u4ed3\u200b\u7684\u200b\u80a1\u7968\u200b\nchange_position_date_and_stocks = get_change_position_date_and_stocks(selected_stocks)\n# \u200b\u83b7\u53d6\u200b\u8c03\u4ed3\u65e5\u200b\u7684\u200b\u5217\u8868\u200b\nchange_position_date_list = list(change_position_date_and_stocks.keys())\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-selection-and-backtesting-using-qstock/#\u8ba1\u7b97\u7ec4\u5408\u6536\u76ca\u7387\u4f7f\u7528\u7b80\u5355\u52a0\u6743\u7684\u7c97\u7565\u7b97\u6cd5","title":"\u8ba1\u7b97\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\uff08\u200b\u4f7f\u7528\u200b\u7b80\u5355\u200b\u52a0\u6743\u200b\u7684\u200b\u7c97\u7565\u200b\u7b97\u6cd5\u200b\uff09","text":"<p>\u200b\u4f7f\u7528\u200b\u7b80\u5355\u200b\u52a0\u6743\u200b\u7684\u200b\u7c97\u7565\u200b\u7b97\u6cd5\u200b\u8ba1\u7b97\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u8fd9\u4e00\u200b\u65b9\u6cd5\u200b\u5b58\u5728\u200b\u4e00\u5b9a\u200b\u7684\u200b\u7f3a\u9677\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u82e5\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u8d44\u4ea7\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\u6bcf\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u90fd\u200b\u662f\u200b\\(-10\\%\\)\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u8d44\u4ea7\u200b\u6bcf\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u90fd\u200b\u662f\u200b\\(+10\\%\\)\u3002</p> <p>\u200b\u6309\u7167\u200b\u7b80\u5355\u200b\u52a0\u6743\u200b\u7684\u200b\u7c97\u7565\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u7b2c\u4e00\u5929\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u53d8\u6210\u200b\u4e86\u200b\\(1\\times(1-10\\%)=0.9\\)\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u53d8\u6210\u200b\u4e86\u200b\\(1\\times(1+10\\%)=1.1\\)\uff0c\u200b\u56e0\u6b64\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u7684\u200b\u51c0\u503c\u200b\u662f\u200b\\(\\frac{0.9+1.1}{2}=1\\)\u3002\u200b\u6839\u636e\u200b\u7b80\u5355\u200b\u52a0\u6743\u200b\u7684\u200b\u7c97\u7565\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u5728\u200b\u7b2c\u4e00\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u662f\u200b\\(\\frac{-10\\%+10\\%}{2}=0\\)\u3002\u200b\u8fd9\u4e2a\u200b\u7ed3\u679c\u200b\u5728\u200b\u7b2c\u4e00\u5929\u200b\u786e\u5b9e\u200b\u662f\u200b\u5bf9\u200b\u7684\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u7b2c\u4e8c\u5929\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u53d8\u6210\u200b\u4e86\u200b\\(0.9\\times(1-10\\%)=0.81\\)\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u4ef7\u683c\u200b\u53d8\u6210\u200b\u4e86\u200b\\(1.1\\times(1+10\\%)=1.21\\)\uff0c\u200b\u56e0\u6b64\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u7684\u200b\u51c0\u503c\u200b\u662f\u200b\\(\\frac{0.81+1.21}{2}=1.005\\)\uff0c\u200b\u56e0\u6b64\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u5728\u200b\u7b2c\u4e8c\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u662f\u200b 0.5%\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u6839\u636e\u200b\u7b80\u5355\u200b\u52a0\u6743\u200b\u7684\u200b\u7c97\u7565\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u5728\u200b\u7b2c\u4e00\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u4ecd\u7136\u200b\u662f\u200b\\(\\frac{-10\\%+10\\%}{2}=0\\)\u3002</p> <p>\u200b\u9020\u6210\u200b\u8fd9\u4e00\u200b\u5dee\u5f02\u200b\u7684\u200b\u6839\u672c\u539f\u56e0\u200b\u5728\u4e8e\u200b\uff0c\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u5185\u90e8\u200b\u7684\u200b\u6743\u91cd\u200b\u662f\u200b\u4f1a\u200b\u968f\u7740\u200b\u5404\u200b\u8d44\u4ea7\u200b\u7684\u200b\u6da8\u8dcc\u200b\u800c\u200b\u6539\u53d8\u200b\u7684\u200b\u3002\u200b\u4e00\u4e2a\u200b\u8d44\u4ea7\u200b\u4e0a\u6da8\u200b\u5f97\u200b\u8d8a\u200b\u591a\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u6da8\u8dcc\u5e45\u200b\u5bf9\u200b\u6574\u4e2a\u200b\u8d44\u4ea7\u200b\u7ec4\u5408\u200b\u6da8\u8dcc\u5e45\u200b\u7684\u200b\u5f71\u54cd\u200b\u4e5f\u200b\u8d8a\u200b\u5927\u200b\u3002</p> <p>\u200b\u8fd9\u91cc\u200b\u4e3a\u4e86\u200b\u7b80\u4fbf\u200b\uff0c\u200b\u53ea\u200b\u4f7f\u7528\u200b\u7b80\u5355\u200b\u52a0\u6743\u200b\u7684\u200b\u7c97\u7565\u200b\u7b97\u6cd5\u200b\u8ba1\u7b97\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\u3002\u200b\u66f4\u4e3a\u200b\u7cbe\u786e\u200b\u7684\u200b\u7b97\u6cd5\u200b\u53ef\u4ee5\u200b\u662f\u200b\uff1a\u200b\u5c06\u200b\u5404\u200b\u80a1\u7968\u200b\u770b\u4f5c\u200b\u662f\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u6bcf\u5929\u200b\u8ddf\u8e2a\u200b\u8fd9\u200b\u4e00\u90e8\u5206\u200b\u51c0\u503c\u200b\u7684\u200b\u53d8\u5316\u200b\uff0c\u200b\u5230\u200b\u4e0b\u200b\u4e00\u8c03\u200b\u4ed3\u65e5\u200b\u518d\u200b\u5c06\u200b\u5404\u200b\u90e8\u5206\u200b\u7684\u200b\u51c0\u503c\u200b\u76f8\u52a0\u200b\uff0c\u200b\u5373\u200b\u5f97\u5230\u200b\u6574\u4e2a\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u51c0\u503c\u200b\u3002</p> Python<pre><code># \u200b\u521b\u5efa\u200b\u7a7a\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\nportfolio_return = pd.DataFrame()\n# \u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\uff0c\u200b\u83b7\u53d6\u200b\u5f53\u65e5\u200b\u7684\u200b\u80a1\u7968\u4ef7\u683c\u200b\uff0c\u200b\u5c06\u200b\u4ef7\u683c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u5e76\u200b\u8ba1\u7b97\u200b\u7ec4\u5408\u200b\u5728\u200b\u8fd9\u6bb5\u200b\u6301\u6709\u671f\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\npbar = tqdm(change_position_date_list)\nfor change_position_date in pbar:\npbar.set_description(\"\u200b\u6b63\u5728\u200b\u8ba1\u7b97\u200b\u4ece\u200b%s\u200b\u5f00\u59cb\u200b\u7684\u200b\u7ec4\u5408\u200b\u6bcf\u65e5\u200b\u6536\u76ca\u7387\u200b\" % change_position_date)\n# \u200b\u83b7\u53d6\u200b\u8fd9\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u81f3\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6301\u4ed3\u200b\u80a1\u7968\u4ef7\u683c\u200b\ncode_list = change_position_date_and_stocks[change_position_date]\n# \u200b\u83b7\u53d6\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\nif (\nchange_position_date == change_position_date_list[-1]\n):  # \u200b\u5982\u679c\u200b\u662f\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\uff0c\u200b\u5219\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u5728\u200bchange_position_date_list\u200b\u4e2d\u200b\u627e\u200b\u4e0d\u5230\u200b\uff0c\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b2022\u200b\u5e74\u200b8\u200b\u6708\u200b31\u200b\u65e5\u200b\nnext_change_position_date = \"20220831\"\nelse:  # \u200b\u5426\u5219\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5728\u200bchange_position_date_list\u200b\u4e2d\u200b\u627e\u5230\u200b\nnext_change_position_date = change_position_date_list[\nchange_position_date_list.index(change_position_date) + 1\n]\n# \u200b\u83b7\u53d6\u200b\u8fd9\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u81f3\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6301\u4ed3\u200b\u80a1\u7968\u4ef7\u683c\u200b\nstock_price = get_price_of_many_stocks(\ncode_list=code_list, start=change_position_date, end=next_change_position_date\n)  # fqt=2\u200b\u8868\u793a\u200b\u540e\u200b\u590d\u6743\u200b\n# \u200b\u5c06\u200b\u4ef7\u683c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u4e14\u200b\u5220\u9664\u200b\u5168\u662f\u200b\u7a7a\u503c\u200b\u7684\u200b\u884c\u200b\uff08\u200b\u5373\u200b\u7b2c\u4e00\u884c\u200b\uff09\nstock_return = stock_price.pct_change().dropna(how=\"all\")\n# \u200b\u5bf9\u200b\u6536\u76ca\u7387\u200b\u8fdb\u884c\u200b\u52a0\u6743\u200b\u6c42\u548c\u200b\uff0c\u200b\u5f97\u5230\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u6dfb\u52a0\u200b\u5230\u200bportfolio_return\u200b\u4e2d\u200b\nportfolio_return_in_this_quarter = stock_return.mul(\n1 / len(stock_return.columns), axis=1\n).sum(axis=1)\nportfolio_return = pd.concat(\n[portfolio_return, portfolio_return_in_this_quarter], axis=0\n)\n</code></pre>       \u200b\u6b63\u5728\u200b\u8ba1\u7b97\u200b\u4ece\u200b20220430\u200b\u5f00\u59cb\u200b\u7684\u200b\u7ec4\u5408\u200b\u6bcf\u65e5\u200b\u6536\u76ca\u7387\u200b: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 37/37 [01:11&lt;00:00,  1.94s/it]","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-selection-and-backtesting-using-qstock/#\u83b7\u53d6\u7ec4\u5408\u51c0\u503c\u548c\u57fa\u51c6\u6307\u6570\u51c0\u503c","title":"\u83b7\u53d6\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\u548c\u200b\u57fa\u51c6\u200b\u6307\u6570\u200b\u51c0\u503c","text":"Python<pre><code># \u200b\u5c06\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\nportfolio_net_value = prices_from_returns(portfolio_return)\n# \u200b\u4fee\u6539\u200b\u5217\u540d\u200b\nportfolio_net_value.columns = [\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\"]\n# \u200b\u4fee\u6539\u200b\u7d22\u5f15\u200b\u540d\u200b\nportfolio_net_value.index.name = \"date\"\n</code></pre> Python<pre><code># \u200b\u83b7\u53d6\u200b\u4e2d\u8bc1\u200b500\u200b\u6307\u6570\u200b\u7684\u200b\u4ef7\u683c\u200b\nindex_price = qs.get_price(\ncode_list=[\"\u200b\u4e2d\u8bc1\u200b500\"], start=\"20100504\", end=\"20220831\", freq=\"d\", fqt=2\n)\n# \u200b\u5c06\u200b\u4e2d\u8bc1\u200b500\u200b\u6307\u6570\u200b\u7684\u200b\u4ef7\u683c\u200b\u5f52\u4e00\u5316\u200b\nindex_price = index_price.div(index_price.iloc[0])\n</code></pre>       100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:00&lt;00:00, 1004.38it/s]   Python<pre><code># \u200b\u5c06\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u4e2d\u8bc1\u200b 500 \u200b\u6307\u6570\u200b\u7684\u200b\u4ef7\u683c\u200b\u5408\u5e76\u200b\nequity = portfolio_net_value.merge(\nindex_price, how=\"left\", left_index=True, right_index=True\n)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-selection-and-backtesting-using-qstock/#\u7ed8\u5236\u51c0\u503c\u66f2\u7ebf","title":"\u7ed8\u5236\u200b\u51c0\u503c\u200b\u66f2\u7ebf","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\u548c\u200b\u4e2d\u8bc1\u200b500\u200b\u6307\u6570\u200b\u7684\u200b\u51c0\u503c\u200b\u66f2\u7ebf\u200b\ndraw_equity_curve(equity)\n</code></pre> Python<pre><code># \u200b\u4fee\u6539\u200b\u5217\u540d\u200b\nequity.rename(columns={\"\u200b\u4e2d\u8bc1\u200b 500\": \"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"}, inplace=True)\n# \u200b\u8ba1\u7b97\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\nequity[\"\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\"] = equity[\"\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\"].pct_change()\n# \u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\nequity[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"] = equity[\"\u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b\"].pct_change()\n# \u200b\u751f\u6210\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\u5217\u200b\nequity[\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"] = equity.index\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/stock-selection-and-backtesting-using-qstock/#\u7ee9\u6548\u8bc4\u4ef7","title":"\u7ee9\u6548\u8bc4\u4ef7","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u7b56\u7565\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\noverall_performance, year_return, month_return = strategy_evaluate(equity)\n</code></pre> Python<pre><code>overall_performance\n</code></pre> 0 \u200b\u7d2f\u79ef\u200b\u51c0\u503c\u200b 6.31 \u200b\u5e74\u5316\u200b\u6536\u76ca\u200b 16.11% \u200b\u6700\u5927\u200b\u56de\u64a4\u200b -56.75% \u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b 2015-06-12 00:00:00 \u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b 2018-10-18 00:00:00 \u200b\u5e74\u5316\u200b\u6536\u76ca\u200b/\u200b\u56de\u64a4\u200b\u6bd4\u200b 0.28 Python<pre><code>year_return\n</code></pre>      .dataframe tbody tr th:only-of-type {         vertical-align: middle;     }      .dataframe tbody tr th {         vertical-align: top;     }      .dataframe thead th {         text-align: right;     }  \u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b \u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b \u200b\u8d85\u989d\u200b\u6536\u76ca\u200b \u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b 2010-12-31 -3.12% 11.33% -14.45% 2011-12-31 -26.29% -33.83% 7.53% 2012-12-31 32.59% 0.28% 32.31% 2013-12-31 36.37% 16.89% 19.48% 2014-12-31 78.17% 39.01% 39.17% 2015-12-31 68.05% 43.12% 24.93% 2016-12-31 -3.76% -17.78% 14.02% 2017-12-31 -6.39% -0.20% -6.19% 2018-12-31 -36.16% -33.32% -2.84% 2019-12-31 27.43% 26.38% 1.05% 2020-12-31 49.32% 20.87% 28.45% 2021-12-31 44.83% 15.58% 29.24% 2022-12-31 3.05% -16.36% 19.40% Python<pre><code>month_return\n</code></pre>      .dataframe tbody tr th:only-of-type {         vertical-align: middle;     }      .dataframe tbody tr th {         vertical-align: top;     }      .dataframe thead th {         text-align: right;     }  \u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b \u200b\u6307\u6570\u200b\u6536\u76ca\u7387\u200b \u200b\u8d85\u989d\u200b\u6536\u76ca\u200b \u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b 2010-05-31 -10.60% -7.44% -3.17% 2010-06-30 -8.02% -10.72% 2.70% 2010-07-31 15.30% 14.37% 0.93% 2010-08-31 10.09% 9.50% 0.59% 2010-09-30 -9.61% 1.55% -11.16% ... ... ... ... 2022-04-30 -10.71% -11.02% 0.31% 2022-05-31 4.69% 7.08% -2.38% 2022-06-30 5.59% 7.10% -1.51% 2022-07-31 6.65% -2.48% 9.13% 2022-08-31 -4.40% -2.20% -2.20% <p>148 rows \u00d7 3 columns</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/keras-plot-model/","title":"\u4f7f\u7528\u200b Keras \u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u56fe","text":"<p>\u200b\u4f7f\u7528\u200b<code>keras</code>\u200b\u6a21\u5757\u200b\u7684\u200b<code>plot_model</code>\u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u56fe\u200b\uff0c\u200b\u5c06\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u53ef\u89c6\u5316\u200b\u80fd\u591f\u200b\u5e2e\u52a9\u200b\u7406\u89e3\u200b\u6a21\u578b\u200b\u662f\u200b\u5982\u4f55\u200b\u8fd0\u884c\u200b\u7684\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u57fa\u672c\u4ee3\u7801","title":"\u57fa\u672c\u200b\u4ee3\u7801","text":"","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u5bfc\u5165\u642d\u5efa\u6a21\u578b\u548c\u7ed8\u5236\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u7684\u5305","title":"\u5bfc\u5165\u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\u548c\u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u200b\u7684\u200b\u5305","text":"Python<pre><code>from keras.utils import plot_model\nfrom tensorflow.keras import backend as Keras\nfrom tensorflow.keras.models import Sequential\nfrom tensorflow.keras.layers import (\nConv2D,\nMaxPool2D,\nActivation,\nDropout,\nFlatten,\nDense,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u5b9a\u4e49\u642d\u5efa\u6a21\u578b\u7684\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u6dfb\u52a0\u200b\u5377\u79ef\u200b\u5c42\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b input_shape \u200b\u53c2\u6570\u200b\ndef add_conv_layer(model, filters, kernel_size, input_shape=None):\nif input_shape:\nmodel.add(\nConv2D(\nfilters=filters,\nkernel_size=kernel_size,\npadding=\"same\",\nactivation=\"relu\",\ninput_shape=input_shape,\n)\n)\nelse:\nmodel.add(\nConv2D(\nfilters=filters,\nkernel_size=kernel_size,\npadding=\"same\",\nactivation=\"relu\",\n)\n)\nreturn model\n# \u200b\u5b9a\u4e49\u200b\u642d\u5efa\u200b\u6a21\u578b\u200b\u7684\u200b\u51fd\u6570\u200b\ndef build_model(\nblock_num,\nlayer_num,\nfilters_in_each_block,\nkernel_size,\npool_size,\nstrides,\ndropout_rate,\nx_train,\n):\n# \u200b\u6e05\u9664\u200b Keras \u200b\u7684\u200b session\nKeras.clear_session()\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b Sequential \u200b\u6a21\u578b\u200b\nmodel = Sequential()\n# \u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u7684\u200b block\nfor block in range(1, block_num + 1):\n# \u200b\u7b2c\u4e00\u4e2a\u200b Block\uff0c\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u8f93\u5165\u200b\u7684\u200b\u5f62\u72b6\u200b\nif block == 1:\n# \u200b\u8be5\u200b block \u200b\u7684\u200b filters\nfilters = filters_in_each_block[block - 1]\n# \u200b\u6dfb\u52a0\u200b\u7b2c\u4e00\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u200b\uff0c\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u8f93\u5165\u200b\u7684\u200b\u5f62\u72b6\u200b\nmodel = add_conv_layer(\nmodel,\nfilters=filters,\nkernel_size=kernel_size,\ninput_shape=x_train.shape[1:],\n)\n# \u200b\u6dfb\u52a0\u200b\u9664\u200b\u7b2c\u4e00\u4e2a\u200b\u5377\u79ef\u200b\u5c42\u200b\u4e4b\u5916\u200b\u7684\u200b\u5176\u4ed6\u200b\u5377\u79ef\u200b\u5c42\u200b\nfor layer in range(2, layer_num + 1):\nmodel = add_conv_layer(model, filters=filters, kernel_size=kernel_size)\n# \u200b\u6dfb\u52a0\u200b\u6c60\u5316\u5c42\u200b\nmodel.add(MaxPool2D(pool_size=pool_size, strides=strides))\n# \u200b\u5176\u4ed6\u200b Block\nelse:\n# \u200b\u8be5\u200b block \u200b\u7684\u200b filters\nfilters = filters_in_each_block[block - 1]\n# \u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u5377\u79ef\u200b\u5c42\u200b\nfor layer in range(1, layer_num + 1):\nmodel = add_conv_layer(model, filters=filters, kernel_size=kernel_size)\n# \u200b\u6dfb\u52a0\u200b\u6c60\u5316\u5c42\u200b\nmodel.add(MaxPool2D(pool_size=pool_size, strides=strides))\n# \u200b\u6dfb\u52a0\u200b Flatten \u200b\u5c42\u200b\nmodel.add(Flatten())\n# \u200b\u6dfb\u52a0\u200b Dropout \u200b\u5c42\u200b\nmodel.add(Dropout(dropout_rate))\n# \u200b\u6dfb\u52a0\u200b Dense \u200b\u5c42\u200b\nmodel.add(Dense(7, activation=\"softmax\"))\nreturn model\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u642d\u5efa\u6a21\u578b","title":"\u642d\u5efa\u200b\u6a21\u578b","text":"Python<pre><code>model = build_model(\nblock_num=4,\nlayer_num=2,\nfilters_in_each_block=[64, 128, 256, 512],\nkernel_size=3,\npool_size=4,\nstrides=2,\ndropout_rate=0.2,\nx_train=x_train,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u4f7f\u7528modelsummary\u67e5\u770b\u7f51\u7edc\u7ed3\u6784","title":"\u4f7f\u7528\u200b<code>model.summary()</code>\u200b\u67e5\u770b\u200b\u7f51\u7edc\u7ed3\u6784","text":"Python<pre><code>model.summary()\n</code></pre> Text Only<pre><code>Model: \"sequential\"\n_________________________________________________________________\n Layer (type)                Output Shape              Param #   \n=================================================================\n conv2d (Conv2D)             (None, 48, 48, 64)        640       \n\n conv2d_1 (Conv2D)           (None, 48, 48, 64)        36928     \n\n max_pooling2d (MaxPooling2D  (None, 23, 23, 64)       0         \n )                                                               \n\n conv2d_2 (Conv2D)           (None, 23, 23, 128)       73856     \n\n conv2d_3 (Conv2D)           (None, 23, 23, 128)       147584    \n\n max_pooling2d_1 (MaxPooling  (None, 10, 10, 128)      0         \n 2D)                                                             \n\n conv2d_4 (Conv2D)           (None, 10, 10, 256)       295168    \n\n conv2d_5 (Conv2D)           (None, 10, 10, 256)       590080    \n\n max_pooling2d_2 (MaxPooling  (None, 4, 4, 256)        0         \n 2D)                                                             \n\n conv2d_6 (Conv2D)           (None, 4, 4, 512)         1180160   \n\n conv2d_7 (Conv2D)           (None, 4, 4, 512)         2359808   \n\n max_pooling2d_3 (MaxPooling  (None, 1, 1, 512)        0         \n 2D)                                                             \n\n flatten (Flatten)           (None, 512)               0         \n\n dropout (Dropout)           (None, 512)               0         \n\n dense (Dense)               (None, 7)                 3591      \n\n=================================================================\nTotal params: 4,687,815\nTrainable params: 4,687,815\nNon-trainable params: 0\n_________________________________________________________________\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u5f97\u5230\u200b\u4e86\u200b\u8868\u683c\u200b\u6837\u5f0f\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6e05\u695a\u200b\u5730\u200b\u77e5\u9053\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u6709\u200b\u591a\u5c11\u200b\u5c42\u200b\u3001\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u5f62\u72b6\u200b\u8fd9\u4e9b\u200b\u5173\u952e\u200b\u4fe1\u606f\u200b\u3002\u200b\u4e0b\u9762\u200b\u7528\u200b<code>plot_model()</code>\u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u200b\uff0c\u200b\u901a\u8fc7\u200b\u53ef\u89c6\u5316\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u4e00\u6b65\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u7406\u89e3\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u4f7f\u7528plot_model\u7ed8\u5236\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784","title":"\u4f7f\u7528\u200b<code>plot_model()</code>\u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784","text":"Python<pre><code>plot_model(model)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u6307\u5b9a\u8f93\u51fa\u7f51\u7edc\u5f62\u72b6\u4e14\u8f93\u51fa\u5230\u672c\u5730\u6587\u4ef6","title":"\u6307\u5b9a\u200b\u8f93\u51fa\u200b\u7f51\u7edc\u200b\u5f62\u72b6\u200b\uff0c\u200b\u4e14\u200b\u8f93\u51fa\u200b\u5230\u200b\u672c\u5730\u200b\u6587\u4ef6","text":"Python<pre><code>plot_model(model, show_shapes=True, to_file=\"model.png\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/keras-plot-model/#\u62a5\u9519\u89e3\u51b3\u65b9\u6cd5","title":"\u62a5\u9519\u200b\u89e3\u51b3\u200b\u65b9\u6cd5","text":"<p>\u200b\u5982\u679c\u200b\u63d0\u793a\u200b</p> Text Only<pre><code>('You must install pydot (`pip install pydot`) and install graphviz (see instructions at https://graphviz.gitlab.io/download/) ', 'for plot_model/model_to_dot to work.')\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u5c06\u200b<code>keras</code>\u200b\u7ed8\u56fe\u200b\u7684\u200b\u6e90\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b<code>pydot</code>\u200b\u6539\u6210\u200b<code>pydotplus</code>\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u9700\u8981\u200b\u627e\u5230\u200b\u4ee5\u4e0b\u200b\u5730\u5740\u200b\uff1a</p> Text Only<pre><code>/usr/local/lib/python3.8/dist-packages/tensorflow/python/keras/utils\n</code></pre> <p>\u200b\u8fdb\u5165\u200b<code>vis_utils.py</code>\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u5c06\u200b<code>pydot</code>\u200b\u57fa\u672c\u4e0a\u200b\u5168\u90e8\u200b\u6539\u6210\u200b<code>pydotplus</code>\uff08\u200b\u9664\u4e86\u200b\u5f00\u59cb\u200b\u7684\u200b\u5c11\u6570\u200b\u4ee3\u7801\u200b\u4e0d\u7528\u200b\u6539\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6709\u4e9b\u200b\u4ee3\u7801\u200b\u539f\u6765\u200b\u5c31\u662f\u200b<code>pydotplus</code>\uff0c\u200b\u6700\u597d\u200b\u4fdd\u7559\u200b\uff09\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5373\u53ef\u200b\u6b63\u5e38\u200b\u5bfc\u5165\u200b\u5305\u200b\u3002</p> <p></p> <p>\u200b\u672c\u62a5\u200b\u9519\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\u53c2\u8003\u200b\u4e86\u200bCSDN \u200b\u7684\u200b\u6587\u7ae0\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/install-ubuntu-gui-on-server/","title":"\u5728\u200b\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u200b Ubuntu \u200b\u56fe\u5f62\u754c\u9762","text":"<p>\u200b\u5728\u200b\u817e\u8baf\u200b\u4e91\u200b\u7684\u200b\u8f7b\u91cf\u200b\u5e94\u7528\u200b\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u200b Ubuntu \u200b\u56fe\u5f62\u754c\u9762\u200b\uff0c\u200b\u4f7f\u7528\u200b VNC \u200b\u5728\u200b\u672c\u5730\u200b\u8fdc\u7a0b\u200b\u63a7\u5236\u200b\u670d\u52a1\u5668\u200b\u3002</p> <p></p>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u4ece\u96f6\u5f00\u59cb","title":"\u4ece\u96f6\u5f00\u59cb","text":"<p>\u200b\u521a\u200b\u8d2d\u4e70\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u6839\u636e\u200b \u200b\u817e\u8baf\u200b\u4e91\u200b\u7684\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u987a\u5229\u200b\u5730\u200b\u5b89\u88c5\u200b\u597d\u200b Ubuntu\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u672c\u5730\u200b\u5b89\u88c5\u200b\u597d\u200b VNC \u200b\u4ee5\u200b\u5bf9\u200b\u670d\u52a1\u5668\u8fdb\u884c\u200b\u8fdc\u7a0b\u200b\u63a7\u5236\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u64cd\u4f5c\u573a\u666f","title":"\u64cd\u4f5c\u200b\u573a\u666f","text":"<p>VNC\uff08Virtual Network Console\uff09\u200b\u662f\u200b\u865a\u62df\u200b\u7f51\u7edc\u200b\u63a7\u5236\u53f0\u200b\u7684\u200b\u7f29\u5199\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u4e00\u6b3e\u200b\u4f18\u79c0\u200b\u7684\u200b\u8fdc\u7a0b\u200b\u63a7\u5236\u200b\u5de5\u5177\u8f6f\u4ef6\u200b\uff0c\u200b\u7531\u200b\u8457\u540d\u200b\u7684\u200b AT&amp;T \u200b\u7684\u200b\u6b27\u6d32\u200b\u7814\u7a76\u200b\u5b9e\u9a8c\u5ba4\u200b\u5f00\u53d1\u200b\u3002VNC \u200b\u662f\u200b\u57fa\u4e8e\u200b UNIX \u200b\u548c\u200b Linux \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u5f00\u6e90\u200b\u8f6f\u4ef6\u200b\uff0c\u200b\u8fdc\u7a0b\u200b\u63a7\u5236\u80fd\u529b\u200b\u5f3a\u5927\u200b\uff0c\u200b\u9ad8\u6548\u200b\u5b9e\u7528\u200b\uff0c\u200b\u5176\u200b\u6027\u80fd\u200b\u53ef\u4ee5\u200b\u548c\u200b Windows \u200b\u548c\u200b MAC \u200b\u4e2d\u200b\u7684\u200b\u4efb\u4f55\u200b\u8fdc\u7a0b\u200b\u63a7\u5236\u8f6f\u4ef6\u200b\u5ab2\u7f8e\u200b\u3002</p> <p>\u200b\u672c\u200b\u6587\u6863\u200b\u6307\u5bfc\u200b\u60a8\u200b\u5982\u4f55\u200b\u5728\u200b Ubuntu \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u8f7b\u91cf\u200b\u5e94\u7528\u670d\u52a1\u5668\u200b\u4e2d\u200b\u642d\u5efa\u200b\u53ef\u89c6\u5316\u200b\u754c\u9762\u200b\u3002\u200b\u60a8\u200b\u8fd8\u200b\u53ef\u200b\u901a\u8fc7\u200b \u200b\u5982\u4f55\u200b\u4ee5\u200b\u56fe\u5f62\u754c\u9762\u200b\u767b\u5f55\u200b\u4e91\u200b\u670d\u52a1\u5668\u200b\uff1f \u200b\u89c6\u9891\u6559\u7a0b\u200b\uff0c\u200b\u5feb\u901f\u200b\u642d\u5efa\u200b\u5e76\u200b\u4f7f\u7528\u200b\u53ef\u89c6\u5316\u200b\u754c\u9762\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u524d\u63d0\u6761\u4ef6","title":"\u524d\u63d0\u6761\u4ef6","text":"<p>\u200b\u5df2\u200b\u8d2d\u4e70\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e3a\u200b Ubuntu \u200b\u7684\u200b\u8f7b\u91cf\u200b\u5e94\u7528\u670d\u52a1\u5668\u200b\u3002\u200b\u5982\u679c\u200b\u60a8\u200b\u8fd8\u200b\u672a\u200b\u8d2d\u4e70\u200b\uff0c\u200b\u8bf7\u200b\u53c2\u8003\u200b \u200b\u5feb\u901f\u200b\u914d\u7f6e\u200b\u8f7b\u91cf\u200b\u5e94\u7528\u670d\u52a1\u5668\u200b Linux \u200b\u5b9e\u4f8b\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u64cd\u4f5c\u6b65\u9aa4","title":"\u64cd\u4f5c\u6b65\u9aa4","text":"","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u914d\u7f6e\u5b9e\u4f8b\u9632\u706b\u5899","title":"\u914d\u7f6e\u200b\u5b9e\u4f8b\u200b\u9632\u706b\u5899","text":"<p>VNC \u200b\u670d\u52a1\u200b\u4f7f\u7528\u200b TCP \u200b\u534f\u8bae\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b 5901 \u200b\u7aef\u53e3\u200b\u3002\u200b\u5219\u200b\u9700\u200b\u5728\u200b\u5b9e\u4f8b\u200b\u9632\u706b\u5899\u200b\u4e2d\u653e\u901a\u200b 5901 \u200b\u7aef\u53e3\u200b\uff0c\u200b\u5373\u200b\u5728\u200b\u201c\u200b\u5165\u7ad9\u200b\u89c4\u5219\u200b\u201d\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u653e\u901a\u200b\u534f\u8bae\u200b\u7aef\u53e3\u200b\u4e3a\u200b TCP:5901 \u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u5177\u4f53\u64cd\u4f5c\u200b\u8bf7\u200b\u53c2\u89c1\u200b \u200b\u6dfb\u52a0\u200b\u9632\u706b\u5899\u200b\u89c4\u5219\u200b\u3002\u200b\u6dfb\u52a0\u200b\u6210\u529f\u200b\u540e\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a </p>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u5b89\u88c5\u8f6f\u4ef6\u5305","title":"\u5b89\u88c5\u200b\u8f6f\u4ef6\u5305","text":"<ol> <li>\u200b\u767b\u5f55\u200b Linux \u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u8be6\u60c5\u8bf7\u200b\u53c2\u89c1\u200b \u200b\u4f7f\u7528\u200b WebShell \u200b\u65b9\u5f0f\u200b\u767b\u5f55\u200b Linux \u200b\u5b9e\u4f8b\u200b\u3002</li> <li>\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5c06\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\u5207\u6362\u200b\u81f3\u200b root \u200b\u7528\u6237\u200b\u3002</li> </ol> Text Only<pre><code>sudo -i\n</code></pre> <ol> <li>\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u66f4\u65b0\u200b\u548c\u200b\u83b7\u53d6\u200b\u6700\u65b0\u200b\u7684\u200b\u8f6f\u4ef6\u200b\u53ca\u200b\u7248\u672c\u4fe1\u606f\u200b\u3002</li> </ol> Text Only<pre><code>sudo apt-get update\n</code></pre> <ol> <li>\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5b89\u88c5\u200b\u684c\u9762\u73af\u5883\u200b\u6240\u200b\u9700\u200b\u8f6f\u4ef6\u5305\u200b\u3002\u200b\u5305\u62ec\u200b\u7cfb\u7edf\u200b\u9762\u677f\u200b\u3001\u200b\u7a97\u53e3\u200b\u7ba1\u7406\u5668\u200b\u3001\u200b\u6587\u4ef6\u200b\u6d4f\u89c8\u5668\u200b\u3001\u200b\u7ec8\u7aef\u200b\u7b49\u200b\u684c\u9762\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u3002</li> </ol> Bash<pre><code>sudo apt install gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal ubuntu-desktop\n</code></pre>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u914d\u7f6e-vnc","title":"\u914d\u7f6e\u200b VNC","text":"<ol> <li>\u200b\u6309\u7167\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u9009\u62e9\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5b89\u88c5\u200b VNC\u3002        ::: Ubuntu 18.04 Text Only<pre><code>sudo apt-get install vnc4server\n</code></pre> <p>::: ::: Ubuntu 20.04</p> Text Only<pre><code>sudo apt-get install tightvncserver\n</code></pre> <p>:::  2.  \u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u542f\u52a8\u200b VNC \u200b\u670d\u52a1\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b VNC \u200b\u7684\u200b\u5bc6\u7801\u200b\u3002</p> Text Only<pre><code>sudo vncserver\n</code></pre> <p>\u200b\u8fd4\u56de\u200b\u7c7b\u4f3c\u200b\u5982\u4e0b\u200b\u7ed3\u679c\u200b\uff0c\u200b\u8868\u793a\u200b VNC \u200b\u542f\u52a8\u200b\u6210\u529f\u200b\u3002  3. \u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u6253\u5f00\u200b VNC \u200b\u914d\u7f6e\u6587\u4ef6\u200b\u3002</p> Text Only<pre><code>sudo vi ~/.vnc/xstartup\n</code></pre> <ol> <li>\u200b\u6309\u200b i \u200b\u5207\u6362\u200b\u81f3\u200b\u7f16\u8f91\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4fee\u6539\u200b\u4e3a\u200b\u5982\u4e0b\u200b\u5185\u5bb9\u200b\u3002</li> </ol> Text Only<pre><code>#!/bin/sh\nexport XKL_XMODMAP_DISABLE=1\nexport XDG_CURRENT_DESKTOP=\"GNOME-Flashback:GNOME\"\nexport XDG_MENU_PREFIX=\"gnome-flashback-\"\ngnome-session --session=gnome-flashback-metacity --disable-acceleration-check &amp;\n</code></pre> <p>\u200b\u7f16\u8f91\u200b\u5b8c\u6210\u200b\u540e\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a  5. \u200b\u6309\u200b Esc\uff0c\u200b\u8f93\u5165\u200b :wq\uff0c\u200b\u4fdd\u5b58\u200b\u6587\u4ef6\u200b\u5e76\u200b\u8fd4\u56de\u200b\u30026. \u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u91cd\u542f\u200b\u684c\u9762\u200b\u8fdb\u7a0b\u200b\u3002</p> Text Only<pre><code>sudo vncserver -kill :1 #\u200b\u6740\u6389\u200b\u539f\u200b\u684c\u9762\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b\uff08\u200b\u5176\u4e2d\u200b\u7684\u200b\uff1a1 \u200b\u662f\u200b\u684c\u9762\u200b\u53f7\u200b\uff09\n</code></pre> Text Only<pre><code>sudo vncserver -geometry 1920x1080 :1 #\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b\u4f1a\u200b\u8bdd\u200b\n</code></pre> <ol> <li>\u200b\u70b9\u6b64\u200b \u200b\u524d\u5f80\u200b VNC Viewer \u200b\u5b98\u7f51\u200b\uff0c\u200b\u5e76\u200b\u6839\u636e\u200b\u672c\u5730\u200b\u8ba1\u7b97\u673a\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4e0b\u8f7d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7248\u672c\u200b\u53ca\u200b\u5b89\u88c5\u200b\u3002</li> <li>\u200b\u5728\u200b VNC Viewer \u200b\u8f6f\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u8f93\u5165\u200b <code>\u200b\u8f7b\u91cf\u200b\u5e94\u7528\u670d\u52a1\u5668\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b\uff1a1</code>\uff0c\u200b\u6309\u200b Enter\u3002    </li> <li>\u200b\u5728\u200b\u5f39\u51fa\u200b\u7684\u200b\u63d0\u793a\u6846\u200b\u4e2d\u200b\uff0c\u200b\u5355\u51fb\u200b Continue\u3002</li> <li>\u200b\u8f93\u5165\u200b \u200b\u6b65\u9aa4\u200b 2 \u200b\u8bbe\u7f6e\u200b\u7684\u200b VNC \u200b\u7684\u200b\u5bc6\u7801\u200b\uff0c\u200b\u5355\u51fb\u200b OK\uff0c\u200b\u5373\u53ef\u200b\u767b\u5f55\u200b\u5b9e\u4f8b\u200b\u5e76\u200b\u4f7f\u7528\u200b\u56fe\u5f62\u5316\u200b\u754c\u9762\u200b\u3002</li> </ol>","tags":["Linux"]},{"location":"blog/install-ubuntu-gui-on-server/#\u5728\u672c\u5730\u8fdb\u5165-ubuntu-\u684c\u9762","title":"\u5728\u200b\u672c\u5730\u200b\u8fdb\u5165\u200b Ubuntu \u200b\u684c\u9762","text":"<p>\u200b\u5728\u200b VNC \u200b\u4e2d\u200b\u8fdb\u5165\u200b Ubuntu \u200b\u684c\u9762\u200b\u540e\u200b\uff0c\u200b\u662f\u200b\u4e00\u7247\u200b\u7070\u5c4f\u200b\u7684\u200b\uff0c\u200b\u9f20\u6807\u200b\u4e5f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53c9\u200b\uff0c\u200b\u754c\u9762\u200b\u4e00\u70b9\u200b\u4e5f\u200b\u4e0d\u200b\u53cb\u597d\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b \u200b\u8fd9\u7bc7\u200b\u535a\u6587\u200b\uff0c\u200b\u9700\u8981\u200b\u8fdb\u5165\u200b<code>xstartup</code>\uff0c</p> Bash<pre><code>sudo vi ~/.vnc/xstartup\n</code></pre> <p>\u200b\u7f16\u8f91\u200b\u4e3a\u200b\uff1a</p> <p>\u200b\u4e00\u4e2a\u200b\u7ecf\u9a8c\u200b\uff1a\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5c06\u200b\u4e4b\u524d\u200b\u7684\u200b\u6587\u672c\u200b\u5168\u90e8\u200b\u5220\u9664\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>:%d</code>\u200b\u628a\u200b\u539f\u6765\u200b\u7684\u200b\u6587\u672c\u200b\u5168\u90e8\u200b\u5220\u9664\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u4e00\u76f4\u200b\u6309\u200b\u5220\u9664\u200b\u952e\u200b\u4e86\u200b\u3002</p> Text Only<pre><code>#!/bin/sh\n[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup\n[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources\nxsetroot -solid grey\nvncconfig -iconic &amp;\nx-terminal-emulator -geometry 80x24+10+10 -ls -title \"$VNCDESKTOP Desktop\" &amp;\n\nexport XDG_CURRENT_DESKTOP=\"GNOME-Flashback:GNOME\"\nexport XDG_MENU_PREFIX=\"gnome-flashback-\"\ngnome-session --session=gnome-flashback-metacity --disable-acceleration-check &amp;\n</code></pre> <p>\u200b\u518d\u200b\u5173\u95ed\u200b\u7aef\u53e3\u200b\u3001\u200b\u91cd\u542f\u200b\u7aef\u53e3\u200b\uff1a</p> Bash<pre><code># \u200b\u5173\u95ed\u200b\u7aef\u53e3\u200b\nvncserver -kill :1\n\n# \u200b\u521b\u5efa\u200b\u7aef\u53e3\u200b\nvncserver :1 -geometry 1920x1000 -depth 24\n</code></pre> <p>\u200b\u518d\u6b21\u200b\u7528\u200b VNC \u200b\u8fdb\u5165\u200b Ubuntu \u200b\u754c\u9762\u200b\uff0c\u200b\u5373\u53ef\u200b\u770b\u5230\u200b\u56fe\u5f62\u5316\u200b\u684c\u9762\u200b\u3002</p> <p></p>","tags":["Linux"]},{"location":"blog/linux-manage-memory/","title":"Linux \u200b\u67e5\u770b\u200b\u4e0e\u200b\u91ca\u653e\u200b\u5185\u5b58","text":"<p>\u200b\u67e5\u770b\u200b\u5185\u5b58\u200b\u4e0e\u200b\u91ca\u653e\u200b\u5185\u5b58\u200b\u7684\u200b Linux \u200b\u547d\u4ee4\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/linux-manage-memory/#\u67e5\u770b\u5185\u5b58\u4f7f\u7528\u60c5\u51b5","title":"\u67e5\u770b\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5","text":"Bash<pre><code>free -m\n</code></pre> <ul> <li><code>m</code>\u200b\u4ee3\u8868\u200b\u4ee5\u200b MB \u200b\u4e3a\u200b\u5355\u4f4d\u200b\u3002\u200b\u4e5f\u200b\u53ef\u7528\u200b<code>-g</code>\u200b\u4ee3\u8868\u200b\u4ee5\u200b GB \u200b\u4e3a\u200b\u5355\u4f4d\u200b\u3002</li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/linux-manage-memory/#\u91ca\u653e\u5185\u5b58","title":"\u91ca\u653e\u200b\u5185\u5b58","text":"Bash<pre><code>echo 3 &gt; /proc/sys/vm/drop_caches\n</code></pre> <p><code>drop_caches</code>\u200b\u7684\u200b\u503c\u200b\u53ef\u4ee5\u200b\u662f\u200b 0-3 \u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u4ee3\u8868\u200b\u4e0d\u540c\u200b\u7684\u200b\u542b\u4e49\u200b\uff1a</p> <ul> <li> <p>0\uff1a\u200b\u4e0d\u200b\u91ca\u653e\u200b\uff08\u200b\u7cfb\u7edf\u200b\u9ed8\u8ba4\u503c\u200b\uff09</p> </li> <li> <p>1\uff1a\u200b\u91ca\u653e\u200b\u9875\u200b\u7f13\u5b58\u200b</p> </li> <li> <p>2\uff1a\u200b\u91ca\u653e\u200b dentries \u200b\u548c\u200b inodes</p> </li> <li> <p>3\uff1a\u200b\u91ca\u653e\u200b\u6240\u6709\u200b\u7f13\u5b58\u200b</p> </li> </ul>","tags":["Linux","Computer Science"]},{"location":"blog/svm-classification/","title":"\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u200b\u5206\u7c7b\u200b\u7b97\u6cd5","text":"<p>\u200b\u5bf9\u200b\u94f6\u884c\u200b\u5ba2\u6237\u200b\u6d41\u5931\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7279\u5f81\u200b\u7b5b\u9009\u200b\uff0c\u200b\u6784\u5efa\u200b SVM \u200b\u5206\u7c7b\u5668\u200b\uff0c\u200b\u5e76\u200b\u4e0e\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u3001\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b\u7684\u200b\u5206\u7c7b\u200b\u6548\u679c\u200b\u8fdb\u884c\u200b\u5bf9\u6bd4\u200b\u3002</p> <p></p> Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport pandas as pd\nimport numpy as np\nimport itertools\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import FuncFormatter\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\nfrom scipy.stats import pearsonr\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.feature_selection import VarianceThreshold\nfrom sklearn.svm import SVC\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.metrics import classification_report\nfrom sklearn import metrics\n</code></pre> Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\ntrain = pd.read_excel(\"BankChurners2.xlsx\", sheet_name=\"training\")\ntest = pd.read_excel(\"BankChurners2.xlsx\", sheet_name=\"testing\")\nx_train = train.drop([\"Attrition_Flag\"], axis=1)\ny_train = train[\"Attrition_Flag\"]\nx_test = test.drop([\"Attrition_Flag\"], axis=1)\ny_test = test[\"Attrition_Flag\"]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u53d8\u91cf\u7f16\u7801","title":"\u53d8\u91cf\u200b\u7f16\u7801","text":"Python<pre><code># \u200b\u63d0\u53d6\u200b\u6587\u672c\u200b\u7c7b\u578b\u200b\u7684\u200b\u7279\u5f81\u200b\ntext_features = [\ncolumn for column in x_train.columns if x_train[column].dtype == \"object\"\n]\n# \u200b\u5bf9\u200b\u6587\u672c\u200b\u7c7b\u578b\u200b\u7684\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\nle = LabelEncoder()\nfor column in text_features:\nx_train[column] = le.fit_transform(train[column])\nx_test[column] = le.transform(test[column])\n# \u200b\u5bf9\u200b\u6807\u7b7e\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\ny_train.replace({\"Existing Customer\": 0, \"Attrited Customer\": 1}, inplace=True)\ny_test.replace({\"Existing Customer\": 0, \"Attrited Customer\": 1}, inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u7279\u5f81\u9009\u62e9","title":"\u7279\u5f81\u9009\u62e9","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u79fb\u9664\u4f4e\u65b9\u5dee\u7279\u5f81","title":"\u79fb\u9664\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u5220\u9664\u200b id \u200b\u5217\u200b\nx_train.drop([\"id\"], axis=1, inplace=True)\nx_test.drop([\"id\"], axis=1, inplace=True)\n# \u200b\u5c06\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u6700\u5c0f\u200b\u6700\u5927\u200b\u5f52\u4e00\u5316\u200b\nscaler = MinMaxScaler()\nx_train = pd.DataFrame(\nscaler.fit_transform(x_train), index=x_train.index, columns=x_train.columns\n)\nx_test = pd.DataFrame(\nscaler.transform(x_test), index=x_test.index, columns=x_test.columns\n)\n# \u200b\u79fb\u9664\u200b\u4f4e\u200b\u65b9\u5dee\u200b\uff08\u200b\u5f52\u4e00\u5316\u200b\u540e\u200b\u65b9\u5dee\u200b\u5c0f\u4e8e\u200b 0.02\uff09\u200b\u7279\u5f81\u200b\nselector = VarianceThreshold(threshold=0.02)\nselector.fit(x_train)\n# \u200b\u6253\u5370\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7684\u200b\u7279\u5f81\u200b\nprint(\"\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7279\u5f81\u200b\uff1a\", x_train.columns[~selector.get_support()])\nx_train = x_train.loc[:, selector.get_support()]\nx_test = x_test.loc[:, selector.get_support()]\n</code></pre> Text Only<pre><code>\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7279\u5f81\u200b\uff1a Index(['Total_Amt_Chng_Q4_Q1', 'Total_Ct_Chng_Q4_Q1'], dtype='object')\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u79fb\u9664\u9ad8\u76f8\u5173\u7279\u5f81\u4e2d\u65b9\u5dee\u8f83\u4f4e\u7684\u90a3\u4e00\u4e2a","title":"\u79fb\u9664\u200b\u9ad8\u200b\u76f8\u5173\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u90a3\u200b\u4e00\u4e2a","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u7279\u5f81\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u5173\u6027\u200b\u70ed\u200b\u529b\u56fe\u200b\nplt.figure(figsize=(20, 20))\ncorr = x_train.corr()\nsns.heatmap(corr, annot=True, cmap=\"coolwarm\")\nplt.show()\n</code></pre> Python<pre><code># \u200b\u6253\u5370\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\ncorr = corr.abs()\ncorr = corr.where(np.triu(np.ones(corr.shape), k=1).astype(bool))\ncorr = corr.stack()\ncorr = corr[corr &gt; 0.8]\nprint(\"\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", [i for i in corr.index])\n# \u200b\u4ece\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u79fb\u9664\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\nfeature_to_remove = []\ncorr = corr.reset_index()\ncorr.columns = [\"feature1\", \"feature2\", \"corr\"]\nfor row in corr.itertuples():\nif x_train[row.feature1].var() &lt; x_train[row.feature2].var():\nfeature_to_remove.append(row.feature1)\nelse:\nfeature_to_remove.append(row.feature2)\nfeature_to_remove = list(set(feature_to_remove))\nprint(\"\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", feature_to_remove)\nx_train.drop(feature_to_remove, axis=1, inplace=True)\nx_test.drop(feature_to_remove, axis=1, inplace=True)\n</code></pre> Text Only<pre><code>\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b0.8\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a [('Credit_Limit', 'Avg_Open_To_Buy'), ('Total_Trans_Amt', 'Total_Trans_Ct')]\n\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b0.8\u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a ['Avg_Open_To_Buy', 'Total_Trans_Ct']\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u79fb\u9664\u4e0e\u6807\u7b7e\u76f8\u5173\u6027\u8f83\u4f4e\u7684\u7279\u5f81","title":"\u79fb\u9664\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u79fb\u9664\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b 0.02 \u200b\u7684\u200b\u7279\u5f81\u200b\nfeature_to_remove = []\nfor i in x_train.columns:\npearson_corr = pearsonr(x_train[i], y_train)[0]\nif abs(pearson_corr) &lt; 0.02:\nfeature_to_remove.append(i)\nprint(\"\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b 0.02 \u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", feature_to_remove)\nx_train.drop(feature_to_remove, axis=1, inplace=True)\nx_test.drop(feature_to_remove, axis=1, inplace=True)\n</code></pre> Text Only<pre><code>\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b0.02\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a ['Education_Level', 'Marital_Status', 'Income_Category', 'Card_Category', 'Months_on_book']\n</code></pre> Python<pre><code># \u200b\u6253\u5370\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b\nprint(\"\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b\", x_train.columns.values)\n</code></pre> Text Only<pre><code>\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b ['Customer_Age' 'Gender' 'Dependent_count' 'Total_Relationship_Count'\n 'Months_Inactive_12_mon' 'Contacts_Count_12_mon' 'Credit_Limit'\n 'Total_Revolving_Bal' 'Total_Trans_Amt' 'Avg_Utilization_Ratio']\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u6784\u5efa-svm-\u5206\u7c7b\u5668","title":"\u6784\u5efa\u200b SVM \u200b\u5206\u7c7b\u5668","text":"Python<pre><code>svm = SVC(kernel=\"poly\")\nsvm.fit(x_train, y_train)\nprint(\"\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\uff1a%.2f%%\" % (svm.score(x_train, y_train) * 100))\nprint(\"\u200b\u8d85\u5e73\u9762\u200b\u7684\u200b\u622a\u8ddd\u200b\u9879\u200b b \u200b\u4e3a\u200b{}\".format(svm.intercept_[0]))\nprint(\"\u200b\u51b3\u7b56\u51fd\u6570\u200b\u4e3a\u200b{}\".format(svm.decision_function(x_train)))\n</code></pre> Text Only<pre><code>\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b: 88.04%\n\u200b\u8d85\u5e73\u9762\u200b\u7684\u200b\u622a\u8ddd\u200b\u9879\u200bb\u200b\u4e3a\u200b-0.9575823695081735\n\u200b\u51b3\u7b56\u51fd\u6570\u200b\u4e3a\u200b[-1.59427586 -1.8345902  -1.00014489 ... -1.60371229 -1.94589042\n -1.6133594 ]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u5728\u6d4b\u8bd5\u96c6\u4e0a\u7ed9\u51fa\u6a21\u578b\u5206\u7c7b\u7684\u6548\u679c","title":"\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7ed9\u51fa\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c","text":"Python<pre><code>def evaluate(true, pred):\nacc = metrics.accuracy_score(true, pred)\npresision = metrics.precision_score(true, pred)\nrecall = metrics.recall_score(true, pred)\nf1 = metrics.f1_score(true, pred)\nprint(\"\u200b\u6574\u4f53\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b:{:.2%}\".format(acc))\nprint(\"Precision:{:.2%}\".format(presision))\nprint(\"Recall:{:.2%}\".format(recall))\nprint(\"F1 \u200b\u5f97\u5206\u200b:{:.2%}\".format(f1))\nreturn acc, presision, recall, f1\n</code></pre> Python<pre><code># \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7ed9\u51fa\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c\u200b\ny_pred_svm = svm.predict(x_test)\nprint(classification_report(y_test, y_pred_svm))\nacc_svm, presision_svm, recall_svm, f1_svm = evaluate(y_test, y_pred_svm)\n</code></pre> Text Only<pre><code>              precision    recall  f1-score   support\n\n           0       0.89      0.99      0.93      2637\n           1       0.82      0.32      0.46       490\n\n    accuracy                           0.88      3127\n   macro avg       0.85      0.66      0.70      3127\nweighted avg       0.88      0.88      0.86      3127\n\n\u200b\u6574\u4f53\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b:88.26%\nPrecision:81.54%\nRecall:32.45%\nF1\u200b\u5f97\u5206\u200b:46.42%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u5c06-svm-\u7684\u7ed3\u679c\u4e0e\u903b\u8f91\u56de\u5f52\u4ee5\u53ca\u51b3\u7b56\u6811\u7ed3\u679c\u8fdb\u884c\u5bf9\u6bd4\u5206\u6790","title":"\u5c06\u200b SVM \u200b\u7684\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u4ee5\u53ca\u200b\u51b3\u7b56\u6811\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u5bf9\u6bd4\u200b\u5206\u6790","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u903b\u8f91\u56de\u5f52","title":"\u903b\u8f91\u200b\u56de\u5f52","text":"Python<pre><code>lr = LogisticRegression()\nlr.fit(x_train, y_train)\n# \u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\ny_pred_lr = lr.predict(x_test)\nprint(classification_report(y_test, y_pred_lr))\nacc_lr, presision_lr, recall_lr, f1_lr = evaluate(y_test, y_pred_lr)\n</code></pre> Text Only<pre><code>              precision    recall  f1-score   support\n\n           0       0.88      0.98      0.93      2637\n           1       0.78      0.31      0.44       490\n\n    accuracy                           0.88      3127\n   macro avg       0.83      0.65      0.69      3127\nweighted avg       0.87      0.88      0.85      3127\n\n\u200b\u6574\u4f53\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b:87.78%\nPrecision:77.55%\nRecall:31.02%\nF1\u200b\u5f97\u5206\u200b:44.31%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u51b3\u7b56\u6811","title":"\u51b3\u7b56\u6811","text":"Python<pre><code>dt = DecisionTreeClassifier()\ndt.fit(x_train, y_train)\n# \u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\ny_pred_dt = dt.predict(x_test)\nprint(classification_report(y_test, y_pred_dt))\nacc_dt, presision_dt, recall_dt, f1_dt = evaluate(y_test, y_pred_dt)\n</code></pre> Text Only<pre><code>              precision    recall  f1-score   support\n\n           0       0.95      0.95      0.95      2637\n           1       0.73      0.72      0.72       490\n\n    accuracy                           0.91      3127\n   macro avg       0.84      0.83      0.84      3127\nweighted avg       0.91      0.91      0.91      3127\n\n\u200b\u6574\u4f53\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b:91.43%\nPrecision:73.12%\nRecall:71.63%\nF1\u200b\u5f97\u5206\u200b:72.37%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u7ed8\u5236\u5404\u6a21\u578b\u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8bad\u7ec3\u6548\u679c","title":"\u7ed8\u5236\u200b\u5404\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u679c","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#roc-\u66f2\u7ebf","title":"ROC \u200b\u66f2\u7ebf","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\n# SVM \u200b\u7684\u200b ROC \u200b\u66f2\u7ebf\u200b\ny_pred_proba_svm = svm.decision_function(x_test)\nfpr_svm, tprr_svm, thresholdsr_svm = metrics.roc_curve(y_test, y_pred_proba_svm)\nplt.plot(fpr_svm, tprr_svm, color=\"r\", lw=2, label=\"SVM\")\n# \u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b ROC \u200b\u66f2\u7ebf\u200b\ny_pred_proba_lr = lr.predict_proba(x_test)[:, 1]\nfpr_lr, tprr_lr, thresholdsr_lr = metrics.roc_curve(y_test, y_pred_proba_lr)\nplt.plot(fpr_lr, tprr_lr, color=\"b\", lw=2, label=\"LR\")\n# \u200b\u51b3\u7b56\u6811\u200b\u7684\u200b ROC \u200b\u66f2\u7ebf\u200b\ny_pred_proba_dt = dt.predict_proba(x_test)[:, 1]\nfpr_df, tpr_dt, thresholds_dt = metrics.roc_curve(y_test, y_pred_proba_dt)\nplt.plot(fpr_df, tpr_dt, color=\"g\", lw=2, label=\"\u200b\u51b3\u7b56\u6811\u200b\")\nplt.plot([0, 1], [0, 1], color=\"navy\", lw=2, linestyle=\"--\")\nplt.xlabel(\"False Positive Rate\")\nplt.ylabel(\"True Positive Rate\")\nplt.title(\"ROC Curve\")\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u6df7\u6dc6\u77e9\u9635","title":"\u6df7\u6dc6\u200b\u77e9\u9635","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\ndef plot_confusion_matrix(\ncm, classes, normalize=False, title=\"Confusion matrix\", cmap=\"Blues\", colorbar=True\n):\n\"\"\"\n    This function prints and plots the confusion matrix.\n    Normalization can be applied by setting `normalize=True`.\n    \"\"\"\nif normalize:\ncm = cm.astype(\"float\") / cm.sum(axis=1)[:, np.newaxis]\nplt.imshow(cm, interpolation=\"nearest\", cmap=cmap)\nplt.title(title)\nif colorbar:\nplt.colorbar()\ntick_marks = np.arange(len(classes))\nplt.xticks(tick_marks, classes, rotation=45)\nplt.yticks(tick_marks, classes)\nfmt = \".2f\" if normalize else \"d\"\nthresh = cm.max() / 2.0\nfor i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):\nplt.text(\nj,\ni,\nformat(cm[i, j], fmt),\nhorizontalalignment=\"center\",\ncolor=\"white\" if cm[i, j] &gt; thresh else \"black\",\n)\nplt.tight_layout()\nplt.ylabel(\"True label\")\nplt.xlabel(\"Predicted label\")\n</code></pre> Python<pre><code>fig = plt.figure(figsize=(15, 5))\n# SVM \u200b\u7684\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\nax1 = fig.add_subplot(131)\ncm_svm = metrics.confusion_matrix(y_test, y_pred_svm)\nplot_confusion_matrix(\ncm_svm, classes=[\"0\", \"1\"], normalize=True, title=\"SVM\", colorbar=False\n)\n# \u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\nax2 = fig.add_subplot(132)\ncm_lr = metrics.confusion_matrix(y_test, y_pred_lr)\nplot_confusion_matrix(\ncm_lr, classes=[\"0\", \"1\"], normalize=True, title=\"\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\", colorbar=False\n)\n# \u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\nax3 = fig.add_subplot(133)\ncm_dt = metrics.confusion_matrix(y_test, y_pred_dt)\nplot_confusion_matrix(\ncm_dt, classes=[\"0\", \"1\"], normalize=True, title=\"\u200b\u51b3\u7b56\u6811\u200b\", colorbar=False\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-classification/#\u51c6\u786e\u7387\u7cbe\u786e\u7387\u53ec\u56de\u7387f1-\u503c","title":"\u51c6\u786e\u7387\u200b\u3001\u200b\u7cbe\u786e\u200b\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u3001F1 \u200b\u503c","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u6a21\u578b\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\ndef to_percent(temp, position):\nreturn \"%1.0f\" % (100 * temp) + \"%\"\nfig = plt.figure(figsize=(15, 5))\nax1 = fig.add_subplot(131)\nplt.bar([\"SVM\", \"LR\", \"DT\"], [acc_svm, acc_lr, acc_dt], color=[\"r\", \"b\", \"g\"])\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\nplt.title(\"Accuracy\")\nplt.ylim(0.8, 1)\nax2 = fig.add_subplot(132)\nplt.bar(\n[\"SVM\", \"LR\", \"DT\"],\n[presision_svm, presision_lr, presision_dt],\ncolor=[\"r\", \"b\", \"g\"],\n)\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\nplt.title(\"Presision\")\nplt.ylim(0.6, 1)\nax3 = fig.add_subplot(133)\nplt.bar([\"SVM\", \"LR\", \"DT\"], [recall_svm, recall_lr, recall_dt], color=[\"r\", \"b\", \"g\"])\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\nplt.title(\"Recall\")\nplt.show()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-soft-margin-and-kkt-condition/","title":"\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u8f6f\u200b\u95f4\u9694\u200b\u6700\u5927\u5316\u200b\u7684\u200b\u5bf9\u200b\u5076\u51fd\u6570\u200b\u53ca\u5176\u200b KKT \u200b\u6761\u4ef6","text":"<p>\u200b\u63a8\u5bfc\u200b\u8f6f\u200b\u95f4\u9694\u200b\u4e0b\u200b\u7684\u200b SVM \u200b\u7684\u200b\u5bf9\u200b\u5076\u51fd\u6570\u200b\u53ca\u5176\u200b KKT \u200b\u6761\u4ef6\u200b\uff0c\u200b\u5f97\u5230\u200b\u6700\u4f18\u200b\u5206\u7c7b\u200b\u8d85\u5e73\u9762\u200b\u7684\u200b\u53c2\u6570\u200b\u6c42\u89e3\u200b\u516c\u5f0f\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/svm-soft-margin-and-kkt-condition/#\u516c\u5f0f\u63a8\u5bfc","title":"\u516c\u5f0f\u200b\u63a8\u5bfc","text":"<p>\u200b\u672c\u6587\u200b\u63a8\u5bfc\u200b\u4e86\u200b\u8f6f\u200b\u95f4\u9694\u200b\u4e0b\u200b\u7684\u200b SVM \u200b\u7684\u200b\u5bf9\u200b\u5076\u51fd\u6570\u200b\u53ca\u5176\u200b KKT \u200b\u6761\u4ef6\u200b\u3002</p> <p>\u200b\u66f4\u200b\u591a\u200b\u5173\u4e8e\u200b SVM \u200b\u7684\u200b\u77e5\u8bc6\u200b\u53ef\u200b\u53c2\u8003\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p> <p></p> <p></p> <p></p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/exploratory-data-analysis-with-dataprep/","title":"\u4e00\u884c\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u63a2\u7d22\u6027\u200b\u6570\u636e\u5206\u6790","text":"<p>\u200b\u4f7f\u7528\u200b<code>DataPrep</code>\u200b\u8f7b\u677e\u200b\u5b9e\u73b0\u200b\u63a2\u7d22\u6027\u200b\u6570\u636e\u5206\u6790\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/exploratory-data-analysis-with-dataprep/#\u5b89\u88c5dataprep","title":"\u5b89\u88c5\u200b<code>DataPrep</code>","text":"Bash<pre><code>pip install dataprep\n</code></pre>","tags":["Python"]},{"location":"blog/exploratory-data-analysis-with-dataprep/#\u4e00\u884c\u4ee3\u7801\u751f\u6210\u63a2\u7d22\u6027\u6570\u636e\u5206\u6790\u62a5\u544a","title":"\u4e00\u884c\u200b\u4ee3\u7801\u751f\u6210\u200b\u63a2\u7d22\u6027\u200b\u6570\u636e\u5206\u6790\u200b\u62a5\u544a","text":"Python<pre><code>import pandas as pd\nfrom dataprep.eda import create_report\ndf = pd.read_csv(\n\"https://raw.githubusercontent.com/mwaskom/seaborn-data/master/iris.csv\"\n)\nreport = create_report(df)\nreport  # show report in notebook\nreport.save(\"My Fantastic Report\")  # save report to local disk\nreport.show_browser()  # show report in the browser\n</code></pre> <p>\u200b\u66f4\u200b\u591a\u200b\u6559\u7a0b\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p> <p>\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u6253\u5f00\u200b\u751f\u6210\u200b\u7684\u200b\u62a5\u544a\u200b\u6587\u6863\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u4e86\u200b\u57fa\u672c\u200b\u7684\u200b\u63cf\u8ff0\u6027\u200b\u7edf\u8ba1\u56fe\u8868\u200b\u3001\u200b\u76f8\u5173\u6027\u200b\u60c5\u51b5\u200b\u548c\u200b\u7f3a\u5931\u200b\u503c\u200b\u60c5\u51b5\u200b\u7b49\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/regular-expression-in-python/","title":"\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u66ff\u6362\u200b\u6587\u672c","text":"<p>\u200b\u5229\u7528\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u9ad8\u6548\u200b\u5730\u200b\u5904\u7406\u200b\u6587\u672c\u200b\u6570\u636e\u200b\u3002</p>","tags":["Python"]},{"location":"blog/regular-expression-in-python/#\u9700\u6c42","title":"\u9700\u6c42","text":"<p>\u200b\u53bb\u9664\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u5f00\u5934\u200b\u7684\u200b\u6570\u5b57\u200b\u548c\u200b\u70b9\u200b\u53f7\u200b\u3002</p>","tags":["Python"]},{"location":"blog/regular-expression-in-python/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport re\n</code></pre> Python<pre><code>string = \"1. \u200b\u793a\u4f8b\u200b\u6587\u672c\u200b\"\nprint(string)\n</code></pre> Text Only<pre><code>## 1. \u200b\u793a\u4f8b\u200b\u6587\u672c\u200b\n</code></pre>","tags":["Python"]},{"location":"blog/regular-expression-in-python/#\u65b9\u6cd5\u4e00\u5148\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\u518d\u6267\u884c","title":"\u65b9\u6cd5\u200b\u4e00\u200b\uff1a\u200b\u5148\u200b\u7f16\u8bd1\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u518d\u200b\u6267\u884c","text":"Python<pre><code># \u200b\u7f16\u8bd1\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\np = re.compile(\"(\\d*). \")\n# \u200b\u6267\u884c\u200b\u66ff\u6362\u200b\uff0c\u200b\u5c06\u200b\u7b26\u5408\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u5185\u5bb9\u200b\u7684\u200b\u90e8\u5206\u200b\u66ff\u6362\u6210\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\nnew_string_1 = p.sub(\"\", string, count=1)\nprint(new_string_1)\n</code></pre> Text Only<pre><code>## \u200b\u793a\u4f8b\u200b\u6587\u672c\u200b\n</code></pre> <ul> <li><code>(\\d*).</code>\u200b\u4ee3\u8868\u200b\u6570\u5b57\u200b\uff08\u200b\u8fd9\u4e2a\u200b\u6570\u5b57\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b\u957f\u200b\uff0c\u200b\u5982\u200b 0 \u200b\u4f4d\u200b\u3001\u200b\u4e2a\u4f4d\u6570\u200b\u3001\u200b\u5341\u4f4d\u6570\u200b\u7b49\u7b49\u200b\uff09\u200b\u540e\u9762\u200b\u8ddf\u7740\u200b<code>.</code>\u3002</li> <li><code>count=1</code>\u200b\u8868\u793a\u200b\u6a21\u5f0f\u5339\u914d\u200b\u540e\u200b\u66ff\u6362\u200b\u7684\u200b\u6700\u5927\u200b\u6b21\u6570\u200b\u3002</li> <li><code>count=0</code>\u200b\u8868\u793a\u200b\u66ff\u6362\u200b\u6240\u6709\u200b\u7684\u200b\u5339\u914d\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/regular-expression-in-python/#\u65b9\u6cd5\u4e8c\u4e00\u6b65\u76f4\u63a5\u6267\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u66ff\u6362","title":"\u65b9\u6cd5\u200b\u4e8c\u200b\uff1a\u200b\u4e00\u6b65\u200b\u76f4\u63a5\u200b\u6267\u884c\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u5339\u914d\u200b\u66ff\u6362","text":"Python<pre><code>new_string_2 = re.sub(r\"(\\d*). \", \"\", string)\nprint(new_string_2)\n</code></pre> Text Only<pre><code>## \u200b\u793a\u4f8b\u200b\u6587\u672c\u200b\n</code></pre>","tags":["Python"]},{"location":"blog/decision-tree-visualization/","title":"\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316","text":"<p>\u200b\u4f7f\u7528\u200b<code>pydotplus</code>\u200b\u548c\u200b<code>graphviz</code>\u200b\u5bf9\u200b\u51b3\u7b56\u6811\u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/decision-tree-visualization/#\u5b89\u88c5\u5305","title":"\u5b89\u88c5\u5305","text":"<p>\u200b\u5b89\u88c5\u5305\u200b\u7684\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/decision-tree-visualization/#\u6253\u5370\u51b3\u7b56\u6811","title":"\u6253\u5370\u200b\u51b3\u7b56\u6811","text":"Python<pre><code># \u200b\u6253\u5370\u200b\u9884\u6d4b\u200b\u7528\u6237\u200b\u6253\u7b97\u200b\u5728\u200b\u4ec0\u4e48\u200b\u5e73\u53f0\u200b\u7533\u9886\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\nfrom sklearn.tree import export_graphviz\ndot_data = export_graphviz(\nclf,\nout_file=None,\nfeature_names=[\"\u200b\u6027\u522b\u200b\", \"\u200b\u5e74\u9f84\u200b\", \"XX\"],\nclass_names=clf.classes_,\nfilled=True,\nrounded=True,\nspecial_characters=True,\n)\nimport pydotplus\ngraph = pydotplus.graph_from_dot_data(dot_data)\n# \u200b\u6dfb\u52a0\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\u627e\u200b\u4e0d\u5230\u200b Graphviz \u200b\u7684\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\nimport os\nos.environ[\"PATH\"] += os.pathsep + \"C:/Program Files/Graphviz/bin\"\n# \u200b\u5bfc\u51fa\u200b\u4e3a\u200b svg \u200b\u683c\u5f0f\u200b\u7684\u200b\u56fe\u7247\u200b\uff0c\u200b\u8fd9\u6837\u200b\u80fd\u591f\u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\ngraph.write_svg(\"\u200b\u6587\u4ef6\u540d\u200b.svg\")\n</code></pre> <p>\u200b\u5982\u679c\u200b\u62a5\u9519\u200b\u627e\u200b\u4e0d\u5230\u200b Graphviz \u200b\u7684\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\uff0c\u200b\u8bb0\u5f97\u200b\u628a\u200b Graphviz \u200b\u7684\u200b bin \u200b\u76ee\u5f55\u200b\u8def\u5f84\u200b\u901a\u8fc7\u200b<code>os.environ[\"PATH\"] += os.pathsep + 'C:/Program Files/Graphviz/bin'</code>\u200b\u6dfb\u52a0\u200b\u5230\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/decision-tree-visualization/#\u5bfc\u51fa\u7ed3\u679c","title":"\u5bfc\u51fa\u200b\u7ed3\u679c","text":"<p>\u200b\u5c06\u200b\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u7406\u89e3\u200b\u8fd9\u9897\u200b\u51b3\u7b56\u6811\u200b\u7a76\u7adf\u200b\u662f\u200b\u5982\u4f55\u200b\u8fd0\u884c\u200b\u7684\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/conda/","title":"\u5e38\u7528\u200b\u7684\u200b Conda \u200b\u547d\u4ee4","text":"<p>\u200b\u603b\u7ed3\u200b\u5e38\u7528\u200b\u7684\u200b Conda \u200b\u547d\u4ee4\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u67e5\u627e\u200b\u4e0e\u200b\u4f7f\u7528\u200b\u3002</p>","tags":["Python"]},{"location":"blog/conda/#\u663e\u793a\u73b0\u6709\u7684\u73af\u5883","title":"\u663e\u793a\u200b\u73b0\u6709\u200b\u7684\u200b\u73af\u5883","text":"Bash<pre><code>conda env list\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u65b0\u5efa\u73af\u5883","title":"\u65b0\u5efa\u200b\u73af\u5883","text":"Bash<pre><code>conda create -n \u200b\u73af\u5883\u200b\u540d\u200b python=3.8\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u6fc0\u6d3b\u73af\u5883","title":"\u6fc0\u6d3b\u200b\u73af\u5883","text":"Bash<pre><code>conda activate \u200b\u73af\u5883\u200b\u540d\u200b\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u5728\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u6307\u5b9a\u7248\u672c\u7684\u5305","title":"\u5728\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u6307\u5b9a\u200b\u7248\u672c\u200b\u7684\u200b\u5305","text":"Bash<pre><code>conda install tensorflow==1.12.0\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u5982\u679c\u4e0d\u9700\u8981\u6307\u5b9a\u7248\u672c\u53ef\u4ee5\u7701\u7565\u7248\u672c\u53f7","title":"\u5982\u679c\u200b\u4e0d\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u7248\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\u7248\u672c\u53f7","text":"Bash<pre><code>conda install tensorflow\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u5b89\u88c5\u5305\u65f6\u6307\u5b9a\u6765\u6e90","title":"\u5b89\u88c5\u5305\u200b\u65f6\u200b\u6307\u5b9a\u200b\u6765\u6e90","text":"Bash<pre><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\n\nconda config --set show_channel_urls yes\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>conda config --set show_channel_urls yes</code>\u200b\u7684\u200b\u610f\u601d\u200b\u662f\u4ece\u200b channel \u200b\u4e2d\u200b\u5b89\u88c5\u5305\u200b\u65f6\u200b\u663e\u793a\u200b channel \u200b\u7684\u200b URL\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u77e5\u9053\u200b\u5305\u200b\u7684\u200b\u5b89\u88c5\u200b\u6765\u6e90\u200b\u4e86\u200b\u3002</p>","tags":["Python"]},{"location":"blog/conda/#\u5220\u9664\u6765\u6e90","title":"\u5220\u9664\u200b\u6765\u6e90","text":"Bash<pre><code>conda config --remove channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n\nconda config --remove channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u56de\u6eda\u5230\u5386\u53f2\u7248\u672c","title":"\u56de\u6eda\u200b\u5230\u200b\u5386\u53f2\u200b\u7248\u672c","text":"","tags":["Python"]},{"location":"blog/conda/#\u67e5\u770b\u5386\u53f2\u8bb0\u5f55","title":"\u67e5\u770b\u200b\u5386\u53f2\u8bb0\u5f55","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u60a8\u200b\u9700\u8981\u200b\u67e5\u770b\u200b\u5df2\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\u7684\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u3002\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u5b8c\u6210\u200b\uff1a</p> Bash<pre><code>conda list --revisions\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u663e\u793a\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u6240\u6709\u200b\u4ee5\u524d\u200b\u7684\u200b\u4fee\u8ba2\u200b\u7248\u672c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u6bcf\u4e2a\u200b\u4fee\u8ba2\u200b\u7248\u672c\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u6216\u200b\u5220\u9664\u200b\u7684\u200b\u5305\u200b\u3002</p>","tags":["Python"]},{"location":"blog/conda/#\u9009\u62e9\u8981\u6062\u590d\u7684\u7248\u672c","title":"\u9009\u62e9\u200b\u8981\u200b\u6062\u590d\u200b\u7684\u200b\u7248\u672c","text":"<p>\u200b\u4e00\u65e6\u200b\u60a8\u200b\u77e5\u9053\u200b\u4e86\u200b\u8981\u200b\u6062\u590d\u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u6765\u200b\u6062\u590d\u200b\u5b83\u200b\uff1a</p> Bash<pre><code>conda install --revision REVNUM\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>REVNUM</code>\u200b\u662f\u200b\u60a8\u200b\u5e0c\u671b\u200b\u6062\u590d\u200b\u5230\u200b\u7684\u200b\u4fee\u8ba2\u200b\u7248\u672c\u200b\u7684\u200b\u7f16\u53f7\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u60a8\u200b\u8981\u200b\u6062\u590d\u200b\u5230\u200b\u7b2c\u200b 5 \u200b\u6b21\u200b\u4fee\u8ba2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u60a8\u200b\u5e94\u8be5\u200b\u8fd0\u884c\u200b\uff1a</p> Bash<pre><code>conda install --revision 5\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u4f1a\u200b\u628a\u200b\u6240\u6709\u200b\u7684\u200b\u5e93\u200b\u90fd\u200b\u6062\u590d\u200b\u5230\u200b\u7b2c\u200b 5 \u200b\u6b21\u200b\u4fee\u8ba2\u200b\u65f6\u200b\u7684\u200b\u72b6\u6001\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u4e8b\u9879\u200b</p> <p>\u200b\u867d\u7136\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e9b\u200b\u6ce8\u610f\u4e8b\u9879\u200b\u3002\u200b\u9996\u5148\u200b\uff0c\u200b\u5f53\u200b\u60a8\u200b\u56de\u6eda\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u5728\u200b\u8be5\u200b\u4fee\u8ba2\u200b\u7248\u672c\u200b\u4e4b\u540e\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\u90fd\u200b\u5c06\u200b\u88ab\u200b\u5220\u9664\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5982\u679c\u200b\u60a8\u200b\u5728\u200b\u7b2c\u200b5\u200b\u6b21\u200b\u4fee\u8ba2\u200b\u4e4b\u540e\u200b\u5b89\u88c5\u200b\u4e86\u200b\u65b0\u200b\u7684\u200b\u5e93\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u56de\u6eda\u200b\u5230\u200b\u7b2c\u200b5\u200b\u6b21\u200b\u4fee\u8ba2\u200b\u7248\u672c\u200b\u540e\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u5e93\u200b\u5c06\u200b\u4e0d\u518d\u200b\u5b58\u5728\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u56de\u6eda\u200b\u4e4b\u524d\u200b\uff0c\u200b\u6700\u597d\u200b\u5148\u200b\u5907\u4efd\u200b\u60a8\u200b\u7684\u200b\u73af\u5883\u200b\u3002</p> <p>\u200b\u5176\u6b21\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u53ea\u80fd\u200b\u56de\u6eda\u200b\u5230\u200b\u4e4b\u524d\u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u56de\u6eda\u200b\u5230\u200b\u672a\u6765\u200b\u7684\u200b\u7248\u672c\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5982\u679c\u200b\u60a8\u200b\u5df2\u7ecf\u200b\u56de\u6eda\u200b\u5230\u200b\u4e86\u200b\u7b2c\u200b5\u200b\u6b21\u200b\u4fee\u8ba2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u60a8\u200b\u4e0d\u80fd\u200b\u518d\u200b\u56de\u6eda\u200b\u5230\u200b\u7b2c\u200b6\u200b\u6b21\u200b\u4fee\u8ba2\u200b\u3002\u200b\u5982\u679c\u200b\u60a8\u200b\u60f3\u8981\u200b\u6062\u590d\u200b\u5230\u200b\u7b2c\u200b6\u200b\u6b21\u200b\u4fee\u8ba2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u60a8\u200b\u9700\u8981\u200b\u91cd\u65b0\u5b89\u88c5\u200b\u6240\u6709\u200b\u5728\u200b\u7b2c\u200b6\u200b\u6b21\u200b\u4fee\u8ba2\u200b\u7248\u672c\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u7684\u200b\u5e93\u200b\u3002</p>","tags":["Python"]},{"location":"blog/conda/#\u67e5\u770b-conda-config","title":"\u67e5\u770b\u200b conda config","text":"Bash<pre><code>conda config --show\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u5220\u9664\u73af\u5883","title":"\u5220\u9664\u200b\u73af\u5883","text":"Bash<pre><code>conda remove -n \u200b\u73af\u5883\u200b\u540d\u200b --all\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u91cd\u547d\u540d\u73af\u5883","title":"\u91cd\u547d\u540d\u200b\u73af\u5883","text":"<p>conda \u200b\u5176\u5b9e\u200b\u6ca1\u6709\u200b\u91cd\u547d\u540d\u200b\u6307\u4ee4\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u91cd\u547d\u540d\u200b\u662f\u200b\u901a\u8fc7\u200b clone \u200b\u5b8c\u6210\u200b\u7684\u200b\uff0c\u200b\u5206\u200b\u4e24\u6b65\u200b\uff1a</p> <ol> <li>\u200b\u5148\u200b clone \u200b\u4e00\u4efd\u200b new name \u200b\u7684\u200b\u73af\u5883\u200b</li> <li>\u200b\u5220\u9664\u200b old name \u200b\u7684\u200b\u73af\u5883\u200b</li> </ol> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5c06\u200b<code>old_env</code>\u200b\u91cd\u547d\u540d\u200b\u6210\u200b<code>new_env</code>\u3002\u200b\u9700\u8981\u200b\u5148\u200b\u5c06\u200b<code>old_env</code>\u200b\u514b\u9686\u200b\u4e00\u4efd\u200b\u5230\u200b<code>new_env</code>\u3002</p> Bash<pre><code>conda create -n new_env --clone old_env\n</code></pre> <p>\u200b\u518d\u200b\u5220\u9664\u200b\u539f\u200b\u73af\u5883\u200b</p> Bash<pre><code>conda remove -n old_env --all\n</code></pre>","tags":["Python"]},{"location":"blog/conda/#\u8fc1\u79fb\u73af\u5883","title":"\u8fc1\u79fb\u200b\u73af\u5883","text":"<p>\u200b\u8be6\u89c1\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p>","tags":["Python"]},{"location":"blog/conda/#conda-prompt-\u5728\u5f00\u59cb\u83dc\u5355\u65e0\u6cd5\u663e\u793a","title":"Conda Prompt \u200b\u5728\u200b\u5f00\u59cb\u83dc\u5355\u200b\u65e0\u6cd5\u200b\u663e\u793a","text":"Bash<pre><code>conda install console_shortcut\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://blog.csdn.net/weixin_41013322/article/details/103010748</p>","tags":["Python"]},{"location":"blog/conda/#jupyterlab-\u65e0\u6cd5\u68c0\u6d4b\u5230-conda-\u73af\u5883","title":"JupyterLab \u200b\u65e0\u6cd5\u200b\u68c0\u6d4b\u200b\u5230\u200b Conda \u200b\u73af\u5883","text":"<p>\u200b\u5148\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b <code>conda activate base</code>\uff0c\u200b\u518d\u200b\u8f93\u5165\u200b\uff1a</p> Bash<pre><code>ipython kernel install --user --name base\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://blog.csdn.net/dc0723/article/details/123718616</p>","tags":["Python"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/","title":"\u820d\u9009\u6cd5\u200b\u751f\u6210\u200b\u968f\u673a\u53d8\u91cf","text":"<p>\u200b\u9488\u5bf9\u200b\u79bb\u6563\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5224\u522b\u200b\u65b9\u6cd5\u200b\u751f\u6210\u200b\u968f\u673a\u53d8\u91cf\u200b\u3002\u200b\u9488\u5bf9\u200b\u8fde\u7eed\u53d8\u91cf\u200b\uff0c\u200b\u4f7f\u7528\u200b\u820d\u9009\u6cd5\u200b\u751f\u6210\u200b\u968f\u673a\u53d8\u91cf\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u5206\u5e03\u5f62\u72b6gamma21-\u968f\u673a\u6570","title":"\u5206\u5e03\u200b\u5f62\u72b6\u200b\uff1a\\(\\Gamma(2,1)\\) \u200b\u968f\u673a\u6570","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u820d\u9009\u6cd5\u7684\u7406\u8bba\u63a8\u5bfc","title":"\u820d\u9009\u6cd5\u200b\u7684\u200b\u7406\u8bba\u200b\u63a8\u5bfc","text":"Python<pre><code>import random\nimport numpy as np\nimport math\nimport matplotlib.pyplot as plt\nplt.rcParams[\"axes.unicode_minus\"] = False\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\n# \u200b\u5b57\u53f7\u200b\u5927\u5c0f\u200b\nplt.rcParams[\"font.size\"] = 16\n# \u200b\u6e32\u67d3\u200b\u516c\u5f0f\u200b\nplt.rcParams[\"text.usetex\"] = True\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u79bb\u6563\u53d8\u91cf\u751f\u6210-1-\u4e2a\u4e8c\u9879\u5206\u5e03\u968f\u673a\u6570\u7684\u7b97\u6cd5","title":"\u79bb\u6563\u200b\u53d8\u91cf\u200b\uff1a\u200b\u751f\u6210\u200b 1 \u200b\u4e2a\u200b\u4e8c\u9879\u5206\u5e03\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u7b97\u6cd5","text":"<ol> <li> <p>\u200b\u751f\u6210\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e0a\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u6570\u200b\\(U \\sim U(0,1)\\)\uff0c\u200b\u4e14\u200b\u4ee4\u200b\\(t=1\\)\uff1b</p> </li> <li> <p>\u200b\u5224\u65ad\u200b\\(U\\)\u200b\u662f\u5426\u200b\u5c0f\u4e8e\u200b\\(0.7\\)\uff0c\u200b\u82e5\u200b\u662f\u200b\uff0c\u200b\u5219\u200b\\(X_t=1\\)\uff0c\u200b\u5426\u5219\u200b\\(X_t=0\\)\uff0c\u200b\u5e76\u4ee4\u200b\\(t=t+1\\)\uff1b</p> </li> <li> <p>\u200b\u82e5\u200b\\(t&gt;n\\)\uff0c\u200b\u5219\u200b\u9000\u51fa\u200b\u5faa\u73af\u200b\uff0c\u200b\u8fd4\u56de\u200b\\(\\sum_{t=1}^{n} X_t\\)\uff0c\u200b\u5426\u5219\u200b\u91cd\u590d\u200b\u6b65\u9aa4\u200b 1 \u200b\u548c\u200b 2\uff1b</p> </li> </ol> Python<pre><code>def random_binomial(n, p):\nsuccess = 0\nfor i in range(n):\nif random.uniform(0, 1) &lt;= p:\nsuccess += 1\nreturn success\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u751f\u6210-500-\u4e2a\u670d\u4ece-b100-07-\u7684\u4e8c\u9879\u5206\u5e03\u968f\u673a\u6570","title":"\u751f\u6210\u200b 500 \u200b\u4e2a\u200b\u670d\u4ece\u200b b(100, 0.7) \u200b\u7684\u200b\u4e8c\u9879\u5206\u5e03\u200b\u968f\u673a\u6570","text":"Python<pre><code>number_of_random_variavles = 500\nn = 100\np = 0.7\nrandom_binomial_list = []\nfor i in range(number_of_random_variavles):\nrandom_binomial_list.append(random_binomial(n, p))\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u7ed8\u5236\u968f\u673a\u6570\u7684\u67f1\u72b6\u56fe","title":"\u7ed8\u5236\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u67f1\u72b6\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(10, 6))\nax = fig.add_subplot(111)\nax.bar(range(0, n + 1), [random_binomial_list.count(i) for i in range(0, n + 1)])\n</code></pre> Text Only<pre><code>## &lt;BarContainer object of 101 artists&gt;\n</code></pre> Python<pre><code>ax.set_xlabel(r\"$Binomial(100, 0.7)$\")\nax.set_ylabel(\"Count\", usetex=False)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u8fde\u7eed\u53d8\u91cf\u820d\u9009\u6cd5","title":"\u8fde\u7eed\u53d8\u91cf\u200b\uff1a\u200b\u820d\u9009\u6cd5","text":"<p>\u200b\u7528\u820d\u200b\u9009\u6cd5\u200b\u751f\u6210\u200b 500 \u200b\u4e2a\u200b\u53d6\u503c\u200b\u5927\u4e8e\u200b 5 \u200b\u7684\u200b\\(\\Gamma(2, 1)\\)\u200b\u968f\u673a\u6570\u200b\uff0c\u200b\u5176\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ p(x)=\\frac{x e^{-x} 1\\{x \\geq 5\\}}{\\int_5^{\\infty} u e^{-u} d u} \\]","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u5b9a\u4e49\u51fd\u6570\u751f\u6210\u6307\u6570\u5206\u5e03\u968f\u673a\u6570","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u751f\u6210\u200b\u6307\u6570\u5206\u5e03\u200b\u968f\u673a\u6570","text":"Python<pre><code>def rondom_exponential(lambd):\nreturn -math.log(1 - random.uniform(0, 1)) / lambd + 5\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u5b9a\u4e49\u51fd\u6570\u751f\u6210gamma\u5206\u5e03\u968f\u673a\u6570","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u751f\u6210\u200b\\(\\Gamma\\)\u200b\u5206\u5e03\u200b\u968f\u673a\u6570","text":"Python<pre><code>def rondom_gamma():\niteration = 0\nwhile True:\niteration += 1\nx = rondom_exponential(0.5)\nu = random.uniform(0, 1)\nh_x = (1 / 5) * math.exp((5 - x) / 2) * x\nif u &lt;= h_x:\nreturn x, iteration\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u751f\u6210\u53d6\u503c\u5927\u4e8e-5-\u7684gamma21\u968f\u673a\u6570","title":"\u751f\u6210\u200b\u53d6\u503c\u200b\u5927\u4e8e\u200b 5 \u200b\u7684\u200b\\(\\Gamma(2,1)\\)\u200b\u968f\u673a\u6570","text":"Python<pre><code>number_of_random_variavles = 500\nalpha = 2\nbeta = 1\nrondom_gamma_list = []\ntotal_iteration = 0\nfor i in range(number_of_random_variavles):\nrondom_gamma_list.append(rondom_gamma()[0])\ntotal_iteration += rondom_gamma()[1]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u7ed8\u5236\u968f\u673a\u6570\u7684\u67f1\u72b6\u56fe_1","title":"\u7ed8\u5236\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u67f1\u72b6\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(10, 6))\nax = fig.add_subplot(111)\nax.hist(rondom_gamma_list, bins=50)\n</code></pre> Text Only<pre><code>## (array([76., 44., 41., 37., 39., 27., 29., 28., 19., 21., 12., 17., 13.,\n##         8.,  9.,  8.,  6.,  7., 10.,  5.,  5.,  3.,  4.,  1.,  3.,  3.,\n##         3.,  6.,  1.,  2.,  2.,  2.,  1.,  2.,  1.,  0.,  1.,  1.,  0.,\n##         0.,  0.,  0.,  0.,  0.,  1.,  1.,  0.,  0.,  0.,  1.]), array([ 5.00354213,  5.15295126,  5.3023604 ,  5.45176953,  5.60117866,\n##         5.7505878 ,  5.89999693,  6.04940606,  6.19881519,  6.34822433,\n##         6.49763346,  6.64704259,  6.79645172,  6.94586086,  7.09526999,\n##         7.24467912,  7.39408825,  7.54349739,  7.69290652,  7.84231565,\n##         7.99172479,  8.14113392,  8.29054305,  8.43995218,  8.58936132,\n##         8.73877045,  8.88817958,  9.03758871,  9.18699785,  9.33640698,\n##         9.48581611,  9.63522524,  9.78463438,  9.93404351, 10.08345264,\n##        10.23286177, 10.38227091, 10.53168004, 10.68108917, 10.83049831,\n##        10.97990744, 11.12931657, 11.2787257 , 11.42813484, 11.57754397,\n##        11.7269531 , 11.87636223, 12.02577137, 12.1751805 , 12.32458963,\n##        12.47399876]), &lt;BarContainer object of 50 artists&gt;)\n</code></pre> Python<pre><code>ax.set_xlabel(r\"$Gamma(2, 1)$\")\n# x \u200b\u8f74\u200b\u523b\u5ea6\u200b\nax.set_xticks(np.arange(5, 15, 1))\nax.set_ylabel(\"Count\", usetex=False)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/acceptance-rejection-method-for-generating-random-variables/#\u8f93\u51fa\u603b\u8fed\u4ee3\u6b21\u6570\u548c\u5b9e\u9645\u63a5\u53d7\u7387","title":"\u8f93\u51fa\u200b\u603b\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u548c\u200b\u5b9e\u9645\u200b\u63a5\u53d7\u200b\u7387","text":"Python<pre><code>print(\"\u200b\u603b\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\uff1a\", total_iteration)\n</code></pre> Text Only<pre><code>## \u200b\u603b\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\uff1a 789\n</code></pre> Python<pre><code>print(\"\u200b\u5b9e\u9645\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a{:.2%}\".format(number_of_random_variavles / total_iteration))\n</code></pre> Text Only<pre><code>## \u200b\u5b9e\u9645\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a63.37%\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/box-muller-transformation/","title":"Box-Muller \u200b\u53d8\u6362\u200b\u6cd5\u200b\u751f\u6210\u200b\u6b63\u6001\u5206\u5e03\u200b\u968f\u673a\u6570","text":"<p>Box-Muller \u200b\u53d8\u6362\u200b\u662f\u200b\u4e00\u79cd\u200b\u91c7\u6837\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u901a\u8fc7\u200b\u670d\u4ece\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u53d8\u91cf\u200b\uff0c\u200b\u6765\u200b\u6784\u5efa\u200b\u670d\u4ece\u200b\u9ad8\u65af\u5206\u5e03\u200b\u7684\u200b\u6837\u672c\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/box-muller-transformation/#\u53d8\u6362\u6cd5\u751f\u6210\u968f\u673a\u6570","title":"\u53d8\u6362\u200b\u6cd5\u200b\u751f\u6210\u200b\u968f\u673a\u6570","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/box-muller-transformation/#box-muller-\u53d8\u6362\u7684\u7406\u8bba\u63a8\u5bfc","title":"Box-Muller \u200b\u53d8\u6362\u200b\u7684\u200b\u7406\u8bba\u200b\u63a8\u5bfc","text":"<p>\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p> <p></p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/regression-using-adaboost/","title":"\u4f7f\u7528\u200b AdaBoost \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b","text":"<p>AdaBoost \u200b\u662f\u200b\u4e00\u79cd\u200b\u81ea\u200b\u9002\u5e94\u200b\u63d0\u5347\u200b\u7684\u200b\u6811\u200b\u6a21\u578b\u200b\uff0c\u200b\u5b83\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u9519\u8bef\u200b\u7684\u200b\u6837\u672c\u200b\u589e\u52a0\u200b\u6743\u91cd\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u3002</p> <p> </p> AdaBoost \u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\u968f\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u7684\u200b\u53d8\u5316\u200b <p>\u200b\u6570\u636e\u200b\u96c6\u200b HousePrices \u200b\u5305\u542b\u200b\u4e86\u200b\u7f8e\u56fd\u200b Iowa \u200b\u5dde\u200b Ames \u200b\u5730\u533a\u200b\u4f4f\u5b85\u200b\u7684\u200b\u4ef7\u683c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u8fd9\u4e9b\u200b\u4f4f\u5b85\u200b\u7684\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5305\u62ec\u200b\u5efa\u9020\u200b\u65f6\u95f4\u200b\u3001\u200b\u623f\u9876\u200b\u6750\u6599\u200b\u3001\u200b\u8f66\u5e93\u200b\u9762\u79ef\u200b\u7b49\u7b49\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8be5\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u6709\u200b 1100 \u200b\u5927\u5c0f\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u548c\u200b 360 \u200b\u5927\u5c0f\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b AdaBoost \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7528\u200b\u623f\u5b50\u200b\u7684\u200b\u7279\u5f81\u200b\u6765\u200b\u9884\u6d4b\u200b\u623f\u5b50\u200b\u7684\u200b\u552e\u4ef7\u200b\u3002</p> Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import FuncFormatter\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\nfrom scipy.stats import pearsonr\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.feature_selection import VarianceThreshold\nfrom sklearn.feature_extraction import FeatureHasher\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import AdaBoostRegressor\nfrom sklearn import metrics\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\ntrain = pd.read_excel(\"HousePrices.xlsx\", sheet_name=\"train\", engine=\"openpyxl\")\ntest = pd.read_excel(\n\"HousePrices.xlsx\", sheet_name=\"test\", header=None, engine=\"openpyxl\"\n)\ntest.columns = train.columns\nx_train = train.drop([\"SalePrice\"], axis=1)\ny_train = train[\"SalePrice\"]\nx_test = test.drop([\"SalePrice\"], axis=1)\ny_test = test[\"SalePrice\"]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u5904\u7406\u7f3a\u5931\u503c","title":"\u5904\u7406\u200b\u7f3a\u5931\u200b\u503c","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u67e5\u770b\u7f3a\u5931\u503c","title":"\u67e5\u770b\u200b\u7f3a\u5931\u200b\u503c","text":"Python<pre><code>column_with_null = x_train[x_train.columns[x_train.isna().any()]].isnull().sum()\nprint(column_with_null)\n</code></pre> Text Only<pre><code>## LotFrontage      192\n## Alley           1031\n## MasVnrType         6\n## MasVnrArea         6\n## BsmtQual          31\n## BsmtCond          31\n## BsmtExposure      32\n## BsmtFinType1      31\n## BsmtFinType2      32\n## FireplaceQu      524\n## GarageType        61\n## GarageYrBlt       61\n## GarageFinish      61\n## GarageQual        61\n## GarageCond        61\n## PoolQC          1098\n## Fence            892\n## MiscFeature     1054\n## dtype: int64\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u9002\u5408\u7528\u5747\u503c\u586b\u5145\u7684\u5217","title":"\u9002\u5408\u200b\u7528\u200b\u5747\u503c\u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\uff1a","text":"Python<pre><code># \u200b\u9002\u5408\u200b\u7528\u200b\u5747\u503c\u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\nfillna_with_mean = [\"LotFrontage\", \"MasVnrArea\", \"GarageYrBlt\"]\nfor col in fillna_with_mean:\nx_train[col].fillna(x_train[col].mean(), inplace=True)\nx_test[col].fillna(x_test[col].mean(), inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u9002\u5408\u7528none\u586b\u5145\u7684\u5217","title":"\u9002\u5408\u200b\u7528\u200b<code>'None'</code>\u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\uff1a","text":"Python<pre><code># \u200b\u9002\u5408\u200b\u7528\u200b None \u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\nfillna_with_none = list(set(x_train.columns) - set(fillna_with_mean))\nfor col in fillna_with_none:\nx_train[col].fillna(\"None\", inplace=True)\nx_test[col].fillna(\"None\", inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u7279\u5f81\u7f16\u7801","title":"\u7279\u5f81\u200b\u7f16\u7801","text":"<p>\u200b\u5927\u90e8\u5206\u200b\u7279\u5f81\u200b\u5747\u200b\u4e3a\u200b\u6587\u672c\u200b\u578b\u200b\uff0c\u200b\u4e14\u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u65e0\u5e8f\u200b\u7684\u200b\u6587\u672c\u200b\u503c\u200b\u3002\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6587\u672c\u200b\u503c\u200b\u901a\u8fc7\u200b\u54c8\u5e0c\u200b\u7f16\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u4e8e\u200b\u540e\u7eed\u200b\u7684\u200b\u5efa\u6a21\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b<code>n_features</code>\u200b\u53c2\u6570\u200b\u63a7\u5236\u200b\u54c8\u5e0c\u200b\u7f16\u7801\u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u5c06\u200b\u7ef4\u5ea6\u200b\u8bbe\u200b\u4e3a\u200b 2\uff0c\u200b\u5373\u5c06\u200b\u6587\u672c\u200b\u503c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e8c\u7ef4\u200b\u7684\u200b\u6570\u503c\u200b\u578b\u200b\u7279\u5f81\u200b\u3002\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u7684\u200b\u7279\u5f81\u200b\u6700\u591a\u200b\u6709\u200b 10 \u200b\u4f59\u4e2a\u200b\u552f\u4e00\u200b\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e8c\u7ef4\u200b\u54c8\u5e0c\u200b\u503c\u200b\u8db3\u4ee5\u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u7684\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\u3002</p> Python<pre><code># \u200b\u6587\u672c\u200b\u7279\u5f81\u200b\u7684\u200b\u5217\u200b\ntext_features = list(x_train.columns[x_train.dtypes == \"object\"])\n# # \u200b\u54c8\u5e0c\u200b\u7f16\u7801\u5668\u200b\nfor col in text_features:\nhash_encoder = FeatureHasher(n_features=2, input_type=\"string\")\n# \u200b\u5bf9\u200b\u539f\u59cb\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\uff0c\u200b\u5f97\u5230\u200b\u54c8\u5e0c\u200b\u503c\u200b\u6570\u7ec4\u200b\nx_train_col_hashed = hash_encoder.fit_transform(x_train[col]).toarray()\nx_test_col_hashed = hash_encoder.transform(x_test[col]).toarray()\n# \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u636e\u200b\u6846\u200b\nx_train_col_hashed = pd.DataFrame(\nx_train_col_hashed, columns=[col + \"_\" + str(i) for i in range(1, 2 + 1)]\n)\nx_test_col_hashed = pd.DataFrame(\nx_test_col_hashed, columns=[col + \"_\" + str(i) for i in range(1, 2 + 1)]\n)\n# \u200b\u5220\u9664\u200b\u539f\u6709\u200b\u7684\u200b\u6587\u672c\u200b\u7279\u5f81\u200b\nx_train.drop(col, axis=1, inplace=True)\nx_test.drop(col, axis=1, inplace=True)\n# \u200b\u5c06\u200b\u54c8\u5e0c\u200b\u7f16\u7801\u200b\u540e\u200b\u7684\u200b\u7279\u5f81\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\nx_train = pd.concat([x_train, x_train_col_hashed], axis=1)\nx_test = pd.concat([x_test, x_test_col_hashed], axis=1)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u7279\u5f81\u9009\u62e9","title":"\u7279\u5f81\u9009\u62e9","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u79fb\u9664\u4f4e\u65b9\u5dee\u7279\u5f81","title":"\u79fb\u9664\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u5220\u9664\u200b id \u200b\u5217\u200b\nx_train.drop([\"Id\"], axis=1, inplace=True)\nx_test.drop([\"Id\"], axis=1, inplace=True)\n# \u200b\u5c06\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u6700\u5c0f\u200b\u6700\u5927\u200b\u5f52\u4e00\u5316\u200b\nscaler = MinMaxScaler()\nx_train = pd.DataFrame(\nscaler.fit_transform(x_train), index=x_train.index, columns=x_train.columns\n)\nx_test = pd.DataFrame(\nscaler.transform(x_test), index=x_test.index, columns=x_test.columns\n)\n# \u200b\u79fb\u9664\u200b\u4f4e\u200b\u65b9\u5dee\u200b\uff08\u200b\u5f52\u4e00\u5316\u200b\u540e\u200b\u65b9\u5dee\u200b\u5c0f\u4e8e\u200b 0.005\uff09\u200b\u7279\u5f81\u200b\nselector = VarianceThreshold(threshold=0.005)\nselector.fit(x_train)\n# \u200b\u6253\u5370\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7684\u200b\u7279\u5f81\u200b\n</code></pre> Text Only<pre><code>## VarianceThreshold(threshold=0.005)\n</code></pre> Python<pre><code>print(\"\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7279\u5f81\u200b\uff1a\", x_train.columns[~selector.get_support()])\n</code></pre> Text Only<pre><code>## \u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7279\u5f81\u200b\uff1a Index(['LotArea', '3SsnPorch', 'PoolArea', 'MiscVal', 'Street_1', 'Street_2',\n##        'Utilities_1', 'Utilities_2', 'Condition2_1', 'Condition2_2',\n##        'RoofMatl_1', 'Foundation_2', 'Heating_2', 'CentralAir_1',\n##        'CentralAir_2', 'PavedDrive_1', 'PavedDrive_2', 'PoolQC_1', 'PoolQC_2',\n##        'MiscFeature_1', 'MiscFeature_2'],\n##       dtype='object')\n</code></pre> Python<pre><code>x_train = x_train.loc[:, selector.get_support()]\nx_test = x_test.loc[:, selector.get_support()]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u79fb\u9664\u9ad8\u76f8\u5173\u7279\u5f81\u4e2d\u65b9\u5dee\u8f83\u4f4e\u7684\u90a3\u4e00\u4e2a","title":"\u79fb\u9664\u200b\u9ad8\u200b\u76f8\u5173\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u90a3\u200b\u4e00\u4e2a","text":"<p>\u200b\u7531\u4e8e\u200b\u7279\u5f81\u200b\u53d8\u91cf\u200b\u4f17\u591a\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u518d\u200b\u7ed8\u5236\u200b\u76f8\u5173\u7cfb\u6570\u200b\u70ed\u200b\u529b\u56fe\u200b\u3002</p> Python<pre><code>corr = x_train.corr()\n# \u200b\u6253\u5370\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\ncorr = corr.abs()\ncorr = corr.where(np.triu(np.ones(corr.shape), k=1).astype(bool))\ncorr = corr.stack()\ncorr = corr[corr &gt; 0.8]\nprint(\"\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", [i for i in corr.index])\n# \u200b\u4ece\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u79fb\u9664\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\n</code></pre> Text Only<pre><code>## \u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b0.8\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a [('TotalBsmtSF', '1stFlrSF'), ('GrLivArea', 'TotRmsAbvGrd'), ('Fireplaces', 'FireplaceQu_1'), ('GarageCars', 'GarageArea'), ('LotShape_1', 'LotShape_2'), ('LandContour_1', 'LandContour_2'), ('LotConfig_1', 'LotConfig_2'), ('RoofStyle_1', 'RoofStyle_2'), ('Exterior1st_1', 'Exterior2nd_1'), ('Exterior1st_2', 'Exterior2nd_2'), ('ExterQual_1', 'ExterQual_2'), ('ExterCond_1', 'ExterCond_2'), ('BsmtQual_1', 'BsmtQual_2'), ('BsmtCond_1', 'BsmtCond_2'), ('HeatingQC_1', 'HeatingQC_2'), ('Electrical_1', 'Electrical_2'), ('KitchenQual_1', 'KitchenQual_2'), ('GarageType_1', 'GarageFinish_1'), ('GarageType_1', 'GarageQual_1'), ('GarageType_1', 'GarageCond_1'), ('GarageType_1', 'GarageCond_2'), ('GarageFinish_1', 'GarageQual_1'), ('GarageFinish_1', 'GarageCond_1'), ('GarageFinish_1', 'GarageCond_2'), ('GarageQual_1', 'GarageQual_2'), ('GarageQual_1', 'GarageCond_1'), ('GarageQual_1', 'GarageCond_2'), ('GarageQual_2', 'GarageCond_1'), ('GarageCond_1', 'GarageCond_2')]\n</code></pre> Python<pre><code>feature_to_remove = []\ncorr = corr.reset_index()\ncorr.columns = [\"feature1\", \"feature2\", \"corr\"]\nfor row in corr.itertuples():\nif x_train[row.feature1].var() &lt; x_train[row.feature2].var():\nfeature_to_remove.append(row.feature1)\nelse:\nfeature_to_remove.append(row.feature2)\nfeature_to_remove = list(set(feature_to_remove))\nprint(\"\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", feature_to_remove)\n</code></pre> Text Only<pre><code>## \u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b0.8\u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a ['ExterQual_2', 'BsmtCond_1', 'GrLivArea', 'GarageType_1', 'Exterior1st_1', '1stFlrSF', 'GarageQual_2', 'LotShape_1', 'HeatingQC_1', 'GarageCond_1', 'LandContour_2', 'ExterCond_2', 'RoofStyle_2', 'Electrical_2', 'BsmtQual_1', 'GarageFinish_1', 'KitchenQual_2', 'Fireplaces', 'Exterior2nd_2', 'GarageArea', 'LotConfig_1', 'GarageCond_2']\n</code></pre> Python<pre><code>x_train.drop(feature_to_remove, axis=1, inplace=True)\nx_test.drop(feature_to_remove, axis=1, inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u79fb\u9664\u4e0e\u6807\u7b7e\u76f8\u5173\u6027\u8f83\u4f4e\u7684\u7279\u5f81","title":"\u79fb\u9664\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u79fb\u9664\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b 0.02 \u200b\u7684\u200b\u7279\u5f81\u200b\nfeature_to_remove = []\nfor i in x_train.columns:\npearson_corr = pearsonr(x_train[i], y_train)[0]\nif abs(pearson_corr) &lt; 0.02:\nfeature_to_remove.append(i)\nprint(\"\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b 0.02 \u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", feature_to_remove)\n</code></pre> Text Only<pre><code>## \u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b0.02\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a ['BsmtFinSF2', 'LandContour_1', 'Exterior2nd_1', 'Functional_2']\n</code></pre> Python<pre><code>x_train.drop(feature_to_remove, axis=1, inplace=True)\nx_test.drop(feature_to_remove, axis=1, inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u6700\u7ec8\u9009\u62e9\u7684\u7279\u5f81","title":"\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u6253\u5370\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b\nprint(\"\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b\", x_train.columns.values)\n</code></pre> Text Only<pre><code>## \u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b ['MSSubClass' 'LotFrontage' 'OverallQual' 'OverallCond' 'YearBuilt'\n##  'YearRemodAdd' 'MasVnrArea' 'BsmtFinSF1' 'BsmtUnfSF' 'TotalBsmtSF'\n##  '2ndFlrSF' 'LowQualFinSF' 'BsmtFullBath' 'BsmtHalfBath' 'FullBath'\n##  'HalfBath' 'BedroomAbvGr' 'KitchenAbvGr' 'TotRmsAbvGrd' 'GarageYrBlt'\n##  'GarageCars' 'WoodDeckSF' 'OpenPorchSF' 'EnclosedPorch' 'ScreenPorch'\n##  'MoSold' 'YrSold' 'MSZoning_1' 'MSZoning_2' 'Alley_1' 'Alley_2'\n##  'LotShape_2' 'LotConfig_2' 'LandSlope_1' 'LandSlope_2' 'Neighborhood_1'\n##  'Neighborhood_2' 'Condition1_1' 'Condition1_2' 'BldgType_1' 'BldgType_2'\n##  'HouseStyle_1' 'HouseStyle_2' 'RoofStyle_1' 'RoofMatl_2' 'Exterior1st_2'\n##  'MasVnrType_1' 'MasVnrType_2' 'ExterQual_1' 'ExterCond_1' 'Foundation_1'\n##  'BsmtQual_2' 'BsmtCond_2' 'BsmtExposure_1' 'BsmtExposure_2'\n##  'BsmtFinType1_1' 'BsmtFinType1_2' 'BsmtFinType2_1' 'BsmtFinType2_2'\n##  'Heating_1' 'HeatingQC_2' 'Electrical_1' 'KitchenQual_1' 'Functional_1'\n##  'FireplaceQu_1' 'FireplaceQu_2' 'GarageType_2' 'GarageFinish_2'\n##  'GarageQual_1' 'Fence_1' 'Fence_2' 'SaleType_1' 'SaleType_2'\n##  'SaleCondition_1' 'SaleCondition_2']\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u6784\u5efa-adaboost-\u5206\u7c7b\u5668","title":"\u6784\u5efa\u200b AdaBoost \u200b\u5206\u7c7b\u5668","text":"Python<pre><code>adaboost_reg = AdaBoostRegressor(\nDecisionTreeRegressor(max_depth=5), n_estimators=100, learning_rate=0.1\n)\nadaboost_reg.fit(x_train, y_train)\n</code></pre> Text Only<pre><code>## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=100)\n</code></pre> Python<pre><code>y_pred = adaboost_reg.predict(x_test)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u6a21\u578b\u8bc4\u4ef7","title":"\u6a21\u578b\u200b\u8bc4\u4ef7","text":"Python<pre><code># \u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\ndef evaluate(y_test, y_pred):\nprint(\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff1a\", metrics.mean_squared_error(y_test, y_pred))\nprint(\n\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff1a{:.2%}\".format(metrics.mean_absolute_percentage_error(y_test, y_pred))\n)\nevaluate(y_test, y_pred)\n</code></pre> Text Only<pre><code>## \u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff1a 1275104869.1093407\n## \u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff1a12.84%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u53c2\u6570\u8c03\u4f18\u8fed\u4ee3\u6b21\u6570","title":"\u53c2\u6570\u200b\u8c03\u4f18\u200b\uff1a\u200b\u8fed\u4ee3\u200b\u6b21\u6570","text":"<p>\u200b\u7531\u4e8e\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u8f83\u4e45\u200b\uff0c\u200b\u5728\u200b\u6b64\u200b\u535a\u6587\u200b\u4e2d\u200b\u5bf9\u200b n_estimators \u200b\u7684\u200b\u8303\u56f4\u200b\u4e0d\u8bbe\u200b\u5f97\u200b\u8fc7\u4e8e\u200b\u5bc6\u96c6\u200b\u3002</p> Python<pre><code>n_estimators_range = range(100, 2001, 300)\nmean_squared_error_list = []\nmean_absolute_percentage_error_list = []\nfor n_estimators in n_estimators_range:\nadaboost_reg = AdaBoostRegressor(\nDecisionTreeRegressor(max_depth=5), n_estimators=n_estimators, learning_rate=0.1\n)\nadaboost_reg.fit(x_train, y_train)\ny_pred = adaboost_reg.predict(x_test)\nmean_squared_error_list.append(metrics.mean_squared_error(y_test, y_pred))\nmean_absolute_percentage_error_list.append(\nmetrics.mean_absolute_percentage_error(y_test, y_pred)\n)\n</code></pre> Text Only<pre><code>## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=100)\n## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=400)\n## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=700)\n## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=1000)\n## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=1300)\n## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=1600)\n## AdaBoostRegressor(base_estimator=DecisionTreeRegressor(max_depth=5),\n##                   learning_rate=0.1, n_estimators=1900)\n</code></pre> Python<pre><code>def to_percent(temp, position):\nreturn \"%1.1f\" % (100 * temp) + \"%\"\n# \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u6d4b\u8bd5\u200b\u8bef\u5dee\u200b\u7684\u200b\u5173\u7cfb\u200b\u56fe\u200b\nfig = plt.figure(figsize=(9, 6), dpi=200)\nax1 = fig.add_subplot(111)\nax1.plot(\nn_estimators_range,\nmean_squared_error_list,\n\"r-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff08\u200b\u5de6\u8f74\u200b\uff09\",\n)\nax1.set_xlabel(\"AdaBoost \u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\")\nax1.set_ylabel(\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\")\nax2 = ax1.twinx()\nax2.plot(\nn_estimators_range,\nmean_absolute_percentage_error_list,\n\"b-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff08\u200b\u53f3\u8f74\u200b\uff09\",\n)\nax2.set_ylabel(\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\", rotation=270, labelpad=15)\n# y \u200b\u8f74\u200b\u767e\u5206\u6bd4\u200b\nax2.yaxis.set_major_formatter(FuncFormatter(to_percent))\nfig.legend(loc=1, bbox_to_anchor=(0.88, 0.85))\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5f53\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u589e\u52a0\u200b\u5230\u200b 1000 \u200b\u5de6\u53f3\u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\u57fa\u672c\u200b\u7a33\u5b9a\u200b\u5728\u200b 11.8% \u200b\u5de6\u53f3\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5c06\u200b\u6700\u597d\u200b\u7684\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u8bbe\u200b\u4e3a\u200b 1000\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-adaboost/#\u4e0e\u51b3\u7b56\u6811\u505a\u5bf9\u6bd4","title":"\u4e0e\u200b\u51b3\u7b56\u6811\u200b\u505a\u200b\u5bf9\u6bd4","text":"Python<pre><code>max_depth_range = range(2, 21)\nmean_squared_error_list_decision_tree = []\nmean_absolute_percentage_error_list_decision_tree = []\nfor max_depth in max_depth_range:\ndecision_tree_reg = DecisionTreeRegressor(max_depth=max_depth)\ndecision_tree_reg.fit(x_train, y_train)\ny_pred = decision_tree_reg.predict(x_test)\nmean_squared_error_list_decision_tree.append(\nmetrics.mean_squared_error(y_test, y_pred)\n)\nmean_absolute_percentage_error_list_decision_tree.append(\nmetrics.mean_absolute_percentage_error(y_test, y_pred)\n)\n</code></pre> Text Only<pre><code>## DecisionTreeRegressor(max_depth=2)\n## DecisionTreeRegressor(max_depth=3)\n## DecisionTreeRegressor(max_depth=4)\n## DecisionTreeRegressor(max_depth=5)\n## DecisionTreeRegressor(max_depth=6)\n## DecisionTreeRegressor(max_depth=7)\n## DecisionTreeRegressor(max_depth=8)\n## DecisionTreeRegressor(max_depth=9)\n## DecisionTreeRegressor(max_depth=10)\n## DecisionTreeRegressor(max_depth=11)\n## DecisionTreeRegressor(max_depth=12)\n## DecisionTreeRegressor(max_depth=13)\n## DecisionTreeRegressor(max_depth=14)\n## DecisionTreeRegressor(max_depth=15)\n## DecisionTreeRegressor(max_depth=16)\n## DecisionTreeRegressor(max_depth=17)\n## DecisionTreeRegressor(max_depth=18)\n## DecisionTreeRegressor(max_depth=19)\n## DecisionTreeRegressor(max_depth=20)\n</code></pre> Python<pre><code># \u200b\u7ed8\u5236\u200b\u51b3\u7b56\u6811\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\u4e0e\u200b\u6d4b\u8bd5\u200b\u8bef\u5dee\u200b\u7684\u200b\u5173\u7cfb\u200b\u56fe\u200b\nfig = plt.figure(figsize=(9, 6), dpi=200)\nax1 = fig.add_subplot(111)\nax1.plot(\nmax_depth_range,\nmean_squared_error_list_decision_tree,\n\"r-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff08\u200b\u5de6\u8f74\u200b\uff09\",\n)\nax1.set_xticks(max_depth_range)\nax1.set_xlabel(\"\u200b\u51b3\u7b56\u6811\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\")\nax1.set_ylabel(\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\")\nax2 = ax1.twinx()\nax2.plot(\nmax_depth_range,\nmean_absolute_percentage_error_list_decision_tree,\n\"b-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff08\u200b\u53f3\u8f74\u200b\uff09\",\n)\nax2.set_ylabel(\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\", rotation=270, labelpad=15)\n# y \u200b\u8f74\u200b\u767e\u5206\u6bd4\u200b\nax2.yaxis.set_major_formatter(FuncFormatter(to_percent))\nfig.legend(loc=1, bbox_to_anchor=(0.88, 0.85))\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u51b3\u7b56\u6811\u200b\u4e2d\u200b\u6700\u5927\u6570\u200b\u6df1\u5ea6\u200b\u5927\u4e8e\u200b 5 \u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u5f00\u59cb\u200b\u51fa\u73b0\u200b\u8fc7\u200b\u62df\u5408\u200b\u73b0\u8c61\u200b\u3002\u200b\u6700\u4f18\u200b\u7684\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\u4e3a\u200b 5\uff0c\u200b\u6b64\u65f6\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\u7ea6\u200b\u4e3a\u200b 15%\uff0c\u200b\u9ad8\u4e8e\u200b AdaBoost \u200b\u6a21\u578b\u200b\u7684\u200b 11.8%\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/adaboost-classification/","title":"AdaBoost \u200b\u5206\u7c7b\u200b\u539f\u7406","text":"<p>\u200b\u8bdd\u8bed\u6743\u200b\uff08Amount of say\uff09\u3001\u200b\u6743\u91cd\u200b\u66f4\u65b0\u200b\uff0c\u200b\u662f\u200b AdaBoost \u200b\u4e2d\u200b\u5341\u5206\u200b\u91cd\u8981\u200b\u7684\u200b\u4e24\u4e2a\u200b\u6982\u5ff5\u200b\u3002</p> <p>StatQuest \u200b\u9891\u9053\u200b\u7684\u200b\u89c6\u9891\u200b\u8bb2\u5f97\u200b\u975e\u5e38\u200b\u8d5e\u200b\uff0c\u200b\u8ddf\u7740\u200b\u8fc7\u200b\u4e00\u904d\u200b\u5c31\u200b\u80fd\u200b\u5f04\u61c2\u200b AdaBoost \u200b\u7684\u200b\u539f\u7406\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u5e7b\u706f\u7247\u200b\u4e0a\u200b\u6666\u6da9\u200b\u96be\u61c2\u200b\u7684\u200b\u516c\u5f0f\u200b\u3002</p> <p>\u200b\u8bf4\u5b9e\u8bdd\u200b\uff0c\u200b\u6211\u200b\u4e00\u76f4\u200b\u8ba4\u4e3a\u200b\u6559\u5b66\u200b\u6700\u200b\u9700\u8981\u200b\u7528\u200b\u7b80\u5355\u200b\u3001\u200b\u76f4\u767d\u200b\u3001\u200b\u56fe\u50cf\u200b\u5316\u200b\u7684\u200b\u5f62\u5f0f\u200b\u3002\u200b\u5bf9\u200b\u6211\u200b\u6765\u8bf4\u200b\uff0c\u200b\u8001\u5e08\u200b\u5199\u200b\u7684\u200b\u8bb8\u591a\u200b\u677f\u4e66\u200b\u3001\u200b\u5ff5\u200b\u7684\u200b\u8bb8\u591a\u200b\u516c\u5f0f\u200b\uff0c\u200b\u5728\u200b\u6211\u200b\u8111\u5b50\u91cc\u200b\u90fd\u200b\u9700\u8981\u200b\u5148\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u56fe\u50cf\u200b\u624d\u80fd\u200b\u7406\u89e3\u200b\u3002\u200b\u5982\u679c\u200b\u5168\u4e16\u754c\u200b\u7684\u200b\u8001\u5e08\u200b\u90fd\u200b\u80fd\u200b\u50cf\u200b StatQuest \u200b\u8fd9\u6837\u200b\u6559\u5b66\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b66\u200b\u4e00\u4e2a\u200b\u77e5\u8bc6\u200b\u5e76\u4e0d\u9700\u8981\u200b\u591a\u4e45\u200b\uff0c\u200b\u4e5f\u200b\u4e00\u5b9a\u200b\u4e0d\u4f1a\u200b\u5f88\u200b\u75db\u82e6\u200b\u3002</p> <p>\u200b\u4e34\u8fd1\u200b\u671f\u672b\u200b\uff0c\u200b\u6ca1\u6709\u200b\u65f6\u95f4\u200b\u6574\u7406\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u6682\u65f6\u200b\u5148\u200b\u8bb0\u4e0b\u200b\u8fd9\u4e2a\u200b\u5b9d\u8d35\u200b\u7684\u200b\u89c6\u9891\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/edit-markdown-file-using-python/","title":"Python \u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Markdown \u200b\u6587\u4ef6","text":"<p>\u200b\u9010\u4e2a\u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u662f\u200b\u4e00\u4ef6\u200b\u5f88\u200b\u75db\u82e6\u200b\u7684\u200b\u4e8b\u60c5\u200b\uff0c\u200b\u4f7f\u7528\u200b Python \u200b\u7ed3\u5408\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u4e14\u200b\u5feb\u901f\u200b\u5b9e\u73b0\u200b\u6279\u91cf\u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p>","tags":["Python"]},{"location":"blog/edit-markdown-file-using-python/#\u9700\u6c42","title":"\u9700\u6c42","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6240\u6709\u200b\u535a\u6587\u200b\uff0c\u200b\u82e5\u200b\u5176\u200b Metadata \u200b\u4e2d\u200b\u7684\u200b<code>tags</code>\u200b\u5305\u542b\u200b\u201c\u200b\u6280\u672f\u200b\u201d\uff0c\u200b\u5219\u200b\u5c06\u200b\u201c\u200b\u6280\u672f\u200b\u201d\u200b\u5220\u9664\u200b\uff0c\u200b\u5b83\u200b\u548c\u200b<code>categories</code>\u200b\u65f6\u5e38\u200b\u6709\u200b\u91cd\u590d\u200b\uff0c\u200b\u56e0\u800c\u662f\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/edit-markdown-file-using-python/#python-\u5b9e\u73b0","title":"Python \u200b\u5b9e\u73b0","text":"Python<pre><code>import os\nimport re\npath = \"./post/\"\nfor root, dirs, files in os.walk(path, topdown=False):\nfor name in files:\n# \u200b\u5bf9\u4e8e\u200b Markdown \u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\nif name.endswith(\".md\") or name.endswith(\".markdown\"):\nwith open(os.path.join(root, name), \"r+\", encoding=\"UTF-8\") as f:\n# \u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b\ncontent = f.read()\n# \u200b\u66ff\u6362\u200b\u5185\u5bb9\u200b\ncontent = re.sub(r\"\\n  - \u200b\u6280\u672f\u200b\", r\"\", content)\n# \u200b\u5c06\u200b\u6307\u9488\u200b\u79fb\u52a8\u200b\u5230\u200b\u6587\u4ef6\u200b\u5f00\u5934\u200b\nf.seek(0)\n# \u200b\u6e05\u7a7a\u200b\u6587\u4ef6\u200b\nf.truncate()\n# \u200b\u5c06\u200b\u4fee\u6539\u200b\u540e\u200b\u7684\u200b\u5185\u5bb9\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b\nf.write(content)\n# \u200b\u5173\u95ed\u200b\u6587\u4ef6\u200b\nf.close()\n</code></pre> <p>\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u66ff\u6362\u200b\u6587\u672c\u200b\u65f6\u200b\u7528\u5230\u200b\u4e86\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u5bfb\u627e\u200b\u6ee1\u8db3\u200b<code>\\n  - \u200b\u6280\u672f\u200b</code>\u200b\u6a21\u5f0f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5e76\u200b\u66ff\u6362\u200b\u4e3a\u200b\u7a7a\u503c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u80fd\u200b\u5220\u9664\u200b<code>tags</code>\u200b\u4e2d\u200b\u7684\u200b\u201c\u200b\u6280\u672f\u200b\u201d\u200b\u8fd9\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u4fee\u6539\u200b\u524d\u200b\u7684\u200b\u6587\u672c\u200b\uff1a</p> <p></p> <p>\u200b\u4fee\u6539\u200b\u540e\u200b\u7684\u200b\u6587\u672c\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/parallel-computing-using-joblib/","title":"\u4f7f\u7528\u200b joblib \u200b\u5b9e\u73b0\u200b\u5e76\u884c\u8ba1\u7b97","text":"<p>\u200b\u4f7f\u7528\u200b joblib \u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\u7684\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u3002</p> <p></p> <p>\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4f7f\u7528\u200b Python Multiprocessing \u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u3002\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b joblib \u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\u7684\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u3002</p>","tags":["Python"]},{"location":"blog/parallel-computing-using-joblib/#\u67e5\u770b-cpu-\u6570\u91cf","title":"\u67e5\u770b\u200b CPU \u200b\u6570\u91cf","text":"<ul> <li>\u200b\u4f7f\u7528\u200b multiprocessing\uff1a</li> </ul> Python<pre><code>import multiprocessing\nmultiprocessing.cpu_count()\n</code></pre> <ul> <li>\u200b\u4f7f\u7528\u200b joblib\uff1a</li> </ul> Python<pre><code>import joblib\njoblib.cpu_count()\n</code></pre>","tags":["Python"]},{"location":"blog/parallel-computing-using-joblib/#\u4e32\u884c\u8fd0\u884c\u51fd\u6570","title":"\u4e32\u884c\u200b\u8fd0\u884c\u200b\u51fd\u6570","text":"Python<pre><code>def single(a):\n\"\"\"\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u51fd\u6570\u200b\"\"\"\ntime.sleep(1)  # \u200b\u4f11\u7720\u200b 1s\nprint(a)  # \u200b\u6253\u5370\u200b\u51fa\u200b a\n</code></pre> <p>\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b<code>for</code> \u200b\u5faa\u73af\u200b\u8fd0\u884c\u200b\u51fd\u6570\u200b 10 \u200b\u6b21\u200b\uff0c\u200b\u9700\u8981\u200b\u82b1\u200b 10 \u200b\u79d2\u200b\uff1a</p> Python<pre><code>import time\nstart = time.time()  # \u200b\u8bb0\u5f55\u200b\u5f00\u59cb\u200b\u7684\u200b\u65f6\u95f4\u200b\nfor i in range(10):  # \u200b\u6267\u884c\u200b 10 \u200b\u6b21\u200b single() \u200b\u51fd\u6570\u200b\nsingle(i)\nTime = time.time() - start  # \u200b\u8ba1\u7b97\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u95f4\u200b\nprint(\"\u200b\u4e00\u5171\u200b\u8017\u65f6\u200b\" + str(Time) + \"s\")\n</code></pre>","tags":["Python"]},{"location":"blog/parallel-computing-using-joblib/#\u5e76\u884c\u8fd0\u884c\u51fd\u6570","title":"\u5e76\u884c\u200b\u8fd0\u884c\u200b\u51fd\u6570","text":"Python<pre><code>from joblib import Parallel, delayed\nstart = time.time()  # \u200b\u8bb0\u5f55\u200b\u5f00\u59cb\u200b\u7684\u200b\u65f6\u95f4\u200b\nParallel(n_jobs=5)(delayed(single)(i * 3) for i in range(10))  # \u200b\u5e76\u884c\u200b\u5316\u200b\u5904\u7406\u200b\nTime = time.time() - start  # \u200b\u8ba1\u7b97\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u95f4\u200b\nprint(\"\u200b\u4e00\u5171\u200b\u8017\u65f6\u200b\" + str(Time) + \"s\")\n</code></pre> <ul> <li>\u200b\u4e00\u5171\u200b\u8017\u65f6\u200b 2.76 \u200b\u79d2\u200b\u3002\u200b\u8fd9\u662f\u200b\u7531\u4e8e\u200b\u540c\u65f6\u200b\u8fd0\u884c\u200b 5 \u200b\u6b21\u200b\u51fd\u6570\u200b\uff0c\u200b\u603b\u5171\u200b\u8fd0\u884c\u200b 10 \u200b\u6b21\u200b\uff0c\u200b\u4e00\u5171\u200b\u82b1\u200b\u4e86\u200b 2 \u200b\u8f6e\u200b\u65f6\u95f4\u200b\u3002</li> <li>\u200b\u5e76\u4e14\u200b\uff0c\u200b\u51fd\u6570\u200b\u7684\u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u662f\u200b\u6bcf\u200b 5 \u200b\u4e2a\u200b\u540c\u65f6\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\u7684\u200b\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs</code>\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b 1 \u200b\u65f6\u200b\uff0c\u200b\u5373\u200b\u76f8\u5f53\u4e8e\u200b<code>for</code>\u200b\u5faa\u73af\u200b\u7684\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4ecd\u7136\u200b\u4f1a\u200b\u662f\u200b 10 \u200b\u79d2\u200b\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs</code>\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b -1 \u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u6240\u6709\u200b\u7684\u200b CPU\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs</code>\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u5176\u5b83\u200b\u8d1f\u503c\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u6240\u6709\u200b\u7684\u200b CPU \u200b\u6570\u91cf\u200b\u51cf\u53bb\u200b<code>n_jobs</code>\u3002\u200b\u4f8b\u5982\u200b\u4e00\u5171\u200b\u6709\u200b 8 \u200b\u4e2a\u200b CPU\uff0c\u200b\u5219\u200b<code>n_jobs=-2</code>\u200b\u610f\u5473\u7740\u200b\u4f7f\u7528\u200b 8-2=6 \u200b\u4e2a\u200b CPU\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs=-1</code>\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6240\u6709\u200b\u7684\u200b CPU \u200b\u6267\u884c\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs=1</code>\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u4f7f\u7528\u200b\u5e76\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5373\u200b\u7b49\u540c\u4e8e\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b debug \u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4f7f\u7528\u200b\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs&lt;-1</code>\u200b\u65f6\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u4f7f\u7528\u200b<code>n_cpus + 1 + n_jobs</code>\u200b\u4e2a\u200b CPU\uff0c\u200b\u4f8b\u5982\u200b<code>n_jobs=-2</code>\u200b\u65f6\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u4f7f\u7528\u200b<code>n_cpus-1</code>\u200b\u4e2a\u200b CPU \u200b\u6838\u200b\uff0c\u200b\u5176\u4e2d\u200b<code>n_cpus</code>\u200b\u4e3a\u200b CPU \u200b\u6838\u200b\u7684\u200b\u6570\u91cf\u200b\u3002</li> <li>\u200b\u5f53\u200b<code>n_jobs=None</code>\u200b\u7684\u200b\u60c5\u51b5\u200b\u7b49\u540c\u4e8e\u200b<code>n_jobs=1</code>\u3002</li> </ul>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/","title":"\u4f7f\u7528\u200b selenium \u200b\u722c\u53d6\u200b\u8c46\u74e3\u200b\u5c0f\u7ec4\u8ba8\u8bba\u200b\u4fe1\u606f","text":"<p>\u200b\u4f7f\u7528\u200b selenium \u200b\u6a21\u62df\u200b\u6d4f\u89c8\u5668\u200b\u8bbf\u95ee\u200b\u7f51\u9875\u200b\uff0c\u200b\u89e3\u6790\u200b\u5e76\u200b\u63d0\u53d6\u200b\u9700\u8981\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u7f51\u7edc\u200b\u722c\u866b\u200b\u3002</p> <p></p> <p>\u200b\u4f7f\u7528\u200b<code>selenium</code>\u200b\u6a21\u62df\u200b\u6d4f\u89c8\u5668\u200b\uff0c\u200b\u722c\u53d6\u200b\u8c46\u74e3\u200b\u590d\u65e6\u200b\u6821\u53cb\u200b\u4e0a\u6d77\u200b\u79df\u623f\u200b\u5c0f\u7ec4\u200b\u7684\u200b\u5e16\u5b50\u200b\uff0c\u200b\u7f51\u5740\u200b\u5728\u200b \u200b\u8fd9\u91cc\u200b\u3002</p>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u5bfc\u5165\u5fc5\u8981\u7684\u5305","title":"\u5bfc\u5165\u200b\u5fc5\u8981\u200b\u7684\u200b\u5305","text":"Python<pre><code>from selenium import webdriver\nfrom bs4 import BeautifulSoup\nimport pandas as pd\n</code></pre>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u8bbe\u7f6e\u9a71\u52a8\u8bf7\u6c42\u5934\u548c\u9700\u8981\u8bbf\u95ee\u7684-url","title":"\u8bbe\u7f6e\u200b\u9a71\u52a8\u200b\u3001\u200b\u8bf7\u6c42\u200b\u5934\u200b\u548c\u200b\u9700\u8981\u200b\u8bbf\u95ee\u200b\u7684\u200b URL","text":"Python<pre><code>driver = webdriver.Chrome(\"D:\\Program\\chromedriver.exe\")\n# \u200b\u521d\u59cb\u5316\u200b\u9009\u9879\u200b\noptions = webdriver.ChromeOptions()\n# \u200b\u8bbe\u7f6e\u200b\u81ea\u5b9a\u4e49\u200b\u8bf7\u6c42\u200b\u5934\u200b\noptions.add_argument(\n'user-agent=\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36 Edg/101.0.1210.53\"'\n)\n# \u200b\u8bbe\u7f6e\u200b URL\nurl = \"https://www.douban.com/group/515560/discussion\"\ndriver.get(url)\n</code></pre>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u7528-beautifulsoup-\u89e3\u6790\u6570\u636e","title":"\u7528\u200b BeautifulSoup \u200b\u89e3\u6790\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u7528\u200b BeautifulSoup \u200b\u89e3\u6790\u200b\u6570\u636e\u200b\ncontent = driver.page_source.encode(\"utf-8\")\nsoup = BeautifulSoup(content, \"lxml\")\n# \u200b\u627e\u5230\u200b\u6240\u6709\u200b\u5e16\u5b50\u200b\u7684\u200b\u6807\u9898\u200b\ntitle_content = soup.find_all(class_=\"title\")\ntime_content = soup.find_all(class_=\"time\")\n</code></pre>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u63d0\u53d6\u51fa\u9700\u8981\u7684\u6570\u636e","title":"\u63d0\u53d6\u200b\u51fa\u200b\u9700\u8981\u200b\u7684\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u53ea\u200b\u4fdd\u5b58\u200b\u6807\u9898\u200b\u6587\u5b57\u200b\u3001\u200b\u8d85\u94fe\u63a5\u200b\u548c\u200b\u65f6\u95f4\u200b\ntitle_list = []\nhref_list = []\ntime_list = []\nfor title, time in zip(title_content[:-1], time_content):\ntitle_list.append(title.a[\"title\"].strip())\nhref_list.append(title.a[\"href\"].strip())\ntime_list.append(time.text)\n</code></pre>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u5c06\u6570\u636e\u5bfc\u51fa\u5230\u672c\u5730-csv-\u6587\u4ef6","title":"\u5c06\u200b\u6570\u636e\u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b csv \u200b\u6587\u4ef6","text":"Python<pre><code># \u200b\u5c06\u200b\u6570\u636e\u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b csv \u200b\u6587\u4ef6\u200b\ndf = pd.DataFrame(\nlist(zip(time_list, title_list, href_list)), columns=[\"\u200b\u6700\u540e\u200b\u56de\u5e94\u200b\u65f6\u95f4\u200b\", \"\u200b\u6807\u9898\u200b\", \"\u200b\u7f51\u5740\u200b\"]\n)\ndf.to_csv(\"\u200b\u8c46\u74e3\u200b\u5c0f\u7ec4\u200b\u722c\u866b\u200b\u3002csv\", index=False, encoding=\"utf-8-sig\")\n</code></pre>","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u5c55\u793a\u722c\u53d6\u5230\u7684\u5177\u4f53\u5185\u5bb9","title":"\u5c55\u793a\u200b\u722c\u53d6\u200b\u5230\u200b\u7684\u200b\u5177\u4f53\u5185\u5bb9","text":"Python<pre><code>df\n</code></pre> \u200b\u6700\u540e\u200b\u56de\u5e94\u200b\u65f6\u95f4\u200b \u200b\u6807\u9898\u200b \u200b\u7f51\u5740\u200b 0 11-25 11:15 \u200b\u590d\u65e6\u5927\u5b66\u200b\u9644\u8fd1\u200b\u5168\u914d\u200b\u53cc\u5357\u4e8c\u5ba4\u200b\u4e00\u5385\u200b https://www.douban.com/group/topic/279122048/ 1 11-24 12:36 \u200b\u5408\u79df\u200b\u8f6c\u79df\u200b\u4ec5\u200b\u5973\u751f\u200b 2100/\u200b\u6708\u200b\u62bc\u200b\u4e00\u4ed8\u200b\u4e00\u200b \u200b\u8fd1\u200b B \u200b\u7ad9\u200b\u5c1a\u6d66\u200b https://www.douban.com/group/topic/279076030/ 2 11-24 09:46 \u200b\u7f8e\u5cb8\u200b\u6816\u5ead\u200b\u5355\u95f4\u200b\u5b9e\u4f53\u200b\u623f\u51fa\u79df\u200b https://www.douban.com/group/topic/279068051/ 3 11-22 16:14 \u200b\u540c\u6d4e\u5927\u5b66\u200b\u9644\u8fd1\u200b\u4e24\u5c45\u5ba4\u200b\u6b21\u200b\u5367\u200b\u8f6c\u79df\u200b\uff0c\u200b\u9650\u200b\u5973\u751f\u200b https://www.douban.com/group/topic/278976916/ 4 11-21 09:51 \u200b\u56fd\u200b\u987a\u8def\u200b 310 \u200b\u5f04\u200b\u5357\u5317\u200b\u4e24\u5ba4\u200b\uff0c\u200b\u88c5\u4fee\u200b\u5e72\u51c0\u200b\u6e05\u723d\u200b\uff0c\u200b\u53ea\u8981\u200b 5000\uff0c\u200b\u770b\u623f\u200b\u6709\u200b\u94a5\u5319\u200b\u8054\u7cfb\u200b 13588488922 https://www.douban.com/group/topic/278905908/ 5 11-18 20:36 \u200b\u590d\u65e6\u200b\uff0c\u200b\u5730\u94c1\u200b 10\uff0c18 \u200b\u53f7\u7ebf\u200b\u56fd\u6743\u200b\u8def\u7ad9\u200b\u9644\u8fd1\u200b\u5168\u914d\u200b\u4e09\u5ba4\u200b\u6237\u200b\u51fa\u79df\u200b https://www.douban.com/group/topic/278783611/ 6 11-18 09:35 \u200b\u8f6c\u79df\u200b - \u200b\u4e2a\u4eba\u200b\u8f6c\u79df\u200b - \u200b\u6d66\u4e1c\u200b\u5927\u9053\u200b https://www.douban.com/group/topic/278748900/ 7 11-18 09:26 \u200b\u51fa\u79df\u200b\u56fd\u200b\u987a\u8def\u200b 375 \u200b\u5f04\u200b 2 \u200b\u697c\u200b\u53cc\u5357\u200b\uff0c\u200b\u4e24\u5ba4\u200b\u4e00\u5385\u200b\uff0c6300/\u200b\u6708\u200b\u7cbe\u88c5\u4fee\u200b\u5168\u914d\u200b\uff0c\u200b\u770b\u623f\u200b\u6709\u200b\u94a5\u5319\u200b\u770b\u623f\u200b\u8054\u7cfb\u200b 13588... https://www.douban.com/group/topic/278748540/ 8 11-16 10:42 \u200b\u4e1c\u65b9\u200b\u6587\u82d1\u200b\u5c0f\u533a\u200b\u51fa\u79df\u200b\uff0c\u200b\u79bb\u200b\u590d\u65e6\u5927\u5b66\u200b\u90af\u90f8\u200b\u6821\u533a\u200b\u811a\u7a0b\u200b\u4e0d\u5230\u200b 10 \u200b\u5206\u949f\u200b https://www.douban.com/group/topic/278643617/ 9 11-14 19:12 \u200b\u8f6c\u79df\u200b\u56fd\u6743\u200b\u8def\u200b 1200/\u200b\u6708\u200b\u5973\u751f\u200b\u65e0\u200b\u4e2d\u4ecb\u8d39\u200b https://www.douban.com/group/topic/278560381/ 10 11-09 21:18 \u200b\u590d\u65e6\u200b\uff0c\u200b\u540c\u6d4e\u200b\uff0c\u200b\u4e94\u89d2\u573a\u200b\uff0c10/18 \u200b\u53f7\u7ebf\u200b\uff0c\u200b\u5bfb\u200b\u8003\u7814\u200b or \u200b\u4e13\u7855\u200b\u5728\u8bfb\u200b or \u200b\u5b9e\u4e60\u200b\u5973\u200b\u5ba4\u53cb\u200b\uff08\u200b\u65e0\u200b\u4e2d\u4ecb\u8d39\u200b\uff09\uff5e https://www.douban.com/group/topic/278274798/ 11 11-09 15:51 \u200b\u4e94\u89d2\u573a\u200b\u597d\u200b\u623f\u51fa\u79df\u200b https://www.douban.com/group/topic/278256396/ 12 11-05 16:43 \u200b\u4e94\u89d2\u573a\u200b\uff01\uff01\uff01\u200b\u5341\u53f7\u200b\u7ebf\u200b\uff01\uff0118 \u200b\u53f7\u7ebf\u200b\uff01\uff01\u200b\u8d22\u7ecf\u5927\u5b66\u200b\u7ad9\u200b\uff01\uff01\uff01\u200b\u7cbe\u88c5\u200b\u516c\u5bd3\u200b loft \u200b\u5c42\u9ad8\u200b 5 \u200b\u7c73\u200b\u53ea\u200b\u9700\u8981\u200b 3100 https://www.douban.com/group/topic/278026628/","tags":["Python"]},{"location":"blog/crawl-web-using-selenium/#\u5173\u95ed\u6d4f\u89c8\u5668","title":"\u5173\u95ed\u200b\u6d4f\u89c8\u5668","text":"Python<pre><code>driver.close()\n</code></pre>","tags":["Python"]},{"location":"blog/regression-using-gradient-boost-decision-tree/","title":"\u4f7f\u7528\u200b Gradient Boost Decision Tree \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b","text":"<p>\u200b\u4f7f\u7528\u200b GBDT \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b\uff0c\u200b\u5e76\u200b\u4e0e\u200b\u51b3\u7b56\u6811\u200b\u8fdb\u884c\u200b\u5bf9\u6bd4\u200b\u3002</p> <p> </p> GBDT \u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\u968f\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u7684\u200b\u53d8\u5316","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u5b66\u5230\u4e86\u4ec0\u4e48","title":"\u5b66\u5230\u200b\u4e86\u200b\u4ec0\u4e48","text":"<ul> <li> <p>GBDT \u200b\u7684\u200b\u53c2\u6570\u200b\u4e2d\u200b\uff0c<code>learning_rate</code>\u200b\u5f88\u200b\u91cd\u8981\u200b\uff0c\u200b\u5728\u200b\u672c\u4f8b\u200b\u4e2d\u8bbe\u200b\u4e3a\u200b\\(0.01\\)\u200b\u6bd4\u8f83\u200b\u5408\u9002\u200b\u3002\u200b\u82e5\u8bbe\u200b\u4e3a\u200b\\(0.1\\)\u200b\u5219\u200b\u5f88\u200b\u5bb9\u6613\u200b\u8fc7\u200b\u62df\u5408\u200b\u3002</p> </li> <li> <p>\u200b\u753b\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u5750\u6807\u8f74\u200b\u663e\u793a\u200b\u767e\u5206\u6bd4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> </li> </ul> Python<pre><code>from matplotlib.ticker import PercentFormatter\n# ylabel \u200b\u4ee5\u200b\u767e\u5206\u6570\u200b\u7684\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\nax.yaxis.set_major_formatter(PercentFormatter(xmax=1.0, decimals=0))\n</code></pre> <ul> <li><code>xmax=1.0</code>\u200b\u4ee3\u8868\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b 0.1\u30010.2 \u200b\u8fd9\u79cd\u200b\uff0c\u200b\u60f3\u8981\u200b\u663e\u793a\u200b\u4e3a\u200b 10%\u300120%\u3002\u200b\u5982\u679c\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b 10\u300120\uff0c\u200b\u60f3\u8981\u200b\u663e\u793a\u200b\u4e3a\u200b 10%\u300120%\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b<code>xmax</code>\u200b\u4e3a\u200b 100\u3002</li> <li><code>decimals</code>\u200b\u662f\u200b\u767e\u5206\u6bd4\u200b\u4e2d\u200b\u4fdd\u7559\u200b\u51e0\u4f4d\u200b\u5c0f\u6570\u200b\u3002</li> </ul> <p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p></p> Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport pandas as pd\nimport numpy as np\nfrom tqdm.notebook import tqdm\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import PercentFormatter\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\nfrom scipy.stats import pearsonr\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.feature_selection import VarianceThreshold\nfrom sklearn.feature_extraction import FeatureHasher\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import GradientBoostingRegressor\nfrom sklearn import metrics\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\ntrain = pd.read_excel(\"HousePrices.xlsx\", sheet_name=\"train\")\ntest = pd.read_excel(\"HousePrices.xlsx\", sheet_name=\"test\", header=None)\ntest.columns = train.columns\nx_train = train.drop([\"SalePrice\"], axis=1)\ny_train = train[\"SalePrice\"]\nx_test = test.drop([\"SalePrice\"], axis=1)\ny_test = test[\"SalePrice\"]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u5904\u7406\u7f3a\u5931\u503c","title":"\u5904\u7406\u200b\u7f3a\u5931\u200b\u503c","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u67e5\u770b\u7f3a\u5931\u503c","title":"\u67e5\u770b\u200b\u7f3a\u5931\u200b\u503c","text":"Python<pre><code>column_with_null = x_train[x_train.columns[x_train.isna().any()]].isnull().sum()\nprint(column_with_null)\n</code></pre> Text Only<pre><code>LotFrontage      192\nAlley           1031\nMasVnrType         6\nMasVnrArea         6\nBsmtQual          31\nBsmtCond          31\nBsmtExposure      32\nBsmtFinType1      31\nBsmtFinType2      32\nFireplaceQu      524\nGarageType        61\nGarageYrBlt       61\nGarageFinish      61\nGarageQual        61\nGarageCond        61\nPoolQC          1098\nFence            892\nMiscFeature     1054\ndtype: int64\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u9002\u5408\u7528\u5747\u503c\u586b\u5145\u7684\u5217","title":"\u9002\u5408\u200b\u7528\u200b\u5747\u503c\u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\uff1a","text":"Python<pre><code># \u200b\u9002\u5408\u200b\u7528\u200b\u5747\u503c\u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\nfillna_with_mean = [\"LotFrontage\", \"MasVnrArea\", \"GarageYrBlt\"]\nfor col in fillna_with_mean:\nx_train[col].fillna(x_train[col].mean(), inplace=True)\nx_test[col].fillna(x_test[col].mean(), inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u9002\u5408\u7528none\u586b\u5145\u7684\u5217","title":"\u9002\u5408\u200b\u7528\u200b<code>'None'</code>\u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\uff1a","text":"Python<pre><code># \u200b\u9002\u5408\u200b\u7528\u200b None \u200b\u586b\u5145\u200b\u7684\u200b\u5217\u200b\nfillna_with_none = list(set(x_train.columns) - set(fillna_with_mean))\nfor col in fillna_with_none:\nx_train[col].fillna(\"None\", inplace=True)\nx_test[col].fillna(\"None\", inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u7279\u5f81\u7f16\u7801","title":"\u7279\u5f81\u200b\u7f16\u7801","text":"<p>\u200b\u5927\u90e8\u5206\u200b\u7279\u5f81\u200b\u5747\u200b\u4e3a\u200b\u6587\u672c\u200b\u578b\u200b\uff0c\u200b\u4e14\u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u65e0\u5e8f\u200b\u7684\u200b\u6587\u672c\u200b\u503c\u200b\u3002\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6587\u672c\u200b\u503c\u200b\u901a\u8fc7\u200b\u54c8\u5e0c\u200b\u7f16\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u4e8e\u200b\u540e\u7eed\u200b\u7684\u200b\u5efa\u6a21\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b<code>n_features</code>\u200b\u53c2\u6570\u200b\u63a7\u5236\u200b\u54c8\u5e0c\u200b\u7f16\u7801\u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u5c06\u200b\u7ef4\u5ea6\u200b\u8bbe\u200b\u4e3a\u200b 2\uff0c\u200b\u5373\u5c06\u200b\u6587\u672c\u200b\u503c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e8c\u7ef4\u200b\u7684\u200b\u6570\u503c\u200b\u578b\u200b\u7279\u5f81\u200b\u3002\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u7684\u200b\u7279\u5f81\u200b\u6700\u591a\u200b\u6709\u200b 10 \u200b\u4f59\u4e2a\u200b\u552f\u4e00\u200b\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e8c\u7ef4\u200b\u54c8\u5e0c\u200b\u503c\u200b\u8db3\u4ee5\u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u7684\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\u3002</p> Python<pre><code># \u200b\u6587\u672c\u200b\u7279\u5f81\u200b\u7684\u200b\u5217\u200b\ntext_features = list(x_train.columns[x_train.dtypes == \"object\"])\n# # \u200b\u54c8\u5e0c\u200b\u7f16\u7801\u5668\u200b\nfor col in text_features:\nhash_encoder = FeatureHasher(n_features=2, input_type=\"string\")\n# \u200b\u5bf9\u200b\u539f\u59cb\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\uff0c\u200b\u5f97\u5230\u200b\u54c8\u5e0c\u200b\u503c\u200b\u6570\u7ec4\u200b\nx_train_col_hashed = hash_encoder.fit_transform(x_train[col]).toarray()\nx_test_col_hashed = hash_encoder.transform(x_test[col]).toarray()\n# \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u636e\u200b\u6846\u200b\nx_train_col_hashed = pd.DataFrame(\nx_train_col_hashed, columns=[col + \"_\" + str(i) for i in range(1, 2 + 1)]\n)\nx_test_col_hashed = pd.DataFrame(\nx_test_col_hashed, columns=[col + \"_\" + str(i) for i in range(1, 2 + 1)]\n)\n# \u200b\u5220\u9664\u200b\u539f\u6709\u200b\u7684\u200b\u6587\u672c\u200b\u7279\u5f81\u200b\nx_train.drop(col, axis=1, inplace=True)\nx_test.drop(col, axis=1, inplace=True)\n# \u200b\u5c06\u200b\u54c8\u5e0c\u200b\u7f16\u7801\u200b\u540e\u200b\u7684\u200b\u7279\u5f81\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\nx_train = pd.concat([x_train, x_train_col_hashed], axis=1)\nx_test = pd.concat([x_test, x_test_col_hashed], axis=1)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u7279\u5f81\u9009\u62e9","title":"\u7279\u5f81\u9009\u62e9","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u79fb\u9664\u4f4e\u65b9\u5dee\u7279\u5f81","title":"\u79fb\u9664\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u5220\u9664\u200b id \u200b\u5217\u200b\nx_train.drop([\"Id\"], axis=1, inplace=True)\nx_test.drop([\"Id\"], axis=1, inplace=True)\n# \u200b\u5c06\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u6700\u5c0f\u200b\u6700\u5927\u200b\u5f52\u4e00\u5316\u200b\nscaler = MinMaxScaler()\nx_train = pd.DataFrame(\nscaler.fit_transform(x_train), index=x_train.index, columns=x_train.columns\n)\nx_test = pd.DataFrame(\nscaler.transform(x_test), index=x_test.index, columns=x_test.columns\n)\n# \u200b\u79fb\u9664\u200b\u4f4e\u200b\u65b9\u5dee\u200b\uff08\u200b\u5f52\u4e00\u5316\u200b\u540e\u200b\u65b9\u5dee\u200b\u5c0f\u4e8e\u200b 0.005\uff09\u200b\u7279\u5f81\u200b\nselector = VarianceThreshold(threshold=0.005)\nselector.fit(x_train)\n# \u200b\u6253\u5370\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7684\u200b\u7279\u5f81\u200b\nprint(\"\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7279\u5f81\u200b\uff1a\", x_train.columns[~selector.get_support()])\nx_train = x_train.loc[:, selector.get_support()]\nx_test = x_test.loc[:, selector.get_support()]\n</code></pre> Text Only<pre><code>\u200b\u56e0\u4e3a\u200b\u4f4e\u200b\u65b9\u5dee\u200b\u88ab\u200b\u79fb\u9664\u200b\u7279\u5f81\u200b\uff1a Index(['LotArea', '3SsnPorch', 'PoolArea', 'MiscVal', 'Street_1', 'Street_2',\n       'Utilities_1', 'Utilities_2', 'Condition2_1', 'Condition2_2',\n       'RoofMatl_1', 'Foundation_2', 'Heating_2', 'CentralAir_1',\n       'CentralAir_2', 'PavedDrive_1', 'PavedDrive_2', 'PoolQC_1', 'PoolQC_2',\n       'MiscFeature_1', 'MiscFeature_2'],\n      dtype='object')\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u79fb\u9664\u9ad8\u76f8\u5173\u7279\u5f81\u4e2d\u65b9\u5dee\u8f83\u4f4e\u7684\u90a3\u4e00\u4e2a","title":"\u79fb\u9664\u200b\u9ad8\u200b\u76f8\u5173\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u90a3\u200b\u4e00\u4e2a","text":"<p>\u200b\u7531\u4e8e\u200b\u7279\u5f81\u200b\u53d8\u91cf\u200b\u4f17\u591a\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u518d\u200b\u7ed8\u5236\u200b\u76f8\u5173\u7cfb\u6570\u200b\u70ed\u200b\u529b\u56fe\u200b\u3002</p> Python<pre><code>corr = x_train.corr()\n# \u200b\u6253\u5370\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\ncorr = corr.abs()\ncorr = corr.where(np.triu(np.ones(corr.shape), k=1).astype(bool))\ncorr = corr.stack()\ncorr = corr[corr &gt; 0.8]\nprint(\"\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", [i for i in corr.index])\n# \u200b\u4ece\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u79fb\u9664\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\nfeature_to_remove = []\ncorr = corr.reset_index()\ncorr.columns = [\"feature1\", \"feature2\", \"corr\"]\nfor row in corr.itertuples():\nif x_train[row.feature1].var() &lt; x_train[row.feature2].var():\nfeature_to_remove.append(row.feature1)\nelse:\nfeature_to_remove.append(row.feature2)\nfeature_to_remove = list(set(feature_to_remove))\nprint(\"\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 0.8 \u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", feature_to_remove)\nx_train.drop(feature_to_remove, axis=1, inplace=True)\nx_test.drop(feature_to_remove, axis=1, inplace=True)\n</code></pre> Text Only<pre><code>\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b0.8\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a [('TotalBsmtSF', '1stFlrSF'), ('GrLivArea', 'TotRmsAbvGrd'), ('Fireplaces', 'FireplaceQu_1'), ('GarageCars', 'GarageArea'), ('LotShape_1', 'LotShape_2'), ('LandContour_1', 'LandContour_2'), ('LotConfig_1', 'LotConfig_2'), ('RoofStyle_1', 'RoofStyle_2'), ('Exterior1st_1', 'Exterior2nd_1'), ('Exterior1st_2', 'Exterior2nd_2'), ('ExterQual_1', 'ExterQual_2'), ('ExterCond_1', 'ExterCond_2'), ('BsmtQual_1', 'BsmtQual_2'), ('BsmtCond_1', 'BsmtCond_2'), ('HeatingQC_1', 'HeatingQC_2'), ('Electrical_1', 'Electrical_2'), ('KitchenQual_1', 'KitchenQual_2'), ('GarageType_1', 'GarageFinish_1'), ('GarageType_1', 'GarageQual_1'), ('GarageType_1', 'GarageCond_1'), ('GarageType_1', 'GarageCond_2'), ('GarageFinish_1', 'GarageQual_1'), ('GarageFinish_1', 'GarageCond_1'), ('GarageFinish_1', 'GarageCond_2'), ('GarageQual_1', 'GarageQual_2'), ('GarageQual_1', 'GarageCond_1'), ('GarageQual_1', 'GarageCond_2'), ('GarageQual_2', 'GarageCond_1'), ('GarageCond_1', 'GarageCond_2')]\n\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b0.8\u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u65b9\u5dee\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a ['BsmtCond_1', 'HeatingQC_1', 'LandContour_2', 'BsmtQual_1', 'RoofStyle_2', 'Exterior2nd_2', 'Electrical_2', 'GrLivArea', 'GarageCond_2', 'ExterQual_2', 'GarageQual_2', 'KitchenQual_2', 'ExterCond_2', 'GarageArea', 'GarageType_1', 'LotConfig_1', 'GarageFinish_1', '1stFlrSF', 'Fireplaces', 'GarageCond_1', 'Exterior1st_1', 'LotShape_1']\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u79fb\u9664\u4e0e\u6807\u7b7e\u76f8\u5173\u6027\u8f83\u4f4e\u7684\u7279\u5f81","title":"\u79fb\u9664\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u79fb\u9664\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b 0.02 \u200b\u7684\u200b\u7279\u5f81\u200b\nfeature_to_remove = []\nfor i in x_train.columns:\npearson_corr = pearsonr(x_train[i], y_train)[0]\nif abs(pearson_corr) &lt; 0.02:\nfeature_to_remove.append(i)\nprint(\"\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b 0.02 \u200b\u7684\u200b\u7279\u5f81\u200b\uff1a\", feature_to_remove)\nx_train.drop(feature_to_remove, axis=1, inplace=True)\nx_test.drop(feature_to_remove, axis=1, inplace=True)\n</code></pre> Text Only<pre><code>\u200b\u4e0e\u200b\u6807\u7b7e\u200b\u76f8\u5173\u6027\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b0.02\u200b\u7684\u200b\u7279\u5f81\u200b\uff1a ['BsmtFinSF2', 'LandContour_1', 'Exterior2nd_1', 'Functional_2']\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u6700\u7ec8\u9009\u62e9\u7684\u7279\u5f81","title":"\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81","text":"Python<pre><code># \u200b\u6253\u5370\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b\nprint(\"\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b\", x_train.columns.values)\n</code></pre> Text Only<pre><code>\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u7684\u200b\u7279\u5f81\u200b ['MSSubClass' 'LotFrontage' 'OverallQual' 'OverallCond' 'YearBuilt'\n 'YearRemodAdd' 'MasVnrArea' 'BsmtFinSF1' 'BsmtUnfSF' 'TotalBsmtSF'\n '2ndFlrSF' 'LowQualFinSF' 'BsmtFullBath' 'BsmtHalfBath' 'FullBath'\n 'HalfBath' 'BedroomAbvGr' 'KitchenAbvGr' 'TotRmsAbvGrd' 'GarageYrBlt'\n 'GarageCars' 'WoodDeckSF' 'OpenPorchSF' 'EnclosedPorch' 'ScreenPorch'\n 'MoSold' 'YrSold' 'MSZoning_1' 'MSZoning_2' 'Alley_1' 'Alley_2'\n 'LotShape_2' 'LotConfig_2' 'LandSlope_1' 'LandSlope_2' 'Neighborhood_1'\n 'Neighborhood_2' 'Condition1_1' 'Condition1_2' 'BldgType_1' 'BldgType_2'\n 'HouseStyle_1' 'HouseStyle_2' 'RoofStyle_1' 'RoofMatl_2' 'Exterior1st_2'\n 'MasVnrType_1' 'MasVnrType_2' 'ExterQual_1' 'ExterCond_1' 'Foundation_1'\n 'BsmtQual_2' 'BsmtCond_2' 'BsmtExposure_1' 'BsmtExposure_2'\n 'BsmtFinType1_1' 'BsmtFinType1_2' 'BsmtFinType2_1' 'BsmtFinType2_2'\n 'Heating_1' 'HeatingQC_2' 'Electrical_1' 'KitchenQual_1' 'Functional_1'\n 'FireplaceQu_1' 'FireplaceQu_2' 'GarageType_2' 'GarageFinish_2'\n 'GarageQual_1' 'Fence_1' 'Fence_2' 'SaleType_1' 'SaleType_2'\n 'SaleCondition_1' 'SaleCondition_2']\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u6784\u5efa-gradient-boost-decision-tree-\u56de\u5f52\u5668","title":"\u6784\u5efa\u200b Gradient Boost Decision Tree \u200b\u56de\u5f52\u200b\u5668","text":"Python<pre><code>GBDT_reg = GradientBoostingRegressor(\nn_estimators=500,\nlearning_rate=0.1,\nmax_depth=3,\nrandom_state=0,\nloss=\"squared_error\",\n)\nGBDT_reg.fit(x_train, y_train)\ny_pred = GBDT_reg.predict(x_test)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u6a21\u578b\u8bc4\u4ef7","title":"\u6a21\u578b\u200b\u8bc4\u4ef7","text":"Python<pre><code># \u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\ndef evaluate(y_test, y_pred):\nprint(\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff1a\", metrics.mean_squared_error(y_test, y_pred))\nprint(\n\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff1a{:.2%}\".format(metrics.mean_absolute_percentage_error(y_test, y_pred))\n)\nevaluate(y_test, y_pred)\n</code></pre> Text Only<pre><code>\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff1a 720867681.3136929\n\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff1a10.28%\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u53c2\u6570\u8c03\u4f18\u8fed\u4ee3\u6b21\u6570","title":"\u53c2\u6570\u200b\u8c03\u4f18\u200b\uff1a\u200b\u8fed\u4ee3\u200b\u6b21\u6570","text":"Python<pre><code>n_estimators_range = range(100, 2001, 50)\nmean_squared_error_list = []\nmean_absolute_percentage_error_list = []\nfor n_estimators in tqdm(n_estimators_range):\nGBDT_reg = GradientBoostingRegressor(\nn_estimators=n_estimators,\nlearning_rate=0.01,\nmax_depth=5,\nrandom_state=0,\nloss=\"squared_error\",\n)\nGBDT_reg.fit(x_train, y_train)\ny_pred = GBDT_reg.predict(x_test)\nmean_squared_error_list.append(metrics.mean_squared_error(y_test, y_pred))\nmean_absolute_percentage_error_list.append(\nmetrics.mean_absolute_percentage_error(y_test, y_pred)\n)\n</code></pre> Text Only<pre><code>  0%|          | 0/39 [00:00&lt;?, ?it/s]\n</code></pre> Python<pre><code># \u200b\u7ed8\u5236\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e0e\u200b\u6d4b\u8bd5\u200b\u8bef\u5dee\u200b\u7684\u200b\u5173\u7cfb\u200b\u56fe\u200b\nfig = plt.figure(figsize=(9, 6), dpi=200)\nax1 = fig.add_subplot(111)\nax1.plot(\nn_estimators_range,\nmean_squared_error_list,\n\"r-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff08\u200b\u5de6\u8f74\u200b\uff09\",\n)\nax1.set_xlabel(\"Gradient Boost Decision Tree \u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\")\nax1.set_ylabel(\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\")\nax2 = ax1.twinx()\nax2.plot(\nn_estimators_range,\nmean_absolute_percentage_error_list,\n\"b-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff08\u200b\u53f3\u8f74\u200b\uff09\",\n)\nax2.set_ylabel(\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\", rotation=270, labelpad=15)\n# ylabel \u200b\u4ee5\u200b\u767e\u5206\u6570\u200b\u7684\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\nax2.yaxis.set_major_formatter(PercentFormatter(1.0, decimals=0))\nfig.legend(loc=1, bbox_to_anchor=(0.88, 0.85))\nplt.show()\n</code></pre> <p> \u200b    </p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5f53\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u589e\u52a0\u200b\u5230\u200b 1000 \u200b\u5de6\u53f3\u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\u57fa\u672c\u200b\u7a33\u5b9a\u200b\u5728\u200b 10.3% \u200b\u5de6\u53f3\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6700\u597d\u200b\u7684\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u8bbe\u200b\u4e3a\u200b 1000\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regression-using-gradient-boost-decision-tree/#\u4e0e\u51b3\u7b56\u6811\u505a\u5bf9\u6bd4","title":"\u4e0e\u200b\u51b3\u7b56\u6811\u200b\u505a\u200b\u5bf9\u6bd4","text":"Python<pre><code>max_depth_range = range(2, 21)\nmean_squared_error_list_decision_tree = []\nmean_absolute_percentage_error_list_decision_tree = []\nfor max_depth in tqdm(max_depth_range):\ndecision_tree_reg = DecisionTreeRegressor(max_depth=max_depth)\ndecision_tree_reg.fit(x_train, y_train)\ny_pred = decision_tree_reg.predict(x_test)\nmean_squared_error_list_decision_tree.append(\nmetrics.mean_squared_error(y_test, y_pred)\n)\nmean_absolute_percentage_error_list_decision_tree.append(\nmetrics.mean_absolute_percentage_error(y_test, y_pred)\n)\n</code></pre> Text Only<pre><code>  0%|          | 0/19 [00:00&lt;?, ?it/s]\n</code></pre> Python<pre><code># \u200b\u7ed8\u5236\u200b\u51b3\u7b56\u6811\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\u4e0e\u200b\u6d4b\u8bd5\u200b\u8bef\u5dee\u200b\u7684\u200b\u5173\u7cfb\u200b\u56fe\u200b\nfig = plt.figure(figsize=(9, 6), dpi=200)\nax1 = fig.add_subplot(111)\nax1.plot(\nmax_depth_range,\nmean_squared_error_list_decision_tree,\n\"r-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff08\u200b\u5de6\u8f74\u200b\uff09\",\n)\nax1.set_xticks(max_depth_range)\nax1.set_xlabel(\"\u200b\u51b3\u7b56\u6811\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\")\nax1.set_ylabel(\"\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\")\nax2 = ax1.twinx()\nax2.plot(\nmax_depth_range,\nmean_absolute_percentage_error_list_decision_tree,\n\"b-o\",\nmarkerfacecolor=\"none\",\nlabel=\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\uff08\u200b\u53f3\u8f74\u200b\uff09\",\n)\nax2.set_ylabel(\"\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\", rotation=270, labelpad=15)\n# y \u200b\u8f74\u200b\u767e\u5206\u6bd4\u200b\nax2.yaxis.set_major_formatter(PercentFormatter(1.0, decimals=0))\nfig.legend(loc=1, bbox_to_anchor=(0.88, 0.85))\nplt.show()\n</code></pre> <p> \u200b    </p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u51b3\u7b56\u6811\u200b\u4e2d\u200b\u6700\u5927\u6570\u200b\u6df1\u5ea6\u200b\u5927\u4e8e\u200b 6 \u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u5f00\u59cb\u200b\u51fa\u73b0\u200b\u8fc7\u200b\u62df\u5408\u200b\u73b0\u8c61\u200b\u3002\u200b\u6700\u4f18\u200b\u7684\u200b\u6700\u5927\u6811\u200b\u6df1\u5ea6\u200b\u4e3a\u200b 5\uff0c\u200b\u6b64\u65f6\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u5e73\u5747\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\u7ea6\u200b\u4e3a\u200b 15%\uff0c\u200b\u9ad8\u4e8e\u200b Gradient Boost Decision Tree \u200b\u6a21\u578b\u200b\u7684\u200b 10.3%\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/monte-carlo-method/","title":"\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u7684\u200b\u5e94\u7528","text":"<p>\u200b\u4f7f\u7528\u200b\u8499\u7279\u5361\u6d1b\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u6a21\u62df\u200b\u9500\u552e\u200b\u5229\u6da6\u200b\u3001\u200b\u8ba1\u7b97\u200b\u4e8c\u91cd\u79ef\u5206\u200b\u4ee5\u53ca\u200b\u91cd\u8981\u6027\u200b\u62bd\u6837\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u8499\u7279\u5361\u6d1b\u6a21\u62df\u9500\u552e\u5229\u6da6","title":"\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u9500\u552e\u200b\u5229\u6da6","text":"\\[ Profit = (P-X_1-X_2)\\times D-A \\] Python<pre><code>import numpy as np\nimport pandas as pd\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u5b9a\u4e49\u968f\u673a\u6a21\u62df\u6b21\u6570\u548c\u968f\u673a\u79cd\u5b50","title":"\u5b9a\u4e49\u200b\u968f\u673a\u200b\u6a21\u62df\u200b\u6b21\u6570\u200b\u548c\u200b\u968f\u673a\u200b\u79cd\u5b50","text":"Python<pre><code>num_simulation = 100000\nnp.random.seed(0)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u6784\u9020\u968f\u673a\u6570","title":"\u6784\u9020\u200b\u968f\u673a\u6570","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u751f\u6210\u200b X_2\ndef gen_X2():\nu = np.random.uniform(0, 1)\nif u &lt;= 0.4:\nreturn 54\nelif u &lt;= 0.65:\nreturn 53\nelif u &lt;= 0.9:\nreturn 55\nelif u &lt;= 0.95:\nreturn 52\nelse:\nreturn 56\n</code></pre> Python<pre><code># \u200b\u65b0\u5efa\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5b58\u653e\u200b\u5404\u200b\u53d8\u91cf\u200b\ndf = pd.DataFrame(\ncolumns=[\"P\", \"X1\", \"X2\", \"D\", \"A\", \"Profit\"], index=range(num_simulation)\n)\ndf[\"P\"] = 150\ndf[\"A\"] = 250000\ndf[\"X1\"] = np.random.uniform(50, 80, num_simulation)\ndf[\"X2\"] = [gen_X2() for i in range(num_simulation)]\ndf[\"D\"] = np.random.normal(12000, 3000, num_simulation)\n</code></pre> Python<pre><code>df[\"Profit\"] = (df[\"P\"] - df[\"X1\"] - df[\"X2\"]) * df[\"D\"] - df[\"A\"]\n</code></pre> Python<pre><code>df\n</code></pre> P X1 X2 D A Profit 0 150 66.464405 53 13285.544352 250000 155682.000137 1 150 71.455681 52 7841.598823 250000 -41850.099314 2 150 68.082901 53 8691.266287 250000 1326.205206 3 150 66.346495 54 7103.369929 250000 -39360.187767 4 150 62.709644 53 6853.320764 250000 -14997.191074 ... ... ... ... ... ... ... 99995 150 71.777633 54 13766.849405 250000 83465.683781 99996 150 65.225615 54 13945.705918 250000 179170.520949 99997 150 74.303985 54 19177.595239 250000 166077.391728 99998 150 66.530968 54 12577.591120 250000 120649.431015 99999 150 56.772676 55 13833.015923 250000 278799.185933 <p>100000 rows \u00d7 6 columns</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u8ba1\u7b97\u5e73\u5747\u5229\u6da6\u548c\u4e8f\u635f\u7684\u6982\u7387","title":"\u8ba1\u7b97\u200b\u5e73\u5747\u5229\u6da6\u200b\u548c\u200b\u4e8f\u635f\u200b\u7684\u200b\u6982\u7387","text":"Python<pre><code>average_profit = df[\"Profit\"].mean()\nprint(\"\u200b\u5e73\u5747\u5229\u6da6\u200b\u4e3a\u200b\uff1a{:.2f}\u200b\u7f8e\u5143\u200b\".format(average_profit))\nprobability_of_loss = (df[\"Profit\"] &lt; 0).sum() / num_simulation\nprint(\"\u200b\u4e8f\u635f\u200b\u6982\u7387\u200b\u4e3a\u200b\uff1a{:.2%}\".format(probability_of_loss))\n</code></pre> Text Only<pre><code>\u200b\u5e73\u5747\u5229\u6da6\u200b\u4e3a\u200b\uff1a121736.51\u200b\u7f8e\u5143\u200b\n\u200b\u4e8f\u635f\u200b\u6982\u7387\u200b\u4e3a\u200b\uff1a21.55%\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u91cd\u8981\u6027\u62bd\u6837","title":"\u91cd\u8981\u6027\u200b\u62bd\u6837","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u8981\u89e3\u51b3\u7684\u95ee\u9898","title":"\u8981\u200b\u89e3\u51b3\u200b\u7684\u200b\u95ee\u9898","text":"<p>\u200b\u5bf9\u4e8e\u200b \\(X \\sim p(x)\\)\uff0c\u200b\u8981\u6c42\u200b</p> \\[ \\mu=\\mathbb{E} f(X)=\\int f(x) p(x) d x \\] <p></p> <p>\u200b\u95ee\u9898\u200b 1\uff1a\\(p(x)\\) \u200b\u5f88\u96be\u200b\u62bd\u53d6\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f88\u96be\u200b\u901a\u8fc7\u200b\u666e\u901a\u200b\u7684\u200b\u968f\u673a\u200b\u6a21\u62df\u200b\u65b9\u6cd5\u200b\u6c42\u89e3\u200b\u3002</p> <p>\u200b\u95ee\u9898\u200b 2\uff1a\\(f(x)\\) \u200b\u548c\u200b \\(p(x)\\) \u200b\u5dee\u5f02\u200b\u5f88\u5927\u200b\uff0c\u200b\u4f53\u73b0\u200b\u5728\u200b\uff1a\u200b\u5f53\u200b \\(p(x)\\) \u200b\u5f88\u5927\u200b\u65f6\u200b\uff0c\\(f(x)\\)\u200b\u5f88\u5c0f\u200b\uff0c\u200b\u800c\u200b\u5f53\u200b \\(p(x)\\) \u200b\u5f88\u200b\u5c0f\u65f6\u200b\uff0c\\(f(x)\\) \u200b\u5f88\u5927\u200b\u3002\u200b\u8fd9\u65f6\u200b\uff0c\u200b\u666e\u901a\u200b\u7684\u200b\u968f\u673a\u200b\u6a21\u62df\u200b\u65b9\u6cd5\u200b\u6c42\u89e3\u200b\u7684\u200b\u7ed3\u679c\u200b\u5f88\u200b\u4e0d\u200b\u51c6\u786e\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u57fa\u672c\u601d\u60f3","title":"\u57fa\u672c\u200b\u601d\u60f3","text":"<p>\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b \\(q(x)\\)\uff0c\u200b\u4e14\u200b\u5f53\u200b \\(f(x)p(x)\\ne 0\\) \u200b\u65f6\u200b\uff0c\\(q(x)\\ne 0\\)\uff0c\u200b\u5373\u5f53\u200b\u79ef\u5206\u200b\u4e0d\u200b\u4e3a\u200b 0 \u200b\u65f6\u200b\uff0c\\(q(x)\\) \u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u4e3a\u200b 0\u3002</p> <p>\u200b\u8fd9\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u516c\u5f0f\u200b\u8ba1\u7b97\u200b \\(\\mu\\)\uff1a</p> \\[ \\mu=\\mathbb{E}_p f(X)=\\int f(x) p(x) d x=\\int f(x) \\frac{p(x)}{q(x)} q(x) d x=\\mathbb{E}_q f(X)\\frac{p(x)}{q(x)} \\] <p>\u200b\u53ea\u200b\u9700\u8981\u200b\u5bf9\u200b\\(q(x)\\)\u200b\u8fdb\u884c\u200b\u968f\u673a\u62bd\u6837\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u51fa\u200b\\(\\mu\\)\u3002</p> <p>\u200b\u5982\u679c\u200b \\(q(x)\\) \u200b\u62bd\u6837\u200b\u5f88\u200b\u5bb9\u6613\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u6c42\u200b \\(\\mu\\) \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u66f4\u52a0\u200b\u7b80\u5355\u200b\u3002</p> <p>\u200b\u7528\u200b \\(q(x)\\) \u200b\u6765\u200b\u8ba1\u7b97\u200b \\(\\mu\\) \u200b\u7684\u200b\u516c\u5f0f\u200b\u4e3a\u200b\uff1a</p> \\[ \\hat{\\mu}_q=\\frac{1}{n} \\sum _{i=1}^{n} f\\left(X_i\\right) w\\left(X_i\\right) \\] <p>\\(\\hat{\\mu}_q\\)\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a</p> \\[ \\frac{\\sigma_q^2}{n} \\] <p>\u200b\u5e76\u4e14\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bc1\u660e\u200b\uff0c</p> \\[ \\sigma_q^2=\\int \\frac{f^2(x) p^2(x)}{q(x)} d x-\\mu^2=\\int \\frac{(f(x) p(x)-\\mu q(x))^2}{q(x)} d x \\] <p></p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5f53\u200b</p> \\[ \\bar{q}(x) \\propto|f(x)| p(x) / c \\] <p>\\(\\hat{\\mu}_q\\)\u200b\u7684\u200b\u4f30\u8ba1\u200b\u8bef\u5dee\u200b\u4f1a\u200b\u8f83\u200b\u5c0f\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u9009\u53d6\u8bd5\u6295\u5bc6\u5ea6\u65f6\u7684\u4e09\u4e2a\u8981\u6c42","title":"\u9009\u53d6\u200b\u8bd5\u6295\u200b\u5bc6\u5ea6\u200b\u65f6\u200b\u7684\u200b\u4e09\u4e2a\u200b\u8981\u6c42","text":"<ol> <li>\u200b\u8981\u6c42\u200b\u5f53\u200b \\(f(x)p(x) \\ne 0\\) \u200b\u65f6\u200b\uff0c\\(q(x) \\ne 0\\)</li> </ol> <p>\u200b\u5426\u5219\u200b\uff0c\u200b\u5728\u200b\\(f(x)\\)\u200b\u4e0d\u200b\u4e3a\u200b 0\uff0c\u200b\u4e14\u200b\\(p(x)\\)\u200b\u4e3a\u200b\u6b63\u65f6\u200b\uff0c\u200b\u88ab\u79ef\u200b\u51fd\u6570\u200b\u4e0d\u200b\u4e3a\u200b 0\uff0c\u200b\u4f46\u662f\u200b\\(q(x)\\)\u200b\u4e3a\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u6c38\u8fdc\u200b\u4e5f\u200b\u62bd\u200b\u4e0d\u5230\u200b\u8fd9\u4e2a\u200b\u70b9\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\\(\\mu\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4f1a\u200b\u504f\u200b\u5c0f\u200b\u3002</p> <ol> <li>\\(q(x)\\) \u200b\u5f62\u72b6\u200b\u5c3d\u91cf\u200b\u4e0e\u200b \\(|f(x)| p(x)\\) \u200b\u63a5\u8fd1\u200b</li> </ol> <p>\u200b\u56e0\u4e3a\u200b</p> \\[\\sigma_q^2=\\int \\frac{f^2(x) p^2(x)}{q(x)} d x-\\mu^2=\\int \\frac{(f(x) p(x)-\\mu q(x))^2}{q(x)} d x\\] <p>\u200b\u5f53\u200b \\(q(x)\\) \u200b\u5f62\u72b6\u200b\u4e0e\u200b \\(|f(x)| p(x)\\) \u200b\u63a5\u8fd1\u200b\u65f6\u200b\uff0c\\(\\sigma_q^2\\)\u200b\u4f1a\u200b\u8f83\u200b\u5c0f\u200b\u3002</p> <ol> <li>\u200b\u5f53\u200b \\(x\\) \u200b\u8d8b\u4e8e\u200b\u65e0\u7a77\u200b\u65f6\u200b\uff0c\u200b\u8981\u6c42\u200b \\(p(x)=o(g(x))\\)</li> </ol> <p>\u200b\u4ecd\u7136\u200b\u662f\u200b\u7531\u4e8e\u200b</p> \\[\\sigma_q^2=\\int \\frac{f^2(x) p^2(x)}{q(x)} d x-\\mu^2=\\int \\frac{(f(x) p(x)-\\mu q(x))^2}{q(x)} d x\\] <p>\u200b\u82e5\u200b \\(p(x)\\) \u200b\u6bd4\u200b\\(g(x)\\)\u200b\u66f4\u200b\u9ad8\u9636\u200b\uff0c\u200b\u5219\u200b\\(\\sigma_q^2\\)\u200b\u4f1a\u200b\u8d8b\u4e8e\u200b\u65e0\u7a77\u5927\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u968f\u673a\u6a21\u62df\u6cd5\u8ba1\u7b97\u4e8c\u91cd\u79ef\u5206","title":"\u968f\u673a\u200b\u6a21\u62df\u6cd5\u200b\u8ba1\u7b97\u200b\u4e8c\u91cd\u79ef\u5206","text":"<p>\u200b\u7528\u200b\u968f\u673a\u200b\u6a21\u62df\u6cd5\u200b\u8ba1\u7b97\u200b\u4e8c\u91cd\u79ef\u5206\u200b</p> \\[ I=\\int_0^1 \\int_0^1 e^{x^2+y^2} d x d y \\] <p>\u200b\u5e76\u200b\u7ed9\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b\u533a\u95f4\u200b\u4f30\u8ba1\u200b\u3002</p> Python<pre><code># \u200b\u8bbe\u5b9a\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b\nnp.random.seed(0)\ndef f(x, y):\nreturn np.exp((x**2) + (y**2))\nf_list = []\nfor i in range(100000):\nx = np.random.uniform(0, 1)\ny = np.random.uniform(0, 1)\nf_list.append(f(x, y))\nintergral = np.mean(f_list)\nsigma_intergral = (1 - 0) * np.std(f_list) / (np.sqrt(100000))\nleft = intergral - 1.96 * sigma_intergral\nright = intergral + 1.96 * sigma_intergral\nprint(\"\u200b\u79ef\u5206\u200b\u503c\u4e3a\u200b\uff1a{:.4f}\".format(intergral))\nprint(\"95% \u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a({:.4f}, {:.4f})\".format(left, right))\n</code></pre> Text Only<pre><code>\u200b\u79ef\u5206\u200b\u503c\u4e3a\u200b\uff1a2.1438\n95%\u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a(2.1376, 2.1501)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u91cd\u8981\u6027\u62bd\u6837\u8ba1\u7b97\u79ef\u5206","title":"\u91cd\u8981\u6027\u200b\u62bd\u6837\u200b\u8ba1\u7b97\u200b\u79ef\u5206","text":"Python<pre><code>def f(x):\nreturn np.exp(-x) / (1 + x**2)\ndef q_1(x):\nreturn 1\ndef q_2(x):\nreturn np.exp(-x)\ndef q_3(x):\nreturn 1 / (np.pi * (1 + x**2))\ndef q_4(x):\nreturn (1 - np.exp(-1)) ** (-1) * np.exp(-x)\ndef q_5(x):\nreturn 4 / (np.pi * (1 + x**2))\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u753b\u51fa-fx-\u4e0e\u8bd5\u6295\u5bc6\u5ea6\u7684\u5f62\u72b6","title":"\u753b\u51fa\u200b \\(f(x)\\) \u200b\u4e0e\u200b\u8bd5\u200b\u6295\u200b\u5bc6\u5ea6\u200b\u7684\u200b\u5f62\u72b6","text":"Python<pre><code>import matplotlib.pyplot as plt\nplt.rcParams[\"font.size\"] = 18\nplt.rcParams[\"text.usetex\"] = True\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111)\nx = np.linspace(0, 1, 1000)\nfor fun in [f, q_1, q_2, q_3, q_4, q_5]:\ny = [fun(i) for i in x]\nax.plot(x, y, label=r\"${}$\".format(fun.__name__))\nax.set_xlabel(r\"$x$\")\nax.set_ylabel(r\"Function Value\", usetex=False)\nax.legend()\nplt.show()\n</code></pre> Python<pre><code># \u200b\u89c2\u5bdf\u200b\u5230\u200b\u6240\u6709\u200b\u51fd\u6570\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e0a\u5747\u200b\u5c0f\u4e8e\u200b 1.7\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u7528\u820d\u200b\u9009\u6cd5\u200b\u751f\u6210\u200b\u6837\u672c\u200b\ndef gen_sample(fun, num_sample):\nsample = []\nwhile len(sample) &lt; num_sample:\nx = np.random.uniform(0, 1)\nu = np.random.uniform(0, 1.7)\nif u &lt;= fun(x):\nsample.append(x)\nreturn sample\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u4ee5q_5\u4e3a\u4f8b\u68c0\u9a8c\u751f\u6210\u7684\u6837\u672c\u4e0e\u539f\u5bc6\u5ea6\u51fd\u6570\u662f\u5426\u63a5\u8fd1","title":"\u4ee5\u200b\\(q_5\\)\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u68c0\u9a8c\u200b\u751f\u6210\u200b\u7684\u200b\u6837\u672c\u200b\u4e0e\u200b\u539f\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\u662f\u5426\u200b\u63a5\u8fd1","text":"Python<pre><code>fig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111)\nplt.hist(gen_sample(q_5, 100000), bins=50, density=True)\nax.set_xlabel(r\"$x$\")\nax.set_ylabel(r\"$q_5$\")\nplt.show()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u91cd\u8981\u6027\u62bd\u6837_1","title":"\u91cd\u8981\u6027\u200b\u62bd\u6837","text":"Python<pre><code>n = 500\nn_monte_carlo = 2000\nfor q in [q_1, q_2, q_3, q_4, q_5]:\nintergral_list = []\nfor monte_carlo in range(n_monte_carlo):\nsample = gen_sample(q, n)\n# \u200b\u5982\u679c\u200b q \u200b\u51fd\u6570\u200b\u7684\u200b\u5b9a\u4e49\u57df\u200b\u4e0d\u662f\u200b (0, 1)\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u7528\u200b\u81ea\u200b\u6b63\u5219\u200b\u5316\u200b\u62bd\u6837\u200b\nif q.__name__[-1] in [\"2\", \"3\"]:\n# \u200b\u6c42\u200b q \u200b\u81ea\u8eab\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e0a\u200b\u7684\u200b\u79ef\u5206\u200b\uff0c\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u9700\u8981\u200b\u5c06\u200b q(i) \u200b\u9664\u4ee5\u200b\u8fd9\u4e2a\u200b\u79ef\u5206\u200b\uff0c\u200b\u5f97\u5230\u200b q \u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e0a\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\nq_density = np.mean([q(i) for i in sample])\nelse:\nq_density = 1\nintergral = np.mean([f(i) / (q(i) / q_density) for i in sample])\nintergral_list.append(intergral)\nintergral_mean = np.mean(intergral_list)\nintergral_std = np.std(intergral_list)\nprint(\"{}\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a{:.4f}\".format(q.__name__, intergral_mean))\nprint(\"{}\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a{:.4f}\".format(q.__name__, intergral_std))\n</code></pre> Text Only<pre><code>q_1\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.5251\nq_1\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.0109\nq_2\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.5676\nq_2\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.0116\nq_3\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.5468\nq_3\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.0108\nq_4\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.5250\nq_4\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.0044\nq_5\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.5250\nq_5\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a0.0064\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/monte-carlo-method/#\u6700\u4f18\u7684\u8bd5\u6295\u51fd\u6570","title":"\u6700\u4f18\u200b\u7684\u200b\u8bd5\u200b\u6295\u200b\u51fd\u6570","text":"<p>\u200b\u6700\u597d\u200b\u7684\u200b\u8bd5\u200b\u6295\u200b\u51fd\u6570\u200b\u662f\u200b\\(q_4\\)\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u7684\u200b\u4f30\u8ba1\u200b\u8bef\u5dee\u200b\u6700\u5c0f\u200b\u3002</p> <p>\u200b\u8fd9\u662f\u200b\u7531\u4e8e\u200b\\(q_4\\)\u200b\u7684\u200b\u5f62\u72b6\u200b\u4e0e\u200b\\(f(x)\\)\u200b\u7684\u200b\u5f62\u72b6\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u4e14\u200b\\(q_4\\)\u200b\u5728\u200b\\((0, 1)\\)\u200b\u4e0a\u200b\u7684\u200b\u79ef\u5206\u200b\u503c\u4e3a\u200b 1\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u81ea\u200b\u6b63\u5219\u200b\u5316\u200b\u3002</p> <p>\u200b\u5176\u4ed6\u200b\u7684\u200b\u8bd5\u200b\u6295\u200b\u5bc6\u5ea6\u200b\u4e2d\u200b\uff0c\\(q_2\\)\u200b\u548c\u200b\\(q_3\\)\u200b\u7684\u200b\u5b9a\u4e49\u57df\u200b\u4e0d\u662f\u200b\\((0, 1)\\)\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u81ea\u200b\u6b63\u5219\u200b\u5316\u200b\u3002\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b\u4f30\u8ba1\u200b\u8bef\u5dee\u200b\u589e\u5927\u200b\u3002</p> <p>\\(q_1\\)\u200b\u867d\u7136\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u81ea\u200b\u6b63\u5219\u200b\u5316\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u200b\u7684\u200b\u5f62\u72b6\u200b\u4e0e\u200b\\(f(x)\\)\u200b\u7684\u200b\u5f62\u72b6\u200b\u4e0d\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f30\u8ba1\u200b\u8bef\u5dee\u200b\u4e5f\u200b\u8f83\u5927\u200b\u3002</p> <p>\\(q_5\\)\u200b\u4e5f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e0d\u9519\u200b\u7684\u200b\u8bd5\u200b\u6295\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u81ea\u200b\u6b63\u5219\u200b\u5316\u200b\uff0c\u200b\u4e14\u200b\u5f62\u72b6\u200b\u4e0e\u200b\\(f(x)\\)\u200b\u7684\u200b\u5f62\u72b6\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u4f46\u200b\u6ca1\u6709\u200b\\(q_4\\)\u200b\u66f4\u200b\u63a5\u8fd1\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/","title":"\u65b9\u5dee\u200b\u7f29\u51cf\u200b\u6280\u672f\u200b\u4e4b\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5","text":"<p>\u200b\u4f7f\u7528\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u964d\u4f4e\u200b\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u5f97\u5230\u200b\u7684\u200b\u4f30\u8ba1\u91cf\u200b\u7684\u200b\u65b9\u5dee\u200b\u3002</p> Python<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom tqdm import tqdm\nfrom scipy.stats import gamma\nnp.random.seed(0)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u65b9\u5dee\u7f29\u51cf\u6280\u672f\u6761\u4ef6\u671f\u671b\u6cd5","title":"\u65b9\u5dee\u200b\u7f29\u51cf\u200b\u6280\u672f\u200b\u2014\u2014\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u540e\u9a8c\u5206\u5e03","title":"\u540e\u9a8c\u200b\u5206\u5e03","text":"Python<pre><code>Number = np.array(\n[\n38,\n1,\n13,\n36,\n24,\n3,\n15,\n34,\n22,\n5,\n17,\n32,\n20,\n7,\n11,\n30,\n26,\n9,\n28,\n37,\n2,\n14,\n35,\n23,\n4,\n16,\n33,\n21,\n6,\n18,\n31,\n19,\n8,\n12,\n29,\n25,\n10,\n27,\n]\n)\nWheel1 = np.array(\n[\n2127,\n2082,\n2110,\n2221,\n2192,\n2008,\n2035,\n2113,\n2099,\n2199,\n2044,\n2133,\n1912,\n1999,\n1974,\n2051,\n1984,\n2053,\n2019,\n2046,\n1999,\n2168,\n2150,\n2041,\n2047,\n2091,\n2142,\n2196,\n2153,\n2191,\n2192,\n2284,\n2136,\n2110,\n2032,\n2188,\n2121,\n2158,\n]\n)\nwheel2 = np.array(\n[\n1288,\n1234,\n1261,\n1251,\n1164,\n1438,\n1264,\n1335,\n1342,\n1232,\n1326,\n1302,\n1227,\n1192,\n1278,\n1336,\n1296,\n1298,\n1205,\n1189,\n1171,\n1279,\n1315,\n1296,\n1256,\n1304,\n1304,\n1351,\n1281,\n1392,\n1306,\n1330,\n1266,\n1224,\n1190,\n1229,\n1320,\n1336,\n]\n)\nwheel = pd.DataFrame({\"Wheel1\": Wheel1, \"Wheel2\": wheel2}, index=Number)\nwheel.sort_index(inplace=True)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#wheel-1","title":"Wheel 1","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u81ea\u7136\u7684-monte-carlo-\u65b9\u6cd5","title":"\u81ea\u7136\u200b\u7684\u200b Monte Carlo \u200b\u65b9\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u6a21\u62df-dirichlet-\u5206\u5e03\u7684\u968f\u673a\u6570","title":"\u6a21\u62df\u200b Dirichlet \u200b\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u6570","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u6bcf\u6b21\u200b\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u9700\u8981\u200b\u751f\u6210\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u4e2a\u6570\u200b\nn = 100\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u8ba1\u7b97mu\u7684\u4f30\u8ba1\u503c\u53ca\u517695\u7f6e\u4fe1\u533a\u95f4","title":"\u8ba1\u7b97\u200b\\(\\mu\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u53ca\u5176\u200b\\(95\\%\\)\u200b\u7f6e\u4fe1\u533a\u95f4","text":"Python<pre><code>def naive_nonte_carlo(n):\ndf = pd.DataFrame(np.random.dirichlet(wheel[\"Wheel1\"], size=n), columns=wheel.index)\ndf[\"p19&gt;max(pi)\"] = df.apply(lambda x: x[19] &gt; max(x[x.index != 19]), axis=1)\nmu = df[\"p19&gt;max(pi)\"].mean()\nreturn mu\n</code></pre> Python<pre><code>mu_list_maive_monte_carlo = []\nfor simulation in tqdm(range(1000)):\nmu = naive_nonte_carlo(n)\nmu_list_maive_monte_carlo.append(mu)\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1000/1000 [00:12&lt;00:00, 78.60it/s]\n</code></pre> Python<pre><code>mu_mean_maive_monte_carlo = np.mean(mu_list_maive_monte_carlo)\nmu_std_maive_monte_carlo = np.std(mu_list_maive_monte_carlo)\nleft = mu_mean_maive_monte_carlo - 1.96 * mu_std_maive_monte_carlo\nright = mu_mean_maive_monte_carlo + 1.96 * mu_std_maive_monte_carlo\nprint(\"mu \u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_mean_maive_monte_carlo))\nprint(\"95% \u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a({:.4f}, {:.4f})\".format(left, right))\n</code></pre> Text Only<pre><code>mu\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a0.6318\n95%\u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a(0.5378, 0.7259)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u753b\u51fa-monte-carlo-\u4f30\u8ba1\u7684\u76f4\u65b9\u56fe","title":"\u753b\u51fa\u200b Monte Carlo \u200b\u4f30\u8ba1\u200b\u7684\u200b\u76f4\u65b9\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(8, 8))\nax = fig.add_subplot(111)\nplt.hist(mu_list_maive_monte_carlo)\nax.set_xlabel(r\"$\\mu$\")\nax.set_ylabel(\"Frequency\")\nplt.show()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u6761\u4ef6\u671f\u671b\u6cd5","title":"\u6761\u4ef6\u671f\u671b\u200b\u6cd5","text":"<p>\u200b\u8fd9\u91cc\u200b\u6709\u70b9\u200b\u7591\u95ee\u200b\uff0c\u200b\u6211\u200b\u4e0d\u200b\u77e5\u9053\u200b\u600e\u4e48\u200b\u8ba1\u7b97\u200b\u5f53\u200b\u7ed9\u5b9a\u200b\\(p^{19}\\)\u200b\u65f6\u200b\uff0c\u200b\u5176\u4ed6\u200b\\(p\\)\u200b\u5c0f\u4e8e\u200b\\(p^{19}\\)\u200b\u7684\u200b\u6761\u4ef6\u671f\u671b\u200b\u3002\u200b\u4ee3\u7801\u200b\u4e2d\u7528\u200b\u7684\u200b\u662f\u200b\u72ec\u7acb\u200b\u5206\u5e03\u200b\u7684\u200b CDF \u200b\u503c\u200b\u76f8\u4e58\u200b\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b\u5404\u4e2a\u200b\u53d8\u91cf\u200b\u4e4b\u95f4\u200b\u662f\u200b\u76f8\u5173\u200b\u7684\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u72ec\u7acb\u200b\u5206\u5e03\u200b\u7684\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u5bf9\u6bcf\u4e00\u4e2a-wheel_19\u6c42\u6761\u4ef6\u671f\u671b","title":"\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b wheel_19\uff0c\u200b\u6c42\u200b\u6761\u4ef6\u671f\u671b","text":"Python<pre><code>def less_than_q19():\n# \u200b\u7528\u200b gamma \u200b\u5206\u5e03\u200b\u751f\u6210\u200b wheel_19\nwheel_19 = np.random.gamma(shape=wheel[\"Wheel1\"][19] + 1)\nless_than_q19 = 1\n# \u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b q_i\uff0c\u200b\u751f\u6210\u200b gamma \u200b\u5206\u5e03\u200b\uff0c\u200b\u7136\u540e\u200b\u8ba1\u7b97\u200b wheel_i&lt;wheel_19 \u200b\u7684\u200b\u6982\u7387\u200b\nfor i in range(1, 38 + 1):\nif i != 19:\nwheel_i_less_than_q19 = gamma.cdf(wheel_19, wheel[\"Wheel1\"][i] + 1)\nless_than_q19 *= wheel_i_less_than_q19\nreturn less_than_q19\n</code></pre> Python<pre><code>mu_list_conditional_expectation = []\nfor simulation in tqdm(range(1000)):\nless_than_q19_list = []\nfor i in range(n):\nless_than_q19_value = less_than_q19()\nless_than_q19_list.append(less_than_q19_value)\nmu = np.mean(less_than_q19_list)\nmu_list_conditional_expectation.append(mu)\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1000/1000 [09:27&lt;00:00,  1.76it/s]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u8ba1\u7b97mu\u7684\u4f30\u8ba1\u503c\u53ca\u517695\u7f6e\u4fe1\u533a\u95f4_1","title":"\u8ba1\u7b97\u200b\\(\\mu\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u53ca\u5176\u200b\\(95\\%\\)\u200b\u7f6e\u4fe1\u533a\u95f4","text":"Python<pre><code>mu_mean_conditional_expectation = np.mean(mu_list_conditional_expectation)\nmu_std_conditional_expectation = np.std(mu_list_conditional_expectation)\nleft = mu_mean_conditional_expectation - 1.96 * mu_std_conditional_expectation\nright = mu_mean_conditional_expectation + 1.96 * mu_std_conditional_expectation\nprint(\"mu \u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_mean_conditional_expectation))\nprint(\"95% \u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a({:.4f}, {:.4f})\".format(left, right))\n</code></pre> Text Only<pre><code>mu\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a0.6299\n95%\u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a(0.5631, 0.6968)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u753b\u51fa\u6761\u4ef6\u671f\u671b\u6cd5\u4f30\u8ba1\u7684\u76f4\u65b9\u56fe","title":"\u753b\u51fa\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u4f30\u8ba1\u200b\u7684\u200b\u76f4\u65b9\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(8, 8))\nax = fig.add_subplot(111)\nplt.hist(mu_list_conditional_expectation)\nax.set_xlabel(r\"$\\mu$\")\nax.set_ylabel(\"Frequency\")\nplt.show()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u6bd4\u8f83\u4e24\u79cd\u65b9\u6cd5\u7684\u65b9\u5dee","title":"\u6bd4\u8f83\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u65b9\u5dee","text":"Python<pre><code>print(\"\u200b\u81ea\u7136\u200b\u7684\u200b Monte Carlo \u200b\u65b9\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_std_maive_monte_carlo))\nprint(\"\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_std_conditional_expectation))\n</code></pre> Text Only<pre><code>\u200b\u81ea\u7136\u200b\u7684\u200bMonte Carlo\u200b\u65b9\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a0.0480\n\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a0.0341\n</code></pre> <p>\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\u6bd4\u200b\u81ea\u7136\u200b\u7684\u200b Monte Carlo \u200b\u65b9\u6cd5\u200b\u7684\u200b\u65b9\u5dee\u200b\u66f4\u200b\u5c0f\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#wheel-2","title":"Wheel 2","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u81ea\u7136\u7684-monte-carlo-\u65b9\u6cd5_1","title":"\u81ea\u7136\u200b\u7684\u200b Monte Carlo \u200b\u65b9\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u6a21\u62df-dirichlet-\u5206\u5e03\u7684\u968f\u673a\u6570_1","title":"\u6a21\u62df\u200b Dirichlet \u200b\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u6570","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u6bcf\u6b21\u200b\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u9700\u8981\u200b\u751f\u6210\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u4e2a\u6570\u200b\nn = 100\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u8ba1\u7b97mu\u7684\u4f30\u8ba1\u503c\u53ca\u517695\u7f6e\u4fe1\u533a\u95f4_2","title":"\u8ba1\u7b97\u200b\\(\\mu\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u53ca\u5176\u200b\\(95\\%\\)\u200b\u7f6e\u4fe1\u533a\u95f4","text":"Python<pre><code>def naive_nonte_carlo(n):\ndf = pd.DataFrame(np.random.dirichlet(wheel[\"Wheel2\"], size=n), columns=wheel.index)\ndf[\"p3&gt;max(pi)\"] = df.apply(lambda x: x[3] &gt; max(x[x.index != 3]), axis=1)\nmu = df[\"p3&gt;max(pi)\"].mean()\nreturn mu\n</code></pre> Python<pre><code>mu_list_maive_monte_carlo = []\nfor simulation in tqdm(range(1000)):\nmu = naive_nonte_carlo(n)\nmu_list_maive_monte_carlo.append(mu)\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1000/1000 [00:14&lt;00:00, 70.42it/s]\n</code></pre> Python<pre><code>mu_mean_maive_monte_carlo = np.mean(mu_list_maive_monte_carlo)\nmu_std_maive_monte_carlo = np.std(mu_list_maive_monte_carlo)\nleft = mu_mean_maive_monte_carlo - 1.96 * mu_std_maive_monte_carlo\nright = mu_mean_maive_monte_carlo + 1.96 * mu_std_maive_monte_carlo\nprint(\"mu \u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_mean_maive_monte_carlo))\nprint(\"95% \u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a({:.4f}, {:.4f})\".format(left, right))\n</code></pre> Text Only<pre><code>mu\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a0.7401\n95%\u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a(0.6578, 0.8224)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u753b\u51fa-monte-carlo-\u4f30\u8ba1\u7684\u76f4\u65b9\u56fe_1","title":"\u753b\u51fa\u200b Monte Carlo \u200b\u4f30\u8ba1\u200b\u7684\u200b\u76f4\u65b9\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(8, 8))\nax = fig.add_subplot(111)\nplt.hist(mu_list_maive_monte_carlo)\nax.set_xlabel(r\"$\\mu$\")\nax.set_ylabel(\"Frequency\")\nplt.show()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u6761\u4ef6\u671f\u671b\u6cd5_1","title":"\u6761\u4ef6\u671f\u671b\u200b\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u5bf9\u6bcf\u4e00\u4e2a-wheel_3\u6c42\u6761\u4ef6\u671f\u671b","title":"\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b wheel_3\uff0c\u200b\u6c42\u200b\u6761\u4ef6\u671f\u671b","text":"Python<pre><code>def less_than_q3():\n# \u200b\u7528\u200b gamma \u200b\u5206\u5e03\u200b\u751f\u6210\u200b wheel_3\nwheel_3 = np.random.gamma(shape=wheel[\"Wheel2\"][3] + 1)\nless_than_q3 = 1\n# \u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b q_i\uff0c\u200b\u751f\u6210\u200b gamma \u200b\u5206\u5e03\u200b\uff0c\u200b\u7136\u540e\u200b\u8ba1\u7b97\u200b wheel_i&lt;wheel_3 \u200b\u7684\u200b\u6982\u7387\u200b\nfor i in range(1, 38 + 1):\nif i != 3:\nwheel_i_less_than_q3 = gamma.cdf(wheel_3, wheel[\"Wheel2\"][i] + 1)\nless_than_q3 *= wheel_i_less_than_q3\nreturn less_than_q3\n</code></pre> Python<pre><code>mu_list_conditional_expectation = []\nfor simulation in tqdm(range(1000)):\nless_than_q3_list = []\nfor i in range(n):\nless_than_q3_value = less_than_q3()\nless_than_q3_list.append(less_than_q3_value)\nmu = np.mean(less_than_q3_list)\nmu_list_conditional_expectation.append(mu)\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1000/1000 [08:54&lt;00:00,  1.87it/s]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u8ba1\u7b97mu\u7684\u4f30\u8ba1\u503c\u53ca\u517695\u7f6e\u4fe1\u533a\u95f4_3","title":"\u8ba1\u7b97\u200b\\(\\mu\\)\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u53ca\u5176\u200b\\(95\\%\\)\u200b\u7f6e\u4fe1\u533a\u95f4","text":"Python<pre><code>mu_mean_conditional_expectation = np.mean(mu_list_conditional_expectation)\nmu_std_conditional_expectation = np.std(mu_list_conditional_expectation)\nleft = mu_mean_conditional_expectation - 1.96 * mu_std_conditional_expectation\nright = mu_mean_conditional_expectation + 1.96 * mu_std_conditional_expectation\nprint(\"mu \u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_mean_conditional_expectation))\nprint(\"95% \u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a({:.4f}, {:.4f})\".format(left, right))\n</code></pre> Text Only<pre><code>mu\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e3a\u200b\uff1a0.7393\n95%\u200b\u7f6e\u4fe1\u6c34\u5e73\u200b\u7684\u200b\u7f6e\u4fe1\u533a\u95f4\u200b\u4e3a\u200b\uff1a(0.6828, 0.7959)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u753b\u51fa\u6761\u4ef6\u671f\u671b\u6cd5\u4f30\u8ba1\u7684\u76f4\u65b9\u56fe_1","title":"\u753b\u51fa\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u4f30\u8ba1\u200b\u7684\u200b\u76f4\u65b9\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(8, 8))\nax = fig.add_subplot(111)\nplt.hist(mu_list_conditional_expectation)\nax.set_xlabel(r\"$\\mu$\")\nax.set_ylabel(\"Frequency\")\nplt.show()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conditional-expectation-method/#\u6bd4\u8f83\u4e24\u79cd\u65b9\u6cd5\u7684\u65b9\u5dee_1","title":"\u6bd4\u8f83\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u65b9\u5dee","text":"Python<pre><code>print(\"\u200b\u81ea\u7136\u200b\u7684\u200b Monte Carlo \u200b\u65b9\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_std_maive_monte_carlo))\nprint(\"\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a{:.4f}\".format(mu_std_conditional_expectation))\n</code></pre> Text Only<pre><code>\u200b\u81ea\u7136\u200b\u7684\u200bMonte Carlo\u200b\u65b9\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a0.0420\n\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e3a\u200b\uff1a0.0288\n</code></pre> <p>\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\u6bd4\u200b\u81ea\u7136\u200b\u7684\u200b Monte Carlo \u200b\u65b9\u6cd5\u200b\u7684\u200b\u65b9\u5dee\u200b\u66f4\u200b\u5c0f\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variance-decomposition/","title":"\u65b9\u5dee\u200b\u5206\u89e3\u200b\u516c\u5f0f","text":"<p>\u200b\u5e94\u7528\u200b\u91cd\u200b\u671f\u671b\u200b\u516c\u5f0f\u200b\uff0c\u200b\u8bc1\u660e\u200b\u65b9\u5dee\u200b\u5206\u89e3\u200b\u516c\u5f0f\u200b\u3002 $$ \\operatorname{Var}(X)=\\operatorname{Var}(\\mathrm{E}[X \\mid Y])+\\mathrm{E}[\\operatorname{Var}(X \\mid Y)] $$</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/batch-normalization/","title":"Batch Normalization","text":"<p>\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u662f\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u4e4b\u4e00\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#batch-normalization-\u7684\u8fc7\u7a0b","title":"Batch Normalization \u200b\u7684\u200b\u8fc7\u7a0b","text":"<p>Batch Normalization \u200b\u901a\u8fc7\u200b\u5c06\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u7684\u200b\u539f\u59cb\u200b\u8f93\u51fa\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\uff08\u200b\u51cf\u53bb\u200b\u5747\u503c\u200b\uff0c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\uff09\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4e58\u4ee5\u200b\\(\\gamma\\)\uff08Scale\uff09\uff0c\u200b\u518d\u200b\u52a0\u4e0a\u200b\\(\\beta\\)\uff08Offset\uff09\u3002\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\u200b\u90fd\u200b\u662f\u200b\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u5b83\u4eec\u200b\u3002</p> <p>\u200b\u5177\u4f53\u200b\u7684\u200b\u6570\u5b66\u516c\u5f0f\u200b\u5982\u4e0b\u200b\u3002</p> <p>\u200b\u6c42\u200b\u7b2c\u200b\\(l\\)\u200b\u5c42\u200b\u7684\u200b\u6279\u200b\u5747\u503c\u200b\uff1a</p> \\[ \\mu=\\frac{1}{m} \\sum_{i=1}^m Z^{l(i)} \\] <p>\u200b\u6c42\u200b\u7b2c\u200b\\(l\\)\u200b\u5c42\u200b\u7684\u200b\u6279\u200b\u65b9\u5dee\u200b\uff1a</p> \\[ \\sigma^2=\\frac{1}{m} \\sum_{i=1}^m\\left(Z^{l(i)}-\\mu\\right)^2 \\] <p>\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u7ed3\u679c\u200b\uff1a</p> \\[ \\hat{Z}^l=\\gamma * \\frac{Z^l-\\mu}{\\sqrt{\\sigma^2+\\varepsilon}}+\\beta \\] <p>\u200b\u7ecf\u8fc7\u200b\u4e0a\u8ff0\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5373\u53ef\u200b\u5c06\u200b\\(Z^l\\)\u200b\u8f6c\u6362\u200b\u4e3a\u200b\\(\\hat{Z}^l\\)\u3002</p> <p>\u200b\u5728\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u200b\u4f18\u5316\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200b\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\uff0c\u200b\u5219\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u8fd0\u7b97\u200b\u5c31\u200b\u4e3a\u200b\u5e38\u89c4\u200b\u7684\u200b z-score \u200b\u6807\u51c6\u5316\u200b\u3002</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u52a0\u4e0a\u200b\u53c2\u6570\u200b\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\uff1f</p> <p>\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\u200b\u662f\u200b\u53ef\u200b\u4f18\u5316\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u81f3\u5c11\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u5b83\u4eec\u200b\u53d6\u503c\u200b\u4e3a\u200b \\(\\sqrt{\\sigma^2+\\varepsilon}\\) \u200b\u548c\u200b \\(\\mu\\)\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u7ed3\u679c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u539f\u59cb\u200b\u7684\u200b \\(Z^l\\)\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e0d\u4f1a\u200b\u6bd4\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u7ed3\u679c\u200b\u5dee\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#batch-normalization-\u7684-python-\u5b9e\u73b0","title":"Batch Normalization \u200b\u7684\u200b Python \u200b\u5b9e\u73b0","text":"<p>\u200b\u53ea\u8981\u200b\u52a0\u4e0a\u200b</p> Python<pre><code>keras.layers.BatchNormalization()\n</code></pre> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#batch-normalization-\u7684\u4f18\u70b9","title":"Batch Normalization \u200b\u7684\u200b\u4f18\u70b9","text":"<p>Batch Normalization \u200b\u53ef\u4ee5\u200b\u4f7f\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5177\u6709\u200b\u4ee5\u4e0b\u200b\u4f18\u70b9\u200b\uff1a</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#\u52a0\u5feb\u8bad\u7ec3\u901f\u5ea6","title":"\u52a0\u5feb\u200b\u8bad\u7ec3\u200b\u901f\u5ea6","text":"<ul> <li>\u200b\u6807\u51c6\u5316\u200b\u540e\u200b\u7684\u200b\u503c\u200b\u7684\u200b\u5206\u5e03\u200b\u66f4\u52a0\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u7528\u200b\u66f4\u200b\u5927\u200b\u7684\u200b\u5b66\u4e60\u200b\u7387\u200b\u8fdb\u884c\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u52a0\u5feb\u200b\u8bad\u7ec3\u200b\u901f\u5ea6\u200b\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#\u5bf9\u68af\u5ea6\u4e0b\u964d\u7684\u521d\u59cb\u503c\u66f4\u52a0\u4e0d\u654f\u611f","title":"\u5bf9\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\u66f4\u52a0\u200b\u4e0d\u200b\u654f\u611f","text":"<ul> <li>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6807\u51c6\u5316\u200b\uff0c\u200b\u90a3\u4e48\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u7684\u200b\u521d\u59cb\u200b\u70b9\u9009\u200b\u5f97\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u7684\u200b\u6b21\u6570\u200b\u53ef\u80fd\u200b\u5dee\u522b\u200b\u975e\u5e38\u200b\u5927\u200b\u3002\u200b\u6807\u51c6\u5316\u200b\u540e\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u70b9\u200b\u79bb\u200b\u6700\u200b\u4f18\u70b9\u200b\u7684\u200b\u8ddd\u79bb\u200b\u90fd\u200b\u5dee\u4e0d\u591a\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5bf9\u200b\u521d\u59cb\u503c\u200b\u4e0d\u200b\u654f\u611f\u200b\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u7f13\u89e3\u8fc7\u62df\u5408\u95ee\u9898","title":"\u5728\u200b\u4e00\u5b9a\u200b\u7a0b\u5ea6\u200b\u4e0a\u200b\u7f13\u89e3\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898","text":"<p>\u200b\u6807\u51c6\u5316\u200b\u4f1a\u200b\u5c06\u200b\u539f\u59cb\u6570\u636e\u200b\u7684\u200b\u6781\u7aef\u200b\u503c\u200b\u53d8\u6362\u200b\u4e3a\u200b\u5408\u7406\u200b\u7684\u200b\u533a\u95f4\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u53d7\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6781\u7aef\u200b\u503c\u200b\u7684\u200b\u5f71\u54cd\u200b\u66f4\u200b\u5c0f\u200b\uff0c\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u6cdb\u5316\u200b\u80fd\u529b\u200b\u66f4\u5f3a\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/batch-normalization/#\u5b66\u4e60\u89c6\u9891","title":"\u5b66\u4e60\u200b\u89c6\u9891","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/thanks-to-those-helpful-people-in-my-life/","title":"\u611f\u8c22\u200b\u6211\u200b\u4eba\u751f\u200b\u4e2d\u200b\u7684\u200b\u8d35\u200b\u4eba\u4eec","text":"<p>\u200b\u6211\u200b\u7684\u200b\u4eba\u751f\u200b\u4e2d\u200b\u9047\u5230\u200b\u4e86\u200b\u5f88\u591a\u200b\u8d35\u4eba\u200b\uff0cTa \u200b\u4eec\u200b\u65e0\u79c1\u200b\u5730\u200b\u652f\u6301\u200b\u6211\u200b\u3001\u200b\u5e2e\u52a9\u200b\u6211\u200b\uff0c\u200b\u7ed9\u4e88\u200b\u6211\u200b\u673a\u4f1a\u200b\u3001\u200b\u5e26\u7ed9\u200b\u6211\u200b\u6210\u957f\u200b\u3002\u200b\u501f\u5174\u5168\u200b\u6295\u8d44\u200b\u6bd4\u8d5b\u200b\u7ed3\u675f\u200b\u4e4b\u9645\u200b\uff0c\u200b\u8bb0\u5f55\u200b\u6b64\u523b\u200b\u7684\u200b\u611f\u60f3\u200b\u3002</p> <p></p> <p>\u200b\u8d76\u5728\u200b\u5174\u5168\u200b\u6295\u8d44\u200b\u6bd4\u8d5b\u200b\u7ed3\u675f\u200b\u4e4b\u9645\u200b\u8bb0\u5f55\u200b\u4e00\u4e0b\u200b</p> <p>\u200b\u4e24\u4e2a\u200b\u591a\u6708\u200b\u524d\u200b\uff0c\u200b\u4e94\u4f4d\u200b\u5bf9\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u611f\u5174\u8da3\u200b\u7684\u200b\u5c0f\u4f19\u4f34\u200b\u805a\u5230\u200b\u4e86\u200b\u4e00\u8d77\u200b\u53c2\u52a0\u200b\u8fd9\u6b21\u200b\u6bd4\u8d5b\u200b\uff0c\u200b\u6211\u4eec\u200b\u7b2c\u4e00\u6b21\u200b\u6709\u200b\u673a\u4f1a\u200b\u5728\u200b\u5e02\u573a\u200b\u4e0a\u200b\u5b9e\u73b0\u200b\u81ea\u5df1\u200b\u7684\u200b\u60f3\u6cd5\u200b\u3002\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5e76\u200b\u4e0d\u200b\u603b\u662f\u200b\u987a\u5229\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u5f53\u200b\u4e00\u4e2a\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u6570\u5b57\u200b\u5448\u73b0\u200b\u5728\u200b\u6211\u200b\u773c\u524d\u200b\u65f6\u200b\uff0c\u200b\u5f53\u200b\u6211\u200b\u77e5\u9053\u200b\u81ea\u5df2\u200b\u5728\u200b\u505a\u200b\u4ec0\u4e48\u200b\u5e76\u4e14\u200b\u77e5\u9053\u200b\u9884\u671f\u200b\u4f1a\u200b\u5f97\u5230\u200b\u4ec0\u4e48\u200b\u65f6\u200b\uff0c\u200b\u6211\u200b\u603b\u662f\u200b\u53d1\u81ea\u5185\u5fc3\u200b\u5730\u200b\u611f\u5230\u200b\u8e0f\u5b9e\u200b\u548c\u200b\u6ee1\u8db3\u200b\u3002</p> <p>\u200b\u5f88\u200b\u5f00\u5fc3\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u80fd\u200b\u5728\u200b\u4eca\u665a\u200b\u4e0e\u200b\u5927\u5bb6\u200b\u505a\u200b\u5206\u4eab\u200b\uff0c\u200b\u6700\u7ec8\u200b\u7684\u200b\u5206\u4eab\u200b\u4e5f\u200b\u6709\u5e78\u200b\u5f97\u5230\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u8001\u5e08\u200b\u548c\u200b\u540c\u5b66\u200b\u4eec\u200b\u7684\u200b\u597d\u8bc4\u200b\u3002\u200b\u867d\u7136\u200b\u52e4\u594b\u200b\u548c\u200b\u52aa\u529b\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u4fdd\u8bc1\u200b\u80fd\u200b\u5728\u200b\u6536\u76ca\u7387\u200b\u4e0a\u200b\u53d6\u5f97\u200b\u597d\u200b\u6210\u7ee9\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u4e00\u4e9b\u200b\u5e78\u8fd0\u200b\uff0c\u200b\u4f46\u200b\u5e78\u8fd0\u200b\u672c\u8eab\u200b\u4e5f\u8bb8\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u56e2\u961f\u200b\u52aa\u529b\u200b\u4ed8\u51fa\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u7d27\u5f20\u200b\u7684\u200b\u7855\u58eb\u200b\u9636\u6bb5\u200b\u6709\u200b\u5f88\u591a\u200b\u5f85\u529e\u200b\u4e8b\u9879\u200b\uff0c\u200b\u6211\u200b\u77e5\u9053\u200b\u81ea\u5df1\u200b\u8fd8\u200b\u53ea\u662f\u200b\u5728\u200b\u6709\u9650\u200b\u7684\u200b\u65f6\u95f4\u200b\u5185\u200b\u505a\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u6d45\u663e\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u4f46\u200b\u80fd\u200b\u5f97\u5230\u200b\u4e00\u4e9b\u200b\u771f\u8bda\u200b\u7684\u200b\u8ba4\u53ef\u200b\uff0c\u200b\u771f\u662f\u200b\u4e00\u4ef6\u200b\u4ee4\u4eba\u611f\u52a8\u200b\u7684\u200b\u4e8b\u200b\u3002</p> <p>\u200b\u6211\u200b\u60f3\u200b\u628a\u200b\u4e00\u4e9b\u200b\u611f\u8c22\u200b\u5f53\u505a\u200b\u5e78\u8fd0\u200b\u3002\u200b\u5e78\u8fd0\u200b\u6765\u5230\u200b\u7ba1\u9662\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u80fd\u200b\u4e00\u76f4\u200b\u4e3a\u200b\u540c\u5b66\u200b\u4eec\u200b\u7528\u5fc3\u200b\u4e3e\u529e\u200b\u9ad8\u8d28\u91cf\u200b\u7684\u200b\u6d3b\u52a8\u200b\u3002\u200b\u5728\u200b\u73af\u5883\u200b\u590d\u6742\u591a\u53d8\u200b\u7684\u200b\u65f6\u671f\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ecd\u7136\u200b\u6709\u200b\u4e30\u5bcc\u200b\u7684\u200b\u673a\u4f1a\u200b\u4e0e\u200b\u5404\u4f4d\u200b\u8001\u5e08\u200b\u540c\u5b66\u200b\u4eec\u200b\u89c1\u9762\u200b\u4ea4\u6d41\u200b\uff0c\u200b\u771f\u662f\u200b\u4e00\u4ef6\u200b\u5e78\u4e8b\u200b\u3002\u200b\u5e78\u8fd0\u200b\u9047\u5230\u200b\u90b9\u200b\u8001\u5e08\u200b\uff0c\u200b\u60a8\u200b\u5bf9\u200b\u6211\u4eec\u200b\u5404\u79cd\u200b\u60f3\u6cd5\u200b\u7684\u200b\u652f\u6301\u200b\u548c\u200b\u6307\u5bfc\u200b\u3001\u200b\u751f\u52a8\u200b\u5f62\u8c61\u200b\u7684\u200b\u6295\u8d44\u200b\u7406\u5ff5\u200b\u4f1a\u200b\u8ba9\u200b\u6211\u200b\u4e00\u76f4\u200b\u8bb0\u5f97\u200b\u5e78\u8fd0\u200b\u6709\u200b\u56db\u4f4d\u200b\u5c0f\u4f19\u4f34\u200b\u548c\u200b\u6211\u200b\u4e00\u8d77\u200b\u7ec4\u6210\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u56e2\u961f\u200b\uff0c\u200b\u5728\u200b\u7279\u522b\u200b\u68d2\u200b\u7684\u200b\u56e2\u961f\u200b\u6c1b\u56f4\u200b\u4e0b\u200b\uff0c\u200b\u5927\u5bb6\u200b\u5171\u540c\u52aa\u529b\u200b\u3001\u200b\u4e92\u76f8\u652f\u6301\u200b\u3002</p> <p>\u200b\u4eca\u665a\u200b\u53c8\u200b\u5bb9\u6613\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u56de\u200b\u60f3\u8d77\u200b\u8fc7\u53bb\u200b\uff0c\u200b\u60f3\u8d77\u200b\u672c\u79d1\u200b\u65f6\u5019\u200b\u613f\u610f\u200b\u5e26\u200b\u6211\u200b\u63a5\u89e6\u200b\u91cf\u5316\u200b\u7684\u200b\u5b66\u957f\u200b\u4eec\u200b\uff0c\u200b\u613f\u610f\u200b\u4e3a\u200b\u6211\u200b\u63d0\u4f9b\u200b\u5b9e\u8df5\u200b\u673a\u4f1a\u200b\u5e76\u200b\u5e26\u7ed9\u200b\u6211\u200b\u5f88\u591a\u200b\u7ecf\u9a8c\u200b\u7684\u200b\u540c\u4e8b\u200b\u4eec\u200b\uff0c\u200b\u5927\u529b\u652f\u6301\u200b\u6211\u200b\u3001\u200b\u5e2e\u52a9\u200b\u6211\u200b\u5728\u200b\u81ea\u5df1\u200b\u611f\u5174\u8da3\u200b\u7684\u200b\u804c\u4e1a\u200b\u65b9\u5411\u200b\u4e0a\u200b\u53d1\u5c55\u200b\u7684\u200b\u8001\u5e08\u200b\u548c\u200b\u540c\u5b66\u200b\u4eec\u200b\u3002\u200b\u6700\u8fd1\u200b\u8bfb\u200b\u4e86\u200b\u4e00\u672c\u200b\u5f88\u200b\u8584\u200b\u7684\u200b\u4e66\u200b\uff0c\u200b\u51e0\u5341\u9875\u200b\u7684\u200b\u7eb8\u200b\u5199\u200b\u5c3d\u200b\u4e86\u200b\u65f6\u4ee3\u200b\u7684\u200b\u53d8\u5316\u200b\u3002\u200b\u6211\u200b\u60f3\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u8981\u200b\u628a\u200b\u81ea\u5df1\u200b\u7684\u200b\u56de\u5fc6\u200b\u5199\u200b\u4e0b\u6765\u200b\u7684\u8bdd\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5199\u200b\u5f97\u200b\u4e5f\u200b\u5f88\u200b\u8584\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b\u77e5\u9053\u200b\u4e00\u5b9a\u200b\u4e0d\u4f1a\u200b\u9057\u6f0f\u200b\u4f60\u4eec\u200b\u3002</p> <p>\u200b\u611f\u8c22\u200b\u6211\u200b\u4eba\u751f\u200b\u4e2d\u200b\u7684\u200b\u8d35\u200b\u4eba\u4eec\u200b\u3002</p> <p></p> <p></p> <p></p>","tags":["\u751f\u6d3b"]},{"location":"blog/xgboost/","title":"XGBoost","text":"<p>\u200b\u63a8\u5bfc\u200b XGBoost \u200b\u4e2d\u200b\u7684\u200b\u7ed3\u6784\u200b\u5206\u6570\u200b\u4ee5\u53ca\u200b\u7406\u89e3\u200b\u5b83\u200b\u5bf9\u4e8e\u200b\u6784\u5efa\u200b XGBoost \u200b\u6a21\u578b\u200b\u7684\u200b\u4f5c\u7528\u200b\u3002\u200b\u8f6c\u8f7d\u200b\u4e00\u7bc7\u200b\u5199\u5f97\u200b\u975e\u5e38\u200b\u68d2\u200b\u7684\u200b\u4ecb\u7ecd\u200b XGBoost \u200b\u7684\u200b\u6587\u7ae0\u200b\uff0c\u200b\u771f\u6b63\u200b\u7684\u200b\u901a\u4fd7\u6613\u61c2\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost/#xgboost-\u4e2d\u7684\u7ed3\u6784\u5206\u6570","title":"XGBoost \u200b\u4e2d\u200b\u7684\u200b\u7ed3\u6784\u200b\u5206\u6570","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost/#\u5b66\u4e60\u8d44\u6599","title":"\u5b66\u4e60\u200b\u8d44\u6599","text":"<p>\u200b\u8f6c\u8f7d\u200b\u4e00\u7bc7\u200b\u5199\u5f97\u200b\u975e\u5e38\u200b\u68d2\u200b\u7684\u200b XGBoost \u200b\u6587\u7ae0\u200b\uff0c\u200b\u771f\u6b63\u200b\u7684\u200b\u901a\u4fd7\u6613\u61c2\u200b\u3002</p> <p>\u200b\u6587\u7ae0\u200b\u4f5c\u8005\u200b\u662f\u200b\u4e00\u5bb6\u200b\u4eba\u5de5\u667a\u80fd\u200b\u5728\u7ebf\u6559\u80b2\u200b\u673a\u6784\u200b\u7684\u200b\u521b\u59cb\u4eba\u200b\uff0c\u200b\u5411\u200b\u4ed6\u200b\u70ed\u5fc3\u200b\u7684\u200b\u5206\u4eab\u200b\u81f4\u656c\u200b\u3002</p> <p>\u200b\u5f15\u7528\u200b\u4e00\u53e5\u200b\u6587\u7ae0\u200b\u4e2d\u200b\u7279\u522b\u200b\u559c\u6b22\u200b\u7684\u200b\u4e00\u53e5\u200b\u8bdd\u200b\uff1a</p> <p>\u200b\u5f53\u200b\u4f60\u200b\u5b66\u4e60\u200b\u67d0\u4e2a\u200b\u77e5\u8bc6\u70b9\u200b\u611f\u89c9\u200b\u5b66\u4e0d\u61c2\u200b\u65f6\u200b\uff0c\u200b\u5341\u6709\u516b\u4e5d\u200b\u4e0d\u662f\u200b\u4f60\u200b\u4e0d\u591f\u200b\u806a\u660e\u200b\uff0c\u200b\u5341\u6709\u516b\u4e5d\u200b\u662f\u200b\u4f60\u200b\u6240\u200b\u770b\u200b\u7684\u200b\u8d44\u6599\u200b\u4e0d\u591f\u200b\u901a\u4fd7\u200b\u3001\u200b\u4e0d\u591f\u200b\u6613\u61c2\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/adaboost-gbdt-xgboost/","title":"AdaBoost\u3001GBDT \u200b\u548c\u200b XGBoost \u200b\u7684\u200b\u8054\u7cfb\u200b\u4e0e\u200b\u533a\u522b","text":"<p>\u200b\u5404\u7c7b\u200b Boost \u200b\u65b9\u6cd5\u200b\u662f\u200b\u57fa\u4e8e\u200b\u6811\u200b\u6a21\u578b\u200b\u7684\u200b\u96c6\u6210\u200b\u6a21\u578b\u200b\uff0c\u200b\u7406\u89e3\u200b\u5b83\u4eec\u200b\u7684\u200b\u8054\u7cfb\u200b\u4e0e\u200b\u533a\u522b\u200b\u6709\u52a9\u4e8e\u200b\u7406\u89e3\u200b\u5404\u4e2a\u200b\u7b97\u6cd5\u200b\u7684\u200b\u4f18\u52a3\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/adaboost-gbdt-xgboost/#\u6574\u4f53\u601d\u8def","title":"\u6574\u4f53\u200b\u601d\u8def","text":"<p>Adaboost</p> <ul> <li>\u200b\u57fa\u672c\u200b\u601d\u60f3\u200b\uff1a\u200b\u901a\u8fc7\u200b\u4e0d\u65ad\u200b\u4fee\u6539\u200b\u6837\u672c\u200b\u6743\u91cd\u200b\uff08\u200b\u589e\u5927\u200b\u5206\u9519\u200b\u6837\u672c\u200b\u7684\u200b\u6743\u91cd\u200b\uff0c\u200b\u964d\u4f4e\u200b\u5206\u200b\u5bf9\u200b\u6837\u672c\u200b\u7684\u200b\u6743\u91cd\u200b\uff09\uff0c\u200b\u8fbe\u5230\u200b\u81ea\u200b\u9002\u5e94\u200b\u8c03\u6574\u200b\u6837\u672c\u200b\u6743\u91cd\u200b\u7684\u200b\u6548\u679c\u200b\u3002</li> <li>\u200b\u5c06\u200b\u5f31\u200b\u5206\u7c7b\u5668\u200b\u7ec4\u5408\u6210\u200b\u4e00\u4e2a\u200b\u5f3a\u200b\u5206\u7c7b\u5668\u200b\uff1a\u200b\u52a0\u6743\u200b\u591a\u6570\u200b\u8868\u51b3\u200b\uff08\u200b\u52a0\u5927\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b\u5c0f\u200b\u7684\u200b\u5f31\u200b\u5206\u7c7b\u5668\u200b\u7684\u200b\u6743\u503c\u200b\uff0c\u200b\u51cf\u5c0f\u200b\u5206\u7c7b\u200b\u8bef\u5dee\u7387\u200b\u5927\u200b\u7684\u200b\u5f31\u200b\u5206\u7c7b\u5668\u200b\u7684\u200b\u6743\u503c\u200b\uff09\u3002</li> </ul> <p>GBDT</p> <ul> <li>\u200b\u4ee5\u200b\u51b3\u7b56\u6811\u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u822c\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u9650\u5b9a\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u3002</li> <li>\u200b\u57fa\u672c\u200b\u601d\u60f3\u200b\uff1a\u200b\u91c7\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u6b21\u200b\u8fed\u4ee3\u200b\u90fd\u200b\u662f\u200b\u4e3a\u4e86\u200b\u4f18\u5316\u200b\u5f53\u524d\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u8fdb\u800c\u200b\u5728\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u51cf\u5c11\u200b\uff08\u200b\u8d1f\u200b\u68af\u5ea6\u200b\uff0c\u200b\u5373\u200b\u4e00\u9636\u200b\u5bfc\u6570\u200b\u7684\u200b\u53cd\u200b\u65b9\u5411\u200b\uff09\u200b\u7684\u200b\u65b9\u5411\u200b\u4e0a\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6a21\u578b\u200b\u3002</li> <li>\u200b\u5f53\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u9009\u62e9\u200b\u4e3a\u200b\u201c\u200b\u5747\u65b9\u200b\u635f\u5931\u200b\u201d\u200b\u65f6\u5019\u200b\uff0c\u200b\u5176\u200b\u6cbf\u7740\u200b\u8d1f\u200b\u68af\u5ea6\u65b9\u5411\u200b\u62df\u5408\u200b\uff0c\u200b\u5b9e\u8d28\u200b\u4e0a\u200b\u5c31\u662f\u200b\u62df\u5408\u200b\u6b8b\u5dee\u200b\uff08\u200b\u9009\u62e9\u200b\u5176\u4ed6\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u8868\u73b0\u200b\u51fa\u200b\u62df\u5408\u200b\u6b8b\u5dee\u200b\u7684\u200b\u6027\u8d28\u200b\uff09\u3002</li> </ul> <p>XGBoost</p> <ul> <li>\u200b\u57fa\u672c\u200b\u601d\u60f3\u200b\uff1aXGBoost \u200b\u7684\u200b boosting \u200b\u7b56\u7565\u200b\u5219\u200b\u4e0e\u200b GBDT \u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u5747\u200b\u662f\u200b\u5728\u200b\u65b0\u200b\u52a0\u5165\u200b\u7684\u200b\u57fa\u200b\u5206\u7c7b\u5668\u200b\u8fdb\u4e00\u6b65\u200b\u62df\u5408\u200b\u9884\u6d4b\u503c\u200b\u4e0e\u200b\u771f\u5b9e\u200b\u503c\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5dee\u5f02\u200b\uff08\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u662f\u200b\u6b8b\u5dee\u200b\uff09\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b GBDT \u200b\u662f\u200b\u6cbf\u7740\u200b\u8d1f\u200b\u68af\u5ea6\u200b\u7684\u200b\u65b9\u5411\u200b\u8fdb\u884c\u200b\u62df\u5408\u200b\uff0c\u200b\u53ea\u7528\u200b\u5230\u200b\u4e86\u200b\u4e00\u200b\u9636\u68af\u200b\u5ea6\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b XGBoost \u200b\u5219\u200b\u662f\u200b\u5bf9\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u4e8c\u9636\u200b\u6cf0\u52d2\u200b\u5c55\u5f00\u200b\uff0c\u200b\u76f8\u6bd4\u200b\u4e8e\u200b GBDT\uff0c\u200b\u5176\u200b\u62df\u5408\u200b\u65b9\u5411\u200b\u66f4\u51c6\u200b\u3001\u200b\u901f\u5ea6\u200b\u66f4\u200b\u5feb\u200b\u3002</li> </ul>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/adaboost-gbdt-xgboost/#\u8054\u7cfb","title":"\u8054\u7cfb","text":"<ol> <li>\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u96c6\u6210\u200b\u5b66\u4e60\u200b\u65b9\u6cd5\u200b\uff1b</li> <li>\u200b\u90fd\u200b\u662f\u200b\u901a\u8fc7\u200b\u5c06\u200b\u591a\u9897\u200b\u7b80\u5355\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u52a0\u200b\u548c\u200b\uff0c\u200b\u6765\u200b\u5f62\u6210\u200b\u6700\u7ec8\u200b\u7684\u200b\u6a21\u578b\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\uff1b</li> <li>\u200b\u90fd\u200b\u662f\u200b\u901a\u8fc7\u200b\u4e32\u884c\u200b\u8fed\u4ee3\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/adaboost-gbdt-xgboost/#\u533a\u522b","title":"\u533a\u522b","text":"<ol> <li> <p>\u200b\u867d\u7136\u200b\u4e09\u8005\u200b\u90fd\u200b\u662f\u200b\u52a0\u6cd5\u200b\u6a21\u578b\u200b\uff0cAdaBoost \u200b\u662f\u200b\u901a\u8fc7\u200b\u52a0\u6743\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\uff0c\u200b\u5373\u200b\u6bcf\u68f5\u200b\u6811\u200b\u7684\u200b\u6743\u91cd\u200b\uff08Amount of say\uff09\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff1b\u200b\u800c\u200b GBDT \u200b\u548c\u200b XGBoost \u200b\u662f\u200b\u901a\u8fc7\u200b\u52a0\u6cd5\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\uff0c\u200b\u5373\u200b\u6bcf\u68f5\u200b\u6811\u200b\u7684\u200b\u6743\u91cd\u200b\uff08Amount of say\uff09\u200b\u90fd\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff1b</p> </li> <li> <p>AdaBoost \u200b\u62df\u5408\u200b\u7684\u200b\u662f\u200b\u539f\u59cb\u6570\u636e\u200b\uff1b\u200b\u800c\u200b GBDT \u200b\u548c\u200b XGBoost \u200b\u62df\u5408\u200b\u7684\u200b\u662f\u200b Psuedo Residuals\uff0c\u200b\u5f53\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u662f\u200b\u5e73\u65b9\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u65f6\u200b\uff0cPsuedo Residuals \u200b\u5c31\u662f\u200b\u6b8b\u5dee\u200b\uff1b</p> </li> <li> <p>AdaBoost \u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u662f\u200b\u6307\u6570\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u800c\u200b GBDT \u200b\u548c\u200b XGBoost \u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u662f\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u3002</p> </li> <li> <p>GBDT \u200b\u53ea\u200b\u8003\u8651\u200b\u4e86\u200b\u68af\u5ea6\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b XGBoost \u200b\u8003\u8651\u200b\u4e86\u200b\u68af\u5ea6\u200b\u548c\u200b\u4e8c\u9636\u200b\u5bfc\u6570\u200b\u4fe1\u606f\u200b\u3002</p> </li> <li> <p>XGBoost \u200b\u5c06\u200b\u6811\u200b\u6a21\u578b\u200b\u7684\u200b\u590d\u6742\u5ea6\u200b\u52a0\u5165\u200b\u5230\u200b\u6b63\u5219\u200b\u9879\u4e2d\u200b\uff0c\u200b\u6765\u200b\u907f\u514d\u200b\u8fc7\u200b\u62df\u5408\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6cdb\u5316\u200b\u6027\u80fd\u200b\u4f1a\u200b\u4f18\u4e8e\u200b GBDT\u3002</p> </li> <li> <p>GBDT \u200b\u53ea\u200b\u652f\u6301\u200b CART \u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u5206\u7c7b\u5668\u200b\uff0cXGBoost \u200b\u8fd8\u200b\u652f\u6301\u200b\u7ebf\u6027\u200b\u5206\u7c7b\u5668\u200b\uff0c\u200b\u5728\u200b\u4f7f\u7528\u200b\u7ebf\u6027\u200b\u5206\u7c7b\u5668\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b L1\uff0cL2 \u200b\u6b63\u5219\u200b\u5316\u200b\u3002</p> </li> <li> <p>XGBoost \u200b\u5f15\u8fdb\u200b\u4e86\u200b\u7279\u5f81\u200b\u5b50\u200b\u91c7\u6837\u200b\uff0c\u200b\u50cf\u200b RandomForest \u200b\u90a3\u6837\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u65e2\u200b\u80fd\u200b\u964d\u4f4e\u200b\u8fc7\u200b\u62df\u5408\u200b\uff0c\u200b\u8fd8\u200b\u80fd\u200b\u51cf\u5c11\u200b\u8ba1\u7b97\u200b\u3002</p> </li> <li> <p>XGBoost \u200b\u5728\u200b\u5bfb\u627e\u200b\u6700\u4f73\u200b\u5206\u5272\u200b\u70b9\u65f6\u200b\uff0c\u200b\u8003\u8651\u200b\u5230\u200b\u7cbe\u786e\u200b\u7684\u200b\u8d2a\u5fc3\u200b\u7b97\u6cd5\u200b\uff08\u200b\u9010\u70b9\u200b\u8ba1\u7b97\u200b\uff09\u200b\u6548\u7387\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u79cd\u200b\u8fd1\u4f3c\u200b\u8d2a\u5fc3\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u7528\u6765\u200b\u52a0\u901f\u200b\u548c\u200b\u51cf\u5c0f\u200b\u5185\u5b58\u200b\u6d88\u8017\u200b\u3002\u200b\u9664\u6b64\u4e4b\u5916\u200b\u8fd8\u200b\u8003\u8651\u200b\u4e86\u200b\u7a00\u758f\u200b\u6570\u636e\u200b\u96c6\u200b\u548c\u200b\u7f3a\u5931\u200b\u503c\u200b\u7684\u200b\u5904\u7406\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u7279\u5f81\u200b\u7684\u200b\u503c\u200b\u6709\u200b\u7f3a\u5931\u200b\u7684\u200b\u6837\u672c\u200b\uff0cXGBoost \u200b\u4f9d\u7136\u200b\u80fd\u200b\u81ea\u52a8\u200b\u627e\u5230\u200b\u5176\u8981\u200b\u5206\u88c2\u200b\u7684\u200b\u65b9\u5411\u200b\u3002</p> </li> <li> <p>XGBoost \u200b\u652f\u6301\u200b\u5e76\u884c\u5904\u7406\u200b\u3002XGBoost \u200b\u7684\u200b\u5e76\u884c\u200b\u4e0d\u662f\u200b\u5728\u200b\u6a21\u578b\u200b\u4e0a\u200b\u7684\u200b\u5e76\u884c\u200b\uff0c\u200b\u800c\u662f\u200b\u5728\u200b\u7279\u5f81\u200b\u4e0a\u200b\u7684\u200b\u5e76\u884c\u200b\uff0c\u200b\u5c06\u200b\u7279\u5f81\u200b\u5217\u200b\u6392\u5e8f\u200b\u540e\u4ee5\u200b block \u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u5728\u200b\u540e\u9762\u200b\u7684\u200b\u8fed\u4ee3\u200b\u4e2d\u200b\u91cd\u590d\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u7ed3\u6784\u200b\u3002\u200b\u8fd9\u4e2a\u200b block \u200b\u4e5f\u200b\u4f7f\u5f97\u200b\u5e76\u884c\u200b\u5316\u6210\u200b\u4e3a\u4e86\u200b\u53ef\u80fd\u200b\uff0c\u200b\u5176\u6b21\u200b\u5728\u200b\u8fdb\u884c\u200b\u8282\u70b9\u200b\u5206\u88c2\u200b\u65f6\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u7684\u200b\u589e\u76ca\u200b\uff0c\u200b\u6700\u7ec8\u200b\u9009\u62e9\u200b\u589e\u76ca\u200b\u6700\u5927\u200b\u7684\u200b\u90a3\u4e2a\u200b\u7279\u5f81\u200b\u53bb\u200b\u505a\u200b\u5206\u5272\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5404\u4e2a\u200b\u7279\u5f81\u200b\u7684\u200b\u589e\u76ca\u200b\u8ba1\u7b97\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5f00\u200b\u591a\u7ebf\u7a0b\u200b\u8fdb\u884c\u200b\u3002</p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/customized-cross-validation-split/","title":"\u81ea\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6837\u672c\u200b\u5212\u5206\u200b\u65b9\u6cd5","text":"<p>\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u662f\u200b\u7f13\u89e3\u200b\u6a21\u578b\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u624b\u6bb5\u200b\u4e4b\u4e00\u200b\u3002\u200b\u672c\u6587\u200b\u4ee5\u200b XGBoost \u200b\u7b97\u6cd5\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u81ea\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e2d\u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/customized-cross-validation-split/#\u65b9\u6cd5-1\u5728folds\u4e2d\u4f20\u5165\u81ea\u5b9a\u4e49\u7684\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u7684\u7d22\u5f15","title":"\u65b9\u6cd5\u200b 1\uff1a\u200b\u5728\u200b<code>folds</code>\u200b\u4e2d\u200b\u4f20\u5165\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import TimeSeriesSplit\nfrom xgboost import XGBClassifier\nimport xgboost as xgb\n</code></pre> <p>\u200b\u5173\u4e8e\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e2d\u200b\u7684\u200b<code>folds</code>\u200b\u53c2\u6570\u200b\uff0c\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u662f\u200b\u8fd9\u6837\u200b\u5199\u200b\u7684\u200b\uff1a</p> Text Only<pre><code>folds : a KFold or StratifiedKFold instance or list of fold indices\n        Sklearn KFolds or StratifiedKFolds object.\n        Alternatively may explicitly pass sample indices for each fold.\n        For ``n`` folds, **folds** should be a length ``n`` list of tuples.\n        Each tuple is ``(in,out)`` where ``in`` is a list of indices to be used\n        as the training samples for the ``n`` th fold and ``out`` is a list of\n        indices to be used as the testing samples for the ``n`` th fold.\n</code></pre> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5b83\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\uff0c\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u662f\u200b\u4e8c\u5143\u200b tuple\uff0c\u200b\u6bcf\u4e2a\u200b tuple \u200b\u4e2d\u200b\u5b58\u653e\u200b<code>([\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b], [\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b])</code>\uff0c\u200b\u7136\u540e\u200b\u4f20\u5165\u200b folds \u200b\u4e2d\u200b\u3002</p> <p>\u200b\u66f4\u200b\u591a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p> Python<pre><code># \u200b\u5b9a\u4e49\u200b\u7a7a\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u9009\u53d6\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\nfolds_data = []\n# \u200b\u4f7f\u7528\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\ncv = TimeSeriesSplit(n_splits=2)\n# \u200b\u5c06\u200b train \u200b\u8fdb\u4e00\u6b65\u200b\u5212\u5206\u200b\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\nfor train_index, validation_index in cv.split(x_train):\n# \u200b\u5c06\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\u5b58\u50a8\u200b\u5230\u200b folds_data \u200b\u4e2d\u200b\nfolds_data.append((train_index, validation_index))\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u200b\u4e00\u6bb5\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6784\u9020\u200b\u4e86\u200b<code>folds_data</code>\uff0c\u200b\u5b83\u200b\u5b9e\u9645\u4e0a\u200b\u53ea\u662f\u200b\u5c06\u200b<code>TimeSeriesSplit(n_splits=2)</code>\u200b\u5212\u5206\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\u5b58\u50a8\u200b\u4e86\u200b\u8d77\u6765\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u9ad8\u5ea6\u200b\u5730\u200b\u5b9a\u5236\u200b\u5316\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u73b0\u6210\u200b\u7684\u200b<code>TimeSeriesSplit</code>\u200b\u7b49\u200b<code>Split</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u662f\u200b\u81ea\u5df1\u200b\u8bbe\u5b9a\u200b<code>train_index</code>\u200b\u548c\u200b<code>validation_index</code>\u3002</p> <p>\u200b\u5728\u200b<code>folds</code>\u200b\u4e2d\u200b\u4f20\u5165\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\uff1a</p> Python<pre><code># \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\n# \u200b\u8bbe\u5b9a\u200b\u672c\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4f7f\u7528\u200b\u7684\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\nxgb_clf = XGBClassifier(\nmax_depth=3, eta=0.1, n_estimators=5000, gamma=0, min_child_weight=1\n)\n# \u200b\u50a8\u5b58\u200b\u672c\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results = xgb.cv(\nparams=xgb_clf.get_xgb_params(),\ndtrain=xgb.DMatrix(x_train, y_train),\nnum_boost_round=1000,\nnfold=len(folds_data),\nfolds=folds_data,  # \u200b\u8fd9\u91cc\u200b\u4f20\u5165\u200b\u7684\u200b\u662f\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\u5143\u7ec4\u200b\u6784\u6210\u200b\u7684\u200b\u5217\u8868\u200b\nmetrics=\"auc\",\nearly_stopping_rounds=5,  # \u200b\u5982\u679c\u200b\u8fde\u7eed\u200b 5 \u200b\u8f6e\u200b\u8fed\u4ee3\u200b\u540e\u200b test-auc \u200b\u503c\u200b\u6ca1\u6709\u200b\u6bd4\u200b\u4e4b\u524d\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u6709\u6240\u200b\u63d0\u5347\u200b\uff0c\u200b\u5219\u200b\u505c\u6b62\u200b\u8bad\u7ec3\u200b\nverbose_eval=True,\nshow_stdv=True,\nseed=0,\n)\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u5b8c\u6210\u200b\u4e86\u200b\u4e00\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u5c31\u662f\u200b\uff1a\u200b\u7ed9\u5b9a\u200b\u53c2\u6570\u200b\u4e0b\u200b\uff0c\u200b\u5728\u200b\u5404\u4e2a\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0b\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u7684\u200b\u5747\u503c\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/customized-cross-validation-split/#\u65b9\u6cd5-2\u76f4\u63a5\u4f20\u5165\u4e00\u4e2a\u4ea4\u53c9\u9a8c\u8bc1\u5bf9\u8c61\u7684\u5b9e\u4f8b","title":"\u65b9\u6cd5\u200b 2\uff1a\u200b\u76f4\u63a5\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b9e\u4f8b","text":"<p>\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83\u7b80\u5355\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5728\u200b\u9ed8\u8ba4\u200b\u5212\u5206\u200b\u65b9\u6cd5\u200b\u4e0a\u200b\u505a\u200b\u4fee\u6539\u200b\u7684\u8bdd\u200b\uff0c\u200b\u66f4\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u548c\u200b\u65b9\u6cd5\u200b 1 \u200b\u662f\u200b\u4e00\u6a21\u4e00\u6837\u200b\u7684\u200b\u3002</p> Python<pre><code># \u200b\u4f7f\u7528\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c06\u200b gram_train \u200b\u5212\u5206\u200b\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\ncv = TimeSeriesSplit(n_splits=2)\n# \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\n# \u200b\u8bbe\u5b9a\u200b\u672c\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4f7f\u7528\u200b\u7684\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\nxgb_clf = XGBClassifier(\nmax_depth=3, eta=0.1, n_estimators=5000, gamma=0, min_child_weight=1\n)\n# \u200b\u50a8\u5b58\u200b\u672c\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results = xgb.cv(\nparams=xgb_clf.get_xgb_params(),\ndtrain=xgb.DMatrix(gram_train, train[\"Label\"].values),\nnum_boost_round=1000,\nnfold=len(folds_data),\nfolds=cv,  # \u200b\u8fd9\u91cc\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b cv\uff0c\u200b\u5728\u200b\u4e4b\u524d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u4e00\u4e2a\u200b TimeSeriesSplit \u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nmetrics=\"auc\",\nearly_stopping_rounds=5,  # \u200b\u5982\u679c\u200b\u8fde\u7eed\u200b 5 \u200b\u8f6e\u200b\u8fed\u4ee3\u200b\u540e\u200b test-auc \u200b\u503c\u200b\u6ca1\u6709\u200b\u6bd4\u200b\u4e4b\u524d\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u6709\u6240\u200b\u63d0\u5347\u200b\uff0c\u200b\u5219\u200b\u505c\u6b62\u200b\u8bad\u7ec3\u200b\nverbose_eval=True,\nshow_stdv=True,\nseed=0,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/generate-file-index/","title":"\u4e3a\u200b\u9759\u6001\u200b\u7f51\u9875\u200b\u751f\u6210\u200b\u6587\u4ef6\u76ee\u5f55","text":"<p>\u200b\u9759\u6001\u200b\u7f51\u9875\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u4e3a\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u200b\u751f\u6210\u200b\u76ee\u5f55\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u67e5\u627e\u6587\u4ef6\u200b\u3002</p>","tags":["Python"]},{"location":"blog/generate-file-index/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"Python<pre><code># \u200b\u5bfc\u5165\u200b\u6a21\u5757\u200b\nimport os\n</code></pre> Python<pre><code># \u200b\u83b7\u53d6\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u7684\u200b\u5217\u8868\u200b\nfiles = os.listdir(r\"./directory/\")\n</code></pre> Python<pre><code># \u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5199\u5165\u200b HTML \u200b\u76ee\u5f55\u200b\nwith open(\"./directory/index.html\", \"w\", encoding=\"utf-8\") as f:\nf.write(\"&lt;html&gt;&lt;body&gt;&lt;ul&gt;\\n\")\n# \u200b\u904d\u5386\u200b\u6587\u4ef6\u200b\u5217\u8868\u200b\uff0c\u200b\u5199\u5165\u200b HTML \u200b\u683c\u5f0f\u200b\u7684\u200b\u76ee\u5f55\u200b\nfor file in files:\n# \u200b\u5199\u5165\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u5e76\u200b\u6dfb\u52a0\u200b\u8d85\u94fe\u63a5\u200b\nf.write('&lt;li&gt;&lt;a href=\"{}\"&gt;{}&lt;/a&gt;&lt;/li&gt;\\n'.format(file, file))\nf.write(\"&lt;/ul&gt;&lt;/body&gt;&lt;/html&gt;\\n\")\n</code></pre>","tags":["Python"]},{"location":"blog/generate-file-index/#\u5728-vs-code-\u4e2d\u8fd0\u884c-python\u9700\u8981\u4fee\u6539\u8def\u5f84","title":"\u5728\u200b VS Code \u200b\u4e2d\u200b\u8fd0\u884c\u200b Python\uff0c\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u8def\u5f84","text":"","tags":["Python"]},{"location":"blog/generate-file-index/#\u4fee\u6539-vs-code-\u8fd0\u884c-python-\u7684\u8def\u5f84\u4e3a\u5f53\u524d\u811a\u672c\u6240\u5728\u8def\u5f84","title":"\u4fee\u6539\u200b VS Code \u200b\u8fd0\u884c\u200b Python \u200b\u7684\u200b\u8def\u5f84\u200b\u4e3a\u200b\u5f53\u524d\u200b\u811a\u672c\u200b\u6240\u5728\u200b\u8def\u5f84","text":"Python<pre><code>import sys\n# \u200b\u5207\u6362\u200b\u5230\u200b\u5f53\u524d\u76ee\u5f55\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u200b\u8def\u5f84\u200b\u9519\u8bef\u200b\uff08VSCode \u200b\u7684\u200b\u95ee\u9898\u200b\uff09\nos.chdir(sys.path[0])\n</code></pre>","tags":["Python"]},{"location":"blog/generate-file-index/#\u7f16\u5199\u811a\u672c\u6267\u884c\u6587\u4ef6","title":"\u7f16\u5199\u200b\u811a\u672c\u200b\u6267\u884c\u200b\u6587\u4ef6","text":"<p>\u200b\u65b0\u5efa\u200b\u6587\u672c\u6587\u4ef6\u200b\uff0c\u200b\u5199\u5165\u200b</p> Text Only<pre><code>python python\u200b\u811a\u672c\u200b\u6587\u4ef6\u540d\u200b.py\n</code></pre> <p>\u200b\u518d\u200b\u4fee\u6539\u200b\u540e\u7f00\u540d\u200b\u4e3a\u200b<code>.bat</code>\uff0c\u200b\u53cc\u51fb\u200b\u5373\u53ef\u200b\u8fd0\u884c\u200b Python \u200b\u7a0b\u5e8f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/generate-file-index/#\u5b9e\u73b0\u6548\u679c","title":"\u5b9e\u73b0\u200b\u6548\u679c","text":"","tags":["Python"]},{"location":"blog/leetcode/","title":"LeetCode \u200b\u5237\u9898\u200b\u8bb0\u5f55","text":"<p>\u200b\u503c\u5f97\u200b\u8bb0\u5f55\u200b\u7684\u200b\u7b97\u6cd5\u200b\u9898\u200b\u3002</p>","tags":["Python"]},{"location":"blog/leetcode/#\u94fe\u8868","title":"\u94fe\u8868","text":"","tags":["Python"]},{"location":"blog/leetcode/#\u5251\u6307-offer-06-\u4ece\u5c3e\u5230\u5934\u6253\u5370\u94fe\u8868","title":"\u5251\u200b\u6307\u200b Offer 06. \u200b\u4ece\u5c3e\u200b\u5230\u5934\u200b\u6253\u5370\u200b\u94fe\u8868","text":"","tags":["Python"]},{"location":"blog/leetcode/#\u9519\u8bef\u793a\u4f8b","title":"\u9519\u8bef\u200b\u793a\u4f8b","text":"Python<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\nclass Solution:\ndef reversePrint(self, head: ListNode) -&gt; List[int]:\nif head is None:\nresult = []\nelse:\nresult = self.reversePrint(head.next).append(head.val)\nreturn result\n</code></pre> <p>\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>AttributeError: 'NoneType' object has no attribute 'append'\n</code></pre> <p></p> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\uff0c\u200b\u5728\u200b\u8c03\u7528\u200b<code>append()</code>\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u6570\u7ec4\u200b\u76f4\u63a5\u200b\u5728\u200b\u6700\u540e\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u8fd4\u56de\u503c\u200b\u662f\u200b\u7a7a\u503c\u200b\u3002\u200b\u56e0\u6b64\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c06\u200b<code>self.reversePrint(head.next).append(head.val)</code>\u200b\u8d4b\u503c\u200b\u7ed9\u200b<code>result</code>\u200b\u4e86\u200b\uff0c\u200b\u8d4b\u200b\u7684\u200b\u503c\u200b\u4e5f\u200b\u662f\u200b<code>None</code>\u3002</p> <p>\u200b\u6b63\u786e\u200b\u5199\u6cd5\u200b\uff1a</p>","tags":["Python"]},{"location":"blog/leetcode/#\u65b9\u6cd5-1\u9012\u5f52","title":"\u65b9\u6cd5\u200b 1\uff08\u200b\u9012\u5f52\u200b\uff09","text":"Python<pre><code>class Solution:\ndef reversePrint(self, head: ListNode) -&gt; List[int]:\nif head is None:\nreturn []\nelse:\nreturn self.reversePrint(head.next) + [head.val]\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u6ca1\u6709\u200b\u4f7f\u7528\u200b<code>append()</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u662f\u200b\u7528\u200b<code>+</code>\u200b\u6765\u200b\u8fde\u63a5\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b<code>append()</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5219\u200b\u4ecd\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u56e0\u4e3a\u200b<code>append()</code>\u200b\u8fd4\u56de\u200b\u7684\u200b\u4ecd\u7136\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7a7a\u503c\u200b\uff01</p> <p></p>","tags":["Python"]},{"location":"blog/leetcode/#\u65b9\u6cd5-2\u5c06\u94fe\u8868\u7684\u5143\u7d20\u9010\u4e2a\u8f93\u5165\u5230\u65b0\u6570\u7ec4\u4e2d\u518d\u9006\u5411\u6392\u5e8f","title":"\u65b9\u6cd5\u200b 2\uff08\u200b\u5c06\u200b\u94fe\u8868\u200b\u7684\u200b\u5143\u7d20\u200b\u9010\u4e2a\u200b\u8f93\u5165\u200b\u5230\u200b\u65b0\u200b\u6570\u7ec4\u200b\u4e2d\u200b\uff0c\u200b\u518d\u200b\u9006\u5411\u200b\u6392\u5e8f\u200b\uff09","text":"Python<pre><code>class Solution:\ndef reversePrint(self, head: ListNode) -&gt; List[int]:\nresult = []\nwhile head is not None:\nresult.append(head.val)\nhead = head.next\nreturn result[::-1]\n</code></pre> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u4f7f\u7528\u200b<code>append()</code>\uff0c\u200b\u5c06\u200b\u94fe\u8868\u200b\u7684\u200b\u5143\u7d20\u200b\u9010\u4e2a\u200b\u8f93\u5165\u200b\u5230\u200b\u65b0\u200b\u6570\u7ec4\u200b\u4e2d\u200b\uff0c\u200b\u518d\u200b\u9006\u5411\u200b\u6392\u5e8f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/leetcode/#\u5251\u6307-offer-24-\u53cd\u8f6c\u94fe\u8868","title":"\u5251\u200b\u6307\u200b Offer 24. \u200b\u53cd\u8f6c\u200b\u94fe\u8868","text":"Python<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\nclass Solution:\ndef reverseList(self, head: ListNode) -&gt; ListNode:\n# \u200b\u82e5\u200b\u8f93\u5165\u200b\u672c\u8eab\u200b\u5c31\u662f\u200b None\uff0c\u200b\u5219\u200b\u76f4\u63a5\u200b\u8f93\u51fa\u200b head\uff08\u200b\u6d4b\u8bd5\u7528\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b None\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u5224\u65ad\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\uff09\nif head is None:\nreturn head\n# \u200b\u82e5\u200b\u9012\u5f52\u200b\u5230\u200b\u4e86\u200b\u6700\u540e\u200b\uff0chead.next \u200b\u4e3a\u200b None\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b head\uff0c\u200b\u5373\u200b\u8fd4\u56de\u200b 5\nif head.next is None:\nreturn head\n# \u200b\u9012\u5f52\u200b\nresult = self.reverseList(head.next)\n# \u200b\u76ee\u524d\u200b head \u200b\u662f\u200b 4\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b 5.next \u200b\u6539\u6210\u200b 4\uff0c\u200b\u800c\u200b 5 \u200b\u5c31\u662f\u200b 4.next\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u5c06\u200b 4.next.next \u200b\u6539\u6210\u200b 4\nhead.next.next = head\n# \u200b\u76ee\u524d\u200b 4.next \u200b\u8fd8\u662f\u200b 5\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b 5 -&gt; 4 -&gt; 5\u3002\u200b\u9700\u8981\u200b\u5c06\u200b 4.next \u200b\u6539\u6210\u200b None\uff0c\u200b\u5f62\u6210\u200b 5 -&gt; 4 -&gt; None\nhead.next = None\n# \u200b\u8fd4\u56de\u200b 5 -&gt; 4 -&gt; None\nreturn result\n</code></pre>","tags":["Python"]},{"location":"blog/leetcode/#\u65b9\u6cd5-1\u9012\u5f52_1","title":"\u65b9\u6cd5\u200b 1\uff1a\u200b\u9012\u5f52","text":"<p>\u200b\u6838\u5fc3\u200b\u5c31\u662f\u200b\u7406\u89e3\u200b\u4e24\u884c\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>head.next.next = head\nhead.next = None\n</code></pre> <p>\u200b\u53c2\u8003\u200b\u8bb2\u89e3\u200b\uff1a</p> <p>https://zhuanlan.zhihu.com/p/60117407</p> <p></p>","tags":["Python"]},{"location":"blog/leetcode/#\u65b9\u6cd5-2\u8fed\u4ee3","title":"\u65b9\u6cd5\u200b 2\uff1a\u200b\u8fed\u4ee3","text":"Python<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\nclass Solution:\ndef reverseList(self, head: ListNode) -&gt; ListNode:\ncur = head\npre = None\n# \u200b\u5f53\u200b cur \u200b\u4e0d\u662f\u200b None \u200b\u65f6\u200b\nwhile cur:\n# \u200b\u6682\u5b58\u200b cur.next\uff0c\u200b\u56e0\u4e3a\u200b\u9a6c\u4e0a\u200b\u8981\u200b\u4fee\u6539\u200b cur.next\ntmp = cur.next\n# \u200b\u4fee\u6539\u200b cur.next \u200b\u4e3a\u200b pre\uff0c\u200b\u5b9e\u73b0\u200b\u53cd\u8f6c\u200b\ncur.next = pre\n# \u200b\u51c6\u5907\u200b\u4e0b\u200b\u4e00\u8f6e\u200b\u8fed\u4ee3\u200b\npre = cur\ncur = tmp\nreturn pre\n</code></pre> <p>\u200b\u8fed\u4ee3\u200b\u53ea\u200b\u9700\u8981\u200b\u8bb0\u5fc6\u200b<code>pre</code>\u200b\u548c\u200b<code>cur</code>\uff0c\u200b\u5185\u5b58\u200b\u6d88\u8017\u200b\u8f83\u200b\u5c0f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/","title":"K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0","text":"<p>\u200b\u76f8\u6bd4\u200b K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0d\u4f1a\u200b\u7528\u5230\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u9884\u6d4b\u200b\u5386\u53f2\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u66f4\u200b\u7a33\u5065\u200b\u3002\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u65f6\u5e8f\u200b\u6570\u636e\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u7f13\u89e3\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\uff0c\u200b\u4e14\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u66f4\u200b\u5c11\u200b\u3002</p> <p></p> <p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u8bba\u575b\u200b\u6587\u672c\u200b\u6570\u636e\u200b\uff08\u200b\u6bcf\u65e5\u200b 25 \u200b\u6761\u200b\u65b0\u95fb\u6807\u9898\u200b\uff09\u200b\u5bf9\u200b\u9053\u743c\u65af\u200b\u5de5\u4e1a\u200b\u6307\u6570\u200b\u7684\u200b\u6da8\u8dcc\u200b\u65b9\u5411\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\u3002\uff08\u200b\u6570\u636e\u200b\u6765\u6e90\u200b\uff1aKaggle Dataset\uff09\u200b\u5728\u200b\u4fe1\u566a\u6bd4\u200b\u6781\u4f4e\u200b\u7684\u200b\u91d1\u878d\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u671f\u671b\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u6709\u200b\u591a\u4e48\u200b\u4f18\u79c0\u200b\u3002\u200b\u56e0\u6b64\u200b\u672c\u6587\u200b\u5c06\u200b\u91cd\u5fc3\u200b\u653e\u5728\u200b\u591a\u79cd\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5b9e\u73b0\u200b\u4e0e\u200b\u7ed3\u679c\u200b\u5bf9\u6bd4\u200b\u4e0a\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b Shuffle \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u8868\u73b0\u200b\u867d\u7136\u200b\u4f18\u79c0\u200b\uff0c\u200b\u4f46\u200b\u7528\u5230\u200b\u4e86\u200b\u5f88\u591a\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u9884\u6d4b\u200b\u5386\u53f2\u200b\u7ed3\u679c\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u79cd\u200b\u201c\u200b\u4f5c\u5f0a\u200b\u201d\u200b\u884c\u4e3a\u200b\uff0c\u200b\u5728\u200b\u73b0\u5b9e\u200b\u4e2d\u200b\u4e5f\u200b\u662f\u200b\u65e0\u6cd5\u200b\u505a\u5230\u200b\u7684\u200b\u3002</p> <p>\u200b\u5728\u200b\u6837\u672c\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u5047\u8bbe\u200b\u7684\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u4e0a\u200b\uff08\u200b\u5982\u200b\u91d1\u878d\u200b\u6570\u636e\u200b\u3001\u200b\u533b\u7597\u200b\u76d1\u6d4b\u6570\u636e\u200b\u3001\u200b\u9500\u91cf\u200b\u6570\u636e\u200b\u7b49\u200b\uff09\uff0c\u200b\u66f4\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7f13\u89e3\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\uff0c\u200b\u4e14\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\u5f00\u9500\u200b\u66f4\u200b\u5c11\u200b\u3002</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u7279\u5f81\u5de5\u7a0b\u4ee3\u7801\u7247\u6bb5","title":"\u7279\u5f81\u200b\u5de5\u7a0b\u200b\u4ee3\u7801\u200b\u7247\u6bb5","text":"","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u8bcd\u9891\u7edf\u8ba1","title":"\u8bcd\u9891\u200b\u7edf\u8ba1","text":"Python<pre><code># \u200b\u8bcd\u9891\u200b\u7edf\u8ba1\u200b\ncnt_vectorizer = CountVectorizer(min_df=0.05)\ncnt_train = cnt_vectorizer.fit_transform(train_headlines)\ncnt_test = cnt_vectorizer.transform(test_headlines)\nprint(cnt_train.shape)\nev(cnt_train, cnt_test, cnt_vectorizer.get_feature_names())\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#tf-idf","title":"TF-IDF","text":"Python<pre><code># TF-IDF\ntfidf_vectorizer = TfidfVectorizer(stop_words=\"english\")\ntfidf_train = tfidf_vectorizer.fit_transform(train_headlines)\ntfidf_test = tfidf_vectorizer.transform(test_headlines)\nprint(tfidf_train.shape)\nev(tfidf_train, tfidf_test, tfidf_vectorizer.get_feature_names())\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#2-gram-tf-idf","title":"2-gram TF-IDF","text":"Python<pre><code># TF-IDF: 2-gram\ngram_vectorizer = TfidfVectorizer(min_df=0.03, ngram_range=(2, 2))\ngram_train = gram_vectorizer.fit_transform(train_headlines)\ngram_test = gram_vectorizer.transform(test_headlines)\ngram_train.shape\nev(gram_train, gram_test, gram_vectorizer.get_feature_names())\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u4ea4\u53c9\u9a8c\u8bc1\u4ee5-xgboost-\u4e3a\u4f8b","title":"\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u2014\u2014\u200b\u4ee5\u200b XGBoost \u200b\u4e3a\u4f8b","text":"<p>K \u200b\u6298\u200b\u548c\u200b Shuffle \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u6bd4\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u4f18\u79c0\u200b\u5f88\u591a\u200b\u3002\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u53ef\u80fd\u200b\u662f\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u6cc4\u9732\u200b\u4e86\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u3002\u200b\u4e3e\u4f8b\u6765\u8bf4\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5728\u200b\u4eca\u5929\u200b\u89c2\u5bdf\u200b\u5230\u200b\u8f93\u5165\u200b\u4fe1\u606f\u200b\u662f\u200b\u201cMarket Expansion\u201d\uff0c\u200b\u5e76\u4e14\u200b\u80a1\u4ef7\u200b\u662f\u200b\u4e0a\u6da8\u200b\u7684\u200b\uff0c\u200b\u6b64\u65f6\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8981\u200b\u56de\u5934\u200b\u9884\u6d4b\u200b\u4e0a\u4e2a\u6708\u200b\u7684\u200b\u6807\u7b7e\u200b\uff0c\u200b\u53d1\u73b0\u200b\u4e0a\u4e2a\u6708\u200b\u7684\u200b\u8f93\u5165\u200b\u4fe1\u606f\u200b\u4e5f\u200b\u662f\u200b\u201cMarket Expansion\u201d\uff0c\u200b\u6211\u4eec\u200b\u5f88\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5b8c\u7f8e\u200b\u5730\u200b\u9884\u6d4b\u200b\u80a1\u4ef7\u200b\u4e0a\u6da8\u200b\uff0c\u200b\u5e76\u4e14\u200b\u9884\u6d4b\u200b\u6b63\u786e\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5728\u200b\u771f\u5b9e\u200b\u7684\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u5728\u200b\u9884\u6d4b\u200b 11 \u200b\u6708\u4efd\u200b\u6807\u7b7e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ea\u80fd\u200b\u770b\u5230\u200b 11 \u200b\u6708\u200b 25 \u200b\u65e5\u53ca\u200b\u4e4b\u524d\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u6211\u4eec\u200b\u4e0d\u200b\u77e5\u9053\u200b\u201cMarket Expansion\u201d\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b\u4ec0\u4e48\u200b\u6807\u7b7e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f88\u200b\u53ef\u80fd\u200b\u9884\u6d4b\u200b\u4e0d\u200b\u51c6\u786e\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u6cc4\u9732\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4fdd\u8bc1\u200b\u8bad\u7ec3\u200b\u96c6\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u4e4b\u524d\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u601d\u60f3\u200b\u662f\u200b\u5c3d\u91cf\u200b\u591a\u200b\u5229\u7528\u200b\u6570\u636e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u91c7\u7528\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u529e\u6cd5\u200b\u3002\u200b\u8bb8\u591a\u200b\u6587\u732e\u200b\u4e5f\u200b\u8868\u660e\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u5e94\u5bf9\u200b\u65f6\u5e8f\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u4f18\u4e8e\u200b\u4f20\u7edf\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u3002</p> Python<pre><code>from sklearn.model_selection import KFold, ShuffleSplit, TimeSeriesSplit\nimport xgboost as xgb\nfrom sklearn.model_selection import GridSearchCV, RandomizedSearchCV\nimport numpy as np\nfrom tqdm import tqdm\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import Patch\nfrom matplotlib.ticker import PercentFormatter\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u4ea4\u53c9\u9a8c\u8bc1\u7684\u6570\u636e","title":"\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u3001\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\nX_train_and_validation_for_cv = gram_train.toarray()\ny_train_and_validation_for_cv = train[\"Label\"].values\nX_test_for_cv = gram_test.toarray()\ny_test_for_cv = test[\"Label\"].values\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u5b9a\u4e49\u4ea4\u53c9\u9a8c\u8bc1\u5212\u5206\u65b9\u6cd5\u7684\u5b9e\u4f8b","title":"\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5212\u5206\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5b9e\u4f8b","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b n_splits\nn_splits = 5\n# \u200b\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nsplit_kfold = KFold(n_splits=n_splits)\nsplit_shuffle = ShuffleSplit(n_splits=n_splits, test_size=1 / n_splits, random_state=0)\nsplit_ts = TimeSeriesSplit(n_splits=n_splits)\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u5b9a\u4e49\u51fd\u6570\u7ed8\u5236\u4e0d\u540c\u4ea4\u53c9\u9a8c\u8bc1\u65b9\u6cd5\u4e0b\u8bad\u7ec3\u96c6\u548c\u9a8c\u8bc1\u96c6\u7684\u5206\u5e03\u60c5\u51b5","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5","text":"Python<pre><code>def plot_cv_indices(split_method, X, ax, n_splits, lw=10):\n\"\"\"\n    \u200b\u7ed8\u5236\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\n    \"\"\"\n# \u200b\u751f\u6210\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e2d\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\nfor ii, (tr, tt) in enumerate(split_method.split(X=X)):\n# \u200b\u586b\u5145\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\nindices = np.array([np.nan] * len(X))\nindices[tt] = 1\nindices[tr] = 0\n# \u200b\u7ed8\u5236\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\nax.scatter(\nrange(len(indices)),\n[ii + 0.5] * len(indices),\nc=indices,\nmarker=\"_\",\nlw=lw,\ncmap=plt.cm.coolwarm,\nvmin=-0.2,\nvmax=1.2,\n)\nyticklabels = list(range(1, n_splits + 1))\nax.set(\nyticks=np.arange(n_splits) + 0.5,\nyticklabels=yticklabels,\nxlabel=\"Index\",\nylabel=\"CV iteration\",\nylim=[n_splits, -0.2],\nxlim=[0, X_train_and_validation_for_cv.shape[0]],\n)\nax.set_title(\"{}\".format(type(split_method).__name__), fontsize=15)\nreturn ax\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u7ed8\u5236\u4e0d\u540c\u4ea4\u53c9\u9a8c\u8bc1\u65b9\u6cd5\u4e0b\u8bad\u7ec3\u96c6\u548c\u9a8c\u8bc1\u96c6\u7684\u5206\u5e03\u60c5\u51b5","title":"\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5","text":"<p>\u200b\u8fd9\u5e45\u200b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u4e09\u79cd\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5212\u5206\u200b\u7ed3\u679c\u200b\u3002\u200b\u84dd\u8272\u200b\u662f\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u7ea2\u8272\u200b\u662f\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u3002\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0cK \u200b\u6298\u200b\u548c\u200b Shuffle \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u90fd\u200b\u4f7f\u7528\u200b\u4e86\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u6765\u200b\u9884\u6d4b\u200b\u5386\u53f2\u200b\u7ed3\u679c\u200b\uff0c\u200b\u800c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u4fdd\u8bc1\u200b\u4e86\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5148\u540e\u987a\u5e8f\u200b\u3002</p> Python<pre><code>fig = plt.figure(figsize=(12, 4), dpi=200)\nfor i, split_method in enumerate([split_kfold, split_shuffle, split_ts]):\nax = fig.add_subplot(1, 3, 1 + i)\nplot_cv_indices(split_method, X_train_and_validation_for_cv, ax, n_splits)\n# \u200b\u7ed8\u5236\u56fe\u200b\u4f8b\u200b\nax.legend(\n[Patch(color=plt.cm.coolwarm(0.8)), Patch(color=plt.cm.coolwarm(0.02))],\n[\"Validation set\", \"Training set\"],\nloc=(1.02, 0.85),\n)\nplt.tight_layout()\nplt.show()\n</code></pre> <p> \u200b</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u5b9a\u4e49\u51fd\u6570\u6c47\u603b\u4e0d\u540c\u4ea4\u53c9\u9a8c\u8bc1\u65b9\u6cd5\u4e0b\u7684\u6700\u4f18\u53c2\u6570","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u6c47\u603b\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\u7684\u200b\u6700\u4f18\u200b\u53c2\u6570","text":"Python<pre><code>def get_best_params(cv_results):\n# \u200b\u5c06\u200b\u5404\u4e2a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u5bfb\u627e\u200b\u5230\u200b\u7684\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b\u6c47\u603b\u200b\nbest_params = pd.DataFrame.from_dict(\n{method: cv_results[method][\"Best_Params\"] for method in cv_results.keys()},\norient=\"index\",\n)\n# \u200b\u5220\u53bb\u200b eval_metric \u200b\u53c2\u6570\u200b\nbest_params.drop(\"eval_metric\", axis=1, inplace=True)\nreturn best_params\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u5b9a\u4e49\u51fd\u6570\u7ed8\u5236\u4e0d\u540c\u4ea4\u53c9\u9a8c\u8bc1\u65b9\u6cd5\u4e0b\u7684\u5e73\u5747\u9a8c\u8bc1\u96c6\u51c6\u786e\u7387\u548c\u6d4b\u8bd5\u96c6\u51c6\u786e\u7387","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387","text":"Python<pre><code>def plot_mean_validation_accuracy_and_test_accuracy(cv_results):\n# \u200b\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\nfig = plt.figure(figsize=(6, 4), dpi=200)\nax = fig.add_subplot(1, 1, 1)\nax.bar(\nx=np.arange(len(cv_results)),\nheight=[\ncv_results[method][\"Mean_Validation_Accuracy\"] for method in cv_results\n],\ntick_label=[method for method in cv_results],\ncolor=\"steelblue\",\nalpha=0.8,\nwidth=0.4,\nlabel=\"Mean Validation Accuracy\",\n)\n# \u200b\u5728\u200b\u67f1\u72b6\u56fe\u200b\u4e0a\u65b9\u200b\u6dfb\u52a0\u200b\u6570\u5b57\u200b\u6807\u7b7e\u200b\nfor x, y in enumerate(\n[cv_results[method][\"Mean_Validation_Accuracy\"] for method in cv_results]\n):\nplt.text(x, y + 0.001, \"{:.2%}\".format(y), ha=\"center\", va=\"bottom\")\n# \u200b\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\nax.bar(\nx=np.arange(0.4, len(cv_results)),\nheight=[cv_results[method][\"Test_Accuracy\"] for method in cv_results],\ntick_label=[method for method in cv_results],\ncolor=\"indianred\",\nalpha=0.8,\nwidth=0.4,\nlabel=\"Test Accuracy\",\n)\n# \u200b\u5728\u200b\u67f1\u72b6\u56fe\u200b\u4e0a\u65b9\u200b\u6dfb\u52a0\u200b\u6570\u5b57\u200b\u6807\u7b7e\u200b\nfor x, y in enumerate(\n[cv_results[method][\"Test_Accuracy\"] for method in cv_results]\n):\nplt.text(x + 0.4, y + 0.001, \"{:.2%}\".format(y), ha=\"center\", va=\"bottom\")\n# x \u200b\u8f74\u200b\u7684\u200b\u523b\u5ea6\u200b\nax.set_xticks(np.arange(0.2, len(cv_results)))\nax.set_xticklabels([method for method in cv_results])\nax.set_ylim([0.5, 0.58])\n# ylabel \u200b\u4ee5\u200b\u767e\u5206\u6570\u200b\u7684\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\nax.yaxis.set_major_formatter(PercentFormatter(1.0, decimals=0))\nax.set_ylabel(\"Accuracy\")\nax.legend(fontsize=8)\nplt.show()\n</code></pre>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u65f6\u5e8f\u4ea4\u53c9\u9a8c\u8bc1\u7684\u5b9e\u73b0\u65b9\u6cd5","title":"\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5","text":"<p>\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\u662f\u200b\u5411\u200b cross_validation \u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u5bf9\u200b<code>folds</code>\u200b\u53c2\u6570\u200b\u76f4\u63a5\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b<code>Split</code>\u200b\u5b9e\u4f8b\u200b\u3002\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b\u662f\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5143\u7ec4\u200b\u5305\u542b\u200b\u4e86\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7d22\u5f15\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7d22\u5f15\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9ad8\u5ea6\u200b\u5730\u200b\u5b9a\u5236\u200b\u4efb\u610f\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u5730\u200b\u5212\u5206\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4ee3\u7801\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u7f51\u683c\u641c\u7d22","title":"\u7f51\u683c\u200b\u641c\u7d22","text":"<p>\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u9762\u4e34\u200b\u7ef4\u6570\u200b\u707e\u96be\u200b\uff0c\u200b\u8017\u65f6\u200b\u8f83\u957f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ea\u200b\u5c1d\u8bd5\u200b\u5c11\u91cf\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u3002</p> Python<pre><code># \u200b\u5b9a\u4e49\u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results_grid = {}\n# \u200b\u5b9a\u4e49\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\nparam_grid = {\n\"eta\": [0.001, 0.01],\n\"gamma\": [1, 0.1],\n\"max_depth\": [2, 3],\n\"min_child_weight\": [2, 3],\n\"eval_metric\": [\"logloss\"],\n}\nfor split_method in tqdm([split_kfold, split_shuffle, split_ts]):\ncv_results_grid[type(split_method).__name__] = {\n\"Best_Params\": None,\n\"Mean_Validation_Accuracy\": None,\n\"Test_Accuracy\": None,\n}\n# \u200b\u5b9a\u4e49\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u7684\u200b\u5b9e\u4f8b\u200b\ngrid_search = GridSearchCV(\nestimator=xgb.XGBClassifier(tree_method=\"gpu_hist\"),\nparam_grid=param_grid,\ncv=split_method,\nscoring=\"accuracy\",\nn_jobs=-1,\nverbose=1,\n)\n# \u200b\u8fdb\u884c\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\ngrid_search.fit(X_train_and_validation_for_cv, y_train_and_validation_for_cv)\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\ncv_results_grid[type(split_method).__name__][\n\"Best_Params\"\n] = grid_search.best_params_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_grid[type(split_method).__name__][\n\"Mean_Validation_Accuracy\"\n] = grid_search.best_score_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_grid[type(split_method).__name__][\"Test_Accuracy\"] = grid_search.score(\nX_test_for_cv, y_test_for_cv\n)\n</code></pre> Text Only<pre><code>Fitting 5 folds for each of 16 candidates, totalling 80 fits\n\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [01:00&lt;00:00, 20.05s/it]\n</code></pre> Python<pre><code>get_best_params(cv_results_grid)\n</code></pre> eta gamma max_depth min_child_weight KFold 0.001 1.0 3 2 ShuffleSplit 0.001 1.0 2 TimeSeriesSplit 0.010 0.1 2 Python<pre><code>plot_mean_validation_accuracy_and_test_accuracy(cv_results_grid)\n</code></pre> <p>\u200b  \u200b</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u968f\u673a\u641c\u7d22","title":"\u968f\u673a\u200b\u641c\u7d22","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results_random = {}\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\nparam_grid = {\n\"eta\": [0.005, 0.01, 0.015],\n\"gamma\": [1, 0.1, 0.01],\n\"max_depth\": [2, 3, 4, 5],\n\"min_child_weight\": [2, 3, 4, 5],\n\"eval_metric\": [\"logloss\"],\n}\nfor split_method in tqdm([split_kfold, split_shuffle, split_ts]):\ncv_results_random[type(split_method).__name__] = {\n\"Best_Params\": None,\n\"Mean_Validation_Accuracy\": None,\n\"Test_Accuracy\": None,\n}\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nrondom_search = RandomizedSearchCV(\nestimator=xgb.XGBClassifier(tree_method=\"gpu_hist\"),\nparam_distributions=param_grid,\nn_iter=20,\ncv=split_method,\nscoring=\"accuracy\",\nn_jobs=-1,\nverbose=1,\nrandom_state=0,\n)\n# \u200b\u8fdb\u884c\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\nrondom_search.fit(X_train_and_validation_for_cv, y_train_and_validation_for_cv)\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\ncv_results_random[type(split_method).__name__][\n\"Best_Params\"\n] = rondom_search.best_params_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_random[type(split_method).__name__][\n\"Mean_Validation_Accuracy\"\n] = rondom_search.best_score_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_random[type(split_method).__name__][\n\"Test_Accuracy\"\n] = rondom_search.score(X_test_for_cv, y_test_for_cv)\n</code></pre> Text Only<pre><code>Fitting 5 folds for each of 20 candidates, totalling 100 fits\n\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [01:29&lt;00:00, 29.67s/it]\n</code></pre> <p>\u200b\u4ece\u200b\u4f17\u591a\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u4e2d\u200b\u968f\u673a\u200b\u9009\u51fa\u200b 20 \u200b\u4e2a\u200b\uff0c\u200b\u518d\u200b\u4ece\u200b\u8fd9\u200b 20 \u200b\u4e2a\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u4e2d\u200b\u9009\u51fa\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u5e73\u5747\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u6700\u9ad8\u200b\u7684\u200b\u3002</p> Python<pre><code>get_best_params(cv_results_random)\n</code></pre>      .dataframe tbody tr th:only-of-type {         vertical-align: middle;     }      .dataframe tbody tr th {         vertical-align: top;     }      .dataframe thead th {         text-align: right;     }  \u200b\u6211\u4eec\u200b\u4ee5\u200b XGBoost \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u53d1\u73b0\u200b Shuffle \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u8868\u73b0\u200b\u6700\u597d\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u8868\u73b0\u200b\u6700\u5dee\u200b\u3002\u200b\u8fdb\u4e00\u6b65\u200b\u8003\u5bdf\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u9009\u62e9\u200b\u7684\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0cShuffle \u200b\u65b9\u6cd5\u200b\u503e\u5411\u200b\u4e8e\u200b\u9009\u62e9\u200b\u62df\u5408\u200b\u7a0b\u5ea6\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\uff0c\u200b\u4f8b\u5982\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u6700\u4f4e\u200b\u5b50\u200b\u8282\u70b9\u200b\u6570\u200b\u3001\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u60e9\u7f5a\u200b\u7cfb\u6570\u200b\u3002   min_child_weight max_depth gamma eta KFold 5 4 1.0 0.010 ShuffleSplit 2 0.1 0.005 TimeSeriesSplit 5 4 1.0 0.010 Python<pre><code>plot_mean_validation_accuracy_and_test_accuracy(cv_results_random)\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0cShuffleSplit \u200b\u65b9\u6cd5\u200b\u5b58\u5728\u200b\u660e\u663e\u200b\u7684\u200b\u8fc7\u200b\u62df\u5408\u200b\u95ee\u9898\u200b\uff0c\u200b\u5176\u200b\u5728\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65f6\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u8868\u73b0\u200b\u975e\u5e38\u200b\u597d\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u8868\u73b0\u200b\u6700\u5dee\u200b\u3002TimeSeriesSplit \u200b\u65b9\u6cd5\u200b\u867d\u7136\u200b\u5728\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65f6\u200b\u8868\u73b0\u200b\u8f83\u5dee\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u8868\u73b0\u200b\u6700\u597d\u200b\u3002</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u4ea4\u53c9\u9a8c\u8bc1\u5bf9\u6bd4\u591a\u79cd\u6a21\u578b","title":"\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u2014\u2014\u200b\u5bf9\u6bd4\u200b\u591a\u79cd\u200b\u6a21\u578b","text":"<p>\u200b\u5728\u200b\u591a\u4e2a\u200b\u6a21\u578b\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u53d1\u73b0\u200b Shuffle \u200b\u65b9\u6cd5\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u603b\u662f\u200b\u8868\u73b0\u200b\u6700\u597d\u200b\u7684\u200b\u90a3\u4e2a\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u5e76\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u3002\u200b\u5c24\u5176\u200b\u662f\u200b\u590d\u6742\u200b\u7684\u200b\u9ad8\u65af\u200b\u6838\u200b SVM \u200b\u548c\u200b XGBoost \u200b\u6a21\u578b\u200b\uff0c\u200b\u6211\u4eec\u200b\u63a8\u6d4b\u200b\u662f\u56e0\u4e3a\u200b\u590d\u6742\u200b\u7684\u200b\u6a21\u578b\u200b\u5bf9\u8d85\u200b\u53c2\u6570\u200b\u66f4\u52a0\u200b\u654f\u611f\u200b\u3002</p> Python<pre><code>def cv_grid_one(model):\n# \u200b\u5b9a\u4e49\u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results_grid = {}\n# \u200b\u5b9a\u4e49\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\nparam_grid = {\n\"eta\": [0.001, 0.01],\n\"gamma\": [1, 0.1],\n\"max_depth\": [2, 3],\n\"min_child_weight\": [2, 3],\n\"eval_metric\": [\"logloss\"],\n}\nfor split_method in tqdm([split_kfold, split_shuffle, split_ts]):\ncv_results_grid[type(split_method).__name__] = {\n\"Best_Params\": None,\n\"Mean_Validation_Accuracy\": None,\n\"Test_Accuracy\": None,\n}\n# \u200b\u5b9a\u4e49\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u7684\u200b\u5b9e\u4f8b\u200b\ngrid_search = GridSearchCV(\nestimator=model,\nparam_grid=param_grid,\ncv=split_method,\nscoring=\"accuracy\",\nn_jobs=-1,\nverbose=1,\n)\n# \u200b\u8fdb\u884c\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\nt1 = time.time()\ngrid_search.fit(X_train_and_validation_for_cv, y_train_and_validation_for_cv)\nt2 = time.time()\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\ncv_results_grid[type(split_method).__name__][\n\"Best_Params\"\n] = grid_search.best_params_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_grid[type(split_method).__name__][\n\"Mean_Validation_Accuracy\"\n] = grid_search.best_score_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_grid[type(split_method).__name__][\n\"Test_Accuracy\"\n] = grid_search.score(X_test_for_cv, y_test_for_cv)\ncv_results_grid[type(split_method).__name__][\"time\"] = t2 - t1\ncv_results_grid[type(split_method).__name__][\n\"best_estimator\"\n] = grid_search.best_estimator_\nreturn cv_results_grid\n</code></pre> Python<pre><code>from scipy.stats import randint\nfrom scipy.stats import uniform\ndef cv_random_one(model):\n# \u200b\u5b9a\u4e49\u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results_random = {}\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\nif model == xgb_model:\nparam_random = {\n\"eta\": [0.005, 0.01, 0.015],\n\"gamma\": [1, 0.1, 0.01],\n\"max_depth\": [2, 3, 4, 5],\n\"min_child_weight\": [2, 3, 4, 5],\n\"eval_metric\": [\"logloss\"],\n}\nif model == linearsvm_model or model == gssvm_model:\nparam_random = {\"C\": [1, 10, 100, 1000], \"gamma\": [1, 0.1, 0.01, 0.001]}\nif model == RF_model:\nparam_random = {\n\"n_estimators\": randint(low=1, high=200),\n\"max_features\": randint(low=7, high=9),\n}\nif model == tree_model:\nparam_random = {\"max_depth\": [1, 2, 3, 4, 5, 6, 7, None]}\nif model == LR_model:\nparam_random = {\"C\": uniform(loc=0, scale=4), \"penalty\": [\"l2\", \"l1\"]}\nfor split_method in tqdm([split_kfold, split_shuffle, split_ts]):\ncv_results_random[type(split_method).__name__] = {\n\"Best_Params\": None,\n\"Mean_Validation_Accuracy\": None,\n\"Test_Accuracy\": None,\n}\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nrondom_search = RandomizedSearchCV(\nestimator=model,\nparam_distributions=param_random,\nn_iter=20,\ncv=split_method,\nscoring=\"accuracy\",\nn_jobs=-1,\nverbose=1,\nrandom_state=0,\n)\n# \u200b\u8fdb\u884c\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\nt1 = time.time()\nrondom_search.fit(X_train_and_validation_for_cv, y_train_and_validation_for_cv)\nt2 = time.time()\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_random[type(split_method).__name__][\n\"Mean_Validation_Accuracy\"\n] = rondom_search.best_score_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_random[type(split_method).__name__][\n\"Test_Accuracy\"\n] = rondom_search.score(X_test_for_cv, y_test_for_cv)\n# \u200b\u65f6\u95f4\u200b\ncv_results_random[type(split_method).__name__][\"time\"] = t2 - t1\ncv_results_random[type(split_method).__name__][\n\"best_estimator\"\n] = rondom_search.best_estimator_\nreturn cv_results_random\n</code></pre> Python<pre><code>import matplotlib\nimport matplotlib.pyplot as plt\nimport numpy as np\ndef autolabel(rects):\n\"\"\"\u200b\u5728\u200b* rects *\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u67f1\u72b6\u200b\u6761\u200b\u4e0a\u65b9\u200b\u9644\u52a0\u200b\u4e00\u4e2a\u200b\u6587\u672c\u200b\u6807\u7b7e\u200b\uff0c\u200b\u663e\u793a\u200b\u5176\u200b\u9ad8\u5ea6\u200b\"\"\"\nfor rect in rects:\nheight = rect.get_height()\nax.annotate(\n\"{}\".format(height),\nxy=(rect.get_x() + rect.get_width() / 2, height),\nxytext=(0, 3),  # 3 \u200b\u70b9\u200b\u5782\u76f4\u200b\u504f\u79fb\u200b\ntextcoords=\"offset points\",\nha=\"center\",\nva=\"bottom\",\n)\ndef plot_compare(a, b, c, title):\nfig = plt.figure(figsize=(20, 15), dpi=200)\nax = fig.add_subplot(1, 1, 1)\n# plt.rcParams['font.sans-serif']=['SimHei'] # \u200b\u89e3\u51b3\u200b\u4e2d\u6587\u200b\u4e71\u7801\u200b\nlabels = [\n\"Logistic Regression\",\n\"Linear SVM\",\n\"RBF SVM\",\n\"Decision Tree\",\n\"Random Forest\",\n\"XGBoost\",\n]\nx = np.arange(len(labels))  # \u200b\u6807\u7b7e\u200b\u4f4d\u7f6e\u200b\nwidth = 0.2  # \u200b\u67f1\u72b6\u56fe\u200b\u7684\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u81ea\u5df1\u200b\u7684\u200b\u9700\u6c42\u200b\u548c\u200b\u5ba1\u7f8e\u200b\u6765\u200b\u6539\u200b\nrects1 = ax.bar(x - width, a, width, label=\"KFold\")\nrects2 = ax.bar(x + 0.01, b, width, label=\"ShuffleSplit\")\nrects3 = ax.bar(x + 0.02 + width, c, width, label=\"TimeSeriesSplit\")\n# \u200b\u4e3a\u200b y \u200b\u8f74\u200b\u3001\u200b\u6807\u9898\u200b\u548c\u200b x \u200b\u8f74\u200b\u7b49\u200b\u6dfb\u52a0\u200b\u4e00\u4e9b\u200b\u6587\u672c\u200b\u3002\n# \u200b\u5728\u200b\u67f1\u72b6\u56fe\u200b\u4e0a\u65b9\u200b\u6dfb\u52a0\u200b\u6570\u5b57\u200b\u6807\u7b7e\u200b\nif title != \"Time\":\nfor m, y in enumerate(a):\nplt.text(\nm - width,\ny + 0.001,\n\"{:.2%}\".format(y),\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nfor m, y in enumerate(b):\nplt.text(\nm + 0.01,\ny + 0.001,\n\"{:.2%}\".format(y),\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nfor m, y in enumerate(c):\nplt.text(\nm + 0.02 + width,\ny + 0.001,\n\"{:.2%}\".format(y),\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nax.set_ylim([0.5, 0.58])\nax.yaxis.set_major_formatter(PercentFormatter(1.0, decimals=0))\nax.set_ylabel(\"Accuracy\", fontsize=30)\nax.set_xlabel(\"Model Type\", fontsize=30)\nif title == \"Time\":\nfor m, y in enumerate(a):\nplt.text(\nm - width,\ny + 0.001,\n\"{:.2f}\".format(y),\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nfor m, y in enumerate(b):\nplt.text(\nm + 0.01,\ny + 0.001,\n\"{:.2f}\".format(y),\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nfor m, y in enumerate(c):\nplt.text(\nm + 0.02 + width,\ny + 0.001,\n\"{:.2f}\".format(y),\nha=\"center\",\nva=\"bottom\",\nfontsize=16,\n)\nax.set_ylabel(\"Time\", fontsize=16)\nax.set_xlabel(\"Model Type\", fontsize=16)\nax.set_title(title, fontsize=30)\nax.set_xticks(x)\nax.set_xticklabels(labels, fontsize=20)\nax.tick_params(labelsize=20)\nax.legend(fontsize=30)\n# ylabel \u200b\u4ee5\u200b\u767e\u5206\u6570\u200b\u7684\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\nautolabel(rects1)\nautolabel(rects2)\nautolabel(rects3)\nfig.tight_layout()\nplt.show()\n</code></pre> Python<pre><code>a_valid = list()\nb_valid = list()\nc_valid = list()\na_test = list()\nb_test = list()\nc_test = list()\na_time = list()\nb_time = list()\nc_time = list()\nfor model in [xgb_model, linearsvm_model, gssvm_model, tree_model, LR_model, RF_model]:\nk = cv_random_one(model)\na_valid.append(k[\"KFold\"][\"Mean_Validation_Accuracy\"])\nb_valid.append(k[\"ShuffleSplit\"][\"Mean_Validation_Accuracy\"])\nc_valid.append(k[\"TimeSeriesSplit\"][\"Mean_Validation_Accuracy\"])\na_test.append(k[\"KFold\"][\"Test_Accuracy\"])\nb_test.append(k[\"ShuffleSplit\"][\"Test_Accuracy\"])\nc_test.append(k[\"TimeSeriesSplit\"][\"Test_Accuracy\"])\na_time.append(k[\"KFold\"][\"time\"])\nb_time.append(k[\"ShuffleSplit\"][\"time\"])\nc_time.append(k[\"TimeSeriesSplit\"][\"time\"])\nplot_compare(a_valid, b_valid, c_valid, \"Validation Accuracy\")\nplot_compare(a_test, b_test, c_test, \"Test Accuracy\")\nplot_compare(a_time, b_time, c_time, \"Time\")\n</code></pre> <p></p> <p></p> <p></p> <p>\u200b\u6700\u540e\u200b\u6211\u4eec\u200b\u6bd4\u8f83\u200b\u4e86\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8017\u65f6\u200b\u57fa\u672c\u200b\u662f\u200b\u5176\u4ed6\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u4e00\u534a\u200b\uff0c\u200b\u8fd9\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u56e0\u4e3a\u200b\u5b83\u200b\u6574\u4f53\u200b\u4e0a\u200b\u53ea\u7528\u200b\u5230\u200b\u4e86\u200b\u4e00\u534a\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u200b\u4e5f\u200b\u7ed9\u200b\u4e86\u200b\u6211\u4eec\u200b\u4e00\u4e2a\u200b\u542f\u53d1\u200b\uff1a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u91cf\u200b\u4e5f\u200b\u662f\u200b\u5f71\u54cd\u200b\u62df\u5408\u200b\u7a0b\u5ea6\u200b\u7684\u200b\u56e0\u7d20\u200b\uff0c\u200b\u5982\u679c\u200b\u63a7\u5236\u200b\u4f4f\u200b\u5b83\u200b\uff0c\u200b\u7ed3\u8bba\u200b\u4f1a\u200b\u4e0d\u4f1a\u200b\u4ecd\u7136\u200b\u6210\u7acb\u200b\u5462\u200b\uff1f</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u63a7\u5236\u8bad\u7ec3\u96c6\u6837\u672c\u91cf","title":"\u63a7\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf","text":"<p>\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5e26\u6765\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u7684\u200b\u63d0\u5347\u200b\uff0c\u200b\u7a76\u7adf\u200b\u662f\u200b</p> <ol> <li>\u200b\u4fdd\u7559\u200b\u4e86\u200b\u6837\u672c\u200b\u7684\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\uff1b</li> <li>\u200b\u8fd8\u662f\u200b\u56e0\u4e3a\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4f7f\u7528\u200b\u66f4\u200b\u5c11\u200b\uff08\u200b\u63a5\u8fd1\u200b\u4e00\u534a\u200b\uff09\u200b\u7684\u200b\u6837\u672c\u91cf\u200b\u3002</li> </ol> <p>\u200b\u5b9a\u4e49\u200b\u989c\u8272\u200b Colormap\uff0c\u200b\u5c06\u200b\u672a\u200b\u88ab\u9009\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u200b\u63cf\u8ff0\u200b\u4e3a\u200b\u767d\u8272\u200b\u3002</p> <p>\u200b\u5c06\u200b K \u200b\u6298\u200b\u548c\u200b Shuffle \u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf\u200b\u51cf\u5c11\u200b\u5230\u200b\u548c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u76f8\u540c\u200b\u3002\u200b\u56fe\u4e2d\u200b\u7684\u200b\u84dd\u8272\u200b\u4ecd\u7136\u200b\u662f\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u7ea2\u8272\u200b\u4ecd\u7136\u200b\u662f\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\uff0c\u200b\u4f46\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u7684\u200b\u767d\u8272\u200b\u662f\u200b\u88ab\u200b\u6211\u4eec\u200b\u5254\u9664\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u80fd\u591f\u200b\u63a7\u5236\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf\u200b\u3002</p> Python<pre><code>from matplotlib.colors import LinearSegmentedColormap\n# Create a new colormap that goes from blue to white to red\nmy_colormap = LinearSegmentedColormap.from_list(\n\"my_colormap\", [(0, \"blue\"), (0.5, \"white\"), (1, \"red\")]\n)\n</code></pre> Python<pre><code>def split_less_sample(split_method, X):\nin_and_out_list = []\ni = 1\nfor train_index, test_index in split_method.split(X=X):\ntrain_index = list(train_index)\ntest_index = list(test_index)\n# Randomly shuffle the list\nrandom.shuffle(train_index)\n# Delete some items from the list\nif i != n_splits:  # \u200b\u82e5\u200b\u6ca1\u5230\u200b\u6700\u540e\u200b\u4e00\u8f6e\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u51cf\u5c11\u200b\u4f20\u7edf\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf\u200b\ntrain_index = train_index[: i * (len(X)) // (n_splits + 1)]\ni += 1\n# Sort the list\ntrain_index.sort()\nin_and_out = (train_index, test_index)\nin_and_out_list.append(in_and_out)\nreturn in_and_out_list\n</code></pre> Python<pre><code>def plot_cv_indices_less_sample(split_method, X, ax, n_splits, lw=10):\n\"\"\"\n    \u200b\u7ed8\u5236\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u91cf\u200b\u4fdd\u8bc1\u200b\u4e0e\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf\u200b\u76f8\u540c\u200b\n    \"\"\"\nin_and_out_list = split_less_sample(split_method, X)\n#     print(in_and_out_list)\n# \u200b\u751f\u6210\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e2d\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\nfor ii, (tr, tt) in enumerate(in_and_out_list):\n# \u200b\u586b\u5145\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u7d22\u5f15\u200b\nindices = np.array([np.nan] * len(X))\nindices[tt] = 1\nindices[tr] = 0\nindices[np.where(np.isnan(indices))] = 0.5\n#         print(indices)\n# \u200b\u7ed8\u5236\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\nax.scatter(\nrange(len(indices)),\n[ii + 0.5] * len(indices),\nc=indices,\nmarker=\"_\",\nlw=lw,\ncmap=plt.cm.coolwarm,\nvmin=-0.2,\nvmax=1.2,\n)\nyticklabels = list(range(1, n_splits + 1))\nax.set(\nyticks=np.arange(n_splits) + 0.5,\nyticklabels=yticklabels,\nxlabel=\"Index\",\nylabel=\"CV iteration\",\nylim=[n_splits, -0.2],\nxlim=[0, X_train_and_validation_for_cv.shape[0]],\n)\nax.set_title(\"{}\".format(type(split_method).__name__), fontsize=15)\nreturn ax\n</code></pre> Python<pre><code>fig = plt.figure(figsize=(12, 4), dpi=200)\nsplit_kfold = KFold(n_splits=n_splits)\nsplit_shuffle = ShuffleSplit(n_splits=n_splits, test_size=1 / n_splits, random_state=0)\nsplit_ts = TimeSeriesSplit(n_splits=n_splits)\nfor i, split_method in enumerate([split_kfold, split_shuffle, split_ts]):\nax = fig.add_subplot(1, 3, 1 + i)\nplot_cv_indices_less_sample(\nsplit_method, X_train_and_validation_for_cv, ax, n_splits\n)\n# \u200b\u7ed8\u5236\u56fe\u200b\u4f8b\u200b\nax.legend(\n[Patch(color=plt.cm.coolwarm(0.8)), Patch(color=plt.cm.coolwarm(0.02))],\n[\"Validation set\", \"Training set\"],\nloc=(1.02, 0.85),\n)\nplt.tight_layout()\nplt.show()\n</code></pre> <p></p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u5728\u76f8\u540c\u8bad\u7ec3\u96c6\u6837\u672c\u91cf\u7684\u60c5\u51b5\u4e0b\u6bd4\u8f83\u5404\u6a21\u578b\u7684\u4f18\u52a3","title":"\u5728\u200b\u76f8\u540c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u5404\u200b\u6a21\u578b\u200b\u7684\u200b\u4f18\u52a3","text":"Python<pre><code>def cv_random_one_less_sample(model):\n# \u200b\u5b9a\u4e49\u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e0d\u540c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results_random = {}\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\nif model == xgb_model:\nparam_random = {\n\"eta\": [0.005, 0.01, 0.015],\n\"gamma\": [1, 0.1, 0.01],\n\"max_depth\": [2, 3, 4, 5],\n\"min_child_weight\": [2, 3, 4, 5],\n\"eval_metric\": [\"logloss\"],\n}\nif model == linearsvm_model or model == gssvm_model:\nparam_random = {\"C\": [1, 10, 100, 1000], \"gamma\": [1, 0.1, 0.01, 0.001]}\nif model == RF_model:\nparam_random = {\n\"n_estimators\": randint(low=1, high=200),\n\"max_features\": randint(low=7, high=9),\n}\nif model == tree_model:\nparam_random = {\"max_depth\": [1, 2, 3, 4, 5, 6, 7, None]}\nif model == LR_model:\nparam_random = {\"C\": uniform(loc=0, scale=4), \"penalty\": [\"l2\", \"l1\"]}\nfor split_method in tqdm([split_kfold, split_shuffle, split_ts]):\ncv_results_random[type(split_method).__name__] = {\n\"Best_Params\": None,\n\"Mean_Validation_Accuracy\": None,\n\"Test_Accuracy\": None,\n}\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nrondom_search = RandomizedSearchCV(\nestimator=model,\nparam_distributions=param_random,\nn_iter=20,\ncv=split_less_sample(split_method, X_train_and_validation_for_cv),\nscoring=\"accuracy\",\nn_jobs=-1,\nverbose=1,\nrandom_state=0,\n)\n# \u200b\u8fdb\u884c\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\nt1 = time.time()\nrondom_search.fit(X_train_and_validation_for_cv, y_train_and_validation_for_cv)\nt2 = time.time()\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_random[type(split_method).__name__][\n\"Mean_Validation_Accuracy\"\n] = rondom_search.best_score_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u51c6\u786e\u7387\u200b\ncv_results_random[type(split_method).__name__][\n\"Test_Accuracy\"\n] = rondom_search.score(X_test_for_cv, y_test_for_cv)\n# \u200b\u65f6\u95f4\u200b\ncv_results_random[type(split_method).__name__][\"time\"] = t2 - t1\ncv_results_random[type(split_method).__name__][\n\"best_estimator\"\n] = rondom_search.best_estimator_\nreturn cv_results_random\n</code></pre> Python<pre><code>a_valid = list()\nb_valid = list()\nc_valid = list()\na_test = list()\nb_test = list()\nc_test = list()\na_time = list()\nb_time = list()\nc_time = list()\nfor model in [xgb_model, linearsvm_model, gssvm_model, tree_model, LR_model, RF_model]:\nk = cv_random_one_less_sample(model)\na_valid.append(k[\"KFold\"][\"Mean_Validation_Accuracy\"])\nb_valid.append(k[\"ShuffleSplit\"][\"Mean_Validation_Accuracy\"])\nc_valid.append(k[\"TimeSeriesSplit\"][\"Mean_Validation_Accuracy\"])\na_test.append(k[\"KFold\"][\"Test_Accuracy\"])\nb_test.append(k[\"ShuffleSplit\"][\"Test_Accuracy\"])\nc_test.append(k[\"TimeSeriesSplit\"][\"Test_Accuracy\"])\na_time.append(k[\"KFold\"][\"time\"])\nb_time.append(k[\"ShuffleSplit\"][\"time\"])\nc_time.append(k[\"TimeSeriesSplit\"][\"time\"])\nplot_compare(a_valid, b_valid, c_valid, \"Validation Accuracy\")\nplot_compare(a_test, b_test, c_test, \"Test Accuracy\")\nplot_compare(a_time, b_time, c_time, \"Time\")\n</code></pre> <p>\u200b\u6700\u7ec8\u200b\u7684\u200b\u7ed3\u679c\u663e\u793a\u200b\uff0cShuffle \u200b\u65b9\u6cd5\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u4f9d\u65e7\u200b\u662f\u200b\u5f88\u200b\u4e0d\u9519\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u5e76\u200b\u4e0d\u200b\u603b\u662f\u200b\u5360\u4f18\u200b\u3002\u200b\u800c\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u6574\u4f53\u200b\u8868\u73b0\u200b\u6bd4\u8f83\u200b\u7a33\u5065\u200b\u3002</p> <p>\u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\u4e0a\u200b\uff0c\u200b\u7531\u4e8e\u200b\u63a7\u5236\u200b\u4e86\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u91cf\u200b\uff0c\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u57fa\u672c\u76f8\u540c\u200b\u3002</p>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/kfold-shuffle-timeseries-cross-validation/#\u7ed3\u8bba\u548c\u5efa\u8bae","title":"\u7ed3\u8bba\u200b\u548c\u200b\u5efa\u8bae","text":"<ol> <li>\u200b\u672c\u6587\u200b\u6bd4\u8f83\u200b\u4e86\u200b K \u200b\u6298\u200b\u3001Shuffle \u200b\u548c\u200b\u65f6\u5e8f\u200b\u8fd9\u200b\u4e09\u79cd\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53d1\u73b0\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e0d\u4f1a\u200b\u4ea7\u751f\u200b\u6570\u636e\u200b\u6cc4\u9732\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u867d\u7136\u200b\u4e0d\u9ad8\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u66f4\u200b\u7a33\u5065\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\u5f00\u9500\u200b\u4e0a\u200b\u4e5f\u200b\u66f4\u200b\u5360\u4f18\u52bf\u200b\u3002</li> <li>\u200b\u5bf9\u200b\u65f6\u5e8f\u200b\u5c5e\u6027\u200b\u8f83\u5f3a\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u4f8b\u5982\u200b\u91d1\u878d\u200b\u6570\u636e\u200b\u3001\u200b\u533b\u7597\u200b\u76d1\u6d4b\u6570\u636e\u200b\u3001\u200b\u9500\u91cf\u200b\u6570\u636e\u200b\u7b49\u7b49\u200b\uff0c\u200b\u66f4\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u65f6\u5e8f\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u65b9\u6cd5\u200b\u8c03\u6574\u200b\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u3002</li> <li>\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5c31\u662f\u200b\u4e0d\u65ad\u200b\u8ba1\u7b97\u200b\u3001\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u770b\u4e0a\u53bb\u200b\u6ca1\u6709\u200b\u4ec0\u4e48\u200b\u6280\u672f\u542b\u91cf\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u201c\u200b\u9009\u62e9\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7b97\u6cd5\u200b\u201d\uff0c\u200b\u5bf9\u6a21\u578b\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u6709\u200b\u4e0d\u5c0f\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u5e94\u5f53\u200b\u5f15\u8d77\u200b\u91cd\u89c6\u200b\u3002</li> </ol>","tags":["Python","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-variance-in-pandas/","title":"\u5728\u200b pandas \u200b\u4e2d\u200b\u8ba1\u7b97\u200b\u65b9\u5dee","text":"<p>pandas \u200b\u9ed8\u8ba4\u200b\u7684\u200b<code>.var()</code>\u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u200b\u7684\u200b\u662f\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\uff0c\u200b\u5373\u200b\u81ea\u7531\u5ea6\u200b\u4e3a\u200b\\(N-1\\)\u3002\u200b\u82e5\u60f3\u200b\u8ba1\u7b97\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\uff0c\u200b\u9700\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b<code>ddof=0</code>(1)\u3002</p> <ol> <li>Delta Degrees of Freedom\u3002\u200b\u5f53\u200b\u6307\u5b9a\u200b<code>ddof</code>\u200b\u65f6\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b\u7684\u200b\u5206\u6bcd\u200b\u4e3a\u200b<code>N-ddof</code>\u3002</li> </ol> <p>\u200b\u603b\u7ed3\u200b</p> <ul> <li>pandas \u200b\u4e2d\u200b\u7684\u200b<code>var()</code>\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u81ea\u7531\u5ea6\u200b\u662f\u200b n-1\uff0c\u200b\u5373\u200b<code>var(ddof=1)</code>\uff1b</li> <li>NumPy \u200b\u4e2d\u200b\u7684\u200b<code>var()</code>\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u81ea\u7531\u5ea6\u200b\u662f\u200b n\uff0c\u200b\u5373\u200b<code>var(ddof=0)</code>\uff1b</li> <li>pandas \u200b\u4e2d\u200b\u7684\u200b<code>var(ddof=0)</code>\u200b\u76f8\u5f53\u4e8e\u200b NumPy \u200b\u4e2d\u200b\u7684\u200b <code>var()</code>\u3002</li> </ul> <p>\u200b\u5728\u200b\u9a8c\u7b97\u200b\u7edf\u8ba1\u8c03\u67e5\u200b\u4e0e\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u8bfe\u7a0b\u200b\u8bb2\u4e49\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u65f6\u200b\uff0c\u200b\u6211\u200b\u5bf9\u6bd4\u200b\u4e86\u200b<code>pandas</code>\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b\u7684\u200b\u7ed3\u679c\u200b\u548c\u200b\u81ea\u5df1\u200b\u624b\u52a8\u200b\u5b9e\u73b0\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u53d1\u73b0\u200b<code>pandas</code>\u200b\u9ed8\u8ba4\u200b\u7684\u200b<code>.var()</code>\u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u200b\u7684\u200b\u662f\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\uff0c\u200b\u5373\u200b\u81ea\u7531\u5ea6\u200b\u4e3a\u200b\\(N-1\\)\u3002\u200b\u82e5\u60f3\u200b\u8ba1\u7b97\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\uff0c\u200b\u9700\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b<code>ddof=0</code>\u3002</p> Python<pre><code>import pandas as pd\nfrom IPython.display import Markdown as md\n</code></pre>","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/calculate-variance-in-pandas/#\u8bbe\u5b9a\u53c2\u6570","title":"\u8bbe\u5b9a\u200b\u53c2\u6570","text":"Python<pre><code>N = 36\nn = 6\n</code></pre>","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/calculate-variance-in-pandas/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code>df1 = pd.read_excel(\"\u200b\u4f8b\u200b 1-\u200b\u6570\u636e\u200b.xlsx\", index_col=0)\n</code></pre> Python<pre><code>df1\n</code></pre> \u200b\u5355\u4f4d\u200b\u53f7\u200b Xi Yi 1 598 633 2 21 18 3 630 656 4 3012 3273 5 372 386 6 142 164 7 1072 1145 8 432 501 9 216 235 10 1698 1778 11 1570 1541 12 502 486 13 497 516 14 723 786 15 712 740 16 335 352 17 267 299 18 1658 1714 19 231 255 20 15 24 21 172 181 22 234 243 23 312 338 24 351 371 25 252 281 26 194 210 27 149 166 28 173 189 29 318 344 30 204 227 31 52 63 32 188 174 33 97 122 34 218 242 35 47 51 36 838 879","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/calculate-variance-in-pandas/#\u7b80\u5355\u968f\u673a\u62bd\u6837\u7684\u7406\u8bba\u65b9\u5dee","title":"\u7b80\u5355\u200b\u968f\u673a\u62bd\u6837\u200b\u7684\u200b\u7406\u8bba\u200b\u65b9\u5dee","text":"Python<pre><code>V_Y_SRS = N**2 * ((1 - n / N) / n * df1[\"Yi\"].var())\nprint(V_Y_SRS)\n</code></pre> Text Only<pre><code>75537056.42857143\n</code></pre> \\[V(\\hat Y_{{SRS}}) = 75537056\\] <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u8bfe\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u4e00\u81f4\u200b\u3002</p> <p></p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u5f53\u200b\u6211\u200b\u4e0d\u200b\u8c03\u7528\u200b<code>pandas</code>\u200b\u4e2d\u200b\u7684\u200b<code>.var()</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u662f\u200b\u81ea\u5df1\u200b\u5b9e\u73b0\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\u7684\u200b\u8ba1\u7b97\u200b\u65f6\u200b\uff0c\u200b\u53d1\u73b0\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u8bfe\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u3002</p> <p></p> Python<pre><code># \u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\nsum_of_squre = 0\nmean = df1[\"Yi\"].mean()\nfor i in range(1, N + 1):\nsum_of_squre += (df1.loc[i, \"Yi\"] - mean) ** 2\nS_square_manual = sum_of_squre / (N)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(S_square_manual)\n</code></pre> Text Only<pre><code>407993.3603395062\n</code></pre> \\[V_{{manual}}(Y_i) = {{ 407993 }}\\] Python<pre><code>V_Y_SRS_manual = N**2 * ((1 - n / N) / n * S_square_manual)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(V_Y_SRS_manual)\n</code></pre> Text Only<pre><code>73438804.86111112\n</code></pre> \\[V_{{manual}}(\\hat Y_{{SRS}}) = 73438805\\] <p>\u200b\u8fd9\u4e2a\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u8bfe\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u3002</p> <p>\u200b\u68c0\u67e5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b<code>pandas</code>\u200b\u4e2d\u200b\u7684\u200b<code>var()</code>\u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u200b\u7684\u200b\u662f\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\uff0c\u200b\u5206\u6bcd\u200b\u9664\u200b\u7684\u200b\u662f\u200b<code>N-1</code>\u3002</p> Python<pre><code># \u200b\u7528\u200b pandas \u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\nS_square_pandas = df1[\"Yi\"].var()\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(S_square_pandas)\n</code></pre> Text Only<pre><code>419650.3134920635\n</code></pre> \\[V_{{pandas}}(\\hat Y_{{SRS}}) = 419650\\] Python<pre><code>V_Y_SRS_pandas = N**2 * ((1 - n / N) / n * S_square_pandas)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(V_Y_SRS_pandas)\n</code></pre> Text Only<pre><code>75537056.42857143\n</code></pre> <p>\\(\\(V_{{pandas}}(\\hat Y_{{SRS}}) = 75537056\\)\\)'</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5c06\u200b<code>pandas</code>\u200b\u4e2d\u200b\u7684\u200b<code>var()</code>\u200b\u65b9\u6cd5\u200b\u6539\u4e3a\u200b\u8ba1\u7b97\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\uff0c\u200b\u5373\u200b\u4f20\u5165\u200b<code>ddof=0</code>\uff0c\u200b\u4f7f\u5f97\u200b\u5206\u6bcd\u200b\u9664\u200b\u7684\u200b\u662f\u200b<code>N</code>\uff0c\u200b\u5219\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7684\u200b\u4e00\u81f4\u200b\uff0c\u200b\u4f46\u200b\u4e0e\u200b\u8bfe\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u3002</p> Python<pre><code># \u200b\u7528\u200b pandas \u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b\uff0c\u200b\u4e14\u200b\u6307\u5b9a\u200b\u4e3a\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\nS_square_pandas = df1[\"Yi\"].var(ddof=0)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(S_square_pandas)\n</code></pre> Text Only<pre><code>407993.3603395062\n</code></pre> \\[V_{{pandas}}(\\hat Y_{{SRS}}) = 407993\\] Python<pre><code>V_Y_SRS_pandas = N**2 * ((1 - n / N) / n * S_square_pandas)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(V_Y_SRS_pandas)\n</code></pre> Text Only<pre><code>73438804.86111112\n</code></pre> \\[V_{{pandas}}(\\hat Y_{{SRS}}) = 73438805\\] <p>\u200b\u5728\u200b\u8ba1\u7b97\u200b\u7406\u8bba\u200b\u65b9\u5dee\u200b\u65f6\u200b\uff0c\u200b\u82e5\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u603b\u4f53\u200b\u6570\u636e\u200b\uff0c\u200b\u5219\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\u3002</p>","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/converting-jupyter-notebooks-with-embedded-images-to-pdf/","title":"\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u63d2\u5165\u200b\u672c\u5730\u200b\u56fe\u7247\u200b\u5e76\u200b\u5bfc\u51fa\u200b\u5e26\u6709\u200b\u56fe\u7247\u200b\u7684\u200b PDF \u200b\u6587\u4ef6","text":"<p>\u200b\u5c06\u200b Notebook \u200b\u8f6c\u4e3a\u200b PDF \u200b\u65f6\u200b\u901a\u5e38\u200b\u90fd\u200b\u5d4c\u200b\u6709\u200b\u672c\u5730\u200b\u56fe\u7247\u200b\uff0c\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u53ef\u4ee5\u200b\u6210\u529f\u200b\u5c06\u200b\u56fe\u7247\u200b\u5d4c\u5165\u200b PDF \u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u5728\u200b VS Code \u200b\u4e2d\u200b\u7684\u200b Notebook \u200b\u76f4\u63a5\u63d2\u5165\u200b\u56fe\u7247\u200b\u8def\u5f84\u200b\uff0c\u200b\u5728\u200b\u8f6c\u4e3a\u200b PDF \u200b\u65f6\u200b\u901a\u5e38\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u4e0d\u200b\u663e\u793a\u200b\u56fe\u7247\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u9700\u8981\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u62d6\u52a8\u200b\u56fe\u7247\u200b\uff0c\u200b\u867d\u7136\u200b\u7e41\u7410\u200b\u4e86\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u4f46\u200b\u53ef\u4ee5\u200b\u6210\u529f\u200b\u5c06\u200b\u56fe\u7247\u200b\u5d4c\u5165\u200b PDF\u3002</p> <p>\u200b\u539f\u6587\u200b\u94fe\u63a5\u200b\uff1ahttps://mpievolbio-scicomp.pages.gwdg.de/blog/post/2020-12-09_pandoc_vs_nbconvert</p>","tags":["Python"]},{"location":"blog/markov-chain-monte-carlo/","title":"\u968f\u673a\u62bd\u6837\u200b\u4e4b\u200b MCMC \u200b\u7b97\u6cd5","text":"<p>MCMC \u200b\u7b97\u6cd5\u200b\u662f\u200b\u4e00\u79cd\u200b\u968f\u673a\u62bd\u6837\u200b\u7b97\u6cd5\u200b\u3002\u200b\u501f\u52a9\u200b\u5efa\u8bae\u200b\u5206\u5e03\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5404\u4e2a\u200b\u6837\u672c\u200b\u72b6\u6001\u200b\u4e4b\u95f4\u200b\u8fdb\u884c\u200b\u8f6c\u79fb\u200b\uff0c\u200b\u6700\u7ec8\u200b\u5f97\u5230\u200b\u76ee\u6807\u200b\u5206\u5e03\u200b\u7684\u200b\u6837\u672c\u200b\u3002\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u4e86\u200b\u9010\u200b\u5206\u91cf\u200b MCMC\u3001\u200b\u968f\u673a\u200b\u6e38\u8d70\u200b\u548c\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\u6784\u9020\u200b Ising \u200b\u5206\u5e03\u200b\u548c\u200b\u4e8c\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u6837\u672c\u200b\u3002</p> <p></p> Python<pre><code># \u200b\u5bfc\u5165\u200b\u5305\u200b\nimport numpy as np\n# \u200b\u8bbe\u7f6e\u200b\u968f\u673a\u6570\u200b\u79cd\u5b50\u200b\nnp.random.seed(0)\nfrom scipy.stats import multivariate_normal\nimport matplotlib.pyplot as plt\nplt.rcParams[\"font.sans-serif\"] = [\"simsun\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\nfrom tqdm import tqdm\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#ising-\u6a21\u578b","title":"Ising \u200b\u6a21\u578b","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u7b97\u6cd5","title":"\u7b97\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u5b9a\u4e49\u76ee\u6807\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u76ee\u6807\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570","text":"Python<pre><code>def pi(vector_x):\nsum_x_i__times_x_i_plus_1 = 0\nfor i in range(len(vector_x) - 1):\nsum_x_i__times_x_i_plus_1 += vector_x[i] * vector_x[i + 1]\nreturn np.exp(sum_x_i__times_x_i_plus_1)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u5b9a\u4e49\u63a5\u53d7\u7387\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u63a5\u53d7\u200b\u7387\u200b\u51fd\u6570","text":"Python<pre><code>def alpha(vector_x, vector_y):\nreturn min(1, pi(vector_y) / pi(vector_x))\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u9010\u5206\u91cf-metropolis-hastings-\u7b97\u6cd5","title":"\u9010\u200b\u5206\u91cf\u200b Metropolis-Hastings \u200b\u7b97\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u521d\u59cb\u5316\u6837\u672c","title":"\u521d\u59cb\u5316\u200b\u6837\u672c","text":"Python<pre><code># \u200b\u751f\u6210\u200b\u521d\u59cb\u200b\u5411\u91cf\u200b\nvector_x = np.random.randint(2, size=20)\n# \u200b\u5c06\u200b vector_x \u200b\u4e2d\u200b\u7684\u200b 0 \u200b\u66ff\u6362\u200b\u4e3a\u200b -1\nvector_x[vector_x == 0] = -1\n# \u200b\u6253\u5370\u200b\u521d\u59cb\u200b\u5411\u91cf\u200b\nprint(\"\u200b\u521d\u59cb\u200b\u5411\u91cf\u200b\u4e3a\u200b\uff1a\", vector_x)\n</code></pre> Text Only<pre><code>\u200b\u521d\u59cb\u200b\u5411\u91cf\u200b\u4e3a\u200b\uff1a [ 1  1 -1 -1 -1 -1 -1 -1 -1 -1  1  1 -1 -1  1 -1 -1  1 -1  1]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8bbe\u5b9a\u8fed\u4ee3\u6b21\u6570","title":"\u8bbe\u5b9a\u200b\u8fed\u4ee3\u200b\u6b21\u6570","text":"Python<pre><code>iteration = 100000\n</code></pre> Python<pre><code># \u200b\u5206\u91cf\u200b\u4e2a\u6570\u200b\nd = len(vector_x)\n# \u200b\u521d\u59cb\u5316\u200b\u63a5\u53d7\u200b\u6b21\u6570\u200b\naccept = 0\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8fed\u4ee3\u4ea7\u751f\u6837\u672c","title":"\u8fed\u4ee3\u200b\u4ea7\u751f\u200b\u6837\u672c","text":"Python<pre><code># \u200b\u4e0d\u65ad\u200b\u8fed\u4ee3\u200b\uff0c\u200b\u751f\u6210\u200b\u6570\u91cf\u200b\u4e3a\u200b iteration \u200b\u7684\u200b\u6837\u672c\u200b\nfor t in tqdm(range(iteration)):\n# \u200b\u9010\u200b\u5206\u91cf\u200b\u66f4\u65b0\u200b\nfor i in range(d):\n# \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b y\uff0c\u200b\u5b83\u200b\u6765\u81ea\u200b\u8bd5\u6295\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\uff1ay \u200b\u6709\u200b 0.5 \u200b\u7684\u200b\u6982\u7387\u200b\u53d6\u503c\u200b\u4e3a\u200b 1\uff0c\u200b\u6709\u200b 0.5 \u200b\u7684\u200b\u6982\u7387\u200b\u53d6\u503c\u200b\u4e3a\u200b -1\nu = np.random.uniform(0, 1)\nif u &lt; 0.5:\ny = 1\nelse:\ny = -1\n# \u200b\u57fa\u4e8e\u200b\u63a5\u53d7\u200b\u7387\u200b\uff0c\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u63a5\u53d7\u200b\nvector_y_x_i_ = vector_x.copy()\n# \u200b\u5c06\u200b x_i \u200b\u7684\u200b\u503c\u200b\u6539\u4e3a\u200b y\nvector_y_x_i_[i] = y\n# q(x_i | y, x_{i-}) \u200b\u548c\u200b q(y | x_i, x_{i-}) \u200b\u7684\u200b\u503c\u200b\u5747\u200b\u4e3a\u200b 0.5\uff0c\u200b\u53ef\u4ee5\u200b\u81ea\u52a8\u200b\u7ea6\u200b\u53bb\u200b\nalpha_i = alpha(vector_x, vector_y_x_i_)\n# \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b u\uff0c\u200b\u5b83\u200b\u6765\u81ea\u200b\u5747\u5300\u5206\u5e03\u200b\nu = np.random.uniform(0, 1)\n# \u200b\u5982\u679c\u200b\u63a5\u53d7\u200b\u7387\u200b\u5927\u4e8e\u200b u\uff0c\u200b\u5219\u200b\u63a5\u53d7\u200b\uff0c\u200b\u5373\u200b\u66f4\u65b0\u200b x_i \u200b\u7684\u200b\u503c\u200b\u4e3a\u200b y\nif alpha_i &gt; u:\nvector_x[i] = y\naccept += 1\n# \u200b\u4fdd\u5b58\u200b\u6837\u672c\u200b\n# \u200b\u7b2c\u4e00\u6b21\u200b\u8fed\u4ee3\u200b\u65f6\u200b\uff0c\u200b\u521d\u59cb\u5316\u200b\u6837\u672c\u200b\nif t == 0:\nsamples = vector_x.copy()\n# \u200b\u540e\u7eed\u200b\u8fed\u4ee3\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u6837\u672c\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6837\u672c\u200b\u96c6\u4e2d\u200b\nelse:\nsamples = np.vstack((samples, vector_x))\n# \u200b\u8ba1\u7b97\u200b\u63a5\u53d7\u200b\u7387\u200b\naccept_rate = accept / (iteration * d)\nprint(\"\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a{:.2%}\".format(accept_rate))\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100000/100000 [03:28&lt;00:00, 479.59it/s]\n\n\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a61.91%\n</code></pre> <p>\u200b   \u200b    </p>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u6536\u655b\u6027\u8bca\u65ad\u4f9d\u636e\u5404\u5206\u91cf\u7684\u7d2f\u8ba1\u5747\u503c","title":"\u6536\u655b\u6027\u200b\u8bca\u65ad\u200b\u2014\u2014\u200b\u4f9d\u636e\u200b\u5404\u200b\u5206\u91cf\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c","text":"Python<pre><code>cumsum = samples.cumsum(axis=0)\n</code></pre> Python<pre><code>cumsum\n</code></pre> Text Only<pre><code>array([[   1,    1,   -1, ...,   -1,    1,    1],\n       [   2,    2,   -2, ...,   -2,    0,    2],\n       [   3,    3,   -1, ...,   -3,   -1,    3],\n       ...,\n       [-452, -684, -716, ..., 1600, 2006, 2076],\n       [-453, -685, -717, ..., 1601, 2007, 2077],\n       [-454, -686, -718, ..., 1602, 2008, 2078]])\n</code></pre> Python<pre><code>cum_iteration = np.arange(1, iteration + 1).reshape(-1, 1)\n</code></pre> Python<pre><code>cum_iteration\n</code></pre> Text Only<pre><code>array([[     1],\n       [     2],\n       [     3],\n       ...,\n       [ 99998],\n       [ 99999],\n       [100000]])\n</code></pre> Python<pre><code>cummean = cumsum / cum_iteration\n</code></pre> Python<pre><code>fig = plt.figure(figsize=(10, 6))\nplt.plot(cummean)\nplt.show()\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5f53\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u8fbe\u5230\u200b 50000 \u200b\u65f6\u200b\uff0c\u200b\u5404\u200b\u5206\u91cf\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c\u200b\u90fd\u200b\u5df2\u7ecf\u200b\u8d8b\u4e8e\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u6837\u672c\u200b\u5df2\u7ecf\u200b\u6536\u655b\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u4e8c\u5143\u6b63\u6001\u5206\u5e03","title":"\u4e8c\u5143\u200b\u6b63\u6001\u5206\u5e03","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8bbe\u7f6e\u76ee\u6807\u5206\u5e03\u7684\u53c2\u6570","title":"\u8bbe\u7f6e\u200b\u76ee\u6807\u200b\u5206\u5e03\u200b\u7684\u200b\u53c2\u6570","text":"Python<pre><code>mu = np.array([0, 0])\nsigma = np.array([[1, 0.7], [0.7, 1]])\n# \u200b\u6784\u9020\u200b\u4e8c\u7ef4\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u7406\u8bba\u200b\u5206\u5e03\u200b\nvar = multivariate_normal(mean=mu, cov=sigma)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u5b9a\u4e49\u4e8c\u5143\u6b63\u6001\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u4e8c\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570","text":"Python<pre><code>def two_dimensional_gaussian(vector_x_y, mu, sigma):\nreturn (\n1\n/ (2 * np.pi * np.sqrt(np.linalg.det(sigma)))\n* np.exp(\n-0.5 * (vector_x_y - mu).T.dot(np.linalg.inv(sigma)).dot(vector_x_y - mu)\n)\n)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u968f\u673a\u6e38\u8d70\u7b97\u6cd5","title":"\u968f\u673a\u200b\u6e38\u8d70\u200b\u7b97\u6cd5","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u521d\u59cb\u5316\u6837\u672c_1","title":"\u521d\u59cb\u5316\u200b\u6837\u672c","text":"Python<pre><code>x = 0\ny = 0\nvector_x_y = np.array([x, y])\n# \u200b\u6253\u5370\u200b\u6837\u672c\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\nprint(\"\u200b\u6837\u672c\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b\uff1a\", vector_x_y)\n</code></pre> Text Only<pre><code>\u200b\u6837\u672c\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b\uff1a [0 0]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8bbe\u5b9a\u8fed\u4ee3\u6b21\u6570_1","title":"\u8bbe\u5b9a\u200b\u8fed\u4ee3\u200b\u6b21\u6570","text":"Python<pre><code>iteration = 100000\n# \u200b\u521d\u59cb\u5316\u200b\u63a5\u53d7\u200b\u6b21\u6570\u200b\naccept = 0\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8fed\u4ee3\u4ea7\u751f\u6837\u672c_1","title":"\u8fed\u4ee3\u200b\u4ea7\u751f\u200b\u6837\u672c","text":"Python<pre><code>for t in tqdm(range(iteration)):\n# \u200b\u751f\u6210\u200b\u6b63\u6001\u5206\u5e03\u200b\u968f\u673a\u6570\u200b\nvector_e1_e2_ = np.random.normal(0, 1, 2)\n# \u200b\u5c06\u200b\u4e0a\u200b\u4e00\u6b65\u200b\u751f\u6210\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u52a0\u200b\u5230\u200b x \u200b\u548c\u200b y \u200b\u4e0a\u200b\nvector_x_y_ = vector_x_y + vector_e1_e2_\n# \u200b\u8ba1\u7b97\u200b\u63a5\u53d7\u200b\u7387\u200b\nratio = two_dimensional_gaussian(vector_x_y_, mu, sigma) / two_dimensional_gaussian(\nvector_x_y, mu, sigma\n)\nalpha = min(1, ratio)\n# \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b u\uff0c\u200b\u5b83\u200b\u6765\u81ea\u200b\u5747\u5300\u5206\u5e03\u200b\nu = np.random.uniform(0, 1)\n# \u200b\u5982\u679c\u200b\u63a5\u53d7\u200b\u7387\u200b\u5927\u4e8e\u200b u\uff0c\u200b\u5219\u200b\u63a5\u53d7\u200b\uff0c\u200b\u5373\u200b\u66f4\u65b0\u200b x \u200b\u548c\u200b y \u200b\u7684\u200b\u503c\u200b\nif alpha &gt; u:\nvector_x_y = vector_x_y_\naccept += 1\n# \u200b\u4fdd\u5b58\u200b\u6837\u672c\u200b\n# \u200b\u7b2c\u4e00\u6b21\u200b\u8fed\u4ee3\u200b\u65f6\u200b\uff0c\u200b\u521d\u59cb\u5316\u200b\u6837\u672c\u200b\nif t == 0:\nsamples_random_walk = vector_x_y.copy()\n# \u200b\u540e\u7eed\u200b\u8fed\u4ee3\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u6837\u672c\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6837\u672c\u200b\u96c6\u4e2d\u200b\nelse:\nsamples_random_walk = np.vstack((samples_random_walk, vector_x_y))\n# \u200b\u8ba1\u7b97\u200b\u63a5\u53d7\u200b\u7387\u200b\naccept_rate = accept / iteration\nprint(\"\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a{:.2%}\".format(accept_rate))\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100000/100000 [00:24&lt;00:00, 4091.07it/s]\n\n\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a45.51%\n</code></pre> <p>\u200b   \u200b    </p> Python<pre><code>samples_random_walk\n</code></pre> Text Only<pre><code>array([[ 0.        ,  0.        ],\n       [ 0.        ,  0.        ],\n       [ 0.        ,  0.        ],\n       ...,\n       [-0.71973486, -1.23049515],\n       [-0.71973486, -1.23049515],\n       [ 0.33205658, -0.79309342]])\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u6536\u655b\u6027\u8bca\u65ad\u4f9d\u636e\u5404\u5206\u91cf\u7684\u7d2f\u8ba1\u5747\u503c_1","title":"\u6536\u655b\u6027\u200b\u8bca\u65ad\u200b\u2014\u2014\u200b\u4f9d\u636e\u200b\u5404\u200b\u5206\u91cf\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c","text":"Python<pre><code>cumsum = samples_random_walk.cumsum(axis=0)\n</code></pre> Python<pre><code>cumsum\n</code></pre> Text Only<pre><code>array([[   0.        ,    0.        ],\n       [   0.        ,    0.        ],\n       [   0.        ,    0.        ],\n       ...,\n       [1019.11864357, 1477.36299153],\n       [1018.39890871, 1476.13249638],\n       [1018.73096529, 1475.33940296]])\n</code></pre> Python<pre><code>cum_iteration = np.arange(1, iteration + 1).reshape(-1, 1)\n</code></pre> Python<pre><code>cum_iteration\n</code></pre> Text Only<pre><code>array([[     1],\n       [     2],\n       [     3],\n       ...,\n       [ 99998],\n       [ 99999],\n       [100000]])\n</code></pre> Python<pre><code>cummean = cumsum / cum_iteration\n</code></pre> Python<pre><code>fig = plt.figure(figsize=(10, 6))\nplt.plot(cummean, label=[\"x\", \"y\"])\n# \u200b\u7ed8\u5236\u200b\u8f85\u52a9\u7ebf\u200b\uff0c\u200b\u7eb5\u5750\u6807\u200b\u4e3a\u200b 0\nplt.axhline(0, color=\"black\", linestyle=\"--\")\nplt.legend()\nplt.show()\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5f53\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u8fbe\u5230\u200b 50000 \u200b\u65f6\u200b\uff0c\\(x\\)\u200b\u548c\u200b\\(y\\)\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c\u200b\u90fd\u200b\u5df2\u7ecf\u200b\u8d8b\u4e8e\u200b\u4e00\u6761\u200b\u76f4\u7ebf\u200b\uff0c\u200b\u4f46\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u975e\u5e38\u200b\u63a5\u8fd1\u200b 0\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u72ec\u7acb\u6027\u62bd\u6837","title":"\u72ec\u7acb\u6027\u200b\u62bd\u6837","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u521d\u59cb\u5316\u6837\u672c_2","title":"\u521d\u59cb\u5316\u200b\u6837\u672c","text":"Python<pre><code>x = 0\ny = 0\nvector_x_y = np.array([x, y])\n# \u200b\u6784\u9020\u200b\u4e8c\u7ef4\u200b\u72ec\u7acb\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u7406\u8bba\u200b\u5206\u5e03\u200b\ng = multivariate_normal(mean=np.zeros(2), cov=np.eye(2))\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8bbe\u5b9a\u8fed\u4ee3\u6b21\u6570_2","title":"\u8bbe\u5b9a\u200b\u8fed\u4ee3\u200b\u6b21\u6570","text":"Python<pre><code>iteration = 100000\n# \u200b\u521d\u59cb\u5316\u200b\u63a5\u53d7\u200b\u6b21\u6570\u200b\naccept = 0\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u8fed\u4ee3\u4ea7\u751f\u6837\u672c_2","title":"\u8fed\u4ee3\u200b\u4ea7\u751f\u200b\u6837\u672c","text":"Python<pre><code>for t in tqdm(range(iteration)):\n# \u200b\u751f\u6210\u200b\u6b63\u6001\u5206\u5e03\u200b\u968f\u673a\u6570\u200b\nvector_e1_e2_ = np.random.normal(0, 1, 2)\n# \u200b\u5c06\u200b\u968f\u673a\u6570\u200b\u76f4\u63a5\u200b\u8d4b\u503c\u200b\u5230\u200b x \u200b\u548c\u200b y \u200b\u4e0a\u200b\nvector_x_y_ = vector_e1_e2_\n# \u200b\u8ba1\u7b97\u200b\u63a5\u53d7\u200b\u7387\u200b\nratio = (two_dimensional_gaussian(vector_x_y_, mu, sigma) * g.pdf(vector_x_y)) / (\ntwo_dimensional_gaussian(vector_x_y, mu, sigma) * g.pdf(vector_x_y_)\n)\nalpha = min(1, ratio)\n# \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b u\uff0c\u200b\u5b83\u200b\u6765\u81ea\u200b\u5747\u5300\u5206\u5e03\u200b\nu = np.random.uniform(0, 1)\n# \u200b\u5982\u679c\u200b\u63a5\u53d7\u200b\u7387\u200b\u5927\u4e8e\u200b u\uff0c\u200b\u5219\u200b\u63a5\u53d7\u200b\uff0c\u200b\u5373\u200b\u66f4\u65b0\u200b x \u200b\u548c\u200b y \u200b\u7684\u200b\u503c\u200b\nif alpha &gt; u:\nvector_x_y = vector_x_y_\naccept += 1\n# \u200b\u4fdd\u5b58\u200b\u6837\u672c\u200b\n# \u200b\u7b2c\u4e00\u6b21\u200b\u8fed\u4ee3\u200b\u65f6\u200b\uff0c\u200b\u521d\u59cb\u5316\u200b\u6837\u672c\u200b\nif t == 0:\nsamples_independent = vector_x_y.copy()\n# \u200b\u540e\u7eed\u200b\u8fed\u4ee3\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u6837\u672c\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6837\u672c\u200b\u96c6\u4e2d\u200b\nelse:\nsamples_independent = np.vstack((samples_independent, vector_x_y))\n# \u200b\u8ba1\u7b97\u200b\u63a5\u53d7\u200b\u7387\u200b\naccept_rate = accept / iteration\nprint(\"\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a{:.2%}\".format(accept_rate))\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100000/100000 [00:27&lt;00:00, 3602.83it/s]\n\n\u200b\u63a5\u53d7\u200b\u7387\u200b\uff1a58.18%\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u6536\u655b\u6027\u8bca\u65ad\u4f9d\u636e\u5404\u5206\u91cf\u7684\u7d2f\u8ba1\u5747\u503c_2","title":"\u6536\u655b\u6027\u200b\u8bca\u65ad\u200b\u2014\u2014\u200b\u4f9d\u636e\u200b\u5404\u200b\u5206\u91cf\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c","text":"Python<pre><code>cumsum = samples_independent.cumsum(axis=0)\n</code></pre> Python<pre><code>cumsum\n</code></pre> Text Only<pre><code>array([[   0.        ,    0.        ],\n       [  -0.98714667,   -0.81647526],\n       [  -1.97429335,   -1.63295051],\n       ...,\n       [-380.02483172, -540.44083572],\n       [-379.2919882 , -540.70237326],\n       [-380.33205906, -541.43726736]])\n</code></pre> Python<pre><code>cummean = cumsum / cum_iteration\n</code></pre> Python<pre><code>fig = plt.figure(figsize=(10, 6))\nplt.plot(cummean, label=[\"x\", \"y\"])\n# \u200b\u7ed8\u5236\u200b\u8f85\u52a9\u7ebf\u200b\uff0c\u200b\u7eb5\u5750\u6807\u200b\u4e3a\u200b 0\nplt.axhline(0, color=\"black\", linestyle=\"--\")\nplt.legend()\nplt.show()\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5f53\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u8fbe\u5230\u200b 30000 \u200b\u65f6\u200b\uff0c\\(x\\)\u200b\u548c\u200b\\(y\\)\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c\u200b\u90fd\u200b\u5df2\u7ecf\u200b\u8d8b\u4e8e\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u6837\u672c\u200b\u5df2\u7ecf\u200b\u6536\u655b\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u7ed8\u5236\u6837\u672c\u7684\u6563\u70b9\u56fe","title":"\u7ed8\u5236\u200b\u6837\u672c\u200b\u7684\u200b\u6563\u70b9\u56fe","text":"Python<pre><code>fig = plt.figure(figsize=(18, 5))\n# \u200b\u7ed8\u5236\u200b\u7406\u8bba\u200b\u5206\u5e03\u200b\u7684\u200b\u6563\u70b9\u56fe\u200b\nax1 = fig.add_subplot(131)\n# \u200b\u751f\u6210\u200b\u7406\u8bba\u200b\u5206\u5e03\u200b\u7684\u200b\u6837\u672c\u200b\ntheoretical_sample = var.rvs(100000)\nax1.scatter(theoretical_sample[:, 0], theoretical_sample[:, 1], s=0.1, c=\"g\")\n# \u200b\u6807\u9898\u200b\nax1.set_title(\"\u200b\u7406\u8bba\u200b\u5206\u5e03\u200b\u6563\u70b9\u56fe\u200b\")\n# \u200b\u7ed8\u5236\u200b\u968f\u673a\u200b\u6e38\u8d70\u200b\u62bd\u6837\u200b\u7684\u200b\u6837\u672c\u200b\u6563\u70b9\u56fe\u200b\nax2 = fig.add_subplot(132)\nax2.scatter(samples_random_walk[:, 0], samples_random_walk[:, 1], s=0.1, c=\"b\")\n# \u200b\u6807\u9898\u200b\nax2.set_title(\"\u200b\u968f\u673a\u200b\u6e38\u8d70\u200b\u62bd\u6837\u200b\u7684\u200b\u6563\u70b9\u56fe\u200b\")\n# \u200b\u7ed8\u5236\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\u7684\u200b\u6837\u672c\u200b\u6563\u70b9\u56fe\u200b\nax3 = fig.add_subplot(133)\nax3.scatter(samples_independent[:, 0], samples_independent[:, 1], s=0.1, c=\"r\")\n# \u200b\u6807\u9898\u200b\nax3.set_title(\"\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\u7684\u200b\u6563\u70b9\u56fe\u200b\")\n# \u200b\u7edf\u4e00\u200b\u5750\u6807\u8f74\u200b\u8303\u56f4\u200b\nfor ax in fig.axes:\nax.set_xlim(-4, 4)\nax.set_ylim(-4, 4)\nplt.show()\n</code></pre> Python<pre><code># \u200b\u5c06\u200b\u4e09\u79cd\u200b\u62bd\u6837\u200b\u7684\u200b\u6563\u70b9\u56fe\u200b\u653e\u5728\u200b\u4e00\u8d77\u200b\nfig = plt.figure(figsize=(6, 6))\nplt.scatter(\ntheoretical_sample[:, 0], theoretical_sample[:, 1], s=0.1, c=\"g\", label=\"\u200b\u7406\u8bba\u200b\u5206\u5e03\u200b\"\n)\nplt.scatter(\nsamples_random_walk[:, 0], samples_random_walk[:, 1], s=0.1, c=\"b\", label=\"\u200b\u968f\u673a\u200b\u6e38\u8d70\u200b\u62bd\u6837\u200b\"\n)\nplt.scatter(\nsamples_independent[:, 0], samples_independent[:, 1], s=0.1, c=\"r\", label=\"\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\"\n)\nplt.legend()\nplt.show()\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/markov-chain-monte-carlo/#\u6bd4\u8f83\u4e24\u79cd\u7b97\u6cd5\u7684\u8868\u73b0","title":"\u6bd4\u8f83\u200b\u4e24\u79cd\u200b\u7b97\u6cd5\u200b\u7684\u200b\u8868\u73b0","text":"<ul> <li>\u200b\u968f\u673a\u200b\u6e38\u8d70\u200b\u7b97\u6cd5\u200b\u7684\u200b\u63a5\u53d7\u200b\u7387\u4e3a\u200b 45% \u200b\u5de6\u53f3\u200b\uff0c\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\u7684\u200b\u63a5\u53d7\u200b\u7387\u4e3a\u200b 55% \u200b\u5de6\u53f3\u200b\u3002</li> <li>\u200b\u968f\u673a\u200b\u6e38\u8d70\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c\u200b\u5728\u200b\u524d\u671f\u200b\u9707\u8361\u200b\u5e45\u5ea6\u200b\u8f83\u5927\u200b\uff0c\u200b\u6536\u655b\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e5f\u200b\u66f4\u200b\u591a\u200b\u3002</li> <li>\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\u7684\u200b\u7d2f\u8ba1\u200b\u5747\u503c\u200b\u5728\u200b\u524d\u671f\u200b\u9707\u8361\u200b\u5e45\u5ea6\u200b\u8f83\u200b\u5c0f\u200b\uff0c\u200b\u6536\u655b\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e5f\u200b\u66f4\u5c11\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u8fed\u4ee3\u200b 30000 \u200b\u6b21\u200b\u5de6\u53f3\u200b\uff0c\u200b\u7d2f\u8ba1\u200b\u5747\u503c\u200b\u5c31\u200b\u6536\u655b\u200b\u5230\u200b 0 \u200b\u4e86\u200b\u3002</li> <li>\u200b\u4e24\u79cd\u200b\u7b97\u6cd5\u200b\u7684\u200b\u6837\u672c\u200b\u6563\u70b9\u56fe\u200b\u57fa\u672c\u4e00\u81f4\u200b\uff0c\u200b\u4f46\u200b\u72ec\u7acb\u6027\u200b\u62bd\u6837\u200b\u7684\u200b\u6837\u672c\u200b\u6563\u70b9\u56fe\u200b\u66f4\u52a0\u200b\u96c6\u4e2d\u200b\uff0c\u200b\u5373\u200b\u5c3e\u90e8\u200b\u7684\u200b\u6837\u672c\u200b\u66f4\u200b\u5c11\u200b\u3002</li> </ul>","tags":["\u7edf\u8ba1"]},{"location":"blog/pytorch-dataloader/","title":"PyTorch DataLoader \u200b\u52a0\u8f7d\u200b\u6570\u636e","text":"<p>\u200b\u5728\u200b DataLoader \u200b\u4e2d\u200b\u6307\u5b9a\u200b batch_size \u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5212\u5206\u200b\u4e3a\u200b\u591a\u4e2a\u200b Batch\uff0c\u200b\u5206\u6279\u200b\u8f93\u5165\u200b\u5230\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u8bad\u7ec3\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-dataloader/#\u8bfb\u53d6-npy-\u6570\u636e","title":"\u8bfb\u53d6\u200b npy \u200b\u6570\u636e","text":"Python<pre><code>X_train = np.load(\"./X_train.npy\")\ny_train = np.load(\"./y_train.npy\")\nX_test = np.load(\"./X_test.npy\")\ny_test = np.load(\"./y_test.npy\")\nprint(\"Training samples: \", X_train.shape[0])\nprint(\"Testing samples: \", X_test.shape[0])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-dataloader/#\u5c06\u6570\u636e\u8f6c\u6362\u4e3a-tensor","title":"\u5c06\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b tensor","text":"Python<pre><code>trainx = torch.from_numpy(np.array(X_train)).reshape(\nlen(X_train), 1, 9, 30\n)  # transform to tensor\ntrainy = torch.from_numpy(np.array(y_train)).reshape(\nlen(y_train), 1\n)  # label for regression\ntestx = torch.from_numpy(np.array(X_test)).reshape(len(X_test), 1, 9, 30)\ntesty = torch.from_numpy(np.array(y_test)).reshape(len(y_test), 1)\nbatch_size = 1000\nclass Factor_data(Dataset):\ndef __init__(self, train_x, train_y):  # \u200b\u9ed8\u8ba4\u200b\u8f93\u5165\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u662f\u200b tensor\nself.len = len(train_x)\nself.x_data = train_x\nself.y_data = train_y\ndef __getitem__(self, index):\nreturn self.x_data[index], self.y_data[index]\ndef __len__(self):\nreturn self.len\n# put into data loader\ntrain_data = Factor_data(trainx, trainy)\ntrain_loader = DataLoader(\ndataset=train_data, batch_size=batch_size, shuffle=False\n)  # \u200b\u4e0d\u200b\u6253\u4e71\u200b\u6570\u636e\u200b\u96c6\u200b\ntest_data = Factor_data(testx, testy)\ntest_loader = DataLoader(\ndataset=test_data, batch_size=batch_size, shuffle=False\n)  # \u200b\u4e0d\u200b\u6253\u4e71\u200b\u6570\u636e\u200b\u96c6\u200b\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-dataloader/#\u67e5\u770b-train_loader-\u4e2d\u7684\u6570\u636e\u60c5\u51b5","title":"\u67e5\u770b\u200b train_loader \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u60c5\u51b5","text":"Python<pre><code>for data, label in train_loader:\nprint(data.shape)\nprint(label.shape)\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u6570\u636e\u200b\u603b\u91cf\u200b\u521a\u597d\u200b\u4e3a\u200b 11825\uff0c\u200b\u4e14\u200b\u524d\u200b 11 \u200b\u4e2a\u200b Batch \u200b\u7684\u200b Size \u200b\u90fd\u200b\u662f\u200b 1000\uff08\u200b\u56e0\u4e3a\u200b\u6307\u5b9a\u200b\u4e86\u200b<code>batch_size=1000</code>\uff09\uff0c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b Batch \u200b\u7684\u200b Size \u200b\u662f\u200b 825\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/unbiasness-of-sample-variance/","title":"\u6837\u672c\u200b\u65b9\u5dee\u200b\u7684\u200b\u65e0\u504f\u6027","text":"<p>\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\u7684\u200b\u5206\u6bcd\u200b\u662f\u200b n-1\uff0c\u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\u662f\u200b\u603b\u4f53\u200b\u65b9\u5dee\u200b\u7684\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/unbiasness-of-sample-variance/#\u6837\u672c\u65b9\u5dee\u7684\u65e0\u504f\u6027\u8bc1\u660e","title":"\u6837\u672c\u200b\u65b9\u5dee\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u8bc1\u660e","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/check-device-in-pytorch/","title":"\u67e5\u770b\u200b PyTorch \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b GPU","text":"<p>\u200b\u501f\u52a9\u200b torch.cuda \u200b\u4e2d\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u67e5\u770b\u200b PyTorch \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b GPU\u3002</p> <p></p> Python<pre><code>import torch\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/check-device-in-pytorch/#\u5f53\u524d\u8bbe\u5907\u7d22\u5f15","title":"\u5f53\u524d\u200b\u8bbe\u5907\u200b\u7d22\u5f15","text":"Python<pre><code>torch.cuda.current_device()\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/check-device-in-pytorch/#\u53ef\u7528\u7684-gpu-\u6570\u91cf","title":"\u53ef\u7528\u200b\u7684\u200b GPU \u200b\u6570\u91cf","text":"Python<pre><code>torch.cuda.device_count()\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/check-device-in-pytorch/#gpu-\u8bbe\u5907\u540d\u5b57\u8bbe\u5907\u7d22\u5f15\u9ed8\u8ba4\u4ece-0-\u5f00\u59cb","title":"GPU \u200b\u8bbe\u5907\u200b\u540d\u5b57\u200b\uff0c\u200b\u8bbe\u5907\u200b\u7d22\u5f15\u200b\u9ed8\u8ba4\u200b\u4ece\u200b 0 \u200b\u5f00\u59cb","text":"Python<pre><code>torch.cuda.get_device_name(0)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/check-device-in-pytorch/#\u68c0\u67e5-cuda-\u662f\u5426\u53ef\u7528","title":"\u68c0\u67e5\u200b CUDA \u200b\u662f\u5426\u200b\u53ef\u7528","text":"Python<pre><code>torch.cuda.is_available()\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/","title":"PyTorch \u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff1a\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7ef4\u5ea6\u200b\u3001\u200b\u53c2\u6570\u200b\u4e2a\u6570","text":"<p>\u200b\u4f7f\u7528\u200b<code>pytorch-summary</code>\u200b\u5b9e\u73b0\u200b<code>Keras</code>\u200b\u4e2d\u200b<code>model.summary()</code>\u200b\u7684\u200b\u7c7b\u4f3c\u200b\u6548\u679c\u200b\u3002</p> <p>\u200b\u5728\u200b\u81ea\u5b9a\u4e49\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>print(model)</code>\u200b\u6765\u200b\u67e5\u770b\u200b\u7f51\u7edc\u200b\u7684\u200b\u57fa\u672c\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f46\u200b\u53ea\u80fd\u200b\u770b\u5230\u200b\u6709\u200b\u54ea\u4e9b\u200b\u5c42\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff08BatchNorm2d,\u3001MaxPool2d,\u3001AvgPool2d \u200b\u7b49\u7b49\u200b\uff09\uff0c\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u770b\u5230\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\u3001\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u800c\u200b\u7406\u89e3\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\u5bf9\u4e8e\u200b\u7406\u89e3\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u662f\u200b\u81f3\u5173\u91cd\u8981\u200b\u7684\u200b\u3002<code>Keras</code>\u200b\u4e2d\u200b\u7684\u200b<code>model.summary()</code>\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u4e00\u200b\u6548\u679c\u200b\u3002\u200b\u4f46\u200b\u8fd9\u200b\u5728\u200b<code>PyTorch</code>\u200b\u4e2d\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u505a\u5230\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>torchsummary</code>\u200b\u5305\u200b\u5b9e\u73b0\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#\u5b9a\u4e49\u6a21\u578b","title":"\u5b9a\u4e49\u200b\u6a21\u578b","text":"Python<pre><code>test2 = Inception2(combination, combination_rev, index_list_2)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#printmodel\u67e5\u770b\u7b80\u5355\u7684\u6a21\u578b\u7ed3\u6784","title":"<code>print(model)</code>\u200b\u67e5\u770b\u200b\u7b80\u5355\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u6784","text":"Python<pre><code>print(test2)\n</code></pre> <p><code>print(model)</code>\u200b\u53ea\u80fd\u200b\u67e5\u770b\u200b\u7b80\u5355\u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u770b\u51fa\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\u3001\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u53c2\u6570\u200b\u3002</p> Text Only<pre><code>Inception2(\n  (bc1): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc2): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc3): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc4): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc5): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc6): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc7): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (max_pool): MaxPool2d(kernel_size=(1, 10), stride=(1, 10), padding=0, dilation=1, ceil_mode=False)\n  (avg_pool): AvgPool2d(kernel_size=(1, 10), stride=(1, 10), padding=0)\n  (min_pool): MaxPool2d(kernel_size=(1, 10), stride=(1, 10), padding=0, dilation=1, ceil_mode=False)\n  (bc_pool1): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc_pool2): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n  (bc_pool3): BatchNorm2d(1, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#torchsummarysummarymodel-input_size\u67e5\u770b\u5c42\u7c7b\u578b\u8f93\u51fa\u7ef4\u5ea6\u548c\u53c2\u6570\u4e2a\u6570","title":"<code>torchsummary.summary(model, input_size)</code>\u200b\u67e5\u770b\u200b\u5c42\u200b\u7c7b\u578b\u200b\u3001\u200b\u8f93\u51fa\u200b\u7ef4\u5ea6\u200b\u548c\u200b\u53c2\u6570\u200b\u4e2a\u6570","text":"Python<pre><code>from torchsummary import summary\nsummary(test2, input_size=(1, 9, 30))\n</code></pre> Text Only<pre><code>----------------------------------------------------------------\n        Layer (type)               Output Shape         Param #\n================================================================\n       BatchNorm2d-1            [-1, 1, 36, 10]               2\n       BatchNorm2d-2            [-1, 1, 36, 10]               2\n       BatchNorm2d-3             [-1, 1, 9, 10]               2\n       BatchNorm2d-4             [-1, 1, 9, 10]               2\n       BatchNorm2d-5             [-1, 1, 9, 10]               2\n       BatchNorm2d-6             [-1, 1, 9, 10]               2\n       BatchNorm2d-7             [-1, 1, 9, 10]               2\n         MaxPool2d-8            [-1, 1, 117, 1]               0\n       BatchNorm2d-9            [-1, 1, 117, 1]               2\n        AvgPool2d-10            [-1, 1, 117, 1]               0\n      BatchNorm2d-11            [-1, 1, 117, 1]               2\n        MaxPool2d-12            [-1, 1, 117, 1]               0\n      BatchNorm2d-13            [-1, 1, 117, 1]               2\n================================================================\nTotal params: 20\nTrainable params: 20\nNon-trainable params: 0\n----------------------------------------------------------------\nInput size (MB): 0.00\nForward/backward pass size (MB): 0.01\nParams size (MB): 0.00\nEstimated Total Size (MB): 0.02\n----------------------------------------------------------------\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#\u5b98\u65b9\u6307\u5357","title":"\u5b98\u65b9\u200b\u6307\u5357","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"Bash<pre><code>pip install torchsummary\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>from torchsummary import summary\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/pytorch-summary/#\u5b98\u65b9\u793a\u4f8b","title":"\u5b98\u65b9\u200b\u793a\u4f8b","text":"Python<pre><code>import torch\nimport torch.nn as nn\nimport torch.nn.functional as F\nfrom torchsummary import summary\nclass Net(nn.Module):\ndef __init__(self):\nsuper(Net, self).__init__()\nself.conv1 = nn.Conv2d(1, 10, kernel_size=5)\nself.conv2 = nn.Conv2d(10, 20, kernel_size=5)\nself.conv2_drop = nn.Dropout2d()\nself.fc1 = nn.Linear(320, 50)\nself.fc2 = nn.Linear(50, 10)\ndef forward(self, x):\nx = F.relu(F.max_pool2d(self.conv1(x), 2))\nx = F.relu(F.max_pool2d(self.conv2_drop(self.conv2(x)), 2))\nx = x.view(-1, 320)\nx = F.relu(self.fc1(x))\nx = F.dropout(x, training=self.training)\nx = self.fc2(x)\nreturn F.log_softmax(x, dim=1)\ndevice = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")  # PyTorch v0.4.0\nmodel = Net().to(device)\nsummary(model, (1, 28, 28))\n</code></pre> Text Only<pre><code>----------------------------------------------------------------\n        Layer (type)               Output Shape         Param #\n================================================================\n            Conv2d-1           [-1, 10, 24, 24]             260\n            Conv2d-2             [-1, 20, 8, 8]           5,020\n         Dropout2d-3             [-1, 20, 8, 8]               0\n            Linear-4                   [-1, 50]          16,050\n            Linear-5                   [-1, 10]             510\n================================================================\nTotal params: 21,840\nTrainable params: 21,840\nNon-trainable params: 0\n----------------------------------------------------------------\nInput size (MB): 0.00\nForward/backward pass size (MB): 0.06\nParams size (MB): 0.08\nEstimated Total Size (MB): 0.15\n----------------------------------------------------------------\n</code></pre> <p>\u200b\u66f4\u200b\u591a\u200b\u6307\u5357\u200b\u53ef\u200b\u53c2\u8003\u200bhttps://github.com/sksq96/pytorch-summary \u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/binary-classification-in-pytorch/","title":"PyTorch \u200b\u5904\u7406\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898","text":"<p>\u200b\u5728\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b\u9884\u6d4b\u200b\u6536\u76ca\u7387\u200b\u6570\u503c\u200b\u7684\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u9884\u6d4b\u200b\u6da8\u8dcc\u200b\u3001\u200b\u9884\u6d4b\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u6b63\u8d1f\u200b\u7b49\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u662f\u200b\u5341\u5206\u200b\u5e38\u89c1\u200b\u7684\u200b\u3002\u200b\u5728\u200b PyTorch \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\u90e8\u5206\u200b\u4ee3\u7801\u200b\uff0c\u200b\u8ba9\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u5728\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u4e2d\u200b\u4e5f\u200b\u540c\u6837\u200b\u9002\u7528\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/binary-classification-in-pytorch/#\u5c06\u6536\u76ca\u7387\u6807\u7b7e\u8f6c\u6362\u4e3a-0-\u548c-1","title":"\u5c06\u200b\u6536\u76ca\u7387\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b 0 \u200b\u548c\u200b 1","text":"Python<pre><code># \u200b\u7531\u4e8e\u200b\u662f\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5c06\u200b y \u200b\u5927\u4e8e\u200b 0 \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\uff0c\u200b\u5c0f\u4e8e\u200b 0 \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\ntrainy[trainy &gt; 0] = 1\ntrainy[trainy &lt; 0] = 0\ntesty[testy &gt; 0] = 1\ntesty[testy &lt; 0] = 0\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u8981\u200b\u8f6c\u6362\u200b\u4e3a\u200b<code>1.0</code>\u200b\u548c\u200b<code>0.0</code>\uff0c\u200b\u5426\u5219\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>RuntimeError: expected scalar type Long but found Float\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/binary-classification-in-pytorch/#\u5c06\u6536\u76ca\u7387\u8f6c\u6362\u4e3a\u8d85\u989d\u6536\u76ca\u7387\u7684\u6b63\u8d1f","title":"\u5c06\u200b\u6536\u76ca\u7387\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u6b63\u8d1f","text":"Python<pre><code># \u200b\u7531\u4e8e\u200b\u662f\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5c06\u200b y \u200b\u5927\u4e8e\u200b trainy.mean() \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\uff0c\u200b\u5c0f\u4e8e\u200b trainy.mean() \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\ntrain_mean_y = trainy.mean().item()\ntrainy[trainy &gt; train_mean_y] = 1\ntrainy[trainy &lt; train_mean_y] = 0\ntest_mean_y = testy.mean().item()\ntesty[testy &gt; test_mean_y] = 1\ntesty[testy &lt; test_mean_y] = 0\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/binary-classification-in-pytorch/#\u5168\u8fde\u63a5\u5c42\u6700\u540e\u7684\u6fc0\u6d3b\u51fd\u6570\u8bbe\u4e3asigmoid\u4f7f\u5f97\u6700\u7ec8\u8f93\u51fa\u5728-0-\u5230-1-\u4e4b\u95f4","title":"\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u6700\u540e\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>sigmoid</code>\uff0c\u200b\u4f7f\u5f97\u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e4b\u95f4","text":"Python<pre><code>def forward(self, data):\ndata_1 = self.Inception_1(data)  # N*30\ndata_2 = self.Inception_2(data)  # N*30\npool_cat = torch.cat([data_1, data_2], axis=1)  # N*60\n# \u200b\u8f93\u51fa\u200b\u5c42\u200b\ndata = self.fc(pool_cat)\n# \u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f7f\u200b\u8f93\u51fa\u200b\u503c\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e4b\u95f4\u200b\ndata = torch.sigmoid(data)\ndata = data.to(torch.float)\nreturn data\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/binary-classification-in-pytorch/#\u635f\u5931\u51fd\u6570\u8bbe\u4e3abinary-cross-entropy","title":"\u635f\u5931\u200b\u51fd\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>Binary Cross Entropy</code>","text":"Python<pre><code># \u200b\u7531\u4e8e\u200b\u662f\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b Binary Cross Entropy \u200b\u635f\u5931\u200b\u51fd\u6570\u200b\ncriterion = nn.BCELoss()\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4e0d\u8981\u200b\u8bbe\u200b\u4e3a\u200b<code>nn.CrossEntropyLoss()</code>\uff0c\u200b\u5426\u5219\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>IndexError: Target 1 is out of bounds\n</code></pre> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b<code>nn.CrossEntropyLoss()</code>\u200b\u9002\u7528\u200b\u4e8e\u200b\u591a\u200b\u5206\u7c7b\u200b\uff08\u200b\u7c7b\u522b\u200b\u6570\u200b\u5927\u4e8e\u200b 2\uff09\u200b\u7684\u200b\u95ee\u9898\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u6709\u200b\u4e13\u95e8\u200b\u7684\u200b<code>nn.BCELoss()</code>\u200b\u4f5c\u4e3a\u200b\u4e8c\u5143\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u3002</p> <p>BCELOSS: Binary Cross Entropy Loss</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/alphanet/","title":"AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398","text":"<p>\u200b\u501f\u9274\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u901a\u8fc7\u200b\u81ea\u5b9a\u4e49\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\uff0c\u200b\u6784\u9020\u200b\u7c7b\u4f3c\u200b\u5377\u79ef\u200b\u5c42\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002\u200b\u7ed3\u5408\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\u3001\u200b\u6c60\u5316\u5c42\u200b\u3001\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\uff0c\u200b\u642d\u5efa\u200b AlphaNet-V1\uff0c\u200b\u5b9e\u73b0\u200b\u4ece\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\u5230\u200b\u6536\u76ca\u7387\u200b\u9884\u6d4b\u200b\u7684\u200b\u81ea\u52a8\u200b\u6316\u6398\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u601d\u8def\u6846\u67b6","title":"\u601d\u8def\u200b\u6846\u67b6","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u95ee\u9898\u80cc\u666f","title":"\u95ee\u9898\u200b\u80cc\u666f","text":"<p>\u200b\u4f20\u7edf\u200b\u7684\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b\u8fc7\u7a0b\u200b\u901a\u5e38\u200b\u662f\u200b\u7531\u200b\u4eba\u5de5\u200b\u6784\u9020\u200b\u56e0\u5b50\u200b\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u5bf9\u200b\u591a\u4e2a\u200b\u5355\u200b\u56e0\u5b50\u200b\u8fdb\u884c\u200b\u52a0\u6743\u200b\u5408\u6210\u200b\u3002\u200b\u9762\u5bf9\u200b\u5927\u91cf\u200b\u7684\u200b\u539f\u59cb\u6570\u636e\u200b\uff0c\u200b\u4eba\u5de5\u200b\u57fa\u4e8e\u200b\u6295\u8d44\u200b\u7ecf\u9a8c\u200b\uff0c\u200b\u624b\u52a8\u200b\u6784\u9020\u200b\u56e0\u5b50\u200b\u8868\u8fbe\u5f0f\u200b\u751f\u6210\u200b\u5355\u200b\u56e0\u5b50\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u6781\u5176\u200b\u7e41\u7410\u200b\u7684\u200b\u3002\u200b\u5728\u200b\u56e0\u5b50\u200b\u5408\u6210\u200b\u9636\u6bb5\u200b\uff0c\u200b\u901a\u5e38\u200b\u662f\u200b\u7528\u200b ICIR \u200b\u52a0\u6743\u200b\u5e73\u5747\u200b\u7b49\u200b\u624b\u6bb5\u200b\u8fdb\u884c\u200b\u5408\u6210\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u7b80\u5355\u200b\u7684\u200b\u7ebf\u6027\u200b\u52a0\u6743\u200b\u65b9\u5f0f\u200b\u4e5f\u200b\u9650\u5236\u200b\u4e86\u200b\u56e0\u5b50\u200b\u5408\u6210\u200b\u7684\u200b\u591a\u79cd\u200b\u53ef\u80fd\u6027\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u5c06\u5377\u79ef\u601d\u60f3\u5e94\u7528\u4e8e\u56e0\u5b50\u6316\u6398","title":"\u5c06\u200b\u5377\u79ef\u200b\u601d\u60f3\u200b\u5e94\u7528\u200b\u4e8e\u200b\u56e0\u5b50\u200b\u6316\u6398","text":"<p>\u200b\u5728\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\uff0c\u200b\u6700\u200b\u5173\u952e\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u7ec4\u4ef6\u200b\u662f\u200b\u5377\u79ef\u200b\u6838\u200b\u3002\u200b\u5728\u200b\u56fe\u50cf\u8bc6\u522b\u200b\u9886\u57df\u200b\uff0c\u200b\u5377\u79ef\u200b\u6838\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u5e26\u6709\u200b\u53ef\u200b\u4f18\u5316\u200b\u7684\u200b\u6743\u91cd\u200b\u548c\u200b\u504f\u7f6e\u200b\u9879\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u5bf9\u200b\u539f\u59cb\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e92\u76f8\u200b\u5173\u200b\u64cd\u4f5c\u200b\u3002</p> <p></p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u539f\u59cb\u200b\u91cf\u4ef7\u200b\u6570\u636e\u200b\u6574\u7406\u200b\u6210\u200b\u4e00\u4e2a\u4e8c\u7ef4\u200b\u77e9\u9635\u200b\uff0c\u200b\u5c1d\u8bd5\u200b\u4f7f\u7528\u200b\u5377\u79ef\u200b\u6838\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u5b8c\u5168\u200b\u91c7\u7528\u200b\u4f20\u7edf\u200b\u7684\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u63d0\u53d6\u200b\u7684\u200b\u7279\u5f81\u200b\u5c31\u662f\u200b\uff1a\u200b\u4e00\u5b9a\u200b\u611f\u53d7\u200b\u91ce\u200b\u8303\u56f4\u200b\u5185\u200b\u7684\u200b\u7279\u5f81\u200b\u7684\u200b\u52a0\u6743\u200b\u7ec4\u5408\u200b\u3002\u200b\u8fd9\u6837\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4f1a\u200b\u6709\u200b\u4e24\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u63d0\u53d6\u200b\u7684\u200b\u7279\u5f81\u200b\u53ea\u662f\u200b\u67d0\u4e9b\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u7684\u200b\u56fa\u5b9a\u200b\u7684\u200b\u52a0\u6743\u200b\u7ec4\u5408\u200b\uff0c\u200b\u8fd9\u200b\u6781\u5927\u200b\u5730\u200b\u9650\u5236\u200b\u4e86\u200b\u56e0\u5b50\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\u3002</li> <li>\u200b\u4f20\u7edf\u200b\u7684\u200b\u5377\u79ef\u200b\u6838\u200b\u53ea\u80fd\u200b\u611f\u53d7\u200b\u5c40\u90e8\u200b\u8303\u56f4\u200b\u5185\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u7684\u200b\u7279\u5f81\u200b\u53d8\u91cf\u200b\u7684\u200b\u4e0a\u4e0b\u200b\u987a\u5e8f\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u63d0\u53d6\u200b\u51fa\u200b\u7684\u200b\u7279\u5f81\u200b\u3002\u200b\u56e0\u6b64\u200b\u8f93\u5165\u200b\u53d8\u91cf\u200b\u7684\u200b\u987a\u5e8f\u200b\u8fd8\u200b\u9700\u8981\u200b\u4eba\u5de5\u5e72\u9884\u200b\u3002</li> </ol> <p>\u200b\u7531\u6b64\u770b\u6765\u200b\uff0c\u200b\u7b80\u5355\u200b\u5730\u200b\u5957\u7528\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u5e76\u200b\u4e0d\u200b\u5408\u9002\u200b\uff0c\u200b\u4f46\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u501f\u9274\u200b\u5377\u79ef\u200b\u6838\u200b\u7684\u200b\u201c\u200b\u904d\u5386\u200b\u64cd\u4f5c\u200b\u201d\u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u81ea\u5b9a\u4e49\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u7c7b\u4f3c\u200b\u201c\u200b\u5377\u79ef\u200b\u5c42\u200b\u201d\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002</p> <p></p> <p>\u200b\u5177\u4f53\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u5c06\u200b\u5728\u200b\u540e\u6587\u200b\u4ecb\u7ecd\u200b\u3002\u200b\u7ecf\u8fc7\u200b\u7279\u5f81\u63d0\u53d6\u200b\u540e\u200b\uff0c\u200b\u53ef\u200b\u518d\u200b\u6dfb\u52a0\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\u3001\u200b\u6c60\u5316\u5c42\u200b\u3001\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\uff0c\u200b\u5c06\u200b\u539f\u59cb\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u9884\u6d4b\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u4f18\u5316\u6a21\u578b","title":"\u4f18\u5316\u200b\u6a21\u578b","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e0a\u8ff0\u200b\u5c06\u200b\u5377\u79ef\u200b\u601d\u60f3\u200b\u5e94\u7528\u200b\u4e8e\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c1d\u8bd5\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u65b9\u5411\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b\u3002</p> <ol> <li>\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3002\u200b\u6dfb\u52a0\u200b\u66f4\u200b\u4e30\u5bcc\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u5c06\u200b\u6c60\u5316\u5c42\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53ef\u4ee5\u200b\u8bb0\u5fc6\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\u7684\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u3002</li> <li>\u200b\u8c03\u6574\u200b\u6807\u7b7e\u200b\u503c\u200b\u3002\u200b\u5c06\u200b\u6536\u76ca\u7387\u200b\u503c\u5f97\u200b\u9884\u6d4b\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6da8\u8dcc\u200b\u65b9\u5411\u200b\u7684\u200b\u9884\u6d4b\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u65b9\u5411\u200b\u7684\u200b\u9884\u6d4b\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u51c6\u5907\u6570\u636e\u96c6","title":"\u51c6\u5907\u200b\u6570\u636e\u200b\u96c6","text":"<p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u7279\u5f81\u200b\u5747\u200b\u4e3a\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\uff0c\u200b\u5373\u200b open, high, low, close, vwap, volume, return1, turn, free_turn \u200b\u8fd9\u200b 9 \u200b\u4e2a\u91cf\u200b\u4ef7\u200b\u6307\u6807\u200b\u5728\u200b\\(t-29\\)\u200b\u5230\u200b\\(t\\)\u200b\u65f6\u95f4\u6bb5\u200b\u7684\u200b\\(9\\times 30\\)\u200b\u4e2a\u200b\u7279\u5f81\u200b\u3002</p> <p></p> <p>Tushare \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u514d\u8d39\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5728\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u5bfc\u5165\u200b token\uff0c\u200b\u5373\u53ef\u200b\u4f7f\u7528\u200b<code>pro.daily()</code>\u200b\u4e0b\u8f7d\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u5177\u4f53\u200b\u4ecb\u7ecd\u200b\u83b7\u53d6\u6570\u636e\u200b\u7684\u200b\u7ec6\u8282\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u5305\u542b\u7684\u65f6\u95f4\u6bb5","title":"\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u5305\u542b\u200b\u7684\u200b\u65f6\u95f4\u6bb5","text":"<p>\u200b\u7531\u4e8e\u200b\u901a\u8fc7\u200b Tushare \u200b\u7684\u200b\u514d\u8d39\u200b\u63a5\u53e3\u200b\u83b7\u53d6\u6570\u636e\u200b\u7684\u200b\u901f\u5ea6\u200b\u8f83\u6162\u200b\uff08\u200b\u9010\u200b\u80a1\u7968\u200b\u3001\u200b\u9010\u65e5\u200b\u83b7\u53d6\u200b\u540e\u200b\u518d\u200b\u5408\u5e76\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6279\u91cf\u200b\u4e00\u6b21\u6027\u200b\u83b7\u53d6\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8017\u65f6\u200b\u8f83\u4e45\u200b\uff09\uff0c\u200b\u672c\u6587\u200b\u53ea\u200b\u622a\u53d6\u200b\u4e86\u200b<code>20220101</code>\u200b\u81f3\u200b<code>20220630</code>\u200b\u8fd9\u200b\u534a\u5e74\u200b\u7684\u200b\u6570\u636e\u200b\u4f5c\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\uff0c<code>20220930</code>\u200b\u81f3\u200b<code>20221231</code>\u200b\u8fd9\u200b\u4e00\u5b63\u5ea6\u200b\u7684\u200b\u6570\u636e\u200b\u4f5c\u4e3a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u3002\u200b\u6ca1\u6709\u200b\u7528\u200b<code>20220630</code>\u200b\u81f3\u200b<code>20221231</code>\u200b\u7684\u200b\u6570\u636e\u200b\u4f5c\u4e3a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u5e0c\u671b\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u4e4b\u95f4\u200b\u80fd\u591f\u200b\u6682\u505c\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\uff0c\u200b\u5426\u5219\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u6807\u7b7e\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5305\u542b\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\uff0c\u200b\u8fdb\u800c\u200b\u5938\u5927\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002</p> <p>\u200b\u672c\u200b\u9879\u76ee\u200b\u4e0b\u8f7d\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u95f4\u200b\u4e3a\u200b 2022 \u200b\u5e74\u200b 12 \u200b\u6708\u521d\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b9e\u9645\u200b\u6240\u7528\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5b8c\u6574\u200b\u7684\u200b\u4e00\u5b63\u5ea6\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u91c7\u6837\u7684\u65e5\u671f","title":"\u91c7\u6837\u200b\u7684\u200b\u65e5\u671f","text":"<p>\u200b\u5982\u679c\u200b\u5bf9\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u5305\u542b\u200b\u7684\u200b\u65f6\u95f4\u6bb5\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u5747\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\uff0c\u200b\u4f1a\u200b\u9020\u6210\u200b\u4e24\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u91c7\u6837\u200b\u8fc7\u4e8e\u200b\u9891\u7e41\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u76f8\u90bb\u200b\u65e5\u671f\u200b\u7684\u200b\u6570\u636e\u200b\u57fa\u672c\u200b\u76f8\u8fd1\u200b\u3002</li> <li>\u200b\u91c7\u6837\u200b\u5929\u6570\u200b\u8fc7\u591a\u200b\uff0c\u200b\u4e0b\u8f7d\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u95f4\u200b\u4f1a\u200b\u975e\u5e38\u200b\u4e45\u200b\u3002</li> </ol> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u95f4\u9694\u200b\u91c7\u6837\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6bcf\u200b\u95f4\u9694\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u91c7\u6837\u200b\u3002\u200b\u5177\u4f53\u200b\u5224\u65ad\u200b\u54ea\u4e00\u5929\u200b\u4e3a\u200b\u91c7\u6837\u200b\u65e5\u200b\u7684\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> Python<pre><code># \u200b\u7ed9\u5b9a\u65e5\u671f\u200b\u533a\u95f4\u200b\u7684\u200b\u7aef\u70b9\u200b\uff0c\u200b\u8f93\u51fa\u200b\u671f\u95f4\u200b\u7684\u200b\u5b9a\u957f\u200b\u91c7\u6837\u200b\u4ea4\u6613\u65e5\u200b\u5217\u8868\u200b\ndef get_datelist(start: str, end: str, interval: int):\ndf = pro.index_daily(ts_code=\"399300.SZ\", start_date=start, end_date=end)\ndate_list = list(df.iloc[::-1][\"trade_date\"])\nsample_list = []\nfor i in range(len(date_list)):\nif i % interval == 0:\nsample_list.append(date_list[i])\nreturn sample_list\n</code></pre> <p>\u200b\u5176\u200b\u539f\u7406\u200b\u662f\u200b\u57fa\u4e8e\u200b\u6caa\u200b\u6df1\u200b 300 \u200b\u6307\u6570\u200b\uff08399300.SZ\uff09\u200b\u7684\u200b\u4ea4\u6613\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u95f4\u9694\u200b\u91c7\u6837\u200b\u3002\u200b\u6caa\u200b\u6df1\u200b 300 \u200b\u6307\u6570\u200b\u6709\u200b\u6570\u636e\u200b\u7684\u200b\u65e5\u671f\u200b\u4e00\u5b9a\u200b\u662f\u200b\u4ea4\u6613\u65e5\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u91c7\u6837\u7684\u80a1\u7968","title":"\u91c7\u6837\u200b\u7684\u200b\u80a1\u7968","text":"<p>A \u200b\u80a1\u200b\u5e02\u573a\u200b\u7684\u200b\u80a1\u7968\u200b\u6570\u91cf\u200b\u8fd1\u200b 5000 \u200b\u53ea\u200b\uff0c\u200b\u82e5\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\u5747\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\u4e5f\u200b\u5c06\u200b\u8017\u8d39\u200b\u5927\u91cf\u200b\u65f6\u95f4\u200b\u3002\u200b\u672c\u6587\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u91c7\u6837\u200b\u65e5\u200b\uff0c\u200b\u83b7\u53d6\u200b\u524d\u200b 1000 \u200b\u53ea\u200b\u80a1\u7968\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u5177\u4f53\u200b\u5224\u65ad\u200b\u5bf9\u200b\u54ea\u4e9b\u200b\u80a1\u7968\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\u7684\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> Python<pre><code># \u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\uff0c\u200b\u8fd4\u56de\u200b\u8be5\u200b\u65e5\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b A \u200b\u80a1\u200b\u80a1\u7968\u200b\u5217\u8868\u200b\ndef get_stocklist(date: str, num: int):\nstart = str(pd.to_datetime(date) - timedelta(30))\nstart = start[0:4] + start[5:7] + start[8:10]\ndf1 = pro.index_weight(\nindex_code=\"000002.SH\", start_date=start, end_date=date\n)  # \u200b\u4ea4\u6613\u65e5\u200b\u5f53\u5929\u200b\u7684\u200b\u80a1\u7968\u200b\u5217\u8868\u200b\ncodes = list(df1[\"con_code\"])\ncodes = codes[0:1000]  # \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u622a\u9762\u200b\u671f\u53ea\u200b\u9009\u53d6\u200b 1000 \u200b\u53ea\u200b\u80a1\u7968\u200b\nreturn codes\n</code></pre> <p>\u200b\u5176\u200b\u539f\u7406\u200b\u662f\u200b\u57fa\u4e8e\u200b A \u200b\u80a1\u200b\u6307\u6570\u200b\uff08000002.SH\uff09\u200b\u7684\u200b\u524d\u200b 1000 \u200b\u53ea\u200b\u6210\u5206\u80a1\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u83b7\u53d6\u5355\u4e2a\u80a1\u7968\u5728\u5355\u4e2a\u4ea4\u6613\u65e5\u7684\u6570\u636e","title":"\u83b7\u53d6\u200b\u5355\u4e2a\u200b\u80a1\u7968\u200b\u5728\u200b\u5355\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6570\u636e","text":"<p><code>get_x_y()</code>\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u4e24\u4e2a\u200b\u503c\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u524d\u200b 30 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b 9 \u200b\u4e2a\u200b\u6307\u6807\u200b\u9762\u677f\u200b\uff089*30\uff09\uff0c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u672a\u6765\u200b 10 \u200b\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</p> Python<pre><code>def get_x_y(code: str, date: str, pass_day: int, future_day: int, len1: int, len2: int):\nstart = str(pd.to_datetime(date) - timedelta(pass_day * 2))\nstart = start[0:4] + start[5:7] + start[8:10]\nend = str(pd.to_datetime(date) + timedelta(future_day * 2))\nend = end[0:4] + end[5:7] + end[8:10]\ndf_price = pro.daily(\nts_code=code, start_date=start, end_date=date  # OHLC,pct_change,volume\n)\ndf_basic = pro.daily_basic(ts_code=code, start_date=start, end_date=date)\ndf_return = pro.daily(ts_code=code, start_date=date, end_date=end).iloc[::-1][\n\"close\"\n]\nif (\n(df_price.shape[0] == df_basic.shape[0])\n&amp; (df_price.shape[0] == len1)\n&amp; (df_return.shape[0] == len2)\n):  # \u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\ndf_price = df_price.iloc[0:pass_day, [2, 3, 4, 5, 8, 9]].fillna(0.1)\ndf_basic = df_basic.iloc[0:pass_day, [3, 4, 5]].fillna(0.1)\ndata = np.array(\npd.merge(df_price, df_basic, left_index=True, right_index=True).iloc[::-1].T\n)\n# print(data.shape)\n# \u200b\u672a\u6765\u200b\u5341\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\ndfr = df_return.iloc[0:future_day]\nret = dfr.iloc[-1] / dfr.iloc[0] - 1  # \u200b\u540e\u200b\u5341\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\nreturn data, ret\nelse:\nreturn None, None  # \u200b\u6570\u636e\u200b\u7f3a\u5931\u200b\u7684\u200b\u9884\u5904\u7406\u200b\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u820d\u5f03\u7f3a\u5931\u503c","title":"\u820d\u5f03\u200b\u7f3a\u5931\u200b\u503c","text":"<p>\u200b\u5728\u200b\u83b7\u53d6\u200b\u5355\u4e2a\u200b\u80a1\u7968\u200b\u5728\u200b\u5355\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u82e5\u200b\u67d0\u200b\u53ea\u200b\u80a1\u7968\u200b\u7684\u200b\u6570\u636e\u200b\u6709\u200b\u7f3a\u5931\u200b\uff0c\u200b\u5219\u200b\u9700\u200b\u820d\u5f03\u200b\u5b83\u200b\uff0c\u200b\u5426\u5219\u200b\u5728\u200b\u8f93\u5165\u200b\u5230\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u65f6\u4f1a\u200b\u5e26\u6709\u200b\u7f3a\u5931\u200b\u503c\u200b\u3002</p> <p>\u200b\u57fa\u4e8e\u200b\u6caa\u200b\u6df1\u200b 300 \u200b\u6307\u6570\u200b\uff0c\u200b\u5224\u65ad\u200b\u67d0\u65e5\u200b\u5e94\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u7684\u200b\u51fd\u6570\u200b\uff1a</p> Python<pre><code>def get_length(date: str, pass_day: int, future_day: int):\nstart = str(pd.to_datetime(date) - timedelta(pass_day * 2))\nstart = start[0:4] + start[5:7] + start[8:10]\nend = str(pd.to_datetime(date) + timedelta(future_day * 2))\nend = end[0:4] + end[5:7] + end[8:10]\nlen_1 = pro.index_daily(ts_code=\"399300.SZ\", start_date=start, end_date=date).shape[\n0\n]\nlen_2 = pro.index_daily(ts_code=\"399300.SZ\", start_date=date, end_date=end).shape[0]\nreturn len_1, len_2\n</code></pre> <p>\u200b\u5728\u200b<code>get_x_y()</code>\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u57fa\u4e8e\u200b<code>len_1</code>\u200b\u548c\u200b<code>len_2</code>\u200b\u5224\u65ad\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u3002\u200b\u82e5\u6709\u200b\u7f3a\u5931\u200b\u503c\u5219\u200b\u8fd4\u56de\u200b\u7a7a\u503c\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u8ba1\u5165\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u83b7\u53d6\u6570\u636e\u96c6","title":"\u83b7\u53d6\u6570\u636e\u200b\u96c6","text":"<p>\u200b\u7b5b\u9009\u200b\u51fa\u200b\u54ea\u4e00\u5929\u200b\u3001\u200b\u54ea\u4e00\u53ea\u200b\u80a1\u7968\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u6570\u636e\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u91c7\u6837\u200b\u65e5\u200b\u3001\u200b\u6bcf\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\u8fdb\u884c\u200b\u5faa\u73af\u200b\u3002\u200b\u914d\u5408\u200b<code>rich.progress</code>\u200b\u53ef\u4ee5\u200b\u5c55\u793a\u200b\u4e0b\u8f7d\u200b\u6570\u636e\u200b\u7684\u200b\u8fdb\u5ea6\u6761\u200b\u3002</p> <p><code>rich.progress</code>\u200b\u7684\u200b\u4f7f\u7528\u200b\u793a\u4f8b\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b \u200b\u8fd9\u91cc\u200b\u3002</p> Python<pre><code>def get_dataset(\nnum: int, start: str, end: str, interval: int, pass_day: int, future_day: int\n):\nX_train = []\ny_train = []\ntrade_date_list = get_datelist(start, end, interval)\n# \u200b\u6dfb\u52a0\u200b\u8fdb\u5ea6\u6761\u200b\nwith Progress() as progress:\ntask_date = progress.add_task(\"[red]Date...\", total=len(trade_date_list))\nfor date in trade_date_list:\n# \u200b\u66f4\u65b0\u200b\u8fdb\u5ea6\u6761\u200b\nprogress.update(task_date, advance=1)\nstock_list = get_stocklist(date, num)\nlen1, len2 = get_length(date, pass_day, future_day)\ntask_stock = progress.add_task(\n\"[green]Stock...\", total=len(range(len(stock_list)))\n)\nfor i in range(len(stock_list)):\n# \u200b\u66f4\u65b0\u200b\u8fdb\u5ea6\u6761\u200b\nprogress.update(task_stock, advance=1)\ncode = stock_list[i]\nx, y = get_x_y(code, date, pass_day, future_day, len1, len2)\ntry:\nif (x.shape[0] == 9) &amp; (x.shape[1] == pass_day):\nX_train.append(x)\ny_train.append(y)\nexcept Exception:\ncontinue\nreturn X_train, y_train\n</code></pre> <p>\u200b\u6570\u636e\u200b\u793a\u4f8b\u200b\uff1a</p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u4fdd\u5b58npy\u6570\u636e\u5230\u672c\u5730","title":"\u4fdd\u5b58\u200b<code>.npy</code>\u200b\u6570\u636e\u200b\u5230\u200b\u672c\u5730","text":"<p>\u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6570\u636e\u200b\u4ee5\u200b<code>.npy</code>\u200b\u683c\u5f0f\u200b\u5b58\u50a8\u200b\u5230\u200b\u672c\u5730\u200b\u3002\u200b\u5728\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b<code>np.load('../data/X_train.npy')</code>\u200b\u8f7d\u5165\u200b\u6570\u636e\u200b\u3002</p> Python<pre><code># \u200b\u53c2\u6570\u200b\u8bbe\u5b9a\u200b\uff1a\u200b\u4f7f\u7528\u200b\u8fc7\u53bb\u200b 30 \u200b\u5929\u200b\u7684\u200b\u6570\u636e\u200b\u9884\u6d4b\u200b\u672a\u6765\u200b 10 \u200b\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\nX_train, y_train = get_dataset(\nnum=1000, start=\"20220101\", end=\"20220630\", interval=10, pass_day=30, future_day=10\n)\nX_test, y_test = get_dataset(\nnum=1000, start=\"20220931\", end=\"20221231\", interval=10, pass_day=30, future_day=10\n)\nprint(\"there are in total\", len(X_train), \"training samples\")\nprint(\"there are in total\", len(X_test), \"testing samples\")\n# \u200b\u5c06\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\u4f9b\u200b\u79bb\u7ebf\u200b\u8bad\u7ec3\u200b\nXa = np.array(X_train)\nya = np.array(y_train)\nXe = np.array(X_test)\nye = np.array(y_test)\nnp.save(\"./X_train.npy\", Xa)\nnp.save(\"./y_train.npy\", ya)\nnp.save(\"./X_test.npy\", Xe)\nnp.save(\"./y_test.npy\", ye)\n</code></pre> <p>\u200b\u6574\u4e2a\u200b\u83b7\u53d6\u6570\u636e\u200b\u7684\u200b\u65f6\u95f4\u200b\u7ea6\u200b\u4e3a\u200b 3 \u200b\u4e2a\u200b\u5c0f\u65f6\u200b\uff0c\u200b\u5171\u200b\u83b7\u53d6\u200b\u5230\u200b 11825 \u200b\u6761\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u548c\u200b 4943 \u200b\u6761\u200b\u6d4b\u8bd5\u6570\u636e\u200b\uff08\u200b\u6570\u636e\u91cf\u200b\u4e0d\u200b\u4e3a\u200b 1000 \u200b\u7684\u200b\u6574\u6570\u500d\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u820d\u5f03\u200b\u4e86\u200b\u90e8\u5206\u200b\u7f3a\u5931\u200b\u503c\u200b\uff09\u3002</p> <ul> <li> <p>\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u4e3a\u200b\\(9\\times 30\\)\u200b\u7684\u200b\u4e2a\u80a1\u200b\u91cf\u4ef7\u200b\u6570\u636e\u200b\u6784\u6210\u200b\u7684\u200b\u77e9\u9635\u200b\u30029 \u200b\u884c\u200b\u4ee3\u8868\u200b 9 \u200b\u4e2a\u91cf\u200b\u4ef7\u200b\u7279\u5f81\u200b\uff0c30 \u200b\u4ee3\u8868\u200b\\(t-29\\)\u200b\u81f3\u200b\\(t\\)\u200b\u8fd9\u200b 30 \u200b\u5929\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> </li> <li> <p>\u200b\u6807\u7b7e\u200b\u6570\u636e\u200b\u4e3a\u200b\u4e2a\u80a1\u200b\u5728\u200b\u67d0\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u5f80\u540e\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</p> </li> </ul> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u642d\u5efa-alphanet-v1","title":"\u642d\u5efa\u200b AlphaNet-V1","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#alphanet-v1-\u7684\u6574\u4f53\u7f51\u7edc\u7ed3\u6784","title":"AlphaNet-V1 \u200b\u7684\u200b\u6574\u4f53\u200b\u7f51\u7edc\u7ed3\u6784","text":"<p>\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b AlphaNet-V1 \u200b\u7684\u200b\u6574\u4f53\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3002\u200b\u5b83\u200b\u7531\u200b 7 \u200b\u4e2a\u200b\u5e73\u884c\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u30013 \u200b\u4e2a\u200b\u5e73\u884c\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u548c\u200b 1 \u200b\u4e2a\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7ec4\u6210\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u548c\u200b\u6c60\u5316\u5c42\u200b\u540e\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\uff08Batch Normalization\uff09\u3002</p> <p>\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\u4e00\u4e2a\u200b\\(9\\times30\\)\u200b\u7684\u200b\u4e2a\u80a1\u200b\u91cf\u4ef7\u200b\u201c\u200b\u6570\u636e\u200b\u56fe\u7247\u200b\u201d\uff0c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u4e3a\u200b\u4e2a\u80a1\u200b\u4ece\u200b\u5f53\u65e5\u200b\u5230\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u540e\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u6570\u503c\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u7279\u5f81\u63d0\u53d6\u5c42\u7c7b\u4f3c\u5377\u79ef\u5c42","title":"\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff08\u200b\u7c7b\u4f3c\u200b\u5377\u79ef\u200b\u5c42\u200b\uff09","text":"<p>AlphaNet \u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\u4e00\u4e2a\u200b\\(9\\times30\\)\u200b\u7684\u200b\u4e2a\u80a1\u200b\u91cf\u4ef7\u200b\u201c\u200b\u6570\u636e\u200b\u56fe\u7247\u200b\u201d\u3002\u200b\u5982\u679c\u200b\u7b80\u5355\u200b\u5730\u200b\u5957\u7528\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5904\u7406\u200b\u56fe\u7247\u200b\u50cf\u7d20\u200b\u6570\u636e\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5219\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u53ea\u80fd\u200b\u5728\u200b\u611f\u53d7\u200b\u91ce\u5185\u200b\u5c06\u200b\u82e5\u5e72\u200b\u65e5\u671f\u200b\u7684\u200b\u82e5\u5e72\u200b\u91cf\u4ef7\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u52a0\u6743\u200b\u5e73\u5747\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u5377\u79ef\u200b\u5c42\u200b\u5f97\u5230\u200b\u7684\u200b\u7279\u5f81\u200b\u5c06\u200b\u53d8\u5f97\u200b\u5f88\u96be\u200b\u89e3\u91ca\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u7b26\u5408\u200b\u4f20\u7edf\u200b\u6784\u9020\u200b\u91cf\u4ef7\u200b\u56e0\u5b50\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u501f\u9274\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u591a\u79cd\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u81ea\u5b9a\u4e49\u200b\u7f51\u7edc\u5c42\u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u3002\u200b\u672c\u6587\u200b\u5b9e\u73b0\u200b\u4e86\u200b 7 \u200b\u79cd\u200b\u8fd0\u7b97\u7b26\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b<code>ts_corr</code>, <code>ts_cov</code>, <code>ts_stddev</code>, <code>ts_zscore</code>, <code>ts_return</code>, <code>ts_decaylinear</code>, <code>ts_mean</code>\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u542b\u4e49\u200b\u5982\u4e0b\u200b\uff1a</p> \u200b\u540d\u79f0\u200b \u200b\u5b9a\u4e49\u200b <code>ts_corr</code> \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u3002 <code>ts_cov</code> \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u3002 <code>ts_stddev</code> \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u3002 <code>ts_zscore</code> \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\u3002 <code>ts_return</code> (X - delay(X, d))/delay(X, d)-1, delay(X, d) \u200b\u4e3a\u200b X \u200b\u5728\u200b d \u200b\u5929\u524d\u200b\u7684\u200b\u53d6\u503c\u200b\u3002 <code>ts_decaylinear</code> \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u52a0\u6743\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6743\u6570\u200b\u4e3a\u200b d, d \u2013 1, \u2026, 1\uff08\u200b\u6743\u6570\u200b\u4e4b\u200b\u548c\u200b\u5e94\u4e3a\u200b 1\uff0c\u200b\u9700\u200b\u8fdb\u884c\u200b\u5f52\u4e00\u5316\u200b\u5904\u7406\u200b\uff09\uff0c\u200b\u5176\u4e2d\u200b\u79bb\u200b\u73b0\u5728\u200b\u8d8a\u8fd1\u200b\u7684\u200b\u65e5\u5b50\u200b\u6743\u6570\u200b\u8d8a\u5927\u200b\u3002 <code>ts_mean</code> \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u3002 <p>\u200b\u8fd9\u200b 7 \u200b\u4e2a\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c<code>ts_corr</code>\u200b\u548c\u200b<code>ts_cov</code>\u200b\u9700\u8981\u200b\u4ece\u200b 9 \u200b\u884c\u200b\u6570\u636e\u200b\u4e2d\u200b\u63d0\u53d6\u200b 2 \u200b\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u548c\u200b\u534f\u65b9\u5dee\u200b\u3002\u200b\u5176\u4ed6\u200b 5 \u200b\u4e2a\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u4ec5\u200b\u9700\u200b\u9488\u5bf9\u200b\u67d0\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b\u6807\u51c6\u5dee\u200b\u3001\u200b\u53d8\u5316\u7387\u200b\u7b49\u200b\u3002\u200b\u4e0b\u9762\u200b\u9488\u5bf9\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u5206\u522b\u200b\u4e3e\u4f8b\u8bf4\u660e\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u57fa\u4e8e\u53cc\u53d8\u91cf\u7684\u7279\u5f81\u63d0\u53d6\u5c42\u4ee5ts_corr\u4e3a\u4f8b","title":"\u57fa\u4e8e\u200b\u53cc\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u2014\u2014\u200b\u4ee5\u200b<code>ts_corr</code>\u200b\u4e3a\u4f8b","text":"<p>\u200b\u6211\u4eec\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\\(9\\times30\\)\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u884c\u200b\u662f\u200b\u67d0\u4e2a\u200b\u91cf\u4ef7\u200b\u6307\u6807\u200b\u5728\u200b\u6700\u8fd1\u200b 30 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u57fa\u4e8e\u200b\u53cc\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u7684\u200b\u6b65\u9aa4\u200b\u4e3a\u200b\uff1a</p> <ol> <li>\u200b\u53d6\u51fa\u200b\u4e24\u884c\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b\u53d6\u51fa\u200b\u7684\u200b\u4e24\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u7ed9\u5b9a\u200b\u6b65\u957f\u200b<code>stride</code>\uff0c\u200b\u5728\u200b\u65f6\u95f4\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u5bf9\u200b\u4e24\u884c\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u904d\u5386\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u4e24\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5f53\u200b\\(stride=3\\)\u200b\u65f6\u200b\uff0c\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8ba1\u7b97\u200b\u5c06\u200b\u5728\u200b\u65f6\u95f4\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u5f80\u53f3\u200b\u6b65\u8fdb\u200b 3 \u200b\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u8fdb\u884c\u200b\\(\\frac{30}{3}=10\\)\u200b\u6b21\u200b\u8fd0\u7b97\u200b\u3002</li> <li>\u200b\u5c06\u200b\u8fd0\u7b97\u200b\u7ed3\u679c\u200b\u6574\u7406\u200b\u5230\u200b\u65b0\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u5f97\u5230\u200b\u65b0\u200b\u7684\u200b\u201c\u200b\u7279\u5f81\u200b\u56fe\u7247\u200b\u201d\uff0c\u200b\u4f5c\u4e3a\u200b\u540e\u7eed\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u3002</li> </ol> <p></p> <p>\u200b\u4ece\u200b 9 \u200b\u884c\u200b\u6570\u636e\u200b\u4e2d\u4efb\u53d6\u200b 2 \u200b\u884c\u200b\uff0c\u200b\u6709\u200b\\(\\tbinom{9}{2}=36\\)\u200b\u79cd\u200b\u53d6\u6cd5\u200b\u3002\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u8bbe\u5b9a\u200b\u6b65\u957f\u200b\u4e3a\u200b 10\uff0c\u200b\u5219\u200b\u5f97\u5230\u200b\u7684\u200b\u65b0\u200b\u7684\u200b\u201c\u200b\u7279\u5f81\u200b\u56fe\u7247\u200b\u201d\u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b\\(36\\times3\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u57fa\u4e8e\u53cc\u53d8\u91cf\u7684\u7279\u5f81\u63d0\u53d6\u5c42\u4ee3\u7801\u5b9e\u73b0","title":"\u57fa\u4e8e\u200b\u53cc\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u2014\u2014\u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u9700\u8981\u200b\u7ed9\u5b9a\u200b\u539f\u59cb\u200b\u77e9\u9635\u200b<code>Matrix</code>\u3001\u200b\u4e24\u200b\u4e24\u200b\u7ec4\u5408\u200b\u7684\u200b\u5217\u8868\u200b<code>combination</code>\u3001\u200b\u53cd\u8f6c\u200b\u7684\u200b\u4e24\u200b\u4e24\u200b\u7ec4\u5408\u200b\u7684\u200b\u5217\u8868\u200b<code>combination_rev</code>\u200b\u4ee5\u53ca\u200b\u6bcf\u6b21\u200b\u904d\u5386\u200b\u8fd0\u7b97\u200b\u7684\u200b\u8d77\u59cb\u200b\u7d22\u5f15\u200b\u5217\u8868\u200b<code>index_list</code>\u3002</p> <ul> <li>\u200b\u751f\u6210\u200b<code>combination</code>\u200b\u548c\u200b<code>combination_rev</code>\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</li> </ul> Python<pre><code># \u200b\u751f\u6210\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\u7684\u200b\u5217\u8868\u200b\ndef generate_combination(N):\n\"\"\"\n    args:\n        N: int, the number of rows of the matrix\n    return:\n        combination: list, the combination of two columns of the matrix\n        combination_rev: list, the combination of two rows of the matrix, which is the reverse of combination\n    \"\"\"\ncol = []\ncol_rev = []\nfor i in range(1, N):\nfor j in range(0, i):\ncol.append([i, j])\ncol_rev.append([j, i])\nreturn col, col_rev\n# \u200b\u751f\u6210\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\u7684\u200b\u5217\u8868\u200b\ncombination, combination_rev = generate_combination(9)\n</code></pre> <p></p> <ul> <li>\u200b\u751f\u6210\u200b<code>index_list</code>\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</li> </ul> Python<pre><code># \u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u7684\u200b\u77e9\u9635\u200b\u548c\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7d22\u5f15\u200b\ndef get_index_list(matrix, stride):\n\"\"\"\n    args:\n        matrix: torch.tensor, the input matrix\n        stride: int, the stride of the convolution operation\n    return:\n        index_list: list, the index of the convolution operation\n    \"\"\"\nW = matrix.shape[3]\nif W % stride == 0:\nindex_list = list(np.arange(0, W + stride, stride))\nelse:\nmod = W % stride\nindex_list = list(np.arange(0, W + stride - mod, stride)) + [W]\nreturn index_list\n# \u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u7684\u200b\u77e9\u9635\u200b\u548c\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7d22\u5f15\u200b\n# Inception \u200b\u6a21\u5757\u200b\u4f7f\u7528\u200b\u7684\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\u4e3a\u200b 10\nindex_list = get_index_list(np.zeros((1, 1, 9, 30)), 10)\n</code></pre> <p></p> <ul> <li>\u200b\u57fa\u4e8e\u200b\u53cc\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</li> </ul> Python<pre><code># \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\ndef ts_corr4d(self, Matrix, combination, combination_rev):\nnew_H = len(combination)\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\ndata = Matrix[:, :, combination, start_index:end_index]  # N*1*new_H*2*d\ndata2 = Matrix[:, :, combination_rev, start_index:end_index]  # N*1*new_H*2*d\nstd1 = data.std(axis=4, keepdims=True)  # N*1*new_H*2*1, \u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u6c42\u200b\u6807\u51c6\u5dee\u200b\nstd2 = data2.std(axis=4, keepdims=True)  # N*1*new_H*2*1, \u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u6c42\u200b\u6807\u51c6\u5dee\u200b\nstd = (std1 * std2).mean(axis=3, keepdims=True)  # N*1*new_H*1*1\nlist.append(std)\nstd = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n+ 0.01\n)  # N*1*new_H*len(index_list)-1 # \u200b\u52a0\u4e0a\u200b 0.01, \u200b\u9632\u6b62\u200b\u9664\u200b 0\n# N*1*new_H*len(index_list)-1\ncov = self.ts_cov4d(Matrix, combination, combination_rev)\ncorr = cov / std  # N*1*new_H*len(index_list)-1\nreturn corr\n</code></pre> Python<pre><code># \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\ndef ts_cov4d(self, Matrix, combination, combination_rev):\nnew_H = len(combination)\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\ndata = Matrix[:, :, combination, start_index:end_index]  # N*1*new_H*2*d\ndata2 = Matrix[:, :, combination_rev, start_index:end_index]  # N*1*new_H*2*d\nmean1 = data.mean(axis=4, keepdims=True)  # N*1*new_H*2*1, \u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u6c42\u200b\u5747\u503c\u200b\nmean2 = data2.mean(axis=4, keepdims=True)  # N*1*new_H*2*1, \u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u6c42\u200b\u5747\u503c\u200b\nspread1 = data - mean1  # N*1*new_H*2*d, \u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u6c42\u200b\u504f\u5dee\u200b\nspread2 = data2 - mean2  # N*1*new_H*2*d, \u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u6c42\u200b\u504f\u5dee\u200b\ncov = (\n(spread1 * spread2).sum(axis=4, keepdims=True) / (data.shape[4] - 1)\n).mean(\naxis=3, keepdims=True\n)  # N*1*new_H*1*1\nlist.append(cov)\ncov = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n)  # N*1*new_H*len(index_list)-1\nreturn torch.from_numpy(cov)\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u4e0a\u8ff0\u200b\u7279\u5f81\u63d0\u53d6\u200b\u540e\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u65b0\u200b\u7684\u200b\u201c\u200b\u7279\u5f81\u200b\u56fe\u7247\u200b\u201d\u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b\\(36\\times3\\)\u3002\u200b\u6211\u4eec\u200b\u540e\u7eed\u200b\u4f1a\u200b\u5c06\u200b\u5176\u200b\u8fdb\u884c\u200b\u6c60\u5316\u200b\u548c\u200b\u5c55\u5e73\u200b\u3002\u200b\u6ce8\u610f\u200b\u5230\u200b\uff0c\u200b\u8fd9\u200b 36 \u200b\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u4e0a\u4e0b\u200b\u4f4d\u7f6e\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u6c60\u5316\u200b\u548c\u200b\u5c55\u5e73\u200b\u64cd\u4f5c\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\uff08\u200b\u5c55\u5e73\u200b\u540e\u200b\u6bcf\u4e2a\u200b\u91cf\u200b\u7684\u200b\u5730\u4f4d\u200b\u90fd\u200b\u4e00\u6837\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u539f\u59cb\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u7684\u200b\\(9\\times30\\)\u200b\u7684\u200b\u77e9\u9635\u200b\u5185\u90e8\u200b\u7684\u200b\u4e0a\u4e0b\u200b\u53ef\u4ee5\u200b\u4efb\u610f\u200b\u6392\u5217\u200b\u3002\u200b\u8fd9\u200b\u4e5f\u200b\u907f\u514d\u200b\u4e86\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u5904\u7406\u200b\u56fe\u7247\u200b\u50cf\u7d20\u200b\u6570\u636e\u200b\u65f6\u200b\u53ea\u80fd\u200b\u611f\u77e5\u200b\u5c40\u90e8\u200b\u6570\u636e\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u57fa\u4e8e\u5355\u53d8\u91cf\u7684\u7279\u5f81\u63d0\u53d6\u5c42\u4ee5ts_stddev\u4e3a\u4f8b","title":"\u57fa\u4e8e\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u2014\u2014\u200b\u4ee5\u200b<code>ts_stddev</code>\u200b\u4e3a\u4f8b","text":"<p>\u200b\u57fa\u4e8e\u200b\u5355\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u7684\u200b\u6b65\u9aa4\u200b\u4e3a\u200b\uff1a</p> <ol> <li>\u200b\u53d6\u51fa\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b\u53d6\u51fa\u200b\u7684\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u7ed9\u5b9a\u200b\u6b65\u957f\u200b<code>stride</code>\uff0c\u200b\u5728\u200b\u65f6\u95f4\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u5bf9\u200b\u8fd9\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u904d\u5386\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u8fd9\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5f53\u200b\\(stride=3\\)\u200b\u65f6\u200b\uff0c\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8ba1\u7b97\u200b\u5c06\u200b\u5728\u200b\u65f6\u95f4\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u5f80\u53f3\u200b\u6b65\u8fdb\u200b 3 \u200b\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u8fdb\u884c\u200b\\(\\frac{30}{3}=10\\)\u200b\u6b21\u200b\u8fd0\u7b97\u200b\u3002</li> <li>\u200b\u5c06\u200b\u8fd0\u7b97\u200b\u7ed3\u679c\u200b\u6574\u7406\u200b\u5230\u200b\u65b0\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u5f97\u5230\u200b\u65b0\u200b\u7684\u200b\u201c\u200b\u7279\u5f81\u200b\u56fe\u7247\u200b\u201d\uff0c\u200b\u4f5c\u4e3a\u200b\u540e\u7eed\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u3002</li> </ol> <p></p> <p>\u200b\u4ece\u200b 9 \u200b\u884c\u200b\u6570\u636e\u200b\u4e2d\u4efb\u53d6\u200b 1 \u200b\u884c\u200b\uff0c\u200b\u6709\u200b\\(\\tbinom{9}{1}=9\\)\u200b\u79cd\u200b\u53d6\u6cd5\u200b\u3002\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u8bbe\u5b9a\u200b\u6b65\u957f\u200b\u4e3a\u200b 10\uff0c\u200b\u5219\u200b\u5f97\u5230\u200b\u7684\u200b\u65b0\u200b\u7684\u200b\u201c\u200b\u7279\u5f81\u200b\u56fe\u7247\u200b\u201d\u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b 9*3\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u57fa\u4e8e\u5355\u53d8\u91cf\u7684\u7279\u5f81\u63d0\u53d6\u5c42\u4ee3\u7801\u5b9e\u73b0","title":"\u57fa\u4e8e\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u2014\u2014\u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u53ea\u200b\u9700\u200b\u7ed9\u5b9a\u200b\u539f\u59cb\u6570\u636e\u200b<code>Matrix</code>\u200b\u548c\u200b\u6bcf\u6b21\u200b\u904d\u5386\u200b\u8fd0\u7b97\u200b\u7684\u200b\u8d77\u59cb\u200b\u7d22\u5f15\u200b\u5217\u8868\u200b<code>index_list</code>\u3002</p> Python<pre><code># \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\ndef ts_stddev4d(self, Matrix):\n# \u200b\u53ea\u200b\u9700\u8981\u200b\u5bf9\u5355\u200b\u53d8\u91cf\u200b\u505a\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c06\u200b\u53d8\u91cf\u200b\u4e24\u200b\u4e24\u200b\u7ec4\u5408\u200b\u3002\u200b\u56e0\u6b64\u200b\u8f93\u51fa\u200b\u7684\u200b H \u200b\u53ef\u4ee5\u200b\u4fdd\u6301\u200b\u548c\u200b\u8f93\u5165\u200b\u7684\u200b H \u200b\u4e00\u81f4\u200b\nnew_H = Matrix.shape[2]\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\ndata = Matrix[:, :, :, start_index:end_index]  # N*1*H*d\nstd = data.std(axis=3, keepdims=True)  # N*1*H*1\nlist.append(std)\nstd4d = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n)  # N*1*new_H*len(index_list)-1\nreturn torch.from_numpy(std4d)\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\ndef ts_zcore4d(self, Matrix):\n# \u200b\u53ea\u200b\u9700\u8981\u200b\u5bf9\u5355\u200b\u53d8\u91cf\u200b\u505a\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c06\u200b\u53d8\u91cf\u200b\u4e24\u200b\u4e24\u200b\u7ec4\u5408\u200b\u3002\u200b\u56e0\u6b64\u200b\u8f93\u51fa\u200b\u7684\u200b H \u200b\u53ef\u4ee5\u200b\u4fdd\u6301\u200b\u548c\u200b\u8f93\u5165\u200b\u7684\u200b H \u200b\u4e00\u81f4\u200b\nnew_H = Matrix.shape[2]\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b zcore\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\ndata = Matrix[:, :, :, start_index:end_index]  # N*1*H*d\nmean = data.mean(axis=3, keepdims=True)  # N*1*H*1\nstd = data.std(axis=3, keepdims=True) + 0.01  # N*1*H*1, \u200b\u52a0\u4e0a\u200b 0.01, \u200b\u9632\u6b62\u200b\u9664\u4ee5\u200b 0\nlist.append(mean / std)\nzscore = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n)  # N*1*new_H*len(index_list)-1\nreturn torch.from_numpy(zscore)\n# (X - delay(X, d))/delay(X, d)-1, \u200b\u5176\u4e2d\u200b delay(X, d) \u200b\u4e3a\u200b X \u200b\u5728\u200b d \u200b\u5929\u524d\u200b\u7684\u200b\u53d6\u503c\u200b\ndef ts_return4d(self, Matrix):\n# \u200b\u53ea\u200b\u9700\u8981\u200b\u5bf9\u5355\u200b\u53d8\u91cf\u200b\u505a\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c06\u200b\u53d8\u91cf\u200b\u4e24\u200b\u4e24\u200b\u7ec4\u5408\u200b\u3002\u200b\u56e0\u6b64\u200b\u8f93\u51fa\u200b\u7684\u200b H \u200b\u53ef\u4ee5\u200b\u4fdd\u6301\u200b\u548c\u200b\u8f93\u5165\u200b\u7684\u200b H \u200b\u4e00\u81f4\u200b\nnew_H = Matrix.shape[2]\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b return\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\ndata = Matrix[:, :, :, start_index:end_index]  # N*1*H*d\n# N*1*H*1, \u200b\u5728\u200b\u5206\u6bcd\u200b\u52a0\u4e0a\u200b 0.01, \u200b\u9632\u6b62\u200b\u9664\u4ee5\u200b 0\nreturn_ = data[:, :, :, -1] / (data[:, :, :, 0] + 0.01) - 1\nlist.append(return_)\nts_return = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n)  # N*1*new_H*len(index_list)-1\nreturn torch.from_numpy(ts_return)\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u52a0\u6743\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6743\u6570\u200b\u4e3a\u200b d, d \u2013 1, \u2026, 1\uff08\u200b\u6743\u6570\u200b\u4e4b\u200b\u548c\u200b\u5e94\u4e3a\u200b 1, \u200b\u9700\u200b\u8fdb\u884c\u200b\u5f52\u4e00\u5316\u200b\u5904\u7406\u200b\uff09, \u200b\u5176\u4e2d\u200b\u79bb\u200b\u73b0\u5728\u200b\u8d8a\u8fd1\u200b\u7684\u200b\u65e5\u5b50\u200b\u6743\u6570\u200b\u8d8a\u5927\u200b\ndef ts_decaylinear4d(self, Matrix):\nnew_H = Matrix.shape[2]\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b\u52a0\u6743\u200b\u5e73\u5747\u503c\u200b\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\nrange_ = end_index - start_index\nweight = np.arange(1, range_ + 1)\nweight = weight / weight.sum()  # \u200b\u6743\u91cd\u200b\u5411\u91cf\u200b\ndata = Matrix[:, :, :, start_index:end_index]  # N*1*H*d\nwd = (data * weight).sum(axis=3, keepdims=True)  # N*1*H*1\nlist.append(wd)\nts_decaylinear = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n)  # N*1*new_H*len(index_list)-1\nreturn torch.from_numpy(ts_decaylinear)\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\ndef ts_mean4d(self, Matrix):\nnew_H = Matrix.shape[2]\nindex_list = self.index_list\nlist = []  # \u200b\u5b58\u653e\u200b\u957f\u5ea6\u200b\u4e3a\u200b len(index_list)-1 \u200b\u7684\u200b\u5e73\u5747\u503c\u200b\nfor i in range(len(index_list) - 1):\nstart_index = index_list[i]\nend_index = index_list[i + 1]\ndata = Matrix[:, :, :, start_index:end_index]  # N*1*H*d\nmean_ = data.mean(axis=3, keepdims=True)  # N*1*H*1\nlist.append(mean_)\nts_mean = (\nnp.squeeze(np.array(list))\n.transpose(1, 2, 0)\n.reshape(-1, 1, new_H, len(index_list) - 1)\n)  # N*1*new_H*len(index_list)-1\nreturn torch.from_numpy(ts_mean)\n</code></pre> <p>\u200b\u4e0a\u8ff0\u200b 7 \u200b\u4e2a\u200b\u51fd\u6570\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u5b9a\u4e49\u200b\u597d\u200b\u4e86\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u201c\u200b\u5377\u79ef\u200b\u6838\u200b\u201d\uff0c\u200b\u5e76\u4e14\u200b\u8fd9\u4e9b\u200b\u64cd\u4f5c\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u9700\u8981\u200b\u4f18\u5316\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u6309\u7167\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u8fd0\u7b97\u7b26\u200b\u8fdb\u884c\u200b\u524d\u5411\u200b\u4f20\u64ad\u200b\u3002</p> <p>\u200b\u56fe\u50cf\u8bc6\u522b\u200b\u9886\u57df\u200b\u4e2d\u200b\u7684\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u662f\u200b\u9700\u8981\u200b\u4f18\u5316\u200b\u5377\u79ef\u200b\u6838\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u548c\u200b\u56fe\u50cf\u8bc6\u522b\u200b\u9886\u57df\u200b\u4e2d\u200b\u7684\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u6709\u200b\u533a\u522b\u200b\u7684\u200b\u5730\u65b9\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u6279\u6807\u51c6\u5316\u5c42batch-normalization","title":"\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\uff08Batch Normalization\uff09","text":"<p>Batch Normalization \u200b\u901a\u8fc7\u200b\u5c06\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u7684\u200b\u539f\u59cb\u200b\u8f93\u51fa\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\uff08\u200b\u51cf\u53bb\u200b\u5747\u503c\u200b\uff0c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\uff09\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4e58\u4ee5\u200b\\(\\gamma\\)\uff08Scale\uff09\uff0c\u200b\u518d\u200b\u52a0\u4e0a\u200b\\(\\beta\\)\uff08Offset\uff09\u3002\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\u200b\u90fd\u200b\u662f\u200b\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u5b83\u4eec\u200b\u3002</p> <p>\u200b\u5177\u4f53\u200b\u7684\u200b\u6570\u5b66\u516c\u5f0f\u200b\u5982\u4e0b\u200b\u3002</p> <p>\u200b\u6c42\u200b\u7b2c\u200b\\(l\\)\u200b\u5c42\u200b\u7684\u200b\u6279\u200b\u5747\u503c\u200b\uff1a</p> \\[ \\mu=\\frac{1}{m} \\sum_{i=1}^m Z^{l(i)} \\] <p>\u200b\u6c42\u200b\u7b2c\u200b\\(l\\)\u200b\u5c42\u200b\u7684\u200b\u6279\u200b\u65b9\u5dee\u200b\uff1a</p> \\[ \\sigma^2=\\frac{1}{m} \\sum_{i=1}^m\\left(Z^{l(i)}-\\mu\\right)^2 \\] <p>\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u7ed3\u679c\u200b\uff1a</p> \\[ \\hat{Z}^l=\\gamma * \\frac{Z^l-\\mu}{\\sqrt{\\sigma^2+\\varepsilon}}+\\beta \\] <p>\u200b\u7ecf\u8fc7\u200b\u4e0a\u8ff0\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5373\u53ef\u200b\u5c06\u200b\\(Z^l\\)\u200b\u8f6c\u6362\u200b\u4e3a\u200b\\(\\hat{Z}^l\\)\u3002</p> <p>\u200b\u5728\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u200b\u4f18\u5316\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200b\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\uff0c\u200b\u5219\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\u8fd0\u7b97\u200b\u5c31\u200b\u4e3a\u200b\u5e38\u89c4\u200b\u7684\u200b z-score \u200b\u6807\u51c6\u5316\u200b\u3002</p> <p>\u200b\u5173\u4e8e\u200b Batch Normalization \u200b\u7684\u200b\u7b14\u8bb0\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u6c60\u5316\u5c42","title":"\u6c60\u5316\u5c42","text":"<p>\u200b\u5728\u200b AlphaNet-V1 \u200b\u4e2d\u200b\uff0c\u200b\u6c60\u5316\u5c42\u200b\u4e0e\u200b\u4f20\u7edf\u200b\u7684\u200b\u56fe\u50cf\u8bc6\u522b\u200b\u4e2d\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u4e00\u81f4\u200b\uff0c\u200b\u90fd\u200b\u662f\u200b\u5bf9\u200b\u67d0\u4e2a\u200b\u533a\u57df\u200b\u7684\u200b\u6570\u636e\u200b\u63d0\u53d6\u200b\u6700\u5927\u503c\u200b\u3001\u200b\u5e73\u5747\u503c\u200b\u548c\u200b\u6700\u5c0f\u503c\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b PyTorch \u200b\u4e2d\u200b\u6ca1\u6709\u200b\u5185\u7f6e\u200b\u6700\u5c0f\u200b\u6c60\u5316\u5c42\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6570\u636e\u200b\u53d6\u200b\u76f8\u53cd\u6570\u200b\u540e\u200b\uff0c\u200b\u8fdb\u884c\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\u7684\u200b\u7ed3\u679c\u200b\u53d6\u200b\u76f8\u53cd\u6570\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\u3002</p> Python<pre><code># \u200b\u6c60\u5316\u5c42\u200b\uff0c\u200b\u5c3a\u5ea6\u200b\u4e3a\u200b 1*d\nself.max_pool = nn.MaxPool2d(kernel_size=(1, self.d))\nself.avg_pool = nn.AvgPool2d(kernel_size=(1, self.d))\n# \u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u76f8\u53cd\u6570\u200b\u7684\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\uff0c\u200b\u540e\u7eed\u200b\u4f1a\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\nself.min_pool = nn.MaxPool2d(kernel_size=(1, self.d))\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u7279\u5f81\u63d0\u53d6\u5c42\u548c\u6c60\u5316\u5c42\u7684\u7279\u5f81\u7ef4\u6570\u53d8\u5316\u5206\u6790","title":"\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u548c\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u7279\u5f81\u200b\u7ef4\u6570\u200b\u53d8\u5316\u200b\u5206\u6790","text":"<p>\u200b\u5728\u200b\u7ecf\u8fc7\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3001\u200b\u6c60\u5316\u5c42\u200b\u540e\u200b\uff08\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\u4e0d\u200b\u6539\u53d8\u200b\u7279\u5f81\u200b\u7ef4\u6570\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e0d\u200b\u8003\u8651\u200b\uff09\uff0c\u200b\u5c06\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u548c\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u5747\u200b\u5c55\u5e73\u200b\u540e\u200b\u518d\u200b\u62fc\u63a5\u200b\uff0c\u200b\u5f97\u5230\u200b\\(702\\times1\\)\u200b\u7684\u200b\u7279\u5f81\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u89e3\u91ca\u200b\u7ef4\u6570\u200b\u4e3a\u200b\\(702\\times 1\\)\u200b\u662f\u200b\u5982\u4f55\u200b\u5f97\u5230\u200b\u7684\u200b\u3002</p> <ol> <li> <p>\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u5c55\u5e73\u200b\u540e\u200b\u5f97\u5230\u200b\\(351\\times1\\)\u200b\u7684\u200b\u7279\u5f81\u200b\u3002</p> </li> <li> <p>\u200b\u6709\u200b 2 \u200b\u4e2a\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u662f\u200b\u57fa\u4e8e\u200b\u53cc\u200b\u53d8\u91cf\u200b\u7684\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u662f\u200b\\(36\\times3\\)\u3002\u200b\u5176\u4ed6\u200b 5 \u200b\u4e2a\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u662f\u200b\\(9\\times3\\)\u3002</p> </li> <li> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u5c55\u5e73\u200b\u540e\u200b\u5f97\u5230\u200b\\((2\\times36+5\\times9)\\times3=117\\times3=351\\)\u200b\u7ef4\u200b\u7279\u5f81\u200b\u3002</p> </li> <li> <p>\u200b\u6c60\u5316\u5c42\u200b\u5c55\u5e73\u200b\u540e\u200b\u4e5f\u200b\u4f1a\u200b\u5f97\u5230\u200b\\(351\\times1\\)\u200b\u7684\u200b\u7279\u5f81\u200b\u3002</p> </li> <li> <p>\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u5c31\u662f\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u662f\u200b\\(117\\times3\\)\u3002</p> </li> <li>\u200b\u6c60\u5316\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b<code>stride</code>\u200b\u662f\u200b<code>len(index_list)-1</code>\\(=3\\)\uff0c\u200b\u5373\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\u3001\u200b\u5e73\u5747\u200b\u6c60\u5316\u200b\u548c\u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\u90fd\u200b\u5c06\u200b\\(117\\times3\\)\u200b\u8f6c\u6362\u200b\u4e3a\u200b\\(117\\times1\\)\u200b\u7684\u200b\u77e9\u9635\u200b\u3002</li> <li> <p>\u200b\u5c06\u200b 3 \u200b\u4e2a\u200b\\(117\\times1\\)\u200b\u7684\u200b\u77e9\u9635\u200b\u5c55\u5e73\u200b\u540e\u200b\uff0c\u200b\u5f97\u5230\u200b\\(3*117=351\\)\u200b\u7ef4\u200b\u7279\u5f81\u200b\u3002</p> </li> <li> <p>\u200b\u5c06\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u548c\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u5747\u200b\u5c55\u5e73\u200b\u540e\u200b\u518d\u200b\u62fc\u63a5\u200b\uff0c\u200b\u5f97\u5230\u200b\\(351+351=702\\)\u200b\u7ef4\u200b\u7279\u5f81\u200b\u3002</p> </li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u5168\u8fde\u63a5\u5c42","title":"\u5168\u200b\u8fde\u63a5\u200b\u5c42","text":"<p>\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u5305\u542b\u200b 30 \u200b\u4e2a\u200b\u795e\u7ecf\u5143\u200b\uff0c\u200b\u63a5\u53d7\u200b\u8f93\u5165\u200b\u4e3a\u200b\\(702\\times 1\\)\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u4e00\u4e2a\u200b\u9690\u85cf\u200b\u5c42\u200b\u8f6c\u6362\u200b\u4e3a\u200b\\(30\\times1\\)\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u7ecf\u8fc7\u200b RELU \u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u3001Dropout Rate \u200b\u4e3a\u200b 0.5\uff0c\u200b\u518d\u200b\u8f93\u51fa\u200b\u5230\u200b\\(1*1\\)\u200b\u7684\u200b\u795e\u7ecf\u5143\u200b\u4f5c\u4e3a\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002</p> Python<pre><code>data = self.fc1(data)  # N*30\ndata = self.relu(data)\ndata = self.dropout(data)\ndata = self.fc2(data)  # N*1\n# \u200b\u7ebf\u6027\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\uff0c\u200b\u65e0\u9700\u200b\u518d\u200b\u8fdb\u884c\u200b\u6fc0\u6d3b\u200b\ndata = data.to(torch.float)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u7ee7\u627fnnmodule\u7c7b\u6539\u5199\u524d\u5411\u4f20\u64adforward\u51fd\u6570","title":"\u7ee7\u627f\u200b<code>nn.module</code>\u200b\u7c7b\u200b\uff0c\u200b\u6539\u5199\u200b\u524d\u5411\u200b\u4f20\u64ad\u200b<code>forward</code>\u200b\u51fd\u6570","text":"<p>\u200b\u4e3a\u4e86\u200b\u8ba9\u200b\u6211\u4eec\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u51fd\u6570\u200b\u5728\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u80fd\u591f\u200b\u8fd0\u884c\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7ee7\u627f\u200b<code>nn.module</code>\u200b\u7c7b\u200b\u5e76\u200b\u6539\u5199\u200b\u524d\u5411\u200b\u4f20\u64ad\u200b<code>forward</code>\u200b\u51fd\u6570\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u81ea\u5b9a\u4e49\u7279\u5f81\u63d0\u53d6\u5c42\u6c60\u5316\u5c42\u7684\u4ee3\u7801\u5b9e\u73b0","title":"\u81ea\u5b9a\u4e49\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3001\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b<code>Inception</code>\u200b\u7c7b\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff08\u200b\u4ee5\u53ca\u200b\u968f\u540e\u200b\u7684\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\uff09\u3001\u200b\u6c60\u5316\u5c42\u200b\uff08\u200b\u4ee5\u53ca\u200b\u968f\u540e\u200b\u7684\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\uff09\uff0c\u200b\u5e76\u200b\u5c06\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u5c55\u5e73\u200b\u6210\u200b\\(702\\times 1\\)\u200b\u7684\u200b\u77e9\u9635\u200b\u3002</p> <p>\u200b\u5177\u4f53\u200b\u7684\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u5728\u200b\u524d\u9762\u200b\u5df2\u7ecf\u200b\u5b9a\u4e49\u200b\u8fc7\u200b\u4e86\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u518d\u200b\u8be6\u7ec6\u200b\u5c55\u5f00\u200b\u3002</p> Python<pre><code>class Inception(nn.Module):\n\"\"\"\n    Inception, \u200b\u7528\u4e8e\u200b\u63d0\u53d6\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7684\u200b\u7279\u5f81\u200b\uff0c\u200b\u5177\u4f53\u64cd\u4f5c\u200b\u5305\u62ec\u200b\uff1a\n    1. kernel_size \u200b\u548c\u200b stride \u200b\u5747\u200b\u4e3a\u200b d=10 \u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u5377\u79ef\u200b\u5c42\u200b\uff0c\u200b\u7528\u4e8e\u200b\u63d0\u53d6\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7684\u200b\u7279\u5f81\u200b\u3002\u200b\u5177\u4f53\u200b\u5305\u62ec\u200b\uff1a\n        1. ts_corr4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\n        2. ts_cov4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\n        3. ts_stddev4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\n        4. ts_zscore4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\n        5. ts_return4d: (X - delay(X, d))/delay(X, d)-1, \u200b\u5176\u4e2d\u200b delay(X, d) \u200b\u4e3a\u200b X \u200b\u5728\u200b d \u200b\u5929\u524d\u200b\u7684\u200b\u53d6\u503c\u200b\n        6. ts_decaylinear4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u52a0\u6743\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6743\u6570\u200b\u4e3a\u200b d, d \u2013 1, \u2026, 1\uff08\u200b\u6743\u6570\u200b\u4e4b\u200b\u548c\u200b\u5e94\u4e3a\u200b 1\uff0c\u200b\u9700\u200b\u8fdb\u884c\u200b\u5f52\u4e00\u5316\u200b\u5904\u7406\u200b\uff09\uff0c\u200b\u5176\u4e2d\u200b\u79bb\u200b\u73b0\u5728\u200b\u8d8a\u8fd1\u200b\u7684\u200b\u65e5\u5b50\u200b\u6743\u6570\u200b\u8d8a\u5927\u200b\n        7. ts_mean4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\n        \u200b\u5404\u200b\u64cd\u4f5c\u200b\u5f97\u5230\u200b\u7684\u200b\u5f20\u91cf\u200b\u7ef4\u6570\u200b\uff1a\n        1. \u200b\u7531\u4e8e\u200b\u6d89\u53ca\u200b\u4e24\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\uff0c\u200b\u56e0\u6b64\u200b ts_corr4d \u200b\u548c\u200b ts_cov4d \u200b\u7684\u200b\u8f93\u51fa\u200b\u4e3a\u200b N*1*36*3\n        2. \u200b\u5176\u4f59\u200b\u64cd\u4f5c\u200b\u5747\u200b\u53ea\u200b\u6d89\u53ca\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\u65f6\u5e8f\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8f93\u51fa\u200b\u4e3a\u200b N*1*9*3\n    2. \u200b\u5bf9\u200b\u7b2c\u200b 1 \u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\u8fdb\u884c\u200b Batch Normalization \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u4ecd\u200b\u4e3a\u200b N*1*36*3 \u200b\u6216\u200b N*1*9*3\n    3. \u200b\u5bf9\u4e8e\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u5f97\u5230\u200b\u7684\u200b\u5f20\u91cf\u200b\uff0ckernel_size \u200b\u4e3a\u200b 3 \u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u3002\u200b\u5177\u4f53\u200b\u5305\u62ec\u200b\uff1a\n        1. max_pool: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6700\u5927\u503c\u200b\n        2. avg_pool: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\n        3. min_pool: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\n        \u200b\u4ee5\u4e0a\u200b\u4e09\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u8f93\u51fa\u200b\u5747\u200b\u4e3a\u200b N*1*117*1\n    4. \u200b\u5bf9\u200b\u7b2c\u200b 3 \u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\u8fdb\u884c\u200b Batch Normalization \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u4ecd\u200b\u4e3a\u200b N*1*117*1\n    5. \u200b\u5c06\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u548c\u200b\u7b2c\u200b 4 \u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\u5c55\u5e73\u200b\u540e\u200b\u8fdb\u884c\u200b\u62fc\u63a5\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u5f20\u91cf\u200b\u7ef4\u6570\u200b\u4e3a\u200b N*(2*36*3+5*9*3+3*117) = N*702\n    \"\"\"\ndef __init__(self, combination, combination_rev, index_list):\n\"\"\"\n        combination: \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\n        combination_rev: \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\uff0c\u200b\u4e0e\u200b combination \u200b\u76f8\u53cd\u200b\n        index_list: \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\u7d22\u5f15\u200b\n        \"\"\"\nsuper(Inception, self).__init__()\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\nself.combination = combination\nself.combination_rev = combination_rev\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\u7d22\u5f15\u200b\nself.index_list = index_list\nself.d = len(index_list) - 1\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u540e\u200b\u7684\u200b Batch Normalization \u200b\u5c42\u200b\nself.bc1 = nn.BatchNorm2d(1)\nself.bc2 = nn.BatchNorm2d(1)\nself.bc3 = nn.BatchNorm2d(1)\nself.bc4 = nn.BatchNorm2d(1)\nself.bc5 = nn.BatchNorm2d(1)\nself.bc6 = nn.BatchNorm2d(1)\nself.bc7 = nn.BatchNorm2d(1)\n# \u200b\u6c60\u5316\u5c42\u200b\uff0c\u200b\u5c3a\u5ea6\u200b\u4e3a\u200b 1*d\nself.max_pool = nn.MaxPool2d(kernel_size=(1, self.d))\nself.avg_pool = nn.AvgPool2d(kernel_size=(1, self.d))\n# \u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u76f8\u53cd\u6570\u200b\u7684\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\uff0c\u200b\u540e\u7eed\u200b\u4f1a\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\nself.min_pool = nn.MaxPool2d(kernel_size=(1, self.d))\n# \u200b\u6c60\u5316\u200b\u64cd\u4f5c\u200b\u540e\u200b\u7684\u200b Batch Normalization \u200b\u5c42\u200b\nself.bc_pool1 = nn.BatchNorm2d(1)\nself.bc_pool2 = nn.BatchNorm2d(1)\nself.bc_pool3 = nn.BatchNorm2d(1)\ndef forward(self, data):\n\"\"\"\n        data: \u200b\u8f93\u5165\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b batch_size*1*9*30\n        \"\"\"\n# \u200b\u672c\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u4e3a\u200b batch_size*1*9*30, \u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u4e0d\u200b\u9700\u8981\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b detach() \u200b\u51fd\u6570\u200b\ndata = data.detach().cpu().numpy()\ncombination = self.combination\ncombination_rev = self.combination_rev\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\nconv1 = self.ts_corr4d(data, combination, combination_rev).to(torch.float)\nconv2 = self.ts_cov4d(data, combination, combination_rev).to(torch.float)\nconv3 = self.ts_stddev4d(data).to(torch.float)\nconv4 = self.ts_zcore4d(data).to(torch.float)\nconv5 = self.ts_return4d(data).to(torch.float)\nconv6 = self.ts_decaylinear4d(data).to(torch.float)\nconv7 = self.ts_mean4d(data).to(torch.float)\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u540e\u200b\u7684\u200b Batch Normalization\nbatch1 = self.bc1(conv1)\nbatch2 = self.bc2(conv2)\nbatch3 = self.bc3(conv3)\nbatch4 = self.bc4(conv4)\nbatch5 = self.bc5(conv5)\nbatch6 = self.bc6(conv6)\nbatch7 = self.bc7(conv7)\n# \u200b\u5728\u200b H \u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u7279\u5f81\u200b\u62fc\u63a5\u200b\nfeature = torch.cat(\n[batch1, batch2, batch3, batch4, batch5, batch6, batch7], axis=2\n)  # N*1*(2*36+5*9)*3 = N*1*117*3\n# \u200b\u540c\u65f6\u200b\u5c06\u200b\u7279\u5f81\u200b\u5c55\u5e73\u200b\uff0c\u200b\u51c6\u5907\u200b\u8f93\u5165\u200b\u5230\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\nfeature_flatten = feature.flatten(start_dim=1)  # N*(117*3) = N*351\n# \u200b\u5bf9\u200b\u591a\u901a\u9053\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u6c60\u5316\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6bcf\u5c42\u200b\u6c60\u5316\u200b\u540e\u9762\u200b\u90fd\u200b\u6709\u200b Batch Normalization\n# \u200b\u6700\u5927\u200b\u6c60\u5316\u200b\nmaxpool = self.max_pool(feature)  # N*1*117*1\nmaxpool = self.bc_pool1(maxpool)\n# \u200b\u5e73\u5747\u200b\u6c60\u5316\u200b\navgpool = self.avg_pool(feature)  # N*1*117*1\navgpool = self.bc_pool2(avgpool)\n# \u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\n# N*1*117*1, \u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u76f8\u53cd\u6570\u200b\u7684\u200b\u6700\u5927\u200b\u6c60\u5316\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\nminpool = -self.min_pool(-1 * feature)\nminpool = self.bc_pool3(minpool)\n# \u200b\u7279\u5f81\u200b\u62fc\u63a5\u200b\npool_cat = torch.cat(\n[maxpool, avgpool, minpool], axis=2\n)  # N*1*(3*117)*1 = N*1*351*1\n# \u200b\u5c06\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u7279\u5f81\u200b\u5c55\u5e73\u200b\npool_cat_flatten = pool_cat.flatten(start_dim=1)  # N*351\n# \u200b\u62fc\u63a5\u200b\u5c55\u5e73\u200b\u540e\u200b\u7684\u200b\u7279\u5f81\u200b\nfeature_final = torch.cat(\n[feature_flatten, pool_cat_flatten], axis=1\n)  # N*(351+351) = N*702\nreturn feature_final\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\ndef ts_corr4d(self, Matrix, combination, combination_rev):\n...\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\ndef ts_cov4d(self, Matrix, combination, combination_rev):\n...\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\ndef ts_stddev4d(self, Matrix):\n...\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\ndef ts_zcore4d(self, Matrix):\n...\n# (X - delay(X, d))/delay(X, d)-1, \u200b\u5176\u4e2d\u200b delay(X, d) \u200b\u4e3a\u200b X \u200b\u5728\u200b d \u200b\u5929\u524d\u200b\u7684\u200b\u53d6\u503c\u200b\ndef ts_return4d(self, Matrix):\n...\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u52a0\u6743\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6743\u6570\u200b\u4e3a\u200b d, d \u2013 1, \u2026, 1\uff08\u200b\u6743\u6570\u200b\u4e4b\u200b\u548c\u200b\u5e94\u4e3a\u200b 1, \u200b\u9700\u200b\u8fdb\u884c\u200b\u5f52\u4e00\u5316\u200b\u5904\u7406\u200b\uff09, \u200b\u5176\u4e2d\u200b\u79bb\u200b\u73b0\u5728\u200b\u8d8a\u8fd1\u200b\u7684\u200b\u65e5\u5b50\u200b\u6743\u6570\u200b\u8d8a\u5927\u200b\ndef ts_decaylinear4d(self, Matrix):\n...\n# \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\ndef ts_mean4d(self, Matrix):\n...\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u81ea\u5b9a\u4e49-alphanet-\u7684\u4ee3\u7801\u5b9e\u73b0","title":"\u81ea\u5b9a\u4e49\u200b AlphaNet \u200b\u7684\u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u6574\u5408\u200b\u524d\u9762\u200b\u7684\u200b\u5404\u5c42\u200b\uff0c\u200b\u5c01\u88c5\u200b\u5230\u200b AlphaNet \u200b\u4e2d\u200b\u3002</p> Python<pre><code>class AlphaNet(nn.Module):\ndef __init__(\nself, combination, combination_rev, index_list, fc1_num, fc2_num, dropout_rate\n):\nsuper(AlphaNet, self).__init__()\nself.combination = combination\nself.combination_rev = combination_rev\nself.fc1_num = fc1_num\nself.fc2_num = fc2_num\n# \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b Inception \u200b\u6a21\u5757\u200b\nself.Inception = Inception(combination, combination_rev, index_list)\n# \u200b\u4e24\u4e2a\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\nself.fc1 = nn.Linear(fc1_num, fc2_num)  # 702 -&gt; 30\nself.fc2 = nn.Linear(fc2_num, 1)  # 30 -&gt; 1\n# \u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\nself.relu = nn.ReLU()\n# dropout\nself.dropout = nn.Dropout(dropout_rate)\n# \u200b\u521d\u59cb\u5316\u200b\u6743\u91cd\u200b\nself._init_weights()\ndef _init_weights(self):\n# \u200b\u4f7f\u7528\u200b xavier \u200b\u7684\u200b\u5747\u5300\u5206\u5e03\u200b\u5bf9\u200b weights \u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\nnn.init.xavier_uniform_(self.fc1.weight)\nnn.init.xavier_uniform_(self.fc2.weight)\n# \u200b\u4f7f\u7528\u200b\u6b63\u6001\u5206\u5e03\u200b\u5bf9\u200b bias \u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\nnn.init.normal_(self.fc1.bias, std=1e-6)\nnn.init.normal_(self.fc2.bias, std=1e-6)\ndef forward(self, data):\ndata = self.Inception(data)  # N*702\ndata = self.fc1(data)  # N*30\ndata = self.relu(data)\ndata = self.dropout(data)\ndata = self.fc2(data)  # N*1\n# \u200b\u7ebf\u6027\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\uff0c\u200b\u65e0\u9700\u200b\u518d\u200b\u8fdb\u884c\u200b\u6fc0\u6d3b\u200b\ndata = data.to(torch.float)\nreturn data\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u4f7f\u7528torchsummary\u5305\u67e5\u770b\u7f51\u7edc\u7ed3\u6784","title":"\u4f7f\u7528\u200b<code>torchsummary</code>\u200b\u5305\u200b\u67e5\u770b\u200b\u7f51\u7edc\u7ed3\u6784","text":"Python<pre><code>from torchsummary import summary\ntest = AlphaNet(\ncombination, combination_rev, index_list, fc1_num=702, fc2_num=30, dropout_rate=0.5\n)\nsummary(test, input_size=(1, 9, 30))\n</code></pre> Text Only<pre><code>----------------------------------------------------------------\n        Layer (type)               Output Shape         Param #\n================================================================\n       BatchNorm2d-1             [-1, 1, 36, 3]               2\n       BatchNorm2d-2             [-1, 1, 36, 3]               2\n       BatchNorm2d-3              [-1, 1, 9, 3]               2\n       BatchNorm2d-4              [-1, 1, 9, 3]               2\n       BatchNorm2d-5              [-1, 1, 9, 3]               2\n       BatchNorm2d-6              [-1, 1, 9, 3]               2\n       BatchNorm2d-7              [-1, 1, 9, 3]               2\n         MaxPool2d-8            [-1, 1, 117, 1]               0\n       BatchNorm2d-9            [-1, 1, 117, 1]               2\n        AvgPool2d-10            [-1, 1, 117, 1]               0\n      BatchNorm2d-11            [-1, 1, 117, 1]               2\n        MaxPool2d-12            [-1, 1, 117, 1]               0\n      BatchNorm2d-13            [-1, 1, 117, 1]               2\n        Inception-14                  [-1, 702]               0\n           Linear-15                   [-1, 30]          21,090\n             ReLU-16                   [-1, 30]               0\n          Dropout-17                   [-1, 30]               0\n           Linear-18                    [-1, 1]              31\n================================================================\nTotal params: 21,141\nTrainable params: 21,141\nNon-trainable params: 0\n----------------------------------------------------------------\nInput size (MB): 0.00\nForward/backward pass size (MB): 0.01\nParams size (MB): 0.08\nEstimated Total Size (MB): 0.10\n----------------------------------------------------------------\n</code></pre> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u4e0d\u200b\u9700\u8981\u200b\u8bad\u7ec3\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u6309\u7167\u200b\u89c4\u5b9a\u200b\u7684\u200b\u8fd0\u7b97\u200b\u51fd\u6570\u200b\u5b8c\u6210\u200b\u524d\u5411\u200b\u4f20\u64ad\u200b\u5373\u53ef\u200b\u3002\u200b\u540c\u6837\u200b\u5730\u200b\uff0c\u200b\u6c60\u5316\u5c42\u200b\u4e5f\u200b\u4e0d\u200b\u9700\u8981\u200b\u8bad\u7ec3\u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u9700\u8981\u200b\u8bad\u7ec3\u200b\u7684\u200b\u53c2\u6570\u200b\u6765\u81ea\u200b\uff1a\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\\(\\gamma\\)\u200b\u548c\u200b\\(\\beta\\)\uff0c\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7684\u200b weight \u200b\u548c\u200b bias\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8f7d\u5165\u6570\u636e","title":"\u8f7d\u5165\u200b\u6570\u636e","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u7ee7\u627fdataset\u7c7b\u6539\u5199__getitem__","title":"\u7ee7\u627f\u200b<code>Dataset</code>\u200b\u7c7b\u200b\uff0c\u200b\u6539\u5199\u200b<code>__getitem__</code>","text":"Python<pre><code>class FactorData(Dataset):\ndef __init__(self, train_x, train_y):\nself.len = len(train_x)\nself.x_data = train_x\nself.y_data = train_y\ndef __getitem__(self, index):\n\"\"\"\n        \u200b\u6307\u5b9a\u200b\u8bfb\u53d6\u6570\u636e\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u6839\u636e\u200b\u7d22\u5f15\u200b index \u200b\u8fd4\u56de\u200b dataset[index]\n        \"\"\"\nreturn self.x_data[index], self.y_data[index]\ndef __len__(self):\nreturn self.len\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8bbe\u5b9a-batch-size","title":"\u8bbe\u5b9a\u200b Batch Size","text":"Python<pre><code>batch_size = 1000\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u5c06\u6570\u636e\u8f7d\u5165\u5230-dataloader-\u4e2d","title":"\u5c06\u200b\u6570\u636e\u200b\u8f7d\u5165\u200b\u5230\u200b DataLoader \u200b\u4e2d","text":"Python<pre><code># \u200b\u5c06\u200b\u6570\u636e\u200b\u8f7d\u5165\u200b\u5230\u200b DataLoader \u200b\u4e2d\u200b\ntrain_data = FactorData(trainx, trainy)\ntrain_loader = DataLoader(\ndataset=train_data, batch_size=batch_size, shuffle=False\n)  # \u200b\u4e0d\u200b\u6253\u4e71\u200b\u6570\u636e\u200b\u96c6\u200b\ntest_data = FactorData(testx, testy)\ntest_loader = DataLoader(\ndataset=test_data, batch_size=batch_size, shuffle=False\n)  # \u200b\u4e0d\u200b\u6253\u4e71\u200b\u6570\u636e\u200b\u96c6\u200b\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8bad\u7ec3\u548c\u6d4b\u8bd5\u6a21\u578b","title":"\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u6a21\u578b","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u5c06-alphanet-\u5b9e\u4f8b\u5316","title":"\u5c06\u200b AlphaNet \u200b\u5b9e\u4f8b\u200b\u5316","text":"Python<pre><code># \u200b\u6784\u5efa\u200b\u6a21\u578b\u200b\nalphanet = AlphaNet(\ncombination=combination,\ncombination_rev=combination_rev,\nindex_list=index_list,\nfc1_num=702,\nfc2_num=30,\ndropout_rate=0.5,\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8bbe\u5b9a\u4f18\u5316\u5668","title":"\u8bbe\u5b9a\u200b\u4f18\u5316\u200b\u5668","text":"Python<pre><code>weight_list, bias_list = [], []\nfor name, p in alphanet.named_parameters():\n# \u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b bias \u200b\u53c2\u6570\u200b\u653e\u5165\u200b bias_list \u200b\u4e2d\u200b\nif \"bias\" in name:\nbias_list += [p]\n# \u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b weight \u200b\u53c2\u6570\u200b\u653e\u5165\u200b weight_list \u200b\u4e2d\u200b\nelse:\nweight_list += [p]\n# weight decay: \u200b\u5bf9\u200b\u6240\u6709\u200b weight \u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b L2 \u200b\u6b63\u5219\u200b\u5316\u200b\noptimizer = optim.RMSprop(\n[\n{\"params\": weight_list, \"weight_decay\": 1e-5},\n{\"params\": bias_list, \"weight_decay\": 0},\n],\nlr=1e-4,\nmomentum=0.9,\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8bbe\u5b9a\u635f\u5931\u51fd\u6570\u4e3a\u5747\u65b9\u8bef\u5dee-mse","title":"\u8bbe\u5b9a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4e3a\u5747\u65b9\u200b\u8bef\u5dee\u200b MSE","text":"Python<pre><code># \u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4e3a\u5747\u65b9\u200b\u8bef\u5dee\u200b MSE\ncriterion = nn.MSELoss()\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u8bad\u7ec3\u548c\u6d4b\u8bd5\u6a21\u578b_1","title":"\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u6a21\u578b","text":"<p>\u200b\u7531\u4e8e\u200b AlphaNet-V1 \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u8f83\u4e3a\u7b80\u5355\u200b\uff0c\u200b\u6a21\u578b\u200b\u5728\u200b 5 \u200b\u5230\u200b 10 \u200b\u4e2a\u200b Epoch \u200b\u7684\u200b\u8bad\u7ec3\u200b\u540e\u200b\u5373\u200b\u6536\u655b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u8bbe\u5b9a\u200b\u8bad\u7ec3\u200b\u8f6e\u6b21\u200b<code>epoch_num</code>\u200b\u4e3a\u200b 5\u3002</p> <p>\u200b\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u6a21\u578b\u200b\u7684\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>epoch_num = 5\ntrain_loss_list = []\ntest_loss_list = []\nbest_test_epoch, best_test_loss = 0, np.inf\nseed = 0\nfor epoch in range(1, epoch_num + 1):\ntrain_loss, test_loss = 0, 0\n# \u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nalphanet.train()  # \u200b\u5173\u4e8e\u200b\u3002train() \u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://stackoverflow.com/questions/51433378/what-does-model-train-do-in-pytorch\ntrain_batch_num = 0\nfor data, label in tqdm(train_loader, f\"Epoch {epoch}-train\", leave=False):\ntrain_batch_num += 1\n# \u200b\u51c6\u5907\u200b\u6570\u636e\u200b\ndata, label = data.to(torch.float), label.to(torch.float)\n# \u200b\u5f97\u5230\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\nout_put = alphanet(data)\n# \u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\nloss = criterion(out_put, label)\n# \u200b\u5c06\u200b\u635f\u5931\u200b\u503c\u200b\u52a0\u5165\u200b\u5230\u200b\u672c\u8f6e\u200b\u8bad\u7ec3\u200b\u7684\u200b\u635f\u5931\u200b\u4e2d\u200b\ntrain_loss += loss.item()\n# \u200b\u68af\u5ea6\u200b\u6e05\u96f6\u200b\noptimizer.zero_grad()  # \u200b\u5173\u4e8e\u200b\u3002zero_grad() \u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://stackoverflow.com/questions/48001598/why-do-we-need-to-call-zero-grad-in-pytorch\n# \u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u6c42\u89e3\u200b\u68af\u5ea6\u200b\nloss.backward()\n# \u200b\u66f4\u65b0\u200b\u6743\u91cd\u200b\u53c2\u6570\u200b\noptimizer.step()\n# \u200b\u6d4b\u8bd5\u200b\u6a21\u5f0f\u200b\nalphanet.eval()\ntest_batch_num = 0\nwith torch.no_grad():\nfor data, label in tqdm(test_loader, f\"Epoch {epoch}-test \", leave=False):\ntest_batch_num += 1\ndata, label = data.to(torch.float), label.to(torch.float)\n# \u200b\u5f97\u5230\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\ny_pred = alphanet(data)\n# \u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\nloss = criterion(y_pred, label)\n# \u200b\u5c06\u200b\u635f\u5931\u200b\u503c\u200b\u52a0\u5165\u200b\u5230\u200b\u672c\u8f6e\u200b\u6d4b\u8bd5\u200b\u7684\u200b\u635f\u5931\u200b\u4e2d\u200b\ntest_loss += loss.item()\ntrain_loss_list.append(train_loss / train_batch_num)\ntest_loss_list.append(test_loss / test_batch_num)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u7ed8\u5236\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u635f\u5931\u7684\u53d8\u5316","title":"\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u635f\u5931\u200b\u7684\u200b\u53d8\u5316","text":"Python<pre><code># \u200b\u753b\u51fa\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u53d8\u5316\u200b\nfig = plt.figure(figsize=(9, 6))\n# \u200b\u5b57\u53f7\u200b\nplt.rcParams[\"font.size\"] = 16\nax = fig.add_subplot(111)\nax.plot(range(1, epoch_num + 1), train_loss_list, \"r\", label=\"train loss\")\nax.plot(range(1, epoch_num + 1), test_loss_list, \"b\", label=\"test loss\")\n# \u200b\u8bbe\u7f6e\u200b x \u200b\u8f74\u200b\u523b\u5ea6\u200b\u4e3a\u200b\u6574\u6570\u200b\nax.xaxis.set_major_locator(ticker.MultipleLocator(1))\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u8303\u56f4\u200b\nax.set_ylim(bottom=0, top=0.1)\nax.legend()\nax.set_xlabel(\"Epoch\")\nax.set_ylabel(\"MSE Loss\")\nplt.show()\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u6d4b\u8bd5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u5728\u200b\u8bad\u7ec3\u200b 5 \u200b\u8f6e\u200b\u5de6\u53f3\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u6536\u655b\u200b\uff0c\u200b\u635f\u5931\u200b\u5df2\u200b\u4e0d\u518d\u200b\u4e0b\u964d\u200b\u3002\u200b\u4e3a\u4e86\u200b\u63a2\u7a76\u200b\u6a21\u578b\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\uff0c\u200b\u6211\u4eec\u200b\u63a5\u4e0b\u6765\u200b\u6bd4\u8f83\u200b\u90e8\u5206\u200b\u6837\u672c\u200b\u6807\u7b7e\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u7684\u6bd4\u8f83","title":"\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u6bd4\u8f83","text":"<p>\u200b\u4e3a\u200b\u65b9\u4fbf\u200b\u67e5\u770b\u200b\uff0c\u200b\u6211\u4eec\u200b\u622a\u53d6\u200b\u6700\u540e\u200b\u4e00\u6279\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b\u524d\u200b 200 \u200b\u4e2a\u200b\u6837\u672c\u200b\uff0c\u200b\u5bf9\u6bd4\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u503c\u200b\u3002</p> Python<pre><code># \u200b\u7ed8\u5236\u200b\u90e8\u5206\u200b\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\ny_pred = y_pred.detach().numpy()\nlabel = label.detach().numpy()\n# \u200b\u622a\u53d6\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\npart = range(0, 200)\nplt.plot(y_pred[part], label=\"pred\")\nplt.plot(label[part], label=\"true\")\nplt.legend()\nplt.show()\n</code></pre> <p></p> <p>AlphaNet-V1 \u200b\u7ed9\u51fa\u200b\u7684\u200b\u6807\u7b7e\u200b\u9884\u6d4b\u503c\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u4e3a\u200b\u5e38\u6570\u200b\uff0c\u200b\u53ea\u200b\u5728\u200b\u5c11\u90e8\u5206\u200b\u6837\u672c\u200b\u70b9\u6709\u200b\u7a81\u51fa\u200b\u503c\u200b\uff0c\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u7406\u60f3\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u9884\u6d4b\u503c\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u6807\u7b7e\u200b\u9884\u6d4b\u503c\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u4e3a\u200b\u5e38\u6570\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6211\u200b\u63a8\u6d4b\u200b\u539f\u56e0\u200b\u53ef\u80fd\u200b\u662f\u200b\uff1a</p> <ol> <li>AlphaNet-V1 \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u8f83\u200b\u7b80\u5355\u200b\uff0c\u200b\u53ea\u200b\u4f7f\u7528\u200b\u4e86\u200b 7 \u200b\u4e2a\u200b\u5e73\u884c\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u30013 \u200b\u4e2a\u200b\u5e73\u884c\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u3002\u200b\u7b80\u5355\u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u9650\u5236\u200b\u4e86\u200b\u53c2\u6570\u200b\u7684\u200b\u9009\u62e9\u200b\u8303\u56f4\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u51cf\u5c11\u200b\u635f\u5931\u200b\uff0c\u200b\u6a21\u578b\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u503e\u5411\u200b\u4e8e\u200b\u9009\u62e9\u200b\u5e38\u6570\u200b\u4f5c\u4e3a\u200b\u6807\u7b7e\u200b\u9884\u6d4b\u503c\u200b\u3002</li> <li>AlphaNet-V1 \u200b\u7528\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u901a\u8fc7\u200b\u53d6\u200b\u6700\u5927\u200b\u3001\u200b\u5e73\u5747\u200b\u548c\u200b\u6700\u5c0f\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c06\u200b 3 \u200b\u4e2a\u200b\u5728\u200b\u65f6\u5e8f\u200b\u503c\u200b\u8f6c\u6362\u200b\u4e3a\u200b 1 \u200b\u4e2a\u503c\u200b\u3002\u200b\u800c\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u65f6\u5e8f\u200b\u503c\u200b\u4ecd\u7136\u200b\u5177\u6709\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f46\u200b\u7b80\u5355\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u4f1a\u200b\u4e27\u5931\u200b\u8fd9\u4e00\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u4fdd\u5b58\u6a21\u578b","title":"\u4fdd\u5b58\u200b\u6a21\u578b","text":"<p>\u200b\u5c06\u200b\u6a21\u578b\u200b\u7684\u200b\u7ed3\u6784\u200b\u548c\u200b\u53c2\u6570\u5747\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u4f7f\u7528\u200b\u3002</p> Python<pre><code># \u200b\u4fdd\u5b58\u200b\u6a21\u578b\u200b\ntorch.save(alphanet, \"alphanet_v1_pool.pth\")\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet/#\u6539\u8fdb\u65b9\u5411","title":"\u6539\u8fdb\u200b\u65b9\u5411","text":"<p>\u200b\u540e\u7eed\u200b\u6211\u4eec\u200b\u5c06\u200b\u4ece\u200b\u4e24\u4e2a\u200b\u65b9\u5411\u200b\u5bf9\u200b AlphaNet-V1 \u200b\u8fdb\u884c\u200b\u6539\u8fdb\u200b\uff1a</p> <ol> <li>\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3002AlphaNet-V1 \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u8f83\u200b\u7b80\u5355\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u5728\u200b AlphaNet-V3 \u200b\u7248\u672c\u200b\u4e2d\u200b\u52a0\u5165\u200b\u4e0d\u540c\u200b\u6b65\u957f\u200b<code>stride</code>\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u73b0\u6709\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53ef\u4ee5\u200b\u8bb0\u5fc6\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\u7684\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\u3002</li> <li>\u200b\u8c03\u6574\u200b\u6807\u7b7e\u200b\u503c\u200b\u3002AlphaNet-V1 \u200b\u9884\u6d4b\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b\u662f\u200b\u4e2a\u80a1\u200b\u5728\u200b\u672a\u6765\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u5728\u200b AlphaNet-V3 \u200b\u7248\u672c\u200b\u4e2d\u5c06\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6da8\u8dcc\u200b\u65b9\u5411\u200b\uff081 \u200b\u4ee3\u8868\u200b\u4e0a\u6da8\u200b\uff0c\u200b\u5373\u200b\u6536\u76ca\u7387\u200b\u5927\u4e8e\u200b 0\uff1b0 \u200b\u4ee3\u8868\u200b\u4e0d\u53d8\u200b\u6216\u200b\u4e0b\u8dcc\u200b\uff0c\u200b\u5373\u200b\u6536\u76ca\u7387\u200b\u5c0f\u4e8e\u200b\u6216\u200b\u7b49\u4e8e\u200b 0\uff09\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u65b9\u5411\u200b\uff081 \u200b\u4ee3\u8868\u200b\u6536\u76ca\u7387\u200b\u5927\u4e8e\u200b\u5f53\u6279\u200b\u7684\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b\uff0c0 \u200b\u4ee3\u8868\u200b\u6536\u76ca\u7387\u200b\u5c0f\u4e8e\u200b\u6216\u200b\u7b49\u4e8e\u200b\u5f53\u6279\u200b\u7684\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b\uff09\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/","title":"AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807","text":"<p>\u200b\u5728\u200b AlphaNet-V1 \u200b\u52a0\u5165\u200b\u591a\u200b\u6b65\u957f\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u5c06\u200b\u6c60\u5316\u200b\u5c42\u66ff\u6362\u200b\u4e3a\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\uff0c\u200b\u5e76\u200b\u5c1d\u8bd5\u200b\u9884\u6d4b\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u65b9\u5411\u200b\u3002\u200b\u6700\u540e\u200b\u5c06\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u4f5c\u4e3a\u200b baseline \u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u3002</p> <p> </p> AlphaNet-V3 \u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b <p>\u200b\u4e0a\u200b\u4e00\u7bc7\u200b\u6587\u7ae0\u200b \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6784\u5efa\u200b\u4e86\u200b AlphaNet-V1 \u200b\u6a21\u578b\u200b\uff0c\u200b\u8be5\u200b\u6a21\u578b\u200b\u4f7f\u7528\u200b\u56fa\u5b9a\u200b\u6b65\u957f\u200b<code>stride=10</code>\u200b\u8fdb\u884c\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\uff08\u200b\u5305\u62ec\u200b\u76f8\u5173\u7cfb\u6570\u200b<code>ts_corr</code>\u3001\u200b\u6807\u51c6\u5dee\u200b<code>ts_stddev</code>\u200b\u7b49\u200b 7 \u200b\u4e2a\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\uff09\uff0c\u200b\u8fdb\u884c\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u540e\u200b\u8fdb\u884c\u200b\u6700\u5927\u200b\u3001\u200b\u5e73\u5747\u200b\u548c\u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\uff0c\u200b\u5c06\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u548c\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u5c55\u5e73\u200b\u540e\u200b\u8fde\u63a5\u200b\uff0c\u200b\u6700\u540e\u200b\u7ecf\u8fc7\u200b\u4e00\u4e2a\u200b\u5168\u200b\u8fde\u63a5\u200b\u9690\u85cf\u200b\u5c42\u200b\u8f93\u51fa\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u3002</p> <p>\u200b\u5728\u200b\u5b9e\u8bc1\u200b\u68c0\u9a8c\u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b AlphaNet-V1 \u200b\u7ed9\u51fa\u200b\u7684\u200b\u6807\u7b7e\u200b\u9884\u6d4b\u503c\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u4e3a\u200b\u5e38\u6570\u200b\uff0c\u200b\u53ea\u200b\u5728\u200b\u5c11\u90e8\u5206\u200b\u6837\u672c\u200b\u70b9\u6709\u200b\u7a81\u51fa\u200b\u503c\u200b\uff0c\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u7406\u60f3\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u9884\u6d4b\u503c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u672c\u6587\u200b\u5c1d\u8bd5\u200b\u5bf9\u200b AlphaNet-V1 \u200b\u8fdb\u884c\u200b\u4e24\u200b\u65b9\u9762\u200b\u7684\u200b\u6539\u8fdb\u200b\uff1a</p> <ol> <li>\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3002AlphaNet-V1 \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u8f83\u200b\u7b80\u5355\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u5728\u200b AlphaNet-V3 \u200b\u7248\u672c\u200b\u4e2d\u200b\u52a0\u5165\u200b\u4e0d\u540c\u200b\u6b65\u957f\u200b<code>stride</code>\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u73b0\u6709\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53ef\u4ee5\u200b\u8bb0\u5fc6\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\u7684\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\u3002</li> <li>\u200b\u8c03\u6574\u200b\u6807\u7b7e\u200b\u503c\u200b\u3002AlphaNet-V1 \u200b\u9884\u6d4b\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b\u662f\u200b\u4e2a\u80a1\u200b\u5728\u200b\u672a\u6765\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u5728\u200b AlphaNet-V3 \u200b\u7248\u672c\u200b\u4e2d\u5c06\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6da8\u8dcc\u200b\u65b9\u5411\u200b\uff081 \u200b\u4ee3\u8868\u200b\u4e0a\u6da8\u200b\uff0c\u200b\u5373\u200b\u6536\u76ca\u7387\u200b\u5927\u4e8e\u200b 0\uff1b0 \u200b\u4ee3\u8868\u200b\u4e0d\u53d8\u200b\u6216\u200b\u4e0b\u8dcc\u200b\uff0c\u200b\u5373\u200b\u6536\u76ca\u7387\u200b\u5c0f\u4e8e\u200b\u6216\u200b\u7b49\u4e8e\u200b 0\uff09\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u65b9\u5411\u200b\uff081 \u200b\u4ee3\u8868\u200b\u6536\u76ca\u7387\u200b\u5927\u4e8e\u200b\u5f53\u6279\u200b\u7684\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b\uff0c0 \u200b\u4ee3\u8868\u200b\u6536\u76ca\u7387\u200b\u5c0f\u4e8e\u200b\u6216\u200b\u7b49\u4e8e\u200b\u5f53\u6279\u200b\u7684\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b\uff09\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u642d\u5efa-alphanet-v3","title":"\u642d\u5efa\u200b AlphaNet-V3","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u52a0\u5165\u591a\u6b65\u957f\u7684\u7279\u5f81\u63d0\u53d6\u5c42","title":"\u52a0\u5165\u200b\u591a\u200b\u6b65\u957f\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42","text":"<p>AlphaNet-V1 \u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u4e2d\u200b\uff0c\u200b\u56fa\u5b9a\u200b\u6b65\u957f\u200b<code>stride=10</code>\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8bbe\u5b9a\u200b\u5176\u4ed6\u200b\u7684\u200b\u6b65\u957f\u200b\uff0c\u200b\u62d3\u5bbd\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u52a0\u5165\u200b\u6b65\u957f\u200b<code>stride=3</code>\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u4ecd\u200b\u4f7f\u7528\u200b AlphaNet-V1 \u200b\u4e2d\u200b\u7684\u200b 7 \u200b\u4e2a\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u6b65\u957f\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7d22\u5f15\u200b\u5217\u8868\u200b\u4e5f\u200b\u53d1\u751f\u200b\u4e86\u200b\u53d8\u5316\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u751f\u6210\u200b\u4e24\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b<code>index_list</code>\uff0c\u200b\u4f9b\u200b\u4e24\u4e2a\u200b\u6b65\u957f\u200b\u4e0d\u540c\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u4f7f\u7528\u200b\u3002</p> Python<pre><code># \u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u7684\u200b\u77e9\u9635\u200b\u548c\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7d22\u5f15\u200b\ndef get_index_list(matrix, stride):\n\"\"\"\n    args:\n        matrix: torch.tensor, the input matrix\n        stride: int, the stride of the convolution operation\n    return:\n        index_list: list, the index of the convolution operation\n    \"\"\"\nW = matrix.shape[3]\nif W % stride == 0:\nindex_list = list(np.arange(0, W + stride, stride))\nelse:\nmod = W % stride\nindex_list = list(np.arange(0, W + stride - mod, stride)) + [W]\nreturn index_list\n# \u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u7684\u200b\u77e9\u9635\u200b\u548c\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7d22\u5f15\u200b\n# inception1 \u200b\u6a21\u5757\u200b\u4f7f\u7528\u200b\u7684\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\u4e3a\u200b 10\nindex_list_1 = get_index_list(np.zeros((1, 1, 9, 30)), 10)\n# inception2 \u200b\u6a21\u5757\u200b\u4f7f\u7528\u200b\u7684\u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u6b65\u957f\u200b\u4e3a\u200b 3\nindex_list_2 = get_index_list(np.zeros((1, 1, 9, 30)), 3)\n</code></pre> <p></p> <p>\u200b\u5728\u200b AlphaNet-V1 \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u7f16\u5199\u200b\u4e86\u200b<code>Inception</code>\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4e0d\u540c\u200b\u7684\u200b<code>index_list</code>\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u4f20\u5165\u200b<code>index_list_2</code>\u200b\u5373\u53ef\u200b\u5b9e\u73b0\u200b\u6b65\u957f\u200b\u4e3a\u200b<code>stride=3</code>\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002</p> Python<pre><code>class AlphaNet(nn.Module):\ndef __init__(\nself, combination, combination_rev, index_list_1, index_list_2, fc_num\n):\nsuper(AlphaNet, self).__init__()\nself.combination = combination\nself.combination_rev = combination_rev\n# \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b Inception1 \u200b\u6a21\u5757\u200b\nself.Inception_1 = Inception(combination, combination_rev, index_list_1)\n# \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b Inception2 \u200b\u6a21\u5757\u200b\nself.Inception_2 = Inception(combination, combination_rev, index_list_2)\n# \u200b\u8f93\u51fa\u200b\u5c42\u200b\nself.fc = nn.Linear(fc_num, 1)  # 30 -&gt; 1\n# \u200b\u521d\u59cb\u5316\u200b\u6743\u91cd\u200b\nself._init_weights()\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u5b8c\u6210\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u5e73\u884c\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u5c06\u6c60\u5316\u5c42\u66ff\u6362\u4e3a\u95e8\u63a7\u5faa\u73af\u5355\u5143gru","title":"\u5c06\u200b\u6c60\u5316\u200b\u5c42\u66ff\u6362\u200b\u4e3a\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09","text":"<p>AlphaNet-V1 \u200b\u4e2d\u200b\u7684\u200b\u6c60\u5316\u5c42\u200b\u4ec5\u200b\u662f\u200b\u5c06\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u5728\u200b\u65f6\u5e8f\u200b\u4e0a\u53d6\u200b\u6700\u5927\u200b\u3001\u200b\u5e73\u5747\u200b\u548c\u200b\u6700\u5c0f\u200b\u6c60\u5316\u200b\u3002\u200b\u82e5\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u4e2d\u200b\u7684\u200b\u6b65\u957f\u200b<code>stride=10</code>\uff0c\u200b\u5219\u200b\u6c60\u5316\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u5c06\u200b\u65f6\u5e8f\u200b\u4e0a\u200b\u7684\u200b 3 \u200b\u4e2a\u503c\u200b\u53d6\u200b\u6700\u5927\u200b\u3001\u200b\u5e73\u5747\u200b\u548c\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b 1 \u200b\u4e2a\u503c\u200b\u3002\u200b\u8fd9\u6837\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e27\u5931\u200b\u4e86\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u5f97\u5230\u200b\u7684\u200b 3 \u200b\u4e2a\u503c\u200b\u672c\u8eab\u200b\u7684\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\u3002</p> <p></p> <p>\u200b\u4e3a\u4e86\u200b\u4fdd\u7559\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u5f97\u5230\u200b\u7684\u200b\u8f93\u51fa\u200b\u672c\u8eab\u200b\u7684\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u6c60\u5316\u5c42\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7684\u200b\u4e00\u79cd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u65f6\u5e8f\u200b\u8f93\u5165\u200b\uff0c\u200b\u5e76\u200b\u8f93\u51fa\u200b\u5e26\u6709\u200b\u65f6\u5e8f\u200b\u8bb0\u5fc6\u200b\u7684\u200b\u9690\u85cf\u200b\u72b6\u6001\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b GRU \u200b\u5c42\u200b\u7684\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\u3002\u200b\u7531\u4e8e\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u5c06\u200b\u5f97\u5230\u200b\u7ef4\u6570\u200b\u4e3a\u200b\\(117\\times3\\)\u200b\u6216\u200b\\(117\\times10\\)\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u8bbe\u5b9a\u200b<code>input_size=117</code>\u3002<code>num_layers</code>\u200b\u8bbe\u200b\u4e3a\u200b 2\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u8f93\u51fa\u200b\u662f\u200b\u5e26\u6709\u200b\u65f6\u5e8f\u200b\u8bb0\u5fc6\u200b\u7684\u200b\u9690\u85cf\u200b\u72b6\u6001\u200b\u3002\u200b\u6700\u7ec8\u200b\u5c06\u200b\u5f97\u5230\u200b\u7ef4\u6570\u200b\u4e3a\u200b\\(30\\)\u200b\u7684\u200b\u77e9\u9635\u200b\u3002</p> Python<pre><code>class GRU(nn.Module):\ndef __init__(self):\nsuper(GRU, self).__init__()\nself.gru = nn.GRU(\ninput_size=117,\nhidden_size=30,\nnum_layers=2,\nbatch_first=True,\nbidirectional=False,\n)\ndef forward(self, data):\n# N*time_step*117 -&gt; output: torch.Size([1000, time_step, 30]), hn: torch.Size([2, 1000, 30]), \u200b\u5bf9\u4e8e\u200b Inception1, time_step=3, \u200b\u5bf9\u4e8e\u200b Inception2, time_step=10\noutput, hn = self.gru(data)\nh = hn[-1:]  # \u200b\u4f7f\u7528\u200b\u6700\u540e\u200b\u4e00\u5c42\u200b hidden state \u200b\u7684\u200b\u8f93\u51fa\u200b\uff0ch: torch.Size([1, 1000, 30])\ndata = h.squeeze(0)  # torch.Size([1000, 30])\nreturn data  # torch.Size([1000, 30])\n</code></pre> <p>\u200b\u5c06\u200b GRU \u200b\u5c42\u200b\u5d4c\u5165\u200b\u5230\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b<code>Inception</code>\u200b\u7c7b\u4e2d\u200b\uff1a</p> Python<pre><code>class Inception(nn.Module):\n\"\"\"\n    Inception, \u200b\u7528\u4e8e\u200b\u63d0\u53d6\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7684\u200b\u7279\u5f81\u200b\uff0c\u200b\u5177\u4f53\u64cd\u4f5c\u200b\u5305\u62ec\u200b\uff1a\n    1. kernel_size \u200b\u548c\u200b stride \u200b\u4e3a\u200b d=10 \u200b\u6216\u200b 3 \u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u5377\u79ef\u200b\u5c42\u200b\uff0c\u200b\u7528\u4e8e\u200b\u63d0\u53d6\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7684\u200b\u7279\u5f81\u200b\u3002\u200b\u5177\u4f53\u200b\u5305\u62ec\u200b\uff1a\uff08\u200b\u4e0b\u9762\u200b\u4ee5\u200b d=10 \u200b\u4e3a\u4f8b\u200b\uff09\n        1. ts_corr4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\n        2. ts_cov4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u548c\u200b Y \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\n        3. ts_stddev4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\n        4. ts_zscore4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u9664\u4ee5\u200b\u6807\u51c6\u5dee\u200b\n        5. ts_return4d: (X - delay(X, d))/delay(X, d)-1, \u200b\u5176\u4e2d\u200b delay(X, d) \u200b\u4e3a\u200b X \u200b\u5728\u200b d \u200b\u5929\u524d\u200b\u7684\u200b\u53d6\u503c\u200b\n        6. ts_decaylinear4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u52a0\u6743\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6743\u6570\u200b\u4e3a\u200b d, d \u2013 1, \u2026, 1\uff08\u200b\u6743\u6570\u200b\u4e4b\u200b\u548c\u200b\u5e94\u4e3a\u200b 1\uff0c\u200b\u9700\u200b\u8fdb\u884c\u200b\u5f52\u4e00\u5316\u200b\u5904\u7406\u200b\uff09\uff0c\u200b\u5176\u4e2d\u200b\u79bb\u200b\u73b0\u5728\u200b\u8d8a\u8fd1\u200b\u7684\u200b\u65e5\u5b50\u200b\u6743\u6570\u200b\u8d8a\u5927\u200b\n        7. ts_mean4d: \u200b\u8fc7\u53bb\u200b d \u200b\u5929\u200b X \u200b\u503c\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u6570\u5217\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\n        \u200b\u5404\u200b\u64cd\u4f5c\u200b\u5f97\u5230\u200b\u7684\u200b\u5f20\u91cf\u200b\u7ef4\u6570\u200b\uff1a\n        1. \u200b\u7531\u4e8e\u200b\u6d89\u53ca\u200b\u4e24\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\uff0c\u200b\u56e0\u6b64\u200b ts_corr4d \u200b\u548c\u200b ts_cov4d \u200b\u7684\u200b\u8f93\u51fa\u200b\u4e3a\u200b N*1*36*3\n        2. \u200b\u5176\u4f59\u200b\u64cd\u4f5c\u200b\u5747\u200b\u53ea\u200b\u6d89\u53ca\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\u65f6\u5e8f\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8f93\u51fa\u200b\u4e3a\u200b N*1*9*3\n    2. \u200b\u5bf9\u200b\u7b2c\u200b 1 \u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\u8fdb\u884c\u200b Batch Normalization \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u4ecd\u200b\u4e3a\u200b N*1*36*3 \u200b\u6216\u200b N*1*9*3\n    3. \u200b\u5bf9\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5728\u200b H \u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u62fc\u63a5\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u4e3a\u200b N*1*(2*36+5*9)*3 = N*1*117*3\n    4. \u200b\u5bf9\u200b\u7b2c\u200b 3 \u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4f7f\u7528\u200b GRU \u200b\u8fdb\u884c\u200b\u7279\u5f81\u63d0\u53d6\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7ef4\u6570\u200b\u4e3a\u200b N*30\n    \"\"\"\ndef __init__(self, combination, combination_rev, index_list):\n\"\"\"\n        combination: \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\n        combination_rev: \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\uff0c\u200b\u4e0e\u200b combination \u200b\u76f8\u53cd\u200b\n        index_list: \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\u7d22\u5f15\u200b\n        \"\"\"\nsuper(Inception, self).__init__()\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5408\u200b\nself.combination = combination\nself.combination_rev = combination_rev\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\u7d22\u5f15\u200b\nself.index_list = index_list\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u540e\u200b\u7684\u200b Batch Normalization \u200b\u5c42\u200b\nself.bc1 = nn.BatchNorm2d(1)\nself.bc2 = nn.BatchNorm2d(1)\nself.bc3 = nn.BatchNorm2d(1)\nself.bc4 = nn.BatchNorm2d(1)\nself.bc5 = nn.BatchNorm2d(1)\nself.bc6 = nn.BatchNorm2d(1)\nself.bc7 = nn.BatchNorm2d(1)\n# GRU \u200b\u5c42\u200b\nself.GRU = GRU()\ndef forward(self, data):\n\"\"\"\n        data: \u200b\u8f93\u5165\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b batch_size*1*9*30\n        \"\"\"\n# \u200b\u672c\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u4e3a\u200b batch_size*1*9*30, \u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u4e0d\u200b\u9700\u8981\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b detach() \u200b\u51fd\u6570\u200b\ndata = data.detach().cpu().numpy()\ncombination = self.combination\ncombination_rev = self.combination_rev\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\nconv1 = self.ts_corr4d(data, combination, combination_rev).to(torch.float)\nconv2 = self.ts_cov4d(data, combination, combination_rev).to(torch.float)\nconv3 = self.ts_stddev4d(data).to(torch.float)\nconv4 = self.ts_zcore4d(data).to(torch.float)\nconv5 = self.ts_return4d(data).to(torch.float)\nconv6 = self.ts_decaylinear4d(data).to(torch.float)\nconv7 = self.ts_mean4d(data).to(torch.float)\n# \u200b\u5377\u79ef\u200b\u64cd\u4f5c\u200b\u540e\u200b\u7684\u200b Batch Normalization\nbatch1 = self.bc1(conv1)\nbatch2 = self.bc2(conv2)\nbatch3 = self.bc3(conv3)\nbatch4 = self.bc4(conv4)\nbatch5 = self.bc5(conv5)\nbatch6 = self.bc6(conv6)\nbatch7 = self.bc7(conv7)\n# \u200b\u5728\u200b H \u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u7279\u5f81\u200b\u62fc\u63a5\u200b\nfeature = torch.cat(\n[batch1, batch2, batch3, batch4, batch5, batch6, batch7], axis=2\n)  # N*1*(2*36+5*9)*3 = N*1*117*3\n# GRU \u200b\u5c42\u200b\nfeature = feature.squeeze(1)  # N*1*117*3 -&gt; N*117*3\nfeature = feature.permute(0, 2, 1)  # N*117*3 -&gt; N*3*117\nfeature = self.GRU(feature)  # N*3*117 -&gt; N*30\nreturn feature\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u4f7f\u7528torchsummary\u5305\u67e5\u770b\u7f51\u7edc\u7ed3\u6784","title":"\u4f7f\u7528\u200b<code>torchsummary</code>\u200b\u5305\u200b\u67e5\u770b\u200b\u7f51\u7edc\u7ed3\u6784","text":"Python<pre><code>test = AlphaNet(combination, combination_rev, index_list_1, index_list_2, fc_num=60)\nsummary(test, input_size=(1, 9, 30))\n</code></pre> Text Only<pre><code>----------------------------------------------------------------\n        Layer (type)               Output Shape         Param #\n================================================================\n       BatchNorm2d-1             [-1, 1, 36, 3]               2\n       BatchNorm2d-2             [-1, 1, 36, 3]               2\n       BatchNorm2d-3              [-1, 1, 9, 3]               2\n       BatchNorm2d-4              [-1, 1, 9, 3]               2\n       BatchNorm2d-5              [-1, 1, 9, 3]               2\n       BatchNorm2d-6              [-1, 1, 9, 3]               2\n       BatchNorm2d-7              [-1, 1, 9, 3]               2\n               GRU-8  [[-1, 3, 30], [-1, 2, 30]]               0\n               GRU-9                   [-1, 30]               0\n        Inception-10                   [-1, 30]               0\n      BatchNorm2d-11            [-1, 1, 36, 10]               2\n      BatchNorm2d-12            [-1, 1, 36, 10]               2\n      BatchNorm2d-13             [-1, 1, 9, 10]               2\n      BatchNorm2d-14             [-1, 1, 9, 10]               2\n      BatchNorm2d-15             [-1, 1, 9, 10]               2\n      BatchNorm2d-16             [-1, 1, 9, 10]               2\n      BatchNorm2d-17             [-1, 1, 9, 10]               2\n              GRU-18  [[-1, 10, 30], [-1, 2, 30]]               0\n              GRU-19                   [-1, 30]               0\n        Inception-20                   [-1, 30]               0\n           Linear-21                    [-1, 1]              61\n================================================================\nTotal params: 89\nTrainable params: 89\nNon-trainable params: 0\n----------------------------------------------------------------\nInput size (MB): 0.00\nForward/backward pass size (MB): 0.17\nParams size (MB): 0.00\nEstimated Total Size (MB): 0.17\n----------------------------------------------------------------\n</code></pre> <p>\u200b\u4e0d\u200b\u77e5\u9053\u200b\u4e3a\u4ec0\u4e48\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b GRU \u200b\u5c42\u200b\u5e76\u200b\u6ca1\u6709\u200b\u663e\u793a\u200b\u5f85\u200b\u4f30\u8ba1\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b GRU \u200b\u5c42\u200b\u4e5f\u200b\u662f\u200b\u9700\u8981\u200b\u4f30\u8ba1\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\u3002</p> <p>\u200b\u5728\u200b 2 \u200b\u4e2a\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u53ca\u200b GRU \u200b\u5c42\u540e\u200b\uff0c\u200b\u5c06\u200b\u8f93\u51fa\u200b\u5c55\u5e73\u200b\u540e\u200b\u62fc\u63a5\u200b\uff0c\u200b\u5f97\u5230\u200b\\(60\\times1\\)\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8fde\u63a5\u200b\u5230\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u5373\u53ef\u200b\u8f93\u51fa\u200b\u9884\u6d4b\u503c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u6784\u5efa\u200b\u4e86\u200b AlphaNet-V3\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u4f7f\u7528tensorboard\u67e5\u770b\u7f51\u7edc\u7ed3\u6784","title":"\u4f7f\u7528\u200b<code>TensorBoard</code>\u200b\u67e5\u770b\u200b\u7f51\u7edc\u7ed3\u6784","text":"<p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>TensorBoard</code>\u200b\u5bf9\u6a21\u578b\u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\uff0c\u200b\u4e3b\u8981\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\u3002</p> Python<pre><code>from tensorboardX import SummaryWriter  # \u200b\u7528\u4e8e\u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\nfrom torchviz import make_dot\nsample_data = torch.rand(1000, 1, 9, 30)\n# 1. \u200b\u6765\u200b\u7528\u200b tensorflow \u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\nwith SummaryWriter(\"./log\", comment=\"sample_model_visualization\") as sw:\nsw.add_graph(alphanet, sample_data)\n# 2. \u200b\u4fdd\u5b58\u200b\u6210\u200b pt \u200b\u6587\u4ef6\u200b\u540e\u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\ntorch.save(alphanet, \"./log/alphanet_v3_gru.pt\")\n# 3. \u200b\u4f7f\u7528\u200b graphviz \u200b\u8fdb\u884c\u200b\u53ef\u89c6\u5316\u200b\nout = alphanet(sample_data)\ng = make_dot(out)\ng.render(\"alphanet_v3_gru\", view=False)  # \u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b pdf \u200b\u6587\u4ef6\u200b\n</code></pre> <p>\u200b\u5728\u200b<code>TensorBoard</code>\u200b\u4e2d\u200b\uff0c\u200b\u67e5\u770b\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u5982\u4e0b\u200b\u3002\u200b\u7531\u4e8e\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u7684\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u592a\u200b\u591a\u200b\uff0c\u200b\u4e14\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6b65\u957f\u200b\u4e0d\u540c\u200b\u7684\u200b\u7684\u200b\u5e73\u884c\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u82e5\u200b\u5168\u90e8\u200b\u5c55\u5f00\u200b\u5219\u200b\u5bbd\u5ea6\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u91cc\u200b\u53ea\u200b\u5c55\u5f00\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u8bad\u7ec3\u548c\u6d4b\u8bd5\u6a21\u578b","title":"\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u6a21\u578b","text":"<p>\u200b\u76f8\u6bd4\u200b AlphaNet-V1\uff0cAlphaNet-V3 \u200b\u52a0\u5165\u200b\u4e86\u200b\u6b65\u957f\u200b<code>stride=3</code>\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3001\u200b\u5c06\u200b\u6c60\u5316\u5c42\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4fdd\u7559\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\u7684\u200b GRU \u200b\u5c42\u200b\uff0c\u200b\u6a21\u578b\u200b\u53d8\u5f97\u200b\u66f4\u200b\u590d\u6742\u200b\u3002\u200b\u5728\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u65f6\u200b\uff0c\u200b\u8bad\u7ec3\u200b 20 \u200b\u8f6e\u200b\u4ee5\u4e0a\u200b\u624d\u200b\u663e\u73b0\u51fa\u200b\u6536\u655b\u200b\u7684\u200b\u8d8b\u52bf\u200b\u3002\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u5c06\u200b<code>epoch_num</code>\u200b\u8bbe\u200b\u4e3a\u200b 30\u3002</p> Python<pre><code>epoch_num = 30\ntrain_loss_list = []\ntest_loss_list = []\nbest_test_epoch, best_test_loss = 0, np.inf\nfor epoch in range(1, epoch_num + 1):\ntrain_loss, test_loss = 0, 0\n# \u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nalphanet.train()  # \u200b\u5173\u4e8e\u200b\u3002train() \u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://stackoverflow.com/questions/51433378/what-does-model-train-do-in-pytorch\ntrain_batch_num = 0\nfor data, label in tqdm(train_loader, f\"Epoch {epoch}-train\", leave=False):\ntrain_batch_num += 1\n# \u200b\u51c6\u5907\u200b\u6570\u636e\u200b\ndata, label = data.to(torch.float), label.to(torch.float)\n# \u200b\u5f97\u5230\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\nout_put = alphanet(data)\n# \u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\nloss = criterion(out_put, label)\n# \u200b\u5c06\u200b\u635f\u5931\u200b\u503c\u200b\u52a0\u5165\u200b\u5230\u200b\u672c\u8f6e\u200b\u8bad\u7ec3\u200b\u7684\u200b\u635f\u5931\u200b\u4e2d\u200b\ntrain_loss += loss.item()\n# \u200b\u68af\u5ea6\u200b\u6e05\u96f6\u200b\noptimizer.zero_grad()  # \u200b\u5173\u4e8e\u200b\u3002zero_grad() \u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://stackoverflow.com/questions/48001598/why-do-we-need-to-call-zero-grad-in-pytorch\n# \u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u6c42\u89e3\u200b\u68af\u5ea6\u200b\nloss.backward()\n# \u200b\u66f4\u65b0\u200b\u6743\u91cd\u200b\u53c2\u6570\u200b\noptimizer.step()\n# \u200b\u6d4b\u8bd5\u200b\u6a21\u5f0f\u200b\nalphanet.eval()\ntest_batch_num = 0\nwith torch.no_grad():\nfor data, label in tqdm(test_loader, f\"Epoch {epoch}-test \", leave=False):\ntest_batch_num += 1\ndata, label = data.to(torch.float), label.to(torch.float)\n# \u200b\u5f97\u5230\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\ny_pred = alphanet(data)\n# \u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\nloss = criterion(y_pred, label)\n# \u200b\u5c06\u200b\u635f\u5931\u200b\u503c\u200b\u52a0\u5165\u200b\u5230\u200b\u672c\u8f6e\u200b\u6d4b\u8bd5\u200b\u7684\u200b\u635f\u5931\u200b\u4e2d\u200b\ntest_loss += loss.item()\ntrain_loss_list.append(train_loss / train_batch_num)\ntest_loss_list.append(test_loss / test_batch_num)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u7ed8\u5236\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u635f\u5931\u7684\u53d8\u5316","title":"\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u635f\u5931\u200b\u7684\u200b\u53d8\u5316","text":"Python<pre><code># \u200b\u753b\u51fa\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u53d8\u5316\u200b\nfig = plt.figure(figsize=(9, 6))\n# \u200b\u5b57\u53f7\u200b\nplt.rcParams[\"font.size\"] = 16\nax = fig.add_subplot(111)\nax.plot(train_loss_list, \"r\", label=\"train loss\")\nax.plot(test_loss_list, \"b\", label=\"test loss\")\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u8303\u56f4\u200b\nax.set_ylim(bottom=0, top=0.1)\nax.legend()\nax.set(xlabel=\"Epoch\")\nax.set(ylabel=\"MSE Loss\")\nplt.show()\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u6d4b\u8bd5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u5728\u200b\u8bad\u7ec3\u200b 20 \u200b\u8f6e\u200b\u5de6\u53f3\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u6536\u655b\u200b\uff0c\u200b\u635f\u5931\u200b\u5df2\u200b\u4e0d\u518d\u200b\u4e0b\u964d\u200b\u3002\u200b\u4e3a\u4e86\u200b\u63a2\u7a76\u200b\u6a21\u578b\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\uff0c\u200b\u6211\u4eec\u200b\u63a5\u4e0b\u6765\u200b\u6bd4\u8f83\u200b\u90e8\u5206\u200b\u6837\u672c\u200b\u6807\u7b7e\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u7684\u6bd4\u8f83","title":"\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u6bd4\u8f83","text":"<p>\u200b\u4e3a\u200b\u65b9\u4fbf\u200b\u67e5\u770b\u200b\uff0c\u200b\u6211\u4eec\u200b\u622a\u53d6\u200b\u6700\u540e\u200b\u4e00\u6279\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b\u524d\u200b 200 \u200b\u4e2a\u200b\u6837\u672c\u200b\uff0c\u200b\u5bf9\u6bd4\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u503c\u200b\u3002</p> Python<pre><code># \u200b\u7ed8\u5236\u200b\u90e8\u5206\u200b\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\ny_pred = y_pred.detach().numpy()\nlabel = label.detach().numpy()\n# \u200b\u622a\u53d6\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\npart = range(0, 200)\nplt.plot(y_pred[part], label=\"pred\")\nplt.plot(label[part], label=\"true\")\nplt.legend()\nplt.show()\n</code></pre> <p></p> <p>AlphaNet-V3 \u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\u66f4\u200b\u590d\u6742\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u5e76\u200b\u4e0d\u5168\u662f\u200b\u5e38\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u5bf9\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u3002</p> <p>\u200b\u4f46\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6ce8\u610f\u200b\u5230\u200b AlphaNet-V3 \u200b\u7ed9\u51fa\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u6ce2\u52a8\u200b\u660e\u663e\u200b\u6bd4\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u6ce2\u52a8\u200b\u66f4\u5927\u200b\uff0c\u200b\u4ece\u8fd9\u4e00\u70b9\u200b\u4e0a\u200b\u770b\u200b\uff0c\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5f88\u200b\u7406\u60f3\u200b\u3002\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u662f\u56e0\u4e3a\u200b\u9884\u6d4b\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5177\u4f53\u200b\u6570\u503c\u200b\u7684\u200b\u96be\u5ea6\u200b\u8f83\u5927\u200b\uff0c\u200b\u6211\u4eec\u200b\u540e\u7eed\u200b\u8003\u8651\u200b\u5c06\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411\u200b\uff08\u200b\u5373\u200b\u4e2a\u80a1\u200b\u5728\u200b\u672a\u6765\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u4ef7\u683c\u200b\u6da8\u8dcc\u200b\uff09\uff0c\u200b\u4ee5\u53ca\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u65b9\u5411\u200b\uff08\u200b\u5373\u200b\u4e2a\u80a1\u200b\u5728\u200b\u672a\u6765\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u76f8\u5bf9\u200b\u622a\u9762\u200b\u5e73\u5747\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5927\u5c0f\u200b\uff09\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u8c03\u6574\u9884\u6d4b\u76ee\u6807\u6536\u76ca\u7387\u7684\u65b9\u5411","title":"\u8c03\u6574\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\uff1a\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411","text":"<p>\u200b\u4e3a\u4e86\u200b\u8c03\u6574\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\uff0c\u200b\u5c06\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u4f5c\u200b\u5982\u4e0b\u200b\u7684\u200b\u8c03\u6574\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u5c06\u9884\u6d4b\u6807\u7b7e\u8f6c\u6362\u4e3a-0-\u548c-1","title":"\u5c06\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b 0 \u200b\u548c\u200b 1","text":"Python<pre><code># \u200b\u7531\u4e8e\u200b\u662f\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5c06\u200b y \u200b\u5927\u4e8e\u200b 0 \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\uff0c\u200b\u5c0f\u4e8e\u200b 0 \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\ntrainy[trainy &gt; 0] = 1\ntrainy[trainy &lt; 0] = 0\ntesty[testy &gt; 0] = 1\ntesty[testy &lt; 0] = 0\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u5168\u8fde\u63a5\u5c42\u6700\u540e\u7684\u6fc0\u6d3b\u51fd\u6570\u8bbe\u4e3asigmoid\u4f7f\u5f97\u6700\u7ec8\u8f93\u51fa\u5728-0-\u5230-1-\u4e4b\u95f4","title":"\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u6700\u540e\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>sigmoid</code>\uff0c\u200b\u4f7f\u5f97\u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e4b\u95f4","text":"Python<pre><code>def forward(self, data):\ndata_1 = self.Inception_1(data)  # N*30\ndata_2 = self.Inception_2(data)  # N*30\npool_cat = torch.cat([data_1, data_2], axis=1)  # N*60\n# \u200b\u8f93\u51fa\u200b\u5c42\u200b\ndata = self.fc(pool_cat)\n# \u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f7f\u200b\u8f93\u51fa\u200b\u503c\u200b\u5728\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e4b\u95f4\u200b\ndata = torch.sigmoid(data)\ndata = data.to(torch.float)\nreturn data\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u635f\u5931\u51fd\u6570\u8bbe\u4e3abinary-cross-entropy","title":"\u635f\u5931\u200b\u51fd\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>Binary Cross Entropy</code>","text":"<p>\u200b\u5728\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4e3a\u5747\u65b9\u200b\u8bef\u5dee\u200b MSE\u3002\u200b\u5728\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u4e2d\u200b\uff0c\u200b\u9002\u5408\u200b\u4f7f\u7528\u200b<code>BCELoss()</code>\uff0c\u200b\u5373\u200b Binary Cross Entropy Loss \u200b\u4e8c\u5143\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u3002</p> Python<pre><code># \u200b\u7531\u4e8e\u200b\u662f\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b Binary Cross Entropy \u200b\u635f\u5931\u200b\u51fd\u6570\u200b\ncriterion = nn.BCELoss()\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u7ed8\u5236\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u635f\u5931\u7684\u53d8\u5316_1","title":"\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u635f\u5931\u200b\u7684\u200b\u53d8\u5316","text":"<p>\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\u8f83\u4e3a\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u5747\u200b\u5728\u200b 0.69 \u200b\u5de6\u53f3\u200b\u3002\u200b\u8bad\u7ec3\u200b\u8f6e\u6b21\u200b\u5728\u200b 5 \u200b\u8f6e\u200b\u5de6\u53f3\u200b\u65f6\u200b\u6548\u679c\u200b\u8f83\u200b\u597d\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u7684\u6bd4\u8f83_1","title":"\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u6bd4\u8f83","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#roc-\u66f2\u7ebf","title":"ROC \u200b\u66f2\u7ebf","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\u6765\u200b\u8bc4\u4ef7\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002</p> Python<pre><code># \u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\nfpr, tpr, thresholds = metrics.roc_curve(label, y_pred)\nplt.plot(fpr, tpr, color=\"darkorange\", lw=2, label=\"ROC curve\")\nplt.plot([0, 1], [0, 1], color=\"navy\", lw=2, linestyle=\"--\")\nplt.xlabel(\"False Positive Rate\")\nplt.ylabel(\"True Positive Rate\")\nplt.title(\"ROC Curve\")\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0cROC \u200b\u66f2\u7ebf\u200b\u4ec5\u200b\u7565\u9ad8\u4e8e\u200b\u6b21\u200b\u5bf9\u89d2\u7ebf\u200b\uff0c\u200b\u8bf4\u660e\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u4ec5\u200b\u7565\u9ad8\u4e8e\u200b\u57fa\u4e8e\u200b\u6837\u672c\u200b\u6b63\u8d1f\u200b\u6bd4\u7387\u200b\u7684\u200b\u968f\u673a\u200b\u731c\u6d4b\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u6df7\u6dc6\u77e9\u9635","title":"\u6df7\u6dc6\u200b\u77e9\u9635","text":"<p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7ed8\u5236\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\uff0c\u200b\u67e5\u770b\u200b\u6b63\u8d1f\u200b\u4f8b\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u200b\u60c5\u51b5\u200b\u3002</p> Python<pre><code># \u200b\u7ed8\u5236\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\ny_pred = np.where(y_pred &gt; 0.5, 1, 0)\ncm = metrics.confusion_matrix(label, y_pred)\n</code></pre> <p></p> Python<pre><code>import seaborn as sn\nplt.figure(figsize=(10, 8))\nsn.heatmap(cm, annot=True, cmap=\"Blues\", fmt=\"d\")\nplt.xlabel(\"y_pred\")\nplt.ylabel(\"y_true\")\n</code></pre> <p></p> <p>\u200b\u4ece\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u786e\u5b9e\u200b\u548c\u200b\u771f\u5b9e\u200b\u6570\u636e\u200b\u4e2d\u200b\u7684\u200b\u6b63\u8d1f\u200b\u6bd4\u4f8b\u200b\u5f88\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6211\u4eec\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u786e\u5b9e\u200b\u8fd1\u4f3c\u4e8e\u200b\u57fa\u4e8e\u200b\u6837\u672c\u200b\u6570\u636e\u200b\u7684\u200b\u201c\u200b\u968f\u673a\u200b\u731c\u6d4b\u200b\u201d\u3002</p> <p>\u200b\u8fd9\u200b\u5728\u200b\u4fe1\u566a\u6bd4\u200b\u6781\u4f4e\u200b\u7684\u200b\u91d1\u878d\u200b\u9886\u57df\u200b\u662f\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u7684\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u53ea\u7528\u200b\u5230\u200b\u4e86\u200b\u7b80\u5355\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\uff0c\u200b\u5728\u200b\u751f\u6210\u200b\u6da8\u8dcc\u200b\u4fe1\u53f7\u200b\u7684\u200b\u51c6\u786e\u5ea6\u200b\u4e0a\u200b\u5e76\u200b\u4e0d\u5e94\u200b\u5962\u6c42\u200b\u80fd\u200b\u83b7\u5f97\u200b\u975e\u5e38\u200b\u597d\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u8c03\u6574\u9884\u6d4b\u76ee\u6807\u8d85\u989d\u6536\u76ca\u7387\u7684\u65b9\u5411","title":"\u8c03\u6574\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\uff1a\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411","text":"<p>\u200b\u7531\u4e8e\u200b\u5e02\u573a\u200b\u5b58\u5728\u200b\u4e0d\u53ef\u200b\u5206\u6563\u200b\u7684\u200b\u7cfb\u7edf\u6027\u200b\u98ce\u9669\u200b\uff0c\u200b\u4e2a\u80a1\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u6570\u503c\u200b\u901a\u5e38\u200b\u53d7\u200b\u5e02\u573a\u200b\u73af\u5883\u200b\u7684\u200b\u5f71\u54cd\u200b\u5f88\u5927\u200b\u3002\u200b\u5728\u200b\u79ef\u6781\u200b\u7ec4\u5408\u200b\u7ba1\u7406\u200b\u9886\u57df\u200b\uff0c\u200b\u6295\u8d44\u8005\u200b\u66f4\u200b\u5e0c\u671b\u200b\u627e\u5230\u200b\u80fd\u591f\u200b\u6253\u8d25\u200b\u5e02\u573a\u200b\u3001\u200b\u5177\u6709\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u4e2a\u80a1\u200b\u3002\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u518d\u6b21\u200b\u8c03\u6574\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u4e3a\u200b\u4e2a\u80a1\u200b\u5728\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u540e\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u6b63\u200b\u8d1f\u503c\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u5c06\u9884\u6d4b\u6807\u7b7e\u8f6c\u6362\u4e3a\u8d85\u989d\u6536\u76ca\u7387\u7684\u6b63\u8d1f","title":"\u5c06\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u6b63\u8d1f","text":"<p>\u200b\u9700\u8981\u200b\u5148\u200b\u8ba1\u7b97\u200b\u622a\u9762\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u5747\u503c\u200b\uff0c\u200b\u518d\u200b\u6839\u636e\u200b\u4e2a\u80a1\u200b\u6536\u76ca\u7387\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u622a\u9762\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u786e\u5b9a\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u6b63\u8d1f\u200b\uff0c\u200b\u5e76\u200b\u4ee5\u6b64\u200b\u4f5c\u4e3a\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u6211\u4eec\u200b\u7684\u200b\u6837\u672c\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5305\u542b\u200b\u5168\u200b\u5e02\u573a\u200b\u7684\u200b\u6240\u6709\u200b\u4e2a\u80a1\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u6837\u200b\u7684\u200b\u8ba1\u7b97\u200b\u4f1a\u200b\u6709\u200b\u504f\u5dee\u200b\u3002</p> Python<pre><code># \u200b\u7531\u4e8e\u200b\u662f\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5c06\u200b y \u200b\u5927\u4e8e\u200b trainy.mean() \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\uff0c\u200b\u5c0f\u4e8e\u200b trainy.mean() \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\ntrain_mean_y = trainy.mean().item()\ntrainy[trainy &gt; train_mean_y] = 1\ntrainy[trainy &lt; train_mean_y] = 0\ntest_mean_y = testy.mean().item()\ntesty[testy &gt; test_mean_y] = 1\ntesty[testy &lt; test_mean_y] = 0\n</code></pre> <p>\u200b\u5176\u4ed6\u200b\u4ee3\u7801\u200b\u57fa\u672c\u200b\u4e0e\u200b\u201c\u200b\u9884\u6d4b\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411\u200b\u201d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u5728\u200b\u6b64\u200b\u4e0d\u518d\u200b\u8d58\u8ff0\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u7ed8\u5236\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u635f\u5931\u7684\u53d8\u5316_2","title":"\u7ed8\u5236\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u635f\u5931\u200b\u7684\u200b\u53d8\u5316","text":"<p>\u200b\u635f\u5931\u200b\u503c\u5f97\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u201c\u200b\u9884\u6d4b\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411\u200b\u201d\u200b\u76f8\u6bd4\u200b\u7565\u6709\u200b\u4e0b\u964d\u200b\uff0c\u200b\u6216\u8bb8\u200b\u8bf4\u660e\u200b\u6a21\u578b\u200b\u5728\u200b\u9884\u6d4b\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411\u200b\u4e0a\u200b\u8868\u73b0\u200b\u66f4\u597d\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u7684\u6bd4\u8f83_2","title":"\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u6bd4\u8f83","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#roc-\u66f2\u7ebf_1","title":"ROC \u200b\u66f2\u7ebf","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u6df7\u6dc6\u77e9\u9635_1","title":"\u6df7\u6dc6\u200b\u77e9\u9635","text":"<p>\u200b\u5c3d\u7ba1\u200b\u6211\u4eec\u200b\u505a\u200b\u4e86\u200b\u591a\u79cd\u200b\u5c1d\u8bd5\u200b\uff0c\u200b\u4f46\u200b\u53d1\u73b0\u200b ROC \u200b\u66f2\u7ebf\u200b\u548c\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u7684\u200b\u8868\u73b0\u200b\u4f9d\u65e7\u200b\u4e00\u822c\u200b\uff0c\u200b\u6a21\u578b\u200b\u5728\u200b\u5206\u7c7b\u200b\u51c6\u786e\u7387\u200b\u4e0a\u200b\u6548\u679c\u200b\u5e76\u200b\u4e0d\u200b\u7406\u60f3\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u5c06\u968f\u673a\u68ee\u6797\u6a21\u578b\u4f5c\u4e3a-baseline-\u8fdb\u884c\u6bd4\u8f83","title":"\u5c06\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u4f5c\u4e3a\u200b baseline \u200b\u8fdb\u884c\u200b\u6bd4\u8f83","text":"<p>\u200b\u6211\u4eec\u200b\u7684\u200b\u7279\u5f81\u200b\u5747\u200b\u4e3a\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\uff0c\u200b\u4e2a\u80a1\u200b\u5728\u200b\u6bcf\u200b\u4e00\u5929\u200b\u6709\u200b\\(9\\times30=270\\)\u200b\u4e2a\u200b\u7279\u5f81\u200b\u3002\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u7528\u5230\u200b\u5168\u90e8\u200b\u7279\u5f81\u200b\uff0c\u200b\u800c\u662f\u200b\u4f1a\u200b\u968f\u673a\u200b\u62bd\u53d6\u200b\u6837\u672c\u200b\u548c\u200b\u7279\u5f81\u200b\u3002\u200b\u4f5c\u4e3a\u200b\u57fa\u51c6\u200b\u6a21\u578b\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u989d\u5916\u200b\u7684\u200b\u7279\u5f81\u200b\u5de5\u7a0b\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u523b\u610f\u200b\u8c03\u6574\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\uff0c\u200b\u4ec5\u200b\u5c06\u200b\u57fa\u51c6\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u524d\u9762\u200b\u6784\u9020\u200b\u7684\u200b AlphaNet-V3 \u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u4ee5\u200b\u201c\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411\u200b\u201d\u200b\u4f5c\u4e3a\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\uff0c\u200b\u524d\u200b\u6587\u200b\u5df2\u7ecf\u200b\u4ecb\u7ecd\u200b\u8fc7\u200b\u4e86\u200b AlphaNet-V3 \u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u4ecb\u7ecd\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p>\u200b\u5728\u200b\u524d\u9762\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\\(9\\times30\\)\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u5728\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u4e8c\u7ef4\u200b\u77e9\u9635\u200b\u5c55\u5e73\u200b\uff0c\u200b\u518d\u200b\u8f93\u5165\u200b\u5230\u200b\u6a21\u578b\u200b\u4e2d\u200b\u3002</p> Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\nX_train = np.load(\"../data/X_train.npy\")\n# # \u200b\u5c06\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e8c\u7ef4\u200b\nX_train = X_train.reshape(X_train.shape[0], -1)\ny_train = np.load(\"../data/y_train.npy\")\nX_test = np.load(\"../data/X_test.npy\")\n# \u200b\u5c06\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e8c\u7ef4\u200b\nX_test = X_test.reshape(X_test.shape[0], -1)\ny_test = np.load(\"../data/y_test.npy\")\n# \u200b\u67e5\u770b\u200b\u6570\u636e\u200b\u7684\u200b\u5927\u5c0f\u200b\nprint(\"\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7279\u5f81\u200b\u7ef4\u6570\u200b\uff1a\", X_train.shape)\nprint(\"\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6807\u7b7e\u200b\u7ef4\u6570\u200b\uff1a\", y_train.shape)\nprint(\"\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7279\u5f81\u200b\u7ef4\u6570\u200b\uff1a\", X_test.shape)\nprint(\"\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6807\u7b7e\u200b\u7ef4\u6570\u200b\uff1a\", y_test.shape)\n# \u200b\u7531\u4e8e\u200b\u662f\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5c06\u200b y \u200b\u5927\u4e8e\u200b y_train.mean() \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\uff0c\u200b\u5c0f\u4e8e\u200b y_train.mean() \u200b\u7684\u200b\u6807\u7b7e\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\ntrain_mean_y = y_train.mean()\ny_train[y_train &gt; train_mean_y] = 1\ny_train[y_train &lt; train_mean_y] = 0\ntest_mean_y = y_test.mean()\ny_test[y_test &gt; test_mean_y] = 1\ny_test[y_test &lt; test_mean_y] = 0\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u8bad\u7ec3\u548c\u6d4b\u8bd5\u6a21\u578b_1","title":"\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u6a21\u578b","text":"Python<pre><code># \u200b\u6784\u5efa\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\nclf = RandomForestClassifier(random_state=0, n_jobs=-1)\nclf.fit(X_train, y_train)\n# \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u9884\u6d4b\u200b\ny_pred = clf.predict(X_test)\ny_pred_proba = clf.predict_proba(X_test)[:, 1]\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u8f93\u51fa\u6a21\u578b\u8bc4\u4ef7\u6307\u6807\u7684\u51fd\u6570","title":"\u8f93\u51fa\u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7ed9\u51fa\u200b\u6a21\u578b\u200b\u5206\u7c7b\u200b\u7684\u200b\u6548\u679c\u200b\ndef evaluate(true, pred):\nprint(\"accuracy:{:.2%}\".format(metrics.accuracy_score(true, pred)))\nprint(\"precision:{:.2%}\".format(metrics.precision_score(true, pred)))\nprint(\"recall:{:.2%}\".format(metrics.recall_score(true, pred)))\nprint(\"f1-score:{:.2%}\".format(metrics.f1_score(true, pred)))\n</code></pre> Python<pre><code>evaluate(y_test, y_pred)\n</code></pre> <p>\u200b\u7cbe\u786e\u200b\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u5747\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u57fa\u51c6\u200b\u6a21\u578b\u200b\u7684\u200b\u8868\u73b0\u200b\u4e5f\u200b\u4e0d\u597d\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u7279\u5f81\u91cd\u8981\u6027\u6392\u5e8f","title":"\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u6392\u5e8f","text":"<p>\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u53ef\u4ee5\u200b\u57fa\u4e8e\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u5bf9\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u4e3a\u200b\u5c55\u5e73\u200b\u540e\u200b\u7684\u200b 270 \u200b\u4e2a\u200b\u7279\u5f81\u200b\u8bbe\u5b9a\u200b\u540d\u79f0\u200b\u3002</p> Python<pre><code># \u200b\u4e3a\u200b 270 \u200b\u4e2a\u200b\u7279\u5f81\u200b\u8bbe\u5b9a\u200b\u540d\u5b57\u200b\nfeature_names = [\n\"open\",\n\"high\",\n\"low\",\n\"close\",\n\"vwap\",\n\"volume\",\n\"return1\",\n\"turn\",\n\"free_turn\",\n]\ntime = range(29, -1, -1)\nall_feature_names = []\nfor i in feature_names:\nfor j in time:\nall_feature_names.append(i + \"_\" + str(j))\nfeat_importances = pd.Series(clf.feature_importances_, index=all_feature_names)\n</code></pre> Python<pre><code># \u200b\u5c06\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u6392\u5e8f\u200b\u540e\u7ed8\u56fe\u200b\nax = feat_importances.sort_values()[250:].plot(kind=\"barh\", figsize=(12, 6))\n# \u200b\u8bbe\u7f6e\u200b\u6a2a\u5750\u6807\u200b\u683c\u5f0f\u200b\nax.xaxis.set_major_formatter(plt.FuncFormatter(lambda x, pos: \"{:.2%}\".format(x)))\n# \u200b\u8bbe\u7f6e\u200b\u6807\u9898\u200b\nax.set_title(\"Importance of Features\")\n# \u200b\u5982\u679c\u200b\u4e0d\u200b\u9700\u8981\u200b\u663e\u793a\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5927\u5c0f\u200b\u6570\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b 2 \u200b\u884c\u200b\u4ee3\u7801\u200b\n# for container in ax.containers:\n#     ax.bar_label(container)\n# \u200b\u5982\u679c\u200b\u9700\u8981\u200b\u663e\u793a\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5927\u5c0f\u200b\u6570\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\nx_offset = 0\ny_offset = 0\nfor p in ax.patches:\nb = p.get_bbox()\nval = \"{:.2%}\".format(b.x1)\nax.annotate(val, (b.x1 + 0.0002, b.y1 - 0.4))\n</code></pre> <p></p> <p>\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u7279\u5f81\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u4e3a\u200b<code>vwap</code>\uff0c\u200b\u8bf4\u660e\u200b\u57fa\u4e8e\u200b\u6210\u4ea4\u91cf\u200b\u7684\u200b\u52a0\u6743\u200b\u4ef7\u683c\u200b\u53ef\u80fd\u200b\u662f\u200b\u9884\u6d4b\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u91cd\u8981\u200b\u56e0\u7d20\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#roc-\u66f2\u7ebf_2","title":"ROC \u200b\u66f2\u7ebf","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\nfpr, tpr, thresholds = metrics.roc_curve(y_test, y_pred_proba)\nplt.plot(fpr, tpr, color=\"darkorange\", lw=2, label=\"ROC curve\")\nplt.plot([0, 1], [0, 1], color=\"navy\", lw=2, linestyle=\"--\")\nplt.xlabel(\"False Positive Rate\")\nplt.ylabel(\"True Positive Rate\")\nplt.title(\"ROC Curve\")\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u6df7\u6dc6\u77e9\u9635_2","title":"\u6df7\u6dc6\u200b\u77e9\u9635","text":"<p>ROC \u200b\u66f2\u7ebf\u200b\u51e0\u4e4e\u200b\u548c\u200b\u6b21\u200b\u5bf9\u89d2\u7ebf\u200b\u91cd\u5408\u200b\uff0c\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u7684\u200b\u5206\u7c7b\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u90fd\u200b\u4e0d\u200b\u9ad8\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5728\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u4e0a\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u540c\u6837\u200b\u4e0d\u4f73\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u603b\u7ed3\u548c\u7ed3\u8bba","title":"\u603b\u7ed3\u200b\u548c\u200b\u7ed3\u8bba","text":"<p>\u200b\u672c\u6587\u200b\u4e3b\u8981\u200b\u5b9e\u73b0\u200b\u4e86\u200b\uff1a</p> <ol> <li>\u200b\u57fa\u4e8e\u200b\u4e2a\u80a1\u200b\u5728\u200b\u8fc7\u53bb\u200b 30 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b 9 \u200b\u4e2a\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\uff0c\u200b\u6784\u9020\u200b\u201c\u200b\u56fe\u7247\u200b\u201d\u200b\u77e9\u9635\u200b\uff0c\u200b\u4f5c\u4e3a\u200b AlphaNet \u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u6784\u9020\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u5b9e\u73b0\u200b 2 \u200b\u79cd\u200b\u57fa\u4e8e\u200b\u53cc\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u548c\u200b 5 \u200b\u79cd\u200b\u57fa\u4e8e\u200b\u5355\u200b\u53d8\u91cf\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002</li> <li>\u200b\u4ee5\u200b 10 \u200b\u4e3a\u200b\u6b65\u957f\u200b\uff0c\u200b\u5c06\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u4e0e\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\u3001\u200b\u6700\u5927\u200b\uff08\u200b\u5e73\u5747\u200b\u3001\u200b\u6700\u5c0f\u200b\uff09\u200b\u6c60\u5316\u5c42\u200b\u3001\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7ed3\u5408\u200b\uff0c\u200b\u4ee5\u5747\u65b9\u200b\u8bef\u5dee\u200b MSE \u200b\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6536\u76ca\u7387\u200b\u503c\u200b\u7684\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u3002</li> <li>\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u505a\u200b\u68c0\u9a8c\u200b\uff0c\u200b\u53d1\u73b0\u200b\u53ef\u80fd\u200b\u662f\u200b\u7531\u4e8e\u200b\u6a21\u578b\u200b\u8fc7\u4e8e\u200b\u7b80\u5355\u200b\uff0c\u200b\u635f\u5931\u200b\u503c\u200b\u5f88\u5feb\u200b\u6536\u655b\u200b\uff0c\u200b\u4e14\u200b\u9884\u6d4b\u503c\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u4e3a\u200b\u5e38\u6570\u200b\u3002\u200b\u4e3a\u6b64\u200b\u505a\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u6539\u8fdb\u200b\u3002</li> <li>\u200b\u6539\u8fdb\u200b 1\uff1a\u200b\u5c06\u200b\u6c60\u5316\u200b\u5c42\u66ff\u6362\u200b\u4e3a\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\u3002\u200b\u6539\u8fdb\u200b\u540e\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u80fd\u200b\u7ed9\u51fa\u200b\u4e0d\u540c\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u503c\u200b\uff0c\u200b\u4f46\u200b\u6ce2\u52a8\u200b\u7387\u200b\u660e\u663e\u200b\u6bd4\u200b\u771f\u5b9e\u200b\u503c\u200b\u66f4\u200b\u5927\u200b\u3002</li> <li>\u200b\u6539\u8fdb\u200b 2\uff1a\u200b\u8c03\u6574\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u4e3a\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u65b9\u5411\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u65b9\u5411\u200b\u3002\u200b\u5c06\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>sigmoid</code>\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u8bbe\u200b\u4e3a\u200b<code>Binary Cross Entropy</code>\uff0c\u200b\u5bf9\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u8fdb\u884c\u200b\u8bc4\u4f30\u200b\uff0c\u200b\u53d1\u73b0\u200b ROC \u200b\u66f2\u7ebf\u200b\u548c\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u90fd\u200b\u63a5\u8fd1\u200b\u968f\u673a\u200b\u731c\u6d4b\u200b\u3002</li> <li>\u200b\u4e0e\u200b\u57fa\u200b Baseline \u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u5e94\u7528\u200b\u4e8e\u200b\u5bf9\u200b\u4e2a\u80a1\u200b\u5728\u200b\u672a\u6765\u200b 10 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u9884\u6d4b\u200b\uff0c\u200b\u53d1\u73b0\u200b<code>vwap</code>\u200b\u662f\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u7279\u5f81\u200b\u3002\u200b\u4f46\u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u4e5f\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\u5f88\u96be\u200b\u51c6\u786e\u200b\u5730\u200b\u9884\u6d4b\u200b\u8d85\u989d\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5411\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u672a\u6765\u7814\u7a76\u65b9\u5411","title":"\u672a\u6765\u200b\u7814\u7a76\u200b\u65b9\u5411","text":"<p>\u200b\u867d\u7136\u200b\u672c\u6587\u200b\u6d4b\u8bd5\u200b\u7684\u200b\u51e0\u4e2a\u200b\u6a21\u578b\u200b\u5747\u200b\u7b97\u4e0d\u4e0a\u200b\u7406\u60f3\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u200b\u6216\u8bb8\u200b\u5c31\u662f\u200b\u91d1\u878d\u5e02\u573a\u200b\u7684\u200b\u7279\u70b9\u200b\uff1a\u200b\u4f4e\u200b\u4fe1\u566a\u6bd4\u200b\u3001\u200b\u96be\u4ee5\u9884\u6d4b\u200b\u3002\u200b\u5728\u200b\u5f00\u59cb\u200b\u8fdb\u884c\u200b\u8fd9\u4e2a\u200b\u9879\u76ee\u200b\u524d\u200b\uff0c\u200b\u6211\u200b\u4e5f\u200b\u5e76\u200b\u4e0d\u200b\u671f\u5f85\u200b\u80fd\u200b\u642d\u5efa\u200b\u51fa\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u9ad8\u5f97\u200b\u60ca\u4eba\u200b\u7684\u200b\u6a21\u578b\u200b\u3002\u200b\u5728\u200b\u56de\u987e\u200b\u6a21\u578b\u200b\u662f\u200b\u5982\u4f55\u200b\u6784\u5efa\u200b\u7684\u200b\u540c\u65f6\u200b\uff0c\u200b\u6211\u200b\u4e5f\u200b\u60f3\u5230\u200b\u4e86\u200b\u672a\u6765\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u62d3\u5c55\u200b\u7684\u200b\u65b9\u5411\u200b\uff1a</p> <ol> <li>\u200b\u6269\u5145\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u3002\u200b\u672c\u6587\u200b\u53ea\u7528\u200b\u5230\u200b\u4e86\u200b 9 \u200b\u4e2a\u91cf\u200b\u4ef7\u200b\u6570\u636e\u200b\uff0c\u200b\u4e14\u200b\u90fd\u200b\u662f\u200b\u65e5\u9891\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u5728\u200b\u9ad8\u9891\u200b\u9886\u57df\u200b\u53ef\u4ee5\u200b\u6784\u9020\u200b\u51fa\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5206\u949f\u200b\u9891\u200b\u751a\u81f3\u200b\u66f4\u200b\u9ad8\u9891\u200b\u7684\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u6570\u636e\u7ed3\u6784\u200b\u4e0e\u200b\u672c\u6587\u200b\u76f8\u4f3c\u200b\u7684\u200b\u7279\u5f81\u200b\uff0cAlphaNet \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\u3002\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u4e5f\u200b\u610f\u5473\u7740\u200b\u66f4\u200b\u591a\u200b\u89e3\u91ca\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\uff0c\u200b\u4e5f\u8bb8\u200b\u80fd\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002</li> <li>\u200b\u8fdb\u4e00\u6b65\u200b\u8c03\u6574\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\u548c\u200b\u53c2\u6570\u200b\u3002\u200b\u7531\u4e8e\u200b\u524d\u671f\u200b\u642d\u5efa\u200b\u7684\u200b\u6a21\u578b\u200b\u8868\u73b0\u200b\u5e76\u200b\u4e0d\u200b\u7406\u60f3\u200b\uff0c\u200b\u4e14\u200b\u7814\u7a76\u200b\u65f6\u95f4\u200b\u6709\u9650\u200b\uff0c\u200b\u6211\u200b\u5e76\u200b\u6ca1\u6709\u200b\u82b1\u8d39\u200b\u5927\u91cf\u200b\u65f6\u95f4\u200b\u8fdb\u884c\u200b\u53c2\u6570\u200b\u8c03\u4f18\u200b\uff0c\u200b\u53ea\u662f\u200b\u53c2\u8003\u200b\u4e86\u200b\u539f\u59cb\u200b\u7814\u7a76\u200b\u62a5\u544a\u200b\u4e2d\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u6a21\u578b\u200b\u4e2d\u200b\u7684\u200b\u6b65\u957f\u200b\u3001GRU \u200b\u5c42\u6570\u200b\u3001\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u3001Dropout rate \u200b\u7b49\u200b\uff0c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u53c2\u6570\u200b\u5bfb\u4f18\u200b\uff0c\u200b\u6216\u8bb8\u200b\u80fd\u200b\u53d6\u5f97\u200b\u66f4\u597d\u200b\u7684\u200b\u6548\u679c\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u66f4\u200b\u5927\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002\u200b\u7531\u4e8e\u200b\u6570\u636e\u200b\u7684\u200b\u53ef\u5f97\u6027\u200b\uff0c\u200b\u672c\u6587\u200b\u4e0b\u8f7d\u200b 15000 \u200b\u4f59\u4e2a\u200b\u6837\u672c\u200b\u6570\u636e\u200b\u8017\u65f6\u200b 3 \u200b\u4e2a\u200b\u591a\u200b\u5c0f\u65f6\u200b\u3002\u200b\u5728\u200b\u6709\u200b\u5145\u8db3\u200b\u7684\u200b\u6570\u636e\u200b\u6765\u6e90\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u5bf9\u200b\u66f4\u200b\u5927\u91cf\u200b\u7684\u200b\u6837\u672c\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u53c2\u8003\u8d44\u6599\u548c\u4e2a\u4eba\u8d21\u732e","title":"\u53c2\u8003\u8d44\u6599\u200b\u548c\u200b\u4e2a\u4eba\u200b\u8d21\u732e","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u53c2\u8003\u8d44\u6599","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li> <p>\u200b\u672c\u6587\u200b\u7684\u200b\u7814\u7a76\u200b\u601d\u8def\u200b\u6765\u81ea\u200b\u534e\u6cf0\u200b\u8bc1\u5238\u200b\u7814\u7a76\u6240\u200b\u91d1\u878d\u200b\u5de5\u7a0b\u200b\u7ec4\u200b\u7684\u200b\u4e24\u7bc7\u200b\u7814\u7a76\u200b\u62a5\u544a\u200b\uff1a\u300a\u200b\u534e\u6cf0\u200b\u4eba\u5de5\u667a\u80fd\u200b\u7cfb\u5217\u200b\u4e4b\u200b\u4e09\u5341\u4e8c\u200b-AlphaNet\uff1a\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u300b \u200b\u548c\u200b \u300a\u200b\u534e\u6cf0\u200b\u4eba\u5de5\u667a\u80fd\u200b\u7cfb\u5217\u200b\u4e4b\u200b\u4e09\u5341\u56db\u200b - \u200b\u518d\u200b\u63a2\u200b AlphaNet\uff1a\u200b\u7ed3\u6784\u200b\u548c\u200b\u7279\u5f81\u200b\u4f18\u5316\u200b\u300b\u3002\u200b\u8fd9\u200b\u4e24\u7bc7\u200b\u62a5\u544a\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u501f\u9274\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u548c\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b GRU \u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u642d\u5efa\u200b\u57fa\u4e8e\u200b\u91cf\u4ef7\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u3002\u200b\u6211\u200b\u4f7f\u7528\u200b\u7684\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u4e5f\u200b\u662f\u200b\u57fa\u4e8e\u200b\u7814\u7a76\u200b\u62a5\u544a\u200b\u4e2d\u200b\u7ed9\u51fa\u200b\u7684\u200b\u3002</p> </li> <li> <p>\u200b\u672c\u6587\u200b\u83b7\u53d6\u6570\u636e\u200b\u548c\u200b\u6784\u9020\u200b\u8fd0\u7b97\u7b26\u200b\u51fd\u6570\u200b\u7684\u200b\u65b9\u6cd5\u200b\u53c2\u8003\u200b\u4e86\u200b\u77e5\u4e4e\u200b\u7684\u200b\u56de\u7b54\u200b\uff1a\u200b\u5982\u4f55\u200b\u5b9e\u73b0\u200b\u7528\u200b\u9057\u4f20\u7b97\u6cd5\u200b\u6216\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8fdb\u884c\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b\uff1f</p> </li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u4e2a\u4eba\u8d21\u732e\u4ee5\u4e0b\u6210\u679c\u5747\u4e3a\u539f\u521b","title":"\u4e2a\u4eba\u200b\u8d21\u732e\u200b\uff08\u200b\u4ee5\u4e0b\u200b\u6210\u679c\u200b\u5747\u200b\u4e3a\u200b\u539f\u521b\u200b\uff09","text":"<ol> <li> <p>\u200b\u5bf9\u200b\u53c2\u8003\u200b\u4ee3\u7801\u200b\u7801\u200b\u8fdb\u884c\u200b\u4e86\u200b\u9010\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u786e\u4fdd\u200b\u7406\u89e3\u200b\u6e90\u4ee3\u7801\u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u5e76\u200b\u5c3d\u53ef\u80fd\u200b\u8be6\u5c3d\u200b\u5730\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u6ce8\u91ca\u200b\uff08\u200b\u4f8b\u5982\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5728\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u9636\u6bb5\u200b\u7684\u200b\u7ef4\u6570\u200b\u53d8\u5316\u200b\uff0c\u200b\u5728\u200b\u6ce8\u91ca\u200b\u4e2d\u5747\u200b\u6709\u200b\u6807\u660e\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u7cbe\u7b80\u200b\u4e86\u200b\u53c2\u8003\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b\u5197\u4f59\u200b\u90e8\u5206\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5c06\u200b\u4e24\u4e2a\u200b Inception \u200b\u7c7b\u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u7edf\u4e00\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8f93\u5165\u200b\u4e0d\u540c\u200b\u7684\u200b<code>index_list</code>\u200b\u6765\u200b\u5b9e\u73b0\u200b\u4e0d\u540c\u200b\u6b65\u957f\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002</p> </li> <li>\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u6b65\u957f\u200b<code>stride=3</code>\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u3002</li> <li>\u200b\u6784\u9020\u200b\u4e86\u200b\u6539\u8fdb\u200b\u540e\u200b\u4f7f\u7528\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\u200b\u66ff\u6362\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5e76\u200b\u6d4b\u8bd5\u200b\u4e86\u200b\u6570\u636e\u200b\u5728\u200b\u8fd9\u200b\u4e00\u200b\u9636\u6bb5\u200b\u7684\u200b\u7ef4\u6570\u200b\u53d8\u5316\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b<code>torchsummary</code>\u200b\u5305\u200b\u548c\u200b<code>TensorBoard</code>\u200b\u67e5\u770b\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3002</li> <li>\u200b\u8c03\u6574\u200b\u4e86\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u4e3a\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u7684\u200b\u65b9\u5411\u200b\uff0c\u200b\u5b8c\u6210\u200b\u4e86\u200b\u5bf9\u6a21\u578b\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u3001\u200b\u9884\u6d4b\u503c\u200b\u548c\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u6bd4\u8f83\u200b\u3002</li> <li>\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6a21\u578b\u200b\u4f5c\u4e3a\u200b\u57fa\u51c6\u200b\u6a21\u578b\u200b\u7684\u200b\u6a21\u578b\u200b\u8868\u73b0\u200b\uff0c\u200b\u4e0e\u200b AlphaNet \u200b\u8fdb\u884c\u200b\u4e86\u200b\u5bf9\u6bd4\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/alphanet-v3/#\u6536\u83b7\u4e0e\u81f4\u8c22","title":"\u6536\u83b7\u200b\u4e0e\u200b\u81f4\u8c22","text":"<p>\u200b\u6211\u200b\u60f3\u200b\u505a\u200b\u8fd9\u4e2a\u200b\u8bfe\u9898\u200b\u7684\u200b\u52a8\u673a\u200b\u662f\u200b\uff1a\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\u501f\u9274\u200b\u4e86\u200b\u8bfe\u5185\u200b\u5b66\u200b\u7684\u200b CNN \u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u5e76\u4e14\u200b\u63d0\u53d6\u200b\u51fa\u200b\u7684\u200b\u8fd9\u4e9b\u200b\u7279\u5f81\u200b\u672c\u8eab\u200b\u5177\u6709\u200b\u903b\u8f91\u200b\u3002\u200b\u9762\u5bf9\u200b\u65f6\u5e8f\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4e5f\u200b\u6709\u200b LSTM\u3001GRU \u200b\u8fd9\u200b\u7c7b\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u53ef\u4ee5\u200b\u642d\u914d\u200b\u4f7f\u7528\u200b\u3002\u200b\u5f53\u200b\u62e5\u6709\u200b\u6d77\u91cf\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8fdb\u884c\u200b\u6570\u636e\u6316\u6398\u200b\u662f\u200b\u4e00\u79cd\u200b\u9ad8\u6548\u200b\u3001\u200b\u5feb\u6377\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u867d\u7136\u200b\u6700\u7ec8\u200b\u6ca1\u6709\u200b\u5b9e\u73b0\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u6781\u597d\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b\u4e5f\u200b\u6536\u83b7\u200b\u4e86\u200b\u5f88\u591a\u200b\u65b0\u200b\u7684\u200b\u77e5\u8bc6\u200b\u548c\u200b\u7ecf\u9a8c\u200b\uff1a</p> <ol> <li> <p>\u200b\u5bf9\u200b\u8bfe\u5185\u200b\u6240\u5b66\u200b\u7684\u200b\u77e5\u8bc6\u200b\u6709\u200b\u4e86\u200b\u66f4\u6df1\u200b\u7684\u200b\u7406\u89e3\u200b\u3002\u200b\u5728\u200b\u9009\u9898\u200b\u9636\u6bb5\u200b\uff0c\u200b\u6211\u200b\u5e0c\u671b\u200b\u6240\u200b\u505a\u200b\u7684\u200b\u4e1c\u897f\u200b\u5c3d\u91cf\u200b\u4e0e\u200b\u8bfe\u5185\u200b\u6240\u5b66\u200b\u76f8\u5173\u200b\uff0c\u200b\u4e0d\u8981\u200b\u8d85\u51fa\u200b\u81ea\u5df1\u200b\u7684\u200b\u8ba4\u77e5\u200b\u592a\u200b\u591a\u200b\uff0c\u200b\u6216\u8005\u200b\u81ea\u5b66\u200b\u8d77\u6765\u200b\u4e0d\u8981\u200b\u82b1\u8d39\u200b\u592a\u4e45\u200b\uff0c\u200b\u5426\u5219\u200b\u6211\u200b\u81ea\u5df1\u200b\u90fd\u200b\u4e0d\u80fd\u200b\u7406\u89e3\u200b\u6211\u200b\u7684\u200b\u6a21\u578b\u200b\u5728\u200b\u505a\u200b\u4ec0\u4e48\u200b\u3002\u200b\u6211\u200b\u53c2\u8003\u200b\u7684\u200b\u7814\u7a76\u200b\u62a5\u544a\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e86\u200b\u7c7b\u4f3c\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7684\u200b\u7279\u5f81\u63d0\u53d6\u200b\u5c42\u200b\uff0c\u200b\u6211\u200b\u89c9\u5f97\u200b\u548c\u200b\u8bfe\u5185\u200b\u5b66\u200b\u7684\u200b\u77e5\u8bc6\u200b\u5f88\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u81ea\u5df1\u200b\u4e5f\u200b\u80fd\u591f\u200b\u7406\u89e3\u200b\u5e76\u7528\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u5b83\u200b\u3002\u200b\u5728\u200b\u52a0\u5165\u200b\u6279\u200b\u6807\u51c6\u5316\u200b\u5c42\u200b\u3001\u200b\u95e8\u63a7\u200b\u5faa\u73af\u200b\u5355\u5143\u200b\uff08GRU\uff09\u200b\u65f6\u200b\uff0c\u200b\u6211\u200b\u81ea\u5b66\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u6559\u7a0b\u200b\u6587\u6863\u200b\u3001\u200b\u6559\u5b66\u200b\u89c6\u9891\u200b\uff0c\u200b\u66f4\u52a0\u200b\u7406\u89e3\u200b\u4e86\u200b\u5b83\u4eec\u200b\u7684\u200b\u539f\u7406\u200b\u548c\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5\u200b\u3002</p> </li> <li> <p>\u200b\u719f\u6089\u200b\u4e86\u200b\u4f7f\u7528\u200b PyTorch \u200b\u642d\u5efa\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7684\u200b\u6d41\u7a0b\u200b\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u5927\u200b\u4f5c\u4e1a\u200b\u4e4b\u524d\u200b\uff0c\u200b\u6211\u200b\u5e94\u7528\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u4ec5\u9650\u200b\u8bfe\u5185\u200b\u4e2a\u4eba\u200b\u4f5c\u4e1a\u200b 3 \u200b\u4e2d\u200b\u4f7f\u7528\u200b Keras \u200b\u642d\u5efa\u200b\u8fc7\u200b\u60c5\u7eea\u200b\u8bc6\u522b\u200b\u7684\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u3002\u200b\u6211\u200b\u770b\u5230\u200b\u4e1a\u754c\u200b\u6709\u200b\u5f88\u591a\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u5c97\u4f4d\u200b\u8981\u6c42\u200b\u5e94\u8058\u8005\u200b\u4f1a\u200b\u4f7f\u7528\u200b PyTorch\uff0c\u200b\u56e0\u6b64\u200b\u6211\u200b\u60f3\u200b\u5b66\u4e60\u200b\u4f7f\u7528\u200b PyTorch \u200b\u6765\u200b\u642d\u5efa\u200b\u4e00\u4e2a\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u6a21\u578b\u200b\u3002\u200b\u5728\u200b\u8fd9\u6b21\u200b\u4f5c\u4e1a\u200b\u4e2d\u200b\uff0c\u200b\u6211\u200b\u4f53\u4f1a\u200b\u4e86\u200b\u6784\u9020\u200b\u6570\u636e\u200b\u3001\u200b\u81ea\u5b9a\u4e49\u200b\u5c42\u200b\u3001\u200b\u6784\u5efa\u200b\u6a21\u578b\u200b\u3001\u200b\u8f93\u51fa\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\u3001\u200b\u8f7d\u5165\u200b\u6570\u636e\u200b\u3001\u200b\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u7684\u200b\u6574\u4e2a\u200b\u6d41\u7a0b\u200b\uff0c\u200b\u5bf9\u200b\u6211\u200b\u7684\u200b\u5b9e\u8df5\u200b\u7ecf\u5386\u200b\u662f\u200b\u6781\u5927\u200b\u7684\u200b\u4e30\u5bcc\u200b\u3002</p> </li> <li>\u200b\u5bf9\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u6709\u200b\u4e86\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u601d\u8003\u200b\u3002\u200b\u5728\u200b\u5b9e\u8df5\u200b\u4e4b\u524d\u200b\uff0c\u200b\u6211\u200b\u4e0d\u200b\u77e5\u9053\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7a76\u7adf\u200b\u80fd\u4e3a\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u5e26\u6765\u200b\u591a\u5927\u200b\u7684\u200b\u4f5c\u7528\u200b\u3002\u200b\u6211\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u6709\u4e9b\u200b\u671f\u5f85\u200b\uff0c\u200b\u4f46\u200b\u6700\u540e\u200b\u6548\u679c\u200b\u4e0d\u4f73\u200b\uff0c\u200b\u6211\u200b\u66f4\u200b\u7406\u89e3\u200b\u4e86\u200b\u91d1\u878d\u200b\u9886\u57df\u200b\u7684\u200b\u4f4e\u200b\u4fe1\u566a\u6bd4\u200b\u3001\u200b\u96be\u4ee5\u9884\u6d4b\u200b\u7684\u200b\u7279\u70b9\u200b\u3002\u200b\u81ea\u5df1\u200b\u52a8\u624b\u200b\u5b9e\u73b0\u200b\u4e86\u200b AlphaNet \u200b\u7684\u200b\u60f3\u6cd5\u200b\uff0c\u200b\u5e76\u200b\u68c0\u9a8c\u200b\u4e86\u200b\u5b83\u200b\u7684\u200b\u6548\u679c\u200b\uff0c\u200b\u6211\u200b\u66f4\u200b\u660e\u767d\u200b\u4e86\u200b\u7b80\u5355\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u6307\u6807\u200b\u548c\u200b\u9884\u6d4b\u200b\u6a21\u578b\u200b\u5f88\u96be\u200b\u53d6\u5f97\u200b\u957f\u4e45\u200b\u7684\u200b\u6b63\u200b\u6536\u76ca\u200b\u3002</li> </ol> <p>\u200b\u611f\u8c22\u200b\u4e24\u4f4d\u200b\u8001\u5e08\u200b\u548c\u200b\u52a9\u6559\u200b\u5b66\u957f\u200b\u8fd9\u200b\u5b66\u671f\u200b\u7684\u200b\u8f9b\u52e4\u200b\u4ed8\u51fa\u200b\uff0c\u200b\u4e5f\u200b\u611f\u8c22\u200b DS&amp;BA \u200b\u9879\u76ee\u7ec4\u200b\u5c06\u200b\u5927\u200b\u6570\u636e\u200b\u6280\u672f\u200b\u8fd9\u95e8\u200b\u8bfe\u200b\u8c03\u6574\u200b\u5230\u200b\u7814\u4e00\u200b\u7b2c\u4e00\u200b\u5b66\u671f\u200b\u8bb2\u6388\u200b\u3002\u200b\u867d\u7136\u200b\u65f6\u95f4\u200b\u6bd4\u8f83\u200b\u7d27\u200b\uff0c\u200b\u4f46\u200b\u5b66\u5230\u200b\u7684\u200b\u7406\u8bba\u200b\u548c\u200b\u5b9e\u8df5\u200b\u7ecf\u5386\u200b\u90fd\u200b\u662f\u200b\u5f88\u200b\u4e30\u5bcc\u200b\u7684\u200b\uff0c\u200b\u8fd9\u4e3a\u200b\u6211\u4eec\u200b\u5728\u200b\u4e1a\u754c\u200b\u6c42\u804c\u200b\u5e26\u6765\u200b\u4e86\u200b\u5f88\u591a\u200b\u5e2e\u52a9\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/cross-entropy/","title":"\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570","text":"<p>\u200b\u6458\u5f55\u200b\u5fae\u8f6f\u200b AI-Edu \u200b\u4e2d\u200b\u5173\u4e8e\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u6559\u7a0b\u200b\uff0c\u200b\u5e76\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u90e8\u5206\u200b\u5b66\u4e60\u200b\u6ce8\u89e3\u200b\u3002\u200b\u5f00\u6e90\u200b\u8bb8\u53ef\u200b\u3002</p> <p> </p> `y=0` \u200b\u548c\u200b `y=1` \u200b\u65f6\u200b\uff0c\u200b\u4e0d\u540c\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u4ea4\u53c9\u71b5\u635f\u5931\u51fd\u6570_1","title":"\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570","text":"<p>\u200b\u4ea4\u53c9\u200b\u71b5\u200b\uff08Cross Entropy\uff09\u200b\u662f\u200b Shannon \u200b\u4fe1\u606f\u8bba\u200b\u4e2d\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u6982\u5ff5\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5ea6\u91cf\u200b\u4e24\u4e2a\u200b\u6982\u7387\u5206\u5e03\u200b\u95f4\u200b\u7684\u200b\u5dee\u5f02\u6027\u200b\u4fe1\u606f\u200b\u3002\u200b\u5728\u200b\u4fe1\u606f\u8bba\u200b\u4e2d\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u662f\u200b\u8868\u793a\u200b\u4e24\u4e2a\u200b\u6982\u7387\u5206\u5e03\u200b \\(p,q\\) \u200b\u7684\u200b\u5dee\u5f02\u200b\uff0c\u200b\u5176\u4e2d\u200b \\(p\\) \u200b\u8868\u793a\u200b\u771f\u5b9e\u200b\u5206\u5e03\u200b\uff0c\\(q\\) \u200b\u8868\u793a\u200b\u9884\u6d4b\u200b\u5206\u5e03\u200b\uff0c\u200b\u90a3\u4e48\u200b \\(H(p,q)\\) \u200b\u5c31\u200b\u79f0\u4e3a\u200b\u4ea4\u53c9\u200b\u71b5\u200b\uff1a</p> \\[ H(p,q)=\\sum_i p_i \\cdot \\ln {1 \\over q_i} = - \\sum_i p_i \\ln q_i \\tag{1} \\] <p>\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u53ef\u200b\u5728\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\\(p\\) \u200b\u8868\u793a\u200b\u771f\u5b9e\u200b\u6807\u8bb0\u200b\u7684\u200b\u5206\u5e03\u200b\uff0c\\(q\\) \u200b\u5219\u200b\u4e3a\u200b\u8bad\u7ec3\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u6807\u8bb0\u200b\u5206\u5e03\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u8861\u91cf\u200b \\(p\\) \u200b\u4e0e\u200b \\(q\\) \u200b\u7684\u200b\u76f8\u4f3c\u6027\u200b\u3002</p> <p>\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u51fd\u6570\u200b\u5e38\u7528\u200b\u4e8e\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b (logistic regression)\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5206\u7c7b\u200b (classification)\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u4ea4\u53c9\u71b5\u7684\u7531\u6765","title":"\u4ea4\u53c9\u200b\u71b5\u200b\u7684\u200b\u7531\u200b\u6765","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u4fe1\u606f\u91cf","title":"\u4fe1\u606f\u91cf","text":"<p>\u200b\u4fe1\u606f\u8bba\u200b\u4e2d\u200b\uff0c\u200b\u4fe1\u606f\u91cf\u200b\u7684\u200b\u8868\u793a\u200b\u65b9\u5f0f\u200b\uff1a</p> \\[I(x_j) = -\\ln (p(x_j)) \\tag{2}\\] <p>\\(x_j\\)\uff1a\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4e8b\u4ef6\u200b</p> <p>\\(p(x_j)\\)\uff1a\u200b\u8868\u793a\u200b \\(x_j\\) \u200b\u53d1\u751f\u200b\u7684\u200b\u6982\u7387\u200b</p> <p>\\(I(x_j)\\)\uff1a\u200b\u4fe1\u606f\u91cf\u200b\uff0c\\(x_j\\) \u200b\u8d8a\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u53d1\u751f\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u4e00\u65e6\u200b\u53d1\u751f\u200b\u540e\u200b\u7684\u200b\u4fe1\u606f\u91cf\u200b\u5c31\u200b\u8d8a\u200b\u5927\u200b</p> <p>\u200b\u5047\u8bbe\u200b\u5bf9\u4e8e\u200b\u5b66\u4e60\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u539f\u7406\u200b\u8bfe\u7a0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u6709\u200b\u4e09\u79cd\u200b\u53ef\u80fd\u200b\u7684\u200b\u60c5\u51b5\u200b\u53d1\u751f\u200b\uff0c\u200b\u5982\u8868\u200b 3-2 \u200b\u6240\u793a\u200b\u3002</p> <p>\u200b\u8868\u200b 3-2 \u200b\u4e09\u79cd\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6982\u8bba\u200b\u548c\u200b\u4fe1\u606f\u91cf\u200b</p> \u200b\u4e8b\u4ef6\u200b\u7f16\u53f7\u200b \u200b\u4e8b\u4ef6\u200b \u200b\u6982\u7387\u200b \\(p\\) \u200b\u4fe1\u606f\u91cf\u200b \\(I\\) \\(x_1\\) \u200b\u4f18\u79c0\u200b \\(p=0.7\\) \\(I=-\\ln(0.7)=0.36\\) \\(x_2\\) \u200b\u53ca\u683c\u200b \\(p=0.2\\) \\(I=-\\ln(0.2)=1.61\\) \\(x_3\\) \u200b\u4e0d\u53ca\u683c\u200b \\(p=0.1\\) \\(I=-\\ln(0.1)=2.30\\) <p>WoW\uff0c\u200b\u67d0\u67d0\u200b\u540c\u5b66\u200b\u4e0d\u53ca\u683c\u200b\uff01\u200b\u597d\u5927\u200b\u7684\u200b\u4fe1\u606f\u91cf\u200b\uff01\u200b\u76f8\u200b\u6bd4\u8f83\u200b\u6765\u8bf4\u200b\uff0c\u201c\u200b\u4f18\u79c0\u200b\u201d\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u4fe1\u606f\u91cf\u200b\u53cd\u800c\u200b\u5c0f\u200b\u4e86\u200b\u5f88\u591a\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u71b5","title":"\u71b5","text":"\\[H(p) = - \\sum_j^n p(x_j) \\ln (p(x_j)) \\tag{3}\\] <p>\u200b\u5219\u200b\u4e0a\u9762\u200b\u7684\u200b\u95ee\u9898\u200b\u7684\u200b\u71b5\u200b\u662f\u200b\uff1a</p> \\[ \\begin{aligned} H(p)&amp;=-[p(x_1) \\ln p(x_1) + p(x_2) \\ln p(x_2) + p(x_3) \\ln p(x_3)] \\\\\\ &amp;=0.7 \\times 0.36 + 0.2 \\times 1.61 + 0.1 \\times 2.30 \\\\\\ &amp;=0.804 \\end{aligned} \\] <p>\u200b\u71b5\u200b\u53ef\u4ee5\u200b\u8861\u91cf\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u6df7\u4e71\u200b\u7a0b\u5ea6\u200b\uff1a\u200b\u71b5\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u5219\u200b\u5206\u5e03\u200b\u8d8a\u200b\u6df7\u4e71\u200b\u3001\u200b\u8d8a\u200b\u4e0d\u200b\u96c6\u4e2d\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u76f8\u5bf9\u71b5-kl-\u6563\u5ea6","title":"\u76f8\u5bf9\u200b\u71b5\u200b (KL \u200b\u6563\u5ea6\u200b\uff09","text":"<p>\u200b\u76f8\u5bf9\u200b\u71b5\u200b\u53c8\u79f0\u200b KL \u200b\u6563\u5ea6\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5bf9\u4e8e\u200b\u540c\u4e00\u4e2a\u200b\u968f\u673a\u53d8\u91cf\u200b \\(x\\) \u200b\u6709\u200b\u4e24\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u6982\u7387\u5206\u5e03\u200b \\(P(x)\\) \u200b\u548c\u200b \\(Q(x)\\)\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b KL \u200b\u6563\u5ea6\u200b\uff08Kullback-Leibler (KL) divergence\uff09\u200b\u6765\u200b\u8861\u91cf\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u5dee\u5f02\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u76f8\u5f53\u4e8e\u200b\u4fe1\u606f\u8bba\u200b\u8303\u7574\u200b\u7684\u200b\u5747\u200b\u65b9\u5dee\u200b\u3002</p> <p>KL \u200b\u6563\u5ea6\u200b\u7684\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\uff1a</p> \\[D_{KL}(p||q)=\\sum_{j=1}^n p(x_j) \\ln{p(x_j) \\over q(x_j)} \\tag{4}\\] <p>\\(n\\) \u200b\u4e3a\u200b\u4e8b\u4ef6\u200b\u7684\u200b\u6240\u6709\u200b\u53ef\u80fd\u6027\u200b\u3002\\(D\\) \u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u5c0f\u200b\uff0c\u200b\u8868\u793a\u200b \\(q\\) \u200b\u5206\u5e03\u200b\u548c\u200b \\(p\\) \u200b\u5206\u5e03\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u4ea4\u53c9\u71b5","title":"\u4ea4\u53c9\u200b\u71b5","text":"<p>\u200b\u628a\u200b\u4e0a\u8ff0\u200b\u516c\u5f0f\u200b\u53d8\u5f62\u200b\uff1a</p> \\[ \\begin{aligned} D_{KL}(p||q)&amp;=\\sum_{j=1}^n p(x_j) \\ln{p(x_j)} - \\sum_{j=1}^n p(x_j) \\ln q(x_j) \\\\\\\\ &amp;=- H(p(x)) + H(p,q) \\end{aligned} \\tag{5} \\] <p>\u200b\u7b49\u5f0f\u200b\u7684\u200b\u524d\u200b\u4e00\u90e8\u5206\u200b\u6070\u5de7\u200b\u5c31\u662f\u200b \\(p\\) \u200b\u7684\u200b\u71b5\u200b\u3002\u200b\u7b49\u5f0f\u200b\u7684\u200b\u540e\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u5c31\u662f\u200b\u4ea4\u53c9\u200b\u71b5\u200b\uff1a</p> \\[H(p,q) =- \\sum_{j=1}^n p(x_j) \\ln q(x_j) \\tag{6}\\] <p>\u200b\u5728\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u8bc4\u4f30\u200b\u6807\u7b7e\u200b\u503c\u200b \\(y\\) \u200b\u548c\u200b\u9884\u6d4b\u503c\u200b \\(a\\) \u200b\u4e4b\u95f4\u200b\u7684\u200b\u5dee\u8ddd\u200b\uff0c\u200b\u4f7f\u7528\u200b KL \u200b\u6563\u5ea6\u200b\u521a\u521a\u200b\u597d\u200b\uff0c\u200b\u5373\u200b \\(D_{KL}(y||a)\\)\uff0c\u200b\u7531\u4e8e\u200b KL \u200b\u6563\u5ea6\u200b\u4e2d\u200b\u7684\u200b\u524d\u200b\u4e00\u90e8\u5206\u200b \\(H(y)\\) \u200b\u4e0d\u53d8\u200b\uff0c\u200b\u6545\u200b\u5728\u200b\u4f18\u5316\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b\u3002\u200b\u6240\u4ee5\u200b\u4e00\u822c\u200b\u5728\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u4e2d\u200b\u76f4\u63a5\u200b\u7528\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u505a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u6765\u200b\u8bc4\u4f30\u200b\u6a21\u578b\u200b\u3002</p> \\[loss =- \\sum_{j=1}^n y_j \\ln a_j \\tag{7}\\] <p>\u200b\u516c\u5f0f\u200b 7 \u200b\u662f\u200b\u5355\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\\(n\\) \u200b\u5e76\u200b\u4e0d\u662f\u200b\u6837\u672c\u200b\u4e2a\u6570\u200b\uff0c\u200b\u800c\u662f\u200b\u5206\u7c7b\u200b\u4e2a\u6570\u200b\u3002\u200b\u6240\u4ee5\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6279\u91cf\u200b\u6837\u672c\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\u662f\u200b\uff1a</p> \\[J =- \\sum_{i=1}^m \\sum_{j=1}^n y_{ij} \\ln a_{ij} \\tag{8}\\] <p>\\(m\\) \u200b\u662f\u200b\u6837\u672c\u6570\u200b\uff0c\\(n\\) \u200b\u662f\u200b\u5206\u7c7b\u200b\u6570\u200b\u3002</p> <p>\u200b\u6709\u200b\u4e00\u7c7b\u200b\u7279\u6b8a\u200b\u95ee\u9898\u200b\uff0c\u200b\u5c31\u662f\u200b\u4e8b\u4ef6\u200b\u53ea\u6709\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u53d1\u751f\u200b\u7684\u200b\u53ef\u80fd\u200b\uff0c\u200b\u6bd4\u5982\u200b\u201c\u200b\u5b66\u4f1a\u200b\u4e86\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u6ca1\u200b\u5b66\u4f1a\u200b\u201d\uff0c\u200b\u79f0\u4e3a\u200b \\(0/1\\) \u200b\u5206\u7c7b\u200b\u6216\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u8fd9\u200b\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u7531\u4e8e\u200b\\(n=2\uff0cy_1=1-y_2\uff0ca_1=1-a_2\\)\uff0c\u200b\u6240\u4ee5\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u53ef\u4ee5\u200b\u7b80\u5316\u200b\u4e3a\u200b\uff1a</p> \\[loss =-[y \\ln a + (1-y) \\ln (1-a)] \\tag{9}\\] <p>\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u5bf9\u4e8e\u200b\u6279\u91cf\u200b\u6837\u672c\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\u662f\u200b\uff1a</p> \\[J= - \\sum_{i=1}^m [y_i \\ln a_i + (1-y_i) \\ln (1-a_i)] \\tag{10}\\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u4e8c\u5206\u7c7b\u95ee\u9898\u4ea4\u53c9\u71b5","title":"\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u4ea4\u53c9\u200b\u71b5","text":"<p>\u200b\u628a\u200b\u516c\u5f0f\u200b 10 \u200b\u5206\u89e3\u200b\u5f00\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5f53\u200b \\(y=1\\) \u200b\u65f6\u200b\uff0c\u200b\u5373\u200b\u6807\u7b7e\u200b\u503c\u200b\u662f\u200b \\(1\\)\uff0c\u200b\u662f\u200b\u4e2a\u200b\u6b63\u4f8b\u200b\uff0c\u200b\u52a0\u53f7\u200b\u540e\u9762\u200b\u7684\u200b\u9879\u4e3a\u200b \\(0\\)\uff1a</p> \\[loss = -\\ln(a) \\tag{11}\\] <p>\u200b\u6a2a\u5750\u6807\u200b\u662f\u200b\u9884\u6d4b\u200b\u8f93\u51fa\u200b\uff0c\u200b\u7eb5\u5750\u6807\u200b\u662f\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u200b\u3002\\(y=1\\) \u200b\u610f\u5473\u7740\u200b\u5f53\u524d\u200b\u6837\u672c\u200b\u6807\u7b7e\u200b\u503c\u200b\u662f\u200b 1\uff0c\u200b\u5f53\u200b\u9884\u6d4b\u200b\u8f93\u51fa\u200b\u8d8a\u200b\u63a5\u8fd1\u200b 1 \u200b\u65f6\u200b\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u8d8a\u200b\u5c0f\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u7ed3\u679c\u200b\u8d8a\u200b\u51c6\u786e\u200b\u3002\u200b\u5f53\u200b\u9884\u6d4b\u200b\u8f93\u51fa\u200b\u8d8a\u200b\u63a5\u8fd1\u200b 0 \u200b\u65f6\u200b\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u8d8a\u200b\u5927\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u7ed3\u679c\u200b\u8d8a\u200b\u7cdf\u7cd5\u200b\u3002</p> <p>\u200b\u5f53\u200b \\(y=0\\) \u200b\u65f6\u200b\uff0c\u200b\u5373\u200b\u6807\u7b7e\u200b\u503c\u200b\u662f\u200b 0\uff0c\u200b\u662f\u200b\u4e2a\u200b\u53cd\u4f8b\u200b\uff0c\u200b\u52a0\u53f7\u200b\u524d\u9762\u200b\u7684\u200b\u9879\u4e3a\u200b 0\uff1a</p> \\[loss = -\\ln (1-a) \\tag{12}\\] <p>\u200b\u6b64\u65f6\u200b\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u5982\u56fe\u200b 3-10\u3002</p> <p> \u200b\u4e8c\u200b\u5206\u7c7b\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u56fe\u200b </p> <p>\u200b\u5047\u8bbe\u200b\u5b66\u4f1a\u200b\u4e86\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u4e3a\u200b 1\uff0c\u200b\u6ca1\u6709\u200b\u5b66\u4f1a\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u4e3a\u200b 0\u3002\u200b\u6211\u4eec\u200b\u60f3\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u9884\u6d4b\u5668\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u5b66\u5458\u200b\uff0c\u200b\u6839\u636e\u200b\u51fa\u52e4\u7387\u200b\u3001\u200b\u8bfe\u5802\u200b\u8868\u73b0\u200b\u3001\u200b\u4f5c\u4e1a\u200b\u60c5\u51b5\u200b\u3001\u200b\u5b66\u4e60\u200b\u80fd\u529b\u200b\u7b49\u7b49\u200b\u6765\u200b\u9884\u6d4b\u200b\u5176\u200b\u5b66\u4f1a\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u6982\u7387\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u5b66\u5458\u200b\u7532\u200b\uff0c\u200b\u9884\u6d4b\u200b\u5176\u200b\u5b66\u4f1a\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b 0.6\uff0c\u200b\u800c\u200b\u5b9e\u9645\u4e0a\u200b\u8be5\u200b\u5b66\u5458\u200b\u901a\u8fc7\u200b\u4e86\u200b\u8003\u8bd5\u200b\uff0c\u200b\u771f\u5b9e\u200b\u503c\u4e3a\u200b 1\u3002\u200b\u6240\u4ee5\u200b\uff0c\u200b\u5b66\u5458\u200b\u7532\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u200b\u662f\u200b\uff1a</p> \\[ loss_1 = -(1 \\times \\ln 0.6 + (1-1) \\times \\ln (1-0.6)) = 0.51 \\] <p>\u200b\u5bf9\u4e8e\u200b\u5b66\u5458\u200b\u4e59\u200b\uff0c\u200b\u9884\u6d4b\u200b\u5176\u200b\u5b66\u4f1a\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b 0.7\uff0c\u200b\u800c\u200b\u5b9e\u9645\u4e0a\u200b\u8be5\u200b\u5b66\u5458\u200b\u4e5f\u200b\u901a\u8fc7\u200b\u4e86\u200b\u8003\u8bd5\u200b\u3002\u200b\u6240\u4ee5\u200b\uff0c\u200b\u5b66\u5458\u200b\u4e59\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u200b\u662f\u200b\uff1a</p> \\[ loss_2 = -(1 \\times \\ln 0.7 + (1-1) \\times \\ln (1-0.7)) = 0.36 \\] <p>\u200b\u7531\u4e8e\u200b 0.7 \u200b\u6bd4\u200b 0.6 \u200b\u66f4\u200b\u63a5\u8fd1\u200b 1\uff0c\u200b\u662f\u200b\u76f8\u5bf9\u200b\u51c6\u786e\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u6240\u4ee5\u200b \\(loss2\\) \u200b\u8981\u200b\u6bd4\u200b \\(loss1\\) \u200b\u5c0f\u200b\uff0c\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7684\u200b\u529b\u5ea6\u200b\u4e5f\u200b\u4f1a\u200b\u5c0f\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u591a\u5206\u7c7b\u95ee\u9898\u4ea4\u53c9\u71b5","title":"\u591a\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u4ea4\u53c9\u200b\u71b5","text":"<p>\u200b\u5f53\u200b\u6807\u7b7e\u200b\u503c\u200b\u4e0d\u662f\u200b\u975e\u200b 0 \u200b\u5373\u200b 1 \u200b\u7684\u200b\u60c5\u51b5\u200b\u65f6\u200b\uff0c\u200b\u5c31\u662f\u200b\u591a\u200b\u5206\u7c7b\u200b\u4e86\u200b\u3002\u200b\u5047\u8bbe\u200b\u671f\u672b\u8003\u8bd5\u200b\u6709\u200b\u4e09\u79cd\u200b\u60c5\u51b5\u200b\uff1a</p> <ol> <li>\u200b\u4f18\u79c0\u200b\uff0c\u200b\u6807\u7b7e\u200b\u503c\u200b OneHot \u200b\u7f16\u7801\u200b\u4e3a\u200b \\([1,0,0]\\)\uff1b</li> <li>\u200b\u53ca\u683c\u200b\uff0c\u200b\u6807\u7b7e\u200b\u503c\u200b OneHot \u200b\u7f16\u7801\u200b\u4e3a\u200b \\([0,1,0]\\)\uff1b</li> <li>\u200b\u4e0d\u53ca\u683c\u200b\uff0c\u200b\u6807\u7b7e\u200b\u503c\u200b OneHot \u200b\u7f16\u7801\u200b\u4e3a\u200b \\([0,0,1]\\)\u3002</li> </ol> <p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u9884\u6d4b\u200b\u5b66\u5458\u200b\u4e19\u200b\u7684\u200b\u6210\u7ee9\u200b\u4e3a\u200b\u4f18\u79c0\u200b\u3001\u200b\u53ca\u683c\u200b\u3001\u200b\u4e0d\u53ca\u683c\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b\uff1a\\([0.2,0.5,0.3]\\)\uff0c\u200b\u800c\u200b\u771f\u5b9e\u60c5\u51b5\u200b\u662f\u200b\u8be5\u200b\u5b66\u5458\u200b\u4e0d\u53ca\u683c\u200b\uff0c\u200b\u5219\u200b\u5f97\u5230\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u662f\u200b\uff1a</p> \\[ loss_1 = -(0 \\times \\ln 0.2 + 0 \\times \\ln 0.5 + 1 \\times \\ln 0.3) = 1.2 \\] <p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u9884\u6d4b\u200b\u5b66\u5458\u200b\u4e01\u200b\u7684\u200b\u6210\u7ee9\u200b\u4e3a\u200b\u4f18\u79c0\u200b\u3001\u200b\u53ca\u683c\u200b\u3001\u200b\u4e0d\u53ca\u683c\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b\uff1a\\([0.2,0.2,0.6]\\)\uff0c\u200b\u800c\u200b\u771f\u5b9e\u60c5\u51b5\u200b\u662f\u200b\u8be5\u200b\u5b66\u5458\u200b\u4e0d\u53ca\u683c\u200b\uff0c\u200b\u5219\u200b\u5f97\u5230\u200b\u7684\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u662f\u200b\uff1a</p> \\[ loss_2 = -(0 \\times \\ln 0.2 + 0 \\times \\ln 0.2 + 1 \\times \\ln 0.6) = 0.51 \\] <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c0.51 \u200b\u6bd4\u200b 1.2 \u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\u5c0f\u200b\u5f88\u591a\u200b\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u9884\u6d4b\u503c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u503c\u200b\uff080.6 vs 0.3\uff09\uff0c\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u8d8a\u200b\u5c0f\u200b\uff0c\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7684\u200b\u529b\u5ea6\u200b\u8d8a\u5c0f\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/cross-entropy/#\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4f7f\u7528\u5747\u65b9\u5dee\u505a\u4e3a\u5206\u7c7b\u95ee\u9898\u7684\u635f\u5931\u51fd\u6570","title":"\u4e3a\u4ec0\u4e48\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u5747\u200b\u65b9\u5dee\u200b\u505a\u200b\u4e3a\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff1f","text":"<ol> <li> <p>\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u901a\u5e38\u200b\u7528\u5747\u200b\u65b9\u5dee\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u662f\u200b\u4e2a\u200b\u51f8\u51fd\u6570\u200b\uff0c\u200b\u5373\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002\u200b\u800c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u5982\u679c\u200b\u7528\u5747\u200b\u65b9\u5dee\u200b\u7684\u8bdd\u200b\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u8868\u73b0\u200b\u4e0d\u662f\u200b\u51f8\u51fd\u6570\u200b\uff0c\u200b\u5c31\u200b\u5f88\u200b\u96be\u200b\u5f97\u5230\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002\u200b\u800c\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b\u533a\u95f4\u200b\u5185\u200b\u5355\u8c03\u200b\u3002</p> </li> <li> <p>\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u5c42\u200b\u7f51\u7edc\u200b\uff0c\u200b\u9700\u8981\u200b\u5206\u7c7b\u200b\u51fd\u6570\u200b\uff0cSigmoid \u200b\u6216\u8005\u200b Softmax\uff0c\u200b\u5982\u679c\u200b\u518d\u200b\u63a5\u5747\u200b\u65b9\u5dee\u200b\u51fd\u6570\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5176\u200b\u6c42\u5bfc\u200b\u7ed3\u679c\u200b\u590d\u6742\u200b\uff0c\u200b\u8fd0\u7b97\u91cf\u200b\u6bd4\u8f83\u200b\u5927\u200b\u3002\u200b\u7528\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u51fd\u6570\u200b\u7684\u8bdd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u6bd4\u8f83\u7b80\u5355\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u51cf\u6cd5\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u53cd\u5411\u200b\u8bef\u5dee\u200b\u3002</p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-local-minimum/","title":"\u5f53\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u9677\u5165\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3","text":"<p>\u200b\u5e94\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u65f6\u200b\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u200b\u4e0d\u518d\u200b\u53d1\u751f\u53d8\u5316\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u662f\u200b\u627e\u5230\u200b\u4e86\u200b\u5168\u5c40\u200b\u6700\u4f18\u200b\u89e3\u200b\uff0c\u200b\u53ef\u80fd\u200b\u662f\u200b\u9677\u5165\u200b\u4e86\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002\u200b\u4e3a\u200b\u5f53\u524d\u200b\u53c2\u6570\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u5fae\u5c0f\u200b\u6270\u52a8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u8df3\u51fa\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002</p> <p> </p> \u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u9677\u5165\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-local-minimum/#\u95ee\u9898\u80cc\u666f","title":"\u95ee\u9898\u200b\u80cc\u666f","text":"<p>\u200b\u5728\u200b\u5e94\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b\u65f6\u200b\uff0c\u200b\u9664\u4e86\u200b\u8bbe\u7f6e\u200b\u6700\u5927\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u635f\u5931\u200b\u503c\u200b\u7684\u200b\u53d8\u5316\u200b\u60c5\u51b5\u200b\u6765\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u7ec8\u6b62\u200b\u8fed\u4ee3\u200b\u3002</p> Python<pre><code>def gradient_descent(self, x, y, alpha=0.5, c=0.5, beta_initial=None):\n\"\"\"\n    Args:\n        x: \u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u7279\u5f81\u200b\n        y: \u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u6807\u7b7e\u200b\n        alpha: \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\n        c: \u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u7684\u200b\u53c2\u6570\u200b\n        beta_initial: \u200b\u5f85\u200b\u4f18\u5316\u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u5168\u96f6\u200b\u5411\u91cf\u200b\n    Returns:\n        beta: \u200b\u8fed\u4ee3\u200b\u540e\u200b\u7684\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b\n    \"\"\"\n# \u200b\u521d\u59cb\u5316\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u200b\nself.loss = []\n# \u200b\u521d\u59cb\u5316\u200b\u5f85\u200b\u4f18\u5316\u200b\u7684\u200b\u53c2\u6570\u200b\nif beta_initial is None:\nbeta = np.zeros(x.shape[1])\nelse:\nbeta = beta_initial\n# \u200b\u8fed\u4ee3\u200b\u6c42\u89e3\u200b\nfor k in range(self.K):\n# \u200b\u8ba1\u7b97\u200b\u68af\u5ea6\u200b\ngradient_beta = self.gradient(x, y, beta, self.lambda_)\n# \u200b\u8ba1\u7b97\u200b\u56de\u6eaf\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u7684\u200b\u6b65\u957f\u200b\nt = 1\nwhile self.f(x, y, beta - t * gradient_beta, self.lambda_) &gt; self.f(\nx, y, beta, self.lambda_\n) - alpha * t * gradient_beta.T.dot(gradient_beta):\nt = c * t\n# \u200b\u66f4\u65b0\u200b\u53c2\u6570\u200b\nbeta = beta - t * gradient_beta\n# \u200b\u8bb0\u5f55\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u200b\nself.loss.append(self.f(x, y, beta, self.lambda_))\n# \u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\uff1a\u200b\u81f3\u5c11\u200b\u8fed\u4ee3\u200b\u4e86\u200b 100 \u200b\u8f6e\u200b\uff0c\u200b\u4e14\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u200b\u5728\u200b\u6700\u8fd1\u200b 2 \u200b\u8f6e\u200b\u7684\u200b\u8fed\u4ee3\u200b\u4e2d\u200b\u53d8\u5316\u200b\u5c0f\u4e8e\u200b 1e-6\nif k &gt; 100 and abs(self.loss[-2] - self.loss[-1]) &lt; 1e-6:\nbreak\n# \u200b\u5c06\u200b\u53c2\u6570\u503c\u200b\u5c0f\u4e8e\u200b 1e-3 \u200b\u7684\u200b\u7f6e\u200b\u4e3a\u200b 0\nbeta[np.abs(beta) &lt; 1e-3] = 0\nreturn beta\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u6700\u5927\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u4e3a\u200b<code>K=10000</code>\uff0c\u200b\u540c\u65f6\u200b\u4e5f\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\uff1a</p> Python<pre><code># \u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\uff1a\u200b\u81f3\u5c11\u200b\u8fed\u4ee3\u200b\u4e86\u200b 100 \u200b\u8f6e\u200b\uff0c\u200b\u4e14\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u200b\u5728\u200b\u6700\u8fd1\u200b 2 \u200b\u8f6e\u200b\u7684\u200b\u8fed\u4ee3\u200b\u4e2d\u200b\u53d8\u5316\u200b\u5c0f\u4e8e\u200b 1e-6\nif k &gt; 100 and abs(self.loss[-2] - self.loss[-1]) &lt; 1e-6:\nbreak\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-local-minimum/#\u68af\u5ea6\u4e0b\u964d\u6cd5\u7684\u6536\u655b\u503c\u4e0e\u5176\u4ed6\u4e24\u79cd\u65b9\u6cd5\u4e0d\u4e00\u81f4","title":"\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u7684\u200b\u6536\u655b\u200b\u503c\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u4e0d\u200b\u4e00\u81f4","text":"<p>\u200b\u7ed8\u5236\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u200b\u968f\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u7684\u200b\u53d8\u5316\u200b\u60c5\u51b5\u200b\uff0c\u200b\u53d1\u73b0\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u7684\u200b\u6536\u655b\u200b\u901f\u5ea6\u200b\u5f88\u5feb\u200b\uff0c\u200b\u4ec5\u200b 102 \u200b\u8f6e\u200b\u8fed\u4ee3\u200b\u4fbf\u200b\u6536\u655b\u200b\u3002</p> <p>\u200b\u968f\u673a\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u3001\u200b\u5750\u6807\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u6536\u655b\u200b\u5230\u200b\u540c\u4e00\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u7ea6\u200b\\(0.365\\)\uff0c\u200b\u4f46\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u5374\u200b\u7ea6\u200b\u4e3a\u200b\\(0.4\\)\u3002</p> <p></p> <p>\u200b\u731c\u6d4b\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u53ef\u80fd\u200b\u9677\u5165\u200b\u4e86\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/gradient-descent-local-minimum/#\u52a0\u5165\u968f\u673a\u6270\u52a8\u5e2e\u52a9\u8df3\u51fa\u5c40\u90e8\u6700\u4f18","title":"\u52a0\u5165\u200b\u968f\u673a\u200b\u6270\u52a8\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u8df3\u51fa\u200b\u5c40\u90e8\u200b\u6700\u4f18","text":"<p>\u200b\u4e0d\u200b\u8bb0\u5f97\u200b\u5728\u200b\u54ea\u91cc\u200b\u5b66\u5230\u200b\u7684\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\uff08\u200b\u53ef\u80fd\u200b\u662f\u200b\u5434\u6069\u8fbe\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u89c6\u9891\u200b\uff0c\u200b\u6216\u662f\u200b\u67d0\u6b21\u200b\u5b66\u672f\u200b\u8bb2\u5ea7\u200b\uff09\u3002\u200b\u5728\u200b\u89c2\u5bdf\u200b\u5230\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u503c\u200b\u4e0d\u200b\u53d1\u751f\u53d8\u5316\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5f53\u524d\u200b\u53c2\u6570\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u968f\u673a\u200b\u6270\u52a8\u200b\u9879\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u8df3\u51fa\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u4e4b\u524d\u200b\u7ec8\u6b62\u200b\u8fed\u4ee3\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code># \u200b\u6539\u53d8\u200b\u5f53\u524d\u200b\u503c\u200b\u7684\u200b\u6761\u4ef6\u200b\uff1a\u200b\u81f3\u5c11\u200b\u8fed\u4ee3\u200b\u4e86\u200b 100 \u200b\u8f6e\u200b\uff0c\u200b\u4e14\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u200b\u5728\u200b\u6700\u8fd1\u200b 2 \u200b\u8f6e\u200b\u7684\u200b\u8fed\u4ee3\u200b\u4e2d\u200b\u53d8\u5316\u200b\u5c0f\u4e8e\u200b 1e-6\nif k &gt; 100 and abs(self.loss[-2] - self.loss[-1]) &lt; 1e-6:\n# \u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u5206\u91cf\u200b\u52a0\u4e0a\u200b\u566a\u97f3\u200b N(0, 1e-2)\nbeta = beta + np.random.normal(0, 1e-2, beta.shape)\n</code></pre> <p></p> <p>\u200b\u6b64\u65f6\u200b\u4e09\u79cd\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u7684\u200b\u65b9\u6cd5\u200b\u51e0\u4e4e\u200b\u90fd\u200b\u6536\u655b\u200b\u5230\u200b\u540c\u4e00\u200b\u503c\u200b\uff0c\u200b\u8bf4\u660e\u200b\u968f\u673a\u200b\u6270\u52a8\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u8df3\u51fa\u200b\u4e86\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\uff01</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/tqdm/","title":"\u4f7f\u7528\u200b tqdm \u200b\u7f8e\u5316\u200b\u8fdb\u5ea6\u6761","text":"<p>\u200b\u5728\u200b\u9879\u76ee\u200b\u4e2d\u200b\u7ecf\u5e38\u200b\u9047\u5230\u200b\u8017\u65f6\u200b\u8f83\u4e45\u200b\u7684\u200b\u5faa\u73af\u200b\uff0c<code>tqdm</code>\u200b\u53ef\u4ee5\u200b\u6253\u5370\u200b\u7f8e\u89c2\u200b\u7684\u200b\u8fdb\u5ea6\u6761\u200b\uff0c\u200b\u540c\u65f6\u200b\u8f93\u51fa\u200b\u5faa\u73af\u200b\u4e2d\u200b\u7684\u200b\u53d8\u91cf\u200b\u4fe1\u606f\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/tqdm/#\u7b80\u5355\u7528\u6cd5","title":"\u7b80\u5355\u200b\u7528\u6cd5","text":"<p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u6211\u200b\u4e00\u76f4\u200b\u4f7f\u7528\u200b\u7684\u200b\uff1a</p> Python<pre><code>from tqdm import tqdm\nimport time\npbar = tqdm(range(10))\nfor i in pbar:\ntime.sleep(1)\n# \u200b\u8f93\u51fa\u200b\u8fdb\u5ea6\u6761\u200b\npbar.set_description(\"\u200b\u6b63\u5728\u200b\u6267\u884c\u200b\u7b2c\u200b%s\u200b\u4e2a\u200b\u5faa\u73af\u200b\" % i)\n</code></pre> <p>\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6253\u5370\u200b\u5355\u4e2a\u200b\u5faa\u73af\u200b\u7684\u200b\u8fdb\u5ea6\u6761\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/tqdm/#\u9ad8\u9636\u7528\u6cd5","title":"\u9ad8\u9636\u200b\u7528\u6cd5","text":"","tags":["Python"]},{"location":"blog/tqdm/#\u5faa\u73af\u7ed3\u675f\u540e\u9690\u85cf\u8fdb\u5ea6\u6761","title":"\u5faa\u73af\u200b\u7ed3\u675f\u200b\u540e\u200b\u9690\u85cf\u200b\u8fdb\u5ea6\u6761\u200b\uff1a","text":"Python<pre><code>pbar = tqdm(range(10), leave=False)\n</code></pre>","tags":["Python"]},{"location":"blog/tqdm/#\u6253\u5370\u66f4\u591a\u4fe1\u606f","title":"\u6253\u5370\u200b\u66f4\u200b\u591a\u200b\u4fe1\u606f","text":"Python<pre><code>from tqdm import tqdm\nimport time\npbar = tqdm(range(10))\nfor idx, i in enumerate(pbar):\ntime.sleep(0.3)\nacc_ = i * 10\nloss = 1 / ((i + 1) * 10)\npbar.set_description(f\"SimpleLoop [{idx+1}]\")\npbar.set_postfix(dict(acc=f\"{acc_}%\", loss=f\"{loss:.3f}\"))\n</code></pre>","tags":["Python"]},{"location":"blog/regularization-and-bayesian-prior/","title":"L1\u3001L2 \u200b\u6b63\u5219\u200b\u5316\u200b\u4e0e\u200b\u8d1d\u53f6\u65af\u200b\u5148\u9a8c","text":"<p>\u200b\u4ece\u200b\u8d1d\u53f6\u65af\u200b\u7edf\u8ba1\u200b\u7684\u200b\u89c6\u89d2\u200b\u770b\u200b\uff0cL1 \u200b\u6b63\u5219\u200b\u5316\u200b\u7684\u200b Lasso \u200b\u56de\u5f52\u200b\u548c\u200b L2 \u200b\u6b63\u5219\u200b\u5316\u200b\u7684\u200b\u5cad\u200b\u56de\u5f52\u200b\uff0c\u200b\u5206\u522b\u200b\u76f8\u5f53\u4e8e\u200b\u53c2\u6570\u200b\u5177\u6709\u200b\u62c9\u666e\u62c9\u65af\u200b\u5148\u9a8c\u200b\u548c\u200b\u9ad8\u65af\u200b\u5148\u9a8c\u200b\u3002</p> <p> </p> \u200b\u62c9\u666e\u62c9\u65af\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\u56fe\u50cf","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regularization-and-bayesian-prior/#\u96f6\u4fe1\u606f\u5148\u9a8c\u7b49\u4ef7\u4e8e\u6700\u5c0f\u4e8c\u4e58\u6cd5","title":"\u96f6\u200b\u4fe1\u606f\u200b\u5148\u9a8c\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5","text":"<p>\u200b\u5047\u8bbe\u200b\u9700\u8981\u200b\u4ece\u200b\u4e00\u4e9b\u200b\u6837\u672c\u200b\u70b9\u200b\\((\\boldsymbol{X}_1,Y_1)\u00b7\u00b7\u00b7(\\boldsymbol{X}_n,Y_n)\\)\u200b\u4e2d\u6765\u200b\u4f30\u8ba1\u200b\u53c2\u6570\u200b\\(\\boldsymbol{\\boldsymbol{\\beta}}\\)\uff0c\u200b\u5047\u8bbe\u200b\u8f93\u51fa\u200b\\(Y_i\\)\u200b\u4e0e\u200b\u8f93\u5165\u200b\\(\\boldsymbol{X}_i\\)\u200b\u4e4b\u95f4\u200b\u7ebf\u6027\u76f8\u5173\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53d7\u200b\u566a\u58f0\u200b\\(\\epsilon\\)\u200b\u5f71\u54cd\u200b\uff1a</p> \\[ Y_i=\\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta} +\\epsilon_i \\] <p>\u200b\u5176\u4e2d\u200b\uff0c\\(\\epsilon_i \\overset{\\mathrm{iid}}{\\sim} N(0,\\sigma^2)\\)\u3002</p> <p>\u200b\u5bf9\u200b\u6837\u672c\u200b\\((\\boldsymbol{X}_i,Y_i)\\)\uff0c\u200b\u57fa\u4e8e\u200b\\(\\boldsymbol{X}_i\\)\u200b\u5f97\u5230\u200b\\(Y_i\\)\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u4ea7\u751f\u200b\u968f\u673a\u53d8\u91cf\u200b\\(Y_i\\sim N(\\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\boldsymbol{\\beta}},\\sigma^2)\\)\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p>\u200b\u5219\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u4e3a\u200b</p> \\[ P(Y_i|\\boldsymbol{X}_i,\\boldsymbol{\\beta})=\\frac{1} {\\sigma\\sqrt{2\\pi}}e^{-\\frac{\\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2} {2\\sigma^2}} \\] <p>\u200b\u5bf9\u200b\u6240\u6709\u200b\u6837\u672c\u200b\uff0c\u200b\u5047\u8bbe\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u4e4b\u95f4\u200b\u662f\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u57fa\u4e8e\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u4e3a\u200b</p> \\[ P(\\boldsymbol{Y}|\\boldsymbol{X},\\boldsymbol{\\beta})=\\prod_i\\frac{1} {\\sigma\\sqrt{2\\pi}}e^{-\\frac{\\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2} {2\\sigma^2}} \\] <p>\u200b\u6700\u5927\u5316\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\uff0c\u200b\u6c42\u5f97\u200b\u6700\u4f18\u200b\u7684\u200b\\(\\boldsymbol{\\beta}\\)\uff0c\u200b\u5373\u200b</p> \\[ \\begin{aligned} \\boldsymbol{\\beta}^* &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmax}}(\\prod _i\\frac{1} {\\sigma\\sqrt{2\\pi}}e^{-\\frac{\\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2} {2\\sigma^2}}) \\\\\\ &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmax}}(-\\sum _i\\ln(\\sigma \\sqrt{2\\pi}) -\\frac{1} {2\\sigma^2}\\sum _i\\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2)\\\\\\ &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmin}}(\\sum _i \\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2) \\end{aligned} \\] <p>\u200b\u5728\u200b\u4e0d\u52a0\u200b\u4efb\u4f55\u200b\u5148\u9a8c\u200b\uff08\u200b\u6216\u8005\u200b\u96f6\u200b\u4fe1\u606f\u200b\u5148\u9a8c\u200b\uff0c\u200b\u5373\u200b\\(\\boldsymbol{\\beta}\\)\u200b\u7684\u200b\u5148\u9a8c\u200b\u5206\u5e03\u200b\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\uff09\u200b\u65f6\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u662f\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regularization-and-bayesian-prior/#\u62c9\u666e\u62c9\u65af\u5148\u9a8c\u7b49\u4ef7\u4e8e\u5e26\u6709-l1-\u6b63\u5219\u9879\u7684-lasso-\u56de\u5f52","title":"\u62c9\u666e\u62c9\u65af\u200b\u5148\u9a8c\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u5e26\u6709\u200b L1 \u200b\u6b63\u5219\u200b\u9879\u200b\u7684\u200b Lasso \u200b\u56de\u5f52","text":"<p>\u200b\u82e5\u200b\u5bf9\u200b\\(\\boldsymbol{\\boldsymbol{\\beta}}\\)\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5206\u91cf\u200b\\(\\beta_j, j=1,2,\\cdots,p\\)\uff08\\(p\\)\u200b\u4e3a\u200b\\(\\boldsymbol{X}\\)\u200b\u7684\u200b\u7ef4\u6570\u200b\uff09\u200b\u65bd\u52a0\u200b\u62c9\u666e\u62c9\u65af\u200b\u5148\u9a8c\u200b</p> \\[ P(\\beta_j)=f(\\beta_j|\\mu, b) = \\frac{1}{2b} \\exp(-\\frac{|\\beta_j-\\mu|}{b}) \\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regularization-and-bayesian-prior/#\u62c9\u666e\u62c9\u65af\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u56fe\u50cf","title":"\u62c9\u666e\u62c9\u65af\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\u56fe\u50cf","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u62c9\u666e\u62c9\u65af\u200b\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\ndef laplace(mu, b, x):\nreturn 1 / (2 * b) * np.exp(-abs(x - mu) / b)\nx = np.linspace(-5, 5, 1000)\nplt.rcParams[\"text.usetex\"] = True\nfig = plt.figure(figsize=(8, 6))\nmu = 0\nfor b in [0.5, 1, 2]:\nplt.plot(x, laplace(mu, b, x), label=r\"$\\mu={}, b={}$\".format(mu, b))\nmu = -1\nb = 1\nplt.plot(x, laplace(mu, b, x), label=r\"$\\mu={}, b={}$\".format(mu, b))\n# \u200b\u5728\u200b\u56fe\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u6587\u5b57\u200b\uff0c\u200b\u663e\u793a\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\nplt.text(-4, 0.8, r\"$f(x)=\\frac{1}{2b}e^{-\\frac{|x-\\mu|}{b}}$\", fontsize=20)\nplt.legend()\nplt.show()\n</code></pre> <p>\u200b\u5219\u200b\\(\\boldsymbol{\\beta}\\)\u200b\u7684\u200b\u540e\u9a8c\u200b\u5206\u5e03\u200b\u4e3a\u200b</p> \\[ P(\\boldsymbol{\\beta} | \\boldsymbol{X},\\boldsymbol{Y}) \\propto P(\\boldsymbol{Y}|\\boldsymbol{X},\\boldsymbol{\\beta}) P(\\boldsymbol{\\beta}) \\] <p>\u200b\u6700\u5927\u5316\u200b\u540e\u9a8c\u200b\u5206\u5e03\u200b\uff0c\u200b\u6c42\u5f97\u200b\u6700\u4f18\u200b\u7684\u200b\\(\\boldsymbol{\\beta}\\)\uff0c\u200b\u5373\u200b</p> \\[ \\begin{aligned} \\boldsymbol {\\beta} ^* &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmax}}(\\prod _i P(Y_i|\\boldsymbol{X}_i,\\boldsymbol{\\beta})\\prod _j P(\\beta_i)) \\\\\\ &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmax}}(-\\sum _i\\ln(\\sigma \\sqrt{2\\pi}) -\\frac{1} {2\\sigma^2}\\sum _i\\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2 - \\sum _j \\ln(2b) - \\sum _j \\frac{|\\beta_j-\\mu|} {b}\\\\\\ &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmin}}(\\sum _i \\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2) + \\frac{2\\sigma^2} {b} \\sum _j |\\beta_j-\\mu| \\end{aligned} \\] <p>\u200b\u82e5\u53d6\u200b\\(\\mu=0, b=\\frac{2\\sigma^2}{\\lambda}\\)\uff0c\u200b\u5219\u200b</p> \\[ \\boldsymbol{\\beta}^* = \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmin}}(\\sum_i \\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2) + \\lambda \\sum_j |\\beta_j-\\mu| \\] <p>\u200b\u5373\u200b\u5e26\u6709\u200b L1 \u200b\u6b63\u5219\u200b\u9879\u200b\u7684\u200b Lasso \u200b\u56de\u5f52\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/regularization-and-bayesian-prior/#\u9ad8\u65af\u5148\u9a8c\u7b49\u4ef7\u4e8e\u5e26\u6709-l2-\u6b63\u5219\u9879\u7684\u5cad\u56de\u5f52","title":"\u9ad8\u65af\u200b\u5148\u9a8c\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u5e26\u6709\u200b L2 \u200b\u6b63\u5219\u200b\u9879\u200b\u7684\u200b\u5cad\u200b\u56de\u5f52","text":"<p>\u200b\u82e5\u200b\u5bf9\u200b\\(\\boldsymbol{\\boldsymbol{\\beta}}\\)\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5206\u91cf\u200b\\(\\beta_j, j=1,2,\\cdots,p\\)\uff08\\(p\\)\u200b\u4e3a\u200b\\(\\boldsymbol{X}\\)\u200b\u7684\u200b\u7ef4\u6570\u200b\uff09\u200b\u65bd\u52a0\u200b\u9ad8\u65af\u200b\u5148\u9a8c\u200b\\(N(0, \\delta^2)\\)</p> \\[ P(\\beta_j) = \\frac{1} {\\sqrt{2\\pi}\\delta} e^{-\\frac{\\beta_{j} ^{2}} {2 \\delta ^{2} }} \\] <p>\u200b\u5219\u200b\\(\\boldsymbol{\\beta}\\)\u200b\u7684\u200b\u540e\u9a8c\u200b\u5206\u5e03\u200b\u4e3a\u200b</p> \\[ P(\\boldsymbol{\\beta} | \\boldsymbol{X},\\boldsymbol{Y}) \\propto P(\\boldsymbol{Y}|\\boldsymbol{X},\\boldsymbol{\\beta}) P(\\boldsymbol{\\beta}) \\] <p>\u200b\u6700\u5927\u5316\u200b\u540e\u9a8c\u200b\u5206\u5e03\u200b\uff0c\u200b\u6c42\u5f97\u200b\u6700\u4f18\u200b\u7684\u200b\\(\\boldsymbol{\\beta}\\)\uff0c\u200b\u5373\u200b</p> \\[ \\begin{aligned} \\boldsymbol{\\beta}^* &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmax}}(\\prod _i P(Y_i|\\boldsymbol{X}_i,\\boldsymbol{\\beta})\\prod _j P(\\beta_i)) \\\\\\ &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmax}}(-\\sum _i\\ln(\\sigma \\sqrt{2\\pi}) -\\frac{1} {2\\sigma^2}\\sum _i\\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2 -\\sum _j\\ln(\\sqrt{2\\pi}\\delta) -\\sum _j\\frac{\\beta_j^2} {2 \\delta ^2 } \\\\\\ &amp;= \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmin}}(\\sum _i \\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2) + \\frac{\\sigma^2} {\\delta ^2} \\sum _j \\beta_j^2 \\end{aligned} \\] <p>\u200b\u82e5\u53d6\u200b\\(\\mu=0, \\delta^2=\\frac{\\sigma^2}{\\lambda}\\)\uff0c\u200b\u5219\u200b</p> \\[ \\boldsymbol{\\beta}^* = \\underset{\\boldsymbol{\\beta}}{\\operatorname{argmin}}(\\sum _i \\lVert \\boldsymbol{X}_i ^\\mathsf{T} \\boldsymbol{\\beta}-Y_i\\rVert^2) + \\lambda \\sum _j \\beta_j ^2 \\] <p>\u200b\u5373\u200b\u5e26\u6709\u200b L2 \u200b\u6b63\u5219\u200b\u9879\u200b\u7684\u200b\u5cad\u200b\u56de\u5f52\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/logistic-regression-lasso/","title":"\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u3001\u200b\u968f\u673a\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u3001\u200b\u5750\u6807\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u548c\u200b\u57fa\u4e8e\u200b\u8d1d\u53f6\u65af\u200b\u540e\u9a8c\u200b\u7684\u200b MCMC \u200b\u91c7\u6837\u6cd5\u200b\u5b9e\u73b0\u200b\u5e26\u6709\u200b L1 \u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u94f6\u884c\u200b\u5ba2\u6237\u200b\u6d41\u5931\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u5b9e\u8bc1\u200b\u68c0\u9a8c\u200b\u3002</p> <p> </p> \u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b ROC \u200b\u66f2\u7ebf","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","Python"]},{"location":"blog/efficient-frontier/","title":"\u5747\u503c\u200b\u65b9\u5dee\u200b\u6a21\u578b\u200b\u7684\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf","text":"<p>\u200b\u5728\u200b\u65e0\u200b\u505a\u200b\u7a7a\u200b\u9650\u5236\u200b\u7684\u200b\u60c5\u5f62\u200b\u4e0b\u200b\u63a8\u5bfc\u200b\u5747\u503c\u200b\u65b9\u5dee\u200b\u6a21\u578b\u200b\u7684\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf\u200b\uff0c\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u6c42\u89e3\u200b\u4e00\u4e2a\u200b\u5e26\u6709\u200b\u7b49\u5f0f\u200b\u7ea6\u675f\u200b\u7684\u200b\u6700\u4f18\u5316\u200b\u95ee\u9898\u200b\u3002</p> \\[ \\begin{aligned} &amp; \\underset{w}{\\text{minimize}} &amp; &amp; \\frac{1}{2} w^{\\top} \\sum w \\\\\\ &amp; \\text{subject to} &amp; &amp; w^{\\top} e=1 \\\\\\ &amp; &amp; &amp; w^{\\top} \\mu=\\mu_0 \\end{aligned} \\] <p> </p> \u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/efficient-frontier/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>\u200b\u5df2\u77e5\u200b\\(N\\)\u200b\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\\(\\mu_{N\\times1}\\)\uff0c\u200b\u6536\u76ca\u7387\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\\(\\Sigma_{N\\times N}\\)\uff0c\u200b\u5747\u503c\u200b\u65b9\u5dee\u200b\u6a21\u578b\u200b\u9700\u8981\u200b\u6c42\u89e3\u200b\u7684\u200b\u662f\u200b\uff1a\u200b\u7ed9\u5b9a\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u4e3a\u200b\\(\\mu_0\\)\uff0c\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u6700\u4f18\u200b\u7684\u200b\u6743\u91cd\u200b\u5411\u91cf\u200b\\(w_{N\\times1}\\)\uff0c\u200b\u4f7f\u5f97\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u65b9\u5dee\u200b\u6700\u5c0f\u200b\u3002</p> <p>\u200b\u5047\u8bbe\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u53ef\u4ee5\u200b\u4efb\u610f\u200b\u505a\u7a7a\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5982\u4e0b\u200b\u6700\u4f18\u5316\u200b\u95ee\u9898\u200b\u8868\u793a\u200b\u5747\u503c\u200b\u65b9\u5dee\u200b\u6a21\u578b\u200b\uff1a</p> \\[ \\begin{aligned} &amp; \\underset{w}{\\text{minimize}} &amp; &amp; \\frac{1}{2} w^{\\top} \\sum w \\\\\\ &amp; \\text{subject to} &amp; &amp; w^{\\top} e=1 \\\\\\ &amp; &amp; &amp; w^{\\top} \\mu=\\mu_0 \\end{aligned}\\tag{0}\\label{0} \\] <p>\u200b\u5176\u4e2d\u200b\uff0c\\(e\\)\u200b\u662f\u200b\\(N\\times1\\)\u200b\u7684\u200b\u5355\u4f4d\u5411\u91cf\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/efficient-frontier/#\u62c9\u683c\u6717\u65e5\u4e58\u6570\u6cd5\u6c42\u89e3\u6700\u4f18\u5316\u95ee\u9898","title":"\u62c9\u683c\u6717\u200b\u65e5\u200b\u4e58\u6570\u200b\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u4f18\u5316\u200b\u95ee\u9898","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e0a\u8ff0\u200b\u5e26\u6709\u200b\u7b49\u5f0f\u200b\u7ea6\u675f\u200b\u7684\u200b\u6700\u4f18\u5316\u200b\u95ee\u9898\u200b\uff0c\u200b\u5199\u51fa\u200b\u5bf9\u5e94\u200b\u7684\u200b\u62c9\u683c\u6717\u200b\u65e5\u200b\u51fd\u6570\u200b\uff1a</p> \\[ \\begin{aligned} &amp;\\mathcal{L}\\left(w, \\lambda_1, \\lambda_2\\right)\\\\\\ =&amp;\\frac{1}{2} w^{\\top} \\Sigma w+\\lambda_1\\left(w^{\\top} e-1\\right)+\\lambda_2\\left(w^{\\top} \\mu-\\mu_0\\right) \\end{aligned} \\] <p>\u200b\u5bf9\u200b\\(\\mathcal{L}\\left(w, \\lambda_1, \\lambda_2\\right)\\)\u200b\u7684\u200b\u4e09\u4e2a\u200b\u81ea\u53d8\u91cf\u200b\u6c42\u4e00\u9636\u200b\u504f\u5bfc\u200b\uff0c\u200b\u5e76\u4ee4\u200b\u5176\u200b\u7b49\u4e8e\u200b 0\uff1a</p> \\[ \\frac{\\partial \\mathcal{L}}{\\partial w}=0 \\Rightarrow \\Sigma w+\\lambda_1 e+\\lambda_2 \\mu=0 \\tag{1}\\label{1} \\] \\[ \\frac{\\partial \\mathcal{L}}{\\partial \\lambda_1}=0 \\Rightarrow e^{\\top} w-1=0 \\tag{2}\\label{2} \\] \\[ \\frac{\\partial \\mathcal{L}}{\\partial \\lambda_2}=0 \\Rightarrow \\mu^{\\top} w-\\mu_0=0 \\tag{3}\\label{3} \\] <p>\u200b\u7531\u200b\u516c\u5f0f\u200b\\(\\eqref{1}\\)\u200b\u53ef\u77e5\u200b\uff1a</p> \\[ w=\\Sigma^{-1}\\left(-\\lambda_1 e-\\lambda_2 \\mu\\right)\\tag{4}\\label{4} \\] <p>\u200b\u5c06\u200b\u516c\u5f0f\u200b\\(\\eqref{4}\\)\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b\\(\\eqref{2}\\)\u200b\u548c\u200b\u516c\u5f0f\u200b\\(\\eqref{3}\\)\uff0c\u200b\u5f97\u200b\uff1a</p> \\[ \\begin{array}{l} e^{\\top} \\Sigma^{-1}\\left(-\\lambda_1 e-\\lambda_2 \\mu\\right)-1=0 \\\\\\ \\mu^{\\top} \\Sigma^{-1}\\left(-\\lambda_1 e-\\lambda_2 \\mu\\right)-\\mu_0=0 \\end{array}\\tag{5}\\label{5} \\] <p>\u200b\u6574\u7406\u200b\u5f97\u200b\uff1a</p> \\[ \\begin{aligned} &amp; e^{\\top} \\Sigma^{-1} e {\\color{red}{\\lambda_1}}+e^{\\top} \\Sigma^{-1} \\mu {\\color{blue}{\\lambda_2}}+1=0 \\\\\\ &amp; \\mu^{\\top} \\Sigma^{-1} e {\\color{red}{\\lambda_1}}+\\mu^{\\top} \\Sigma^{-1} \\mu {\\color{blue}{\\lambda_2}}+\\mu_0=0 \\end{aligned}\\tag{6}\\label{6} \\] <p>\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5173\u4e8e\u200b\\(\\lambda_1\\)\u200b\u548c\u200b\\(\\lambda_2\\)\u200b\u7684\u200b\u7ebf\u6027\u65b9\u7a0b\u7ec4\u200b\uff0c\u200b\u4e3a\u200b\u7b80\u5316\u200b\u8868\u793a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bb0\u200b\uff1a</p> \\[ \\begin{aligned} A&amp;=e^{\\top} \\Sigma^{-1} e \\\\\\ B&amp;=e^{\\top} \\Sigma^{-1} \\mu=\\mu^{\\top} \\Sigma^{-1} e \\\\\\ C&amp;=\\mu^{\\top} \\Sigma^{-1} \\mu \\end{aligned}\\tag{7}\\label{7} \\] <p>\u200b\u7528\u6d88\u200b\u5143\u6cd5\u200b\u53ef\u4ee5\u200b\u5bb9\u6613\u200b\u89e3\u200b\u51fa\u200b\uff1a</p> \\[ \\begin{aligned} &amp; \\lambda_1=\\frac{B \\mu_0-C}{A C-B^2} \\\\\\ &amp; \\lambda_2=\\frac{B-A \\mu_0}{A C-B^2} \\end{aligned}\\tag{8}\\label{8} \\] <p>\u200b\u5c06\u200b\\(\\lambda_1\\)\u200b\u548c\u200b\\(\\lambda_2\\)\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b\\(\\eqref{4}\\)\uff0c\u200b\u5f97\u200b\uff1a</p> \\[ \\begin{aligned} w^* &amp; =\\Sigma^{-1}\\left(-\\lambda_1 e-\\lambda_2 \\mu\\right) \\\\\\ &amp; =\\Sigma^{-1}\\left(\\frac{C-B \\mu_0 }{A C-B^2}e+\\frac{A \\mu_0-B}{A C-B^2} \\mu\\right) \\end{aligned}\\tag{9}\\label{9} \\] <p>\u200b\u8fd9\u200b\u5c31\u662f\u200b\u6700\u4f18\u5316\u200b\u95ee\u9898\u200b\\(\\eqref{0}\\)\u200b\u7684\u200b\u89e3\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/efficient-frontier/#\u4ece\u6700\u4f18\u6743\u91cd\u5411\u91cf\u5230\u6709\u6548\u524d\u6cbf\u66f2\u7ebf","title":"\u4ece\u200b\u6700\u4f18\u200b\u6743\u91cd\u200b\u5411\u91cf\u200b\u5230\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf","text":"<p>\u200b\u7531\u200b\u6700\u4f18\u5316\u200b\u95ee\u9898\u200b\\(\\eqref{0}\\)\u200b\u53ef\u77e5\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u9884\u671f\u200b\u6536\u76ca\u200b\u6c34\u5e73\u200b\\(\\mu_0\\)\u200b\u90fd\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u6700\u4f18\u200b\u6743\u91cd\u200b\\(w^\\ast\\)\u3002\u200b\u5728\u200b\\(w^\\ast\\)\u200b\u4e0b\u200b\uff0c\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u2f45\u200b\u5dee\u4e3a\u200b\uff08\u200b\u8be6\u7ec6\u200b\u63a8\u5bfc\u200b\u89c1\u200b\u516c\u5f0f\u200b\\(\\eqref{13}\\)\uff09\uff1a</p> \\[ \\begin{aligned} \\sigma^2\\left(\\mu_0\\right) =&amp; w^{\\ast\\top} \\Sigma w^\\ast \\\\\\ =&amp; \\frac{A \\mu_0^2-2 B \\mu_0+C}{A C-B^2} \\end{aligned}\\tag{10}\\label{10} \\] <p>\u200b\u53ef\u200b\u2ec5\u200b\uff0c\\(\\sigma^2\\)\u200b\u662f\u200b\u5173\u4e8e\u200b\\(\\mu_0\\)\u200b\u7684\u200b\u4e8c\u6b21\u200b\u51fd\u6570\u200b\u3002\u200b\u4f46\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf\u200b\u7684\u200b\u6a2a\u8f74\u200b\u662f\u200b\\(\\sigma\\)\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\\(\\sigma^2\\)\u3002\u200b\u5bf9\u200b\u516c\u5f0f\u200b\\(\\eqref{10}\\)\u200b\u505a\u200b\u4e00\u5b9a\u200b\u7684\u200b\u53d8\u6362\u200b\uff0c\u200b\u53ef\u200b\u5f97\u200b\u5982\u4e0b\u200b\u5f62\u5f0f\u200b\uff1a</p> \\[ \\frac{\\sigma^2\\left(\\mu_0\\right)} {a^2} - \\frac{\\mu_{0}^{2}} {b^2}=1\\tag{11}\\label{11} \\] <p>\u200b\u56e0\u6b64\u200b\\(\\mu_0\\)\u200b\u5173\u4e8e\u200b\\(\\sigma\\)\u200b\u7684\u200b\u51fd\u6570\u200b\u56fe\u50cf\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53cc\u66f2\u7ebf\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/efficient-frontier/#\u6700\u5c0f\u65b9\u5dee\u7ec4\u5408","title":"\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408","text":"<p>\u200b\u7531\u200b\u516c\u5f0f\u200b\\(\\eqref{10}\\)\u200b\u53ef\u77e5\u200b\uff0c\u200b\u5f53\u200b</p> \\[ \\begin{aligned} \\mu_0=&amp;-\\frac{-2 B}{2 A}\\\\\\ =&amp;\\frac{B}{A} \\end{aligned}\\tag{12}\\label{12} \\] <p>\u200b\u65f6\u200b\uff0c\\(\\sigma^2\\left(\\mu_0\\right)\\)\u200b\u53d6\u200b\u6700\u5c0f\u503c\u200b\u3002</p> <p>\u200b\u5c06\u200b\u516c\u5f0f\u200b\\(\\eqref{12}\\)\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b\\(\\eqref{9}\\)\uff0c\u200b\u53ef\u200b\u5f97\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408\u200b\u7684\u200b\u6743\u91cd\u200b\u5411\u91cf\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/efficient-frontier/#\u6570\u503c\u6a21\u62df","title":"\u6570\u503c\u200b\u6a21\u62df","text":"<p>\u200b\u57fa\u4e8e\u200b 16 \u200b\u4e2a\u200b\u5168\u7403\u200b\u6307\u6570\u200b\u7684\u200b\u5386\u53f2\u200b\u65e5\u7ebf\u200b\u6570\u636e\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf\u200b\u3002</p> Python<pre><code>import qstock as qs\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.rcParams[\"font.sans-serif\"] = [\"KaiTi\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\nimport seaborn as sb\n</code></pre> Python<pre><code>global_indexs = [\n\"\u200b\u9053\u743c\u65af\u200b\",\n\"\u200b\u6807\u666e\u200b 500\",\n\"\u200b\u7eb3\u65af\u8fbe\u514b\u200b\",\n\"\u200b\u6052\u751f\u6307\u6570\u200b\",\n\"\u200b\u82f1\u56fd\u200b\u5bcc\u65f6\u200b\",\n\"\u200b\u6cd5\u56fd\u200b CAC40\",\n\"\u200b\u5fb7\u56fd\u200b DAX\",\n\"\u200b\u65e5\u7ecf\u200b 225\",\n\"\u200b\u97e9\u56fd\u200b KOSPI\",\n\"\u200b\u6fb3\u5927\u5229\u4e9a\u200b\u6807\u666e\u200b 200\",\n\"\u200b\u5370\u5ea6\u200b\u5b5f\u4e70\u200b SENSEX\",\n\"\u200b\u4fc4\u7f57\u65af\u200b RTS\",\n\"\u200b\u52a0\u62ff\u5927\u200b S&amp;P\",\n\"\u200b\u53f0\u6e7e\u200b\u52a0\u6743\u200b\",\n\"\u200b\u7f8e\u5143\u200b\u6307\u6570\u200b\",\n\"\u200b\u8def\u900f\u200b CRB \u200b\u5546\u54c1\u200b\u6307\u6570\u200b\",\n]\ndf = qs.get_price(global_indexs, start=\"20200101\")\n# \u200b\u5c06\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u65e5\u200b\u6536\u76ca\u7387\u200b\ndf = df.pct_change().dropna()\n# \u200b\u8ba1\u7b97\u200b\u5386\u53f2\u200b\u6536\u76ca\u7387\u200b\u5747\u503c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\nmu = df.mean()\n# \u200b\u8ba1\u7b97\u200b\u5386\u53f2\u200b\u6536\u76ca\u7387\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u9884\u671f\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\ncov = df.cov()\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 16/16 [00:03&lt;00:00,  4.65it/s]\n</code></pre> Python<pre><code># \u200b\u5386\u53f2\u200b\u65e5\u200b\u6536\u76ca\u7387\u200b\u5747\u503c\u200b\nprint(mu)\n</code></pre> Text Only<pre><code>\u200b\u6807\u666e\u200b500         0.000340\n\u200b\u9053\u743c\u65af\u200b           0.000306\n\u200b\u7eb3\u65af\u8fbe\u514b\u200b          0.000351\n\u200b\u97e9\u56fd\u200bKOSPI       0.000126\n\u200b\u82f1\u56fd\u200b\u5bcc\u65f6\u200b\u5168\u80a1\u200b        0.000051\n\u200b\u5fb7\u56fd\u200bDAX30       0.000218\n\u200b\u6fb3\u5927\u5229\u4e9a\u200b\u6807\u666e\u200b200     0.000122\n\u200b\u6cd5\u56fd\u200bCAC40       0.000239\n\u200b\u7f8e\u5143\u200b\u6307\u6570\u200b          0.000114\n\u200b\u52a0\u62ff\u5927\u200bS&amp;P/TSX    0.000254\n\u200b\u5370\u5ea6\u200b\u5b5f\u4e70\u200bSENSEX    0.000626\n\u200b\u4fc4\u7f57\u65af\u200bRTS       -0.000192\n\u200b\u53f0\u6e7e\u200b\u52a0\u6743\u200b          0.000294\n\u200b\u6052\u751f\u6307\u6570\u200b         -0.000306\n\u200b\u8def\u900f\u200bCRB\u200b\u5546\u54c1\u200b\u6307\u6570\u200b     0.000604\n\u200b\u65e5\u7ecf\u200b225         0.000239\ndtype: float64\n</code></pre> Python<pre><code># \u200b\u5386\u53f2\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u70ed\u200b\u529b\u56fe\u200b\n# \u200b\u8bbe\u7f6e\u200b\u56fe\u7247\u5927\u5c0f\u200b\nfig, ax = plt.subplots(figsize=(20, 10))\n# \u200b\u751f\u6210\u200b\u70ed\u200b\u529b\u56fe\u200b\u3002cmap \u200b\u662f\u200b\u989c\u8272\u200b\uff0cannot \u200b\u662f\u200b\u662f\u5426\u200b\u663e\u793a\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0cmask \u200b\u662f\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\n# \u200b\u751f\u6210\u200b mask\uff0c\u200b\u8986\u76d6\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\uff0c\u200b\u5305\u62ec\u200b\u5bf9\u89d2\u7ebf\u200b\nmatrix = np.triu(cov, k=1)\nsb.heatmap(cov, cmap=\"Blues\", annot=True, mask=matrix)\nplt.show()\n</code></pre> <p></p> Python<pre><code>def get_optimal_weight(mu, cov, mu_0):\n\"\"\"\n    Args:\n        mu: \u200b\u671f\u671b\u200b\u6536\u76ca\u7387\u200b\n        cov: \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n        mu_0: \u200b\u7ed9\u5b9a\u200b\u7684\u200b\u76ee\u6807\u200b\u6536\u76ca\u7387\u200b\n    Returns:\n        optimal_weight: \u200b\u6700\u4f18\u200b\u6743\u91cd\u200b\n    \"\"\"\n# \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u7684\u200b\u9006\u200b\ncov_inv = np.linalg.inv(cov)\n# \u200b\u5355\u4f4d\u5411\u91cf\u200b\nones = np.ones(len(mu))\n# \u200b\u751f\u6210\u200b A\u3001B \u200b\u548c\u200b C\na = ones.dot(cov_inv).dot(ones)\nb = ones.dot(cov_inv).dot(mu)\nc = mu.dot(cov_inv).dot(mu)\n# \u200b\u8ba1\u7b97\u200b lambda_1\nlambda_1 = (b * mu_0 - c) / (a * c - b**2)\n# \u200b\u8ba1\u7b97\u200b lambda_2\nlambda_2 = (b - a * mu_0) / (a * c - b**2)\n# \u200b\u8ba1\u7b97\u200b\u6700\u4f18\u200b\u6743\u91cd\u200b\noptimal_weight = -lambda_1 * cov_inv.dot(ones) - lambda_2 * cov_inv.dot(mu)\nreturn optimal_weight\n</code></pre> Python<pre><code># \u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408\u200b\n# \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u7684\u200b\u9006\u200b\ncov_inv = np.linalg.inv(cov)\n# \u200b\u5355\u4f4d\u5411\u91cf\u200b\nones = np.ones(len(mu))\n# \u200b\u751f\u6210\u200b A\u3001B \u200b\u548c\u200b C\na = ones.dot(cov_inv).dot(ones)\nb = ones.dot(cov_inv).dot(mu)\n# \u200b\u8ba1\u7b97\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\nu_min_var = b / a\n# \u200b\u8ba1\u7b97\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408\u200b\u6743\u91cd\u200b\nw_min_var = get_optimal_weight(mu, cov, u_min_var)\n# \u200b\u8ba1\u7b97\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408\u200b\u7684\u200b\u9884\u671f\u200b\u6807\u51c6\u5dee\u200b\nstd_min_var = np.sqrt(w_min_var.T.dot(cov).dot(w_min_var.T))\n</code></pre> Python<pre><code># \u200b\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u76ee\u6807\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6700\u4f18\u200b\u6743\u91cd\u200b\nmu_0_list = np.linspace(-0.001, 0.001, 100)\noptimal_weight_list = np.array(\n[get_optimal_weight(mu, cov, mu_0) for mu_0 in mu_0_list]\n)\n# \u200b\u8ba1\u7b97\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\nstd_list = [\nnp.sqrt(optimal_weight.T.dot(cov).dot(optimal_weight.T))\nfor optimal_weight in optimal_weight_list\n]\n# \u200b\u7ed8\u5236\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\n# plt.style.use('seaborn')\nplt.figure(figsize=(10, 6))\nplt.plot(std_list, mu_0_list)\nplt.plot(std_min_var, u_min_var, \"ro\")\n# \u200b\u6587\u5b57\u200b\u6ce8\u91ca\u200b\nplt.text(std_min_var + 0.0005, u_min_var, \"\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ec4\u5408\u200b\", fontsize=18)\nplt.xlabel(\"std\")\nplt.ylabel(\"mu\")\nplt.show()\n</code></pre> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/efficient-frontier/#\u516c\u5f0feqref10\u7684\u8be6\u7ec6\u63a8\u5bfc","title":"\u516c\u5f0f\u200b\\(\\eqref{10}\\)\u200b\u7684\u200b\u8be6\u7ec6\u200b\u63a8\u5bfc","text":"\\[ \\begin{aligned} \\sigma^2\\left(\\mu_0\\right)= &amp; w^{\\ast^\\top} \\Sigma w^\\ast \\\\\\ = &amp; \\left(\\frac{C-B \\mu_0}{A C-B^2} e^{\\top}+\\frac{A \\mu_0-B}{A C-B^2} \\mu^{\\top}\\right) \\Sigma^{-1} \\Sigma \\Sigma^{-1}\\left(\\frac{C-B \\mu_0}{A C-B^2} e+\\frac{A \\mu_0-B}{A C - B^2} \\mu\\right) \\\\\\ = &amp; \\frac{C-B \\mu_0}{A C-B^2} e^{\\top} \\Sigma^{-1} \\frac{C-B \\mu_0}{A C-B^2} e + \\frac{C-B \\mu_0}{A C-B^2} e^{\\top} \\Sigma^{-1} \\frac{A \\mu_0-B}{A C-B^2} \\mu \\\\\\ &amp; +  \\frac{A \\mu_0-B}{A C-B^2} \\mu^{\\top} \\Sigma^{-1} \\frac{C-B \\mu_0}{A C-B^2} e + \\frac{A \\mu_0-B}{A C-B^2} \\mu^{\\top} \\Sigma^{-1} \\frac{A \\mu_0-B}{A C-B^2} \\mu\\\\\\ = &amp; \\frac{\\left(C-B \\mu_0\\right)^2}{\\left(A C-B^2\\right)^2}  A+2 \\frac{\\left(C-B \\mu_0\\right)\\left(A \\mu_0-B\\right)}{\\left(A C-B^2\\right)^2} B+\\frac{\\left(A \\mu_0-B\\right)^2}{\\left(A C-B^2\\right)^2} C\\\\\\ =&amp; \\frac{A C^2-2 A B C \\mu_0+A B^2 \\mu_0^2 +2 A B C \\mu_0-2 B^2 C-2 A B^2 \\mu_0^2+2 B^3 \\mu_0 +A^2 C M_0-2 A B C \\mu_0+B^2 C} { \\left(A C-B^2\\right)^2} \\\\\\ =&amp; \\frac{A C^2-A B^2 \\mu_0^2+2 B^3 \\mu_0+A^2 C \\mu_0-2 A B C \\mu_0-B^2 C}{\\left(A C-B^2\\right)^2} \\\\\\ =&amp; \\frac{\\left(A C-B^2\\right)\\left(A \\mu_0^2-2 B \\mu_0+C\\right)}{\\left(A C-B^2\\right)^2} \\\\\\ =&amp; \\frac{A \\mu_0^2-2 B \\mu_0+C}{A C-B^2} &amp; \\end{aligned}\\tag{13}\\label{13} \\]","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/advanced-search/","title":"\u9ad8\u7ea7\u200b\u641c\u7d22\u200b\u6280\u5de7","text":"<p>\u200b\u641c\u7d22\u5f15\u64ce\u200b\u548c\u200b GitHub \u200b\u4e2d\u200b\u4e00\u4e9b\u200b\u9ad8\u7ea7\u200b\u641c\u7d22\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#\u641c\u7d22\u5f15\u64ce\u4e2d\u7684\u9ad8\u7ea7\u641c\u7d22\u65b9\u6cd5","title":"\u641c\u7d22\u5f15\u64ce\u200b\u4e2d\u200b\u7684\u200b\u9ad8\u7ea7\u200b\u641c\u7d22\u200b\u65b9\u6cd5","text":"","tags":["Computer Science"]},{"location":"blog/advanced-search/#1site","title":"1.site:","text":"<p>site \u200b\u662f\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u641c\u7d22\u200b\u6307\u4ee4\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u7528\u6765\u200b\u641c\u7d22\u200b\u67d0\u4e2a\u200b\u57df\u540d\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b (\u200b\u6ce8\u610f\u200b\uff1a\u200b\u6587\u4ef6\u200b\u987b\u200b\u662f\u200b\u641c\u7d22\u5f15\u64ce\u200b\u6536\u5f55\u200b\u7684\u200b\u6587\u4ef6\u200b)\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#2\u53cc\u5f15\u53f7","title":"2.\u200b\u53cc\u5f15\u53f7","text":"<p>\u200b\u628a\u200b\u641c\u7d22\u8bcd\u200b\u653e\u5728\u200b\u53cc\u5f15\u53f7\u200b\uff0c\u200b\u4ee3\u8868\u200b\u5b8c\u5168\u200b\u5339\u914d\u200b\u641c\u7d22\u200b\u3002\u200b\u641c\u7d22\u200b\u7ed3\u679c\u200b\u8fd4\u56de\u200b\u7684\u200b\u9875\u9762\u200b\u5305\u542b\u200b\u53cc\u5f15\u53f7\u200b\u4e2d\u200b\u51fa\u73b0\u200b\u7684\u200b\u6240\u6709\u200b\u8bcd\u200b\uff0c\u200b\u8fde\u200b\u987a\u5e8f\u200b\u4e5f\u200b\u5fc5\u987b\u200b\u5b8c\u5168\u200b\u5339\u914d\u200b\u3002\u200b\u767e\u5ea6\u200b\u548c\u200b\u8c37\u6b4c\u200b\u90fd\u200b\u652f\u6301\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#3\u51cf\u53f7","title":"3.\u200b\u51cf\u53f7","text":"<p>\u200b\u51cf\u53f7\u200b (-) \u200b\u4ee3\u8868\u200b\u641c\u7d22\u200b\u4e0d\u200b\u5305\u542b\u200b\u51cf\u53f7\u200b\u540e\u9762\u200b\u7684\u200b\u8bcd\u200b\u7684\u200b\u9875\u9762\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u51cf\u53f7\u200b\u524d\u9762\u200b\u6709\u200b\u7a7a\u683c\u200b\u800c\u200b\u540e\u9762\u200b\u6ca1\u6709\u200b\u7a7a\u683c\u200b\uff0c\u200b\u7d27\u8ddf\u7740\u200b\u9700\u8981\u200b\u6392\u9664\u200b\u7684\u200b\u8bcd\u200b\u3002\u200b\u767e\u5ea6\u200b\u548c\u200b\u8c37\u6b4c\u200b\u90fd\u200b\u652f\u6301\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#4\u661f\u53f7","title":"4.\u200b\u661f\u53f7","text":"<p>\u200b\u661f\u53f7\u200b (*) \u200b\u5728\u200b\u8ba1\u7b97\u673a\u200b\u91cc\u200b\u7684\u200b\u672f\u8bed\u200b\u53eb\u200b\u901a\u914d\u7b26\u200b\uff0c\u200b\u5c31\u662f\u200b\u5339\u914d\u200b\u5168\u90e8\u200b\u7684\u200b\u610f\u601d\u200b\u3002\u200b\u767e\u5ea6\u200b\u4e0d\u200b\u652f\u6301\u200b*\u200b\u53f7\u200b\u641c\u7d22\u200b\u6307\u4ee4\u200b\u3002\u200b\u6bd4\u5982\u200b\u5728\u200b Google \u200b\u4e2d\u200b\u641c\u7d22\u200b\u201d\u200b\u90ed\u200b*\u200b\u7eb2\u200b\u201d\uff0c\u200b\u5176\u4e2d\u200b*\u200b\u53f7\u200b\u4ee3\u8868\u200b\u4e86\u200b\u4efb\u4f55\u200b\u6587\u5b57\u200b\u3002\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e0d\u4ec5\u200b\u5305\u542b\u200b\u4e86\u200b\u90ed\u5fb7\u7eb2\u200b\uff0c\u200b\u8fd8\u200b\u5305\u542b\u200b\u4e86\u200b\u5176\u4ed6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#5inulr","title":"5.inulr:","text":"<p>inurl:\u200b\u6307\u4ee4\u200b\u7528\u4e8e\u200b\u641c\u7d22\u200b\u67e5\u8be2\u200b\u8bcd\u200b\u51fa\u73b0\u200b\u5728\u200b URL(\u200b\u94fe\u63a5\u200b) \u200b\u4e2d\u200b\u7684\u200b\u9875\u9762\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#6inanchor","title":"6.inanchor:","text":"<p>\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u5bfc\u5165\u200b\u94fe\u63a5\u200b\u951a\u200b\u6587\u5b57\u200b\u4e2d\u200b\u5305\u542b\u200b\u641c\u7d22\u8bcd\u200b\u7684\u200b\u9875\u9762\u200b\uff0c\u200b\u767e\u5ea6\u200b\u4e0d\u200b\u652f\u6301\u200b\u8be5\u200b\u6307\u4ee4\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b SEOer \u200b\u53bb\u200b\u7814\u7a76\u200b\u7ade\u4e89\u5bf9\u624b\u200b\u9875\u9762\u200b\u6709\u200b\u54ea\u4e9b\u200b\u5916\u94fe\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u627e\u5230\u200b\u5f88\u591a\u200b\u884c\u4e1a\u200b\u5916\u94fe\u200b\u8d44\u6e90\u200b\u5e73\u53f0\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#7intitle","title":"7.intitle:","text":"<p>\u200b\u8be5\u200b\u6307\u4ee4\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u9875\u9762\u200b title \u200b\u4e2d\u200b\u5305\u542b\u200b\u5173\u952e\u8bcd\u200b\u7684\u200b\u9875\u9762\u200b\u3002\u200b\u767e\u5ea6\u200b\u548c\u200b Google \u200b\u90fd\u200b\u652f\u6301\u200b\u8be5\u200b\u6307\u4ee4\u200b\u3002SEOer \u200b\u90fd\u200b\u4f1a\u200b\u628a\u200b\u5173\u952e\u8bcd\u200b\u653e\u8fdb\u200b Title \u200b\u4e2d\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b intitle \u200b\u6307\u4ee4\u200b\u627e\u5230\u200b\u7684\u200b\u6587\u4ef6\u200b\u624d\u200b\u662f\u200b\u66f4\u200b\u51c6\u786e\u200b\u7684\u200b\u7ade\u4e89\u200b\u9875\u9762\u200b\u3002\u200b\u800c\u200b\u6ca1\u6709\u200b\u51fa\u73b0\u200b\u5728\u200b title \u200b\u4e2d\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u662f\u200b\u5e76\u200b\u6ca1\u6709\u200b\u9488\u5bf9\u200b\u5173\u952e\u8bcd\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u662f\u200b\u6709\u529b\u200b\u7684\u200b\u7ade\u4e89\u5bf9\u624b\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#8alltitle","title":"8.alltitle:","text":"<p>\u200b\u8be5\u200b\u6807\u7b7e\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u9875\u9762\u200b\u6807\u9898\u200b\u4e2d\u200b\u5305\u542b\u200b\u591a\u7ec4\u200b\u5173\u952e\u8bcd\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u200b\uff1aalltitle:SEO \u200b\u641c\u7d22\u5f15\u64ce\u200b\u4f18\u5316\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b intitle:SEO intitle:\u200b\u641c\u7d22\u5f15\u64ce\u200b\u4f18\u5316\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u6807\u9898\u200b\u4e2d\u200b\u65e2\u200b\u5305\u542b\u200b\u201dSEO\u201d\u200b\u4e5f\u200b\u5305\u542b\u200b\u201d\u200b\u641c\u7d22\u5f15\u64ce\u200b\u4f18\u5316\u200b\u201d\u200b\u7684\u200b\u9875\u9762\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#9allinurl","title":"9.allinurl:","text":"<p>\u200b\u4e0e\u200b alltitle \u200b\u7c7b\u4f3c\u200b\u3002allurl:SEO \u200b\u641c\u7d22\u5f15\u64ce\u200b\u4f18\u5316\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b iknurl:SEO inurl:\u200b\u641c\u7d22\u5f15\u64ce\u200b\u4f18\u5316\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#10filetype","title":"10.filetype:","text":"<p>\u200b\u8be5\u200b\u6307\u4ee4\u200b\u7528\u4e8e\u200b\u7279\u5b9a\u200b\u7684\u200b\u6587\u4ef6\u683c\u5f0f\u200b\u3002\u200b\u767e\u5ea6\u200b\u548c\u200b Google \u200b\u90fd\u200b\u652f\u6301\u200b\u8be5\u200b\u6307\u4ee4\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#11link","title":"11.link:","text":"<p>link \u200b\u662f\u200b\u4ee5\u524d\u200b SEO \u200b\u5e38\u7528\u200b\u7684\u200b\u6307\u4ee4\u200b\uff0c\u200b\u7528\u6765\u200b\u641c\u7d22\u200b\u67d0\u4e2a\u200b URL \u200b\u7684\u200b\u53cd\u5411\u200b\u94fe\u63a5\u200b\uff0c\u200b\u65e2\u200b\u5305\u62ec\u200b\u5185\u90e8\u200b\u94fe\u63a5\u200b\uff0c\u200b\u4e5f\u200b\u5305\u62ec\u200b\u5916\u90e8\u200b\u94fe\u63a5\u200b\u3002\u200b\u4f46\u662f\u200b\u73b0\u5728\u200b Google \u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u53ea\u200b\u8fd4\u56de\u200b\u5176\u200b\u7d22\u5f15\u200b\u5e93\u4e2d\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u800c\u4e14\u200b\u662f\u200b\u8fd1\u4e4e\u200b\u968f\u673a\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u67e5\u53cd\u94fe\u200b\u51e0\u4e4e\u200b\u6ca1\u6709\u200b\u7528\u200b\u3002\u200b\u767e\u5ea6\u200b\u5219\u200b\u4e0d\u200b\u652f\u6301\u200b\u8be5\u200b\u6307\u4ee4\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#12linkdomain","title":"12.linkdomain:","text":"<p>\u200b\u8be5\u200b\u6307\u4ee4\u200b\u66fe\u7ecf\u200b\u662f\u200b SEOer \u200b\u5fc5\u7528\u200b\u7684\u200b\u5916\u94fe\u200b\u67e5\u8be2\u200b\u5de5\u5177\u200b\uff0c\u200b\u968f\u7740\u200b\u96c5\u864e\u200b\u653e\u5f03\u200b\u81ea\u5df1\u200b\u7684\u200b\u641c\u7d22\u200b\u6280\u672f\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u5df2\u7ecf\u200b\u4f5c\u5e9f\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u53ea\u200b\u9002\u7528\u200b\u4e8e\u200b\u96c5\u864e\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#13related","title":"13.related:","text":"<p>\u200b\u8be5\u200b\u6307\u4ee4\u200b\u53ea\u200b\u9002\u7528\u200b\u4e8e\u200b Google\uff0c\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e0e\u200b\u67d0\u4e2a\u200b\u7f51\u7ad9\u200b\u6709\u200b\u5173\u8054\u200b\u7684\u200b\u9875\u9762\u200b\u3002\u200b\u8fd9\u79cd\u200b\u5173\u8054\u200b\u5230\u5e95\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff0cGoogle \u200b\u5e76\u200b\u6ca1\u6709\u200b\u660e\u786e\u200b\u8bf4\u660e\u200b\uff0c\u200b\u4e00\u822c\u200b\u8ba4\u4e3a\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u6709\u200b\u5171\u540c\u200b\u5916\u90e8\u200b\u94fe\u63a5\u200b\u7684\u200b\u7f51\u7ad9\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/advanced-search/#github-\u7684\u9ad8\u7ea7\u641c\u7d22\u65b9\u6cd5","title":"GitHub \u200b\u7684\u200b\u9ad8\u7ea7\u200b\u641c\u7d22\u200b\u65b9\u6cd5","text":"\u641c\u7d22\u200b\u6761\u4ef6\u200b \u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b \u200b\u5907\u6ce8\u200b location: location:china \u200b\u5339\u914d\u200b\u586b\u5199\u200b\u7684\u200b\u5730\u5740\u200b\u5728\u200b china \u200b\u7684\u200b\u5f00\u53d1\u8005\u200b language: language:python \u200b\u5339\u914d\u200b\u5f00\u53d1\u200b\u8bed\u8a00\u200b\u4e3a\u200b Python \u200b\u7684\u200b\u9879\u76ee\u200b followers: followers:&gt;=1000 \u200b\u5339\u914d\u200b\u62e5\u6709\u200b\u8d85\u8fc7\u200b 1000 \u200b\u540d\u200b\u5173\u6ce8\u200b\u7740\u200b\u7684\u200b\u9879\u76ee\u200b in:name in:name Wangrongsheng \u200b\u5339\u914d\u200b\u7528\u6237\u200b\u540d\u4e3a\u200b Wangrongsheng \u200b\u7684\u200b\u5f00\u53d1\u8005\u200b in:descripton in:descripton python \u200b\u5339\u914d\u200b\u4ed3\u5e93\u200b\u63cf\u8ff0\u200b\u91cc\u9762\u200b\u6709\u200b Python \u200b\u7684\u200b\u9879\u76ee\u200b in:readme in:readme python \u200b\u5339\u914d\u200b README \u200b\u63cf\u8ff0\u200b\u4e2d\u6709\u200b Python \u200b\u7684\u200b\u9879\u76ee\u200b stars: stars:&gt;=500 \u200b\u5339\u914d\u200b\u6536\u85cf\u200b\u6570\u91cf\u200b\u8d85\u8fc7\u200b 500 \u200b\u7684\u200b\u9879\u76ee\u200b forks: forks:&gt;=500\uff1bforks: 10..20 \u200b\u5339\u914d\u200b\u5206\u652f\u200b\u6570\u91cf\u200b\u8d85\u8fc7\u200b 500 \u200b\u7684\u200b\u9879\u76ee\u200b\uff1b\u200b\u5339\u914d\u200b\u5206\u652f\u200b\u6570\u91cf\u200b\u4e3a\u200b 10-20 \u200b\u7684\u200b\u9879\u76ee\u200b size: size:&gt;=5000 \u200b\u5339\u914d\u200b\u4ed3\u5e93\u200b\u5927\u4e8e\u200b 5000KB \u200b\u7684\u200b\u4ed3\u5e93\u200b created: created:&gt;2023-01-01 \u200b\u5339\u914d\u200b 2023 \u200b\u5e74\u200b\u4ee5\u540e\u200b\u521b\u5efa\u200b\u7684\u200b\u4ed3\u5e93\u200b pushed: pushed:&gt;2023-01-01 \u200b\u5339\u914d\u200b\u4ed3\u5e93\u200b\u6700\u8fd1\u200b\u4e00\u6b21\u200b\u63d0\u4ea4\u200b\u5728\u200b 2023 \u200b\u5e74\u200b\u4ee5\u540e\u200b\u7684\u200b\u4ed3\u5e93\u200b license: license:apache-2.0 \u200b\u5339\u914d\u200b\u4f7f\u7528\u200b apache-2.0 \u200b\u534f\u8bae\u200b\u7684\u200b\u4ed3\u5e93\u200b user: user:google \u200b\u5339\u914d\u200b\u7528\u6237\u200b Google \u200b\u4e0a\u4f20\u200b\u7684\u200b\u4ed3\u5e93\u200b org: org:spring-cloud \u200b\u5339\u914d\u200b\u5217\u51fa\u200b org \u200b\u7684\u200b spring-cloud \u200b\u4ed3\u5e93\u200b Awesome + \u200b\u5173\u952e\u5b57\u200b \u200b\u795e\u5668\u200b\u5173\u952e\u5b57\u200b \u200b\u5e2e\u52a9\u200b\u627e\u5230\u200b\u4f18\u79c0\u200b\u7684\u200b\u5de5\u5177\u200b\u5217\u8868","tags":["Computer Science"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/","title":"\u57fa\u4e8e\u200b XGBoost \u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u9884\u6d4b\u200b\u4e0e\u200b\u63a8\u8350","text":"<p>\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b\u97f3\u4e50\u200b\u5e73\u53f0\u200b Spotify \u200b\u4e2d\u200b\u7684\u200b 30 \u200b\u4e07\u4f59\u6761\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e0e\u200b 10 \u200b\u4e07\u4f59\u6761\u200b\u6b4c\u624b\u200b\u6570\u636e\u200b\uff0c\u200b\u5206\u6790\u200b\u5e76\u200b\u6784\u9020\u200b\u4e86\u200b\u97f3\u4e50\u200b\u6d41\u6d3e\u200b\u3001\u200b\u97f3\u4e50\u200b\u8bed\u8a00\u200b\u7b49\u200b\u7279\u5f81\u200b\uff0c\u200b\u4e0e\u200b\u6b4c\u624b\u200b\u70ed\u5ea6\u200b\u3001\u200b\u97f3\u4e50\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u7b49\u200b\u7279\u5f81\u200b\u5171\u540c\u200b\u5efa\u6a21\u200b\u9884\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff0c\u200b\u4f7f\u7528\u200b XGBoost \u200b\u5185\u7f6e\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u8ba1\u7b97\u200b\u51fd\u6570\u200b\u548c\u200b SHAP \u200b\u503c\u200b\u8bc4\u4f30\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u53ca\u5176\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\u65b9\u5411\u200b\u4e0e\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5e76\u200b\u6784\u5efa\u200b\u4e86\u200b\u57fa\u4e8e\u200b\u5185\u5bb9\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6458\u8981","title":"\u6458\u8981","text":"<p>\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b\u97f3\u4e50\u200b\u5e73\u53f0\u200b Spotify \u200b\u4e2d\u200b\u7684\u200b 30 \u200b\u4e07\u4f59\u6761\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e0e\u200b 10 \u200b\u4e07\u4f59\u6761\u200b\u6b4c\u624b\u200b\u6570\u636e\u200b\uff0c\u200b\u5206\u6790\u200b\u5e76\u200b\u6784\u9020\u200b\u4e86\u200b\u97f3\u4e50\u200b\u6d41\u6d3e\u200b\u3001\u200b\u97f3\u4e50\u200b\u8bed\u8a00\u200b\u7b49\u200b\u7279\u5f81\u200b\uff0c\u200b\u4e0e\u200b\u6b4c\u624b\u200b\u70ed\u5ea6\u200b\u3001\u200b\u97f3\u4e50\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u7b49\u200b\u7279\u5f81\u200b\u5171\u540c\u200b\u5efa\u6a21\u200b\u9884\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff0c\u200b\u5e76\u200b\u6784\u5efa\u200b\u4e86\u200b\u57fa\u4e8e\u200b\u5185\u5bb9\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\u3002</p> <p>\u200b\u5728\u200b\u9884\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u4e2d\u200b\uff0c\u200b\u672c\u6587\u200b\u9009\u7528\u200b\u51b3\u7b56\u6811\u200b\u3001\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u548c\u200b XGBoost \u200b\u4e09\u79cd\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u5176\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u9884\u6d4b\u200b\u8868\u73b0\u200b\uff0c\u200b\u53d1\u73b0\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u548c\u200b XGBoost \u200b\u7684\u200b\u62df\u5408\u200b\u4f18\u5ea6\u200b\u5747\u200b\u8f83\u4e3a\u200b\u4f18\u79c0\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b\\(R^2\\)\u200b\u8fbe\u200b\\(64\\%\\)\uff0c\u200b\u4e14\u200b XGBoost \u200b\u5728\u200b GPU \u200b\u4e0a\u200b\u53ea\u200b\u9700\u200b 20 \u200b\u79d2\u200b\u7684\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u66f4\u200b\u5360\u4f18\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b XGBoost \u200b\u5185\u7f6e\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u8ba1\u7b97\u200b\u51fd\u6570\u200b\u548c\u200b SHAP \u200b\u503c\u200b\u8bc4\u4f30\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u53ca\u5176\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\u65b9\u5411\u200b\u4e0e\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5e76\u200b\u9a8c\u8bc1\u200b\u4e86\u200b\u5404\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u5728\u200b\u65f6\u95f4\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u7684\u200b\u7a33\u5b9a\u6027\u200b\u3002</p> <p>\u200b\u6839\u636e\u200b\u97f3\u4e50\u200b\u7684\u200b\u5185\u5bb9\u200b\u7279\u5f81\u200b\uff0c\u200b\u672c\u6587\u200b\u6784\u5efa\u200b\u4e86\u200b\u57fa\u4e8e\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e24\u9996\u200b\u4e2d\u200b\u82f1\u6587\u6b4c\u66f2\u200b\u7684\u200b\u63a8\u8350\u200b\u6d4b\u8bd5\u200b\u4e2d\u200b\u53d6\u5f97\u200b\u4e86\u200b\u826f\u597d\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p> <p>\u200b\u6700\u540e\u200b\u672c\u6587\u200b\u603b\u7ed3\u200b\u4e86\u200b\u5efa\u6a21\u200b\u5206\u6790\u200b\u7684\u200b\u7ed3\u8bba\u200b\uff0c\u200b\u5e76\u200b\u9488\u5bf9\u200b Spotify \u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u548c\u200b\u7248\u6743\u200b\u8d2d\u4e70\u200b\u95ee\u9898\u200b\u63d0\u51fa\u200b\u4e86\u200b\u5efa\u8bae\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u95ee\u9898\u7684\u80cc\u666f","title":"\u95ee\u9898\u200b\u7684\u200b\u80cc\u666f","text":"<p>Spotify \u200b\u662f\u200b\u4e00\u5bb6\u200b\u62e5\u6709\u200b\u8d85\u8fc7\u200b 4 \u200b\u4ebf\u6708\u6d3b\u200b\u7528\u6237\u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u5a92\u4f53\u200b\u516c\u53f8\u200b\u3002\u200b\u4e3a\u200b\u7528\u6237\u200b\u63d0\u4f9b\u200b\u97f3\u4e50\u200b\u670d\u52a1\u200b\u6240\u200b\u8d5a\u53d6\u200b\u7684\u200b\u5e7f\u544a\u8d39\u200b\u548c\u200b\u4f1a\u5458\u8d39\u200b\u662f\u200b\u5b83\u200b\u7684\u200b\u4e3b\u8981\u200b\u6536\u5165\u200b\u6765\u6e90\u200b\u3002\u200b\u6bcf\u5929\u200b\u90fd\u200b\u6709\u200b\u65b0\u200b\u7684\u200b\u97f3\u4e50\u200b\u4e0a\u67b6\u200b\u5230\u200b Spotify\uff0c\u200b\u82e5\u80fd\u200b\u5c06\u200b\u6700\u8fd1\u200b\u53d1\u884c\u200b\u7684\u200b\u65b0\u200b\u97f3\u4e50\u200b\u548c\u200b\u8fc7\u53bb\u200b\u53d1\u884c\u200b\u7684\u200b\u8001\u200b\u97f3\u4e50\u200b\u7cbe\u51c6\u200b\u63a8\u8350\u200b\u7ed9\u200b\u53ef\u80fd\u200b\u559c\u6b22\u200b\u5b83\u200b\u7684\u200b\u7528\u6237\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u7528\u6237\u200b\u7684\u200b\u4f7f\u7528\u200b\u4f53\u9a8c\u200b\uff0c\u200b\u8fdb\u800c\u200b\u63d0\u9ad8\u200b\u6d3b\u8dc3\u200b\u7528\u6237\u6570\u91cf\u200b\u4e0e\u200b\u7528\u6237\u200b\u4ed8\u8d39\u200b\u610f\u613f\u200b\uff0c\u200b\u4e3a\u200b\u516c\u53f8\u200b\u5e26\u6765\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5e7f\u544a\u200b\u4e0e\u200b\u4f1a\u5458\u200b\u670d\u52a1\u6536\u5165\u200b\u3002</p> <p>\u200b\u5728\u200b\u97f3\u4e50\u200b\u6d41\u5a92\u4f53\u200b\u9886\u57df\u200b\uff0c\u200b\u5f71\u54cd\u200b\u5404\u5927\u200b\u5e73\u53f0\u200b\u7559\u5b58\u200b\u5ba2\u6237\u200b\u7684\u200b\u4e3b\u8981\u200b\u56e0\u7d20\u200b\u672c\u8d28\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u5f52\u7ed3\u4e3a\u200b\u4f7f\u7528\u200b\u4f53\u9a8c\u200b\u3002\u200b\u7528\u6237\u200b\u53ea\u6709\u200b\u542c\u5230\u200b\u559c\u6b22\u200b\u7684\u200b\u97f3\u4e50\u200b\u624d\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u4f7f\u7528\u200b Spotify\u3002\u200b\u6d41\u884c\u200b\u5ea6\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u4e0d\u200b\u5bb9\u6613\u200b\u88ab\u200b\u7528\u6237\u200b\u5207\u6b4c\u200b\uff0c\u200b\u5e94\u5f53\u200b\u88ab\u200b\u63a8\u8350\u200b\u7ed9\u200b\u66f4\u200b\u591a\u200b\u4eba\u200b\u3002\u200b\u5f53\u200b\u5c1d\u8bd5\u200b\u65b0\u200b\u97f3\u4e50\u200b\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u4e5f\u200b\u66f4\u200b\u671f\u5f85\u200b\u80fd\u200b\u542c\u5230\u200b\u7b26\u5408\u200b\u81ea\u5df1\u200b\u53e3\u5473\u200b\u7684\u200b\u97f3\u4e50\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u672c\u6587\u200b\u56f4\u7ed5\u200b\u5982\u4e0b\u200b\u4e09\u4e2a\u200b\u95ee\u9898\u200b\u8fdb\u884c\u200b\u5efa\u6a21\u200b\u5206\u6790\u200b\uff1a</p> <ol> <li>\u200b\u5982\u4f55\u200b\u57fa\u4e8e\u200b\u5df2\u6709\u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u6570\u636e\u200b\uff0c\u200b\u9884\u6d4b\u200b\u6700\u8fd1\u200b\u65b0\u200b\u53d1\u884c\u200b\u7684\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff1f</li> <li>\u200b\u54ea\u4e9b\u200b\u7279\u5f81\u200b\u53ef\u80fd\u200b\u5f71\u54cd\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff1f</li> <li>\u200b\u5982\u4f55\u200b\u57fa\u4e8e\u200b\u7528\u6237\u200b\u7684\u200b\u97f3\u4e50\u200b\u559c\u597d\u200b\uff0c\u200b\u5c06\u200b\u4e0e\u5176\u200b\u559c\u597d\u200b\u6700\u200b\u76f8\u4f3c\u200b\u7684\u200b\u5176\u4ed6\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7ed9\u200b\u7528\u6237\u200b\uff1f</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u95ee\u9898\u7684\u4ef7\u503c","title":"\u95ee\u9898\u200b\u7684\u200b\u4ef7\u503c","text":"<p>\u200b\u82e5\u80fd\u200b\u56de\u7b54\u200b\u4e0a\u8ff0\u200b\u4e09\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5206\u522b\u200b\u5e26\u6765\u200b\u4ee5\u4e0b\u200b\u4ef7\u503c\u200b\uff1a</p> <ol> <li> <p>\u200b\u5c06\u200b\u672a\u6765\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u5f88\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6d41\u884c\u200b\u7684\u200b\u97f3\u4e50\u200b\u7cbe\u51c6\u200b\u63a8\u8350\u200b\u7ed9\u200b\u7528\u6237\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u6709\u200b\u6d41\u884c\u200b\u6f5c\u529b\u200b\u7684\u200b\u65b0\u6b4c\u200b\u88ab\u200b\u66f4\u200b\u591a\u7528\u6237\u200b\u542c\u5230\u200b\uff0c\u200b\u540c\u65f6\u200b\u51cf\u5c11\u200b\u7528\u6237\u200b\u56e0\u200b\u8bd5\u9519\u200b\u5bfc\u81f4\u200b\u7684\u200b\u4f7f\u7528\u200b\u4f53\u9a8c\u200b\u4e0b\u964d\u200b\u3002\u200b\u8fd9\u200b\u5c06\u200b\u63d0\u9ad8\u200b\u7528\u6237\u200b\u4f7f\u7528\u200b Spotify \u200b\u7684\u200b\u610f\u613f\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b Spotify \u200b\u7684\u200b\u6536\u5165\u200b\u3002</p> <p>\u200b\u5f53\u65b0\u200b\u7684\u200b\u97f3\u4e50\u200b\u4e0a\u67b6\u200b\u5230\u200b Spotify \u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u97f3\u4e50\u200b\u7684\u200b\u67d0\u4e9b\u200b\u7279\u5f81\u200b\u9884\u6d4b\u200b\u5176\u200b\u5728\u200b\u672a\u6765\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff0c\u200b\u4ece\u800c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u9884\u6d4b\u200b\u6d41\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7ed9\u200b\u66f4\u200b\u591a\u7528\u6237\u200b\u3002\u200b\u7531\u4e8e\u200b\u5927\u90e8\u5206\u200b\u7528\u6237\u200b\u4e0d\u4f1a\u200b\u4e3b\u52a8\u200b\u641c\u7d22\u200b\u81ea\u5df1\u200b\u4ece\u6765\u200b\u6ca1\u6709\u200b\u542c\u8fc7\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u82e5\u200b\u7528\u6237\u200b\u6ca1\u6709\u200b\u6536\u5230\u200b\u6d41\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u7684\u200b\u63a8\u8350\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u53ef\u80fd\u200b\u6c38\u8fdc\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u542c\u5230\u200b\u8fd9\u4e9b\u200b\u672c\u8be5\u200b\u53d7\u5230\u200b\u6b22\u8fce\u200b\u7684\u200b\u97f3\u4e50\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u63a5\u53d7\u200b\u63a8\u8350\u200b\u7684\u200b\u65f6\u95f4\u200b\u548c\u200b\u7cbe\u529b\u200b\u662f\u200b\u6709\u9650\u200b\u7684\u200b\uff0c\u200b\u82e5\u200b\u5c06\u200b\u6d41\u884c\u200b\u5ea6\u200b\u4e0d\u200b\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7ed9\u200b\u7528\u6237\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5360\u7528\u200b\u4ed6\u4eec\u200b\u4f7f\u7528\u200b Spotify \u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u540c\u65f6\u200b\u964d\u4f4e\u200b\u4f7f\u7528\u200b\u4f53\u9a8c\u200b\u3002</p> </li> <li> <p>\u200b\u4e3a\u200b\u6d41\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u7cbe\u51c6\u200b\u8d2d\u4e70\u200b\u7248\u6743\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8282\u7ea6\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u7248\u6743\u200b\u8d39\u7528\u200b\u3002\u200b\u7cbe\u51c6\u200b\u521b\u4f5c\u200b\u6d41\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u4f5c\u54c1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u200b\u97f3\u4e50\u200b\u5236\u4f5c\u200b\u6210\u672c\u200b\u6700\u5927\u200b\u7a0b\u5ea6\u200b\u5730\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6536\u5165\u200b\u3002</p> <p>\u200b\u82e5\u200b\u9700\u8981\u200b\u4e3a\u200b\u4e0a\u67b6\u200b\u5230\u200b Spotify \u200b\u7684\u200b\u97f3\u4e50\u200b\u8d2d\u4e70\u200b\u7248\u6743\u200b\uff0c\u200b\u5177\u6709\u200b\u67d0\u4e9b\u200b\u7279\u5f81\u200b\u7684\u200b\u97f3\u4e50\u200b\u53ef\u80fd\u200b\u662f\u200b\u66f4\u200b\u53d7\u6b22\u8fce\u200b\u7684\u200b\uff0c\u200b\u4ece\u800c\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u5176\u200b\u652f\u4ed8\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u7248\u6743\u200b\u8d39\u7528\u200b\u3002\u200b\u6839\u636e\u200b\u5f71\u54cd\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u7279\u5f81\u200b\uff0cSpotify \u200b\u7684\u200b\u7248\u6743\u200b\u56e2\u961f\u200b\u53ef\u4ee5\u200b\u6709\u200b\u9488\u5bf9\u6027\u200b\u5730\u4e3a\u200b\u6d41\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u65b0\u200b\u53d1\u884c\u200b\u97f3\u4e50\u200b\u8d2d\u4e70\u200b\u7248\u6743\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u4e3a\u200b\u4f4e\u8d28\u91cf\u200b\u97f3\u4e50\u200b\u652f\u4ed8\u200b\u8fc7\u9ad8\u200b\u7684\u200b\u7248\u6743\u200b\u8d39\u200b\uff0c\u200b\u4ece\u800c\u200b\u51cf\u5c11\u200b\u7248\u6743\u200b\u8d39\u7528\u200b\u652f\u51fa\u200b\u3002\u200b\u751f\u4ea7\u200b\u97f3\u4e50\u200b\u5185\u5bb9\u200b\u7684\u200b\u5531\u7247\u200b\u516c\u53f8\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u6839\u636e\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u5236\u4f5c\u200b\u8fce\u5408\u200b\u5e02\u573a\u200b\u7684\u200b\u5546\u4e1a\u200b\u4f5c\u54c1\u200b\uff0c\u200b\u5c06\u200b\u5236\u4f5c\u200b\u6210\u672c\u200b\u5c3d\u53ef\u80fd\u200b\u5730\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53d7\u200b\u5e02\u573a\u200b\u6b22\u8fce\u200b\u7684\u200b\u97f3\u4e50\u4f5c\u54c1\u200b\u3002</p> </li> <li> <p>\u200b\u7cbe\u51c6\u200b\u63a8\u8350\u200b\u7b26\u5408\u200b\u7528\u6237\u200b\u559c\u597d\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u7528\u6237\u200b\u4f7f\u7528\u200b Spotify \u200b\u7684\u200b\u610f\u613f\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b Spotify \u200b\u7684\u200b\u6536\u5165\u200b\u3002</p> <p>\u200b\u63a8\u8350\u200b\u7b26\u5408\u200b\u7528\u6237\u200b\u559c\u597d\u200b\u7684\u200b\u97f3\u4e50\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u7528\u6237\u200b\u53d1\u73b0\u81ea\u5df1\u200b\u6ca1\u6709\u200b\u542c\u8fc7\u200b\u7684\u200b\u597d\u200b\u6b4c\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u60ca\u559c\u200b\u611f\u80fd\u200b\u63d0\u9ad8\u200b\u7528\u6237\u200b\u4f7f\u7528\u200b Spotify \u200b\u7684\u200b\u671f\u5f85\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b\u7528\u6237\u200b\u4f7f\u7528\u200b Spotify \u200b\u7684\u200b\u610f\u613f\u200b\u5e76\u200b\u63d0\u9ad8\u200b Spotify \u200b\u7684\u200b\u6536\u5165\u200b\u3002</p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6570\u636e\u5904\u7406\u7279\u5f81\u5de5\u7a0b\u4e0e\u63a2\u7d22\u6027\u6570\u636e\u5206\u6790","title":"\u6570\u636e\u5904\u7406\u200b\u3001\u200b\u7279\u5f81\u200b\u5de5\u7a0b\u200b\u4e0e\u200b\u63a2\u7d22\u6027\u200b\u6570\u636e\u5206\u6790","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6570\u636e\u63cf\u8ff0","title":"\u6570\u636e\u200b\u63cf\u8ff0","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b Spotify \u200b\u4e0a\u200b\u81ea\u200b 1921 \u200b\u5e74\u200b\u81f3\u200b 2020 \u200b\u5e74\u200b\u5171\u200b 60 \u200b\u4f59\u4e07\u200b\u6761\u200b\u97f3\u4e50\u200b\u4fe1\u606f\u200b\u4e0e\u200b\u6b4c\u624b\u200b\u4fe1\u606f\u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u6765\u6e90\u4e8e\u200b Kaggle\uff1ahttps://www.kaggle.com/datasets/yamaerenay/spotify-dataset-19212020-600k-tracks</p> <p>\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u5404\u5b57\u200b\u6bb5\u200b\u7684\u200b\u63cf\u8ff0\u200b\u5982\u4e0b\u200b\uff1a</p> \u200b\u5b57\u200b\u6bb5\u200b \u200b\u542b\u4e49\u200b <code>track_id</code> \u200b\u6b4c\u66f2\u200b\u552f\u4e00\u200b ID <code>track_name</code> \u200b\u6b4c\u66f2\u540d\u79f0\u200b <code>popularity</code> \u200b\u6b4c\u66f2\u200b\u6d41\u884c\u200b\u5ea6\u200b <code>duration_ms</code> \u200b\u6b4c\u66f2\u200b\u7684\u200b\u6301\u7eed\u65f6\u95f4\u200b\uff08\u200b\u4ee5\u200b\u6beb\u79d2\u200b\u4e3a\u200b\u5355\u4f4d\u200b\uff09 <code>explicit</code> \u200b\u6b4c\u66f2\u200b\u662f\u5426\u200b\u542b\u6709\u200b\u66b4\u9732\u200b\u5185\u5bb9\u200b\uff08\u200b\u5982\u200b\u8272\u60c5\u200b\u3001\u200b\u4fae\u8fb1\u200b\u3001\u200b\u66b4\u529b\u200b\u7b49\u200b\uff09 <code>artists</code> \u200b\u6b4c\u624b\u200b\u540d\u79f0\u200b <code>artists_id</code> \u200b\u6b4c\u624b\u200b\u552f\u4e00\u200b ID <code>release_date</code> \u200b\u6b4c\u66f2\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b <code>danceability</code> \u200b\u821e\u8e48\u200b\u6027\u200b\u63cf\u8ff0\u200b\u7684\u200b\u662f\u200b\u6839\u636e\u200b\u97f3\u4e50\u200b\u5143\u7d20\u200b\u7684\u200b\u7ec4\u5408\u200b\uff0c\u200b\u5305\u62ec\u200b\u901f\u5ea6\u200b\u3001\u200b\u8282\u594f\u200b\u7684\u200b\u7a33\u5b9a\u6027\u200b\u3001\u200b\u8282\u62cd\u200b\u7684\u200b\u5f3a\u5ea6\u200b\u548c\u200b\u6574\u4f53\u200b\u7684\u200b\u89c4\u5f8b\u6027\u200b\uff0c\u200b\u6765\u200b\u8861\u91cf\u200b\u4e00\u9996\u200b\u66f2\u76ee\u200b\u662f\u5426\u200b\u9002\u5408\u200b\u8df3\u821e\u200b\u30020.0 \u200b\u7684\u200b\u503c\u200b\u662f\u200b\u6700\u200b\u4e0d\u200b\u9002\u5408\u200b\u8df3\u821e\u200b\u7684\u200b\uff0c1.0 \u200b\u662f\u200b\u6700\u200b\u9002\u5408\u200b\u8df3\u821e\u200b\u7684\u200b\u3002 <code>energy</code> \u200b\u80fd\u91cf\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4ece\u200b 0.0 \u200b\u5230\u200b 1.0 \u200b\u7684\u200b\u5ea6\u91cf\u200b\uff0c\u200b\u4ee3\u8868\u200b\u5f3a\u5ea6\u200b\u548c\u200b\u6d3b\u52a8\u200b\u7684\u200b\u611f\u77e5\u200b\u5ea6\u200b\u3002\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0c\u200b\u6709\u200b\u80fd\u91cf\u200b\u7684\u200b\u66f2\u76ee\u200b\u7ed9\u200b\u4eba\u200b\u7684\u200b\u611f\u89c9\u200b\u662f\u200b\u5feb\u901f\u200b\u3001\u200b\u54cd\u4eae\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6b7b\u4ea1\u200b\u91d1\u5c5e\u200b\u6709\u200b\u5f88\u200b\u9ad8\u200b\u7684\u200b\u80fd\u91cf\u200b\uff0c\u200b\u800c\u200b\u5df4\u8d6b\u200b\u7684\u200b\u524d\u594f\u66f2\u200b\u5728\u200b\u8be5\u200b\u91cf\u8868\u200b\u4e2d\u200b\u5f97\u5206\u200b\u8f83\u200b\u4f4e\u200b\u3002 <code>key</code> \u200b\u97f3\u8f68\u200b\u7684\u200b\u4f30\u6d4b\u200b\u603b\u8c03\u200b\u3002\u200b\u7528\u200b\u6807\u51c6\u200b\u7684\u200b\u97f3\u9636\u200b\u7b26\u53f7\u200b\u5c06\u200b\u6574\u6570\u200b\u6620\u5c04\u200b\u4e3a\u200b\u97f3\u9ad8\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c0=C\uff0c1=C\u266f/D\u266d\uff0c2=D\uff0c\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u68c0\u6d4b\u200b\u5230\u200b\u97f3\u8c03\u200b\uff0c\u200b\u5219\u200b\u6570\u503c\u200b\u4e3a\u200b -1\u3002 <code>loudness</code> \u200b\u8f68\u9053\u200b\u7684\u200b\u6574\u4f53\u200b\u54cd\u5ea6\u200b\uff0c\u200b\u5355\u4f4d\u200b\u662f\u200b\u5206\u8d1d\u200b\uff08dB\uff09\u3002\u200b\u54cd\u5ea6\u200b\u503c\u200b\u662f\u200b\u6574\u4e2a\u200b\u97f3\u8f68\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bd4\u8f83\u200b\u97f3\u8f68\u200b\u7684\u200b\u76f8\u5bf9\u200b\u54cd\u5ea6\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002 <code>mode</code> \u200b\u6a21\u5f0f\u200b\u8868\u793a\u200b\u97f3\u8f68\u200b\u7684\u200b\u8c03\u5f0f\u200b\uff08\u200b\u5927\u8c03\u200b\u6216\u200b\u5c0f\u8c03\u200b\uff09\uff0c\u200b\u5373\u200b\u5176\u200b\u65cb\u5f8b\u200b\u5185\u5bb9\u200b\u6240\u200b\u6765\u81ea\u200b\u7684\u200b\u97f3\u9636\u200b\u7c7b\u578b\u200b\u3002\u200b\u5927\u200b\u8c03\u7528\u200b 1 \u200b\u8868\u793a\u200b\uff0c\u200b\u5c0f\u200b\u8c03\u7528\u200b 0 \u200b\u8868\u793a\u200b\u3002 <code>speechiness</code> \u200b\u8a00\u8bed\u200b\u6027\u200b\u68c0\u6d4b\u200b\u97f3\u8f68\u200b\u4e2d\u200b\u662f\u5426\u200b\u6709\u200b\u53e3\u8bed\u200b\u3002\u200b\u5f55\u97f3\u200b\u8d8a\u662f\u200b\u5b8c\u5168\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u8bed\u97f3\u200b\uff08\u200b\u5982\u200b\u8131\u53e3\u79c0\u200b\u3001\u200b\u8bf4\u5531\u200b\u3001\u200b\u8bd7\u6b4c\u200b\uff09\uff0c\u200b\u5c5e\u6027\u200b\u503c\u200b\u5c31\u200b\u8d8a\u200b\u63a5\u8fd1\u200b 1.0\u3002 <code>acousticness</code> \u200b\u8861\u91cf\u200b\u97f3\u8f68\u200b\u662f\u5426\u200b\u4e3a\u200b\u58f0\u5b66\u200b\u7684\u200b\u4fe1\u5fc3\u200b\u6307\u6570\u200b\uff0c\u200b\u4ece\u200b 0.0 \u200b\u5230\u200b 1.0\u30021.0 \u200b\u8868\u793a\u200b\u8be5\u200b\u66f2\u76ee\u200b\u4e3a\u200b\u539f\u58f0\u200b\u7684\u200b\u9ad8\u200b\u7f6e\u4fe1\u5ea6\u200b\u3002 <code>instrumentalness</code> \u200b\u9884\u6d4b\u200b\u4e00\u4e2a\u200b\u97f3\u8f68\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u4eba\u58f0\u200b\u3002\u200b\u8d8a\u200b\u63a5\u8fd1\u200b 1.0 \u200b\u8be5\u200b\u66f2\u76ee\u200b\u5c31\u200b\u8d8a\u200b\u6709\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u5305\u542b\u200b\u4eba\u58f0\u200b\u5185\u5bb9\u200b\u3002 <code>liveness</code> \u200b\u68c0\u6d4b\u200b\u5f55\u97f3\u200b\u4e2d\u200b\u662f\u5426\u200b\u6709\u200b\u542c\u4f17\u200b\u5b58\u5728\u200b\u3002\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u73b0\u573a\u200b\u6f14\u51fa\u200b\u6570\u503c\u200b\u8d8a\u5927\u200b\u3002 <code>valence</code> 0.0 \u200b\u5230\u200b 1.0\uff0c\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u97f3\u8f68\u200b\u6240\u200b\u4f20\u8fbe\u200b\u7684\u200b\u97f3\u4e50\u200b\u79ef\u6781\u6027\u200b\uff0c\u200b\u63a5\u8fd1\u200b 1 \u200b\u7684\u200b\u66f2\u76ee\u200b\u542c\u200b\u8d77\u6765\u200b\u66f4\u200b\u79ef\u6781\u200b\uff08\u200b\u5982\u200b\u5feb\u4e50\u200b\u3001\u200b\u6b22\u5feb\u200b\u3001\u200b\u5174\u594b\u200b\uff09\uff0c\u200b\u800c\u200b\u63a5\u8fd1\u200b 0 \u200b\u7684\u200b\u66f2\u76ee\u200b\u542c\u200b\u8d77\u6765\u200b\u66f4\u200b\u6d88\u6781\u200b\uff08\u200b\u5982\u200b\u60b2\u4f24\u200b\u3001\u200b\u538b\u6291\u200b\u3001\u200b\u6124\u6012\u200b\uff09\u3002 <code>tempo</code> \u200b\u8f68\u9053\u200b\u7684\u200b\u6574\u4f53\u200b\u4f30\u8ba1\u200b\u901f\u5ea6\u200b\uff0c\u200b\u5355\u4f4d\u200b\u662f\u200b\u6bcf\u5206\u949f\u200b\u8282\u62cd\u200b\uff08BPM\uff09\u3002 <code>time_signature</code> \u200b\u6b4c\u66f2\u200b\u7684\u200b\u62cd\u200b\u53f7\u200b\u3002\u200b\u62cd\u53f7\u200b\uff08\u200b\u7c73\u200b\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u7b26\u53f7\u200b\u7ea6\u5b9a\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u6bcf\u4e2a\u200b\u5c0f\u8282\u200b\uff08\u200b\u6216\u200b\u5c0f\u8282\u200b\uff09\u200b\u4e2d\u6709\u200b\u591a\u5c11\u200b\u8282\u62cd\u200b\u3002\u200b\u62cd\u53f7\u200b\u8303\u56f4\u200b\u4ece\u200b 3 \u200b\u5230\u200b 7\uff0c\u200b\u8868\u793a\u200b\u201c\u00be\u201d\u200b\u5230\u200b\u201c7/4\u201d\u200b\u7684\u200b\u62cd\u200b\u53f7\u200b\u3002 <p>\u200b\u6b4c\u624b\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u5404\u5b57\u200b\u6bb5\u200b\u7684\u200b\u63cf\u8ff0\u200b\u5982\u4e0b\u200b\uff1a</p> \u200b\u5b57\u200b\u6bb5\u200b \u200b\u542b\u4e49\u200b <code>artists_id</code> \u200b\u6b4c\u624b\u200b\u552f\u4e00\u200b ID <code>followers</code> \u200b\u6b4c\u624b\u200b\u7c89\u4e1d\u200b\u6570\u200b <code>genres</code> \u200b\u6b4c\u624b\u200b\u6d41\u6d3e\u200b <code>name</code> \u200b\u6b4c\u624b\u200b\u59d3\u540d\u200b <code>popularity</code> \u200b\u6b4c\u624b\u200b\u6d41\u884c\u200b\u5ea6\u200b <p>\u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u5efa\u6a21\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u8fdb\u884c\u200b\u5fc5\u8981\u200b\u7684\u200b\u6570\u636e\u5904\u7406\u200b\u548c\u200b\u7279\u5f81\u200b\u5de5\u7a0b\u200b\uff0c\u200b\u5e76\u200b\u4e86\u89e3\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\u3002</p> <p>\u200b\u5173\u952e\u200b\u7684\u200b\u6b65\u9aa4\u200b\u5305\u62ec\u200b\uff1a</p> <ol> <li> <p>\u200b\u7531\u4e8e\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u6761\u6570\u200b\u8fbe\u200b 60 \u200b\u4f59\u4e07\u200b\uff0c\u200b\u82e5\u200b\u5c06\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u5747\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u5728\u200b\u672c\u5730\u200b\u673a\u5668\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u975e\u5e38\u200b\u4e45\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9009\u62e9\u200b\u5254\u9664\u200b 1990 \u200b\u5e74\u200b\u4e4b\u524d\u200b\u53d1\u884c\u200b\u7684\u200b\u6b4c\u66f2\u200b\u3002</p> </li> <li> <p>\u200b\u5254\u9664\u200b<code>speechiness</code>\u200b\u5927\u4e8e\u200b 0.66 \u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u6839\u636e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u200b\uff0c<code>speechiness</code>\u200b\u5927\u4e8e\u200b 0.66 \u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u7eaf\u200b\u8bed\u97f3\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u662f\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u3002</p> </li> <li> <p>\u200b\u8ba1\u7b97\u200b release_date \u200b\u8ddd\u79bb\u200b\u6700\u65b0\u200b\u7684\u200b release_date \u200b\u6709\u200b\u591a\u5c11\u200b\u5929\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u4f5c\u4e3a\u200b\u65b0\u200b\u7684\u200b\u4e00\u5217\u200b\u7279\u5f81\u200b\uff0c\u200b\u8868\u793a\u200b\u8be5\u200b\u97f3\u4e50\u200b\u53d1\u884c\u200b\u7684\u200b\u65f6\u95f4\u200b\u65e9\u665a\u200b\u3002</p> </li> <li>\u200b\u5c06\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e0e\u200b\u6b4c\u624b\u200b\u6570\u636e\u200b\u6839\u636e\u200b\u6b4c\u624b\u200b id \u200b\u5408\u5e76\u200b\u3002</li> <li>\u200b\u6839\u636e\u200b\u6b4c\u624b\u200b\u6240\u5c5e\u200b\u6d41\u6d3e\u200b\uff08\u200b\u539f\u59cb\u6570\u636e\u200b\u4e3a\u200b\u6587\u672c\u200b\u5217\u8868\u200b\uff09\uff0c\u200b\u9009\u51fa\u200b\u51fa\u73b0\u200b\u9891\u7387\u200b\u6700\u9ad8\u200b\u7684\u200b 20 \u200b\u4e2a\u200b\u6d41\u6d3e\u200b\uff0c\u200b\u5e76\u200b\u6839\u636e\u200b\u6b4c\u624b\u200b\u6240\u5c5e\u200b\u6d41\u6d3e\u200b\u751f\u6210\u200b\u5404\u200b\u97f3\u4e50\u200b\u6240\u5c5e\u200b\u6d41\u6d3e\u200b\u7684\u200b One-Hot \u200b\u7f16\u7801\u200b\uff08\u200b\u4e00\u9996\u6b4c\u200b\u53ef\u80fd\u200b\u540c\u65f6\u200b\u5c5e\u4e8e\u200b\u591a\u4e2a\u200b\u6d41\u6d3e\u200b\uff09\u3002</li> <li>\u200b\u6839\u636e\u200b\u97f3\u4e50\u200b\u540d\u79f0\u200b\u5224\u65ad\u200b\u97f3\u4e50\u200b\u6240\u5c5e\u200b\u8bed\u8a00\u200b\uff0c\u200b\u5c06\u200b\u51fa\u73b0\u200b\u9891\u7387\u200b\u6700\u9ad8\u200b\u7684\u200b 20 \u200b\u79cd\u200b\u8bed\u8a00\u200b\u8fdb\u884c\u200b One-Hot \u200b\u7f16\u7801\u200b\uff0c\u200b\u5176\u4f59\u200b\u5c0f\u200b\u8bed\u79cd\u200b\u5219\u200b\u5f52\u4e8e\u200b\u540c\u200b\u4e00\u7c7b\u200b\u3002</li> </ol> <p>\u200b\u4e0b\u9762\u200b\u4ecb\u7ecd\u200b\u76f8\u5173\u200b\u7684\u200b\u5904\u7406\u200b\u4ee3\u7801\u200b\u548c\u200b\u5904\u7406\u200b\u7ec6\u8282\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5254\u9664\u4e0d\u9700\u8981\u7684\u6570\u636e","title":"\u5254\u9664\u200b\u4e0d\u200b\u9700\u8981\u200b\u7684\u200b\u6570\u636e","text":"<p>\u200b\u672c\u6587\u200b\u5728\u200b\u4e00\u200b\u5f00\u59cb\u200b\u4f7f\u7528\u200b\u5b8c\u6574\u200b\u7684\u200b 60 \u200b\u4f59\u4e07\u200b\u6761\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b\uff0c\u200b\u5728\u200b\u672c\u5730\u200b\u673a\u5668\u200b\u4e0a\u200b\u8bad\u7ec3\u200b XGBoost\uff0c\u200b\u8017\u65f6\u200b\u5728\u200b 20 \u200b\u5206\u949f\u200b\u4ee5\u4e0a\u200b\u3002\u200b\u8003\u8651\u200b\u5230\u200b\u591a\u200b\u6a21\u578b\u200b\u53ca\u200b\u591a\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u8bad\u7ec3\u200b\u7684\u200b\u8017\u65f6\u200b\u8f83\u4e45\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u5c06\u200b\u820d\u53bb\u200b 1990 \u200b\u5e74\u200b\u4e4b\u524d\u200b\u53d1\u884c\u200b\u7684\u200b\u97f3\u4e50\u200b\u3002</p> <p><code>speechiness</code>\u200b\u8fc7\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u5f88\u200b\u53ef\u80fd\u200b\u662f\u200b\u7eaf\u200b\u8bed\u97f3\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5e38\u89c4\u200b\u610f\u4e49\u200b\u4e0a\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8003\u8651\u200b\u5c06\u200b\u5176\u200b\u5254\u9664\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b tracks_df \u200b\u4e2d\u200b\u7684\u200b id \u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b id_tracks\ntracks_df.rename(columns={\"id\": \"id_tracks\"}, inplace=True)\n# \u200b\u5c06\u200b release_date \u200b\u8f6c\u6362\u200b\u4e3a\u200b release_year\uff0c\u200b\u53ea\u200b\u4fdd\u7559\u200b\u5e74\u4efd\u200b\ntracks_df[\"release_year\"] = [int(i.split(\"-\")[0]) for i in tracks_df[\"release_date\"]]\n# \u200b\u7531\u4e8e\u200b\u6570\u636e\u200b\u91cf\u8fc7\u5927\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u5206\u6790\u200b 1990 \u200b\u5e74\u200b\u4ee5\u540e\u200b\u7684\u200b\u6570\u636e\u200b\ntracks_df = tracks_df[tracks_df[\"release_year\"] &gt;= 1990]\n# \u200b\u5254\u9664\u200b speechiness \u200b\u5927\u4e8e\u200b 0.66 \u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u6839\u636e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u200b\uff0cspeechiness \u200b\u5927\u4e8e\u200b 0.66 \u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u7eaf\u200b\u8bed\u97f3\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u662f\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\ntracks_df = tracks_df[tracks_df[\"speechiness\"] &lt; 0.66]\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u4ee5\u4e0a\u200b\u4e24\u6b65\u200b\u6570\u636e\u200b\u7b5b\u9009\u200b\u540e\u200b\uff0c\u200b\u5f97\u5230\u200b 1991 \u200b\u5e74\u200b\u81f3\u200b 2021 \u200b\u5e74\u200b\u5171\u200b 30 \u200b\u5e74\u200b\u53d1\u884c\u200b\u7684\u200b 252438 \u200b\u6761\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u53d1\u884c\u65f6\u95f4\u8ddd\u6700\u65b0\u53d1\u884c\u97f3\u4e50\u7684\u5929\u6570","title":"\u53d1\u884c\u200b\u65f6\u95f4\u200b\u8ddd\u200b\u6700\u65b0\u200b\u53d1\u884c\u200b\u97f3\u4e50\u200b\u7684\u200b\u5929\u6570","text":"<p>\u200b\u5229\u7528\u200b<code>pd.to_datetime()</code>\u200b\u51fd\u6570\u200b\u548c\u200b<code>.dt.days</code>\u200b\u5c5e\u6027\u200b\uff0c\u200b\u83b7\u53d6\u200b\u97f3\u4e50\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u8ddd\u200b\u6700\u65b0\u200b\u53d1\u884c\u200b\u97f3\u4e50\u200b\u7684\u200b\u5929\u6570\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b release_date \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\ntracks_df[\"release_date\"] = pd.to_datetime(tracks_df[\"release_date\"], format=\"%Y-%m-%d\")\n# \u200b\u8ba1\u7b97\u200b release_date \u200b\u8ddd\u79bb\u200b\u6700\u65b0\u200b\u7684\u200b release_date \u200b\u6709\u200b\u591a\u5c11\u200b\u5929\u200b\ntracks_df[\"delta_days\"] = tracks_df[\"release_date\"].max() - tracks_df[\"release_date\"]\n# \u200b\u5c06\u200b delta_days \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6574\u6570\u200b\ntracks_df[\"delta_days\"] = tracks_df[\"delta_days\"].dt.days\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5408\u5e76\u97f3\u4e50\u6570\u636e\u548c\u6b4c\u624b\u6570\u636e","title":"\u5408\u5e76\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u548c\u200b\u6b4c\u624b\u200b\u6570\u636e","text":"<p>\u200b\u5408\u5e76\u200b\u65f6\u200b\u6ce8\u610f\u200b\u4fee\u6539\u200b\u91cd\u590d\u200b\u7684\u200b\u7279\u8bc1\u540d\u200b\uff0c\u200b\u5982\u200b\u5c06\u200b<code>artists_df</code>\u200b\u4e2d\u200b\u7684\u200b<code>id</code>\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b<code>id_artists</code>\uff0c<code>name</code>\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b<code>name_artists</code>\uff0c<code>popularity</code>\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b<code>artist_popularity</code>\uff0c\u200b\u7528\u4e8e\u200b\u533a\u5206\u200b<code>tracks_df</code>\u200b\u548c\u200b<code>artists_df</code>\u200b\u4e2d\u200b\u7684\u200b<code>id \u200b\u548c\u200b popularity</code>\u3002</p> Python<pre><code>artists_df.rename(\ncolumns={\n\"id\": \"id_artists\",\n\"name\": \"name_artists\",\n\"popularity\": \"artists_popularity\",\n},\ninplace=True,\n)\n# \u200b\u5c06\u200b artists_df \u200b\u4e2d\u200b\u7684\u200b genres \u200b\u8f6c\u6362\u200b\u4e3a\u200b obj list \u200b\u7c7b\u578b\u200b\nartists_df[\"genres\"] = [i[2:-2].split(\"', '\") for i in artists_df[\"genres\"]]\n# \u200b\u5c06\u200b tracks_df \u200b\u548c\u200b artists_df \u200b\u5408\u5e76\u200b\ndf = tracks_df.merge(artists_df, on=\"id_artists\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6839\u636e\u6b4c\u624b\u6d41\u6d3e\u63a8\u6d4b\u97f3\u4e50\u6d41\u6d3e","title":"\u6839\u636e\u200b\u6b4c\u624b\u200b\u6d41\u6d3e\u200b\u63a8\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u6d3e","text":"<p>\u200b\u7531\u4e8e\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u73b0\u6210\u200b\u7684\u200b\u6d41\u6d3e\u200b\u6570\u636e\u200b\uff0c\u200b\u800c\u200b\u53ea\u200b\u5728\u200b\u6b4c\u624b\u200b\u6570\u636e\u200b\u4e2d\u6709\u200b\u6d41\u6d3e\u200b\u6570\u636e\u200b\uff0c\u200b\u6211\u4eec\u200b\u57fa\u4e8e\u200b\u201c\u200b\u540c\u4e00\u200b\u6b4c\u624b\u200b\u521b\u4f5c\u200b\u51fa\u6765\u200b\u7684\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u6d3e\u200b\u57fa\u672c\u200b\u76f8\u4f3c\u200b\u201d\u200b\u8fd9\u4e00\u200b\u5047\u8bbe\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u6b4c\u624b\u200b\u6d41\u6d3e\u200b\u63a8\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u6d3e\u200b\u3002</p> <p>\u200b\u6b4c\u624b\u200b\u6d41\u6d3e\u200b\u6570\u636e\u200b\u5b58\u5728\u200b\u4e8e\u200b\u5b57\u200b\u6bb5\u200b<code>genres</code>\u200b\u4e2d\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u6d41\u6d3e\u200b\u6587\u672c\u200b\u7684\u200b\u5217\u8868\u200b\u3002</p> <p></p> <p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u7edf\u8ba1\u200b\u4e00\u5171\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u6d41\u6d3e\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5404\u200b\u6d41\u6d3e\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u5e76\u200b\u7ed8\u5236\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u7684\u200b\u6d41\u6d3e\u200b\u3002</p> Python<pre><code># \u200b\u751f\u6210\u200b\u6240\u6709\u200b genre \u200b\u53ca\u5176\u200b\u51fa\u73b0\u200b\u6b21\u6570\u200b\u7684\u200b dataframe\n# \u200b\u5148\u200b\u5c06\u200b\u6240\u6709\u200b genre \u200b\u653e\u5230\u200b\u4e00\u4e2a\u200b list \u200b\u4e2d\u200b\ngenre_list = list(itertools.chain.from_iterable(df[\"genres\"].to_list()))\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b genre \u200b\u51fa\u73b0\u200b\u7684\u200b\u6b21\u6570\u200b\u7684\u200b dict\nunique, counts = np.unique(genre_list, return_counts=True)\ngenre_dict = dict(zip(unique, counts))\n# \u200b\u5c06\u200b genre_dict \u200b\u8f6c\u6362\u200b\u4e3a\u200b dataframe\ngenre_df = pd.DataFrame.from_dict(genre_dict, orient=\"index\", columns=[\"count\"])\n# \u200b\u5c06\u200b genre_df \u200b\u6309\u7167\u200b count \u200b\u964d\u5e8f\u200b\u6392\u5e8f\u200b\ngenre_df = genre_df.sort_values(by=\"count\", ascending=False)\n# \u200b\u7ed8\u5236\u200b genre \u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u7684\u200b\u67f1\u72b6\u56fe\u200b\nfig, ax = plt.subplots(figsize=(10, 6))\nsns.barplot(\nax=ax,\ndata=genre_df.iloc[1:21],\nx=genre_df.iloc[1:21].index,\ny=\"count\",\npalette=\"Blues_r\",\n)\nplt.xticks(rotation=45)\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\"genre \u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u7531\u4e8e\u200b\u539f\u59cb\u200b\u6d41\u6d3e\u200b\u7684\u200b\u6570\u91cf\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u5982\u679c\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b genre \u200b\u4f5c\u4e3a\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b One-Hot \u200b\u7f16\u7801\u200b\uff0c\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u7279\u5f81\u200b\u7ef4\u5ea6\u200b\u8fc7\u9ad8\u200b\uff0c\u200b\u800c\u200b\u5982\u679c\u200b\u820d\u53bb\u200b\u67d0\u4e9b\u200b\u5c11\u89c1\u200b\u7684\u200b genre \u200b\u6d41\u6d3e\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u4e27\u5931\u200b\u90e8\u5206\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u200b\u540c\u65f6\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u5404\u200b\u6d41\u6d3e\u200b\u7684\u200b\u540d\u5b57\u200b\u867d\u200b\u4e0d\u200b\u5b8c\u5168\u76f8\u540c\u200b\uff0c\u200b\u4f46\u200b\u8bb8\u591a\u200b\u6d41\u6d3e\u200b\u4e4b\u95f4\u200b\u6709\u200b\u5171\u540c\u200b\u7684\u200b\u5173\u952e\u8bcd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u540c\u200b\u5c5e\u4e8e\u200b\u4e00\u4e2a\u200b\u6d41\u6d3e\u200b\u5927\u200b\u7c7b\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7ed8\u5236\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u6765\u200b\u5c55\u793a\u200b\u5404\u200b\u6d41\u6d3e\u200b\u5173\u952e\u8bcd\u200b\u7684\u200b\u51fa\u73b0\u200b\u9891\u7387\u200b\u3002</p> Python<pre><code># =====\u200b\u7ed8\u5236\u200b\u8bcd\u200b\u4e91\u56fe\u200b=====\ndef draw_word_cloud(text_path, output_path, outline_image_path=imread(r\".\\\u200b\u97f3\u4e50\u200b\u3002jpg\")):\n# \u200b\u5b57\u4f53\u200b\u8def\u5f84\u200b\nfont_path = r\"C:\\Windows\\Fonts\\simsun.ttc\"\n# \u200b\u8bfb\u53d6\u200b\u6587\u672c\u200b\ntext = open(text_path).read()\n# \u200b\u914d\u7f6e\u200b\u8bcd\u200b\u4e91\u56fe\u200b\nwc = WordCloud(\nfont_path=font_path,\nbackground_color=\"white\",\nmax_words=2000,\nmask=outline_image_path,\nmax_font_size=100,\nrandom_state=42,\nwidth=1000,\nheight=860,\nmargin=2,\n)\n# \u200b\u751f\u6210\u200b\u8bcd\u200b\u4e91\u56fe\u200b\nwc.generate(text)\nplt.figure(dpi=300)\nplt.imshow(wc, interpolation=\"bilinear\")\nplt.axis(\"off\")\n# \u200b\u4fdd\u5b58\u200b\u4e3a\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nwc.to_file(output_path)\nwith open(r\"genre.txt\", \"w\") as fp:\nfp.write(\"\\n\".join(genre_list))\ndraw_word_cloud(text_path=\"genre.txt\", output_path=\"genre \u200b\u6d41\u6d3e\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u3002png\")\n</code></pre> <p></p> <p></p> <p>\u200b\u7ecf\u200b\u7edf\u8ba1\u200b\uff0c\u200b\u4e00\u5171\u200b\u6709\u200b 4267 \u200b\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u6d41\u6d3e\u200b\u3002\u200b\u82e5\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b\u6d41\u6d3e\u200b\u5168\u90e8\u200b\u8fdb\u884c\u200b One-Hot \u200b\u7f16\u7801\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u7279\u5f81\u200b\u77e9\u9635\u200b\u5c06\u200b\u975e\u5e38\u200b\u7a00\u758f\u200b\uff0c\u200b\u4e0d\u5229\u4e8e\u200b\u5efa\u6a21\u200b\u6c42\u89e3\u200b\u4e0e\u200b\u5206\u6790\u200b\u3002\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u8003\u8651\u200b\u5c06\u200b\u76f8\u4f3c\u200b\u7684\u200b\u6d41\u6d3e\u200b\u7edf\u4e00\u200b\u6210\u200b\u540c\u4e00\u4e2a\u200b\u6d41\u6d3e\u200b\uff0c\u200b\u4f8b\u5982\u200b pop\u3001dance pop \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5f52\u4e3a\u200b pop \u200b\u8fd9\u200b\u4e00\u4e2a\u200b\u6d41\u6d3e\u200b\u5927\u7c7b\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u6309\u7167\u200b\u8fd9\u4e00\u200b\u601d\u8def\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u6d41\u6d3e\u200b\u4e2d\u200b\u51fa\u73b0\u200b\u7684\u200b\u5173\u952e\u8bcd\u200b\u8fdb\u884c\u200b\u7edf\u8ba1\u200b\uff0c\u200b\u7ed8\u5236\u200b\u6570\u91cf\u200b\u6392\u524d\u200b 20 \u200b\u540d\u200b\u7684\u200b\u6d41\u6d3e\u200b\u5173\u952e\u8bcd\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b genre_list \u200b\u7684\u200b\u5143\u7d20\u200b\u62c6\u200b\u5206\u4e3a\u200b\u5355\u4e2a\u200b\u5143\u7d20\u200b\nword_list = [i.replace(\"-\", \" \").split() for i in genre_list]\nword_list = list(itertools.chain.from_iterable(word_list))\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b word \u200b\u51fa\u73b0\u200b\u7684\u200b\u6b21\u6570\u200b\u7684\u200b dict\nunique, counts = np.unique(word_list, return_counts=True)\nword_dict = dict(zip(unique, counts))\n# \u200b\u5c06\u200b word_dict \u200b\u8f6c\u6362\u200b\u4e3a\u200b dataframe\nword_df = pd.DataFrame.from_dict(word_dict, orient=\"index\", columns=[\"count\"])\n# \u200b\u5c06\u200b word_df \u200b\u6309\u7167\u200b count \u200b\u964d\u5e8f\u200b\u6392\u5e8f\u200b\nword_df = word_df.sort_values(by=\"count\", ascending=False)\n# \u200b\u7ed8\u5236\u200b word \u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u7684\u200b\u67f1\u72b6\u56fe\u200b\nfig, ax = plt.subplots(figsize=(10, 6))\nsns.barplot(\nax=ax,\ndata=word_df.iloc[:20],\nx=word_df.iloc[:20].index,\ny=\"count\",\npalette=\"Blues_r\",\n)\nplt.xticks(rotation=30)\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\"word \u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u76f8\u6bd4\u200b\u5b8c\u6574\u200b\u7684\u200b\u6d41\u6d3e\u200b\u540d\u79f0\u200b\uff0c\u200b\u6d41\u6d3e\u200b\u5173\u952e\u8bcd\u200b\u66f4\u200b\u96c6\u4e2d\u200b\u4e8e\u200b<code>pop</code>\u200b\u548c\u200b<code>rock</code>\u200b\u8fd9\u200b\u4e24\u7c7b\u200b\u4e2d\u200b\uff0c\u200b\u5404\u200b\u5173\u952e\u8bcd\u200b\u5728\u200b\u6587\u672c\u200b\u5f62\u5f0f\u200b\u4e0a\u200b\u66f4\u52a0\u200b\u7b80\u6d01\u200b\u3001\u200b\u4e00\u822c\u200b\uff0c\u200b\u9002\u5408\u200b\u4ee3\u8868\u200b\u4e00\u9996\u6b4c\u200b\u7684\u200b\u98ce\u683c\u200b\u5c5e\u6027\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u9009\u62e9\u200b\u4e0a\u8ff0\u200b\u6700\u200b\u70ed\u95e8\u200b\u7684\u200b 20 \u200b\u4e2a\u200b\u6d41\u6d3e\u200b\u5173\u952e\u8bcd\u200b\uff0c\u200b\u518d\u200b\u6839\u636e\u200b\u201c\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u67d0\u4e2a\u200b\u6d41\u6d3e\u200b\u5173\u952e\u8bcd\u200b\u201d\uff0c\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u97f3\u4e50\u200b\u8fdb\u884c\u200b\u6d41\u6d3e\u200b\u7684\u200b One-Hot \u200b\u7f16\u7801\u200b\uff0c\u200b\u8fd9\u6837\u200b\u65e2\u200b\u80fd\u200b\u5c3d\u53ef\u80fd\u200b\u4f7f\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u97f3\u4e50\u200b\u80fd\u200b\u83b7\u53d6\u200b\u6d41\u6d3e\u200b\u6570\u636e\u200b\uff0c\u200b\u53c8\u200b\u4e0d\u81f3\u4e8e\u200b\u5bfc\u81f4\u200b\u7279\u5f81\u200b\u7ef4\u6570\u200b\u8fc7\u200b\u9ad8\u200b\u3002</p> Python<pre><code>top_20_word = word_df.iloc[:20].index.to_list()\n# \u200b\u5c06\u200b genre \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5411\u91cf\u200b\uff0c\u200b\u82e5\u200b\u67d0\u200b\u9996\u6b4c\u200b\u7684\u200b genre \u200b\u4e2d\u200b\u5305\u542b\u200b\u67d0\u4e2a\u200b word\uff0c\u200b\u4e14\u200b\u8fd9\u4e2a\u200b word \u200b\u4e3a\u200b word_df \u200b\u6700\u200b\u5e38\u200b\u51fa\u73b0\u200b\u7684\u200b\u524d\u200b 50 \u200b\u540d\u200b\uff0c\u200b\u5219\u200b\u8be5\u200b\u9996\u6b4c\u200b\u7684\u200b\u8be5\u200b word \u200b\u7684\u200b\u5411\u91cf\u200b\u4e3a\u200b 1\uff0c\u200b\u5426\u5219\u200b\u4e3a\u200b 0\ndf[\"genres_vector\"] = df[\"genres\"].apply(\nlambda x: [\ni\nin list(\nitertools.chain.from_iterable(list(j.replace(\"-\", \" \").split() for j in x))\n)\nfor i in top_20_word\n]\n)\n# \u200b\u5c06\u200b genres_vector \u200b\u8f6c\u6362\u200b 0/1 \u200b\u5411\u91cf\u200b\uff0c\u200b\u5e76\u200b expand \u200b\u4e3a\u200b\u591a\u5217\u200b\ndf = df.join(pd.DataFrame(df[\"genres_vector\"].to_list(), columns=top_20_word))\n# \u200b\u8f6c\u6362\u200b 0/1 \u200b\u5411\u91cf\u200b\ndf[top_20_word] = df[top_20_word].astype(int)\n# \u200b\u5220\u9664\u200b genres_vector \u200b\u5217\u200b\ndf.drop(columns=[\"genres_vector\"], inplace=True)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6839\u636e\u97f3\u4e50\u540d\u79f0\u63a8\u6d4b\u97f3\u4e50\u6240\u5c5e\u8bed\u8a00","title":"\u6839\u636e\u200b\u97f3\u4e50\u200b\u540d\u79f0\u200b\u63a8\u6d4b\u200b\u97f3\u4e50\u200b\u6240\u5c5e\u200b\u8bed\u8a00","text":"<p>Spotify \u200b\u4e0a\u200b\u62e5\u6709\u200b\u5404\u4e2a\u200b\u8bed\u79cd\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u8bed\u8a00\u200b\u4e5f\u200b\u662f\u200b\u5f71\u54cd\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u91cd\u8981\u200b\u56e0\u7d20\u200b\u4e4b\u4e00\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8003\u8651\u200b\u5c06\u200b\u8bed\u8a00\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u7279\u5f81\u200b\u3002\u200b\u539f\u59cb\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u4f53\u73b0\u200b\u97f3\u4e50\u200b\u6240\u5c5e\u200b\u8bed\u8a00\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u97f3\u4e50\u200b\u540d\u200b\u5b57\u7b26\u4e32\u200b\u6765\u200b\u63a8\u6d4b\u200b\u97f3\u4e50\u200b\u6240\u5c5e\u200b\u8bed\u8a00\u200b\u3002</p> <p>\u200b\u5177\u4f53\u200b\u5730\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u5229\u7528\u200b<code>langid</code>\u200b\u5e93\u5bf9\u200b\u539f\u59cb\u200b\u97f3\u4e50\u200b\u540d\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u53d8\u6362\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53ef\u80fd\u6027\u200b\u6700\u9ad8\u200b\u7684\u200b\u8bed\u8a00\u200b\uff0c\u200b\u82e5\u8be5\u200b\u97f3\u4e50\u200b\u65e0\u6cd5\u200b\u5224\u65ad\u200b\u8bed\u8a00\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\u7a7a\u503c\u200b\u3002</p> Python<pre><code># \u200b\u63d0\u53d6\u200b\u51fa\u200b\u6b4c\u66f2\u200b\u7684\u200b\u8bed\u8a00\u200b\ndef get_lang(text):\ntry:\nreturn langid.classify(text)[0]\nexcept:\nreturn \"unknown\"\ntracks_df[\"lang\"] = tracks_df[\"name\"].swifter.apply(get_lang)\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u793a\u4f8b\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c<code>langid</code>\u200b\u5e93\u5bf9\u200b\u97f3\u4e50\u200b\u540d\u200b\u7684\u200b\u8bed\u79cd\u200b\u8bc6\u522b\u200b\u8f83\u4e3a\u200b\u51c6\u786e\u200b\u3002</p> <p></p> <p>\u200b\u6211\u4eec\u200b\u7edf\u8ba1\u200b\u5404\u200b\u8bed\u8a00\u200b\u97f3\u4e50\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u4e00\u5171\u200b\u6709\u200b 89 \u200b\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u8bed\u8a00\u200b\u3002</p> <p></p> <p>\u200b\u7ed8\u5236\u200b\u6570\u91cf\u200b\u6392\u524d\u200b 20 \u200b\u7684\u200b\u8bed\u8a00\u200b\u7684\u200b\u67f1\u72b6\u56fe\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u82f1\u6587\u6b4c\u66f2\u200b\u5360\u200b\u7edd\u5927\u591a\u6570\u200b\uff0c\u200b\u897f\u73ed\u7259\u8bed\u200b\u3001\u200b\u5fb7\u8bed\u200b\u3001\u200b\u4e2d\u6587\u200b\u548c\u200b\u6cd5\u8bed\u200b\u4e5f\u200b\u662f\u200b\u6b4c\u66f2\u200b\u6570\u91cf\u200b\u524d\u200b 5 \u200b\u540d\u200b\u3002</p> Python<pre><code># \u200b\u8bed\u8a00\u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\nlang_dict = df[\"lang\"].value_counts().to_dict()\n# \u200b\u5c06\u200b lang_dict \u200b\u8f6c\u6362\u200b\u4e3a\u200b dataframe\nlang_df = pd.DataFrame.from_dict(lang_dict, orient=\"index\", columns=[\"count\"])\n# \u200b\u5c06\u200b lang_df \u200b\u6309\u7167\u200b count \u200b\u964d\u5e8f\u200b\u6392\u5e8f\u200b\nlang_df = lang_df.sort_values(by=\"count\", ascending=False)\n# \u200b\u7ed8\u5236\u200b lang \u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u7684\u200b\u67f1\u72b6\u56fe\u200b\nfig, ax = plt.subplots(figsize=(10, 6))\nsns.barplot(\nax=ax,\ndata=lang_df.iloc[:20],\nx=lang_df.iloc[:20].index,\ny=\"count\",\npalette=\"Blues_r\",\n)\nplt.xticks(rotation=30)\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\"lang \u200b\u7684\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u540d\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u7531\u4e8e\u200b\u8bed\u8a00\u200b\u7684\u200b\u6570\u91cf\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u4e14\u200b\u5927\u90e8\u5206\u200b\u8bed\u8a00\u200b\u7684\u200b\u6570\u91cf\u200b\u90fd\u200b\u5f88\u5c11\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u5c06\u200b\u6570\u91cf\u200b\u6392\u540d\u200b\u5927\u4e8e\u200b 20 \u200b\u7684\u200b\u5f52\u200b\u4e3a\u200b\u4e00\u7c7b\u200b\uff0c\u200b\u7136\u540e\u200b\u4f9d\u636e\u200b\u67d0\u4e2a\u200b track \u200b\u4e2d\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u8fd9\u4e2a\u200b\u8bed\u8a00\u200b\u8fdb\u884c\u200b One-Hot \u200b\u7f16\u7801\u200b\u3002</p> Python<pre><code># \u200b\u63d0\u53d6\u200b\u51fa\u200b\u6b4c\u66f2\u200b\u6570\u91cf\u200b\u524d\u200b 20 \u200b\u7684\u200b\u8bed\u8a00\u200b\ntop_20_lang = df[\"lang\"].value_counts().iloc[:20].index.to_list()\n# \u200b\u5c06\u200b lang \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5411\u91cf\u200b\uff0c\u200b\u82e5\u200b\u67d0\u200b\u9996\u6b4c\u200b\u7684\u200b lang \u200b\u5728\u200b top_20_lang \u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u8be5\u200b\u9996\u6b4c\u200b\u7684\u200b\u8be5\u200b lang \u200b\u8f6c\u6362\u200b 0/1 \u200b\u5411\u91cf\u200b\uff0c\u200b\u5e76\u200b expand \u200b\u4e3a\u200b\u591a\u5217\u200b\ndummies = pd.get_dummies(df[\"lang\"])\n# \u200b\u53ea\u200b\u4fdd\u7559\u200b top_20_lang \u200b\u4e2d\u200b\u7684\u200b\u5217\u200b\ndummies = dummies[top_20_lang]\n# \u200b\u5c06\u200b dummies \u200b\u4e0e\u200b df \u200b\u5408\u5e76\u200b\ndf = pd.concat([df, dummies], axis=1)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6570\u503c\u578b\u53d8\u91cf\u7684\u5206\u5e03\u60c5\u51b5","title":"\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5","text":"<p>\u200b\u6839\u636e\u200b\u539f\u59cb\u200b\u5b57\u200b\u6bb5\u200b\u63cf\u8ff0\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e00\u5171\u200b\u6709\u200b 19 \u200b\u4e2a\u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\u3002\u200b\u901a\u8fc7\u200b\u7ed8\u5236\u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u76f4\u89c2\u200b\u5730\u200b\u8ba4\u8bc6\u200b\u6570\u636e\u200b\u3002</p> Python<pre><code># \u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\nnumerical_variables = [\n\"popularity\",\n\"duration_ms\",\n\"explicit\",\n\"danceability\",\n\"energy\",\n\"key\",\n\"loudness\",\n\"mode\",\n\"speechiness\",\n\"acousticness\",\n\"instrumentalness\",\n\"liveness\",\n\"valence\",\n\"tempo\",\n\"time_signature\",\n\"release_year\",\n\"delta_days\",\n\"followers\",\n\"artists_popularity\",\n]\n# \u200b\u5bf9\u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4f7f\u7528\u200b sns.histplot \u200b\u7ed8\u5236\u200b\u76f4\u65b9\u56fe\u200b\uff0c\u200b\u5e76\u200b\u653e\u7f6e\u200b\u5230\u200b\u4e00\u5f20\u200b 5*4 \u200b\u7684\u200b\u5927\u56fe\u200b\u4e2d\u200b\nfig, axes = plt.subplots(5, 4, figsize=(20, 20))\nfor i, variable in enumerate(numerical_variables):\nsns.histplot(ax=axes[i // 4, i % 4], data=df, x=df[variable], kde=True)\n# \u200b\u4e0d\u200b\u663e\u793a\u200b y \u200b\u8f74\u200b\u6807\u7b7e\u200b\naxes[i // 4, i % 4].set(ylabel=None)\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\"\u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\u7684\u200b\u5206\u5e03\u200b\u60c5\u51b5\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u5f97\u76ca\u4e8e\u200b\u539f\u59cb\u6570\u636e\u200b\u8d28\u91cf\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u4e0a\u8ff0\u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\u7684\u200b\u5206\u5e03\u200b\u672a\u200b\u51fa\u73b0\u200b\u660e\u663e\u200b\u7684\u200b\u5f02\u5e38\u60c5\u51b5\u200b\u3002\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\u96c6\u4e2d\u200b\u5728\u200b 40 \u200b\u5de6\u53f3\u200b\uff0c\u200b\u6709\u200b\u5c11\u6570\u200b\u6d41\u884c\u200b\u5ea6\u9ad8\u200b\u7684\u200b\u97f3\u4e50\u200b\u80fd\u591f\u200b\u8fbe\u5230\u200b 60 \u200b\u4ee5\u4e0a\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u540e\u7eed\u200b\u5efa\u6a21\u200b\u5747\u200b\u4f7f\u7528\u200b\u6811\u200b\u6a21\u578b\u200b\uff0c\u200b\u5176\u200b\u5bf9\u200b\u539f\u59cb\u6570\u636e\u200b\u7684\u200b\u91cf\u7eb2\u200b\u5e76\u200b\u4e0d\u200b\u654f\u611f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u4e0d\u200b\u7ee7\u7eed\u200b\u5bf9\u200b\u8fd9\u4e9b\u200b\u6570\u503c\u200b\u578b\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u7b49\u200b\u64cd\u4f5c\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u4fdd\u5b58\u6570\u636e","title":"\u4fdd\u5b58\u200b\u6570\u636e","text":"<p>\u200b\u4e0a\u8ff0\u200b\u7279\u5f81\u200b\u5de5\u7a0b\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u8017\u65f6\u200b\u8f83\u4e45\u200b\uff0c\u200b\u5c24\u5176\u200b\u662f\u200b\u6839\u636e\u200b\u97f3\u4e50\u200b\u540d\u79f0\u200b\u63a8\u6d4b\u200b\u97f3\u4e50\u200b\u6240\u5c5e\u200b\u8bed\u8a00\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u8c03\u7528\u200b<code>langid</code>\u200b\u5e93\u200b\u5e76\u200b\u8fdb\u884c\u200b\u8fd1\u200b 30 \u200b\u4e07\u6b21\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5373\u4f7f\u200b\u4f7f\u7528\u200b\u4e86\u200b<code>swifter</code>\u200b\u5e93\u200b\u52a0\u901f\u200b<code>apply()</code>\u200b\u51fd\u6570\u200b\uff0c\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b\u4ecd\u200b\u9700\u8981\u200b 20 \u200b\u5206\u949f\u200b\u4ee5\u4e0a\u200b\u3002\u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u5efa\u6a21\u200b\u5206\u6790\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u76ee\u524d\u200b\u5f97\u5230\u200b\u7684\u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b<code>pickle</code>\u200b\u6587\u4ef6\u200b\u3002</p> Python<pre><code>df.to_pickle(\"df.pkl\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u673a\u5668\u5b66\u4e60\u5efa\u6a21\u4e0e\u5206\u6790","title":"\u673a\u5668\u200b\u5b66\u4e60\u200b\u5efa\u6a21\u200b\u4e0e\u200b\u5206\u6790","text":"<p>\u200b\u4ece\u200b\u7279\u5f81\u200b\u5de5\u7a0b\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u539f\u59cb\u200b\u97f3\u4e50\u200b\u7279\u5f81\u200b\uff08\u200b\u5982\u200b<code>duration_ms</code>\u3001<code>explicit</code>\u3001<code>danceability</code>\u200b\u7b49\u200b\uff09\u3001\u200b\u6d41\u6d3e\u200b\u7f16\u7801\u200b\u3001\u200b\u8bed\u8a00\u200b\u7f16\u7801\u200b\uff0c\u200b\u5171\u200b 57 \u200b\u7ef4\u200b\u6570\u636e\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5212\u5206\u8bad\u7ec3\u96c6\u548c\u9a8c\u8bc1\u96c6","title":"\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6","text":"<p>\u200b\u6309\u7167\u200b<code>6\uff1a4</code>\u200b\u7684\u200b\u6bd4\u4f8b\u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u3002\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u6a21\u578b\u200b\uff0c\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u3002\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u68c0\u9a8c\u200b\u6a21\u578b\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u9884\u6d4b\u200b\u8868\u73b0\u200b\u3002</p> Python<pre><code># \u200b\u63d0\u53d6\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\nx = df.drop(\n[\n\"id_tracks\",\n\"name\",\n\"popularity\",\n\"artists\",\n\"id_artists\",\n\"name_artists\",\n\"release_date\",\n\"release_year\",\n\"genres\",\n\"lang\",\n],\naxis=1,\n)\ny = df[\"popularity\"]\n# \u200b\u5c06\u200b\u6570\u636e\u200b\u96c6\u200b\u5206\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.4, random_state=0)\n</code></pre> <p></p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5bf9\u591a\u4e2a\u673a\u5668\u5b66\u4e60\u6a21\u578b\u8fdb\u884c\u4ea4\u53c9\u9a8c\u8bc1\u5bfb\u627e\u6700\u4f18\u8d85\u53c2\u6570","title":"\u5bf9\u200b\u591a\u4e2a\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570","text":"<p>\u200b\u7531\u4e8e\u200b\u7279\u5f81\u200b\u53d8\u91cf\u200b\u4f17\u591a\u200b\uff0c\u200b\u4e14\u200b\u5404\u200b\u7279\u5f81\u200b\u4e4b\u95f4\u200b\u4e0e\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\u6d41\u884c\u200b\u5ea6\u200b\u4e4b\u95f4\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u975e\u7ebf\u6027\u200b\u5173\u7cfb\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u6811\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\u5355\u4e2a\u200b\u51b3\u7b56\u6811\u200b\u3001\u200b\u4ee5\u200b Bagging \u200b\u4e3a\u200b\u96c6\u6210\u200b\u65b9\u6cd5\u200b\u7684\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u548c\u200b\u4ee5\u200b Boosting \u200b\u4e3a\u200b\u96c6\u6210\u200b\u65b9\u6cd5\u200b\u7684\u200b XGBoost\u3002</p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u5c1d\u8bd5\u200b\u8fc7\u200b\u5e26\u6709\u200b\u6838\u200b\u6280\u5de7\u200b\u7684\u200b SVM \u200b\u56de\u5f52\u200b\uff0c\u200b\u4f46\u200b\u5176\u200b\u5728\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u96c6\u4e0b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u592a\u4e45\u200b\uff08\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u9700\u8981\u200b 1 \u200b\u5c0f\u65f6\u200b\u4ee5\u4e0a\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u820d\u53bb\u200b\u4e86\u200b SVM \u200b\u6a21\u578b\u200b\uff0c\u200b\u53ea\u200b\u4f7f\u7528\u200b\u4e09\u79cd\u200b\u6811\u200b\u6a21\u578b\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u8d85\u53c2\u6570\u641c\u7d22\u8303\u56f4","title":"\u8d85\u200b\u53c2\u6570\u200b\u641c\u7d22\u200b\u8303\u56f4","text":"<p>\u200b\u8bbe\u7f6e\u200b\u5404\u200b\u6a21\u578b\u200b\u5728\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65f6\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\u641c\u7d22\u200b\u8303\u56f4\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code># \u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\nparam_dt = {\n\"max_depth\": randint(1, 10),\n\"min_samples_split\": randint(2, 10),\n\"min_samples_leaf\": randint(1, 10),\n}\n# \u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\nparam_rf = {\n\"n_estimators\": randint(10, 1000),\n\"max_depth\": randint(5, 20),\n\"min_samples_split\": randint(2, 10),\n\"min_samples_leaf\": randint(1, 10),\n}\n# XGBoost \u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\nparam_xgb = {\n\"eta\": uniform(loc=0.001, scale=1),\n\"gamma\": uniform(loc=0.001, scale=1),\n\"max_depth\": randint(2, 11),\n\"min_child_weight\": randint(2, 11),\n\"n_estimators\": randint(100, 1000),\n}\n</code></pre> <p>\u200b\u7531\u4e8e\u200b\u6570\u636e\u91cf\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u82e5\u200b\u5bf9\u200b\u6240\u6709\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u8017\u65f6\u200b\u5c06\u4f1a\u200b\u8fc7\u957f\u200b\uff08\u200b\u4e09\u4e2a\u200b\u6a21\u578b\u200b\u5728\u200b 15 \u200b\u4e07\u6761\u200b\u6570\u636e\u200b\u4e0a\u200b\u8bad\u7ec3\u200b\u4e00\u6b21\u200b\u8017\u65f6\u200b\u7ea6\u200b 5 \u200b\u5206\u949f\u200b\uff0c\u200b\u82e5\u200b\u8fdb\u884c\u200b 5 \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u4e14\u200b\u641c\u7d22\u200b 10 \u200b\u7ec4\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8017\u65f6\u200b 5 \u200b\u5c0f\u65f6\u200b\u5de6\u53f3\u200b\uff09\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u968f\u673a\u200b\u9009\u62e9\u200b 10000 \u200b\u4e2a\u200b\u6837\u672c\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u3002\u200b\u5f85\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u540e\u200b\uff0c\u200b\u518d\u200b\u5728\u200b\u5b8c\u6574\u200b\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u8bad\u7ec3\u200b\u4e00\u6b21\u200b\u3002</p> Python<pre><code># \u200b\u4ece\u200b x_train \u200b\u548c\u200b y_train \u200b\u4e2d\u200b\u968f\u673a\u200b\u91c7\u6837\u200b 10000 \u200b\u4e2a\u200b\u6837\u672c\u200b\u7528\u4e8e\u200b\u8d85\u200b\u53c2\u6570\u200b\u641c\u7d22\u200b\nx_train_sample = x_train.sample(n=10000, random_state=0)\ny_train_sample = y_train[x_train_sample.index]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u968f\u673a\u641c\u7d22","title":"\u968f\u673a\u200b\u641c\u7d22","text":"<p>\u200b\u4f7f\u7528\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u5b9e\u73b0\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u968f\u5373\u200b\u641c\u7d22\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u8d85\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u6570\u91cf\u200b\u8fc7\u591a\u200b\u5bfc\u81f4\u200b\u7684\u200b\u8bad\u7ec3\u200b\u8017\u65f6\u200b\u5448\u200b\u6307\u6570\u200b\u589e\u957f\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u8d85\u200b\u53c2\u6570\u200b\u7684\u200b\u5206\u5e03\u200b\u4ece\u800c\u200b\u907f\u514d\u200b\u4eba\u4e3a\u200b\u8bbe\u5b9a\u200b\u641c\u7d22\u200b\u503c\u200b\u5e26\u6765\u200b\u7684\u200b\u5e72\u6270\u200b\u3002</p> <p>\u200b\u540c\u65f6\u200b\uff0c\u200b\u7531\u4e8e\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u672c\u8eab\u200b\u53ef\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u7684\u200b\uff08\u200b\u5404\u6761\u200b\u97f3\u4e50\u200b\u6570\u636e\u200b\u4e4b\u95f4\u200b\u6ca1\u6709\u200b\u65f6\u5e8f\u200b\u76f8\u5173\u6027\u200b\uff0c\u200b\u5373\u200b\u5b83\u4eec\u200b\u5728\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u6ca1\u6709\u200b\u5f71\u54cd\u200b\uff09\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>ShuffleSplit</code>\u200b\u65b9\u6cd5\u200b\u5c06\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u968f\u673a\u200b\u5206\u6210\u200b 5 \u200b\u6298\u200b\uff0c\u200b\u8fdb\u4e00\u6b65\u200b\u589e\u52a0\u200b\u968f\u673a\u6027\u200b\u3002\u200b\u6bcf\u7ec4\u200b\u8d85\u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b 5 \u200b\u6b21\u200b\u8bad\u7ec3\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> Python<pre><code># \u200b\u5b9a\u4e49\u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e0d\u540c\u200b\u6a21\u578b\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u7ed3\u679c\u200b\ncv_results = {}\nfor model in tqdm([\"dt\", \"rf\", \"xgb\"]):\ncv_results[model] = {\n\"Best_Param\": None,\n\"Mean_Validation_R2\": None,\n\"Test_R2\": None,\n\"Best_Model\": None,\n\"Time\": None,\n}\nif model == \"dt\":\nestimator = DecisionTreeRegressor()\nparam_grid = param_dt\nelif model == \"rf\":\nestimator = RandomForestRegressor()\nparam_grid = param_rf\nelif model == \"xgb\":\nestimator = XGBRegressor(eval_metric=\"rmse\")\nparam_grid = param_xgb\n# \u200b\u5b9a\u4e49\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nrondom_search = RandomizedSearchCV(\nestimator=estimator,\nparam_distributions=param_grid,\nn_iter=10,\ncv=ShuffleSplit(n_splits=5, test_size=1 / 5, random_state=0),\nscoring=\"r2\",\nn_jobs=-1,\nverbose=4,\nrandom_state=0,\n)\n# \u200b\u8ba1\u7b97\u200b\u6a21\u578b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b\nstart_time = time.time()\n# \u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u968f\u673a\u200b\u641c\u7d22\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\nrondom_search.fit(x_train_sample, y_train_sample)\n# \u200b\u8ba1\u7b97\u200b\u6a21\u578b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\nend_time = time.time()\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\ncv_results[model][\"Best_Param\"] = rondom_search.best_params_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b R2\ncv_results[model][\"Mean_Validation_R2\"] = rondom_search.best_score_\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u96c6\u200b R2\ncv_results[model][\"Test_R2\"] = rondom_search.score(x_test, y_test)\n# \u200b\u8bb0\u5f55\u200b\u6700\u4f73\u200b\u6a21\u578b\u200b\ncv_results[model][\"Best_Model\"] = rondom_search.best_estimator_\n# \u200b\u8bb0\u5f55\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\ncv_results[model][\"Time\"] = end_time - start_time\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u4ea4\u53c9\u9a8c\u8bc1\u7684\u7ed3\u679c","title":"\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u7ed3\u679c","text":"<p>\u200b\u5404\u200b\u6a21\u578b\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\u3002\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5355\u68f5\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u6bd4\u200b\u4e24\u4e2a\u200b\u96c6\u6210\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u66f4\u5dee\u200b\u3002\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6838\u200b XGBoost \u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u8f83\u4e3a\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u5747\u200b\u4e3a\u200b\\(55\\%\\)\u200b\u5de6\u53f3\u200b\uff0c\u200b\u4f46\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\u4e5f\u200b\u663e\u8457\u200b\u9ad8\u4e8e\u200b\u51b3\u7b56\u6811\u200b\u3002</p> \u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b \u200b\u5e73\u5747\u200b\u9a8c\u8bc1\u200b\u96c6\u200b R2 \u200b\u6d4b\u8bd5\u200b\u96c6\u200b R2 \u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b \u200b\u51b3\u7b56\u6811\u200b {'max_depth': 8, 'min_samples_leaf': 9, 'min_samples_split': 3} 0.454742 0.451892 7.305891 \u200b\u968f\u673a\u200b\u68ee\u6797\u200b {'max_depth': 17, 'min_samples_leaf': 2, 'min_samples_split': 8,  'n_estimators': 561} 0.54548 0.555451 247.18 XGBoost {'eta': 0.019, 'gamma': 0.618, 'max_depth':  8, 'min_child_weight': 10, 'n_estimators': 856} 0.557511 0.561045 284.7733 <p>\u200b\u4ee5\u4e0a\u200b\u7ed3\u679c\u200b\u53ea\u662f\u200b\u5728\u200b\u968f\u673a\u200b\u9009\u62e9\u200b\u7684\u200b 10000 \u200b\u4e2a\u200b\u6837\u672c\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u6211\u4eec\u200b\u671f\u5f85\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u5728\u200b\u5b8c\u6574\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\uff0c\u200b\u6548\u679c\u200b\u4f1a\u200b\u6709\u200b\u8fdb\u4e00\u6b65\u200b\u7684\u200b\u63d0\u5347\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u4f7f\u7528\u6700\u4f18\u8d85\u53c2\u6570\u7ec4\u5408\u8fdb\u884c\u8bad\u7ec3","title":"\u4f7f\u7528\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u7ec4\u5408\u200b\u8fdb\u884c\u200b\u8bad\u7ec3","text":"<p>\u200b\u6211\u4eec\u200b\u5229\u7528\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u9636\u6bb5\u200b\u8bb0\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6700\u4f18\u200b\u6a21\u578b\u200b\uff0c\u200b\u5728\u200b\u5b8c\u6574\u200b\u7684\u200b\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u6a21\u578b\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u4e3a\u200b\u62df\u5408\u200b\u4f18\u5ea6\u200b\\(R^2\\)\u3002</p> Python<pre><code>test_results = {}\nfor model in tqdm([\"dt\", \"rf\", \"xgb\"]):\ntest_results[model] = {\"Test_R2\": None, \"Time\": None}\nregressor = cv_results[model][\"Best_Model\"]\nstart_time = time.time()\nregressor.fit(x_train, y_train)\nend_time = time.time()\n# \u200b\u9884\u6d4b\u200b\ny_pred = regressor.predict(x_test)\n# \u200b\u8ba1\u7b97\u200b R2\nr2 = metrics.r2_score(y_test, y_pred)\nprint(\"{}-R2: {:.2%}\".format(model, r2))\ntest_results[model][\"Test_R2\"] = r2\ntest_results[model][\"Time\"] = end_time - start_time\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5404\u6a21\u578b\u5728\u6d4b\u8bd5\u96c6\u4e0a\u7684\u8868\u73b0\u4e0e\u8bad\u7ec3\u8017\u65f6","title":"\u5404\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u4e0e\u200b\u8bad\u7ec3\u200b\u8017\u65f6","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u5404\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b R2\nsns.set_style(\"ticks\")\nfig, ax1 = plt.subplots(figsize=(10, 6))\nax1.bar(\n[i - 0.15 for i in list(range(len(test_results.keys())))],\n[test_results[model][\"Test_R2\"] for model in test_results.keys()],\ncolor=\"b\",\nwidth=0.3,\n)\nax1.set_xticklabels([\"\", \"Decision Tree\", \"\", \"Random Forest\", \"\", \"XGBoost\"])\nax1.set_ylabel(\"R2\", color=\"b\")\nax1.tick_params(\"y\", colors=\"b\")\n# \u200b\u7ed8\u5236\u200b\u5404\u200b\u6a21\u578b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u65f6\u95f4\u200b\nax2 = ax1.twinx()\nax2.bar(\n[i + 0.15 for i in list(range(len(test_results.keys())))],\n[test_results[model][\"Time\"] for model in test_results.keys()],\ncolor=\"r\",\nwidth=0.3,\n)\nax2.set_ylabel(\"Time(s)\", color=\"r\", rotation=270, labelpad=15)\nax2.tick_params(\"y\", colors=\"r\")\nax1.legend([\"R2\"], loc=\"upper left\")\nax2.legend([\"Time\"], loc=\"upper right\")\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\"\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u679c\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u7531\u4e8e\u200b\u8bad\u7ec3\u6837\u672c\u200b\u91cf\u200b\u7684\u200b\u63d0\u5347\u200b\uff08\u200b\u4ece\u200b 10000 \u200b\u6761\u200b\u63d0\u9ad8\u200b\u5230\u200b 151462 \u200b\u6761\u200b\uff09\uff0c\u200b\u4e09\u4e2a\u200b\u6a21\u578b\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u5747\u200b\u6709\u200b\u663e\u8457\u200b\u63d0\u5347\u200b\u3002\u200b\u5176\u4e2d\u200b\u51b3\u7b56\u6811\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u62df\u5408\u200b\u4f18\u5ea6\u200b\u4e3a\u200b\\(52.1\\%\\)\uff0c\u200b\u4ecd\u200b\u4f4e\u4e8e\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u548c\u200b XGBoost \u200b\u7684\u200b\\(65\\%\\)\u3002</p> <p>\u200b\u5bf9\u6bd4\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u548c\u200b XGBoost\uff0c\u200b\u4e24\u8005\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8868\u73b0\u200b\u5341\u5206\u200b\u76f8\u8fd1\u200b\u4e14\u200b\u90fd\u200b\u9ad8\u4e8e\u200b\u5355\u68f5\u200b\u51b3\u7b56\u6811\u200b\uff0c\u200b\u8bf4\u660e\u200b\u96c6\u6210\u200b\u5b66\u4e60\u200b\u80fd\u591f\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002\u200b\u5f97\u76ca\u4e8e\u200b XGBoost \u200b\u80fd\u591f\u200b\u5728\u200b GPU \u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u5176\u200b\u8bad\u7ec3\u200b\u4e00\u8f6e\u200b\u8017\u65f6\u200b\u4ec5\u200b 20 \u200b\u79d2\u200b\uff0c\u200b\u8fdc\u200b\u4f4e\u4e8e\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u7684\u200b 300 \u200b\u79d2\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u540e\u7eed\u200b\u91c7\u7528\u200b XGBoost \u200b\u8fdb\u884c\u200b\u8fdb\u4e00\u6b65\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u5206\u6790\u200b\u3002</p> Python<pre><code>model = cv_results[\"xgb\"][\"Best_Model\"]\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u90e8\u5206\u6837\u672c\u7684\u9884\u6d4b\u7ed3\u679c","title":"\u90e8\u5206\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c","text":"<p>\u200b\u4e3a\u200b\u76f4\u89c2\u200b\u5c55\u793a\u200b XGBoost \u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\uff0c\u200b\u6211\u4eec\u200b\u9009\u53d6\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u524d\u200b 100 \u200b\u6761\u200b\u6837\u672c\u200b\uff0c\u200b\u7ed8\u5236\u200b\u9884\u6d4b\u200b\u6d41\u884c\u200b\u5ea6\u200b\u548c\u200b\u771f\u662f\u200b\u6d41\u884c\u200b\u5ea6\u200b\u3002</p> Python<pre><code>fig = plt.figure(figsize=(10, 6))\nselection = range(100)\nplt.plot(range(len(selection)), y_pred[selection], label=\"preds\")\nplt.plot(range(len(selection)), y_test.iloc[selection], label=\"true\")\nplt.legend()\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\"\u200b\u90e8\u5206\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5927\u90e8\u5206\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u5dee\u5f02\u200b\u90fd\u200b\u80fd\u591f\u200b\u88ab\u200b XGBoost \u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u9884\u6d4b\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5176\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u8f83\u4e3a\u200b\u51c6\u786e\u200b\u548c\u200b\u53ef\u9760\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#xgbosost-\u5185\u7f6e\u7684\u7279\u5f81\u91cd\u8981\u6027","title":"XGBosost \u200b\u5185\u7f6e\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027","text":"<p>XGBoost \u200b\u662f\u200b\u4ee5\u200b\u51b3\u7b56\u6811\u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u5b66\u4e60\u200b\u5668\u200b\u7684\u200b\u96c6\u6210\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\uff0c\u200b\u5229\u7528\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u65f6\u200b\u5404\u200b\u7279\u5f81\u200b\u5bf9\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u7684\u200b\u8d21\u732e\u200b\u5927\u5c0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u4f7f\u7528\u200b XGBoost \u200b\u5185\u7f6e\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u5c5e\u6027\u200b\uff0c\u200b\u7ed8\u5236\u200b\u5404\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u67f1\u72b6\u56fe\u200b\u3002</p> Python<pre><code># xgboost \u200b\u81ea\u5e26\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u5c5e\u6027\u200b\n# \u200b\u7279\u5f81\u200b\u540d\u79f0\u200b\nfeatures_name = x_train.columns\n# \u200b\u5c06\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u4e0e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7279\u5f81\u200b\u540d\u79f0\u200b\u5408\u5e76\u200b\u6210\u200b series\nfeatures_importance = pd.Series(model.feature_importances_, index=features_name)\n# \u200b\u5c06\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\nfeatures_importance = features_importance.sort_values(ascending=False)\nplt.figure(figsize=(10, 5))\nplt.bar(range(features_importance.shape[0]), features_importance)\nplt.xticks(\nrange(features_importance.shape[0]),\nfeatures_importance.index,\nrotation=90,\nfontsize=14,\n)\nplt.title(\"Feature importance\", fontsize=14)\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nplt.savefig(\"\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u3002pdf\", format=\"pdf\", facecolor=\"white\", bbox_inches=\"tight\")\nplt.show()\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u660e\u663e\u200b\u5730\u200b\u53d1\u73b0\u200b\uff0c\u200b\u6b4c\u624b\u200b\u672c\u8eab\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\u548c\u200b\u97f3\u4e50\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u662f\u200b\u5bf9\u6a21\u578b\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u5f71\u54cd\u200b\u8f83\u5927\u200b\u7684\u200b\u4e24\u4e2a\u200b\u7279\u5f81\u200b\u3002\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u4e5f\u200b\u5341\u5206\u200b\u7b26\u5408\u200b\u6211\u4eec\u200b\u7684\u200b\u76f4\u89c9\u200b\uff1a\u200b\u6b4c\u624b\u200b\u8d8a\u200b\u53d7\u6b22\u8fce\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u7684\u200b\u97f3\u4e50\u200b\u4e5f\u200b\u66f4\u200b\u5bb9\u6613\u200b\u6d41\u884c\u200b\u3002\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u8d8a\u200b\u65e9\u200b\uff0c\u200b\u97f3\u4e50\u200b\u53ef\u80fd\u200b\u5df2\u7ecf\u200b\u8fc7\u65f6\u200b\uff0c\u200b\u56e0\u800c\u200b\u6d41\u884c\u200b\u5ea6\u4f1a\u200b\u4e0b\u964d\u200b\u3002</p> <p>\u200b\u5176\u4ed6\u200b\u7279\u5f81\u200b\u4e5f\u200b\u53ef\u200b\u4e00\u4e00\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u6839\u636e\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5927\u5c0f\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\u5bb9\u6613\u200b\u8ba9\u200b\u4eba\u200b\u4ea7\u751f\u200b\u56f0\u60d1\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u65e0\u6cd5\u200b\u4ec5\u200b\u901a\u8fc7\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u5927\u5c0f\u200b\u5206\u6790\u200b\u51fa\u8be5\u200b\u7279\u5f81\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\u65b9\u5411\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a\u200b\u5bf9\u4e8e\u200b<code>instrumentalness</code>\u200b\u8fd9\u4e2a\u200b\u7279\u5f81\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u77e5\u9053\u200b\u97f3\u4e50\u200b\u7684\u200b\u4eba\u58f0\u200b\u5c5e\u6027\u200b\u7a76\u7adf\u200b\u5982\u4f55\u200b\u5f71\u54cd\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff0c\u200b\u51e0\u4e4e\u200b\u6ca1\u6709\u200b\u4eba\u58f0\u200b\u7684\u200b\u7eaf\u200b\u4e50\u5668\u200b\u97f3\u4e50\u4f1a\u200b\u66f4\u200b\u53d7\u6b22\u8fce\u200b\u8fd8\u662f\u200b\u66f4\u200b\u4e0d\u200b\u53d7\u6b22\u8fce\u200b\u5462\u200b\uff1f</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u57fa\u4e8e-shap-\u503c\u7684\u7279\u5f81\u91cd\u8981\u6027","title":"\u57fa\u4e8e\u200b SHAP \u200b\u503c\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027","text":"<p>\u200b\u4e3a\u4e86\u200b\u83b7\u77e5\u200b\u5404\u200b\u7279\u5f81\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\u65b9\u5411\u200b\u548c\u200b\u5927\u5c0f\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u3002</p> <p>SHAP\uff08SHapley Additive exPlanations\uff09\u200b\u662f\u200b Lundberg \u200b\u548c\u200b Lee \u200b\u5728\u200b 2017 \u200b\u5e74\u200b\u63d0\u51fa\u200b\u7684\u200b\u7528\u4e8e\u200b\u589e\u5f3a\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u53ef\u200b\u89e3\u91ca\u6027\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002<sup>1</sup>SHAP \u200b\u5229\u7528\u200b\u5408\u4f5c\u200b\u535a\u5f08\u200b\u7406\u8bba\u200b\u7684\u200b\u6982\u5ff5\u200b\u5206\u89e3\u200b\u9884\u6d4b\u200b\uff0c\u200b\u4ee5\u200b\u8861\u91cf\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002SHAP \u200b\u503c\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\u7279\u5f81\u503c\u200b\u5728\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u7684\u200b\u5e73\u5747\u200b\u8fb9\u9645\u200b\u8d21\u732e\u200b\u3002\u200b\u5229\u7528\u200b<code>shap</code>\u200b\u5e93\u200b https://github.com/slundberg/shap\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u4e2d\u200b\u5404\u200b\u7279\u5f81\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\u65b9\u5411\u200b\u548c\u200b\u5927\u5c0f\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6784\u5efa-shap-\u89e3\u91ca\u5668","title":"\u6784\u5efa\u200b SHAP \u200b\u89e3\u91ca\u5668","text":"<p>\u200b\u5c06\u200b\u4e0a\u6587\u200b\u6784\u5efa\u200b\u7684\u200b XGBoost \u200b\u6a21\u578b\u200b\u5bfc\u5165\u5230\u200b<code>shap</code>\u200b\u4e2d\u200b\u5f97\u5230\u200b\u89e3\u91ca\u5668\u200b<code>explainer</code>\u3002\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u7684\u200b\u6837\u672c\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u3002</p> Python<pre><code>explainer = shap.TreeExplainer(model)\nshap_values = explainer.shap_values(x_train)\n# \u200b\u67e5\u770b\u200b shap_values \u200b\u7684\u200b\u7ef4\u6570\u200b\uff0c\u200b\u5b83\u200b\u5e94\u5f53\u200b\u548c\u200b x_train \u200b\u7684\u200b\u7ef4\u6570\u200b\u76f8\u540c\u200b\nprint(\"shap_values \u200b\u7684\u200b\u7ef4\u6570\u200b\uff1a\", shap_values.shape)\nprint(\"x_train \u200b\u7684\u200b\u7ef4\u6570\u200b\uff1a\", x_train.shape)\n</code></pre> <p></p> <p>SHAP \u200b\u503c\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\uff1a\u200b\u5c06\u200b\u5168\u4f53\u200b\u6837\u672c\u200b\u6807\u7b7e\u200b\u7684\u200b\u5747\u503c\u200b\u4f5c\u4e3a\u200b\u57fa\u51c6\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u5c06\u200b\u57fa\u51c6\u503c\u200b\u63d0\u9ad8\u200b\u6216\u200b\u51cf\u5c0f\u200b\u7684\u200b\u6570\u503c\u200b\u3002\u200b\u57fa\u51c6\u503c\u200b\u52a0\u4e0a\u200b\u6240\u6709\u200b\u7279\u5f81\u200b\u7684\u200b\u8d21\u732e\u200b\u503c\u200b\u5c31\u200b\u5f97\u5230\u200b\u8be5\u200b\u6837\u672c\u200b\u6700\u7ec8\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u3002</p> Python<pre><code># \u200b\u67e5\u770b\u200b y \u200b\u7684\u200b\u57fa\u51c6\u503c\u200b\uff0c\u200b\u5b83\u200b\u5e94\u5f53\u200b\u548c\u200b y_pred \u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u76f8\u540c\u200b\ny_base = explainer.expected_value\ny_pred = model.predict(x_train)\nprint(\"y_base:\", y_base)\nprint(\"y_pred \u200b\u7684\u200b\u5747\u503c\u200b\uff1a\", y_pred.mean())\n</code></pre> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5355\u6837\u672c\u7684-shap-\u503c\u53ca\u5176\u542b\u4e49","title":"\u5355\u200b\u6837\u672c\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u53ca\u5176\u200b\u542b\u4e49","text":"<p>\u200b\u4e0b\u9762\u200b\u4ee5\u200b\u8bad\u7ec3\u200b\u96c6\u4e2d\u200b\u7b2c\u200b 100 \u200b\u4e2a\u200b\u6837\u672c\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u67e5\u770b\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u3002</p> Python<pre><code>j = 100\nplayer_explainer = pd.DataFrame()\nplayer_explainer[\"feature\"] = x_train.columns\nplayer_explainer[\"feature_value\"] = x_train.iloc[j].values\nplayer_explainer[\"shap_value\"] = shap_values[j]\n</code></pre> <p></p> <p>\u200b\u68c0\u9a8c\u200b\u57fa\u51c6\u503c\u200b\u52a0\u4e0a\u200b\u52a0\u4e0a\u200b\u6240\u6709\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u662f\u5426\u200b\u7b49\u4e8e\u200b y \u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\uff1a</p> Text Only<pre><code># y \u200b\u7684\u200b\u57fa\u51c6\u503c\u200b\u52a0\u4e0a\u200b\u6240\u6709\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\uff0c\u200b\u5e94\u5f53\u200b\u7b49\u4e8e\u200b y \u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\nprint('y_base + sum_of_shap_values: %.2f'%(y_base + player_explainer['shap_value'].sum()))\nprint('y_pred: %.2f'%(y_pred[j]))\n</code></pre> <p></p> <p>\u200b\u5c06\u200b\u57fa\u51c6\u503c\u200b\u4e0e\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u53ef\u89c6\u5316\u200b\uff1a</p> Python<pre><code># \u200b\u5c06\u200b y \u200b\u7684\u200b\u57fa\u51c6\u503c\u200b\u4e0e\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\u5bf9\u200b y_pred \u200b\u7684\u200b\u5f71\u54cd\u200b\u53ef\u89c6\u5316\u200b\nshap.initjs()\nshap.force_plot(explainer.expected_value, shap_values[j], x_train.iloc[j])\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c<code>artists_popularity</code>\u200b\u548c\u200b<code>delta_days</code>\u200b\u5c06\u200b\u57fa\u51c6\u503c\u200b\u5411\u200b\u53f3\u200b\u63a8\u52a8\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u800c\u200b<code>zh</code>\u200b\u5c06\u200b\u57fa\u51c6\u503c\u200b\u5411\u200b\u5de6\u200b\u63a8\u52a8\u200b\u8f83\u200b\u591a\u200b\u3002\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6b4c\u624b\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u4e3a\u200b 67 \u200b\u5bf9\u200b\u8be5\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\u6709\u200b\u6b63\u5411\u200b\u5f71\u54cd\u200b\uff0c\u200b\u53d1\u884c\u200b\u5929\u6570\u200b\u4e3a\u200b 2107 \u200b\u5929\u200b\uff082015 \u200b\u5e74\u200b\u53d1\u884c\u200b\uff09\u200b\u4e5f\u200b\u63d0\u9ad8\u200b\u4e86\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff0c\u200b\u800c\u200b\u8be5\u200b\u6b4c\u66f2\u200b\u4e3a\u200b\u4e2d\u6587\u6b4c\u66f2\u200b\uff08\u200b\u8be5\u200b\u6b4c\u66f2\u200b\u540d\u4e3a\u200b\u201c\u200b\u5fc3\u71d2\u200b\u201d\uff0c\u200b\u6b4c\u624b\u200b\u4e3a\u200b\u201cEason Chan\uff08\u200b\u9648\u5955\u8fc5\u200b\uff09\u201d\uff09\u200b\u5219\u200b\u964d\u4f4e\u200b\u4e86\u200b\u6d41\u884c\u200b\u5ea6\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5404\u7279\u5f81\u5728\u6240\u6709\u8bad\u7ec3\u96c6\u6837\u672c\u7684-shap-\u503c","title":"\u5404\u200b\u7279\u5f81\u200b\u5728\u200b\u6240\u6709\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b SHAP \u200b\u503c","text":"<p>\u200b\u6211\u4eec\u200b\u8fdb\u4e00\u6b65\u200b\u67e5\u770b\u200b\u5404\u200b\u7279\u5f81\u200b\u5728\u200b\u6240\u6709\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b SHAP \u200b\u503c\u200b\uff0c\u200b\u4ee5\u200b\u5206\u6790\u200b\u5404\u200b\u7279\u5f81\u200b\u5bf9\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u7684\u200b\u6574\u4f53\u200b\u5f71\u54cd\u200b\u3002</p> Python<pre><code>shap.summary_plot(shap_values, x_train, show=False)\nplt.savefig(\"summary_plot.pdf\", format=\"pdf\", bbox_inches=\"tight\")\n</code></pre> <p>\u200b\u4e0b\u56fe\u200b\u7ed8\u5236\u200b\u4e86\u200b\u5f71\u54cd\u200b\u8f83\u5927\u200b\u7684\u200b\u524d\u200b 20 \u200b\u4e2a\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u4ee3\u8868\u200b\u6bcf\u6761\u200b\u6837\u672c\u200b\u3002</p> <ul> <li> <p>\u200b\u6a2a\u8f74\u200b\u4ee3\u8868\u200b SHAP \u200b\u503c\u200b\uff0c\u200b\u7eb5\u8f74\u200b\u5bf9\u5e94\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u3002</p> </li> <li> <p>\u200b\u70b9\u200b\u7684\u200b\u989c\u8272\u200b\u4ee3\u8868\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u7279\u5f81\u200b\u672c\u8eab\u200b\u7684\u200b\u503c\u200b\u5927\u5c0f\u200b\uff0c\u200b\u7ea2\u8272\u200b\u4ee3\u8868\u200b\u7279\u5f81\u200b\u7684\u200b\u503c\u200b\u8f83\u5927\u200b\uff0c\u200b\u84dd\u8272\u200b\u4ee3\u8868\u200b\u7279\u5f81\u200b\u7684\u200b\u503c\u200b\u8f83\u200b\u5c0f\u200b\u3002</p> </li> <li> <p>\u200b\u70b9\u200b\u7684\u200b\u6a2a\u5750\u6807\u200b\u4ee3\u8868\u200b\u8be5\u200b\u7279\u5f81\u200b\u7684\u200b SHAP \u200b\u503c\u200b\uff0c\u200b\u5373\u8be5\u200b\u7279\u5f81\u200b\u5bf9\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002\u200b\u6a2a\u5750\u6807\u200b\u8d8a\u200b\u5927\u4e8e\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u8be5\u200b\u7279\u5f81\u200b\u5bf9\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u5f71\u54cd\u200b\u8d8a\u200b\u6b63\u5411\u200b\uff1b\u200b\u6a2a\u5750\u6807\u200b\u8d8a\u200b\u5c0f\u4e8e\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u8be5\u200b\u7279\u5f81\u200b\u5bf9\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u5f71\u54cd\u200b\u8d8a\u8d1f\u200b\u5411\u200b\u3002</p> </li> </ul> <p></p> <p>\u200b\u7531\u4e8e\u200b\u7279\u5f81\u200b\u6570\u91cf\u200b\u8fc7\u591a\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u4e00\u4e00\u200b\u5206\u6790\u200b\u4e0e\u200b\u89e3\u91ca\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u5c55\u793a\u200b\u4e00\u4e9b\u200b\u6709\u610f\u601d\u200b\u7684\u200b\u53d1\u73b0\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li><code>artists_popularity</code>\u200b\u5bf9\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u5b58\u5728\u200b\u660e\u663e\u200b\u7684\u200b\u6b63\u5411\u200b\u5f71\u54cd\u200b\uff0c\u200b\u7ea2\u8272\u200b\u6837\u672c\u200b\u70b9\u200b\u57fa\u672c\u200b\u90fd\u200b\u5206\u5e03\u200b\u5728\u200b\u53f3\u4fa7\u200b\uff0c\u200b\u84dd\u8272\u200b\u6837\u672c\u200b\u70b9\u200b\u57fa\u672c\u200b\u90fd\u200b\u5206\u5e03\u200b\u5728\u200b\u5de6\u4fa7\u200b\u3002\u200b\u4e0b\u56fe\u200b\u7684\u200b\u5355\u200b\u53d8\u91cf\u200b SHAP \u200b\u503c\u200b\u5206\u5e03\u200b\u4e5f\u200b\u663e\u793a\u200b\u4e86\u200b\u5355\u8c03\u200b\u6027\u200b\u7684\u200b\u7279\u70b9\u200b\u3002</li> </ol> Python<pre><code>shap.dependence_plot(\n\"artists_popularity\", shap_values, x_train, interaction_index=None, show=False\n)\nplt.savefig(\"dependence_plot_artists_popularity.pdf\", format=\"pdf\", bbox_inches=\"tight\")\n</code></pre> <p></p> <ol> <li><code>delta_days</code>\u200b\u5bf9\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u5f71\u54cd\u200b\u5e76\u200b\u4e0d\u200b\u7ebf\u6027\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u8fc7\u4e8e\u200b\u4e45\u8fdc\u200b\u7684\u200b\u97f3\u4e50\u200b\uff08\u200b\u5373\u200b<code>delta_days</code>\u200b\u503c\u8d8a\u200b\u5927\u200b\uff0c\u200b\u5bf9\u5e94\u200b\u7ea2\u8272\u200b\u7684\u200b\u70b9\u200b\uff09\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u5927\u81f4\u200b\u6709\u200b\u7565\u5fae\u200b\u7684\u200b\u8d1f\u5411\u200b\u5f71\u54cd\u200b\u3002\u200b\u4f46\u200b\u5bf9\u4e8e\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u79bb\u200b\u73b0\u5728\u200b\u975e\u5e38\u200b\u8fd1\u200b\u7684\u200b\u97f3\u4e50\u200b\uff08\u200b\u5373\u200b<code>delta_days</code>\u200b\u503c\u8d8a\u200b\u5c0f\u200b\uff0c\u200b\u5bf9\u5e94\u200b\u84dd\u8272\u200b\u7684\u200b\u70b9\u200b\uff09\uff0c\u200b\u6709\u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u5f88\u200b\u9ad8\u200b\uff0c\u200b\u6709\u200b\u7684\u200b\u5219\u200b\u975e\u5e38\u4f4e\u200b\u3002\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u65b0\u200b\u6b4c\u200b\u975e\u5e38\u200b\u53d7\u6b22\u8fce\u200b\uff0c\u200b\u4f46\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u65b0\u200b\u6b4c\u200b\u57fa\u672c\u200b\u65e0\u4eba\u95ee\u6d25\u200b\u3002</li> </ol> <p></p> <ol> <li> <p><code>loudness</code>\u3001<code>instrumentalness</code>\u3001<code>energy</code>\u3001<code>zh</code>\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u5f71\u54cd\u200b\u5341\u5206\u200b\u5355\u8c03\u200b\u6b63\u5411\u200b\uff0c\u200b\u5373\u200b\u54cd\u5ea6\u200b\u8d8a\u5927\u200b\u3001\u200b\u4eba\u58f0\u200b\u8d8a\u200b\u591a\u200b\uff08\u200b\u5373\u7eaf\u200b\u4e50\u5668\u200b\u6f14\u594f\u200b\u8d8a\u200b\u5c11\u200b\uff09\u3001\u200b\u80fd\u91cf\u200b\u611f\u77e5\u200b\u7a0b\u5ea6\u200b\u8d8a\u4f4e\u200b\u975e\u4e2d\u6587\u200b\u97f3\u4e50\u200b\uff0c\u200b\u5176\u200b\u6d41\u884c\u200b\u5ea6\u8d8a\u200b\u9ad8\u200b\u3002\u200b\u975e\u4e2d\u6587\u200b\u97f3\u4e50\u200b\u66f4\u200b\u6d41\u884c\u200b\u53ef\u80fd\u200b\u662f\u56e0\u4e3a\u200b Spotify \u200b\u5728\u200b\u4e2d\u56fd\u200b\u5927\u9646\u200b\u7684\u200b\u4f7f\u7528\u7387\u200b\u5e76\u200b\u4e0d\u200b\u9ad8\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e2d\u6587\u200b\u97f3\u4e50\u200b\u5728\u200b Spotify \u200b\u4e0a\u200b\u6ca1\u6709\u200b\u5176\u4ed6\u200b\u8bed\u79cd\u200b\u53d7\u6b22\u8fce\u200b\u3002</p> </li> <li> <p><code>danceability</code>\u200b\u9002\u4e2d\u200b\u5230\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u8282\u594f\u200b\u9002\u5408\u200b\u8df3\u821e\u200b\uff0c\u200b\u6d41\u884c\u200b\u5ea6\u8d8a\u200b\u9ad8\u200b\u3002\u200b\u8be5\u503c\u200b\u5728\u200b 0.3 \u200b\u5230\u200b 0.6 \u200b\u4e4b\u95f4\u200b\u65f6\u6709\u200b\u53ef\u80fd\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u6709\u200b\u8f83\u5927\u200b\u63d0\u5347\u200b\u4f5c\u7528\u200b\u3002</p> </li> </ol> <p></p> <p>\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u6bcf\u4e2a\u200b\u7279\u5f81\u200b\u5bf9\u200b\u6807\u7b7e\u200b\u5f71\u54cd\u200b\u7a0b\u5ea6\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u7684\u200b\u5747\u503c\u200b\uff0c\u200b\u5176\u200b\u57fa\u672c\u200b\u4e0e\u200b\u524d\u6587\u200b\u4f7f\u7528\u200b\u7684\u200b XGBoost \u200b\u5185\u7f6e\u200b\u7684\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u7ed3\u679c\u200b\u4e00\u81f4\u200b\u3002</p> Python<pre><code>shap.summary_plot(shap_values, x_train, plot_type=\"bar\", show=False)\nplt.savefig(\"summary_plot_bar.pdf\", format=\"pdf\", bbox_inches=\"tight\")\n</code></pre> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u5404\u7279\u5f81-shap-\u503c\u968f\u65f6\u95f4\u7684\u53d8\u5316\u60c5\u51b5","title":"\u5404\u200b\u7279\u5f81\u200b SHAP \u200b\u503c\u200b\u968f\u200b\u65f6\u95f4\u200b\u7684\u200b\u53d8\u5316\u200b\u60c5\u51b5","text":"<p>\u200b\u4e3a\u4e86\u200b\u9a8c\u8bc1\u200b\u5404\u200b\u7279\u5f81\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u5f71\u54cd\u200b\u5728\u200b\u65f6\u95f4\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u662f\u5426\u200b\u7a33\u5b9a\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b SHAP \u200b\u503c\u5206\u200b\u5e74\u5ea6\u200b\u53d6\u200b\u5e73\u5747\u503c\u200b\u3002\u200b\u4e0b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u90e8\u5206\u200b\u7279\u5f81\u200b\u5728\u200b\u6bcf\u5e74\u200b\u7684\u200b\u5e73\u5747\u200b SHAP \u200b\u503c\u200b\u7684\u200b\u6298\u7ebf\u56fe\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u7279\u5f81\u200b\u5728\u200b\u6bcf\u5e74\u200b\u7684\u200b\u5e73\u5747\u200b SHAP \u200b\u503c\u200b\u90fd\u200b\u5f88\u200b\u7a33\u5b9a\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6211\u4eec\u200b\u6316\u6398\u51fa\u200b\u7684\u200b\u7279\u5f81\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u5f71\u54cd\u200b\u7a0b\u5ea6\u200b\u5206\u6790\u200b\u8f83\u4e3a\u200b\u7a33\u5065\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u57fa\u4e8e\u5185\u5bb9\u7684\u97f3\u4e50\u63a8\u8350","title":"\u57fa\u4e8e\u200b\u5185\u5bb9\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350","text":"<p>\u200b\u57fa\u4e8e\u200b\u5df2\u6709\u200b\u7684\u200b\u97f3\u4e50\u200b\u7279\u5f81\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u7528\u6237\u200b\u559c\u597d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u97f3\u4e50\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u97f3\u4e50\u200b\u7684\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u6700\u9ad8\u200b\u7684\u200b\u82e5\u5e72\u200b\u6b4c\u66f2\u200b\u63a8\u8350\u200b\u7ed9\u200b\u7528\u6237\u200b\u3002</p> <p>\u200b\u5728\u200b\u8ba1\u7b97\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u4e4b\u524d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7b5b\u9009\u200b\u4e0e\u200b\u7528\u6237\u200b\u559c\u597d\u200b\u97f3\u4e50\u200b\u7684\u200b\u8bed\u8a00\u200b\u76f8\u540c\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u63a8\u8350\u200b\u7684\u200b\u6210\u529f\u7387\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u66f2\u5e93\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u540d\u200b\u6b4c\u66f2\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u56e0\u6b64\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u51fd\u6570\u200b\u53ea\u200b\u652f\u6301\u200b\u8f93\u5165\u200b\u97f3\u4e50\u200b\u7684\u200b\u552f\u4e00\u200b id\u3002</p> Python<pre><code>def recommend(id_tracks, df, x, n=10):\n\"\"\"\n    Args:\n        id_tracks: \u200b\u6b4c\u66f2\u200b id\n        df: \u200b\u539f\u59cb\u6570\u636e\u200b\u96c6\u200b\n        x: \u200b\u7279\u5f81\u200b\u6570\u636e\u200b\u96c6\u200b\n        n: \u200b\u63a8\u8350\u200b\u6b4c\u66f2\u200b\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b 10\n    Returns:\n        recommend_tracks: \u200b\u63a8\u8350\u200b\u6b4c\u66f2\u200b\u5217\u8868\u200b\n    \"\"\"\ntry:\n# \u200b\u63d0\u53d6\u200b\u6b4c\u66f2\u200b\u7684\u200b\u8bed\u8a00\u200b\nlang = df[df[\"id_tracks\"] == id_tracks][\"lang\"].values[0]\n# \u200b\u8ba1\u7b97\u200b\u6b4c\u66f2\u200b\u5728\u200b x \u200b\u4e2d\u200b\u7684\u200b\u7d22\u5f15\u200b\nindex = df[df[\"id_tracks\"] == id_tracks].index[0]\n# \u200b\u63d0\u53d6\u200b\u6b4c\u66f2\u200b\u7684\u200b\u7279\u5f81\u200b\nitem = x.loc[index]\n# \u200b\u63d0\u53d6\u200b\u51fa\u200b\u4e0e\u200b\u8f93\u5165\u200b\u6b4c\u66f2\u200b\u8bed\u8a00\u200b\u76f8\u540c\u200b\u7684\u200b\u6b4c\u66f2\u200b\ndf_lang = df[df[\"lang\"] == lang]\n# \u200b\u63d0\u53d6\u200b\u51fa\u200b\u4e0e\u200b\u8f93\u5165\u200b\u6b4c\u66f2\u200b\u8bed\u8a00\u200b\u76f8\u540c\u200b\u7684\u200b\u6b4c\u66f2\u200b\u7684\u200b\u7279\u5f81\u200b\nx_lang = x.reindex(df_lang.index)\n# \u200b\u8ba1\u7b97\u200b\u8f93\u5165\u200b\u6b4c\u66f2\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u6b4c\u66f2\u200b\u7684\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\nsimilarity = metrics.pairwise.cosine_similarity(\nitem.values.reshape(1, -1), x_lang\n)\n# \u200b\u63d0\u53d6\u200b\u51fa\u200b\u4e0e\u200b\u8f93\u5165\u200b\u6b4c\u66f2\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u6700\u9ad8\u200b\u7684\u200b\u524d\u200b n \u200b\u9996\u6b4c\u66f2\u200b\uff0c\u200b\u4e0d\u200b\u5305\u62ec\u200b\u8f93\u5165\u200b\u6b4c\u66f2\u200b\uff08\u200b\u8f93\u5165\u200b\u6b4c\u66f2\u200b\u7684\u200b\u76f8\u4f3c\u200b\u5ea6\u4e3a\u200b 1\uff0c\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\u4e00\u5b9a\u200b\u662f\u200b\u6700\u5927\u200b\u7684\u200b\uff09\ntop_n = df_lang.iloc[similarity[0].argsort()[-n - 1 : -1][::-1]]\n# \u200b\u8fd4\u56de\u200b\u63a8\u8350\u200b\u7684\u200b\u6b4c\u66f2\u540d\u79f0\u200b\u4e0e\u200b\u827a\u672f\u5bb6\u200b\u540d\u5b57\u200b\nrecommend_tracks = top_n[[\"name\", \"name_artists\"]]\nreturn recommend_tracks\nexcept:\nprint(\"\u200b\u60a8\u200b\u8f93\u5165\u200b\u7684\u200b\u6b4c\u66f2\u200b\u76ee\u524d\u200b\u4e0d\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\uff0c\u200b\u8bf7\u200b\u5c1d\u8bd5\u200b\u8f93\u5165\u200b 1990-2021 \u200b\u5e74\u200b\u53d1\u884c\u200b\u7684\u200b\u6b4c\u66f2\u200b\u3002\")\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u63a8\u8350\u793a\u4f8b","title":"\u63a8\u8350\u200b\u793a\u4f8b","text":"<p>\u200b\u6211\u4eec\u200b\u5206\u522b\u200b\u9009\u62e9\u200b\u4e00\u9996\u200b\u82f1\u6587\u6b4c\u200b\u548c\u200b\u4e00\u9996\u200b\u4e2d\u6587\u200b\u6b4c\u200b\uff0c\u200b\u5e94\u7528\u200b\u4e0a\u6587\u200b\u6784\u5efa\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u6b4c\u66f2\u200b id \u200b\u53ef\u4ee5\u200b\u5728\u200b Spotify \u200b\u7f51\u9875\u200b\u7248\u4e2d\u200b\u7684\u200b URL \u200b\u94fe\u63a5\u200b\u4e2d\u200b\u83b7\u5f97\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u82f1\u6587\u6b4cmy-heart-will-go-on","title":"\u82f1\u6587\u6b4c\u200b\uff1aMy Heart Will Go On","text":"<p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5728\u200b\u8f93\u5165\u200b C\u00e9line Dion \u200b\u6f14\u5531\u200b\u7684\u200b My Heart Will Go On \u200b\u7684\u200b\u97f3\u4e50\u200b id \u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\u4e86\u200b 10 \u200b\u6761\u65b0\u200b\u97f3\u4e50\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6709\u200b 2 \u200b\u6761\u200b\u5c31\u200b\u6765\u81ea\u200b\u4e8e\u200b C\u00e9line Dion\u3002\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u7279\u5f81\u200b\u4e2d\u200b\u5e76\u200b\u6ca1\u6709\u200b\u7ed9\u51fa\u200b\u6b4c\u624b\u200b\u540d\u79f0\u200b\u8fd9\u6837\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u80fd\u591f\u200b\u63a8\u8350\u200b\u51fa\u200b C\u00e9line Dion \u200b\u6f14\u5531\u200b\u7684\u200b\u97f3\u4e50\u200b\u7eaf\u7cb9\u200b\u662f\u200b\u57fa\u4e8e\u200b\u5176\u4ed6\u200b\u7279\u5f81\u200b\u5f97\u5230\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6211\u4eec\u200b\u6784\u9020\u200b\u7684\u200b\u7279\u5f81\u200b\u786e\u5b9e\u200b\u80fd\u200b\u5e2e\u52a9\u200b\u627e\u5230\u200b\u4e0e\u200b\u7528\u6237\u200b\u559c\u597d\u200b\u76f8\u4f3c\u200b\u7684\u200b\u97f3\u4e50\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u4e2d\u6587\u6b4c\u5b89\u6cb3\u6865","title":"\u4e2d\u6587\u200b\u6b4c\u200b\uff1a\u200b\u5b89\u6cb3\u6865","text":"<p>\u200b\u6211\u4eec\u200b\u9009\u62e9\u200b\u5b8b\u200b\u4e1c\u91ce\u200b\u7684\u200b\u5b89\u6cb3\u6865\u200b\u4f5c\u4e3a\u200b\u4e2d\u6587\u200b\u793a\u4f8b\u200b\u6b4c\u66f2\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u63a8\u8350\u200b\u6b4c\u66f2\u200b\u4e2d\u200b\u540c\u6837\u200b\u51fa\u73b0\u200b\u4e86\u200b\u8f83\u200b\u591a\u200b\u6765\u81ea\u200b\u5b8b\u200b\u4e1c\u91ce\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u8fd9\u200b\u4e5f\u200b\u76f4\u63a5\u200b\u9a8c\u8bc1\u200b\u4e86\u200b\u8be5\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\u5177\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u603b\u7ed3\u4e0e\u56de\u987e","title":"\u603b\u7ed3\u200b\u4e0e\u200b\u56de\u987e","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u9488\u5bf9\u524d\u6587\u95ee\u9898\u63d0\u51fa\u5efa\u8bae","title":"\u9488\u5bf9\u200b\u524d\u200b\u6587\u200b\u95ee\u9898\u200b\u63d0\u51fa\u200b\u5efa\u8bae","text":"<p>\u200b\u5728\u4e0a\u6587\u200b\u6211\u4eec\u200b\u63d0\u51fa\u200b\u4e86\u200b\u5982\u4e0b\u200b\u4e09\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u5982\u4f55\u200b\u57fa\u4e8e\u200b\u5df2\u6709\u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u6570\u636e\u200b\uff0c\u200b\u9884\u6d4b\u200b\u6700\u8fd1\u200b\u65b0\u200b\u53d1\u884c\u200b\u7684\u200b\u97f3\u4e50\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff1f</li> <li>\u200b\u54ea\u4e9b\u200b\u7279\u5f81\u200b\u53ef\u80fd\u200b\u5f71\u54cd\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\uff1f</li> <li>\u200b\u5982\u4f55\u200b\u57fa\u4e8e\u200b\u7528\u6237\u200b\u7684\u200b\u97f3\u4e50\u200b\u559c\u597d\u200b\uff0c\u200b\u5c06\u200b\u4e0e\u5176\u200b\u559c\u597d\u200b\u6700\u200b\u76f8\u4f3c\u200b\u7684\u200b\u5176\u4ed6\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7ed9\u200b\u7528\u6237\u200b\uff1f</li> </ol> <p>\u200b\u5728\u200b\u6784\u5efa\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u3001\u200b\u4f7f\u7528\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u5206\u6790\u200b\u5404\u200b\u7279\u5f81\u200b\u5bf9\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u5f71\u54cd\u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ed9\u51fa\u200b\u5982\u4e0b\u200b\u5efa\u8bae\u200b\uff1a</p> <ol> <li>\u200b\u8ba1\u7b97\u200b\u6700\u8fd1\u200b\u65b0\u200b\u53d1\u884c\u200b\u7684\u200b\u97f3\u4e50\u200b\u7684\u200b\u5404\u79cd\u200b\u7279\u5f81\u200b\uff08\u200b\u5982\u200b\u54cd\u5ea6\u200b\u3001\u200b\u8282\u594f\u200b\u3001\u200b\u6d41\u6d3e\u200b\u3001\u200b\u8bed\u79cd\u200b\u7b49\u200b\uff09\uff0c\u200b\u5e76\u200b\u4ee3\u5165\u200b\u5230\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b XGBoost \u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002</li> <li>\u200b\u6b4c\u624b\u200b\u7684\u200b\u6d41\u884c\u200b\u5ea6\u200b\u3001\u200b\u53d1\u884c\u200b\u65f6\u95f4\u200b\u3001\u200b\u54cd\u5ea6\u200b\u7b49\u200b\u7279\u5f81\u200b\u5747\u200b\u80fd\u591f\u200b\u5f71\u54cd\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u3002\u200b\u5bf9\u4e8e\u200b Spotify \u200b\u7684\u200b\u7248\u6743\u200b\u56e2\u961f\u200b\u6765\u8bf4\u200b\uff0c\u200b\u8d2d\u4e70\u200b\u6d41\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u6b4c\u624b\u200b\u7684\u200b\u4f5c\u54c1\u200b\u3001\u200b\u54cd\u5ea6\u200b\u8f83\u5927\u200b\u3001\u200b\u975e\u200b\u7eaf\u97f3\u4e50\u200b\u3001\u200b\u821e\u8e48\u200b\u8282\u594f\u200b\u5728\u200b 0.4 \u200b\u5230\u200b 0.6 \u200b\u4e4b\u95f4\u200b\u7b49\u200b\u7c7b\u578b\u200b\u7684\u200b\u97f3\u4e50\u200b\uff0c\u200b\u8f83\u200b\u6709\u200b\u6f5c\u529b\u200b\u83b7\u5f97\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u53d7\u6b22\u8fce\u200b\u7a0b\u5ea6\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u751f\u4ea7\u200b\u97f3\u4e50\u200b\u5185\u5bb9\u200b\u7684\u200b\u5531\u7247\u200b\u516c\u53f8\u200b\u6765\u8bf4\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\uff0c\u200b\u8003\u8651\u200b\u5c06\u200b\u5185\u5bb9\u200b\u5236\u4f5c\u200b\u6210\u672c\u200b\u6295\u5165\u200b\u5230\u200b\u6b64\u7c7b\u200b\u97f3\u4e50\u4f5c\u54c1\u200b\u4e2d\u200b\uff0c\u200b\u4ee5\u200b\u8fce\u5408\u200b\u5e02\u573a\u9700\u6c42\u200b\u3002</li> <li>\u200b\u57fa\u4e8e\u200b\u97f3\u4e50\u200b\u8bed\u8a00\u200b\u548c\u200b\u6784\u9020\u200b\u7279\u5f81\u200b\u7684\u200b\u4f59\u5f26\u200b\u76f8\u4f3c\u200b\u5ea6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u672c\u6587\u200b\u6784\u9020\u200b\u7684\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u7ed9\u51fa\u200b\u53ef\u80fd\u200b\u53d7\u200b\u7528\u6237\u200b\u559c\u6b22\u200b\u7684\u200b\u97f3\u4e50\u200b\u3002</li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/xgboost-spotify-track-popularity-and-recommendation/#\u6539\u8fdb\u65b9\u5411","title":"\u6539\u8fdb\u200b\u65b9\u5411","text":"<p>\u200b\u56de\u987e\u200b\u672c\u6587\u200b\u7684\u200b\u6570\u636e\u5904\u7406\u200b\u8fc7\u7a0b\u200b\u3001\u200b\u6784\u5efa\u200b\u7684\u200b\u9884\u6d4b\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u4ee5\u53ca\u200b\u97f3\u4e50\u200b\u63a8\u8350\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u6211\u200b\u8ba4\u4e3a\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5f53\u524d\u200b\u5206\u6790\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u8fdb\u4e00\u6b65\u200b\u6539\u8fdb\u200b\uff1a</p> <ol> <li>\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u66f4\u200b\u51c6\u786e\u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u6d3e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u57fa\u4e8e\u200b\u6b4c\u624b\u200b\u6d41\u6d3e\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u63a8\u6d4b\u200b\u3002\u200b\u6709\u200b\u7684\u200b\u6b4c\u624b\u200b\u521b\u4f5c\u200b\u98ce\u683c\u200b\u591a\u53d8\u200b\uff0c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u97f3\u4e50\u4f5c\u54c1\u200b\u4e0a\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u98ce\u683c\u200b\u3002\u200b\u82e5\u200b\u80fd\u591f\u200b\u83b7\u53d6\u200b\u66f4\u200b\u51c6\u786e\u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u6d3e\u200b\u897f\u5357\u200b\u897f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u5fc5\u200b\u57fa\u4e8e\u200b\u6b4c\u624b\u200b\u6d41\u6d3e\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u63a8\u6d4b\u200b\u3002</li> <li>\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u66f4\u200b\u51c6\u786e\u200b\u7684\u200b\u97f3\u4e50\u200b\u8bed\u8a00\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u57fa\u4e8e\u200b\u97f3\u4e50\u200b\u540d\u79f0\u200b\u8fdb\u884c\u200b\u63a8\u6d4b\u200b\u3002\u200b\u97f3\u4e50\u200b\u540d\u79f0\u200b\u6240\u7528\u200b\u7684\u200b\u8bed\u8a00\u200b\u548c\u200b\u97f3\u4e50\u200b\u672c\u8eab\u200b\uff08\u200b\u6b4c\u8bcd\u200b\uff09\u200b\u6240\u7528\u200b\u7684\u200b\u8bed\u8a00\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u76f8\u540c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6734\u6811\u200b\u7684\u200b\u534e\u8bed\u200b\u6b4c\u200b\u300aNew Boy\u300b\u200b\u7684\u200b\u6b4c\u540d\u200b\u867d\u200b\u4e3a\u200b\u82f1\u6587\u200b\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u4e00\u9996\u200b\u4e2d\u6587\u200b\u6b4c\u200b\u3002</li> <li>\u200b\u5728\u200b\u57fa\u4e8e\u200b\u5185\u5bb9\u200b\u7684\u200b\u63a8\u8350\u200b\u57fa\u7840\u200b\u4e0a\u200b\uff0c\u200b\u589e\u52a0\u200b\u57fa\u4e8e\u200b\u7528\u6237\u200b\u7684\u200b\u63a8\u8350\u200b\u673a\u5236\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u83b7\u53d6\u200b\u66f4\u200b\u591a\u7528\u6237\u200b\u5bf9\u200b\u67d0\u200b\u97f3\u4e50\u200b\u7684\u200b\u559c\u597d\u200b\u7a0b\u5ea6\u200b\uff0c\u200b\u4ece\u800c\u200b\u57fa\u4e8e\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u7684\u200b\u559c\u597d\u200b\u6570\u636e\u200b\uff0c\u200b\u5c06\u200b\u4e0e\u200b\u67d0\u200b\u7528\u6237\u200b\u53e3\u5473\u200b\u76f8\u4f3c\u200b\u7684\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u559c\u6b22\u200b\u7684\u200b\u97f3\u4e50\u200b\u4f5c\u4e3a\u200b\u63a8\u8350\u200b\u5185\u5bb9\u200b\u3002</li> <li>\u200b\u82e5\u200b\u8bad\u7ec3\u200b\u8bbe\u5907\u200b\u548c\u200b\u65f6\u95f4\u200b\u5141\u8bb8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8fdb\u4e00\u6b65\u200b\u6d4b\u8bd5\u200b SVM \u200b\u7b49\u200b\u66f4\u200b\u591a\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u8bad\u7ec3\u6837\u672c\u200b\u3001\u200b\u66f4\u5927\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\u641c\u7d22\u200b\u8303\u56f4\u200b\u5185\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u53c2\u6570\u200b\u8c03\u4f18\u200b\uff0c\u200b\u4e5f\u8bb8\u200b\u80fd\u591f\u200b\u83b7\u5f97\u200b\u66f4\u597d\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002</li> </ol> <ol> <li> <p>Lundberg S M, Lee S I. A unified approach to interpreting model predictions[J]. Advances in neural information processing systems, 2017, 30.\u00a0\u21a9</p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/axis-in pandas/","title":"pandas \u200b\u4e2d\u200b\u7684\u200b axis","text":"<p>pandas \u200b\u4e2d\u200b\u7684\u200b<code>axis</code>\u200b\u53c2\u6570\u200b\u4ee3\u8868\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\u65f6\u200b\u9075\u5faa\u200b\u7684\u200b\u65b9\u5411\u200b\u3002\u200b\u5728\u200b\u5355\u884c\u200b\u3001\u200b\u5355\u5217\u200b\u64cd\u4f5c\u200b\uff08\u200b\u5982\u200b<code>drop</code>\uff09\u200b\u65f6\u200b\uff0c<code>axis=0</code>\u200b\u548c\u200b<code>axis=1</code>\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u5220\u9664\u200b\u884c\u200b\u548c\u200b\u5220\u9664\u200b\u5217\u200b\u3002\u200b\u5728\u200b\u805a\u5408\u200b\u64cd\u4f5c\u200b\uff08\u200b\u5982\u6c42\u200b<code>mean</code>\uff09\u200b\u65f6\u200b\uff0c<code>axis=0</code>\u200b\u548c\u200b<code>axis=1</code>\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u6c42\u5217\u200b\u5747\u503c\u200b\u548c\u884c\u200b\u5747\u503c\u200b\u3002</p> <p>\u200b\u603b\u7ed3\u200b</p> <ul> <li><code>axis=0</code>\uff1a</li> </ul> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u5355\u884c\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c31\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u67d0\u200b\u4e00\u884c\u200b\uff1b</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u805a\u5408\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u8de8\u884c\u200b cross rows\u3002</p> <ul> <li><code>axis=1</code>\uff1a</li> </ul> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u5355\u5217\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c31\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u67d0\u200b\u4e00\u5217\u200b\uff1b</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u805a\u5408\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u8de8\u5217\u200b cross columns\u3002</p> <p>\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u81ea\u200b\u516c\u4f17\u200b\u53f7\u200b<code>Python For Finance</code>\u200b\u7684\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\uff0c\u200b\u5df2\u200b\u83b7\u5f97\u200b\u4f5c\u8005\u200b\u6388\u6743\u200b\u3002</p>","tags":["Python"]},{"location":"blog/axis-in pandas/#\u51c6\u5907\u6570\u636e","title":"\u51c6\u5907\u200b\u6570\u636e","text":"Python<pre><code>import pandas as pd\ndf = pd.DataFrame(\n[[1, 1, 1, 1], [2, 2, 2, 2], [3, 3, 3, 3]],\ncolumns=[\"a\", \"b\", \"c\", \"d\"],\nindex=[\"one\", \"two\", \"three\"],\n)\nprint(df)\n</code></pre> <p>\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>       a  b  c  d\none    1  1  1  1\ntwo    2  2  2  2\nthree  3  3  3  3\n</code></pre>","tags":["Python"]},{"location":"blog/axis-in pandas/#axis0\u4ee3\u8868\u884caxis1\u4ee3\u8868\u5217","title":"<code>axis=0</code>\u200b\u4ee3\u8868\u200b\u884c\u200b\uff1f<code>axis=1</code>\u200b\u4ee3\u8868\u200b\u5217\u200b\uff1f","text":"<p>\u200b\u6709\u4eba\u200b\u8ba4\u4e3a\u200b<code>axis=0</code>\u200b\u4ee3\u8868\u200b\u884c\u200b\uff0c<code>axis=1</code>\u200b\u4ee3\u8868\u200b\u5217\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f60\u200b\u5c31\u200b\u4f1a\u200b\u8ff7\u60d1\u200b\uff1a</p>","tags":["Python"]},{"location":"blog/axis-in pandas/#drop\u51fd\u6570","title":"<code>drop</code>\u200b\u51fd\u6570","text":"<p><code>drop</code>\u200b\u51fd\u6570\u200b\u4e2d\u200b<code>axis=0</code>\u200b\u5220\u9664\u200b\u884c\u200b\uff0c<code>axis=1</code>\u200b\u5220\u9664\u200b\u5217\u200b</p> <p>\u200b\u5220\u9664\u200b a \u200b\u5217\u200b\uff1a</p> Python<pre><code>print(df.drop(\"a\", axis=1))\n</code></pre> <p>\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>       b  c  d\none    1  1  1\ntwo    2  2  2\nthree  3  3  3\n</code></pre> <p>\u200b\u5220\u9664\u200b<code>one</code>\u200b\u884c\u200b\uff1a</p> Python<pre><code>print(df.drop(\"one\", axis=0))\n</code></pre> <p>\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>       a  b  c  d\ntwo    2  2  2  2\nthree  3  3  3  3\n</code></pre>","tags":["Python"]},{"location":"blog/axis-in pandas/#mean\u51fd\u6570","title":"<code>mean</code>\u200b\u51fd\u6570","text":"<p><code>mean</code>\u200b\u51fd\u6570\u200b\u7684\u200b<code>axis=0</code>\u200b\u8868\u793a\u200b\u5bf9\u5217\u200b\u8fdb\u884c\u200b\u6c42\u53d6\u200b\u5747\u503c\u200b\uff0c<code>axis=1</code>\u200b\u8868\u793a\u200b\u5bf9\u884c\u200b\u8fdb\u884c\u200b\u6c42\u53d6\u200b\u5747\u503c\u200b\u3002</p> <p>\u200b\u5bf9\u884c\u53d6\u200b\u5747\u503c\u200b\uff1a</p> Python<pre><code>print(df.mean(axis=1))\n</code></pre> <p>\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>one      1.0\ntwo      2.0\nthree    3.0\ndtype: float64\n</code></pre> <p>\u200b\u5bf9\u5217\u53d6\u200b\u5747\u503c\u200b\uff1a</p> Python<pre><code>print(df.mean(axis=0))\n</code></pre> <p>\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>a    2.0\nb    2.0\nc    2.0\nd    2.0\ndtype: float64\n</code></pre> <ul> <li> <p><code>drop</code>\u200b\u51fd\u6570\u200b\u4e2d\u200b<code>axis=0</code>\u200b\u5220\u9664\u200b\u884c\u200b\uff0c<code>axis=1</code>\u200b\u5220\u9664\u200b\u5217\u200b\u3002</p> </li> <li> <p><code>mean</code>\u200b\u51fd\u6570\u200b\u7684\u200b<code>axis=0</code>\u200b\u8868\u793a\u200b\u5bf9\u5217\u200b\u8fdb\u884c\u200b\u6c42\u53d6\u200b\u5747\u503c\u200b\uff0c<code>axis=1</code>\u200b\u8868\u793a\u200b\u5bf9\u884c\u200b\u8fdb\u884c\u200b\u6c42\u53d6\u200b\u5747\u503c\u200b\u3002</p> </li> </ul>","tags":["Python"]},{"location":"blog/axis-in pandas/#axis\u4ee3\u8868\u65b9\u5411","title":"<code>axis</code>\u200b\u4ee3\u8868\u200b\u65b9\u5411\u200b\uff01","text":"<p><code>axis</code> \u200b\u5728\u200b\u82f1\u6587\u200b\u4e2d\u662f\u200b\u8f74\u200b\u7684\u200b\u610f\u4e49\u200b\uff0c\u200b\u4e8c\u7ef4\u200b\u6570\u636e\u200b\u62e5\u6709\u200b\u4e24\u4e2a\u200b\u8f74\u200b\uff1a\u200b\u7b2c\u200b 0 \u200b\u8f74\u200b\uff08<code>axis=0</code>\uff09\u200b\u6cbf\u7740\u200b\u884c\u200b\u7684\u200b\u5782\u76f4\u200b\u5f80\u200b\u4e0b\u200b\uff0c\u200b\u7b2c\u200b 1 \u200b\u8f74\u200b\uff08<code>axis=1</code>\uff09\u200b\u6cbf\u7740\u200b\u5217\u200b\u7684\u200b\u65b9\u5411\u200b\u6c34\u5e73\u200b\u5ef6\u4f38\u200b\u3002</p> <p>\u200b\u5750\u6807\u8f74\u200b\u662f\u200b\u6709\u200b\u65b9\u5411\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5343\u4e07\u200b\u4e0d\u8981\u200b\u7528\u884c\u200b\u548c\u200b\u5217\u200b\u7684\u200b\u601d\u7ef4\u200b\u53bb\u200b\u60f3\u200b axis\uff0c\u200b\u56e0\u4e3a\u200b\u884c\u548c\u5217\u200b\u662f\u200b\u6ca1\u6709\u200b\u65b9\u5411\u200b\u7684\u200b\u3002</p> <p>axis \u200b\u7684\u200b\u91cd\u70b9\u200b\u5728\u4e8e\u200b\u65b9\u5411\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u884c\u548c\u5217\u200b\u3002axis=1 \u200b\u4ee3\u8868\u200b\u8de8\u5217\u200b\uff08cross columns)\uff0c\u200b\u8868\u793a\u200b\u6a2a\u5411\u200b\uff0c\u200b\u65b9\u5411\u200b\u4ece\u5de6\u5230\u53f3\u200b\uff1baxis=0 \u200b\u4ee3\u8868\u200b\u8de8\u884c\u200b\uff08cross rows)\uff0c\u200b\u8868\u793a\u200b\u7eb5\u5411\u200b\uff0c\u200b\u65b9\u5411\u200b\u4ece\u4e0a\u5230\u4e0b\u200b\u3002</p> <p></p> <ul> <li><code>df.mean(axis=1)</code>\u200b\u4ee3\u8868\u200b\u6cbf\u7740\u200b\u5217\u200b\u6c34\u5e73\u200b\u65b9\u5411\u200b\u8ba1\u7b97\u200b\u5747\u503c\u200b\uff0c\u200b\u4ece\u5de6\u5230\u53f3\u200b\u6a2a\u5411\u200b\u6c42\u200b\u5747\u503c\u200b\u3002</li> <li><code>df.drop(name, axis=1)</code> \u200b\u4ee3\u8868\u200b\u5c06\u200b<code>name</code>\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5217\u200b\u6807\u7b7e\u200b\uff08\u200b\u4eec\u200b\uff09\u200b\u6cbf\u7740\u200b\u6c34\u5e73\u200b\u7684\u200b\u65b9\u5411\u200b\u4f9d\u6b21\u200b\u5220\u6389\u200b\uff0c\u200b\u6a2a\u5411\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u4f53\u73b0\u200b\u4e3a\u5217\u200b\u7684\u200b\u51cf\u5c11\u200b\u3002</li> </ul> <p>Note</p> <ul> <li><code>axis=0</code>\uff1a</li> </ul> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u5355\u884c\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c31\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u67d0\u200b\u4e00\u884c\u200b\uff1b</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u805a\u5408\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u8de8\u884c\u200b cross rows\u3002</p> <ul> <li><code>axis=1</code>\uff1a</li> </ul> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u5355\u5217\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c31\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u67d0\u200b\u4e00\u5217\u200b\uff1b</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u805a\u5408\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u8de8\u5217\u200b cross columns\u3002</p>","tags":["Python"]},{"location":"blog/change-python-interpreter-in-vscode-jupyter-notebook/","title":"\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u9ed8\u8ba4\u200b Python \u200b\u89e3\u91ca\u5668","text":"<p>Conda \u200b\u53ef\u4ee5\u200b\u5341\u5206\u200b\u65b9\u4fbf\u200b\u5730\u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u9879\u76ee\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b Python \u200b\u7248\u672c\u200b\u3001\u200b\u5916\u90e8\u200b\u5305\u7b49\u200b\u3002\u200b\u4eca\u5929\u200b\u5728\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u865a\u62df\u200b Conda \u200b\u73af\u5883\u200b\u540e\u200b\uff0c\u200b\u5728\u200b VS Code \u200b\u4e2d\u200b\u6ca1\u6709\u200b\u627e\u5230\u200b\u521a\u521a\u200b\u521b\u5efa\u200b\u7684\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u3002</p> <p>\u200b\u89e3\u51b3\u65b9\u6848\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u5148\u200b\u6309\u200bCtrl+Shift+P\uff0c\u200b\u8c03\u51fa\u200b<code>Select Interpreter</code>\u200b\u9009\u9879\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u5e94\u8be5\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u6700\u65b0\u200b\u521b\u5efa\u200b\u7684\u200b Conda \u200b\u73af\u5883\u200b\uff1b</li> <li>\u200b\u518d\u200b\u6309\u200bCtrl+Shift+P\uff0c\u200b\u8c03\u51fa\u200b<code>Clear Cache and Reload Window</code>\u200b\u9009\u9879\u200b\uff0c\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u7a97\u53e3\u200b\uff1b</li> <li>\u200b\u6700\u540e\u200b\u70b9\u51fb\u200b\u53f3\u4e0a\u89d2\u200b\u7684\u200b\u201c\u200b\u9009\u62e9\u200b\u5185\u6838\u200b\u201d\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u521a\u624d\u200b\u521b\u5efa\u200b\u7684\u200b\u73af\u5883\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"blog/change-python-interpreter-in-vscode-jupyter-notebook/#\u65b0\u5efa\u865a\u62df\u73af\u5883","title":"\u65b0\u5efa\u200b\u865a\u62df\u73af\u5883","text":"Bash<pre><code>conda create -n \u200b\u73af\u5883\u200b\u540d\u200b python=3.10\n</code></pre>","tags":["Python"]},{"location":"blog/change-python-interpreter-in-vscode-jupyter-notebook/#\u6309ctrlshiftp\u8c03\u51faselect-interpreter\u9009\u9879","title":"\u6309\u200bCtrl+Shift+P\uff0c\u200b\u8c03\u51fa\u200b<code>select interpreter</code>\u200b\u9009\u9879","text":"<p>\u200b\u9009\u62e9\u200b\u9700\u8981\u200b\u7684\u200b\u73af\u5883\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/change-python-interpreter-in-vscode-jupyter-notebook/#\u6309ctrlshiftp\u8c03\u51faclear-cache-and-reload-window\u9009\u9879","title":"\u6309\u200bCtrl+Shift+P\uff0c\u200b\u8c03\u51fa\u200b<code>Clear Cache and Reload Window</code>\u200b\u9009\u9879","text":"<p>\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u7a97\u53e3\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/change-python-interpreter-in-vscode-jupyter-notebook/#\u9009\u62e9\u73af\u5883","title":"\u9009\u62e9\u200b\u73af\u5883","text":"<p>\u200b\u53f3\u4e0a\u89d2\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u5185\u6838\u200b\uff1a</p> <p></p> <p>\u200b\u73b0\u5728\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u521a\u624d\u200b\u521b\u5efa\u200b\u7684\u200b\u73af\u5883\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/document-style-guide/","title":"\u4e2d\u6587\u200b\u6280\u672f\u200b\u6587\u6863\u200b\u7684\u200b\u5199\u4f5c\u200b\u89c4\u8303","text":"<p>\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u200b\u4e86\u200b\u962e\u200b\u4e00\u5cf0\u200b\u7684\u200b\u300a\u200b\u4e2d\u6587\u200b\u6280\u672f\u200b\u6587\u6863\u200b\u7684\u200b\u5199\u4f5c\u200b\u89c4\u8303\u200b\u300b\u3002</p> <p>\u200b\u672c\u7ad9\u200b\u4e4b\u524d\u200b\u53d1\u5e03\u200b\u7684\u200b\u6587\u7ae0\u200b\u6709\u200b\u8bb8\u591a\u200b\u5e76\u200b\u6ca1\u6709\u200b\u9075\u5faa\u200b\u8fd9\u4e00\u200b\u89c4\u8303\u200b\uff08\u200b\u4f8b\u5982\u200b\u4e2d\u82f1\u6587\u200b\u4e4b\u95f4\u200b\u5e94\u6709\u200b\u7a7a\u683c\u200b\uff09\u3002\u200b\u5728\u200b\u4eca\u540e\u200b\u7684\u200b\u5de5\u4f5c\u200b\u548c\u200b\u5199\u4f5c\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4f1a\u200b\u5c3d\u91cf\u200b\u4e66\u5199\u200b\u89c4\u8303\u200b\u7684\u200b\u6587\u6863\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u6587\u7ae0\u200b\u7684\u200b\u6613\u8bfb\u6027\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5c42\u7ea7","title":"\u5c42\u7ea7","text":"<p>\u200b\u6807\u9898\u200b\u5206\u4e3a\u200b\u56db\u7ea7\u200b\u3002</p> <ul> <li>\u200b\u4e00\u7ea7\u200b\u6807\u9898\u200b\uff1a\u200b\u6587\u7ae0\u200b\u7684\u200b\u6807\u9898\u200b</li> <li>\u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b\uff1a\u200b\u6587\u7ae0\u200b\u4e3b\u8981\u200b\u90e8\u5206\u200b\u7684\u200b\u5927\u200b\u6807\u9898\u200b</li> <li>\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\uff1a\u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b\u4e0b\u9762\u200b\u4e00\u7ea7\u200b\u7684\u200b\u5c0f\u6807\u9898\u200b</li> <li>\u200b\u56db\u7ea7\u200b\u6807\u9898\u200b\uff1a\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\u4e0b\u9762\u200b\u67d0\u4e00\u65b9\u9762\u200b\u7684\u200b\u5c0f\u6807\u9898\u200b</li> </ul> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u793a\u4f8b\u200b\u3002</p> Markdown<pre><code>## \u200b\u4e00\u7ea7\u200b\u6807\u9898\u200b\n### \u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b\n#### \u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\n##### \u200b\u56db\u7ea7\u200b\u6807\u9898\u200b\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u539f\u5219","title":"\u539f\u5219","text":"<p>\uff081\uff09\u200b\u4e00\u7ea7\u200b\u6807\u9898\u200b\u4e0b\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u51fa\u73b0\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\uff1a\u200b\u4e0b\u9762\u200b\u7684\u200b\u6587\u7ae0\u200b\u7ed3\u6784\u200b\uff0c\u200b\u7f3a\u5c11\u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b\u3002</p> Markdown<pre><code>## \u200b\u4e00\u7ea7\u200b\u6807\u9898\u200b\n#### \u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\n</code></pre> <p>\uff082\uff09\u200b\u6807\u9898\u200b\u8981\u200b\u907f\u514d\u200b\u5b64\u7acb\u200b\u7f16\u53f7\u200b\uff08\u200b\u5373\u200b\u540c\u7ea7\u200b\u6807\u9898\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\uff09\u3002</p> <p>\u200b\u793a\u4f8b\u200b\uff1a\u200b\u4e0b\u9762\u200b\u7684\u200b\u6587\u7ae0\u200b\u7ed3\u6784\u200b\uff0c<code>\u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b A</code>\u200b\u53ea\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\uff0c\u200b\u5b8c\u5168\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b <code>\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b A</code>\u3002</p> Markdown<pre><code>### \u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b A\n#### \u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b A\n### \u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b B\n</code></pre> <p>\uff083\uff09\u200b\u4e0b\u7ea7\u200b\u6807\u9898\u200b\u4e0d\u200b\u91cd\u590d\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u6807\u9898\u200b\u7684\u200b\u540d\u5b57\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\uff1a\u200b\u4e0b\u9762\u200b\u7684\u200b\u6587\u7ae0\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4e8c\u7ea7\u200b\u6807\u9898\u200b\u4e0e\u200b\u4e0b\u5c5e\u200b\u7684\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\u540c\u540d\u200b\uff0c\u200b\u5efa\u8bae\u200b\u907f\u514d\u200b\u3002</p> Markdown<pre><code>### \u200b\u6982\u8ff0\u200b\n#### \u200b\u6982\u8ff0\u200b\n</code></pre> <p>\uff084\uff09\u200b\u8c28\u614e\u200b\u4f7f\u7528\u200b\u56db\u7ea7\u200b\u6807\u9898\u200b\uff0c\u200b\u5c3d\u91cf\u907f\u514d\u200b\u51fa\u73b0\u200b\uff0c\u200b\u4fdd\u6301\u200b\u5c42\u7ea7\u200b\u7684\u200b\u7b80\u5355\u200b\uff0c\u200b\u9632\u6b62\u51fa\u73b0\u200b\u8fc7\u4e8e\u200b\u590d\u6742\u200b\u7684\u200b\u7ae0\u8282\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\u4e0b\u200b\u6709\u200b\u5e76\u5217\u200b\u6027\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5efa\u8bae\u200b\u53ea\u200b\u4f7f\u7528\u200b\u9879\u76ee\u200b\u5217\u8868\u200b\uff08Item list\uff09\u3002</p> <p>\u200b\u793a\u4f8b\u200b\uff1a\u200b\u4e0b\u9762\u200b\u7684\u200b\u7ed3\u6784\u200b\u4e8c\u8981\u200b\u597d\u200b\u4e8e\u200b\u7ed3\u6784\u200b\u4e00\u200b\u3002\u200b\u7ed3\u6784\u200b\u4e00\u200b\u9002\u7528\u200b\u7684\u200b\u573a\u666f\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u8f83\u957f\u200b\u7bc7\u5e45\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> Markdown<pre><code>\u200b\u7ed3\u6784\u200b\u4e00\u200b\n\n#### \u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\n##### \u200b\u56db\u7ea7\u200b\u6807\u9898\u200b A\n##### \u200b\u56db\u7ea7\u200b\u6807\u9898\u200b B\n##### \u200b\u56db\u7ea7\u200b\u6807\u9898\u200b C\n\u200b\u7ed3\u6784\u200b\u4e8c\u200b\n\n#### \u200b\u4e09\u7ea7\u200b\u6807\u9898\u200b\n**\uff081\uff09A**\n**\uff082\uff09B**\n**\uff083\uff09C**\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6587\u672c","title":"\u6587\u672c","text":"","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5b57\u95f4\u8ddd","title":"\u5b57\u200b\u95f4\u8ddd","text":"<p>\uff081\uff09\u200b\u5168\u89d2\u200b\u4e2d\u6587\u200b\u5b57\u7b26\u200b\u4e0e\u200b\u534a\u89d2\u200b\u82f1\u6587\u200b\u5b57\u7b26\u200b\u4e4b\u95f4\u200b\uff0c\u200b\u5e94\u6709\u200b\u4e00\u4e2a\u534a\u200b\u89d2\u200b\u7a7a\u683c\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u5982\u4f55\u200b\u5feb\u901f\u200b\u542f\u52a8\u200b Windows \u200b\u7cfb\u7edf\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u5982\u4f55\u200b\u5feb\u901f\u200b\u542f\u52a8\u200b Windows \u200b\u7cfb\u7edf\u200b\u3002\n</code></pre> <p>\uff082\uff09\u200b\u5168\u89d2\u200b\u4e2d\u6587\u200b\u5b57\u7b26\u200b\u4e0e\u200b\u534a\u89d2\u200b\u963f\u62c9\u4f2f\u6570\u5b57\u200b\u4e4b\u95f4\u200b\uff0c\u200b\u6709\u6ca1\u6709\u200b\u534a\u89d2\u200b\u7a7a\u683c\u200b\u90fd\u200b\u53ef\u200b\uff0c\u200b\u4f46\u200b\u5fc5\u987b\u200b\u4fdd\u8bc1\u200b\u98ce\u683c\u200b\u7edf\u4e00\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4e24\u79cd\u200b\u98ce\u683c\u200b\u6df7\u6742\u200b\u3002</p> Text Only<pre><code>\u200b\u6b63\u786e\u200b\uff1a2011 \u200b\u5e74\u200b 5 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\uff0c\u200b\u6211\u200b\u8ba2\u8d2d\u200b\u4e86\u200b 5 \u200b\u53f0\u200b\u7b14\u8bb0\u672c\u7535\u8111\u200b\u4e0e\u200b 10 \u200b\u53f0\u200b\u5e73\u677f\u200b\u7535\u8111\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a2011 \u200b\u5e74\u200b 5 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\uff0c\u200b\u6211\u200b\u8ba2\u8d2d\u200b\u4e86\u200b 5 \u200b\u53f0\u200b\u7b14\u8bb0\u672c\u7535\u8111\u200b\u4e0e\u200b 10 \u200b\u53f0\u200b\u5e73\u677f\u200b\u7535\u8111\u200b\u3002\n</code></pre> <p>\u200b\u534a\u89d2\u200b\u7684\u200b\u767e\u5206\u53f7\u200b\uff0c\u200b\u89c6\u540c\u200b\u963f\u62c9\u4f2f\u6570\u5b57\u200b\u3002</p> Text Only<pre><code>\u200b\u6b63\u786e\u200b\uff1a\u200b\u4eca\u5e74\u200b\u6211\u56fd\u200b\u7ecf\u6d4e\u200b\u589e\u957f\u7387\u200b\u662f\u200b 6.5%\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u4eca\u5e74\u200b\u6211\u56fd\u200b\u7ecf\u6d4e\u200b\u589e\u957f\u7387\u200b\u662f\u200b 6.5%\u3002\n</code></pre> <p>\uff083\uff09\u200b\u82f1\u6587\u200b\u5355\u4f4d\u200b\u82e5\u200b\u4e0d\u200b\u7ffb\u8bd1\u200b\uff0c\u200b\u5355\u4f4d\u200b\u524d\u200b\u7684\u200b\u963f\u62c9\u4f2f\u6570\u5b57\u200b\u4e0e\u200b\u5355\u4f4d\u200b\u7b26\u53f7\u200b\u4e4b\u95f4\u200b\uff0c\u200b\u5e94\u200b\u7559\u51fa\u200b\u9002\u5f53\u200b\u7684\u200b\u7a7a\u9699\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u200b 1\uff1a\u200b\u4e00\u90e8\u200b\u5bb9\u91cf\u200b\u4e3a\u200b 16 GB \u200b\u7684\u200b\u667a\u80fd\u624b\u673a\u200b\n\n\u200b\u4f8b\u200b 2\uff1a1 h = 60 min = 3,600 s\n</code></pre> <p>\uff084\uff09\u200b\u534a\u89d2\u200b\u82f1\u6587\u200b\u5b57\u7b26\u200b\u548c\u200b\u534a\u89d2\u200b\u963f\u62c9\u4f2f\u6570\u5b57\u200b\uff0c\u200b\u4e0e\u200b\u5168\u89d2\u200b\u6807\u70b9\u7b26\u53f7\u200b\u4e4b\u95f4\u200b\u4e0d\u7559\u200b\u7a7a\u683c\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u4ed6\u200b\u7684\u200b\u7535\u8111\u200b\u662f\u200b MacBook Air \u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u4ed6\u200b\u7684\u200b\u7535\u8111\u200b\u662f\u200b MacBook Air\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u53e5\u5b50","title":"\u53e5\u5b50","text":"<p>\uff081\uff09\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b\u957f\u53e5\u200b\u3002</p> <p>\u200b\u4e0d\u200b\u5305\u542b\u200b\u4efb\u4f55\u200b\u6807\u70b9\u7b26\u53f7\u200b\u7684\u200b\u5355\u4e2a\u200b\u53e5\u5b50\u200b\uff0c\u200b\u6216\u8005\u200b\u4ee5\u200b\u9017\u53f7\u200b\u5206\u9694\u200b\u7684\u200b\u53e5\u5b50\u200b\u6784\u4ef6\u200b\uff0c\u200b\u957f\u5ea6\u200b\u5c3d\u91cf\u200b\u4fdd\u6301\u200b\u5728\u200b 20 \u200b\u4e2a\u200b\u5b57\u200b\u4ee5\u5185\u200b\uff1b20 \uff5e 29 \u200b\u4e2a\u200b\u5b57\u200b\u7684\u200b\u53e5\u5b50\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\uff1b30 \uff5e 39 \u200b\u4e2a\u200b\u5b57\u200b\u7684\u200b\u53e5\u5b50\u200b\uff0c\u200b\u8bed\u4e49\u200b\u5fc5\u987b\u200b\u660e\u786e\u200b\uff0c\u200b\u624d\u80fd\u200b\u63a5\u53d7\u200b\uff1b\u200b\u591a\u4e8e\u200b 40 \u200b\u4e2a\u200b\u5b57\u200b\u7684\u200b\u53e5\u5b50\u200b\uff0c\u200b\u4efb\u4f55\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u90fd\u200b\u4e0d\u80fd\u200b\u63a5\u53d7\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u672c\u200b\u4ea7\u54c1\u200b\u9002\u7528\u200b\u4e8e\u200b\u4ece\u200b\u7531\u200b\u4e00\u53f0\u200b\u670d\u52a1\u5668\u8fdb\u884c\u200b\u52a8\u4f5c\u200b\u63a7\u5236\u200b\u7684\u200b\u5355\u4e00\u200b\u8282\u70b9\u200b\u7ed3\u6784\u200b\u5230\u200b\u7531\u200b\u591a\u53f0\u200b\u670d\u52a1\u5668\u8fdb\u884c\u200b\u52a8\u4f5c\u200b\u63a7\u5236\u200b\u7684\u200b\u5e76\u884c\u5904\u7406\u200b\u7a0b\u5e8f\u7ed3\u6784\u200b\u7b49\u200b\u591a\u79cd\u200b\u4f53\u7cfb\u7ed3\u6784\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u672c\u200b\u4ea7\u54c1\u200b\u9002\u7528\u200b\u4e8e\u200b\u591a\u79cd\u200b\u4f53\u7cfb\u7ed3\u6784\u200b\u3002\u200b\u65e0\u8bba\u662f\u200b\u7531\u200b\u4e00\u53f0\u200b\u670d\u52a1\u5668\u200b\uff08\u200b\u5355\u4e00\u200b\u8282\u70b9\u200b\u7ed3\u6784\u200b\uff09\uff0c\u200b\u8fd8\u662f\u200b\u7531\u200b\u591a\u53f0\u200b\u670d\u52a1\u5668\u200b\uff08\u200b\u5e76\u884c\u5904\u7406\u200b\u7ed3\u6784\u200b\uff09\u200b\u8fdb\u884c\u200b\u52a8\u4f5c\u200b\u63a7\u5236\u200b\uff0c\u200b\u5747\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u672c\u200b\u4ea7\u54c1\u200b\u3002\n</code></pre> <p>\u200b\u9017\u53f7\u200b\u5206\u5272\u200b\u7684\u200b\u957f\u53e5\u200b\uff0c\u200b\u603b\u957f\u5ea6\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u8d85\u8fc7\u200b 100 \u200b\u5b57\u200b\u6216\u8005\u200b\u6b63\u6587\u200b\u7684\u200b 3 \u200b\u884c\u200b\u3002</p> <p>\uff082\uff09\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u7b80\u5355\u53e5\u200b\u548c\u200b\u5e76\u5217\u53e5\u200b\uff0c\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b\u590d\u5408\u53e5\u200b\u3002</p> Text Only<pre><code>\u200b\u5e76\u5217\u53e5\u200b\uff1a\u200b\u4ed6\u200b\u6628\u5929\u200b\u751f\u75c5\u200b\u4e86\u200b\uff0c\u200b\u6ca1\u6709\u200b\u53c2\u52a0\u200b\u4f1a\u8bae\u200b\u3002\n\n\u200b\u590d\u5408\u53e5\u200b\uff1a\u200b\u90a3\u4e2a\u200b\u6628\u5929\u200b\u751f\u75c5\u200b\u7684\u200b\u4eba\u200b\u6ca1\u6709\u200b\u53c2\u52a0\u200b\u4f1a\u8bae\u200b\u3002\n</code></pre> <p>\uff083\uff09\u200b\u540c\u6837\u200b\u4e00\u4e2a\u200b\u610f\u601d\u200b\uff0c\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u80af\u5b9a\u53e5\u200b\u8868\u8fbe\u200b\uff0c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u5426\u5b9a\u53e5\u200b\u8868\u8fbe\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u8bf7\u200b\u786e\u8ba4\u200b\u6ca1\u6709\u200b\u63a5\u901a\u200b\u88c5\u7f6e\u200b\u7684\u200b\u7535\u6e90\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u8bf7\u200b\u786e\u8ba4\u200b\u88c5\u7f6e\u200b\u7684\u200b\u7535\u6e90\u200b\u5df2\u200b\u5173\u95ed\u200b\u3002\n</code></pre> <p>\uff084\uff09\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b\u53cc\u91cd\u200b\u5426\u5b9a\u53e5\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u6ca1\u6709\u200b\u5220\u9664\u200b\u6743\u9650\u200b\u7684\u200b\u7528\u6237\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5220\u9664\u200b\u6b64\u200b\u6587\u4ef6\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u7528\u6237\u200b\u5fc5\u987b\u200b\u62e5\u6709\u200b\u5220\u9664\u200b\u6743\u9650\u200b\uff0c\u200b\u624d\u80fd\u200b\u5220\u9664\u200b\u6b64\u200b\u6587\u4ef6\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5199\u4f5c\u98ce\u683c","title":"\u5199\u4f5c\u200b\u98ce\u683c","text":"<p>\uff081\uff09\u200b\u5c3d\u91cf\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u88ab\u52a8\u8bed\u6001\u200b\uff0c\u200b\u6539\u4e3a\u200b\u4f7f\u7528\u200b\u4e3b\u52a8\u200b\u8bed\u6001\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u5047\u200b\u5982\u6b64\u200b\u8f6f\u4ef6\u200b\u5c1a\u672a\u200b\u88ab\u200b\u5b89\u88c5\u200b\uff0c\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u5047\u5982\u200b\u5c1a\u672a\u200b\u5b89\u88c5\u200b\u8fd9\u4e2a\u200b\u8f6f\u4ef6\u200b\uff0c\n</code></pre> <p>\uff082\uff09\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u975e\u6b63\u5f0f\u200b\u7684\u200b\u8bed\u8a00\u200b\u98ce\u683c\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1aLady Gaga \u200b\u7684\u200b\u6f14\u5531\u4f1a\u200b\u771f\u662f\u200b\u9177\u6bd9\u4e86\u200b\uff0c\u200b\u4ece\u6ca1\u200b\u770b\u8fc7\u200b\u8fd9\u4e48\u200b\u7ed9\u529b\u200b\u7684\u200b\u8868\u6f14\u200b\uff01\uff01\uff01\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u65e0\u6cd5\u200b\u53c2\u52a0\u200b\u672c\u6b21\u200b\u6d3b\u52a8\u200b\uff0c\u200b\u6211\u200b\u6df1\u611f\u200b\u9057\u61be\u200b\u3002\n</code></pre> <p>\uff083\uff09\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u51b7\u50fb\u200b\u3001\u200b\u751f\u9020\u200b\u6216\u8005\u200b\u6587\u8a00\u6587\u200b\u7684\u200b\u8bcd\u8bed\u200b\uff0c\u200b\u800c\u200b\u8981\u200b\u4f7f\u7528\u200b\u73b0\u4ee3\u6c49\u8bed\u200b\u7684\u200b\u5e38\u7528\u200b\u8868\u8fbe\u65b9\u5f0f\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u8fd9\u662f\u200b\u552f\u4e8c\u200b\u7684\u200b\u5feb\u901f\u200b\u542f\u52a8\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u8fd9\u200b\u662f\u200b\u4ec5\u200b\u6709\u200b\u7684\u200b\u4e24\u79cd\u200b\u5feb\u901f\u200b\u542f\u52a8\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\n</code></pre> <p>\uff084\uff09\u200b\u7528\u200b\u5bf9\u200b\u201c\u200b\u7684\u200b\u201d\u3001\u201c\u200b\u5730\u200b\u201d\u3001\u201c\u200b\u5f97\u200b\u201d\u3002</p> Text Only<pre><code>\u200b\u5979\u200b\u9732\u51fa\u200b\u4e86\u200b\u5f00\u5fc3\u200b\u7684\u200b\u7b11\u5bb9\u200b\u3002\n\uff08\u200b\u5f62\u5bb9\u8bcd\u200b\uff0b\u200b\u7684\u200b\uff0b\u200b\u540d\u8bcd\u200b\uff09\n\n\u200b\u5979\u200b\u5f00\u5fc3\u200b\u5730\u7b11\u200b\u4e86\u200b\u3002\n\uff08\u200b\u526f\u8bcd\u200b\uff0b\u200b\u5730\u200b\uff0b\u200b\u52a8\u8bcd\u200b\uff09\n\n\u200b\u5979\u200b\u7b11\u200b\u5f97\u200b\u5f88\u200b\u5f00\u5fc3\u200b\u3002\n\uff08\u200b\u52a8\u8bcd\u200b\uff0b\u200b\u5f97\u200b\uff0b\u200b\u526f\u8bcd\u200b\uff09\n</code></pre> <p>\uff085\uff09\u200b\u4f7f\u7528\u200b\u4ee3\u8bcd\u200b\u65f6\u200b\uff08\u200b\u6bd4\u5982\u200b\u201c\u200b\u5176\u200b\u201d\u3001\u201c\u200b\u8be5\u200b\u201d\u3001\u201c\u200b\u6b64\u200b\u201d\u3001\u201c\u200b\u8fd9\u200b\u201d\u200b\u7b49\u200b\u8bcd\u200b\uff09\uff0c\u200b\u5fc5\u987b\u200b\u660e\u786e\u200b\u6307\u4ee3\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u542b\u4e49\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u4ece\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u76d1\u89c6\u200b\u4e2d\u7ee7\u200b\u7cfb\u7edf\u200b\u548c\u200b\u53d7\u200b\u5176\u200b\u76f4\u63a5\u200b\u63a7\u5236\u200b\u7684\u200b\u5206\u914d\u200b\u7cfb\u7edf\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u4ece\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u76d1\u89c6\u200b\u4e24\u4e2a\u200b\u7cfb\u7edf\u200b\uff1a\u200b\u4e2d\u7ee7\u200b\u7cfb\u7edf\u200b\u548c\u200b\u53d7\u200b\u4e2d\u7ee7\u200b\u7cfb\u7edf\u200b\u76f4\u63a5\u200b\u63a7\u5236\u200b\u7684\u200b\u5206\u914d\u200b\u7cfb\u7edf\u200b\u3002\n</code></pre> <p>\uff086\uff09\u200b\u540d\u8bcd\u200b\u524d\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u8fc7\u591a\u200b\u7684\u200b\u5f62\u5bb9\u8bcd\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u6b64\u200b\u8bbe\u5907\u200b\u7684\u200b\u4f7f\u7528\u200b\u5fc5\u987b\u200b\u5728\u200b\u63a5\u53d7\u200b\u8fc7\u672c\u200b\u516c\u53f8\u200b\u4e3e\u529e\u200b\u7684\u200b\u6b63\u5f0f\u200b\u7684\u200b\u8bbe\u5907\u200b\u57f9\u8bad\u200b\u7684\u200b\u6280\u5e08\u200b\u7684\u200b\u6307\u5bfc\u200b\u4e0b\u200b\u8fdb\u884c\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u6b64\u200b\u8bbe\u5907\u200b\u5fc5\u987b\u200b\u5728\u200b\u6280\u5e08\u200b\u7684\u200b\u6307\u5bfc\u200b\u4e0b\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4e14\u200b\u6307\u5bfc\u200b\u6280\u5e08\u200b\u5fc5\u987b\u200b\u63a5\u53d7\u200b\u8fc7\u7531\u672c\u200b\u516c\u53f8\u200b\u4e3e\u529e\u200b\u7684\u200b\u6b63\u5f0f\u200b\u8bbe\u5907\u200b\u57f9\u8bad\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u82f1\u6587\u5904\u7406","title":"\u82f1\u6587\u200b\u5904\u7406","text":"<p>\uff081\uff09\u200b\u82f1\u6587\u200b\u539f\u6587\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u4e86\u200b\u590d\u6570\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u7ffb\u8bd1\u6210\u200b\u4e2d\u6587\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5c06\u200b\u5176\u200b\u8fd8\u539f\u200b\u4e3a\u200b\u5355\u6570\u200b\u5f62\u5f0f\u200b\u3002</p> Text Only<pre><code>\u200b\u82f1\u6587\u200b\uff1a...information stored in random access memory (RAMs)...\n\n\u200b\u4e2d\u6587\u200b\uff1a\u22ef\u22ef\u200b\u5b58\u50a8\u200b\u5728\u200b\u968f\u673a\u5b58\u53d6\u200b\u5b58\u50a8\u5668\u200b\uff08RAM\uff09\u200b\u91cc\u200b\u7684\u200b\u4fe1\u606f\u200b\u22ef\u22ef\n</code></pre> <p>\uff082\uff09\u200b\u5916\u6587\u200b\u7f29\u5199\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u534a\u89d2\u200b\u5706\u70b9\u200b (<code>.</code>) \u200b\u8868\u793a\u200b\u7f29\u5199\u200b\u3002</p> Text Only<pre><code>U.S.A.\nApple, Inc.\n</code></pre> <p>\uff083\uff09\u200b\u8868\u793a\u200b\u4e2d\u6587\u200b\u65f6\u200b\uff0c\u200b\u82f1\u6587\u200b\u7701\u7565\u53f7\u200b\uff08<code>...</code>\uff09\u200b\u5e94\u200b\u6539\u4e3a\u200b\u4e2d\u6587\u200b\u7701\u7565\u53f7\u200b\uff08<code>\u22ef\u22ef</code>\uff09\u3002</p> Text Only<pre><code>\u200b\u82f1\u6587\u200b\uff1a5 minutes later...\n\n\u200b\u4e2d\u6587\u200b\uff1a5 \u200b\u5206\u949f\u200b\u8fc7\u53bb\u200b\u4e86\u200b\u22ef\u22ef\n</code></pre> <p>\uff084\uff09\u200b\u82f1\u6587\u200b\u4e66\u540d\u200b\u6216\u200b\u7535\u5f71\u200b\u540d\u200b\u6539\u7528\u200b\u4e2d\u6587\u200b\u8868\u8fbe\u200b\u65f6\u200b\uff0c\u200b\u53cc\u5f15\u53f7\u200b\u5e94\u200b\u6539\u4e3a\u200b\u4e66\u540d\u53f7\u200b\u3002</p> Text Only<pre><code>\u200b\u82f1\u6587\u200b\uff1aHe published an article entitled \"The Future of the Aviation\".\n\n\u200b\u4e2d\u6587\u200b\uff1a\u200b\u4ed6\u200b\u53d1\u8868\u200b\u4e86\u200b\u4e00\u7bc7\u200b\u540d\u4e3a\u200b\u300a\u200b\u822a\u7a7a\u4e1a\u200b\u7684\u200b\u672a\u6765\u200b\u300b\u200b\u7684\u200b\u6587\u7ae0\u200b\u3002\n</code></pre> <p>\uff085\uff09\u200b\u7b2c\u4e00\u6b21\u200b\u51fa\u73b0\u200b\u82f1\u6587\u200b\u8bcd\u6c47\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b\u62ec\u53f7\u200b\u4e2d\u200b\u7ed9\u51fa\u200b\u4e2d\u6587\u200b\u6807\u6ce8\u200b\u3002\u200b\u6b64\u540e\u200b\u518d\u6b21\u51fa\u73b0\u200b\u65f6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u82f1\u6587\u200b\u7f29\u5199\u200b\u5373\u53ef\u200b\u3002</p> Text Only<pre><code>IOC\uff08International Olympic Committee\uff0c\u200b\u56fd\u9645\u5965\u6797\u5339\u514b\u59d4\u5458\u4f1a\u200b\uff09\u3002\u200b\u8fd9\u6837\u200b\u5b9a\u4e49\u200b\u540e\u200b\uff0c\u200b\u4fbf\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u201cIOC\u201d\u200b\u4e86\u200b\u3002\n</code></pre> <p>\uff086\uff09\u200b\u4e13\u6709\u540d\u8bcd\u200b\u4e2d\u200b\u6bcf\u4e2a\u200b\u8bcd\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u6bcd\u200b\u5747\u200b\u5e94\u200b\u5927\u5199\u200b\uff0c\u200b\u975e\u200b\u4e13\u6709\u540d\u8bcd\u200b\u5219\u200b\u4e0d\u200b\u9700\u8981\u200b\u5927\u5199\u200b\u3002</p> Text Only<pre><code>\u201cAmerican Association of Physicists in Medicine\u201d\uff08\u200b\u7f8e\u56fd\u200b\u533b\u5b66\u200b\u7269\u7406\u5b66\u5bb6\u200b\u534f\u4f1a\u200b\uff09\u200b\u662f\u200b\u4e13\u6709\u540d\u8bcd\u200b\uff0c\u200b\u9700\u8981\u200b\u5927\u5199\u200b\u3002\n\n\u201conline transaction processing\u201d\uff08\u200b\u5728\u7ebf\u200b\u4e8b\u52a1\u5904\u7406\u200b\uff09\u200b\u4e0d\u662f\u200b\u4e13\u6709\u540d\u8bcd\u200b\uff0c\u200b\u4e0d\u200b\u5e94\u200b\u5927\u5199\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6bb5\u843d","title":"\u6bb5\u843d","text":"","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u539f\u5219_1","title":"\u539f\u5219","text":"<ul> <li>\u200b\u4e00\u4e2a\u200b\u6bb5\u843d\u200b\u53ea\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e3b\u9898\u200b\uff0c\u200b\u6216\u200b\u4e00\u4e2a\u200b\u4e2d\u5fc3\u200b\u53e5\u5b50\u200b\u3002</li> <li>\u200b\u6bb5\u843d\u200b\u7684\u200b\u4e2d\u5fc3\u200b\u53e5\u5b50\u200b\u653e\u5728\u200b\u6bb5\u9996\u200b\uff0c\u200b\u5bf9\u200b\u5168\u6bb5\u200b\u5185\u5bb9\u200b\u8fdb\u884c\u200b\u6982\u8ff0\u200b\u3002\u200b\u540e\u9762\u200b\u9648\u8ff0\u200b\u7684\u200b\u53e5\u5b50\u200b\u4e3a\u200b\u4e2d\u5fc3\u200b\u53e5\u5b50\u200b\u670d\u52a1\u200b\u3002</li> <li>\u200b\u4e00\u4e2a\u200b\u6bb5\u843d\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u4e03\u200b\u884c\u200b\uff0c\u200b\u6700\u4f73\u200b\u6bb5\u843d\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\u56db\u884c\u200b\u3002</li> <li>\u200b\u6bb5\u843d\u200b\u7684\u200b\u53e5\u5b50\u200b\u8bed\u6c14\u200b\u8981\u200b\u4f7f\u7528\u200b\u9648\u8ff0\u200b\u548c\u200b\u80af\u5b9a\u200b\u8bed\u6c14\u200b\uff0c\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b\u611f\u53f9\u200b\u8bed\u6c14\u200b\u3002</li> <li>\u200b\u6bb5\u843d\u200b\u4e4b\u95f4\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b\u9694\u5f00\u200b\u3002</li> <li>\u200b\u6bb5\u843d\u200b\u5f00\u5934\u200b\u4e0d\u8981\u200b\u7559\u51fa\u200b\u7a7a\u767d\u200b\u5b57\u7b26\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5f15\u7528","title":"\u5f15\u7528","text":"<p>\u200b\u5f15\u7528\u200b\u7b2c\u4e09\u65b9\u200b\u5185\u5bb9\u200b\u65f6\u200b\uff0c\u200b\u5e94\u200b\u6ce8\u660e\u200b\u51fa\u5904\u200b\u3002</p> Text Only<pre><code>One man\u2019s constant is another man\u2019s variable. \u2014 Alan Perlis\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u5168\u7bc7\u200b\u8f6c\u8f7d\u200b\uff0c\u200b\u8bf7\u200b\u5728\u200b\u5168\u6587\u200b\u5f00\u5934\u200b\u663e\u8457\u200b\u4f4d\u7f6e\u200b\u6ce8\u660e\u200b\u4f5c\u8005\u200b\u548c\u200b\u51fa\u5904\u200b\uff0c\u200b\u5e76\u200b\u94fe\u63a5\u200b\u81f3\u200b\u539f\u6587\u200b\u3002</p> Text Only<pre><code>\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u81ea\u200b WikiQuote\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u5916\u90e8\u200b\u56fe\u7247\u200b\u65f6\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5728\u200b\u56fe\u7247\u200b\u4e0b\u65b9\u200b\u6216\u200b\u6587\u672b\u200b\u6807\u660e\u200b\u6765\u6e90\u200b\u3002</p> Text Only<pre><code>\u200b\u672c\u6587\u200b\u90e8\u5206\u200b\u56fe\u7247\u200b\u6765\u81ea\u200b Wikipedia\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6570\u503c","title":"\u6570\u503c","text":"","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u534a\u89d2\u6570\u5b57","title":"\u534a\u89d2\u200b\u6570\u5b57","text":"<p>\u200b\u963f\u62c9\u4f2f\u6570\u5b57\u200b\u4e00\u5f8b\u200b\u4f7f\u7528\u200b\u534a\u89d2\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u4e0d\u5f97\u200b\u4f7f\u7528\u200b\u5168\u89d2\u200b\u5f62\u5f0f\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u8fd9\u4ef6\u200b\u5546\u54c1\u200b\u7684\u200b\u4ef7\u683c\u200b\u662f\u200b\uff11\uff10\uff10\uff10\u200b\u5143\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u8fd9\u4ef6\u200b\u5546\u54c1\u200b\u7684\u200b\u4ef7\u683c\u200b\u662f\u200b 1000 \u200b\u5143\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5343\u5206\u53f7","title":"\u5343\u5206\u53f7","text":"<p>\u200b\u6570\u503c\u200b\u4e3a\u200b\u5343\u4f4d\u200b\u4ee5\u4e0a\u200b\uff0c\u200b\u5e94\u200b\u6dfb\u52a0\u200b\u5343\u5206\u53f7\u200b\uff08\u200b\u534a\u89d2\u200b\u9017\u53f7\u200b\uff09\u3002</p> Text Only<pre><code>XXX \u200b\u516c\u53f8\u200b\u7684\u200b\u5b9e\u6536\u200b\u8d44\u672c\u200b\u4e3a\u200b \uffe51,258,000 \u200b\u4eba\u6c11\u5e01\u200b\u3002\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b 4 \u200b\u4f4d\u200b\u7684\u200b\u6570\u503c\u200b\uff0c\u200b\u5343\u5206\u53f7\u200b\u662f\u200b\u9009\u7528\u200b\u7684\u200b\uff0c\u200b\u6bd4\u5982\u200b <code>1000</code>\u200b\u548c\u200b <code>1,000</code>\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u3002\u200b\u5bf9\u4e8e\u200b 4 \u200b\u4f4d\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u6570\u503c\u200b\uff0c\u200b\u5e94\u200b\u6dfb\u52a0\u200b\u5343\u5206\u53f7\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u8d27\u5e01","title":"\u8d27\u5e01","text":"<p>\u200b\u8d27\u5e01\u200b\u5e94\u4e3a\u200b\u963f\u62c9\u4f2f\u6570\u5b57\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u6570\u5b57\u200b\u524d\u200b\u5199\u51fa\u200b\u8d27\u5e01\u200b\u7b26\u53f7\u200b\uff0c\u200b\u6216\u200b\u5728\u200b\u6570\u5b57\u200b\u540e\u200b\u5199\u51fa\u200b\u8d27\u5e01\u200b\u4e2d\u6587\u540d\u79f0\u200b\u3002</p> Text Only<pre><code>$1,000\n1,000 \u200b\u7f8e\u5143\u200b\n</code></pre> <p>\u200b\u82f1\u6587\u200b\u7684\u200b\u8d27\u5e01\u200b\u540d\u79f0\u200b\uff0c\u200b\u5efa\u8bae\u200b\u53c2\u8003\u200b\u56fd\u9645\u6807\u51c6\u200b ISO 4217\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6570\u503c\u8303\u56f4","title":"\u6570\u503c\u200b\u8303\u56f4","text":"<p>\u200b\u8868\u793a\u200b\u6570\u503c\u200b\u8303\u56f4\u200b\u65f6\u200b\uff0c\u200b\u7528\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\uff08<code>\uff5e</code>\uff09\u200b\u6216\u200b\u4e00\u200b\u5b57\u7ebf\u200b\uff08<code>\u2014</code>\uff09\u200b\u8fde\u63a5\u200b\u3002\u200b\u53c2\u89c1\u200b\u300a\u200b\u6807\u70b9\u7b26\u53f7\u200b\u300b\u200b\u4e00\u8282\u200b\u7684\u200b\u201c\u200b\u8fde\u63a5\u53f7\u200b\u201d\u200b\u90e8\u5206\u200b\u3002</p> <p>\u200b\u5e26\u6709\u200b\u5355\u4f4d\u200b\u6216\u200b\u767e\u5206\u53f7\u200b\u65f6\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u6570\u5b57\u200b\u5efa\u8bae\u200b\u90fd\u200b\u8981\u200b\u52a0\u4e0a\u200b\u5355\u4f4d\u200b\u6216\u200b\u767e\u5206\u53f7\u200b\u3002</p> Text Only<pre><code>132 kg\uff5e234 kg\n\n67%\uff5e89%\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u53d8\u5316\u7a0b\u5ea6\u7684\u8868\u793a\u6cd5","title":"\u53d8\u5316\u200b\u7a0b\u5ea6\u200b\u7684\u200b\u8868\u793a\u6cd5","text":"<p>\u200b\u6570\u5b57\u200b\u7684\u200b\u589e\u52a0\u200b\u8981\u200b\u4f7f\u7528\u200b\u201c\u200b\u589e\u52a0\u200b\u4e86\u200b\u201d\u3001\u201c\u200b\u589e\u52a0\u200b\u5230\u200b\u201d\u3002\u201c\u200b\u4e86\u200b\u201d\u200b\u8868\u793a\u200b\u589e\u91cf\u200b\uff0c\u201c\u200b\u5230\u200b\u201d\u200b\u8868\u793a\u200b\u5b9a\u91cf\u200b\u3002</p> Text Only<pre><code>\u200b\u589e\u52a0\u200b\u5230\u200b\u8fc7\u53bb\u200b\u7684\u200b\u4e24\u500d\u200b\n\uff08\u200b\u8fc7\u53bb\u200b\u4e3a\u200b\u4e00\u200b\uff0c\u200b\u73b0\u5728\u200b\u4e3a\u200b\u4e8c\u200b\uff09\n\n\u200b\u589e\u52a0\u200b\u4e86\u200b\u4e24\u500d\u200b\n\uff08\u200b\u8fc7\u53bb\u200b\u4e3a\u200b\u4e00\u200b\uff0c\u200b\u73b0\u5728\u200b\u4e3a\u200b\u4e09\u200b\uff09\n</code></pre> <p>\u200b\u6570\u5b57\u200b\u7684\u200b\u51cf\u5c11\u200b\u8981\u200b\u4f7f\u7528\u200b\u201c\u200b\u964d\u4f4e\u200b\u4e86\u200b\u201d\u3001\u201c\u200b\u964d\u4f4e\u200b\u5230\u200b\u201d\u3002\u201c\u200b\u4e86\u200b\u201d\u200b\u8868\u793a\u200b\u589e\u91cf\u200b\uff0c\u201c\u200b\u5230\u200b\u201d\u200b\u8868\u793a\u200b\u5b9a\u91cf\u200b\u3002</p> Text Only<pre><code>\u200b\u964d\u4f4e\u200b\u5230\u200b\u767e\u5206\u4e4b\u516b\u5341\u200b\n\uff08\u200b\u5b9a\u989d\u200b\u662f\u200b\u4e00\u767e\u200b\uff0c\u200b\u73b0\u5728\u200b\u662f\u200b\u516b\u5341\u200b\uff09\n\n\u200b\u964d\u4f4e\u200b\u4e86\u200b\u767e\u5206\u4e4b\u516b\u5341\u200b\n\uff08\u200b\u539f\u6765\u200b\u662f\u200b\u4e00\u767e\u200b\uff0c\u200b\u73b0\u5728\u200b\u662f\u200b\u4e8c\u5341\u200b\uff09\n</code></pre> <p>\u200b\u4e0d\u80fd\u200b\u7528\u200b\u201c\u200b\u964d\u4f4e\u200b N \u200b\u500d\u200b\u201d\u200b\u6216\u200b\u201c\u200b\u51cf\u5c11\u200b N \u200b\u500d\u200b\u201d\u200b\u7684\u200b\u8868\u793a\u6cd5\u200b\uff0c\u200b\u8981\u200b\u7528\u200b\u201c\u200b\u964d\u4f4e\u200b\u767e\u5206\u4e4b\u51e0\u200b\u201d\u200b\u6216\u200b\u201c\u200b\u51cf\u5c11\u200b\u767e\u5206\u4e4b\u51e0\u200b\u201d\u3002\u200b\u56e0\u4e3a\u200b\u51cf\u5c11\u200b\uff08\u200b\u6216\u200b\u964d\u4f4e\u200b\uff09\u200b\u4e00\u500d\u200b\u8868\u793a\u200b\u6570\u503c\u200b\u539f\u6765\u200b\u4e3a\u200b\u4e00\u767e\u200b\uff0c\u200b\u73b0\u5728\u200b\u7b49\u4e8e\u96f6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6807\u70b9\u7b26\u53f7","title":"\u6807\u70b9\u7b26\u53f7","text":"","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u539f\u5219_2","title":"\u539f\u5219","text":"<p>\uff081\uff09\u200b\u4e2d\u6587\u200b\u8bed\u53e5\u200b\u7684\u200b\u6807\u70b9\u7b26\u53f7\u200b\uff0c\u200b\u5747\u200b\u5e94\u8be5\u200b\u91c7\u53d6\u200b\u5168\u89d2\u200b\u7b26\u53f7\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u4e0e\u200b\u5168\u89d2\u200b\u6587\u5b57\u200b\u4fdd\u6301\u200b\u89c6\u89c9\u200b\u7684\u200b\u4e00\u81f4\u200b\u3002</p> <p>\uff082\uff09\u200b\u5982\u679c\u200b\u6574\u53e5\u200b\u4e3a\u200b\u82f1\u6587\u200b\uff0c\u200b\u5219\u200b\u8be5\u200b\u53e5\u200b\u4f7f\u7528\u200b\u82f1\u6587\u200b/\u200b\u534a\u89d2\u200b\u6807\u70b9\u200b\u3002</p> <p>\uff083\uff09\u200b\u53e5\u53f7\u200b\u3001\u200b\u95ee\u53f7\u200b\u3001\u200b\u53f9\u200b\u53f7\u200b\u3001\u200b\u9017\u53f7\u200b\u3001\u200b\u987f\u53f7\u200b\u3001\u200b\u5206\u53f7\u200b\u548c\u200b\u5192\u53f7\u200b\u4e0d\u5f97\u200b\u51fa\u73b0\u200b\u5728\u200b\u4e00\u884c\u200b\u4e4b\u200b\u9996\u200b\u3002</p> <p>\uff084\uff09\u200b\u70b9\u200b\u53f7\u200b\uff08\u200b\u53e5\u53f7\u200b\u3001\u200b\u9017\u53f7\u200b\u3001\u200b\u987f\u53f7\u200b\u3001\u200b\u5206\u200b\u53f7\u200b\u3001\u200b\u5192\u53f7\u200b\uff09\u200b\u4e0d\u5f97\u200b\u51fa\u73b0\u200b\u5728\u200b\u6807\u9898\u200b\u7684\u200b\u672b\u5c3e\u200b\uff0c\u200b\u800c\u200b\u6807\u53f7\u200b\uff08\u200b\u5f15\u53f7\u200b\u3001\u200b\u62ec\u53f7\u200b\u3001\u200b\u7834\u6298\u53f7\u200b\u3001\u200b\u7701\u7565\u53f7\u200b\u3001\u200b\u4e66\u540d\u53f7\u200b\u3001\u200b\u7740\u91cd\u53f7\u200b\u3001\u200b\u95f4\u9694\u53f7\u200b\u3001\u200b\u53f9\u200b\u53f7\u200b\u3001\u200b\u95ee\u53f7\u200b\uff09\u200b\u53ef\u4ee5\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u53e5\u53f7","title":"\u53e5\u53f7","text":"<p>\uff081\uff09\u200b\u4e2d\u6587\u200b\u8bed\u53e5\u200b\u7684\u200b\u7ed3\u5c3e\u5904\u200b\u5e94\u8be5\u200b\u7528\u200b\u5168\u89d2\u200b\u53e5\u53f7\u200b\uff08<code>\u3002</code>\uff09\u3002</p> <p>\uff082\uff09\u200b\u53e5\u5b50\u200b\u672b\u5c3e\u200b\u7528\u200b\u62ec\u53f7\u200b\u52a0\u6ce8\u200b\u65f6\u200b\uff0c\u200b\u53e5\u53f7\u200b\u5e94\u200b\u5728\u200b\u62ec\u53f7\u200b\u4e4b\u5916\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u5173\u4e8e\u200b\u6587\u4ef6\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u8bf7\u200b\u53c2\u7167\u200b\u7b2c\u200b 1.3 \u200b\u8282\u200b\uff08\u200b\u89c1\u200b\u7b2c\u200b 26 \u200b\u9875\u200b\u3002\uff09\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u5173\u4e8e\u200b\u6587\u4ef6\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u8bf7\u200b\u53c2\u7167\u200b\u7b2c\u200b 1.3 \u200b\u8282\u200b\uff08\u200b\u89c1\u200b\u7b2c\u200b 26 \u200b\u9875\u200b\uff09\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u9017\u53f7","title":"\u9017\u53f7","text":"<p>\uff081\uff09\u200b\u9017\u53f7\u200b\uff08<code>\uff0c</code>\uff09\u200b\u8868\u793a\u200b\u53e5\u5b50\u200b\u5185\u90e8\u200b\u7684\u200b\u4e00\u822c\u6027\u200b\u505c\u987f\u200b\u3002</p> <p>\uff082\uff09\u200b\u6ce8\u610f\u200b\u907f\u514d\u200b\u201c\u200b\u4e00\u9017\u200b\u5230\u5e95\u200b\u201d\uff0c\u200b\u5373\u200b\u6574\u4e2a\u200b\u6bb5\u843d\u200b\u9664\u4e86\u200b\u7ed3\u5c3e\u200b\uff0c\u200b\u5168\u90e8\u200b\u505c\u987f\u200b\u90fd\u200b\u4f7f\u7528\u200b\u9017\u53f7\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u987f\u53f7","title":"\u987f\u53f7","text":"<p>\uff081\uff09\u200b\u53e5\u5b50\u200b\u5185\u90e8\u200b\u7684\u200b\u5e76\u5217\u200b\u8bcd\u200b\uff0c\u200b\u5e94\u8be5\u200b\u7528\u200b\u5168\u89d2\u200b\u987f\u53f7\u200b (<code>\u3001</code>) \u200b\u5206\u9694\u200b\uff0c\u200b\u800c\u200b\u4e0d\u7528\u200b\u9017\u53f7\u200b\uff0c\u200b\u5373\u4f7f\u200b\u5e76\u5217\u200b\u8bcd\u662f\u200b\u82f1\u8bed\u200b\u4e5f\u200b\u662f\u200b\u5982\u6b64\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u6211\u200b\u6700\u200b\u6b23\u8d4f\u200b\u7684\u200b\u79d1\u6280\u200b\u516c\u53f8\u200b\u6709\u200b Google, Facebook, \u200b\u817e\u8baf\u200b\uff0c\u200b\u963f\u91cc\u200b\u548c\u200b\u767e\u5ea6\u200b\u7b49\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u6211\u200b\u6700\u200b\u6b23\u8d4f\u200b\u7684\u200b\u79d1\u6280\u200b\u516c\u53f8\u200b\u6709\u200b Google\u3001Facebook\u3001\u200b\u817e\u8baf\u200b\u3001\u200b\u963f\u91cc\u200b\u548c\u200b\u767e\u5ea6\u200b\u7b49\u200b\u3002\n</code></pre> <p>\uff082\uff09\u200b\u82f1\u6587\u200b\u53e5\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u5217\u200b\u8bcd\u8bed\u200b\u4e4b\u95f4\u200b\u4f7f\u7528\u200b\u534a\u89d2\u200b\u9017\u53f7\u200b\uff08<code>,</code>\uff09\u200b\u5206\u9694\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1aMicrosoft Office includes Word, Excel, PowerPoint, Outlook and other components.\n</code></pre> <p>\uff083\uff09\u200b\u4e2d\u6587\u200b\u53e5\u5b50\u200b\u5185\u90e8\u200b\u7684\u200b\u5e76\u5217\u200b\u8bcd\u200b\uff0c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\uff08<code>\u200b\u548c\u200b</code>\uff09\u200b\u6765\u200b\u8fde\u63a5\u200b\uff0c\u200b\u4f7f\u200b\u53e5\u5b50\u200b\u8bfb\u200b\u8d77\u6765\u200b\u66f4\u52a0\u200b\u8fde\u8d2f\u200b\uff0c\u200b\u4e0b\u9762\u200b\u4e24\u4e2a\u200b\u53e5\u5b50\u200b\u90fd\u200b\u53ef\u4ee5\u200b\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u66f4\u4f18\u200b\u3002</p> Text Only<pre><code>\u200b\u6b63\u786e\u200b\uff1a\u200b\u6211\u200b\u6700\u200b\u6b23\u8d4f\u200b\u7684\u200b\u79d1\u6280\u200b\u516c\u53f8\u200b\u6709\u200b Google\u3001Facebook\u3001\u200b\u817e\u8baf\u200b\u3001\u200b\u963f\u91cc\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u767e\u5ea6\u200b\u7b49\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u6211\u200b\u6700\u200b\u6b23\u8d4f\u200b\u7684\u200b\u79d1\u6280\u200b\u516c\u53f8\u200b\u6709\u200b Google\u3001Facebook\u3001\u200b\u817e\u8baf\u200b\u3001\u200b\u963f\u91cc\u200b\u548c\u200b\u767e\u5ea6\u200b\u7b49\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5206\u53f7","title":"\u5206\u200b\u53f7","text":"<p>\uff081\uff09\u200b\u5206\u200b\u53f7\u200b\uff08<code>\uff1b</code>\uff09\u200b\u8868\u793a\u200b\u590d\u53e5\u200b\u5185\u90e8\u200b\u5e76\u5217\u200b\u5206\u53e5\u200b\u4e4b\u95f4\u200b\u7684\u200b\u505c\u987f\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5f15\u53f7","title":"\u5f15\u53f7","text":"<p>\uff081\uff09\u200b\u5f15\u7528\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u5168\u89d2\u200b\u53cc\u5f15\u53f7\u200b\uff08<code>\u201c \u201d</code>\uff09\uff0c\u200b\u6ce8\u610f\u200b\u524d\u540e\u200b\u53cc\u5f15\u53f7\u200b\u4e0d\u540c\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u8bb8\u591a\u200b\u4eba\u200b\u90fd\u200b\u8ba4\u4e3a\u200b\u5ba2\u6237\u670d\u52a1\u200b\u7684\u200b\u6838\u5fc3\u200b\u662f\u200b\u201c\u200b\u53cb\u597d\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u4e13\u4e1a\u200b\u201d\u3002\n</code></pre> <p>\uff082\uff09\u200b\u5f15\u53f7\u200b\u91cc\u9762\u200b\u8fd8\u8981\u200b\u7528\u200b\u5f15\u53f7\u200b\u65f6\u200b\uff0c\u200b\u5916\u9762\u200b\u4e00\u5c42\u200b\u7528\u200b\u53cc\u5f15\u53f7\u200b\uff0c\u200b\u91cc\u9762\u200b\u4e00\u5c42\u200b\u7528\u200b\u5355\u5f15\u53f7\u200b\uff08<code>\u2018 \u2019</code>\uff09\uff0c\u200b\u6ce8\u610f\u200b\u524d\u540e\u200b\u5355\u5f15\u53f7\u200b\u4e0d\u540c\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u9c8d\u52c3\u200b\u89e3\u91ca\u200b\u9053\u200b\uff1a\u201c\u200b\u6211\u8981\u200b\u653e\u200b\u97f3\u4e50\u200b\uff0c\u200b\u53ef\u8428\u5229\u200b\u8bf4\u200b\uff0c\u2018\u200b\u4e0d\u884c\u200b\uff01\u2019\u3002\u201d\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u62ec\u53f7","title":"\u62ec\u53f7","text":"<p>\uff081\uff09\u200b\u8865\u5145\u200b\u8bf4\u660e\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5168\u89d2\u200b\u5706\u62ec\u53f7\u200b\uff08<code>\uff08\uff09</code>\uff09\uff0c\u200b\u62ec\u53f7\u200b\u524d\u540e\u200b\u4e0d\u200b\u52a0\u200b\u7a7a\u683c\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u8bf7\u200b\u786e\u8ba4\u200b\u6240\u6709\u200b\u7684\u200b\u8fde\u63a5\u200b\uff08\u200b\u7535\u7f06\u200b\u548c\u200b\u63a5\u63d2\u4ef6\u200b\uff09\u200b\u5747\u200b\u5b89\u88c5\u200b\u7262\u56fa\u200b\u3002\n</code></pre> <p>\uff082\uff09\u200b\u51e0\u79cd\u200b\u62ec\u53f7\u200b\u7684\u200b\u4e2d\u200b\u82f1\u6587\u540d\u79f0\u200b\u3002</p> \u200b\u82f1\u6587\u200b \u200b\u4e2d\u6587\u200b <code>{ }</code> braces \u200b\u6216\u200b curly brackets \u200b\u5927\u62ec\u53f7\u200b <code>[ ]</code> square brackets \u200b\u6216\u200b brackets \u200b\u65b9\u62ec\u53f7\u200b <code>&lt; &gt;</code> angled brackets \u200b\u5c16\u62ec\u53f7\u200b <code>( )</code> parentheses \u200b\u5706\u62ec\u53f7","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u5192\u53f7","title":"\u5192\u53f7","text":"<p>\uff081\uff09\u200b\u5168\u89d2\u200b\u5192\u53f7\u200b\uff08<code>\uff1a</code>\uff09\u200b\u5e38\u7528\u200b\u5728\u200b\u9700\u8981\u200b\u89e3\u91ca\u200b\u7684\u200b\u8bcd\u8bed\u200b\u540e\u8fb9\u200b\uff0c\u200b\u5f15\u51fa\u200b\u89e3\u91ca\u200b\u548c\u200b\u8bf4\u660e\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u8bf7\u200b\u786e\u8ba4\u200b\u4ee5\u4e0b\u200b\u51e0\u9879\u200b\u5185\u5bb9\u200b\uff1a\u200b\u65f6\u95f4\u200b\u3001\u200b\u5730\u70b9\u200b\u3001\u200b\u6d3b\u52a8\u200b\u540d\u79f0\u200b\u548c\u200b\u6765\u5bbe\u200b\u6570\u91cf\u200b\u3002\n</code></pre> <p>\uff082\uff09\u200b\u8868\u793a\u200b\u65f6\u95f4\u200b\u65f6\u200b\uff0c\u200b\u5e94\u200b\u4f7f\u7528\u200b\u534a\u89d2\u200b\u5192\u53f7\u200b\uff08<code>:</code>\uff09\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u65e9\u4e0a\u200b 8:00\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u7701\u7565\u53f7","title":"\u7701\u7565\u53f7","text":"<p>\uff081\uff09\u200b\u7701\u7565\u53f7\u200b\uff08<code>\u22ef\u22ef</code>\uff09\u200b\u8868\u793a\u200b\u8bed\u53e5\u200b\u672a\u200b\u5b8c\u200b\u3001\u200b\u6216\u8005\u200b\u8bed\u6c14\u200b\u7684\u200b\u4e0d\u200b\u8fde\u7eed\u200b\u3002</p> <p>\uff082\uff09\u200b\u7701\u7565\u53f7\u200b\u5360\u200b\u4e24\u4e2a\u200b\u6c49\u5b57\u200b\u7a7a\u95f4\u200b\u3001\u200b\u5305\u542b\u200b\u516d\u4e2a\u200b\u7701\u7565\u200b\u70b9\u200b\uff0c\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b <code>\u3002</code>\u200b\u6216\u200b <code>...</code>\u200b\u7b49\u200b\u975e\u6807\u51c6\u200b\u5f62\u5f0f\u200b\u3002</p> <p>\uff083\uff09\u200b\u7701\u7565\u53f7\u200b\u4e0d\u5e94\u200b\u4e0e\u200b\u201c\u200b\u7b49\u200b\u201d\u200b\u8fd9\u4e2a\u200b\u8bcd\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u6211\u4eec\u200b\u4e3a\u200b\u4f1a\u9910\u200b\u51c6\u5907\u200b\u4e86\u200b\u9999\u8549\u200b\u3001\u200b\u82f9\u679c\u200b\u3001\u200b\u68a8\u200b\u2026\u200b\u7b49\u200b\u5404\u8272\u200b\u6c34\u679c\u200b\u3002\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u6211\u4eec\u200b\u4e3a\u200b\u4f1a\u9910\u200b\u51c6\u5907\u200b\u4e86\u200b\u5404\u8272\u200b\u6c34\u679c\u200b\uff0c\u200b\u6709\u200b\u9999\u8549\u200b\u3001\u200b\u82f9\u679c\u200b\u3001\u200b\u68a8\u200b\u22ef\u22ef\n\n\u200b\u6b63\u786e\u200b\uff1a\u200b\u6211\u4eec\u200b\u4e3a\u200b\u4f1a\u9910\u200b\u51c6\u5907\u200b\u4e86\u200b\u9999\u8549\u200b\u3001\u200b\u82f9\u679c\u200b\u3001\u200b\u68a8\u200b\u7b49\u200b\u5404\u8272\u200b\u6c34\u679c\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u611f\u53f9\u53f7","title":"\u611f\u53f9\u53f7","text":"<p>\uff081\uff09\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u5e73\u9759\u200b\u7684\u200b\u8bed\u6c14\u200b\u53d9\u8ff0\u200b\uff0c\u200b\u5c3d\u91cf\u907f\u514d\u200b\u4f7f\u7528\u200b\u611f\u53f9\u53f7\u200b\uff08<code>\uff01</code>\uff09\u3002</p> <p>\uff082\uff09\u200b\u4e0d\u5f97\u200b\u591a\u4e2a\u200b\u611f\u53f9\u53f7\u200b\u8fde\u7528\u200b\uff0c\u200b\u6bd4\u5982\u200b <code>\uff01\uff01</code>\u200b\u548c\u200b <code>!!!</code>\u3002</p>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u7834\u6298\u53f7","title":"\u7834\u6298\u53f7","text":"<p>\uff081\uff09\u200b\u7834\u6298\u53f7\u200b <code>\u2014\u2014\u2014\u2014</code>\u200b\u4e00\u822c\u200b\u7528\u4e8e\u200b\u8fdb\u4e00\u6b65\u200b\u89e3\u91ca\u200b\u3002</p> <p>\uff082\uff09\u200b\u7834\u6298\u53f7\u200b\u5e94\u200b\u5360\u200b\u4e24\u4e2a\u200b\u6c49\u5b57\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u5982\u679c\u200b\u7834\u6298\u53f7\u200b\u672c\u8eab\u200b\u53ea\u200b\u5360\u200b\u4e00\u4e2a\u200b\u6c49\u5b57\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u90a3\u4e48\u200b\u524d\u540e\u200b\u5e94\u8be5\u200b\u7559\u51fa\u200b\u4e00\u4e2a\u534a\u200b\u89d2\u200b\u7a7a\u683c\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u76f4\u89c9\u200b\u2014\u2014\u2014\u2014\u200b\u5c3d\u7ba1\u200b\u5b83\u200b\u5e76\u200b\u4e0d\u200b\u603b\u662f\u200b\u53ef\u9760\u200b\u7684\u200b\u2014\u2014\u2014\u2014\u200b\u544a\u8bc9\u200b\u6211\u200b\uff0c\u200b\u8fd9\u200b\u4e8b\u200b\u53ef\u80fd\u200b\u51fa\u200b\u4e86\u200b\u4e9b\u200b\u95ee\u9898\u200b\u3002\n\n\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u76f4\u89c9\u200b \u2014\u2014 \u200b\u5c3d\u7ba1\u200b\u5b83\u200b\u5e76\u200b\u4e0d\u200b\u603b\u662f\u200b\u53ef\u9760\u200b\u7684\u200b \u2014\u2014 \u200b\u544a\u8bc9\u200b\u6211\u200b\uff0c\u200b\u8fd9\u200b\u4e8b\u200b\u53ef\u80fd\u200b\u51fa\u200b\u4e86\u200b\u4e9b\u200b\u95ee\u9898\u200b\u3002\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u8fde\u63a5\u53f7","title":"\u8fde\u63a5\u53f7","text":"<p>\uff081\uff09\u200b\u8fde\u63a5\u53f7\u200b\u7528\u4e8e\u200b\u8fde\u63a5\u200b\u4e24\u4e2a\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u8bcd\u200b\u3002</p> <p>\uff082\uff09\u200b\u4ee5\u4e0b\u200b\u573a\u5408\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u76f4\u7ebf\u200b\u8fde\u63a5\u53f7\u200b\uff08<code>-</code>\uff09\uff0c\u200b\u5360\u200b\u4e00\u4e2a\u534a\u200b\u89d2\u200b\u5b57\u7b26\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p> <ul> <li>\u200b\u4e24\u4e2a\u200b\u540d\u8bcd\u200b\u7684\u200b\u590d\u5408\u200b</li> <li>\u200b\u56fe\u8868\u200b\u7f16\u53f7\u200b</li> </ul> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u6c27\u5316\u200b-\u200b\u8fd8\u539f\u200b\u53cd\u5e94\u200b\n\n\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u56fe\u200b 1-1\n</code></pre> <p>\uff083\uff09\u200b\u6570\u503c\u200b\u8303\u56f4\u200b\uff08\u200b\u4f8b\u5982\u200b\u65e5\u671f\u200b\u3001\u200b\u65f6\u95f4\u200b\u6216\u200b\u6570\u5b57\u200b\uff09\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u6ce2\u6d6a\u200b\u8fde\u63a5\u53f7\u200b\uff08<code>\uff5e</code>\uff09\u200b\u6216\u200b\u4e00\u200b\u5b57\u53f7\u200b\uff08<code>\u2014</code>\uff09\uff0c\u200b\u5360\u200b\u4e00\u4e2a\u200b\u5168\u89d2\u5b57\u200b\u7b26\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a2009 \u200b\u5e74\u200b\uff5e2011 \u200b\u5e74\u200b\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6ce2\u6d6a\u200b\u8fde\u63a5\u53f7\u200b\u524d\u540e\u200b\u4e24\u4e2a\u200b\u503c\u200b\u90fd\u200b\u5efa\u8bae\u200b\u52a0\u4e0a\u200b\u5355\u4f4d\u200b\u3002</p> <p>\uff084\uff09\u200b\u6ce2\u6d6a\u200b\u8fde\u63a5\u53f7\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6c49\u5b57\u200b\u201c\u200b\u81f3\u200b\u201d\u200b\u4ee3\u66ff\u200b\u3002</p> Text Only<pre><code>\u200b\u4f8b\u53e5\u200b\uff1a\u200b\u5468\u56f4\u200b\u6e29\u5ea6\u200b\uff1a-20 \u00b0C \u200b\u81f3\u200b -10 \u00b0C\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6587\u6863\u4f53\u7cfb","title":"\u6587\u6863\u200b\u4f53\u7cfb","text":"","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u7ed3\u6784","title":"\u7ed3\u6784","text":"<p>\u200b\u8f6f\u4ef6\u200b\u624b\u518c\u200b\u662f\u200b\u4e00\u90e8\u200b\u5b8c\u6574\u200b\u7684\u200b\u4e66\u200b\uff0c\u200b\u5efa\u8bae\u200b\u91c7\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u7ed3\u6784\u200b\u3002</p> <ul> <li>\u200b\u7b80\u4ecb\u200b\uff08Introduction\uff09\uff1a[\u200b\u5fc5\u5907\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u63d0\u4f9b\u200b\u5bf9\u200b\u4ea7\u54c1\u200b\u548c\u200b\u6587\u6863\u200b\u672c\u8eab\u200b\u7684\u200b\u603b\u4f53\u200b\u7684\u200b\u3001\u200b\u627c\u8981\u200b\u7684\u200b\u8bf4\u660e\u200b</li> <li>\u200b\u5feb\u901f\u200b\u4e0a\u200b\u624b\u200b\uff08Getting Started\uff09\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u5982\u4f55\u200b\u6700\u200b\u5feb\u901f\u200b\u5730\u200b\u4f7f\u7528\u200b\u4ea7\u54c1\u200b</li> <li>\u200b\u5165\u95e8\u7bc7\u200b\uff08Basics\uff09\uff1a[\u200b\u5fc5\u5907\u200b] [\u200b\u76ee\u5f55\u200b] \u200b\u53c8\u79f0\u200b\u201c\u200b\u4f7f\u7528\u200b\u7bc7\u200b\u201d\uff0c\u200b\u63d0\u4f9b\u200b\u521d\u7ea7\u200b\u7684\u200b\u4f7f\u7528\u200b\u6559\u7a0b\u200b</li> <li>\u200b\u73af\u5883\u200b\u51c6\u5907\u200b\uff08Prerequisite\uff09\uff1a[\u200b\u5fc5\u5907\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u8f6f\u4ef6\u200b\u4f7f\u7528\u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b\u7684\u200b\u524d\u7f6e\u6761\u4ef6\u200b</li> <li>\u200b\u5b89\u88c5\u200b\uff08Installation\uff09\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u8f6f\u4ef6\u200b\u7684\u200b\u5b89\u88c5\u200b\u65b9\u6cd5\u200b</li> <li>\u200b\u8bbe\u7f6e\u200b\uff08Configuration\uff09\uff1a[\u200b\u5fc5\u5907\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u8f6f\u4ef6\u200b\u7684\u200b\u8bbe\u7f6e\u200b</li> <li>\u200b\u8fdb\u9636\u7bc7\u200b\uff08Advanced)\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u76ee\u5f55\u200b] \u200b\u53c8\u79f0\u200b\u201c\u200b\u5f00\u53d1\u200b\u7bc7\u200b\u201d\uff0c\u200b\u63d0\u4f9b\u200b\u4e2d\u9ad8\u7ea7\u200b\u7684\u200b\u5f00\u53d1\u200b\u6559\u7a0b\u200b</li> <li>API\uff08Reference\uff09\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u76ee\u5f55\u200b | \u200b\u6587\u4ef6\u200b] \u200b\u8f6f\u4ef6\u200b API \u200b\u7684\u200b\u9010\u4e00\u200b\u4ecb\u7ecd\u200b</li> <li>FAQ\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u5e38\u89c1\u200b\u95ee\u9898\u89e3\u7b54\u200b</li> <li>\u200b\u9644\u5f55\u200b\uff08Appendix\uff09\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u76ee\u5f55\u200b] \u200b\u4e0d\u200b\u5c5e\u4e8e\u200b\u6559\u7a0b\u200b\u672c\u8eab\u200b\u3001\u200b\u4f46\u200b\u5bf9\u200b\u9605\u8bfb\u200b\u6559\u7a0b\u200b\u6709\u200b\u5e2e\u52a9\u200b\u7684\u200b\u5185\u5bb9\u200b</li> <li>Glossary\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u540d\u8bcd\u89e3\u91ca\u200b</li> <li>Recipes\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b</li> <li>Troubleshooting\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u6545\u969c\u200b\u5904\u7406\u200b</li> <li>ChangeLog\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u7248\u672c\u200b\u8bf4\u660e\u200b</li> <li>Feedback\uff1a[\u200b\u53ef\u200b\u9009\u200b] [\u200b\u6587\u4ef6\u200b] \u200b\u53cd\u9988\u200b\u65b9\u5f0f\u200b</li> </ul> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e24\u4e2a\u200b\u771f\u5b9e\u200b\u8303\u4f8b\u200b\uff0c\u200b\u53ef\u200b\u53c2\u8003\u200b\u3002</p> <ul> <li>Redux \u200b\u624b\u518c\u200b</li> <li>Atom \u200b\u624b\u518c\u200b</li> </ul>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u6587\u4ef6\u540d","title":"\u6587\u4ef6\u540d","text":"<p>\u200b\u6587\u6863\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u4e0d\u5f97\u200b\u542b\u6709\u200b\u7a7a\u683c\u200b\u3002</p> <p>\u200b\u6587\u4ef6\u540d\u200b\u5fc5\u987b\u200b\u4f7f\u7528\u200b\u534a\u89d2\u200b\u5b57\u7b26\u200b\uff0c\u200b\u4e0d\u5f97\u200b\u4f7f\u7528\u200b\u5168\u89d2\u5b57\u200b\u7b26\u200b\u3002\u200b\u8fd9\u200b\u4e5f\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u4e2d\u6587\u200b\u4e0d\u80fd\u200b\u7528\u4e8e\u200b\u6587\u4ef6\u540d\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1a\u200b\u540d\u8bcd\u89e3\u91ca\u200b\u3002md\n\n\u200b\u6b63\u786e\u200b\uff1aglossary.md\n</code></pre> <p>\u200b\u6587\u4ef6\u540d\u200b\u5efa\u8bae\u200b\u53ea\u200b\u4f7f\u7528\u200b\u5c0f\u5199\u5b57\u6bcd\u200b\uff0c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u5927\u5199\u5b57\u6bcd\u200b\u3002</p> Text Only<pre><code>\u200b\u9519\u8bef\u200b\uff1aTroubleShooting.md\n\n\u200b\u6b63\u786e\u200b\uff1atroubleshooting.md\n</code></pre> <p>\u200b\u4e3a\u4e86\u200b\u9192\u76ee\u200b\uff0c\u200b\u67d0\u4e9b\u200b\u8bf4\u660e\u200b\u6587\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5927\u5199\u5b57\u6bcd\u200b\uff0c\u200b\u6bd4\u5982\u200b <code>README</code>\u3001<code>LICENSE</code>\u3002</p> <p>\u200b\u6587\u4ef6\u540d\u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u5355\u8bcd\u200b\u65f6\u200b\uff0c\u200b\u5355\u8bcd\u200b\u4e4b\u95f4\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u534a\u89d2\u200b\u7684\u200b\u8fde\u8bcd\u200b\u7ebf\u200b\uff08<code>-</code>\uff09\u200b\u5206\u9694\u200b\u3002</p> Text Only<pre><code>\u200b\u4e0d\u4f73\u200b\uff1aadvanced_usage.md\n\n\u200b\u6b63\u786e\u200b\uff1aadvanced-usage.md\n</code></pre>","tags":["Computer Science"]},{"location":"blog/document-style-guide/#\u53c2\u8003\u94fe\u63a5","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<ul> <li>\u200b\u4ea7\u54c1\u200b\u624b\u518c\u200b\u4e2d\u6587\u200b\u5199\u4f5c\u200b\u89c4\u8303\u200b, by \u200b\u534e\u4e3a\u200b</li> <li>\u200b\u5199\u4f5c\u200b\u89c4\u8303\u200b\u548c\u200b\u683c\u5f0f\u200b\u89c4\u8303\u200b, by DaoCloud</li> <li>\u200b\u6280\u672f\u200b\u5199\u4f5c\u6280\u5de7\u200b\u5728\u200b\u65e5\u6c49\u200b\u7ffb\u8bd1\u200b\u4e2d\u200b\u7684\u200b\u5e94\u7528\u200b, by \u200b\u5218\u65b9\u200b</li> <li>\u200b\u7b80\u4f53\u4e2d\u6587\u200b\u89c4\u8303\u200b\u6307\u5357\u200b, by lengoo</li> <li>\u200b\u6587\u6863\u200b\u98ce\u683c\u200b\u6307\u5357\u200b, by LeanCloud</li> <li>\u200b\u8c4c\u8c46\u835a\u200b\u6587\u6848\u200b\u98ce\u683c\u200b\u6307\u5357\u200b, by \u200b\u8c4c\u8c46\u835a\u200b</li> <li>\u200b\u4e2d\u6587\u200b\u6587\u6848\u200b\u6392\u7248\u200b\u6307\u5317\u200b, by sparanoid</li> <li>\u200b\u4e2d\u6587\u200b\u6392\u7248\u200b\u9700\u6c42\u200b, by W3C</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u6587\u4ef6\u540d\u200b\u8981\u200b\u5c0f\u5199\u200b\uff1f, by \u200b\u962e\u200b\u4e00\u5cf0\u200b</li> <li>Google Developer Documentation Style Guide, by Google</li> <li>\u200b\u51fa\u7248\u7269\u200b\u4e0a\u200b\u6570\u5b57\u200b\u7528\u6cd5\u200b\u7684\u200b\u89c4\u5b9a\u200b\uff08\u200b\u56fd\u5bb6\u6807\u51c6\u200b GBT15835\uff0d2011\uff09</li> <li>GB 3100-1993 \u200b\u56fd\u9645\u200b\u5355\u4f4d\u5236\u200b\u53ca\u5176\u200b\u5e94\u7528\u200b</li> </ul>","tags":["Computer Science"]},{"location":"blog/rolling-in-python/","title":"Python \u200b\u5b9e\u73b0\u200b\u591a\u5217\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u2014\u2014\u200b\u4ee5\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u4f8b","text":"<p>\u200b\u5bf9\u200b\u5355\u5217\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5e38\u89c4\u200b\u7684\u200b<code>.rolling()</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5bf9\u200b\u591a\u5217\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u4e0b\u9762\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li>\u200b\u5f15\u5165\u200b\u5916\u90e8\u200b\u5305\u200b<code>numpy_ext</code>\uff0c\u200b\u4f7f\u7528\u200b\u5176\u4e2d\u200b\u7684\u200b<code>rollling_apply()</code>\u200b\u65b9\u6cd5\u200b\u3002</li> <li>\u200b\u5728\u200b<code>.rolling()</code>\u200b\u4e2d\u200b\u52a0\u5165\u200b\u53c2\u6570\u200b<code>method='table'</code>\u3002</li> </ol> <p>\u200b\u672c\u6587\u200b\u4ee5\u200b\u65b9\u6b63\u200b\u91d1\u5de5\u200b\u53d1\u8868\u200b\u7684\u200b\u4e00\u7bc7\u200b\u7814\u62a5\u200b\u4e2d\u200b\u63d0\u51fa\u200b\u7684\u200b\u8ba1\u7b97\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u5bf9\u200b\u591a\u5217\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u200b\u4e0a\u8ff0\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u603b\u7ed3\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li><code>numpy_ext.rollling_apply()</code>\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u5916\u90e8\u200b\u5305\u200b<code>numpy_ext</code>\uff0c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u63a5\u53d7\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u7684\u200b\u591a\u4e2a\u200b Series\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u3002</li> <li><code>.rolling(method='table')</code>\u200b\u662f\u200b Pandas \u200b\u5185\u7f6e\u200b\u7684\u200b\u51fd\u6570\u200b\uff08\u200b\u9700\u8981\u200b\u5347\u7ea7\u200b\u5230\u200b\u8f83\u200b\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\uff09\uff0c\u200b\u6307\u5b9a\u200b<code>method='table'</code>\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u6570\u636e\u200b\u6846\u4e2d\u200b\u7684\u200b\u591a\u5217\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u3002\u200b\u82e5\u200b\u8fd4\u56de\u200b\u7684\u200b\u591a\u5217\u200b\u7ed3\u679c\u200b\u76f8\u540c\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u53d6\u51fa\u200b\u5176\u4e2d\u200b\u4e00\u5217\u200b\u5373\u53ef\u200b\u3002</li> <li><code>.rolling(method='table')</code>\u200b\u4f7f\u7528\u200b\u4e86\u200b<code>engine='numba'</code>\uff0c\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u66f4\u200b\u5feb\u200b\u3002</li> </ol>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u66f4\u4f18\u6ce2\u52a8\u7387\u7684\u5b9a\u4e49","title":"\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u7684\u200b\u6539\u8fdb\u200b\u4e4b\u200b\u5904\u200b\u5728\u4e8e\u200b\uff0c\u200b\u5c06\u200b\u539f\u59cb\u200b\u7531\u200b\u5206\u949f\u200b\u6536\u76d8\u4ef7\u200b\u6765\u200b\u8ba1\u7b97\u200b\u6807\u51c6\u5dee\u200b\uff0c\u200b\u6539\u4e3a\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b\u5206\u949f\u200b\u5f00\u76d8\u4ef7\u200b\u3001\u200b\u5206\u949f\u200b\u6700\u9ad8\u4ef7\u200b\u3001\u200b\u5206\u949f\u200b\u6700\u4f4e\u4ef7\u200b\u548c\u200b\u5206\u949f\u200b\u6536\u76d8\u4ef7\u200b\u6765\u200b\u8bb0\u5f55\u200b\u8fd9\u200b\u4e00\u5206\u949f\u200b\u7684\u200b\u4ef7\u683c\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u200b\u5177\u4f53\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u4e3a\u200b\uff1a</p> <p>\u200b\u7b2c\u200b t \u200b\u5206\u949f\u200b\u7684\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u200b\uff0c\u200b\u7b2c\u200b t-4\u3001t-3\u3001t-2\u3001t-1\u3001t \u200b\u5206\u949f\u200b\u7684\u200b\u5206\u949f\u200b\u5f00\u76d8\u4ef7\u200b\u3001\u200b\u5206\u949f\u200b\u6700\u9ad8\u4ef7\u200b\u3001\u200b\u5206\u949f\u200b\u6700\u4f4e\u4ef7\u200b\u548c\u200b\u5206\u949f\u200b\u6536\u76d8\u4ef7\u200b\uff0c\u200b\u5171\u200b 20 \u200b\u4e2a\u200b\u4ef7\u683c\u200b\u6570\u636e\u200b\u6c42\u200b\u6807\u51c6\u5dee\u200b\uff0c\u200b\u7136\u540e\u200b\u9664\u4ee5\u200b\u8fd9\u200b 20 \u200b\u4e2a\u200b\u4ef7\u683c\u200b\u6570\u636e\u200b\u7684\u200b\u5747\u503c\u200b\uff0c\u200b\u6700\u540e\u200b\u5c06\u200b\u8be5\u200b\u6bd4\u503c\u200b\u53d6\u200b\u5e73\u65b9\u200b\uff0c\u200b\u4f5c\u4e3a\u200b t \u200b\u5206\u949f\u200b\u7684\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nimport akshare as ak\nfrom numpy_ext import rolling_apply\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u4f7f\u7528akshare\u83b7\u53d6\u6570\u636e","title":"\u4f7f\u7528\u200b<code>akshare</code>\u200b\u83b7\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u83b7\u53d6\u200b\u5206\u949f\u200b\u6570\u636e\u200b\ndf = ak.stock_zh_a_minute(symbol=\"sh000001\", period=\"1\")\n# \u200b\u5c06\u200b\u9664\u200b'day'\u200b\u5916\u200b\u7684\u200b\u5404\u5217\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6570\u503c\u200b\ndf = df.apply(pd.to_numeric, errors=\"ignore\")\n</code></pre> <p>\u200b\u5171\u200b\u83b7\u53d6\u200b 30000 \u200b\u6761\u200b\u5206\u949f\u200b\u9891\u200b\u6570\u636e\u200b\uff1a</p> <p></p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u4f7f\u7528numpy_ext\u8ba1\u7b97\u66f4\u4f18\u6ce2\u52a8\u7387","title":"\u4f7f\u7528\u200b<code>numpy_ext</code>\u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387","text":"","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u5b9a\u4e49\u8ba1\u7b97\u66f4\u4f18\u6ce2\u52a8\u7387\u7684\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\ndef better_volatility_numpy_ext(o, h, l, c):\n# \u200b\u5c06\u200b 4 \u200b\u5217\u200b\u6570\u636e\u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\ndata = np.array([o, h, l, c])\n# \u200b\u8ba1\u7b97\u200b 20 \u200b\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\nstd = np.std(data)\n# \u200b\u8ba1\u7b97\u200b 20 \u200b\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u5747\u503c\u200b\nmean = np.mean(data)\n# \u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\nreturn (std / mean) ** 2\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\u63a5\u53d7\u200b 4 \u200b\u4e2a\u200b Series \u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5728\u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\u5c06\u200b\u8fd9\u200b 4 \u200b\u4e2a\u200b Series \u200b\u62fc\u63a5\u200b\u6210\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\uff0c\u200b\u518d\u200b\u6309\u7167\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u7684\u200b\u8ba1\u7b97\u200b\u903b\u8f91\u200b\uff0c\u200b\u6c42\u200b\u51fa\u200b 20 \u200b\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\u548c\u200b\u5747\u503c\u200b\uff0c\u200b\u6700\u540e\u200b\u5c06\u200b\u4e24\u8005\u200b\u76f8\u9664\u200b\u518d\u200b\u5e73\u65b9\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u5e94\u7528numpy_extrollling_apply","title":"\u5e94\u7528\u200b<code>numpy_ext.rollling_apply()</code>","text":"Python<pre><code>better_volatility_using_numpy_ext = rolling_apply(\nbetter_volatility_numpy_ext, 5, df[\"open\"], df[\"high\"], df[\"low\"], df[\"close\"]\n)\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b<code>window = 5</code>\uff0c\u200b\u5373\u200b\u6eda\u52a8\u200b 5 \u200b\u5206\u949f\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <p></p> <p>\u200b\u8017\u65f6\u200b 7 \u200b\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u524d\u200b 5 \u200b\u5206\u949f\u200b\u7684\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u4e3a\u200b 1.56392876e-08\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u4f7f\u7528pandas\u5185\u7f6e\u7684rollingmethodtable\u8ba1\u7b97\u66f4\u4f18\u6ce2\u52a8\u7387","title":"\u4f7f\u7528\u200b<code>pandas</code>\u200b\u5185\u7f6e\u200b\u7684\u200b<code>.rolling(method='table')</code>\u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387","text":"","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u5b9a\u4e49\u8ba1\u7b97\u66f4\u4f18\u6ce2\u52a8\u7387\u7684\u51fd\u6570_1","title":"\u5b9a\u4e49\u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\ndef better_volatility_pandas(data):\n# \u200b\u8ba1\u7b97\u200b 20 \u200b\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u6807\u51c6\u5dee\u200b\nstd = np.std(data)\n# \u200b\u8ba1\u7b97\u200b 20 \u200b\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u5747\u503c\u200b\nmean = np.mean(data)\n# \u200b\u8ba1\u7b97\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\nreturn (std / mean) ** 2\n</code></pre> <p>\u200b\u4e0e\u200b<code>numpy_ext.rollling_apply()</code>\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7684\u200b\u51fd\u6570\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u63a5\u53d7\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u5e94\u7528rollingmethodtable","title":"\u5e94\u7528\u200b<code>.rolling(method='table')</code>","text":"Python<pre><code>better_volatility_using_pandas = (\ndf[[\"open\", \"high\", \"low\", \"close\"]]\n.rolling(5, method=\"table\")\n.apply(better_volatility_pandas, raw=True, engine=\"numba\")\n)\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b<code>window = 5</code>\uff0c\u200b\u5373\u200b\u6eda\u52a8\u200b 5 \u200b\u5206\u949f\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u8017\u65f6\u200b 3 \u200b\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u524d\u200b 5 \u200b\u5206\u949f\u200b\u7684\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u4e5f\u200b\u4e3a\u200b 1.563929e-08\u3002</p> <p>\u200b\u8fd9\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u7684\u200b\u8f93\u51fa\u200b\u662f\u200b\u51e0\u5217\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u8ba1\u7b97\u200b\u548c\u200b\u8f93\u51fa\u200b\u7684\u200b\u65f6\u5019\u200b\u548c\u200b<code>data</code>\u200b\u7684\u200b\u5f62\u72b6\u200b\u662f\u200b\u5339\u914d\u200b\u7684\u200b\uff09\uff0c\u200b\u800c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u53ea\u6709\u200b\u4e00\u5217\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u5355\u72ec\u200b\u53d6\u51fa\u200b\u4e00\u5217\u200b\u6570\u636e\u200b\u3002</p> Python<pre><code>better_volatility_using_pandas = better_volatility_using_pandas.iloc[:, 0].values\n</code></pre> <p></p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u624b\u52a8\u9a8c\u7b97\u7ed3\u679c","title":"\u624b\u52a8\u200b\u9a8c\u7b97\u200b\u7ed3\u679c","text":"Python<pre><code># \u200b\u624b\u52a8\u200b\u9a8c\u7b97\u200b\uff0c\u200b\u4e0e\u200b\u4e0a\u9762\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e00\u81f4\u200b\nstd = df.iloc[:5][[\"open\", \"high\", \"low\", \"close\"]].values.std()\nmean = df.iloc[:5][[\"open\", \"high\", \"low\", \"close\"]].values.mean()\nbetter_volatility_using_numpy = (std / mean) ** 2\nprint(better_volatility_using_numpy)\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u4e24\u79cd\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u7684\u200b\u7ed3\u679c\u200b\u90fd\u200b\u662f\u200b\u51c6\u786e\u200b\u7684\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-in-python/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<ol> <li><code>numpy_ext.rollling_apply()</code>\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u5916\u90e8\u200b\u5305\u200b<code>numpy_ext</code>\uff0c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u63a5\u53d7\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u7684\u200b\u591a\u4e2a\u200b Series\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u3002</li> <li><code>.rolling(method='table')</code>\u200b\u662f\u200b Pandas \u200b\u5185\u7f6e\u200b\u7684\u200b\u51fd\u6570\u200b\uff08\u200b\u9700\u8981\u200b\u5347\u7ea7\u200b\u5230\u200b\u8f83\u200b\u65b0\u200b\u7684\u200b\u7248\u672c\u200b\uff09\uff0c\u200b\u6307\u5b9a\u200b<code>method='table'</code>\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u6570\u636e\u200b\u6846\u4e2d\u200b\u7684\u200b\u591a\u5217\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u3002\u200b\u82e5\u200b\u8fd4\u56de\u200b\u7684\u200b\u591a\u5217\u200b\u7ed3\u679c\u200b\u76f8\u540c\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u53d6\u51fa\u200b\u5176\u4e2d\u200b\u4e00\u5217\u200b\u5373\u53ef\u200b\u3002</li> <li><code>.rolling(method='table')</code>\u200b\u4f7f\u7528\u200b\u4e86\u200b<code>engine='numba'</code>\uff0c\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u66f4\u200b\u5feb\u200b\u3002</li> </ol>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator/","title":"\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1","text":"<p>\u200b\u672c\u6587\u200b\u63a8\u5bfc\u200b\u4e86\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u91cf\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u60c5\u5883\u200b\u4e0b\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u6c42\u548c\u200b\u5f62\u5f0f\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u3002 $$ Y=X \\widehat{\\beta}+e $$</p> \\[ \\beta^{O L S}=\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} Y \\] <p>\u200b\u5728\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u60c5\u5883\u200b\u4e0b\u200b\uff1a</p> \\[ \\beta_1^{O L S} =\\frac{\\overline{X Y}-\\overline{X} * \\overline{Y}}{\\overline{X^2}-\\left(\\overline{X}\\right)^2} \\] \\[ \\beta_0^{O L S} =\\frac{\\overline{X^2} * \\overline{Y}-\\overline{X} * \\overline{X Y}}{\\overline{X^2}-\\left(\\overline{X}\\right)^2} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator/#\u7ebf\u6027\u6a21\u578b","title":"\u7ebf\u6027\u200b\u6a21\u578b","text":"<p>\u200b\u82e5\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u7528\u200b\\(X_k \\left(k=1,\\ldots,K\\right)\\)\u200b\u6765\u200b\u89e3\u91ca\u200b\\(Y\\)\uff0c\u200b\u4e14\u200b\\(Y\\)\u200b\u5173\u4e8e\u200b\\(X\\)\u200b\u662f\u200b\u7ebf\u6027\u200b\u7684\u200b\uff0c\u200b\u5373\u200b\uff1a $$ Y_t=\\beta_0+\\beta_1 X_{t 1}+\\beta_2 X_{t 2} +\\cdots+\\beta_K X_{t K} $$</p> <p>Note</p> <p>\u200b\u8fd9\u91cc\u200b\u52a0\u5165\u200b\u4e86\u200b\u622a\u8ddd\u200b\u9879\u200b\uff08\u200b\u6216\u200b\u504f\u7f6e\u200b\u9879\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u52a0\u5165\u200b\\(\\beta_0\\)\u3002</p> <p>\u200b\u5c06\u200b\u5404\u200b\u53d8\u91cf\u200b\u4ee5\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u8868\u793a\u200b\u5982\u4e0b\u200b\uff1a</p> \\[ Y=\\underbrace{\\left[\\begin{array}{c} Y_1 \\\\ Y_2 \\\\ \\ldots \\\\ Y_T \\end{array}\\right]}_{T \\times 1}, X=\\underbrace{\\left[\\begin{array}{ccccc} 1 &amp; X_{11} &amp; X_{12} &amp; \\ldots &amp; X_{1 K} \\\\ 1 &amp; X_{21} &amp; X_{22} &amp; \\ldots &amp; X_{2 K} \\\\ \\ldots &amp; \\ldots &amp; \\ldots &amp; \\ldots &amp; \\ldots \\\\ 1 &amp; X_{T 1} &amp; X_{T 2} &amp; \\ldots &amp; X_{T K} \\end{array}\\right]}_{T \\times(K+1)}, \\beta=\\underbrace{\\left[\\begin{array}{c} \\beta_0 \\\\ \\beta_1 \\\\ \\ldots \\\\ \\beta_K \\end{array}\\right]}_{(K+1) \\times 1}, u=\\underbrace{\\left[\\begin{array}{c} u_1 \\\\ u_2 \\\\ \\ldots \\\\ u_T \\end{array}\\right]}_{T \\times 1} \\] <p>\u200b\u77e9\u9635\u200b\\(X\\)\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u89c2\u6d4b\u70b9\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u5217\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u89e3\u91ca\u200b\u53d8\u91cf\u200b\u3002</p> <p>\u200b\u7b80\u5316\u200b\u4e3a\u200b\uff1a $$ Y=X \\beta+u\\label{1}\\tag{1} $$ \u200b\u516c\u5f0f\u200b\\(\\eqref{1}\\)\u200b\u662f\u200b\u771f\u5b9e\u200b\u7684\u200b\u7ebf\u6027\u200b\u6a21\u578b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\\(\\beta\\)\u200b\u662f\u200b\u771f\u5b9e\u200b\u5b58\u5728\u200b\u4f46\u200b\u672a\u77e5\u200b\u7684\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6784\u9020\u200b\u4f30\u8ba1\u91cf\u200b\u6765\u200b\u4f30\u8ba1\u200b\\(\\beta\\)\uff1a $$ Y=X \\widehat{\\beta}+e\\tag{2}\\label{2} $$</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator/#\u56de\u5f52\u7cfb\u6570\u7684\u666e\u901a\u6700\u5c0f\u4e8c\u4e58\u4f30\u8ba1\u91cf","title":"\u56de\u5f52\u7cfb\u6570\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u91cf","text":"<p>\u201c\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u201d\u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b\uff1a\u200b\u4f7f\u5f97\u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b\u5e73\u65b9\u548c\u200b\u6700\u5c0f\u200b\u3002\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u91cf\u200b\u662f\u200b\u5982\u4e0b\u200b\u6700\u5c0f\u5316\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3\u200b\uff1a $$ \\underset{\\widehat{\\beta}}{\\operatorname{argmin}} \\sum_{t=1}^T e_{t} ^{2} = e^{\\prime} e=(Y-X \\widehat{\\beta})^{\\prime}(Y-X \\widehat{\\beta}) $$ \u200b\u5176\u4e2d\u200b</p> \\[ e=\\underbrace{\\left[\\begin{array}{c} e_1 \\\\ e_2 \\\\ \\ldots \\\\ e_T \\end{array}\\right]}_{T \\times 1} \\] <p>\u200b\u89e3\u200b\u8fd9\u4e2a\u200b\u6700\u5c0f\u5316\u200b\u95ee\u9898\u200b\u7684\u200b\u63a8\u5bfc\u200b\u8fc7\u7a0b\u200b\u5728\u200b \u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u63a8\u5bfc\u200b \u200b\u4e2d\u200b\u5df2\u6709\u200b\u4ecb\u7ecd\u200b\u3002\u200b\u8fd9\u91cc\u200b\u7b80\u5355\u200b\u56de\u987e\u200b\u5982\u4e0b\u200b\uff1a $$ \\min (Y-X \\widehat{\\beta})^{\\prime}(Y-X \\widehat{\\beta}) $$ \u200b\u7531\u4e8e\u200b \\(\\frac{d\\left(A^{\\prime} A\\right)}{d A}=2 A, \\frac{d(C B)}{d B}=C^{\\prime}\\) $$ \\begin{aligned} \\frac{d(Y-X \\widehat{\\beta})^{\\prime}(Y-X \\widehat{\\beta})}{d \\widehat{\\beta}} &amp; =0 \\\\ (-X)^{\\prime} 2(Y-X \\widehat{\\beta}) &amp; =0 \\\\ X^{\\prime}(Y-X \\widehat{\\beta}) &amp; =0 \\\\ X^{\\prime} Y-X^{\\prime} X \\widehat{\\beta} &amp; =0 \\\\ X^{\\prime} X \\widehat{\\beta} &amp; =X^{\\prime} Y \\end{aligned} $$ \u200b\u82e5\u200b \\(\\left(X^{\\prime} X\\right)^{-1}\\) \u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b $$ \\left(X^{\\prime} X\\right)^{-1} X^{\\prime} X \\widehat{\\beta}=\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} Y $$</p> \\[ \\Rightarrow \\beta^{O L S}=\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} Y \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator/#\u4e00\u5143\u7ebf\u6027\u56de\u5f52","title":"\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52","text":"<p>\u200b\u82e5\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u89e3\u91ca\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5219\u200b</p> \\[ Y=\\underbrace{\\left[\\begin{array}{c} Y_1 \\\\ Y_2 \\\\ \\ldots \\\\ Y_T \\end{array}\\right]}_{T \\times 1}, X=\\underbrace{\\left[\\begin{array}{cc} 1 &amp; X_1 \\\\ 1 &amp; X_2 \\\\ \\ldots &amp; \\ldots \\\\ 1 &amp; X_T \\end{array}\\right]}_{T \\times 2}, u=\\underbrace{\\left[\\begin{array}{c} u_1 \\\\ u_2 \\\\ \\ldots \\\\ u_T \\end{array}\\right]}_{T \\times 1}, \\beta=\\underbrace{\\left[\\begin{array}{c} \\beta_0 \\\\ \\beta_1 \\end{array}\\right]}_{2 \\times 1} \\] \\[ \\begin{aligned} \\underbrace{\\left[\\begin{array}{c} \\beta_0^{O L S} \\\\ \\beta_1^{O L S} \\end{array}\\right]}_{2 \\times 1}&amp; =\\underbrace{\\left(\\left[\\begin{array}{cccc} 1 &amp; 1 &amp; \\ldots &amp; 1 \\\\ X_1 &amp; X_2 &amp; \\ldots &amp; X_T \\end{array}\\right]\\left[\\begin{array}{cc} 1 &amp; X_1 \\\\ 1 &amp; X_2 \\\\ \\ldots &amp; \\ldots \\\\ 1 &amp; X_T \\end{array}\\right]\\right)^{-1}}_{2 \\times 2} \\underbrace{\\left[\\begin{array}{cccc} 1 &amp; 1 &amp; \\ldots &amp; 1 \\\\ X_1 &amp; X_2 &amp; \\ldots &amp; X_T \\end{array}\\right]\\left[\\begin{array}{c} Y_1 \\\\ Y_2 \\\\ \\ldots \\\\ Y_T \\end{array}\\right]}_{2 \\times 1} \\\\ &amp; =\\left(\\left[\\begin{array}{cc} T &amp; \\sum X_t \\\\ \\sum X_t &amp; \\sum X_t^2 \\end{array}\\right]\\right)^{-1}\\left[\\begin{array}{c} \\sum Y_t \\\\ \\sum X_t Y_t \\end{array}\\right] \\\\ &amp; =\\frac{1}{T \\sum X_t^2-\\left(\\sum X_t\\right)^2}\\left[\\begin{array}{cc} \\sum X_t^2 &amp; -\\sum X_t \\\\ -\\sum X_t &amp; T \\end{array}\\right]\\left[\\begin{array}{c} \\sum Y_t \\\\ \\sum X_t Y_t \\end{array}\\right] \\\\ &amp; =\\frac{1}{T \\sum X_t^2-\\left(\\sum X_t\\right)^2}\\left[\\begin{array}{c} \\sum X_t^2 \\sum Y_t-\\sum X_t \\sum X_t Y_t \\\\ -\\sum X_t \\sum Y_t+T \\sum X_t Y_t \\end{array}\\right] \\\\ &amp; =\\left[\\begin{array}{c} \\frac{\\sum X_t^2 \\sum Y_t-\\sum X_t \\sum X_t Y_t}{T \\sum X_t^2-\\left(\\sum X_t\\right)^2} \\\\ \\frac{T \\sum X_t Y_t-\\sum X_t \\sum Y_t}{T \\sum X_t^2-\\left(\\sum X_t\\right)^2} \\end{array}\\right] \\\\ &amp; \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator/#beta_1\u7684\u4f30\u8ba1","title":"\\(\\beta_1\\)\u200b\u7684\u200b\u4f30\u8ba1","text":"\\[ \\begin{aligned} \\beta_1^{O L S} &amp; =\\frac{T \\sum X_t Y_t-\\sum X_t \\sum Y_t}{T \\sum X_t^2-\\left(\\sum X_t\\right)^2} \\\\ &amp; =\\frac{\\frac{1}{T^2}\\left\\{T \\sum X_t Y_t-\\sum X_t \\sum Y_t\\right\\}}{\\frac{1}{T^2}\\left\\{T \\sum X_t^2-\\left(\\sum X_t\\right)^2\\right\\}} \\\\ &amp; =\\frac{\\frac{\\sum X_t Y_t}{T}-\\frac{\\sum X_t}{T} \\frac{\\sum Y_t}{T}}{\\frac{\\sum X_t^2}{T}-\\left(\\frac{\\sum X_t}{T}\\right)^2} \\\\ &amp; =\\frac{\\overline{X Y}-\\overline{X} * \\overline{Y}}{\\overline{X^2}-\\left(\\overline{X}\\right)^2} \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator/#beta_0\u7684\u4f30\u8ba1","title":"\\(\\beta_0\\)\u200b\u7684\u200b\u4f30\u8ba1","text":"\\[ \\begin{aligned} \\beta_0^{O L S} &amp; =\\frac{\\sum X_t^2 \\sum Y_t-\\sum X_t \\sum X_t Y_t}{T \\sum X_t^2-\\left(\\sum X_t\\right)^2} \\\\ &amp; =\\frac{\\frac{1}{T^2}\\left\\{\\sum X_t^2 \\sum Y_t-\\sum X_t \\sum X_t Y_t\\right\\}}{\\frac{1}{T^2}\\left\\{T \\sum X_t^2-\\left(\\sum X_t\\right)^2\\right\\}} \\\\ &amp; =\\frac{\\frac{\\sum X_t^2 \\sum Y_t}{T}-\\frac{\\sum X_t}{T} \\frac{\\sum X_t Y_t}{T}}{\\frac{\\sum X_t^2}{T}-\\left(\\frac{\\sum X_t}{T}\\right)^2} \\\\ &amp; =\\frac{\\overline{X^2} * \\overline{Y}-\\overline{X} * \\overline{X Y}}{\\overline{X^2}-\\left(\\overline{X}\\right)^2} \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/","title":"\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027","text":"<p>\u200b\u672c\u6587\u200b\u8bc1\u660e\u200b\u4e86\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b\u3002</p> <p>\u200b\u65e0\u504f\u6027\u200b\uff1a</p> \\[ E\\left[\\beta^{O L S}\\right]=\\beta \\] <p>\u200b\u4e00\u81f4\u6027\u200b</p> \\[ \\beta^{O L S}-\\beta=\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u \\stackrel{p}{\\rightarrow} 0  \\text { as } T \\rightarrow \\infty \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u65e0\u504f\u6027","title":"\u65e0\u504f\u6027","text":"<p>\u200b\u4e3a\u4e86\u200b\u8bc1\u660e\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u200b\u8bc1\u660e\u200b\uff1a</p> \\[ E\\left[\\beta^{O L S}\\right]=\\beta \\] <p>\u200b\u6216\u200b</p> \\[ E\\left[\\beta^{O L S}-\\beta\\right]=0 \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u5c06\u666e\u901a\u6700\u5c0f\u4e8c\u4e58\u4f30\u8ba1\u91cf\u4e2d\u7684y\u5c55\u5f00\u4e3axbetamu","title":"\u5c06\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u91cf\u200b\u4e2d\u200b\u7684\u200b\\(Y\\)\u200b\u5c55\u5f00\u200b\u4e3a\u200b\\(X\\beta+\\mu\\)\uff1a","text":"\\[ \\begin{aligned} \\beta^{O L S} &amp; =\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} Y \\\\ &amp; =\\left(X^{\\prime} X\\right)^{-1} X^{\\prime}(X \\beta+u) \\\\ &amp; =\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} X \\beta+\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u \\\\ &amp; =\\beta+\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u518d\u5229\u7528\u8bef\u5dee\u7684\u6761\u4ef6\u5747\u503c\u4e3a\u96f6\u8fd9\u4e00\u5047\u8bbe\u5373eu-mid-x0","title":"\u518d\u200b\u5229\u7528\u200b\u201d\u200b\u8bef\u5dee\u200b\u7684\u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b\u96f6\u200b\u201c\u200b\u8fd9\u4e00\u200b\u5047\u8bbe\u200b\uff0c\u200b\u5373\u200b\\(E[u \\mid X]=0\\)","text":"\\[ \\begin{aligned} E\\left[\\beta^{O L S} \\mid X\\right] &amp; =E\\left[\\beta+\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u \\mid X\\right] \\\\ &amp; =\\beta+E\\left[\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u \\mid X\\right] \\\\ &amp; =\\beta+\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} E[u \\mid X]\\\\ &amp; =\\beta \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u6700\u540e\u6839\u636e\u8fed\u4ee3\u671f\u671b\u6cd5\u5219\u8bc1\u660e\u65e0\u504f\u6027","title":"\u6700\u540e\u200b\u6839\u636e\u200b\u8fed\u4ee3\u200b\u671f\u671b\u200b\u6cd5\u5219\u200b\uff0c\u200b\u8bc1\u660e\u200b\u65e0\u504f\u6027","text":"\\[ E\\left[\\beta^{O L S}\\right]=E\\left[E\\left[\\beta^{O L S} \\mid X\\right]\\right]=\\beta \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u4e00\u81f4\u6027","title":"\u4e00\u81f4\u6027","text":"<p>\u200b\u4e3a\u4e86\u200b\u8bc1\u660e\u200b\u4e00\u81f4\u6027\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u200b\u8bc1\u660e\u200b\uff1a</p> \\[ \\beta^{O L S}-\\beta=\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u \\stackrel{p}{\\rightarrow} 0 ? \\text { as } T \\rightarrow \\infty \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u5728\u8868\u8fbe\u5f0f\u4e2d\u6dfb\u52a0frac1t\u51d1\u6210\u5e73\u5747\u7684\u5f62\u5f0f","title":"\u5728\u200b\u8868\u8fbe\u5f0f\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\\(\\frac{1}{T}\\)\uff0c\u200b\u51d1\u6210\u200b\u5e73\u5747\u200b\u7684\u200b\u5f62\u5f0f","text":"\\[ \\beta^{O L S}-\\beta=\\left(\\frac{1}{T} X^{\\prime} X\\right)^{-1} \\frac{1}{T} X^{\\prime} u \\] <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u62ec\u53f7\u200b\u7684\u200b\u90e8\u5206\u200b\u9700\u200b\u8981\u6c42\u200b\u9006\u200b\uff0c\u200b\u56e0\u6b64\u200b\u62ec\u53f7\u200b\u91cc\u9762\u200b\u4e58\u4ee5\u200b\\(\\frac{1}{T}\\)\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u5728\u200b\u62ec\u53f7\u200b\u5916\u9762\u200b\u4e58\u4ee5\u200b\\(T\\)\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u5c06xprime-x\u8f6c\u6362\u6210\u5355\u4e2a\u6837\u672c\u5411\u91cf\u76f8\u4e58\u5f97\u5230\u77e9\u9635\u518d\u6c42\u548c\u7684\u5f62\u5f0f","title":"\u5c06\u200b\\(X^{\\prime} X\\)\u200b\u8f6c\u6362\u6210\u200b\u201c\u200b\u5355\u4e2a\u200b\u6837\u672c\u200b\u5411\u91cf\u200b\u76f8\u4e58\u200b\u5f97\u5230\u200b\u77e9\u9635\u200b\uff0c\u200b\u518d\u200b\u6c42\u548c\u200b\u201d\u200b\u7684\u200b\u5f62\u5f0f","text":"\\[ \\begin{aligned}  X^{\\prime} X&amp;=\\left[\\begin{array}{cccc} 1 &amp; 1 &amp; \\ldots &amp; 1 \\\\ X_{11} &amp; X_{21} &amp; &amp; X_{T 1} \\\\ X_{12} &amp; X_{22} &amp; &amp; X_{T 2} \\\\ \\ldots &amp; \\ldots &amp; &amp; \\ldots \\\\ X_{1 K} &amp; X_{2 K} &amp; &amp; X_{T K} \\end{array}\\right]\\left[\\begin{array}{ccccc} 1 &amp; X_{11} &amp; X_{12} &amp; \\ldots &amp; X_{1 K} \\\\ 1 &amp; X_{21} &amp; X_{22} &amp; \\ldots &amp; X_{2 K} \\\\ \\ldots &amp; \\ldots &amp; \\ldots &amp; \\ldots &amp; \\ldots \\\\ 1 &amp; X_{T 1} &amp; X_{T 2} &amp; \\ldots &amp; X_{T K} \\end{array}\\right] \\\\ &amp; =\\left[\\begin{array}{ccccc} \\mid &amp; \\mid &amp; \\mid &amp; &amp; \\mid \\\\ X_1 &amp; X_2 &amp; X_3 &amp; \\ldots &amp; X_T \\\\ \\mid &amp; \\mid &amp; \\mid &amp; &amp; \\mid \\end{array}\\right]\\left[\\begin{array}{ccc} - &amp; X_1 &amp; - \\\\ - &amp; X_2 &amp; - \\\\ - &amp; X_3 &amp; - \\\\ - &amp; X_T &amp; - \\end{array}\\right]\\\\ &amp;=\\sum_{t=1} ^T \\underbrace{X_t} _{(K+1) \\times 1} * \\underbrace{X_t ^ {\\prime}} _ {1 \\times(K+1)} \\\\ \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u5c06xprime-mu\u8f6c\u6362\u6210\u5355\u4e2a\u6837\u672c\u5411\u91cf\u76f8\u4e58\u5f97\u5230\u5411\u91cf\u518d\u6c42\u548c\u7684\u5f62\u5f0f","title":"\u5c06\u200b\\(X^{\\prime} \\mu\\)\u200b\u8f6c\u6362\u6210\u200b\u201c\u200b\u5355\u4e2a\u200b\u6837\u672c\u200b\u5411\u91cf\u200b\u76f8\u4e58\u200b\u5f97\u5230\u200b\u5411\u91cf\u200b\uff0c\u200b\u518d\u200b\u6c42\u548c\u200b\u201d\u200b\u7684\u200b\u5f62\u5f0f","text":"\\[ \\begin{aligned} X^{\\prime} u &amp; =\\left[\\begin{array}{cccc} 1 &amp; 1 &amp; \\cdots &amp; 1 \\\\ X_{11} &amp; X_{21} &amp; &amp; X_{T 1} \\\\ X_{12} &amp; X_{22} &amp; &amp; X_{T 2} \\\\ \\ldots &amp; \\cdots &amp; &amp; \\ldots \\\\ X_{1 K} &amp; X_{2 K} &amp; &amp; X_{T K} \\end{array}\\right]\\left[\\begin{array}{c} u_1 \\\\ u_2 \\\\ \\ldots \\\\ u_T \\end{array}\\right] \\\\ &amp; =\\left[\\begin{array}{ccccc} \\mid &amp; \\mid &amp; \\mid &amp; &amp; \\mid \\\\ X_1 &amp; X_2 &amp; X_3 &amp; \\ldots &amp; X_T \\\\ \\mid &amp; \\mid &amp; \\mid &amp; &amp; \\mid \\end{array}\\right]\\left[\\begin{array}{c} u_1 \\\\ u_2 \\\\ \\ldots \\\\ u_T \\end{array}\\right] \\\\ &amp; =\\sum_{t=1}^T \\underbrace{X_t}_{(K+1) \\times 1} * \\underbrace{u_t}_{1 \\times 1} \\\\ &amp; \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u5f53\u6837\u672c\u91cf\u8db3\u591f\u5927\u65f6\u5e73\u5747\u503c\u8d8b\u8fd1\u4e8e\u671f\u671b\u503c","title":"\u5f53\u200b\u6837\u672c\u91cf\u200b\u8db3\u591f\u200b\u5927\u65f6\u200b\uff0c\u200b\u5e73\u5747\u503c\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b\u671f\u671b\u503c","text":"\\[ \\begin{gathered} \\beta^{O L S}-\\beta=\\left(\\frac{1}{T} X^{\\prime} X\\right)^{-1} \\frac{1}{T} X^{\\prime} u \\\\ \\frac{1}{T} X^{\\prime} X=\\frac{1}{T} \\sum_{t=1}^T X_t X_t^{\\prime} \\stackrel{P}{\\rightarrow} E\\left[X_t X_t^{\\prime}\\right] \\text { as } T \\rightarrow \\infty \\\\ \\frac{1}{T} X^{\\prime} u=\\frac{1}{T} \\sum_{t=1}^T X_t u_t \\stackrel{P}{\\rightarrow} E\\left[X_t u_t\\right] \\text { as } T \\rightarrow \\infty \\end{gathered} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-unbiasedness-and-consistency/#\u518d\u5229\u7528\u8bef\u5dee\u7684\u6761\u4ef6\u5747\u503c\u4e3a\u96f6\u8fd9\u4e00\u5047\u8bbe\u5373eu-mid-x0_1","title":"\u518d\u200b\u5229\u7528\u200b\u201d\u200b\u8bef\u5dee\u200b\u7684\u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b\u96f6\u200b\u201c\u200b\u8fd9\u4e00\u200b\u5047\u8bbe\u200b\uff0c\u200b\u5373\u200b\\(E[u \\mid X]=0\\)","text":"\\[ \\begin{aligned} E[u \\mid X]&amp;=0\\\\ \\Rightarrow E\\left[X_t u_t\\right]&amp;=E_{X} \\left[E\\left[X_t u_t \\mid X \\right] \\right]\\\\ &amp;=E_{X} \\left[X_t E\\left[u_t \\mid X \\right] \\right]\\\\ &amp;=E_{X} [\\underbrace{X_t}_{(K+1) \\times 1} \\underbrace{0}_{1 \\times 1}]\\\\ &amp;=\\underbrace{0}_{(K+1) \\times 1} \\end{aligned} \\] <p>\u200b\u56e0\u6b64\u200b</p> \\[ \\begin{aligned} \\beta^{O L S}-\\beta&amp;=  (\\underbrace{\\frac{1}{T} X^ {\\prime} X} _ {E\\left[X_t X_t ^ {\\prime}\\right]}) ^{-1} \\underbrace{\\frac{1}{T} X^ {\\prime} u}_ {E\\left[X_t u_t\\right]}\\\\\\ &amp; \\stackrel{p}{\\rightarrow}\\left(E\\left[X_t X_t ^ {\\prime}\\right]\\right) ^ {-1} E\\left[X_t u_t\\right] \\\\\\ &amp; \\stackrel{p}{\\rightarrow} \\underbrace{0} _ {(K+1) \\times 1} \\end{aligned} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/","title":"\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406","text":"<p>\u200b\u672c\u6587\u200b\u8ba1\u7b97\u200b\u4e86\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\uff0c\u200b\u5e76\u200b\u8bc1\u660e\u200b\u4e86\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b\u3002</p> <p>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\uff1a</p> \\[ \\begin{aligned}  \\operatorname{Var}(\\underbrace{\\beta^{O L S}}_ {(K+1) \\times 1} \\mid X)&amp;=\\sigma^2 \\underbrace{\\left(X^{\\prime} X\\right)^{-1}} _ {(K+1) \\times (K+1)} \\end{aligned} \\] <p>\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b\uff08Gauss-Markov Theorem\uff09</p> <p>\u200b\u5728\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u7ebf\u6027\u200b\u6a21\u578b\u200b\u6ee1\u8db3\u200b\u9ad8\u65af\u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5047\u5b9a\u200b\uff0c\u200b\u5219\u200b\u56de\u5f52\u7cfb\u6570\u200b\u7684\u200b\u6700\u4f73\u200b\u7ebf\u6027\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\uff08BLUE, Best Linear Unbiased Estimator\uff09\u200b\u5c31\u662f\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u4f30\u8ba1\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u666e\u901a\u6700\u5c0f\u4e8c\u4e58\u4f30\u8ba1\u7684\u65b9\u5dee","title":"\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee","text":"<p>\u200b\u6309\u7167\u200b\u65b9\u5dee\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u200b\u5411\u91cf\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u65b9\u5dee\u200b\u662f\u200b\u4e00\u4e2a\u200b\u77e9\u9635\u200b\uff08\u200b\u5373\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\uff09\u3002</p> \\[ \\begin{aligned} \\operatorname{Var}(\\underbrace{\\beta^{O L S}}_{(K+1) \\times 1} \\mid X)&amp;=E\\left[\\left(\\beta^{O L S}-E\\left[\\beta^{O L S}\\right]\\right)\\left(\\beta^{O L S}-E\\left[\\beta^{O L S}\\right]\\right)^{\\prime} \\mid X\\right] \\\\ &amp; =E\\left[\\left(\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u\\right)\\left(\\left(X^{\\prime} X\\right) ^ {-1} X ^ {\\prime} u\\right) ^ {\\prime} \\mid X\\right] \\\\ &amp; =E\\left[\\left(\\left(X ^ { \\prime} X\\right) ^ {-1} X ^ {\\prime} u\\right) u^{\\prime} X\\left(\\left(X^ {\\prime} X\\right) ^ {-1}\\right) ^ {\\prime} \\mid X\\right] \\\\ &amp; =E\\left[\\left(X ^ {\\prime} X\\right) ^ {-1} X ^ {\\prime} u u^{\\prime} X\\left(\\left(X ^ {\\prime} X\\right) ^ {-1}\\right) ^ {\\prime} \\mid X\\right] \\\\ &amp; =E\\left[\\left(X ^ {\\prime} X\\right) ^ {-1} X^{\\prime} u u ^ {\\prime} X\\left(X ^ {\\prime} X\\right) ^ {-1} \\mid X\\right] \\\\ &amp; =\\left(X ^ {\\prime} X\\right)^{-1} X ^ {\\prime} {\\color{red}{E\\left[u u ^ {\\prime} \\mid X\\right]}} X\\left(X ^ {\\prime} X\\right) ^ {-1} \\\\ &amp; =\\left(X ^ {\\prime} X\\right)^{-1} X ^ {\\prime}{\\color{red}{\\left(\\sigma^2 I\\right)}} X\\left(X ^ {\\prime} X\\right) ^ {-1} \\\\ &amp; =\\sigma^2 \\left(X ^ {\\prime} X\\right)^ {-1} X ^ {\\prime} X\\left(X ^ {\\prime} X\\right) ^ {-1} \\\\ &amp; =\\sigma^2 \\underbrace{\\left(X^{\\prime} X\\right)^{-1}} _ {(K+1) \\times (K+1)} \\end{aligned}\\tag{1}\\label{1} \\] <p>\u200b\u516c\u5f0f\u200b\\(\\eqref{1}\\)\u200b\u4e2d\u200b\u7684\u200b\u7ea2\u8272\u200b\u90e8\u5206\u200b\u7528\u5230\u200b\u4e86\u200b \u200b\u8bef\u5dee\u200b\u9879\u200b\u4e4b\u95f4\u200b\u540c\u200b\u65b9\u5dee\u200b\u4e14\u200b\u4e92\u4e0d\u200b\u76f8\u5173\u200b \u200b\u7684\u200b\u5047\u8bbe\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u9ad8\u65af---\u9a6c\u5c14\u53ef\u592b\u5b9a\u7406","title":"\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406","text":"<p>\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b\uff08Gauss-Markov Theorem\uff09</p> <p>\u200b\u5728\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u7ebf\u6027\u200b\u6a21\u578b\u200b\u6ee1\u8db3\u200b\u9ad8\u65af\u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5047\u5b9a\u200b\uff0c\u200b\u5219\u200b\u56de\u5f52\u7cfb\u6570\u200b\u7684\u200b\u6700\u4f73\u200b\u7ebf\u6027\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\uff08BLUE, Best Linear Unbiased Estimator\uff09\u200b\u5c31\u662f\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u4f30\u8ba1\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u9ad8\u65af---\u9a6c\u5c14\u53ef\u592b\u7684\u6761\u4ef6","title":"\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u7684\u200b\u6761\u4ef6","text":"<p>\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b\u7684\u200b\u4e24\u4e2a\u200b\u6761\u4ef6\u200b\u4e3a\u200b\uff1a</p> <ol> <li>\u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b 0\uff1a</li> </ol> <p>$$    E(\\mu \\mid X)=0, \\forall X    $$</p> <ol> <li>\u200b\u8bef\u5dee\u200b\u9879\u200b\u4e4b\u95f4\u200b\u540c\u200b\u65b9\u5dee\u200b\u4e14\u200b\u4e92\u4e0d\u200b\u76f8\u5173\u200b\uff0c\u200b\u5373\u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5bf9\u89d2\u200b\u77e9\u9635\u200b\uff0c\u200b\u4e14\u200b\u5bf9\u89d2\u7ebf\u200b\u5143\u7d20\u200b\u76f8\u540c\u200b\uff1a</li> </ol> <p>$$    E\\left[u u ^ {\\prime} \\mid X\\right] = \\sigma^2 I    $$</p> <p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u200b\u9700\u8981\u200b\u5047\u5b9a\u200b\u8bef\u5dee\u200b\u6ee1\u8db3\u200b\u540c\u200b\u5206\u5e03\u200b\u6216\u200b\u6b63\u6001\u5206\u5e03\u200b\u3002</p> <p>\u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u5982\u679c\u200b\u8bef\u5dee\u200b\u9879\u200b\u4e4b\u95f4\u200b\u6765\u81ea\u200b\u4e0d\u540c\u200b\u7684\u200b\u5206\u5e03\u200b\uff0c\u200b\u4f46\u200b\u5404\u4e2a\u200b\u5206\u5e03\u200b\u7684\u200b\u65b9\u5dee\u200b\u76f8\u540c\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u6ee1\u8db3\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b\u7684\u200b\u6761\u4ef6\u200b\u7684\u200b\u3002\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200b\u63a8\u5bfc\u200b\u4e2d\u200b\u53ea\u200b\u9700\u8981\u200b\u7528\u5230\u200b\\(E\\left[u u ^ {\\prime} \\mid X\\right] = \\sigma^2 I\\)\u200b\u8fd9\u4e2a\u200b\u6027\u8d28\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u9ad8\u65af---\u9a6c\u5c14\u53ef\u592b\u5b9a\u7406\u7684\u8bc1\u660e","title":"\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b\u7684\u200b\u8bc1\u660e","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u5229\u7528\u4f30\u8ba1\u91cf\u7684\u7ebf\u6027\u5c06\u4f30\u8ba1\u91cf\u8868\u8fbe\u6210-widehatbeta-equiv-left-a--o-l-s--d-right-y","title":"\u5229\u7528\u200b\u4f30\u8ba1\u91cf\u200b\u7684\u200b\u7ebf\u6027\u200b\uff0c\u200b\u5c06\u200b\u4f30\u8ba1\u91cf\u200b\u8868\u8fbe\u200b\u6210\u200b \\(\\widehat{\\beta} \\equiv \\left( A ^ {O L S} + D \\right) Y\\)","text":"<p>\u200b\u7531\u4e8e\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u662f\u200b\u7ebf\u6027\u200b\u4f30\u8ba1\u200b\uff0c\u200b\u5373\u200b\u4f30\u8ba1\u91cf\u200b\u662f\u200b\u56e0\u53d8\u91cf\u200b\\(Y\\)\u200b\u7684\u200b\u7ebf\u6027\u200b\u51fd\u6570\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\\(\\beta^{O L S}\\)\u200b\u8bb0\u200b\u4e3a\u200b\\(A^{O L S} Y\\)\u3002</p> \\[ \\beta^{O L S}=\\underbrace{\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} }_{(K+1) \\times T} Y \\equiv A^{O L S} Y \\] <p>\u200b\u82e5\u200b\u53e6\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7ebf\u6027\u200b\u4f30\u8ba1\u91cf\u200b\uff0c\u200b\u5219\u200b\u5b83\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8868\u8fbe\u200b\u4e3a\u200b\uff1a</p> \\[ \\widehat{\\beta} \\equiv A Y \\equiv\\left(A^{O L S}+D\\right) Y \\text { where } D=A-A^{O L S} \\]","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u5229\u7528\u4f30\u8ba1\u91cf\u7684\u65e0\u504f\u6027\u8bef\u5dee\u9879\u7684\u6761\u4ef6\u5747\u503c\u4e3a-0\u63a8\u5bfc\u51fad-x0","title":"\u5229\u7528\u200b\u4f30\u8ba1\u91cf\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u3001\u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b 0\uff0c\u200b\u63a8\u5bfc\u200b\u51fa\u200b\\(D X=0\\)","text":"\\[ \\begin{aligned} E[\\hat{\\beta} \\mid X] &amp; =\\beta \\\\ E\\left[\\left(A^{O L S}+D\\right) Y \\mid X\\right] &amp; =E\\left[A^{O L S} Y+D Y \\mid X\\right] \\\\ &amp; =E\\left[\\beta^{O L S}+D Y \\mid X\\right] \\\\ &amp; =\\beta+\\underbrace{E[D Y \\mid X]} _ {=0} \\\\ E[D Y \\mid X] &amp; =E[D(X \\beta+u) \\mid X] \\\\ &amp; =D X \\beta+{\\color{red}{D E[u \\mid X]}} \\\\ &amp; =D X \\beta \\\\ &amp; =0 \\\\ \\Rightarrow D X&amp; =0 \\end{aligned}\\tag{2}\\label{2} \\] <p>\u200b\u516c\u5f0f\u200b\\(\\eqref{2}\\)\u200b\u4e2d\u200b\u7684\u200b\u7ea2\u8272\u200b\u90e8\u5206\u200b\u7528\u5230\u200b\u4e86\u200b \u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u5047\u8bbe\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-variance-and-gauss-markov-theorem/#\u5229\u7528\u8bef\u5dee\u9879\u4e4b\u95f4\u540c\u65b9\u5dee\u4e14\u4e92\u4e0d\u76f8\u5173\u63a8\u5bfc\u51fa-operatornamevarwidehatbeta-mid-xgeq-operatornamevarleftbetao-l-s-mid-xright","title":"\u5229\u7528\u200b\u8bef\u5dee\u200b\u9879\u200b\u4e4b\u95f4\u200b\u540c\u200b\u65b9\u5dee\u200b\u4e14\u200b\u4e92\u4e0d\u200b\u76f8\u5173\u200b\uff0c\u200b\u63a8\u5bfc\u200b\u51fa\u200b \\(\\operatorname{Var}[\\widehat{\\beta} \\mid X]\\geq \\operatorname{Var}\\left[\\beta^{O L S} \\mid X\\right]\\)","text":"<p>\u200b\u7531\u200b\u516c\u5f0f\u200b\\(\\eqref{2}\\)\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\\(\\hat\\beta\\)\u200b\u4e2d\u200b\u5305\u542b\u200b\\(X\\)\u200b\u7684\u200b\u90e8\u5206\u200b\u5220\u53bb\u200b\uff0c\u200b\u5373\u200b\u5316\u7b80\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{aligned} \\widehat{\\beta} &amp; =A^{O L S} Y+D Y \\\\ &amp; =\\beta^{O L S}+D(X \\beta+u) \\\\ &amp; =\\beta^{O L S}+D u \\end{aligned} \\] <p>\u200b\u518d\u200b\u7531\u200b\u65b9\u5dee\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\uff0c\u200b\u5c06\u200b\u534f\u65b9\u5dee\u200b\u9879\u200b\u5316\u4e3a\u200b 0\uff0c\u200b\u53ef\u200b\u8bc1\u660e\u200b\\(\\operatorname{Var}[\\widehat{\\beta} \\mid X]\\geq \\operatorname{Var}\\left[\\beta^{O L S} \\mid X\\right]\\)\uff0c</p> \\[ \\begin{aligned} \\operatorname{Var}[\\widehat{\\beta} \\mid X] &amp; =\\operatorname{Var}\\left[\\beta^{O L S}+D \\mu \\mid X\\right] \\\\ &amp; =\\operatorname{Var}\\left[\\beta^{O L S} \\mid X\\right]+\\operatorname{Var}[D \\mu \\mid X]+\\underbrace{\\operatorname{Cov}\\left[\\beta^{O L S}, D \\mu \\mid X\\right]}_{=0} \\\\ &amp; =\\operatorname{Var}\\left[\\beta^{O L S} \\mid X\\right]+\\operatorname{Var}[D \\mu \\mid X] \\\\ &amp; \\geq \\operatorname{Var}\\left[\\beta^{O L S} \\mid X\\right] \\end{aligned} \\] <p>\u200b\u5176\u4e2d\u200b</p> \\[ \\begin{aligned} \\operatorname{Cov}\\left[\\beta^{O L S}, D u \\mid X\\right] &amp; =\\operatorname{Cov}\\left[\\beta+\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u, D u \\mid X\\right] \\\\\\ &amp; =\\operatorname{Cov}\\left[\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u, D u \\mid X\\right] \\\\\\ &amp; =E\\left[\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u(D u)^{\\prime} \\mid X\\right]+E\\left[\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u\\mid X\\right]  E\\left[(D u)^{\\prime} \\mid X\\right]\\\\\\ &amp; =E\\left[\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u(D u)^{\\prime} \\mid X\\right]+\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} {\\color{red}{E\\left[u\\mid X\\right]}}  D^ \\prime {\\color{red}{E\\left[u^{\\prime} \\mid X\\right]}}\\\\\\ &amp; =E\\left[\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} u(D u)^{\\prime} \\mid X\\right]+{\\color{red}{0}} \\\\\\ &amp; =\\left(X^{\\prime} X\\right)^{-1} X^{\\prime} {\\color{blue}{E\\left[u u^{\\prime} \\mid X\\right]}} D^{\\prime} \\\\\\ &amp; ={\\color{blue}{\\sigma^2}} \\left(X^{\\prime} X\\right)^{-1} X^{\\prime} D^{\\prime} \\\\\\ &amp; =\\sigma^2 \\left(X^{\\prime} X\\right) ^{-1}(D X) ^{\\prime} \\\\\\ &amp; =0 \\end{aligned}\\tag{3}\\label{3} \\] <p>\u200b\u516c\u5f0f\u200b\\(\\eqref{3}\\)\u200b\u4e2d\u200b\u7684\u200b\u7ea2\u8272\u200b\u90e8\u5206\u200b\u7528\u5230\u200b\u4e86\u200b \u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u5047\u8bbe\u200b\uff0c\u200b\u84dd\u8272\u200b\u90e8\u5206\u200b\u7528\u5230\u200b\u4e86\u200b \u200b\u5229\u7528\u200b\u8bef\u5dee\u200b\u9879\u200b\u4e4b\u95f4\u200b\u540c\u200b\u65b9\u5dee\u200b\u4e14\u200b\u4e92\u4e0d\u200b\u76f8\u5173\u200b \u200b\u7684\u200b\u5047\u8bbe\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/ols-estimator-assumptions/","title":"\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6","text":"<ol> <li>\u200b\u56e0\u53d8\u91cf\u200b\\(Y\\)\u200b\u4e0e\u200b\u81ea\u53d8\u91cf\u200b\\(X\\)\u200b\u4e4b\u95f4\u200b\u662f\u200b \u200b\u7ebf\u6027\u200b \u200b\u5173\u7cfb\u200b\u3002</li> <li>\u200b\u81ea\u53d8\u91cf\u200b\u4e4b\u95f4\u200b \u200b\u4e0d\u200b\u5b58\u5728\u200b\u591a\u91cd\u200b\u5171\u7ebf\u6027\u200b \uff0c\u200b\u5373\u200b\\(\\left(X^{\\prime} X\\right)^{-1}\\)\u200b\u5b58\u5728\u200b\u3002</li> <li>\u200b\u8bef\u5dee\u200b\u9879\u200b\u7684\u200b \u200b\u6761\u4ef6\u200b\u5747\u503c\u200b\u4e3a\u200b\\(0\\) \uff0c\u200b\u5373\u200b\\(E\\left[u \\mid X\\right]=0\\)\u3002</li> <li>\u200b\u8bef\u5dee\u200b\u9879\u200b\u4e4b\u95f4\u200b \u200b\u540c\u200b\u65b9\u5dee\u200b\u4e14\u200b\u4e0d\u200b\u76f8\u5173\u200b \uff0c\u200b\u5373\u200b\\(E\\left[u u^{\\prime} \\mid X\\right]=\\sigma^2 I_T\\)\u3002</li> <li>\\(\\left(Y_t, X_t\\right)\\) \u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b \u3002</li> <li>\u200b\u8bef\u5dee\u200b\u9879\u662f\u200b \u200b\u6b63\u6001\u5206\u5e03\u200b \u200b\u7684\u200b\u3002</li> </ol> <p>\u200b\u5047\u8bbe\u200b 1-4 \u200b\u53ef\u200b\u63a8\u51fa\u200b\uff1a\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u662f\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ebf\u6027\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\uff08BLUE\uff09\u3002</p> <p>\u200b\u5047\u8bbe\u200b 1-3 \u200b\u4e0e\u200b\u5047\u8bbe\u200b 5 \u200b\u53ef\u200b\u63a8\u51fa\u200b\uff1a\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u5177\u6709\u200b\u4e00\u81f4\u6027\u200b\u3002</p> <p>\u200b\u5047\u8bbe\u200b 6 \u200b\u5e76\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u662f\u200b\u6700\u5c0f\u200b\u65b9\u5dee\u200b\u7ebf\u6027\u200b\u65e0\u504f\u200b\u4f30\u8ba1\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e3a\u4e86\u200b\u4fbf\u4e8e\u200b\u5728\u200b\u6709\u9650\u200b\u6837\u672c\u200b\u4e0b\u200b\u5bf9\u200b\u56de\u5f52\u7cfb\u6570\u200b\u8fdb\u884c\u200b\u7edf\u8ba1\u200b\u68c0\u9a8c\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/latex-setmainfont-external-location/","title":"\\(\\LaTeX\\) \u200b\u8bbe\u7f6e\u200b\u5b57\u4f53\u200b\u65f6\u200b\u6307\u5b9a\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u76ee\u5f55","text":"","tags":["LaTeX"]},{"location":"blog/latex-setmainfont-external-location/#\u95ee\u9898\u4e0e\u9700\u6c42","title":"\u95ee\u9898\u200b\u4e0e\u200b\u9700\u6c42","text":"<p>\u200b\u5728\u200b\u7f16\u5199\u200b\u591a\u4e2a\u200b\\(\\TeX\\)\u200b\u6587\u6863\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u540c\u65f6\u200b\u5bfc\u5165\u200b\u76f8\u540c\u200b\u7684\u200b\u5916\u90e8\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u901a\u5e38\u200b\u7684\u200b\u505a\u6cd5\u200b\u662f\u200b\uff0c\u200b\u5c06\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u200b\u653e\u5728\u200b\u4e0e\u200b\u5f53\u524d\u200b\u6587\u6863\u200b\u6240\u5728\u200b\u7684\u200b\u540c\u7ea7\u200b\u76ee\u5f55\u200b\u3002</p> \u200b\u91cd\u590d\u200b\u5b58\u50a8\u200b\u591a\u4efd\u200b font.TTF<pre><code>$ tree\n.\n|-- tex_1\n|   |-- font.TTF\n|   |-- tex_1.pdf\n|   `-- tex_1.tex\n`-- tex_2\n    |-- font.TTF\n    |-- tex_2.pdf\n    `-- tex_2.tex\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u7684\u200b\u505a\u6cd5\u200b\u4f1a\u200b\u4f7f\u5f97\u200b<code>font.TTF</code>\u200b\u540c\u65f6\u200b\u5b58\u5728\u200b\u4e8e\u200b<code>tex_1.tex</code>\u200b\u548c\u200b<code>tex_2.tex</code>\u200b\u4e24\u4e2a\u200b\u6587\u6863\u200b\u6240\u5728\u200b\u7684\u200b\u76ee\u5f55\u200b\u4e0b\u200b\uff0c\u200b\u800c\u540c\u200b\u4e00\u4efd\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u200b\u662f\u200b\u6ca1\u6709\u200b\u5fc5\u8981\u200b\u5b58\u200b\u4e24\u904d\u200b\u7684\u200b\u3002\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u80fd\u200b\u5c06\u200b<code>font.TTF</code>\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u516c\u5171\u200b\u76ee\u5f55\u200b\uff0c\u200b\u4f7f\u5f97\u200b<code>tex_1.tex</code>\u200b\u548c\u200b<code>tex_2.tex</code>\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5bfc\u5165\u200b\u5176\u4e2d\u200b\u7684\u200b\u5b57\u4f53\u200b\u3002</p>","tags":["LaTeX"]},{"location":"blog/latex-setmainfont-external-location/#\u89e3\u51b3\u65b9\u6cd5","title":"\u89e3\u51b3\u200b\u65b9\u6cd5","text":"<p>\u200b\u5c06\u200b<code>font.TTF</code>\u200b\u79fb\u52a8\u200b\u5230\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b<code>fonts/</code>\u200b\u76ee\u5f55\u200b\u4e2d\u200b\u3002</p> \u200b\u5171\u7528\u200b\u4e00\u4efd\u200b font.TTF<pre><code>$ tree\n.\n|-- fonts\n|   `-- font.TTF # (1)!\n|-- tex_1\n|   |-- tex_1.pdf\n|   `-- tex_1.tex\n`-- tex_2\n    |-- tex_2.pdf\n    `-- tex_2.tex\n</code></pre> <ol> <li>\u200b\u6240\u6709\u200b <code>tex</code> \u200b\u6587\u6863\u200b\u90fd\u200b\u53ef\u200b\u5bfc\u5165\u200b\u8fd9\u200b\u4e00\u4efd\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u200b\uff0c\u200b\u907f\u514d\u200b\u4e86\u200b\u91cd\u590d\u200b\u5b58\u50a8\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</li> </ol> <p>\u200b\u5e76\u200b\u5728\u200b<code>tex_1.tex</code>\u200b\u548c\u200b<code>tex_2.tex</code>\u200b\u4e2d\u200b\u4f7f\u7528\u200b<code>ExternalLocation</code>\u200b\u6765\u200b\u6307\u5b9a\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u3002</p> TeX<pre><code>\\setmainfont[ExternalLocation=../fonts/]{font.TTF}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-setmainfont-external-location/#\u7f3a\u70b9","title":"\u7f3a\u70b9","text":"<p>\u200b\u76ee\u524d\u200b\u6d4b\u8bd5\u200b\u53d1\u73b0\u200b\uff1a</p> <ul> <li>\u200b\u82f1\u6587\u200b\u5b57\u4f53\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>\\setmainfont[ExternalLocation=../fonts/]{font.TTF}</code>\u200b\u65b9\u6cd5\u200b\u6210\u529f\u200b\u6307\u5b9a\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u3002</li> <li>\u200b\u4f46\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u9700\u8981\u200b\u7528\u200b<code>\\setCJKmainfont{font.TTF}</code>\u200b\u6765\u200b\u6307\u5b9a\u200b\u5b57\u4f53\u200b\uff0c\u200b\u800c\u200b<code>\\setCJKmainfont</code>\u200b\u4f3c\u4e4e\u200b\u4e0d\u200b\u652f\u6301\u200b\u8bbe\u7f6e\u200b<code>ExternalLocation</code>\u200b\u53c2\u6570\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5b83\u4f1a\u200b\u62a5\u9519\u200b\u3002\u200b\u56e0\u6b64\u200b\u5916\u90e8\u200b\u7684\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u8fd8\u662f\u200b\u53ea\u80fd\u200b\u653e\u5230\u200b<code>tex</code>\u200b\u6587\u6863\u200b\u7684\u200b\u540c\u7ea7\u200b\u76ee\u5f55\u200b\u3002</li> </ul>","tags":["LaTeX"]},{"location":"blog/vscode-error-could-not-register-service-workers-invalid-state/","title":"VS Code \u200b\u52a0\u8f7d\u200b Web \u200b\u89c6\u56fe\u200b\u65f6\u200b\u51fa\u9519\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848","text":"","tags":["Linux","Computer Science"]},{"location":"blog/vscode-error-could-not-register-service-workers-invalid-state/#\u62a5\u9519\u539f\u56e0","title":"\u62a5\u9519\u200b\u539f\u56e0","text":"<p>\u200b\u5728\u200b\u4fdd\u5b58\u200b\u4e00\u4e2a\u200b\u5927\u578b\u200b<code>jupyter notebook</code>\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u81ea\u5df1\u200b\u7a81\u7136\u200b\u5173\u95ed\u200b\u4e86\u200b\u6807\u7b7e\u200b\u9875\u200b\u3002\u200b\u518d\u200b\u6253\u5f00\u200b\u5b83\u200b\u65f6\u200b\uff0cVS Code \u200b\u5c31\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>\u200b\u52a0\u8f7d\u200b Web \u200b\u89c6\u56fe\u200b\u65f6\u200b\u51fa\u9519\u200b: Error: Could not register service workers: InvalidStateError: Failed to register a ServiceWorker: The document is in an invalid state..\n</code></pre> <p></p> <p>\u200b\u5e76\u4e14\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u6253\u5f00\u200b\u5176\u4ed6\u200b\u4efb\u4f55\u200b<code>jupyter notebook</code>\u200b\u6587\u4ef6\u200b\uff0c\u200b\u63a8\u6d4b\u200b\u662f\u200b VS Code \u200b\u7a0b\u5e8f\u200b\u51fa\u200b\u4e86\u200b\u95ee\u9898\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/vscode-error-could-not-register-service-workers-invalid-state/#\u89e3\u51b3\u65b9\u6848","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u200b\u6211\u200b\u81ea\u5df1\u200b\u66fe\u7ecf\u200b\u9047\u5230\u200b\u8fc7\u200b\u4e24\u6b21\u200b\u8fd9\u4e2a\u200b\u62a5\u9519\u200b\uff0c\u200b\u7b2c\u4e00\u6b21\u200b\u662f\u200b\u5728\u200b\u4e2a\u4eba\u7535\u8111\u200b Windows \u200b\u7cfb\u7edf\u200b\u4e0a\u200b\uff0c\u200b\u7b2c\u4e8c\u6b21\u200b\u662f\u200b\u5728\u200b Linux \u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u3002\u200b\u4e0b\u9762\u200b\u5206\u522b\u200b\u4ecb\u7ecd\u200b\u9488\u5bf9\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u7cfb\u7edf\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b\u3002</p>","tags":["Linux","Computer Science"]},{"location":"blog/vscode-error-could-not-register-service-workers-invalid-state/#windows-\u7cfb\u7edf","title":"Windows \u200b\u7cfb\u7edf","text":"<p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4efb\u52a1\u200b\u7ba1\u7406\u5668\u200b\u5173\u95ed\u200b VS Code \u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u518d\u200b\u5220\u9664\u200b VS Code \u200b\u7684\u200b\u7f13\u5b58\u200b\u6587\u4ef6\u200b\u3002\u200b\u5982\u200b Stack Overflow \u200b\u4e0a\u200b\u7684\u200b\u56de\u7b54\u200b\uff1a</p> <p></p>","tags":["Linux","Computer Science"]},{"location":"blog/vscode-error-could-not-register-service-workers-invalid-state/#linux-\u7cfb\u7edf","title":"Linux \u200b\u7cfb\u7edf","text":"<p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u5220\u9664\u200b VS Code \u200b\u7684\u200b\u7f13\u5b58\u200b\u6587\u4ef6\u200b\uff1a</p> Bash<pre><code>rm -rf ~/.config/Code/Cache\n</code></pre>","tags":["Linux","Computer Science"]},{"location":"blog/vscode-error-could-not-register-service-workers-invalid-state/#\u5176\u4ed6\u89e3\u51b3\u65b9\u6848","title":"\u5176\u4ed6\u200b\u89e3\u51b3\u65b9\u6848","text":"<p>\u200b\u5728\u200b\u641c\u7d22\u200b\u8d44\u6599\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8fd8\u200b\u627e\u5230\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u4f46\u200b\u6709\u4e9b\u200b\u5bf9\u200b\u6211\u200b\u7684\u200b\u95ee\u9898\u200b\u5e76\u200b\u4e0d\u8d77\u4f5c\u7528\u200b\uff08\u200b\u5927\u591a\u200b\u662f\u56e0\u4e3a\u200b\u627e\u200b\u4e0d\u5230\u200b\u547d\u4ee4\u200b\uff0c\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u5b89\u88c5\u200b\u5176\u4ed6\u200b\u7a0b\u5e8f\u200b\uff09\uff0c\u200b\u8fd9\u91cc\u200b\u5217\u51fa\u200b\u4f5c\u4e3a\u200b\u53c2\u8003\u200b\uff1a</p> Bash<pre><code>killall code\n</code></pre> Bash<pre><code>code --no-sandbox\n</code></pre>","tags":["Linux","Computer Science"]},{"location":"blog/beginning-of-spring/","title":"\u7acb\u6625","text":"<p>\u200b\u5468\u672b\u200b\u901b\u516c\u56ed\u200b\u3002</p> <p> </p> \u200b\u9ec4\u5174\u200b\u516c\u56ed\u200b <p>\u200b\u4eca\u5929\u200b\u662f\u200b\u8fd4\u200b\u6caa\u200b\u540e\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5468\u672b\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u5468\u200b\u5b9e\u4e60\u200b\u5de5\u4f5c\u200b\u4e86\u200b\u4e00\u200b\u6574\u5468\u200b\uff0c\u200b\u6bcf\u5929\u200b\u90fd\u200b\u8fc7\u200b\u5f97\u200b\u5145\u5b9e\u200b\u4e14\u200b\u5f88\u200b\u6709\u200b\u6536\u83b7\u200b\uff0c\u200b\u4f46\u200b\u603b\u662f\u200b\u89c9\u5f97\u200b\u65f6\u95f4\u200b\u6709\u4e9b\u200b\u4e0d\u591f\u200b\u7528\u200b\uff0c\u200b\u603b\u6709\u200b\u5f88\u591a\u200b\u60f3\u200b\u5b9e\u73b0\u200b\u7684\u200b\u60f3\u6cd5\u200b\u3001\u200b\u60f3\u200b\u5b8c\u6210\u200b\u7684\u200b\u4e8b\u60c5\u200b\u3002</p> <p>\u200b\u4eca\u5929\u200b\u4e5f\u200b\u662f\u200b\u7acb\u6625\u200b\uff0c\u200b\u4e2d\u5348\u200b\u7684\u200b\u592a\u9633\u200b\u5f88\u200b\u6696\u548c\u200b\u3002\u200b\u51fa\u4e8e\u200b \u200b\u5bf9\u200b\u6625\u5929\u200b\u7684\u200b\u5c0a\u656c\u200b \u200b\u5e74\u5c11\u65e0\u77e5\u200b\uff0c\u200b\u6211\u200b\u51fa\u95e8\u200b\u51cf\u4e86\u200b\u8863\u670d\u200b\u3001\u200b\u6ca1\u6234\u200b\u624b\u5957\u200b\uff0c\u200b\u9a91\u8f66\u5230\u200b\u516c\u56ed\u200b\u7684\u200b\u8def\u4e0a\u200b\u624b\u200b\u51bb\u5f97\u200b\u8981\u547d\u200b\uff0c\u200b\u7fbd\u7ed2\u670d\u200b\u62c9\u94fe\u200b\u4e5f\u200b\u5c3d\u91cf\u200b\u62c9\u5230\u200b\u6700\u6ee1\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u9884\u89c1\u200b\uff0c\u200b\u5f00\u5b66\u200b\u540e\u200b\u53c8\u200b\u8981\u200b\u5fd9\u200b\u4e86\u200b\u3002\u200b\u73cd\u60dc\u200b\u5f00\u5b66\u200b\u524d\u200b\u81ea\u7531\u200b\u5b66\u4e60\u200b\u7684\u200b\u65f6\u5149\u200b\u5427\u200b\u3002</p>","tags":["\u751f\u6d3b"]},{"location":"blog/python-copy/","title":"Python \u200b\u4e2d\u200b\u7684\u200b\u8d4b\u503c\u200b\u4e0e\u200b\u6df1\u6d45\u200b\u62f7\u8d1d","text":"<p>Python \u200b\u4e2d\u200b\u7684\u200b\u8d4b\u503c\u200b\u53ea\u662f\u200b\u5f15\u7528\u200b\u4e86\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5f53\u539f\u200b\u53d8\u91cf\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\u65f6\u200b\uff0c\u200b\u65b0\u200b\u53d8\u91cf\u200b\u4e5f\u200b\u4f1a\u200b\u968f\u4e4b\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\u3002</p> <p><code>.copy()</code>\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u6d45\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u7236\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\uff09\uff0c\u200b\u4f46\u5b50\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e8c\u7ea7\u200b\u76ee\u5f55\u200b\uff09\u200b\u4ecd\u7136\u200b\u53ea\u662f\u200b\u5f15\u7528\u200b\u3002</p> <p><code>.deepcopy()</code>\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u6df1\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u7236\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\uff09\u200b\u548c\u5b50\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e8c\u7ea7\u200b\u76ee\u5f55\u200b\uff09\uff0c\u200b\u5f53\u539f\u200b\u53d8\u91cf\u200b\u6539\u53d8\u200b\u65f6\u200b\uff0c\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u5f97\u5230\u200b\u7684\u200b\u53d8\u91cf\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b\u4efb\u4f55\u200b\u6539\u53d8\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-copy/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"","tags":["Python"]},{"location":"blog/python-copy/#\u5bfc\u5165copy\u5305\u4ec5\u5728\u6df1\u62f7\u8d1d\u65f6\u9700\u8981\u7528\u5230","title":"\u5bfc\u5165\u200b<code>copy</code>\u200b\u5305\u200b\uff08\u200b\u4ec5\u200b\u5728\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u65f6\u200b\u9700\u8981\u200b\u7528\u5230\u200b\uff09","text":"Python<pre><code>import copy\n</code></pre>","tags":["Python"]},{"location":"blog/python-copy/#\u521b\u5efa\u5e26\u6709\u4e8c\u7ea7\u76ee\u5f55\u7684\u5b57\u5178","title":"\u521b\u5efa\u200b\u5e26\u6709\u200b\u4e8c\u7ea7\u200b\u76ee\u5f55\u200b\u7684\u200b\u5b57\u5178","text":"Python<pre><code>dict1 = {\"user\": \"runoob\", \"num\": [1, 2, 3]}\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b\u6570\u7ec4\u200b<code>[1,2,3]</code>\u200b\u5c31\u662f\u200b\u5b50\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e8c\u7ea7\u200b\u76ee\u5f55\u200b\uff09\u3002</p>","tags":["Python"]},{"location":"blog/python-copy/#\u8d4b\u503c\u4e0e\u6df1\u6d45\u62f7\u8d1d","title":"\u8d4b\u503c\u200b\u4e0e\u200b\u6df1\u6d45\u200b\u62f7\u8d1d","text":"Python<pre><code>dict2 = dict1  # \u200b\u6d45\u200b\u62f7\u8d1d\u200b\uff1a\u200b\u5f15\u7528\u200b\u5bf9\u8c61\u200b\ndict3 = dict1.copy()  # \u200b\u6d45\u200b\u62f7\u8d1d\u200b\uff1a\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u7236\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\uff09\uff0c\u200b\u5b50\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e8c\u7ea7\u200b\u76ee\u5f55\u200b\uff09\u200b\u4e0d\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u5b50\u200b\u5bf9\u8c61\u200b\u662f\u200b\u5f15\u7528\u200b\ndict4 = copy.deepcopy(dict1)  # \u200b\u6df1\u200b\u62f7\u8d1d\u200b\uff1a\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u7236\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\uff09\u200b\u6838\u5b50\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4e8c\u7ea7\u200b\u76ee\u5f55\u200b\uff09\n</code></pre>","tags":["Python"]},{"location":"blog/python-copy/#\u4fee\u6539\u539f\u53d8\u91cf","title":"\u4fee\u6539\u200b\u539f\u200b\u53d8\u91cf","text":"Python<pre><code>dict1[\"user\"] = \"root\"\ndict1[\"num\"].remove(1)\n</code></pre>","tags":["Python"]},{"location":"blog/python-copy/#\u67e5\u770b\u8d4b\u503c\u4e0e\u6df1\u6d45\u62f7\u8d1d\u7684\u7ed3\u679c\u662f\u5426\u6539\u53d8","title":"\u67e5\u770b\u200b\u8d4b\u503c\u200b\u4e0e\u200b\u6df1\u6d45\u200b\u62f7\u8d1d\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u5426\u200b\u6539\u53d8","text":"Python<pre><code># \u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\nprint(\"dict1\", dict1)\nprint(\"dict2\", dict2)\nprint(\"dict3\", dict3)\nprint(\"dict4\", dict4)\n</code></pre> Python<pre><code>dict1 = {\"user\": \"root\", \"num\": [2, 3]}\ndict2 = {\"user\": \"root\", \"num\": [2, 3]}  # (1)!\ndict3 = {\"user\": \"runoob\", \"num\": [2, 3]}  # (2)!\ndict4 = {\"user\": \"runoob\", \"num\": [1, 2, 3]}  # (3)!\n</code></pre> <ol> <li>\u200b\u8d4b\u503c\u200b\u53ea\u662f\u200b\u5f15\u7528\u200b\u4e86\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5f53\u539f\u200b\u53d8\u91cf\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\u65f6\u200b\uff0c\u200b\u65b0\u200b\u53d8\u91cf\u200b\u4e5f\u200b\u4f1a\u200b\u968f\u4e4b\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\u3002</li> <li>\u200b\u6d45\u200b\u62f7\u8d1d\u200b\u4e2d\u200b\u7684\u200b\u7236\u200b\u5bf9\u8c61\u200b<code>'user': 'runoob'</code>\u200b\u6ca1\u6709\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\uff0c\u200b\u4f46\u200b<code>'num': [1, 2, 3]</code>\u200b\u4e5f\u200b\u53d8\u6210\u200b\u4e86\u200b<code>'num': [2, 3]</code>\u3002</li> <li>\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u4e2d\u200b\u7684\u200b\u7236\u200b\u5bf9\u8c61\u200b<code>'user': 'runoob'</code>\u200b\u548c\u200b<code>'num': [1, 2, 3]</code>\u200b\u90fd\u200b\u6ca1\u6709\u200b\u6539\u53d8\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"blog/python-formatter-black/","title":"Black \u200b\u683c\u5f0f\u5316\u200b Python \u200b\u4ee3\u7801","text":"<p>\u200b\u7528\u200b Black \u200b\u81ea\u52a8\u200b\u683c\u5f0f\u5316\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u7f16\u5199\u200b\u89c4\u8303\u200b\u3001\u200b\u7f8e\u89c2\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u8ba9\u200b\u9605\u8bfb\u200b\u4ee3\u7801\u200b\u53d8\u6210\u200b\u4e00\u79cd\u200b\u4eab\u53d7\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5728\u200b VS Code \u200b\u4e2d\u200b\u5b89\u88c5\u200b Black \u200b\u65f6\u200b\u9047\u5230\u200b\u7684\u200b\u95ee\u9898\u200b\u548c\u200b\u89e3\u51b3\u65b9\u6848\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/python-formatter-black/#\u5b89\u88c5\u65b9\u6cd5","title":"\u5b89\u88c5\u200b\u65b9\u6cd5","text":"<p>\u200b\u6709\u200b\u5f88\u591a\u200b\u5173\u4e8e\u200b Black \u200b\u7684\u200b\u5b89\u88c5\u200b\u6559\u7a0b\u200b\u3002\u200b\u5927\u81f4\u200b\u5206\u200b 3 \u200b\u6b65\u200b\uff1a</p> <ol> <li>\u200b\u5b89\u88c5\u200b Black \u200b\u5305\u200b\u3002</li> </ol> Bash<pre><code>pip install black\n</code></pre> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u683c\u5f0f\u5316\u200b Jupyter Notebooks\uff0c\u200b\u9700\u8981\u200b\u7528\u200b</p> Bash<pre><code>pip install \"black[jupyter]\" # (1)!\n</code></pre> <ol> <li> <p>\u200b\u5b98\u65b9\u200b\u5b89\u88c5\u200b\u6307\u5357\u200b</p> </li> <li> <p>\u200b\u5728\u200b VS Code \u200b\u4e2d\u200b\u5b89\u88c5\u200b Black Formatter \u200b\u6269\u5c55\u200b\u3002\u200b\u94fe\u63a5\u200b\uff1ahttps://marketplace.visualstudio.com/items?itemName=ms-python.black-formatter</p> </li> <li> <p>\u200b\u8fdb\u884c\u200b\u5fc5\u8981\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> </li> <li> <p><code>format on save</code></p> </li> </ol> <p></p> <ul> <li><code>python formatting provider</code></li> </ul> <p></p> <p>\u200b\u547c\u200b\u51fa\u200b VS Code \u200b\u8bbe\u7f6e\u200b\u7684\u200b\u952e\u76d8\u200b\u5feb\u6377\u952e\u200b</p> <p>Ctrl+,</p>","tags":["Python"]},{"location":"blog/python-formatter-black/#\u67e5\u770b-black-\u4f4d\u7f6e","title":"\u67e5\u770b\u200b Black \u200b\u4f4d\u7f6e","text":"","tags":["Python"]},{"location":"blog/python-formatter-black/#\u6e90\u4ee3\u7801\u4f4d\u7f6e","title":"\u6e90\u4ee3\u7801\u200b\u4f4d\u7f6e","text":"Bash<pre><code>pip show black\n</code></pre>","tags":["Python"]},{"location":"blog/python-formatter-black/#\u53ef\u6267\u884c\u6587\u4ef6\u4f4d\u7f6e","title":"\u53ef\u6267\u884c\u6587\u4ef6\u200b\u4f4d\u7f6e","text":"Bash<pre><code>which black\n</code></pre>","tags":["Python"]},{"location":"blog/python-formatter-black/#\u51fa\u73b0\u7684\u95ee\u9898","title":"\u51fa\u73b0\u200b\u7684\u200b\u95ee\u9898","text":"<p>\u200b\u5982\u679c\u200b\u62a5\u9519\u200b\uff1a</p> <p></p> <p>\u200b\u5728\u200b Jupyter Notebook Cell \u200b\u4e2d\u200b\u9700\u8981\u200b\u70b9\u51fb\u200b <code>\u200b\u4f7f\u7528\u200b ... \u200b\u683c\u5f0f\u5316\u200b\u6587\u6863\u200b</code>\uff0c\u200b\u4e0d\u8981\u200b\u70b9\u51fb\u200b<code>\u200b\u683c\u5f0f\u5316\u200b\u9009\u5b9a\u200b\u5185\u5bb9\u200b</code>\u3002</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c1d\u8bd5\u200b\uff1a\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\uff0c\u200b\u70b9\u51fb\u200b\u201c\u200b\u8bbe\u7f6e\u200b\u5355\u5143\u683c\u200b\u683c\u5f0f\u200b\u201d\uff08\u200b\u5feb\u6377\u952e\u200b Shift+Alt+F\uff09</p> <p></p> <p>\u200b\u5bf9\u4e8e\u200b Python \u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6b63\u5e38\u200b\u683c\u5f0f\u5316\u200b\u3002</p> <p>Tip</p> <p>\u200b\u5982\u679c\u200b\u8fd8\u662f\u200b\u6ca1\u200b\u53cd\u5e94\u200b\uff0c\u200b\u8bb0\u5f97\u200b\u9009\u200b\u597d\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u518d\u200b\u5c1d\u8bd5\u200b\u3002\u200b\u6ca1\u6709\u200b\u8bbe\u5b9a\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u81ea\u52a8\u200b\u683c\u5f0f\u5316\u200b\u7684\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-formatter-black/#\u547d\u4ee4\u884c\u6a21\u5f0f","title":"\u547d\u4ee4\u884c\u200b\u6a21\u5f0f","text":"<p>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u4e00\u952e\u200b\u683c\u5f0f\u5316\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5305\u62ec\u200b <code>.py</code> \u200b\u548c\u200b <code>.ipynb</code>\u3002\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u63d0\u793a\u200b\u54ea\u4e9b\u200b\u6587\u4ef6\u200b\u683c\u5f0f\u5316\u200b\u5931\u8d25\u200b\u3002</p> Bash<pre><code>black /home/fengchao\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/vscode-keyboard-shortcuts/","title":"\u4fee\u6539\u200b VS Code \u200b\u952e\u76d8\u200b\u5feb\u6377\u952e","text":"<p><code>\u200b\u6587\u4ef6\u200b</code> \u2192 <code>\u200b\u9996\u9009\u9879\u200b</code> \u2192 <code>\u200b\u952e\u76d8\u200b\u5feb\u6377\u65b9\u5f0f\u200b</code></p> <p></p> <p>\u200b\u6216\u8005\u200b\u7528\u200b\u5feb\u6377\u952e\u200bCtrl+K+S \u200b\u547c\u200b\u51fa\u200b\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/python-merge-pdf/","title":"Python \u200b\u81ea\u52a8\u200b\u5408\u5e76\u200b PDF \u200b\u6587\u4ef6","text":"","tags":["Python"]},{"location":"blog/python-merge-pdf/#\u95ee\u9898\u4e0e\u9700\u6c42","title":"\u95ee\u9898\u200b\u4e0e\u200b\u9700\u6c42","text":"<p>\u200b\u5408\u5e76\u200b PDF \u200b\u6587\u4ef6\u200b\u662f\u200b\u5e38\u7528\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5982\u679c\u200b\u624b\u52a8\u200b\u5408\u5e76\u200b\u7684\u8bdd\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Adobe Acrobat \u200b\u8fd9\u200b\u7c7b\u200b\u4e13\u4e1a\u200b\u8f6f\u4ef6\u200b\uff0c\u200b\u53ea\u8981\u200b\u70b9\u70b9\u200b\u9f20\u6807\u200b\u5373\u53ef\u200b\u5b8c\u6210\u200b\u5408\u5e76\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5408\u5e76\u200b\u540c\u6837\u200b\u7684\u200b\u6587\u4ef6\u200b\uff08\u200b\u4f8b\u5982\u200b\u7ecf\u5e38\u200b\u66f4\u65b0\u200b\u7684\u200b\u4e2d\u200b\u82f1\u6587\u7b80\u5386\u200b\uff09\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b PyPDF2 \u200b\u5305\u200b\uff0c\u200b\u51e0\u884c\u200b\u4ee3\u7801\u200b\u5373\u53ef\u200b\u5b9e\u73b0\u200b\u81ea\u52a8\u200b\u5408\u5e76\u200b PDF \u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-merge-pdf/#\u4ee3\u7801\u5b9e\u73b0","title":"\u4ee3\u7801\u200b\u5b9e\u73b0","text":"Python<pre><code>from PyPDF2 import PdfMerger\npdfs = [\"./\u200b\u6587\u4ef6\u5939\u200b 1/\u200b\u6587\u4ef6\u200b 1.pdf\", \"./\u200b\u6587\u4ef6\u5939\u200b 2/\u200b\u6587\u4ef6\u200b 2.pdf\"]\nmerger = PdfMerger()\nfor pdf in pdfs:\nmerger.append(open(pdf, \"rb\"))\nwith open(\"\u200b\u5408\u5e76\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u200b.pdf\", \"wb\") as fout:\nmerger.write(fout)\n</code></pre>","tags":["Python"]},{"location":"blog/python-merge-pdf/#\u7f16\u5199\u81ea\u52a8\u5316-batch-\u811a\u672c","title":"\u7f16\u5199\u200b\u81ea\u52a8\u5316\u200b Batch \u200b\u811a\u672c","text":"<p>\u200b\u518d\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b Batch \u200b\u811a\u672c\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5373\u53ef\u200b\u5b9e\u73b0\u200b\u70b9\u200b\u4e00\u70b9\u200b\u9f20\u6807\u200b\u5c31\u200b\u80fd\u200b\u5408\u5e76\u200b PDF \u200b\u6587\u4ef6\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> Bash<pre><code>python merge-pdf.py\n</code></pre>","tags":["Python"]},{"location":"blog/python-debug/","title":"\u4f7f\u7528\u200b <code>pdb</code> \u200b\u8c03\u8bd5\u200b\u4ee3\u7801","text":"<p><code>pdb</code> \u200b\u662f\u200b Python \u200b\u5185\u7f6e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8c03\u8bd5\u200b\u5e93\u200b\uff0c\u200b\u4e3a\u200b Python \u200b\u7a0b\u5e8f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u4ea4\u4e92\u200b\u7684\u200b\u6e90\u4ee3\u7801\u200b\u8c03\u8bd5\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7279\u6027\u200b\u5305\u62ec\u200b\u8bbe\u7f6e\u200b\u65ad\u70b9\u200b\u3001\u200b\u5355\u6b65\u200b\u8c03\u8bd5\u200b\u3001\u200b\u8fdb\u5165\u200b\u51fd\u6570\u200b\u8c03\u8bd5\u200b\u3001\u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u4ee3\u7801\u200b\u3001\u200b\u67e5\u770b\u200b\u6808\u200b\u7247\u6bb5\u200b\u3001\u200b\u52a8\u6001\u200b\u6539\u53d8\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-debug/#\u5e38\u7528\u7684-pdb-\u547d\u4ee4","title":"\u5e38\u7528\u200b\u7684\u200b <code>pdb</code> \u200b\u547d\u4ee4","text":"","tags":["Python"]},{"location":"blog/python-debug/#\u6ce8\u610f\u4e8b\u9879","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u200b\u6709\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u548c\u200b <code>pdb</code> \u200b\u5185\u7f6e\u200b\u7684\u200b\u547d\u4ee4\u200b\u6709\u200b\u51b2\u7a81\u200b\uff0c\u200b\u4f8b\u5982\u200b</p> Python<pre><code>list()\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5728\u200b\u8c03\u8bd5\u200b\u65f6\u200b\u4f7f\u7528\u200b\u8fd9\u4e9b\u200b\u6709\u200b\u51b2\u7a81\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4ee3\u7801\u200b\u524d\u200b\u52a0\u4e0a\u200b<code>!</code>\u3002\u200b\u4f8b\u5982\u200b</p> Text Only<pre><code>!list()\n</code></pre> <p>\u200b\u53c2\u8003\u200b https://stackoverflow.com/a/23050282/16760102</p>","tags":["Python"]},{"location":"blog/delete-latex-auxiliary-files/","title":"\u5220\u9664\u200b \\(\\LaTeX\\) \u200b\u7f16\u8bd1\u200b\u751f\u6210\u200b\u7684\u200b\u9644\u52a0\u6587\u4ef6","text":"<p>\u200b\u7f16\u8bd1\u200b \\(\\LaTeX\\) \u200b\u540e\u200b\u751f\u6210\u200b\u7684\u200b\u8bb8\u591a\u200b\u6587\u4ef6\u200b\u662f\u200b\u4e0d\u200b\u9700\u8981\u200b\u7684\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b VS Code \u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u5c06\u200b\u5b83\u4eec\u200b\u81ea\u52a8\u200b\u5220\u9664\u200b\u3002</p> Text Only<pre><code>\"latex-workshop.latex.autoClean.run\": \"onBuilt\", //\u200b\u81ea\u52a8\u200b\u6e05\u7406\u200b\u4e0d\u200b\u9700\u8981\u200b\u7684\u200b\u6587\u4ef6\u200b\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff1a<code>.synctex.gz</code> \u200b\u6587\u4ef6\u200b\u662f\u200b\u7528\u4e8e\u200b\u540c\u6b65\u200b <code>.tex</code> \u200b\u548c\u200b PDF \u200b\u6587\u4ef6\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b\u5c06\u200b\u5176\u200b\u5220\u9664\u200b\u5219\u200b\u65e0\u6cd5\u200b\u81ea\u52a8\u200b\u5728\u200b<code>.tex</code> \u200b\u548c\u200b PDF \u200b\u6587\u4ef6\u200b\u4e4b\u95f4\u200b\u8fdb\u884c\u200b\u8df3\u8f6c\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b https://github.com/James-Yu/LaTeX-Workshop/issues/1261#issuecomment-477985007</p>","tags":["LaTeX"]},{"location":"blog/latex-template/","title":"\\(\\LaTeX\\) \u200b\u6a21\u677f","text":"<p>\u200b\u5c06\u200b\u5e38\u7528\u200b\u7684\u200b\u6a21\u677f\u200b\u603b\u7ed3\u200b\u4e8e\u200b\u6b64\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u5feb\u901f\u200b\u4e66\u5199\u200b\u6587\u6863\u200b\u3002</p>","tags":["LaTeX"]},{"location":"blog/latex-template/#\u4f5c\u4e1a\u6a21\u677f","title":"\u4f5c\u4e1a\u200b\u6a21\u677f","text":"\u4f7f\u7528\u200b\u6548\u679c\u200b \u200b\u6a21\u677f\u200b\u4ee3\u7801\u200b TeX<pre><code>\\documentclass[hyperref,a4paper,UTF8]{ctexart}\n\\usepackage[left=2.50cm, right=2.50cm, top=2.50cm, bottom=2.50cm]{geometry}\n\\usepackage[unicode=true,colorlinks,urlcolor=blue,linkcolor=blue,bookmarksnumbered=true]{hyperref}\n\\usepackage{latexsym,amssymb,amsmath,amsbsy,amsopn,amstext,amsthm,amsxtra,color,bm,calc,ifpdf}\n\\usepackage{graphicx}\n\\usepackage{enumerate}\n\\usepackage{fancyhdr}\n\\usepackage{listings}\n\\usepackage{multirow}\n\\usepackage{makeidx}\n\\usepackage{xcolor}\n\\usepackage{fontspec}\n\\usepackage{subfigure}\n\\usepackage{hyperref}\n\\usepackage{appendix}\n\\usepackage{pythonhighlight}\n\\usepackage{booktabs}\n\\usepackage{algorithm,algpseudocode}\n\\setmonofont{Consolas}\n\\pagestyle{fancy}\n\\fancyhead[L]{}\n\\fancyhead[C]{\\kaishu \u200b\u9875\u7709\u200b \\qquad \u200b\u51af\u8d85\u200b \\qquad 22210690089}\n\\fancyhead[R]{}\n\\title{\\textbf{{\u200b\u6807\u9898\u200b}}}\n\\author{\n\\kaishu\\normalsize\n  \u200b\u59d3\u540d\u200b\uff1a\\underline{\u200b\u51af\u8d85\u200b} \\qquad\n  \u200b\u9879\u76ee\u200b\uff1a\\underline{DS\\&amp;BA} \\qquad\n  \u200b\u5b66\u200b\u53f7\u200b\uff1a\\underline{22210690089}\n}\n\\date{} % \u200b\u7559\u7a7a\u200b\uff0c\u200b\u4e0d\u200b\u663e\u793a\u200b\u65e5\u671f\u200b\n\\begin{document}\n\\maketitle\n\\tableofcontents\n\\section{\u200b\u6807\u9898\u200b}\n\\subsection{\u200b\u516c\u5f0f\u200b}\n$$\n    R_{it}^e =\\alpha_i+\\beta_i ^\\prime \\lambda_t+\\varepsilon_{it},\\quad t=1,2,\\dots, T\n$$\n\\subsection{\u200b\u7b97\u6cd5\u200b}\n\\begin{algorithm}[H]\n    \\caption{\u200b\u5750\u6807\u200b\u4e0b\u964d\u200b\u6cd5\u200b}\\label{\u200b\u5750\u6807\u200b\u4e0b\u964d\u200b\u6cd5\u200b}\n\\hspace*{\\algorithmicindent} \\textbf{Input} \u200b\u6b65\u957f\u200b\u51cf\u5c0f\u200b\u7684\u200b\u53c2\u6570\u200b$\\alpha$($\\alpha&gt;0$), \u200b\u6700\u5927\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b$K$, \u200b\u8fed\u4ee3\u200b\u521d\u59cb\u503c\u200b$\\boldsymbol{\\beta}^0$\\\\\n\\hspace*{\\algorithmicindent} \\textbf{Output} \u200b\u8fed\u4ee3\u200b$K$\u200b\u6b21\u540e\u200b\u5f97\u5230\u200b\u7684\u200b$\\boldsymbol{\\beta}$\n\\begin{algorithmic}[1]\n        \\Function{coordinate\\_descent}{$\\alpha,K,\\boldsymbol{\\beta}^0$}\n\\State $t_0 \\leftarrow 1$, $\\boldsymbol{\\beta} \\leftarrow \\boldsymbol{\\beta}^0$\n\\For{$k\\leftarrow 0$ to $(K-1)$}\n\\State $t_k \\leftarrow (k+1) ^{-\\alpha}$\n\\State $j = k \\% \\beta.shape$ \\Comment{\u200b\u5faa\u73af\u200b\u66f4\u65b0\u200b\u6bcf\u4e2a\u200b\u5206\u91cf\u200b}\n\\State $\\boldsymbol{\\beta}_{j} \\leftarrow \\boldsymbol{\\beta}_{j}-t_k \\nabla f_j(\\boldsymbol{\\beta})$\n\\EndFor\n\\State \\textbf{return} $\\boldsymbol{\\beta}$\n\\EndFunction\n\\end{algorithmic}\n\\end{algorithm}\n\\subsection{\u200b\u4ee3\u7801\u200b}\n\\begin{python}\n    print('Hello World')\n\\end{python}\n\\subsection{\u200b\u56fe\u7247\u200b}\n\\subsubsection{\u200b\u5355\u5f20\u200b\u56fe\u7247\u200b}\n\\begin{figure}[H]\n    \\centering\n\\includegraphics[width=0.5 \\textwidth]{./image.png}\n\\caption{\u200b\u56fe\u7247\u200b\u6807\u9898\u200b}\n\\end{figure}\n\\subsubsection{\u200b\u591a\u200b\u5f20\u200b\u56fe\u7247\u200b\u5e76\u6392\u200b}\n\\begin{figure}[H]\n    \\centering\n\\begin{minipage}[t]{0.48\\textwidth}\n\\centering\n\\includegraphics[width=1\\textwidth]{./image.png}\n\\caption{\u200b\u6807\u9898\u200b 1}\\label{\u200b\u6807\u9898\u200b 1}\n\\end{minipage}\n\\begin{minipage}[t]{0.48\\textwidth}\n\\centering\n\\includegraphics[width=1\\textwidth]{./image.png}\n\\caption{\u200b\u6807\u9898\u200b 2}\\label{\u200b\u6807\u9898\u200b 2}\n\\end{minipage}\n\\end{figure}\n\\subsection{\u200b\u5217\u8868\u200b}\n\\begin{itemize}\n\\item\n          \u200b\u6587\u672c\u200b\n    \\item\n          \u200b\u6587\u672c\u200b\n\\end{itemize}\n\\begin{enumerate}\n\\item\n          \u200b\u6587\u672c\u200b\n    \\item\n          \u200b\u6587\u672c\u200b\n\\end{enumerate}\n\\end{document}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-template/#\u4e66\u4fe1\u6a21\u677f","title":"\u4e66\u4fe1\u200b\u6a21\u677f","text":"\u4f7f\u7528\u200b\u6548\u679c\u200b \u200b\u6a21\u677f\u200b\u4ee3\u7801\u200b TeX<pre><code>\\documentclass[a4paper]{letter}\n\\usepackage{geometry}\n\\geometry{a4paper,left=4cm,right=4cm,top=3cm,bottom=3cm}\n\\usepackage{xcolor}\n\\usepackage{fancyhdr}\n\\usepackage{tgschola}\n\\usepackage[UTF8]{ctex}\n\\usepackage{tcolorbox}\n\\pagestyle{empty}\n\\setlength{\\parskip}{0.5em}\n\\setlength\\parindent{24pt}\n\\usepackage{enumitem}\n\\setenumerate[1]{itemsep=0pt,partopsep=0pt,parsep=0\\parskip,topsep=0pt}\n\\setCJKmainfont{simkai.ttf}\n% \\setCJKmainfont{simkai.ttf}[BoldFont=HuaWenKaiTiBold.ttf]\n\\setmainfont{Arial}\n\\newcommand{\\lettertitle}{\u200b\u4fe1\u4ef6\u200b\u6807\u9898\u200b}\n\\newcommand{\\yourphone}{+86 189-1234-5678}\n\\newcommand{\\youraddress}{\u200b\u4e0a\u6d77\u5e02\u200b\u6768\u6d66\u533a\u200b\u56fd\u200b\u987a\u8def\u200b 670 \u200b\u53f7\u200b}\n\\newcommand{\\youremail}{email@mail.com}\n\\newcommand{\\yourweb}{https://fengchao.pro/}\n\\usepackage[colorlinks = true,\nurlcolor = blue, %\u200b\u94fe\u63a5\u200b\u7684\u200b\u989c\u8272\u200b\npdftitle = {\u200b\u51af\u8d85\u200b}, %PDF \u200b\u6587\u4ef6\u200b\u7684\u200b\u6807\u9898\u200b\npdfauthor = {\u200b\u51af\u8d85\u200b} %PDF \u200b\u6587\u4ef6\u200b\u7684\u200b\u4f5c\u8005\u200b\n]{hyperref}\n\\begin{document}\n\\begin{flushleft}\n\\yourphone\\\\\n\\youraddress\n\\end{flushleft}\n\\vspace{-46pt}\n\\begin{flushright}\n\\href{mailto:\\youremail}{\\youremail}\\\\\n\\href{\\yourweb}{\\yourweb}\n\\end{flushright}\n\\begin{center}\n\\LARGE\\lettertitle\n\\end{center}\n\\bigskip\n\\par \\noindent \u200b\u4eb2\u7231\u200b\u7684\u200b\u5c0f\u660e\u200b\uff1a\n\\par \u200b\u6b63\u6587\u200b\u3002\n\\par \u200b\u8c22\u8c22\u200b\u3002\n\n\\par \\begin{flushright}\n    \u200b\u51af\u8d85\u200b \\\\\n\\today\n\\end{flushright}\n\\end{document}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/sentiment-factor-and-bert/","title":"\u8206\u60c5\u200b\u56e0\u5b50\u200b\u548c\u200b BERT \u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u6a21\u578b","text":"<p>\u200b\u672c\u6587\u200b\u603b\u7ed3\u200b\u4e86\u200b\u7814\u62a5\u200b \u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u548c\u200b BERT \u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u6a21\u578b\u200b - \u200b\u534e\u6cf0\u200b\u8bc1\u5238\u200b \u200b\u7684\u200b\u4e3b\u8981\u200b\u5185\u5bb9\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u601d\u8def\u4e0e\u6846\u67b6","title":"\u601d\u8def\u200b\u4e0e\u200b\u6846\u67b6","text":"<ol> <li>\u200b\u57fa\u4e8e\u200b Wind \u200b\u91d1\u878d\u200b\u65b0\u95fb\u200b\u6570\u636e\u200b\uff0c\u200b\u63d0\u53d6\u200b\u5176\u4e2d\u200b\u7684\u200b\u60c5\u611f\u200b\u6b63\u200b\u8d1f\u9762\u200b\u6807\u7b7e\u200b\uff0c\u200b\u6784\u5efa\u200b\u65e5\u9891\u200b\u7684\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u56de\u5f52\u200b\u6cd5\u200b\u3001IC \u200b\u503c\u200b\u5206\u6790\u6cd5\u200b\u548c\u200b\u5206\u5c42\u200b\u6d4b\u8bd5\u6cd5\u200b\uff0c\u200b\u68c0\u9a8c\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u3002</li> <li>\u200b\u57fa\u4e8e\u200b\u5df2\u6709\u200b\u60c5\u611f\u200b\u6807\u6ce8\u200b\u7684\u200b Wind \u200b\u91d1\u878d\u200b\u65b0\u95fb\u200b\u6570\u636e\u200b\uff0c\u200b\u6d4b\u8bd5\u200b BERT \u200b\u6a21\u578b\u200b\u5728\u200b\u91d1\u878d\u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u7684\u200b\u8868\u73b0\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u65b0\u95fb\u8206\u60c5\u56e0\u5b50\u6784\u5efa\u8fc7\u7a0b","title":"\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u6784\u5efa\u200b\u8fc7\u7a0b","text":"<ol> <li> <p>\u200b\u5bf9\u200b\u539f\u59cb\u200b\u65b0\u95fb\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u9884\u5904\u7406\u200b\uff08\u200b\u5982\u200b\u5254\u9664\u200b\u7279\u5b9a\u200b\u65b0\u95fb\u200b\u3001\u200b\u6587\u672c\u200b\u5408\u5e76\u200b\u7b49\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b \\(i\\) \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u81ea\u7136\u200b\u65e5\u200b \\(t\\) \u200b\u7684\u200b\u60c5\u611f\u200b\u5f97\u200b\u5206\u4e3a\u200b</p> </li> </ol> <p>$$    S_{i, t}=\\text { \u200b\u6b63\u9762\u200b\u65b0\u95fb\u200b\u6570\u91cf\u200b - \u200b\u8d1f\u9762\u65b0\u95fb\u200b\u6570\u91cf\u200b }    $$</p> <ol> <li>\u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b \\(i\\) \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u4ea4\u6613\u65e5\u200b \\(T\\) \u200b\u7684\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u4e3a\u200b</li> </ol> <p>$$    F_{i, T}=\\sum_{t=T-29}^T w_t S_{i, t}, \\quad w_t=\\frac{30-(T-t)}{30}    $$</p> <p>\u200b\u4e0a\u5f0f\u200b\u4e2d\u200b\u7684\u200b \\(w_t\\) \u200b\u4f7f\u5f97\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u662f\u200b\u4e2a\u80a1\u200b\u60c5\u611f\u200b\u5f97\u5206\u200b\u7684\u200b\u7ebf\u6027\u200b\u8870\u51cf\u200b\u52a0\u6743\u200b\u548c\u200b\u3002</p> <ol> <li> <p>\u200b\u5254\u9664\u200b\u8bc1\u5238\u200b\u884c\u4e1a\u200b\u7684\u200b\u4e2a\u80a1\u200b\u3002</p> </li> <li> <p>\u200b\u5bf9\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u8fdb\u884c\u200b\u884c\u4e1a\u200b\u5e02\u503c\u200b\u4e2d\u6027\u200b\u3002</p> </li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u5355\u56e0\u5b50\u6d4b\u8bd5\u65b9\u6cd5","title":"\u5355\u200b\u56e0\u5b50\u200b\u6d4b\u8bd5\u65b9\u6cd5","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u56de\u5f52\u6cd5","title":"\u56de\u5f52\u200b\u6cd5","text":"<p>\u200b\u5c06\u200b\u7b2c\u200b \\(T\\) \u200b\u671f\u200b\u7684\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\u5ea6\u200b\u5411\u91cf\u200b\u4e0e\u200b \\(T + 1\\) \u200b\u671f\u200b\u7684\u200b\u80a1\u7968\u200b\u6536\u76ca\u200b\u5411\u91cf\u200b\u8fdb\u884c\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\uff1a</p> \\[ r^{T+1}=X^T a^T+\\sum_j Indus_j^{\\mathrm{T}} b_j^T+ln\\_m k t^{\\mathrm{T}} b^T+\\varepsilon^T \\] <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u56de\u5f52\u7cfb\u6570\u200b \\(a^T\\) \u200b\u5373\u200b\u4e3a\u200b\u56e0\u5b50\u200b\u5728\u200b \\(T\\) \u200b\u671f\u200b\u7684\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u8fd8\u200b\u80fd\u200b\u5f97\u5230\u200b\u8be5\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u5728\u200b\u672c\u671f\u200b\u56de\u5f52\u200b\u4e2d\u200b\u7684\u200b\u663e\u8457\u200b\u5ea6\u200b\u6c34\u5e73\u200b\uff0c\u200b\u5373\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b t \u200b\u503c\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u7ec6\u8282\u5904\u7406","title":"\u7ec6\u8282\u200b\u5904\u7406","text":"<ol> <li>\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b\uff1a\\(r^{T+1}\\) \u200b\u53ef\u200b\u9009\u200b\u672a\u6765\u200b 20 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u5185\u200b\u4e2a\u80a1\u200b\u6536\u76ca\u7387\u200b\u3002</li> <li>\u200b\u4e2d\u4f4d\u6570\u200b\u53bb\u200b\u6781\u503c\u200b\uff1a\u200b\u907f\u514d\u200b\u6781\u7aef\u200b\u503c\u200b\u5bf9\u200b\u56de\u5f52\u200b\u7ed3\u679c\u200b\u9020\u6210\u200b\u8f83\u5927\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</li> <li>\u200b\u4e2d\u6027\u5316\u200b\uff1a\u200b\u56de\u5f52\u65b9\u7a0b\u200b\u4e2d\u200b\u52a0\u5165\u200b\u4e86\u200b \\(Indus_j^{\\mathrm{T}}\\) \u200b\u548c\u200b \\(ln\\_m k t^{\\mathrm{T}}\\)\uff0c\u200b\u8003\u8651\u200b\u4e86\u200b\u884c\u4e1a\u200b\u548c\u200b\u5e02\u503c\u200b\u5bf9\u200b\u4e2a\u80a1\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002\uff08\u200b\u4e2a\u4eba\u200b\u8ba4\u4e3a\u200b\u7814\u62a5\u200b\u4e2d\u200b\u7684\u200b\u7b26\u53f7\u200b\u6ca1\u6709\u200b\u8868\u8ff0\u200b\u6e05\u695a\u200b\uff0c\u200b\u4e0d\u200b\u660e\u767d\u200b\u7814\u62a5\u200b\u4e2d\u200b\u7684\u200b\u7b26\u53f7\u200b\u7a76\u7adf\u200b\u662f\u200b\u6807\u91cf\u200b\u8fd8\u662f\u200b\u5411\u91cf\u200b\u3002\uff09\u200b\u5e02\u503c\u200b\u53d6\u200b\u5bf9\u6570\u200b\u662f\u200b\u4e3a\u4e86\u200b\u8ba9\u200b\u5176\u200b\u66f4\u52a0\u200b\u7b26\u5408\u200b\u6b63\u6001\u5206\u5e03\u200b\uff0c\u200b\u5426\u5219\u200b\u6781\u5c11\u6570\u200b\u5927\u200b\u5e02\u503c\u200b\u7684\u200b\u516c\u53f8\u200b\u4f1a\u200b\u4f7f\u5f97\u200b\u5e02\u503c\u200b\u5448\u200b\u53f3\u200b\u504f\u200b\u5206\u5e03\u200b\u3002</li> <li>\u200b\u6807\u51c6\u5316\u200b\uff1a\u200b\u5c06\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\u5ea6\u200b\u51cf\u53bb\u200b\u5176\u200b\u73b0\u5728\u200b\u7684\u200b\u5747\u503c\u200b\u3001\u200b\u9664\u4ee5\u200b\u5176\u200b\u6807\u51c6\u5dee\u200b\u3002\u200b\u8ba9\u200b\u4e0d\u540c\u200b\u56e0\u5b50\u200b\u7684\u200b\u66b4\u9732\u200b\u5ea6\u200b\u4e4b\u95f4\u200b\u5177\u6709\u200b\u53ef\u6bd4\u6027\u200b\u3002</li> <li>\u200b\u7f3a\u5931\u200b\u503c\u200b\u5904\u7406\u200b\uff1a\u200b\u4f8b\u5982\u200b\u586b\u5145\u200b\u7f3a\u5931\u200b\u503c\u200b\u3002</li> <li>\u200b\u91c7\u7528\u200b\u52a0\u6743\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u56de\u5f52\u200b\uff08WLS\uff09\uff1a\u200b\u4f7f\u7528\u200b\u4e2a\u80a1\u200b\u6d41\u901a\u200b\u5e02\u503c\u200b\u7684\u200b\u5e73\u65b9\u6839\u200b\u4f5c\u4e3a\u200b\u6743\u91cd\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u56e0\u5b50\u8bc4\u4ef7\u65b9\u6cd5","title":"\u56e0\u5b50\u200b\u8bc4\u4ef7\u200b\u65b9\u6cd5","text":"<p>\u200b\u56e0\u5b50\u200b\u8bc4\u4ef7\u200b\u65b9\u6cd5\u200b</p> <ol> <li>t \u200b\u503c\u200b\u5e8f\u5217\u200b\u7edd\u5bf9\u503c\u200b\u5747\u503c\u200b\u2014\u2014\u200b\u56e0\u5b50\u200b\u663e\u8457\u6027\u200b\u7684\u200b\u91cd\u8981\u200b\u5224\u636e\u200b\uff1b</li> <li>t \u200b\u503c\u200b\u5e8f\u5217\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b 2 \u200b\u7684\u200b\u5360\u200b\u6bd4\u200b\u2014\u2014\u200b\u5224\u65ad\u200b\u56e0\u5b50\u200b\u7684\u200b\u663e\u8457\u6027\u200b\u662f\u5426\u200b\u7a33\u5b9a\u200b\uff1b</li> <li>t \u200b\u503c\u200b\u5e8f\u5217\u200b\u5747\u503c\u200b\u2014\u2014\u200b\u4e0e\u200b\u7b2c\u200b 1 \u200b\u70b9\u200b\u7ed3\u5408\u200b\uff0c\u200b\u80fd\u200b\u5224\u65ad\u200b\u56e0\u5b50\u200b t \u200b\u503c\u200b\u6b63\u8d1f\u200b\u65b9\u5411\u200b\u662f\u5426\u200b\u7a33\u5b9a\u200b\uff1b</li> <li>\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u5e8f\u5217\u200b\u5747\u503c\u200b\u2014\u2014\u200b\u5224\u65ad\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5927\u5c0f\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#ic-\u503c\u5206\u6790\u6cd5","title":"IC \u200b\u503c\u200b\u5206\u6790\u6cd5","text":"<p>\u200b\u56e0\u5b50\u200b\u7684\u200b IC \u200b\u503c\u200b\u662f\u200b\u6307\u200b\u56e0\u5b50\u200b\u5728\u200b\u7b2c\u200b T \u200b\u671f\u200b\u7684\u200b\u66b4\u9732\u200b\u5ea6\u200b\u5411\u91cf\u200b\u4e0e\u200b T+1 \u200b\u671f\u200b\u7684\u200b\u80a1\u7968\u200b\u6536\u76ca\u200b\u5411\u91cf\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u5373\u200b</p> \\[ I C^T=\\operatorname{corr}\\left(r^{T+1}, X^T\\right) \\]","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u7ec6\u8282\u5904\u7406_1","title":"\u7ec6\u8282\u200b\u5904\u7406","text":"<p>\u200b\u4e0a\u5f0f\u200b\u4e2d\u200b\u56e0\u5b50\u200b\u66b4\u9732\u200b\u5ea6\u200b\u5411\u91cf\u200b \\(X^T\\) \u200b\u4e00\u822c\u200b\u4e0d\u4f1a\u200b\u76f4\u63a5\u200b\u91c7\u7528\u200b\u539f\u59cb\u200b\u56e0\u5b50\u200b\u503c\u200b\uff0c\u200b\u800c\u662f\u200b\u7ecf\u8fc7\u200b\u53bb\u200b\u6781\u503c\u200b\u3001\u200b\u4e2d\u6027\u5316\u200b\u7b49\u200b\u624b\u6bb5\u200b\u5904\u7406\u200b\u4e4b\u540e\u200b\u7684\u200b\u56e0\u5b50\u200b\u503c\u200b\u3002</p> <p>\u200b\u5728\u200b\u5b9e\u9645\u200b\u8ba1\u7b97\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b Pearson \u200b\u76f8\u5173\u7cfb\u6570\u200b\u53ef\u80fd\u200b\u53d7\u200b\u56e0\u5b50\u200b\u6781\u7aef\u200b\u503c\u200b\u5f71\u54cd\u200b\u8f83\u5927\u200b\uff0c\u200b\u4f7f\u7528\u200b Spearman \u200b\u79e9\u200b\u76f8\u5173\u7cfb\u6570\u200b\u5219\u200b\u66f4\u200b\u7a33\u5065\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u4e0b\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u7684\u200b IC \u200b\u4e00\u822c\u200b\u79f0\u4e3a\u200b Rank IC\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u56e0\u5b50\u8bc4\u4ef7\u65b9\u6cd5_1","title":"\u56e0\u5b50\u200b\u8bc4\u4ef7\u200b\u65b9\u6cd5","text":"<p>\u200b\u56e0\u5b50\u200b\u8bc4\u4ef7\u200b\u65b9\u6cd5\u200b</p> <ol> <li>Rank IC \u200b\u503c\u200b\u5e8f\u5217\u200b\u5747\u503c\u200b\u2014\u2014\u200b\u56e0\u5b50\u200b\u663e\u8457\u6027\u200b\uff1b</li> <li>Rank IC \u200b\u503c\u200b\u5e8f\u5217\u200b\u6807\u51c6\u5dee\u200b\u2014\u2014\u200b\u56e0\u5b50\u200b\u7a33\u5b9a\u6027\u200b\uff1b</li> <li>IC_IR(Rank IC \u200b\u503c\u200b\u5e8f\u5217\u200b\u5747\u503c\u200b\u4e0e\u200b\u6807\u51c6\u5dee\u200b\u7684\u200b\u6bd4\u503c\u200b\uff09\u2014\u2014\u200b\u56e0\u5b50\u200b\u6709\u6548\u6027\u200b\uff1b</li> <li>Rank IC \u200b\u503c\u200b\u5e8f\u5217\u200b\u5927\u4e8e\u200b\u96f6\u200b\u7684\u200b\u5360\u200b\u6bd4\u200b\u2014\u2014\u200b\u56e0\u5b50\u200b\u4f5c\u7528\u200b\u65b9\u5411\u200b\u662f\u5426\u200b\u7a33\u5b9a\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u5206\u5c42\u56de\u6d4b\u6cd5","title":"\u5206\u5c42\u200b\u56de\u6d4b\u6cd5","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u6784\u5efa\u5206\u5c42\u7ec4\u5408","title":"\u6784\u5efa\u200b\u5206\u5c42\u200b\u7ec4\u5408","text":"<p>\u200b\u4f9d\u7167\u200b\u56e0\u5b50\u200b\u503c\u200b\u5bf9\u200b\u80a1\u7968\u200b\u8fdb\u884c\u200b\u6253\u5206\u200b\uff0c\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u622a\u9762\u200b\u671f\u200b\u6838\u7b97\u200b\u56e0\u5b50\u200b\u503c\u200b\uff0c\u200b\u6784\u5efa\u200b\u5206\u5c42\u200b\u7ec4\u5408\u200b\u3002\u200b\u4f8b\u5982\u200b\u5c06\u200b\u80a1\u7968\u200b\u6c60\u200b \u200b\u5185\u200b\u6240\u6709\u200b\u4e2a\u80a1\u200b\u6309\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u56e0\u5b50\u200b\u503c\u200b\u4ece\u200b\u5927\u5230\u200b\u5c0f\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u7b49\u200b\u5206\u200b N \u200b\u5c42\u200b\uff0c\u200b\u6bcf\u5c42\u200b\u5185\u90e8\u200b\u7684\u200b\u4e2a\u80a1\u200b\u7b49\u200b\u6743\u91cd\u200b\u914d\u7f6e\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u8ba1\u7b97\u591a\u7a7a\u7ec4\u5408\u6536\u76ca","title":"\u8ba1\u7b97\u200b\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u6536\u76ca","text":"<p>\u200b\u7528\u200b Top \u200b\u7ec4\u200b\u6bcf\u5929\u200b\u7684\u200b\u6536\u76ca\u200b\u51cf\u53bb\u200b Bottom \u200b\u7ec4\u200b\u6bcf\u5929\u200b\u7684\u200b\u6536\u76ca\u200b\uff0c\u200b\u5f97\u5230\u200b\u6bcf\u65e5\u200b\u591a\u7a7a\u200b\u6536\u76ca\u200b\u5e8f\u5217\u200b \\(r_1, r_2,\\cdots, r_n\\)\uff0c\u200b\u5219\u200b\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u5728\u200b\u7b2c\u200b \\(n\\) \u200b\u5929\u200b\u7684\u200b\u51c0\u503c\u200b\u7b49\u4e8e\u200b \\((1+r_1) (1+r_2) \u22ef(1+r_n)\\) \u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u56e0\u5b50\u8bc4\u4ef7\u65b9\u6cd5_2","title":"\u56e0\u5b50\u200b\u8bc4\u4ef7\u200b\u65b9\u6cd5","text":"<p>\u200b\u56e0\u5b50\u200b\u8bc4\u4ef7\u200b\u65b9\u6cd5\u200b</p> <p>\u200b\u5168\u90e8\u200b N \u200b\u5c42\u200b\u7ec4\u5408\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b \uff08\u200b\u89c2\u5bdf\u200b\u662f\u5426\u200b\u5355\u8c03\u200b\u53d8\u5316\u200b\uff09 \uff0c\u200b\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u7684\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\u3001\u200b\u590f\u666e\u200b\u6bd4\u7387\u200b\u3001\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u7b49\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#\u56e0\u5b50\u6d4b\u8bd5\u7ed3\u679c","title":"\u56e0\u5b50\u200b\u6d4b\u8bd5\u200b\u7ed3\u679c","text":"<p>\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u5728\u200b\u6caa\u200b\u6df1\u200b 300 \u200b\u6210\u5206\u80a1\u200b\u5185\u200b\u8868\u73b0\u200b\u6700\u597d\u200b\uff0c\u200b\u56e0\u5b50\u200b\u6536\u76ca\u7387\u200b\u5747\u503c\u200b\u8fbe\u200b 0.29%\uff0cRankIC \u200b\u5747\u503c\u200b\u8fbe\u200b 6.13%\uff0c\u200b\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\u8fbe\u200b 18.73%\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/sentiment-factor-and-bert/#bert-\u8fd0\u7528\u4e8e\u6587\u672c\u60c5\u611f\u5206\u7c7b","title":"BERT \u200b\u8fd0\u7528\u200b\u4e8e\u200b\u6587\u672c\u200b\u60c5\u611f\u200b\u5206\u7c7b","text":"<p>\u200b\u6211\u200b\u4e0d\u200b\u592a\u200b\u6e05\u695a\u200b BERT \u200b\u7684\u200b\u5e95\u5c42\u200b\u5b66\u4e60\u200b\u673a\u5236\u200b\uff0c\u200b\u76ee\u524d\u200b\u53ea\u80fd\u200b\u5927\u6982\u200b\u7406\u89e3\u200b\u5982\u4f55\u200b\u5c06\u200b BERT \u200b\u8fd0\u7528\u200b\u4e8e\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u7684\u200b\u5173\u952e\u200b\u601d\u8def\u200b\uff1a</p> <ol> <li> <p>\u200b\u5e26\u6709\u200b\u60c5\u611f\u200b\u6807\u6ce8\u200b\u7684\u200b\u91d1\u878d\u200b\u65b0\u95fb\u200b\u662f\u200b\u5177\u6709\u200b [CLS] \u200b\u5b57\u7b26\u200b\u4fe1\u606f\u200b\u7684\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b BERT \u200b\u6a21\u578b\u200b\u7684\u200b\u6700\u200b\u9876\u5c42\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b Softmax \u200b\u5206\u7c7b\u200b\u5c42\u200b\uff0c\u200b\u5e76\u200b\u4ee5\u200b [CLS] \u200b\u5b57\u7b26\u200b\u7684\u200b\u8f93\u51fa\u200b\u4fe1\u606f\u200b\u4f5c\u4e3a\u200b\u5206\u7c7b\u200b\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b BERT \u200b\u5bf9\u200b\u8be5\u200b\u8bed\u53e5\u200b\u7684\u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u7ed3\u679c\u200b\u3002</p> </li> <li> <p>\u200b\u5bf9\u4e8e\u200b\u90a3\u4e9b\u200b\u4e0d\u200b\u5e26\u6709\u200b\u60c5\u611f\u200b\u6807\u6ce8\u200b\u7684\u200b\u91d1\u878d\u200b\u65b0\u95fb\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5df2\u7ecf\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6a21\u578b\u200b\u6765\u200b\u9884\u6d4b\u200b\u8fd9\u200b\u6761\u200b\u65b0\u95fb\u200b\u7684\u200b [CLS] \u200b\u5b57\u7b26\u200b\uff0c\u200b\u5c06\u200b [CLS] \u200b\u5b57\u7b26\u200b\u4f5c\u4e3a\u200b Softmax \u200b\u5206\u7c7b\u200b\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u7ed3\u679c\u200b\u3002</p> <p></p> </li> <li> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6a21\u578b\u200b\u8fd0\u7528\u200b\u4e8e\u200b\u5927\u91cf\u200b\u4e0d\u200b\u5e26\u6709\u200b\u60c5\u611f\u200b\u6807\u6ce8\u200b\u7684\u200b\u91d1\u878d\u200b\u65b0\u95fb\u200b\uff0c\u200b\u5bf9\u200b\u4e2a\u80a1\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u8fdb\u884c\u200b\u66f4\u200b\u5168\u9762\u200b\u3001\u200b\u65e0\u504f\u200b\u7684\u200b\u5224\u65ad\u200b\uff0c\u200b\u518d\u7528\u200b\u4e0a\u8ff0\u200b\u56e0\u5b50\u200b\u6d4b\u8bd5\u65b9\u6cd5\u200b\u5bf9\u200b\u65b0\u95fb\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u8fdb\u884c\u200b\u68c0\u9a8c\u200b\u3002</p> </li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/","title":"\u6bcf\u200b\u6708\u5e95\u200b\u4e70\u5165\u200b\u884c\u4e1a\u200b\u5185\u200b PB \u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u80a1\u7968\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u9009\u80a1\u200b\u7b56\u7565\u200b\u56de\u6d4b","text":"<p>\u200b\u672c\u6587\u200b\u56de\u987e\u200b\u4e86\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u4e00\u6b21\u200b\u8bfe\u200b\u524d\u200b\u7ec3\u4e60\u200b\u3002\u200b\u672c\u200b\u7ec3\u4e60\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u6570\u636e\u200b\u90fd\u200b\u6bd4\u8f83\u200b\u6574\u6d01\u200b\u3001\u200b\u89c4\u8303\u200b\uff0c\u200b\u9009\u80a1\u200b\u903b\u8f91\u200b\u4e5f\u200b\u6bd4\u8f83\u7b80\u5355\u200b\u6e05\u6670\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u5b9e\u73b0\u200b\u9009\u80a1\u200b\u56de\u6d4b\u200b\u7684\u200b\u7ec3\u4e60\u200b\u673a\u4f1a\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u7b56\u7565\u63cf\u8ff0","title":"\u7b56\u7565\u200b\u63cf\u8ff0","text":"<p>\u200b\u7b56\u7565\u200b\u63cf\u8ff0\u200b</p> <p>\u200b\u8bf7\u200b\u628a\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u80a1\u7968\u200b\u6570\u636e\u200b\uff0c\u200b\u6839\u636e\u200b\u884c\u4e1a\u200b\u5206\u7c7b\u200b\uff08\u200b\u7533\u4e07\u200b\u4e00\u7ea7\u200b\u884c\u4e1a\u200b\uff09\uff0c\u200b\u5206\u522b\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u200b\u884c\u4e1a\u200b\u7684\u200b\u80a1\u7968\u200b\u6309\u200b PB \u200b\u7531\u200b\u4f4e\u200b\u5230\u200b\u9ad8\u200b\u5206\u4e3a\u200b 5 \u200b\u7ec4\u200b\uff0c\u200b\u6bcf\u6708\u200b\u7b2c\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u4e70\u5165\u200b\u90a3\u4e9b\u200b\u4e0a\u200b\u6708\u200b PB \u200b\u5904\u4e8e\u200b\u6240\u5728\u200b\u884c\u4e1a\u200b\u6392\u540d\u200b\u6700\u4f4e\u200b 20% \u200b\u5206\u4f4d\u200b\u7ec4\u200b\uff08\u200b\u5373\u200b PB \u200b\u7531\u200b\u4f4e\u200b\u5230\u200b\u9ad8\u200b\u6392\u5e8f\u200b\u7684\u200b\u7b2c\u4e00\u7ec4\u200b\uff09\u200b\u7684\u200b\u80a1\u7968\u200b\uff0c\u200b\u6301\u6709\u200b 1 \u200b\u4e2a\u200b\u6708\u200b\uff0c\u200b\u6bcf\u6708\u200b\u6362\u4ed3\u200b\u4e00\u6b21\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u8be5\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u6301\u4ed3\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u590f\u666e\u200b\u6bd4\u7387\u200b\uff0c\u200b\u5e76\u200b\u753b\u51fa\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\u66f2\u7ebf\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u6570\u636e\u63cf\u8ff0","title":"\u6570\u636e\u200b\u63cf\u8ff0","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u884c\u4e1a\u6570\u636e","title":"\u884c\u4e1a\u200b\u6570\u636e","text":"<p>\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u6bcf\u884c\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\uff0c\u200b\u6bcf\u5217\u200b\u4ee3\u8868\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5355\u5143\u683c\u200b\u4ee3\u8868\u200b\u8be5\u200b\u80a1\u7968\u200b\u5728\u200b\u8be5\u200b\u4ea4\u6613\u65e5\u200b\u6240\u5904\u200b\u7684\u200b\u7533\u4e07\u200b\u4e00\u7ea7\u200b\u884c\u4e1a\u200b\u4ee3\u7801\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5e02\u51c0\u7387-pb-\u6570\u636e","title":"\u5e02\u51c0\u7387\u200b PB \u200b\u6570\u636e","text":"<p>\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u6bcf\u884c\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\uff0c\u200b\u6bcf\u5217\u200b\u4ee3\u8868\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5355\u5143\u683c\u200b\u4ee3\u8868\u200b\u8be5\u200b\u80a1\u7968\u200b\u5728\u200b\u8be5\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u5e02\u51c0\u7387\u200b PB \u200b\u503c\u200b\uff08Price-to-book ratio\uff09\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u4e2a\u80a1\u6536\u76ca\u7387\u6570\u636e","title":"\u4e2a\u80a1\u200b\u6536\u76ca\u7387\u200b\u6570\u636e","text":"<p>\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u6bcf\u884c\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\uff0c\u200b\u6bcf\u5217\u200b\u4ee3\u8868\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5355\u5143\u683c\u200b\u4ee3\u8868\u200b\u8be5\u200b\u80a1\u7968\u200b\u5728\u200b\u8be5\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u65e5\u200b\u6536\u76ca\u7387\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u56de\u6d4b\u4ee3\u7801","title":"\u56de\u6d4b\u200b\u4ee3\u7801","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nimport ast  # \u200b\u7528\u4e8e\u200b\u89e3\u6790\u200b\u5b57\u7b26\u4e32\u200b\nimport swifter  # \u200b\u7528\u4e8e\u200b\u52a0\u901f\u200b .apply() \u200b\u51fd\u6570\u200b\uff0c\u200b\u5e76\u200b\u663e\u793a\u200b\u8fdb\u5ea6\u6761\u200b\nimport matplotlib.pyplot as plt\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\n# \u200b\u4e2a\u80a1\u200b\u884c\u4e1a\u200b\u6570\u636e\u200b\nindustry_data = pd.read_csv(\"../../data/Q4/Q4_industry_data.csv\", index_col=0)\n# \u200b\u4e2a\u80a1\u200b PB \u200b\u6570\u636e\u200b\npb = pd.read_csv(\"../../data/Q4/Q4_PB.csv\", index_col=0)\n# \u200b\u4e2a\u80a1\u200b\u65e5\u200b\u6536\u76ca\u7387\u200b\u6570\u636e\u200b\npct_chg = pd.read_csv(\"../../data/Q4/Q4_pct_chg.csv\", index_col=0)\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u8bfb\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff0c\u200b\u6ce8\u610f\u200b\u6211\u4eec\u200b\u5c06\u200b\u65e5\u671f\u200b\u4f5c\u4e3a\u200b\u4e86\u200b\u7d22\u5f15\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u6570\u636e\u8f6c\u6362\u5c06\u5bbd\u578b\u6570\u636e\u6846\u8f6c\u6362\u4e3a\u957f\u578b\u5e8f\u5217","title":"\u6570\u636e\u200b\u8f6c\u6362\u200b\uff0c\u200b\u5c06\u200b\u5bbd\u578b\u200b\u6570\u636e\u200b\u6846\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u957f\u578b\u200b\u5e8f\u5217","text":"Python<pre><code># \u200b\u5c06\u200b\u5bbd\u578b\u200b\u6570\u636e\u200b\u6846\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u957f\u578b\u200b\u5e8f\u5217\u200b\nindustry_data = industry_data.stack()\npb = pb.stack()\npct_chg = pct_chg.stack()\n</code></pre> <p>\u200b\u6570\u636e\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff0c\u200b\u6ce8\u610f\u200b\u65e5\u671f\u200b\u548c\u200b\u80a1\u7968\u4ee3\u7801\u200b\u7ec4\u6210\u200b\u4e86\u200b\u53cc\u91cd\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4e14\u200b\u80a1\u7968\u4ee3\u7801\u200b\u7684\u200b\u7d22\u5f15\u200b\u6ca1\u6709\u200b\u540d\u5b57\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u4fee\u6539\u53cc\u91cd\u7d22\u5f15\u7684\u540d\u79f0","title":"\u4fee\u6539\u200b\u53cc\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u540d\u79f0","text":"Python<pre><code># \u200b\u6307\u5b9a\u200b multiindex \u200b\u7684\u200b\u540d\u79f0\u200b\nindustry_data.index.names = [\"date\", \"code\"]\npb.index.names = [\"date\", \"code\"]\npct_chg.index.names = [\"date\", \"code\"]\n</code></pre> <p>\u200b\u6570\u636e\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e3a\u200b multiindex \u200b\u6307\u5b9a\u200b\u4e86\u200b\u540d\u79f0\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5408\u5e76\u5e8f\u5217\u4e3a\u6570\u636e\u6846","title":"\u5408\u5e76\u200b\u5e8f\u5217\u200b\u4e3a\u200b\u6570\u636e\u200b\u6846","text":"<p>\u200b\u4f7f\u7528\u200b <code>.join()</code> \u200b\u548c\u200b <code>.concat()</code>\u200b\u90fd\u200b\u53ef\u4ee5\u200b\uff0c\u200b\u5b9e\u6d4b\u200b <code>.join()</code> \u200b\u901f\u5ea6\u200b\u7a0d\u5feb\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u9700\u8981\u200b 30 \u200b\u79d2\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b\u4e09\u4e2a\u200b\u5e8f\u5217\u200b\u5408\u5e76\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\ndf = (\nindustry_data.rename(\"industry_data\")\n.to_frame()\n.join(pb.rename(\"pb\").to_frame(), how=\"inner\")\n.join(pct_chg.rename(\"pct_chg\").to_frame(), how=\"inner\")\n)\n</code></pre> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u4fee\u6539\u7d22\u5f15\u4e3a\u65e5\u671f\u683c\u5f0f","title":"\u4fee\u6539\u200b\u7d22\u5f15\u200b\u4e3a\u200b\u65e5\u671f\u200b\u683c\u5f0f","text":"<p>\u200b\u4e3a\u4e86\u200b\u5bf9\u200b\u65e5\u671f\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5224\u65ad\u200b\uff08\u200b\u4f8b\u5982\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u4e00\u4e2a\u6708\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u5929\u200b\uff09\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\u7684\u200b\u65e5\u671f\u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>datetime</code> \u200b\u683c\u5f0f\u200b\u3002</p> <p>\u200b\u53ea\u200b\u9700\u8981\u200b\u4fee\u6539\u200b <code>data</code> \u200b\u7d22\u5f15\u200b\uff0c\u200b\u6240\u4ee5\u200b <code>df.index.levels[1]</code> \u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\u5373\u53ef\u200b\u3002</p> Python<pre><code># \u200b\u4fee\u6539\u200b\u7d22\u5f15\u200b\u4e3a\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\ndf.index = df.index.set_levels(\n[pd.to_datetime(df.index.levels[0].astype(str)), df.index.levels[1]]\n)\n</code></pre> Python<pre><code>df\n</code></pre> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5728\u6bcf\u6708\u6700\u540e\u4e00\u4e2a\u4ea4\u6613\u65e5\u8fdb\u884c\u6761\u4ef6\u9009\u80a1\u5224\u65ad\u4e0b\u6708\u6301\u4ed3","title":"\u5728\u200b\u6bcf\u6708\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u8fdb\u884c\u200b\u6761\u4ef6\u200b\u9009\u80a1\u200b\u5224\u65ad\u200b\u4e0b\u200b\u6708\u200b\u6301\u4ed3","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5224\u65ad\u67d0\u4e2a\u4ea4\u6613\u65e5\u662f\u5426\u4e3a\u5f53\u6708\u7684\u6700\u540e\u4e00\u4e2a\u4ea4\u6613\u65e5","title":"\u5224\u65ad\u200b\u67d0\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u662f\u5426\u200b\u4e3a\u200b\u5f53\u6708\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5","text":"<p>\u200b\u903b\u8f91\u200b\u4e3a\u200b\uff1a\u200b\u5148\u5bf9\u200b\u6240\u6709\u200b\u4ea4\u6613\u65e5\u200b\u6392\u5e8f\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u67d0\u4e2a\u200b\u4ea4\u6613\u65e5\u200b A \u200b\u4e0e\u200b\u5b83\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u200b B\uff0c\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6708\u4efd\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5219\u200b\u8bf4\u660e\u200b\u4ea4\u6613\u65e5\u200b A \u200b\u662f\u200b \u200b\u5176\u200b\u6240\u5728\u200b\u6708\u4efd\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u3002</p> Python<pre><code># \u200b\u5224\u65ad\u200b\u65e5\u671f\u200b\u662f\u5426\u200b\u4e3a\u200b\u6240\u5728\u200b\u6708\u4efd\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\ndef is_last_trading_day_of_month(date):\ntry:\n# \u200b\u83b7\u53d6\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\nnext_date = dates_list[dates_list.get_loc(date) + 1]\n# \u200b\u5224\u65ad\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u662f\u5426\u200b\u4e3a\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u6708\u4efd\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\nreturn next_date.month != date.month\nexcept:\n# \u200b\u5982\u679c\u200b\u51fa\u73b0\u5f02\u5e38\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5f53\u524d\u200b\u65e5\u671f\u200b\u4e3a\u200b\u6240\u6709\u200b\u4ea4\u6613\u65e5\u200b\u4e2d\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\nreturn True\n# \u200b\u83b7\u53d6\u200b\u6240\u6709\u200b\u4ea4\u6613\u65e5\u200b\ndates_list = df.index.get_level_values(0).unique().sort_values()\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u6708\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\nlast_trading_day_of_month = dates_list[dates_list.map(is_last_trading_day_of_month)]\n</code></pre> <p>\u200b\u5f97\u5230\u200b\u7684\u200b\u65e5\u671f\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u6709\u200b 136 \u200b\u4e2a\u200b\u6708\u4efd\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u63d0\u53d6\u51fa\u6bcf\u6708\u6700\u540e\u4e00\u4e2a\u4ea4\u6613\u65e5\u7684\u884c\u4e1a\u548c\u5e02\u51c0\u7387-pb-\u503c\u6570\u636e","title":"\u63d0\u53d6\u200b\u51fa\u200b\u6bcf\u6708\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u884c\u4e1a\u200b\u548c\u200b\u5e02\u51c0\u7387\u200b PB \u200b\u503c\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u9009\u53d6\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b industry \u200b\u548c\u200b pb \u200b\u6570\u636e\u200b\ndf_last_trading_day = df.loc[last_trading_day_of_month][[\"industry_data\", \"pb\"]]\n</code></pre> Python<pre><code>df_last_trading_day\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5bf9\u6708\u5e95\u7684\u5e02\u51c0\u7387-pb-\u503c\u8fdb\u884c\u5224\u65ad","title":"\u5bf9\u200b\u6708\u5e95\u200b\u7684\u200b\u5e02\u51c0\u7387\u200b PB \u200b\u503c\u200b\u8fdb\u884c\u200b\u5224\u65ad","text":"<p>\u200b\u6309\u7167\u200b\u7b56\u7565\u200b\u7684\u200b\u903b\u8f91\u200b\uff0c\u200b\u9009\u51fa\u200b\u6bcf\u4e2a\u200b\u884c\u4e1a\u200b\u4e2d\u200b PB \u200b\u503c\u200b\u6700\u5c0f\u200b\u7684\u200b 20% \u200b\u7684\u200b\u80a1\u7968\u200b\u3002</p> Python<pre><code>def select_stock(x):\n\"\"\"\n    \u200b\u9009\u51fa\u200b\u6bcf\u4e2a\u200b\u884c\u4e1a\u200b\u4e2d\u200b pb \u200b\u503c\u200b\u6700\u5c0f\u200b\u7684\u200b 20% \u200b\u7684\u200b\u80a1\u7968\u200b\n    Args:\n        x (pd.DataFrame): \u200b\u4e00\u5929\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5305\u542b\u200b industry_data \u200b\u548c\u200b pb \u200b\u4e24\u5217\u200b\n    Returns:\n        stock (pd.Series): \u200b\u8be5\u5929\u200b\u9009\u51fa\u200b\u7684\u200b\u80a1\u7968\u200b\n    \"\"\"\n# \u200b\u63d0\u53d6\u200b\u6240\u6709\u200b\u7684\u200b industry_data\nall_industry = x[\"industry_data\"].unique()\n# \u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u9009\u51fa\u200b\u7684\u200b\u80a1\u7968\u200b\nselected_stocks = []\n# \u200b\u5bf9\u200b\u6bcf\u4e2a\u200b industry_data \u200b\u8fdb\u884c\u200b\u5faa\u73af\u200b\nfor industry in all_industry:\n# \u200b\u63d0\u53d6\u200b\u8be5\u200b industry \u200b\u7684\u200b\u6570\u636e\u200b\nindustry_data = x[x[\"industry_data\"] == industry]\n# \u200b\u7b5b\u9009\u200b\u51fa\u200b pb \u200b\u503c\u200b\u6700\u5c0f\u200b\u7684\u200b 20% \u200b\u7684\u200b\u80a1\u7968\u200b\nindustry_data = industry_data[\nindustry_data[\"pb\"] &lt; industry_data[\"pb\"].quantile(0.2)\n]\nstocks = list(industry_data.index.get_level_values(1))\nselected_stocks.extend(stocks)\nreturn selected_stocks\n</code></pre> Python<pre><code># \u200b\u9009\u51fa\u200b\u6bcf\u4e2a\u200b\u6708\u5e95\u200b\u7684\u200b pb \u200b\u6700\u4f4e\u200b\u7684\u200b 20% \u200b\u7684\u200b\u80a1\u7968\u200b\nselected_stocks = df_last_trading_day.groupby(level=0).apply(lambda x: select_stock(x))\n</code></pre> <p></p> <p>\u200b\u5f97\u5230\u200b\u4e86\u200b\u4e00\u4e2a\u200b Series\uff0c\u200b\u5b83\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\u662f\u200b\u5f53\u6708\u200b\u9009\u51fa\u200b\u7684\u200b\u80a1\u7968\u200b List\uff0c\u200b\u5c06\u200b\u4f5c\u4e3a\u200b\u4e0b\u200b\u6708\u200b\u7684\u200b\u6301\u4ed3\u200b\u3002</p> <p>\u200b\u5982\u4f55\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u7684\u200b\u5217\u8868\u200b\u89e3\u6790\u200b\u6210\u200b\u771f\u6b63\u200b\u7684\u200b\u5217\u8868\u200b\u5bf9\u8c61\u200b</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u6b64\u65f6\u200b\u5c06\u200b selected_stocks \u200b\u8fd9\u4e2a\u200b Series \u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u5982\u679c\u200b\u4eca\u540e\u200b\u7528\u200b pd.read_csv() \u200b\u8bfb\u53d6\u200b\u5b83\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u53d1\u73b0\u200b\u8bfb\u200b\u8fdb\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u7684\u200b\u5217\u8868\u200b\uff0c\u200b\u5b83\u200b\u4e0d\u662f\u200b\u771f\u6b63\u200b\u7684\u200b\u5217\u8868\u200b\uff01</p> <p></p> <p></p> <p>\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u7684\u200b\u5217\u8868\u200b\u89e3\u6790\u200b\u6210\u200b\u771f\u6b63\u200b\u7684\u200b\u5217\u8868\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>ast</code> \u200b\u8fd9\u4e2a\u200b\u5305\u200b\u3002</p> Python<pre><code>test_using_ast = pd.read_csv(\n\".test.csv\", index_col=0, converters={\"0\": ast.literal_eval}\n)\n</code></pre> <p></p> <p>\u200b\u6216\u8005\u200b\u5728\u200b\u8bfb\u53d6\u6570\u636e\u200b\u4e4b\u540e\u200b\u518d\u7528\u200b <code>ast</code> \u200b\u89e3\u6790\u200b\u6210\u200b List\uff1a</p> Python<pre><code>test[\"0\"].apply(ast.literal_eval)\n</code></pre> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5c06\u9009\u80a1\u7ed3\u679c\u4e0b\u79fb\u4e00\u683c\u53d8\u4e3a\u6301\u4ed3\u6570\u636e","title":"\u5c06\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u4e0b\u79fb\u200b\u4e00\u200b\u683c\u200b\uff0c\u200b\u53d8\u4e3a\u200b\u6301\u4ed3\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u5c06\u200b selected_stocks \u200b\u7684\u200b\u65e5\u671f\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6708\u4efd\u200b\nselected_stocks.index = selected_stocks.index.strftime(\"%Y-%m\")\n</code></pre> <p>\u200b\u5c06\u200b\u6570\u636e\u200b\u5411\u4e0b\u200b\u79fb\u52a8\u200b\u4e00\u200b\u683c\u200b\uff0c\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u6bcf\u6708\u200b\u7684\u200b\u6301\u4ed3\u200b\u6570\u636e\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b\u6bcf\u200b\u6708\u5e95\u200b\u9009\u51fa\u200b\u7684\u200b\u80a1\u7968\u200b\u4f5c\u4e3a\u200b\u4e0b\u4e2a\u6708\u200b\u7684\u200b\u6301\u4ed3\u200b\nselected_stocks = selected_stocks.shift(1)\n</code></pre> Python<pre><code>selected_stocks\n</code></pre> Text Only<pre><code>date\n2006-01                                                 None\n2006-02    [SH600016, SZ000036, SZ000046, SZ000090, SZ000...\n2006-03    [SH600015, SZ000036, SZ000090, SZ000517, SZ000...\n2006-04    [SH600015, SZ000036, SZ000506, SZ000573, SZ000...\n2006-05    [SH600015, SZ000036, SZ000040, SZ000090, SZ000...\n                                 ...\n2016-12    [SH601288, SH601328, SH601818, SH601988, SZ000...\n2017-01    [SH601288, SH601328, SH601818, SH601988, SZ000...\n2017-02    [SH601288, SH601328, SH601818, SH601988, SZ000...\n2017-03    [SH601288, SH601328, SH601818, SH601988, SZ000...\n2017-04    [SZ000001, SH601328, SH601818, SH601988, SZ000...\nLength: 136, dtype: object\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u63d0\u53d6\u4e2a\u80a1\u6536\u76ca\u7387\u6784\u9020\u6295\u8d44\u7ec4\u5408","title":"\u63d0\u53d6\u200b\u4e2a\u80a1\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u6784\u9020\u200b\u6295\u8d44\u200b\u7ec4\u5408","text":"<p>\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u4f7f\u5f97\u200b\u6570\u636e\u200b\u7684\u200b\u5217\u6570\u200b\u5f88\u5c11\u200b\uff0c\u200b\u4f46\u884c\u200b\u6570\u5f88\u591a\u200b\u3002\u200b\u5bf9\u200b\u51e0\u767e\u4e07\u200b\u884c\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7d22\u5f15\u200b\u7b5b\u9009\u200b\u662f\u200b\u975e\u5e38\u200b\u8017\u65f6\u200b\u7684\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6570\u636e\u200b\u5148\u8f6c\u6210\u200b\u5bbd\u578b\u200b\uff0c\u200b\u5373\u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b\u5bf9\u5e94\u200b\u4e00\u5217\u200b\u3002</p> Python<pre><code># \u200b\u63d0\u53d6\u200b\u6536\u76ca\u7387\u200b\u6570\u636e\u200b\npct_chg = df[\"pct_chg\"].unstack(\"code\")\n</code></pre> Python<pre><code>pct_chg\n</code></pre> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u8ba1\u7b97\u6295\u8d44\u7ec4\u5408\u6536\u76ca\u7387","title":"\u8ba1\u7b97\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387","text":"<p>\u200b\u5148\u751f\u200b\u6210\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u6bcf\u65e5\u200b\u7684\u200b\u6536\u76ca\u7387\u200b</p> Python<pre><code># \u200b\u751f\u6210\u200b\u6bcf\u65e5\u200b\u7684\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\nportfolio_daily_return = pd.DataFrame(\nindex=df.index.get_level_values(0).unique(),\ncolumns=[\"daily_return\"],\n)\n</code></pre> Python<pre><code>portfolio_daily_return\n</code></pre> <p></p> <p>\u200b\u7528\u200b\u6bcf\u65e5\u200b\u6301\u4ed3\u200b\u80a1\u7968\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u5747\u503c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002\u200b\u8fd9\u4e00\u200b\u7b97\u6cd5\u200b\u8f83\u4e3a\u200b\u7b80\u4fbf\u200b\uff0c\u200b\u4f46\u200b\u5e76\u200b\u4e0d\u200b\u51c6\u786e\u200b\u3002\u200b\u6211\u200b\u5728\u200b \u200b\u8fd9\u200b\u7bc7\u6587\u7ae0\u200b \u200b\u4e2d\u6709\u200b\u8ba8\u8bba\u200b\u8fc7\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002</p> Python<pre><code># \u200b\u8ba1\u7b97\u200b\u6bcf\u65e5\u200b\u7684\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\ndef calculate_portfolio_daily_return(date):\n\"\"\"\n    \u200b\u8ba1\u7b97\u200b\u6bcf\u65e5\u200b\u7684\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\n    Args:\n        date (pd.Timestamp): \u200b\u65e5\u671f\u200b\n    Returns:\n        daily_return (float): \u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\n    \"\"\"\n# \u200b\u83b7\u53d6\u200b\u5f53\u5929\u200b\u7684\u200b\u80a1\u7968\u4ee3\u7801\u200b\nstocks = selected_stocks.loc[date.strftime(\"%Y-%m\")]\n# \u200b\u5982\u679c\u200b\u80a1\u7968\u4ee3\u7801\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5f53\u5929\u200b\u6ca1\u6709\u200b\u6301\u4ed3\u200b\uff0c\u200b\u6536\u76ca\u7387\u200b\u4e3a\u200b 0\nif stocks is None:\nreturn 0\n# \u200b\u83b7\u53d6\u200b\u5f53\u5929\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\ndaily_return = pct_chg.loc[date.strftime(\"%Y-%m-%d\"), stocks].mean()\nreturn daily_return\n</code></pre> <p>\u200b\u4f7f\u7528\u200b<code>swifter</code> \u200b\u5305\u200b\uff0c\u200b\u52a0\u901f\u200b <code>.apply()</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u8fd0\u884c\u200b\uff0c\u200b\u5e76\u200b\u663e\u793a\u200b\u8fdb\u5ea6\u6761\u200b\u3002</p> Python<pre><code>import swifter\nportfolio_daily_return[\"daily_return\"] = portfolio_daily_return.swifter.apply(\nlambda x: calculate_portfolio_daily_return(x.name), axis=1\n)\n</code></pre> Text Only<pre><code>Pandas Apply: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2750/2750 [00:02&lt;00:00, 944.27it/s]\n</code></pre> <p>\u200b\u5c06\u200b\u6bcf\u65e5\u200b\u6536\u76ca\u7387\u200b\u9664\u4ee5\u200b 100\uff0c\u200b\u5f97\u5230\u200b\u6bcf\u65e5\u200b\u6536\u76ca\u7387\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b\u6bcf\u65e5\u200b\u6536\u76ca\u7387\u200b\u9664\u4ee5\u200b 100\nportfolio_daily_return[\"daily_return\"] = portfolio_daily_return[\"daily_return\"] / 100\n</code></pre> Python<pre><code>portfolio_daily_return\n</code></pre> <p>\u200b\u7b2c\u4e00\u4e2a\u200b\u6708\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u90fd\u200b\u662f\u200b 0\uff0c\u200b\u56e0\u4e3a\u200b\u9996\u200b\u6708\u200b\u6ca1\u6709\u200b\u6301\u4ed3\u200b\uff0c\u200b\u8981\u200b\u5230\u200b\u7b2c\u4e8c\u4e2a\u200b\u6708\u521d\u200b\u624d\u80fd\u200b\u57fa\u4e8e\u200b\u7b2c\u4e00\u4e2a\u200b\u6708\u5e95\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u9009\u80a1\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u7ee9\u6548\u8bc4\u4ef7","title":"\u7ee9\u6548\u8bc4\u4ef7","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u8ba1\u7b97\u5e74\u5316\u6536\u76ca\u7387\u5e74\u5316\u6ce2\u52a8\u7387\u548c\u590f\u666e\u6bd4\u7387","title":"\u8ba1\u7b97\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\u3001\u200b\u5e74\u5316\u200b\u6ce2\u52a8\u200b\u7387\u200b\u548c\u200b\u590f\u666e\u200b\u6bd4\u7387","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\ndef annualized_return(returns, periods_per_year=250):\nreturn (1 + returns).prod() ** (periods_per_year / len(returns)) - 1\n# \u200b\u8ba1\u7b97\u200b\u5e74\u5316\u200b\u6ce2\u52a8\u200b\u7387\u200b\ndef annualized_volatility(returns, periods_per_year=250):\nreturn returns.std() * np.sqrt(periods_per_year)\n# \u200b\u8ba1\u7b97\u200b\u590f\u666e\u200b\u6bd4\u7387\u200b\ndef sharpe_ratio(returns, risk_free_rate=0, periods_per_year=250):\nreturn (\nannualized_return(returns, periods_per_year) - risk_free_rate\n) / annualized_volatility(returns, periods_per_year)\n</code></pre> Python<pre><code>print(f\"\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\uff1a{annualized_return(portfolio_daily_return['daily_return']) * 100:.2f}%\")\nprint(\nf\"\u200b\u5e74\u5316\u200b\u6ce2\u52a8\u200b\u7387\u200b\uff1a{annualized_volatility(portfolio_daily_return['daily_return']) * 100:.2f}%\"\n)\nprint(f\"\u200b\u590f\u666e\u200b\u6bd4\u7387\u200b\uff1a{sharpe_ratio(portfolio_daily_return['daily_return'])}\")\n</code></pre> Text Only<pre><code>\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\uff1a38.42%\n\u200b\u5e74\u5316\u200b\u6ce2\u52a8\u200b\u7387\u200b\uff1a32.06%\n\u200b\u590f\u666e\u200b\u6bd4\u7387\u200b\uff1a1.1982897843149716\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u7ed8\u5236\u7d2f\u8ba1\u51c0\u503c\u66f2\u7ebf","title":"\u7ed8\u5236\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\u66f2\u7ebf","text":"Python<pre><code># \u200b\u7ed8\u5236\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\u66f2\u7ebf\u200b\nnet_value = (portfolio_daily_return[\"daily_return\"] + 1).cumprod()\nfig = plt.figure(figsize=(9, 6))\nax = fig.add_subplot(1, 1, 1)\nax.plot(net_value)\nax.set_title(\"\u200b\u7d2f\u8ba1\u200b\u51c0\u503c\u200b\u66f2\u7ebf\u200b\")\nax.set_xlabel(\"\u200b\u65e5\u671f\u200b\")\nax.set_ylabel(\"\u200b\u51c0\u503c\u200b\")\nplt.show()\n# \u200b\u4fdd\u5b58\u200b\u56fe\u7247\u200b\nfig.savefig(\n\"../result/Q4_data_backtest.png\",\nformat=\"png\",\nfacecolor=\"white\",\nbbox_inches=\"tight\",\n)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/buy-stocks-with-low-pb-ratio/#\u5c06\u7ee9\u6548\u8bc4\u4ef7\u7ed3\u679c\u5bfc\u51fa\u5230\u672c\u5730","title":"\u5c06\u200b\u7ee9\u6548\u8bc4\u4ef7\u200b\u7ed3\u679c\u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730","text":"<p>\u200b\u6ce8\u610f\u200b\u5c06\u200b\u5c0f\u6570\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u767e\u5206\u6bd4\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u5728\u200b\u672c\u5730\u200b\u8868\u683c\u200b\u4e2d\u200b\u67e5\u770b\u200b\u3002</p> Python<pre><code>backtest = pd.DataFrame(\nindex=[\"\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\", \"\u200b\u5e74\u5316\u200b\u6ce2\u52a8\u200b\u7387\u200b\", \"\u200b\u590f\u666e\u200b\u6bd4\u7387\u200b\"],\ndata=[\nstr(round(annualized_return(portfolio_daily_return[\"daily_return\"]) * 100, 2))\n+ \"%\",\nstr(\nround(\nannualized_volatility(portfolio_daily_return[\"daily_return\"]) * 100, 2\n)\n)\n+ \"%\",\nstr(round(sharpe_ratio(portfolio_daily_return[\"daily_return\"]), 4)),\n],\ncolumns=[\"\u200b\u56de\u6d4b\u200b\u7ed3\u679c\u200b\"],\n)\n</code></pre> Python<pre><code>backtest\n</code></pre> <p></p> Python<pre><code>backtest.to_csv(\"../result/Q4_data_backtest.csv\", encoding=\"utf-8-sig\")\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/lightgbm/","title":"LightGBM \u200b\u7684\u200b\u7528\u6cd5","text":"<p>LightGBM \u200b\u662f\u200b\u4e00\u79cd\u200b\u57fa\u4e8e\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u68af\u5ea6\u200b\u63d0\u5347\u673a\u200b\uff08GBM\uff09\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u79cd\u200b\u5feb\u901f\u200b\u3001\u200b\u51c6\u786e\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u5206\u7c7b\u200b\u548c\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b LightGBM \u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u548c\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff0c\u200b\u5e76\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u81ea\u5b9a\u4e49\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u3001\u200b\u6253\u5370\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u3001\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u53c2\u6570\u200b\u7b49\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\u3002</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import lightgbm as lgb\nfrom sklearn.model_selection import train_test_split\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u6570\u636e\u200b\ndata = pd.read_pickle(\"./data.pkl\")\n# \u200b\u5212\u5206\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\nX = data[[\"feature_1\", \"feature_2\"]]\ny = data[\"label\"]\n# \u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\ntrain_X, test_X, train_y, test_y = train_test_split(\nX,\ny,\ntest_size=0.2,\nshuffle=False,\n)\n# \u200b\u8f6c\u6362\u200b\u4e3a\u200b Dataset \u200b\u6570\u636e\u683c\u5f0f\u200b\nlgb_train = lgb.Dataset(\ntrain_X,\ntrain_y,\nfree_raw_data=False,  # (1)!\n)\nlgb_eval = lgb.Dataset(\ntest_X,\ntest_y,\nreference=lgb_train,\nfree_raw_data=False,\n)\n</code></pre> <ol> <li> <p><code>lgb.Dataset(free_raw_data=False)</code> \u200b\u4ee3\u8868\u200b\u8f6c\u6362\u200b\u4e3a\u200b Dataset \u200b\u6570\u636e\u683c\u5f0f\u200b\u540e\u200b\u4ecd\u7136\u200b\u4fdd\u7559\u200b\u539f\u59cb\u6570\u636e\u200b\u3002\u200b\u9ed8\u8ba4\u200b <code>free_raw_data=True</code>\u3002\u200b\u5982\u679c\u200b\u540e\u7eed\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u539f\u59cb\u6570\u636e\u200b\u7684\u200b\u7d22\u5f15\u200b\u3001\u200b\u5217\u540d\u200b\u7b49\u200b\u4fe1\u606f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4fdd\u7559\u200b\u5b83\u200b\uff0c\u200b\u540e\u7eed\u200b\u53ef\u7528\u200b <code>train_data.get_data()</code> \u200b\u63d0\u53d6\u200b\u539f\u59cb\u6570\u636e\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1alightgbm.Dataset</p> <p></p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u8bad\u7ec3\u6a21\u578b\u548c\u9884\u6d4b","title":"\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u548c\u200b\u9884\u6d4b","text":"<p>lightGBM \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff1a</p> <ol> <li>\u200b\u539f\u751f\u200b\u7684\u200b <code>lgb.train()</code> \u200b\u63a5\u53e3\u200b\uff1b</li> <li>\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u7684\u200b <code>sklearn</code> \u200b\u7684\u200b <code>lgb.LGBMRegressor()</code> \u200b\u63a5\u53e3\u200b\u3002</li> </ol> <p>\u200b\u4e0b\u9762\u200b\u5206\u522b\u200b\u4ecb\u7ecd\u200b\u4e24\u79cd\u200b\u63a5\u53e3\u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u5f0f\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u4f7f\u7528-lgbtrain-\u63a5\u53e3\u8fdb\u884c\u8bad\u7ec3","title":"\u4f7f\u7528\u200b <code>lgb.train()</code> \u200b\u63a5\u53e3\u200b\u8fdb\u884c\u200b\u8bad\u7ec3","text":"<p>\u200b\u5148\u200b\u5b9a\u4e49\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>params = {\n\"task\": \"train\",\n\"boosting_type\": \"gbdt\",  # \u200b\u8bbe\u7f6e\u200b\u63d0\u5347\u200b\u7c7b\u578b\u200b\n\"objective\": \"regression\",  # \u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\n\"metric\": \"mse\",  # \u200b\u8bc4\u4f30\u200b\u51fd\u6570\u200b\n\"num_leaves\": 31,  # \u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u6570\u200b\n\"learning_rate\": 0.1,  # \u200b\u5b66\u4e60\u200b\u901f\u7387\u200b\n\"feature_fraction\": 0.9,  # \u200b\u5efa\u6811\u200b\u7684\u200b\u7279\u5f81\u9009\u62e9\u200b\u6bd4\u4f8b\u200b\n\"bagging_fraction\": 0.8,  # \u200b\u5efa\u6811\u200b\u7684\u200b\u6837\u672c\u200b\u91c7\u6837\u200b\u6bd4\u4f8b\u200b\n\"bagging_freq\": 5,  # k \u200b\u610f\u5473\u7740\u200b\u6bcf\u200b k \u200b\u6b21\u200b\u8fed\u4ee3\u200b\u6267\u884c\u200b bagging\n\"verbose\": 1,  # &lt;0 \u200b\u663e\u793a\u200b\u81f4\u547d\u200b\u7684\u200b\uff0c=0 \u200b\u663e\u793a\u200b\u9519\u8bef\u200b\uff08\u200b\u8b66\u544a\u200b\uff09, &gt;0 \u200b\u663e\u793a\u4fe1\u606f\u200b\n}\n</code></pre> <p>\u200b\u518d\u200b\u4f7f\u7528\u200b <code>lgb.train()</code>\uff1a</p> Python<pre><code>model = lgb.train(\nparams,\nlgb_train,\nnum_boost_round=100,\nvalid_sets=lgb_eval,\ncallbacks=[\nlgb.early_stopping(stopping_rounds=20, verbose=True),  # (1)!\nlgb.log_evaluation(),  # (2)!\n],\n)\n</code></pre> <ol> <li> <p>\u200b\u8bbe\u7f6e\u200b\u63d0\u524d\u200b\u505c\u6b62\u200b\u7684\u200b\u5224\u65ad\u200b\u6807\u51c6\u200b\uff1a\u200b\u82e5\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u8d85\u8fc7\u200b 20 \u200b\u8f6e\u200b\u6ca1\u6709\u200b\u53d8\u200b\u597d\u200b\uff0c\u200b\u5219\u200b\u505c\u6b62\u200b\u8fed\u4ee3\u200b\u3002\u200b\u53c2\u8003\u200b\uff1alightgbm.early_stopping()</p> </li> <li> <p>\u200b\u6253\u5370\u200b\u6bcf\u8f6e\u200b\u8fed\u4ee3\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u3002\u200b\u53c2\u8003\u200b\uff1alightgbm.log_evaluation() \u200b\u548c\u200b GitHub Issue: \u200b\u4e0d\u80fd\u200b\u8f93\u51fa\u200b\u6bcf\u8f6e\u200b\u8fed\u4ee3\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b</p> </li> </ol>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u9884\u6d4b","title":"\u9884\u6d4b","text":"Python<pre><code>model.predict(test_X)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a<code>lightgbm.Booster.predict</code></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u4f7f\u7528-lgblgbmregressor-\u63a5\u53e3\u8fdb\u884c\u8bad\u7ec3","title":"\u4f7f\u7528\u200b <code>lgb.LGBMRegressor()</code> \u200b\u63a5\u53e3\u200b\u8fdb\u884c\u200b\u8bad\u7ec3","text":"<p>\u200b\u5148\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b LGBMRegressor\uff1a</p> Python<pre><code>model = lgb.LGBMRegressor(\nboosting_type=\"gbdt\",\nobjective=\"regression\",\nnum_leaves=31,\nlearning_rate=0.1,\nn_estimators=100,\n)\n</code></pre> <p>\u200b\u518d\u200b\u8c03\u7528\u200b <code>LGBMRegressor.fit()</code>\uff1a</p> Python<pre><code>model.fit(\ntrain_X,\ntrain_y,\neval_set=[(test_X, test_y)],\ncallbacks=[\nlgb.early_stopping(stopping_rounds=20, verbose=True),\nlgb.log_evaluation(),\n],\n)\n</code></pre> <p><code>lgb.early_stopping()</code> \u200b\u548c\u200b<code>lgb.log_evaluation()</code> \u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u548c\u200b \u200b\u4f7f\u7528\u200b<code>lgb.train()</code>\u200b\u63a5\u53e3\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u4e00\u6837\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u200b\u5728\u200b\u8d58\u8ff0\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u9884\u6d4b_1","title":"\u9884\u6d4b","text":"Text Only<pre><code>model.predict(test_X)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a<code>LGBMRegressor.predict</code></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u9ad8\u9636\u7528\u6cd5","title":"\u9ad8\u9636\u200b\u7528\u6cd5","text":"","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u81ea\u5b9a\u4e49\u635f\u5931\u548c\u8bc4\u4f30\u51fd\u6570","title":"\u81ea\u5b9a\u4e49\u200b\u635f\u5931\u200b\u548c\u200b\u8bc4\u4f30\u200b\u51fd\u6570","text":"","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#fobj","title":"<code>fobj</code>","text":"<p>\u200b\u53ef\u4ee5\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b <code>fobj</code>\u200b\u4f20\u5165\u200b\u5230\u200b <code>lgb.train()</code> \u200b\u4e2d\u200b\uff0c\u200b\u6216\u200b\u4f20\u5165\u200b <code>params</code> \u200b\u4e2d\u200b\u7684\u200b <code>objective</code>\uff08\u200b\u5177\u4f53\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u53d6\u51b3\u4e8e\u200b lightGBM \u200b\u7684\u200b\u7248\u672c\u200b\uff0c<code>v3.3.2</code>\u200b\u662f\u200b\u524d\u8005\u200b\uff09\uff1a</p> <p></p> <p><code>fobj</code> \u200b\u63a5\u53d7\u200b\u9884\u6d4b\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b <code>preds</code> \u200b\u548c\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b <code>train_data</code> \u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4ece\u200b <code>train_data</code> \u200b\u4e2d\u200b\u83b7\u53d6\u200b\u771f\u5b9e\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b <code>trues</code> \uff0c\u200b\u518d\u200b\u57fa\u4e8e\u200b\u9884\u6d4b\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b <code>preds</code>\u200b\u548c\u200b\u771f\u5b9e\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b<code>trues</code> \u200b\u8ba1\u7b97\u200b\u4e00\u9636\u200b\u5bfc\u6570\u200b <code>grad</code> \u200b\u548c\u200b\u4e8c\u9636\u200b\u5bfc\u6570\u200b <code>hess</code> \u200b\u4f5c\u4e3a\u200b\u8fd4\u56de\u503c\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\uff0c\u200b\u5b83\u200b\u8ba1\u7b97\u200b\u4e86\u200b MSE \u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u4e00\u9636\u200b\u5bfc\u6570\u200b\u548c\u200b\u4e8c\u9636\u200b\u5bfc\u6570\u200b\u3002</p> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u4ee5\u200b MSE \u200b\u4e3a\u4f8b\u200b</p> Python<pre><code>def custom_objective(preds, train_data):\n# \u200b\u63d0\u53d6\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u503c\u200b\ntrues = train_data.get_label()\n# \u200b\u8ba1\u7b97\u200b\u4e00\u9636\u200b\u5bfc\u6570\u200b\u548c\u200b\u4e8c\u9636\u200b\u5bfc\u6570\u200b\ndiff = preds - trues\n# \u200b\u4e00\u9636\u200b\u5bfc\u6570\u200b\ngrad = diff\n# \u200b\u4e8c\u9636\u200b\u5bfc\u6570\u200b\nhess = np.ones_like(diff)\nreturn grad, hess\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u603b\u7ed3\u200b</p> <p><code>lightgbm.train()</code></p> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff1aLightGBM \u200b\u5b98\u65b9\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b</p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#feval","title":"<code>feval</code>","text":"<p>\u200b\u6a21\u578b\u200b\u5728\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b\u8bc4\u4f30\u200b\u503c\u200b\u5f71\u54cd\u200b\u4e86\u200b <code>early_stopping</code> \u200b\u7684\u200b\u5224\u65ad\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u81ea\u5b9a\u4e49\u200b\u4e86\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b\u8bc4\u4f30\u200b\u51fd\u6570\u200b\uff0c\u200b\u5728\u200b\u6bcf\u6b21\u200b\u8fed\u4ee3\u200b\u65f6\u200b\u8f93\u51fa\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u8bc4\u4f30\u200b\u51fd\u6570\u200b\u503c\u200b\u3002</p> <p>\u200b\u4ecd\u7136\u200b\u4ee5\u200b MSE \u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\u503c\u200b\u3002</p> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u8bc4\u4f30\u200b\u51fd\u6570\u200b\uff0c\u200b\u4ee5\u200b MSE \u200b\u4e3a\u4f8b\u200b</p> Python<pre><code>def custom_metric(preds, train_data):\ntrues = train_data.get_label()\nreturn \"mse\", np.nanmean((trues - preds) ** 2), False\n</code></pre> <p>\u200b\u5c06\u200b <code>fobj</code> \u200b\u548c\u200b <code>feval</code> \u200b\u4f20\u5165\u200b <code>lgb.train()</code> \u200b\u4e2d\u200b\uff1a</p> Python<pre><code>model = lgb.train(\nparams,\nlgb_train,\nnum_boost_round=100,\nvalid_sets=lgb_eval,\ncallbacks=[\nlgb.early_stopping(stopping_rounds=20, verbose=True),\nlgb.log_evaluation(),\n],\nfobj=mse_objective,\nfeval=mse_metric,\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#\u7ec6\u8282\u7406\u89e3","title":"\u7ec6\u8282\u200b\u7406\u89e3","text":"","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/lightgbm/#num_boost_round-\u548c-n_estimators","title":"<code>num_boost_round</code> \u200b\u548c\u200b <code>n_estimators</code>","text":"<p>\u200b\u4e0a\u6587\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u63d0\u5230\u200b\uff0clightGBM \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u3002\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u8bad\u7ec3\u200b\u65b9\u5f0f\u200b\u7684\u200b\u53c2\u6570\u200b\u5199\u6cd5\u200b\u5e76\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <ol> <li><code>lgb.train()</code> \u200b\u63a5\u53e3\u200b\u901a\u8fc7\u200b\u5728\u200b <code>lgb.train()</code> \u200b\u4e2d\u200b\u6307\u5b9a\u200b <code>num_boost_round=100</code> \u200b\u6765\u200b\u6307\u5b9a\u200b\u6700\u5927\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u3002</li> <li><code>lgb.LGBMRegressor()</code> \u200b\u63a5\u53e3\u200b\u901a\u8fc7\u200b\u5728\u200b <code>lgb.LGBMRegressor()</code> \u200b\u4e2d\u200b\u6307\u5b9a\u200b <code>n_estimators=20</code> \u200b\u6765\u200b\u6307\u5b9a\u200b\u6700\u5927\u200b\u8fed\u4ee3\u200b\u6b21\u6570\u200b\u3002</li> </ol> <p>\u200b\u8bb8\u591a\u200b\u8ba8\u8bba\u200b\u90fd\u200b\u8868\u660e\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b\u3002\u200b\u53c2\u8003\u200b\uff1aGitHub Issue: inconsistent parameter names: \"n_estimators\"</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6d4b\u8bd5\u200b\uff1a\u200b\u5f53\u200b\u540c\u65f6\u200b\u6307\u5b9a\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u65f6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u4f7f\u7528\u200b\u7684\u200b\u4f18\u5148\u7ea7\u200b\u662f\u200b\u600e\u6837\u200b\u7684\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b <code>lgb.train()</code> \u200b\u63a5\u53e3\u200b\uff1a</p> <ol> <li>\u200b\u5148\u200b\u5728\u200b <code>params</code> \u200b\u4e2d\u200b\u6307\u5b9a\u200b <code>\"n_estimators\": 20</code>;</li> <li>\u200b\u518d\u200b\u5728\u200b <code>lgb.train()</code> \u200b\u4e2d\u200b\u6307\u5b9a\u200b <code>num_boost_round=80</code> \u3002</li> </ol> <p>\u200b\u770b\u770b\u200b\u8bad\u7ec3\u200b\u7684\u200b\u4fe1\u606f\u200b\uff1a</p> <p></p> <p>\u200b\u53ea\u200b\u8bad\u7ec3\u200b\u4e86\u200b 20 \u200b\u8f6e\u200b\uff0c\u200b\u8bf4\u660e\u200b params \u200b\u4e2d\u200b\u7684\u200b n_estimator \u200b\u4f18\u5148\u7ea7\u200b\u66f4\u9ad8\u200b\u3002</p> <p>\u200b\u4e2a\u4eba\u200b\u7406\u89e3\u200b</p> <p><code>num_boost_round</code> \u200b\u548c\u200b <code>n_estimators</code> \u200b\u90fd\u200b\u662f\u200b\u522b\u540d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6307\u5b9a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5c31\u884c\u200b\u3002\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b\u4e24\u4e2a\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5728\u200b <code>params</code> \u200b\u548c\u200b <code>train()</code> \u200b\u4e2d\u200b\u90fd\u200b\u6307\u5b9a\u200b\uff09\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u4ee5\u200b params \u200b\u4e2d\u200b\u7684\u200b\u4e3a\u51c6\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1aParameters: num_iterations</p> <p></p>","tags":["\u673a\u5668\u5b66\u4e60","\u91cf\u5316\u7814\u7a76","Python"]},{"location":"blog/vscode-snippets/","title":"VS Code \u200b\u4ee3\u7801\u200b\u7247\u6bb5","text":"<p>\u200b\u8bb8\u591a\u200b\u5e38\u7528\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u662f\u200b\u91cd\u590d\u200b\u3001\u200b\u901a\u7528\u200b\u7684\u200b\uff0c\u200b\u5c06\u200b\u5b83\u4eec\u200b\u8bb0\u5f55\u200b\u5e76\u200b\u6574\u7406\u200b\u8d77\u6765\u200b\uff0c\u200b\u5728\u200b\u9700\u8981\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u8c03\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5927\u5e45\u63d0\u9ad8\u200b\u7f16\u7801\u200b\u6548\u7387\u200b\u3002</p> <p>VS Code \u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u529f\u80fd\u200b\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u597d\u7528\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u5728\u200b\u4fdd\u5b58\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u540e\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u8f93\u5165\u200b\u51e0\u4e2a\u200b\u524d\u7f00\u200b\uff0c\u200b\u5373\u53ef\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u3002</p> <p>\u200b\u5229\u7528\u200b snippet-generator \u200b\u8fd9\u4e2a\u200b\u5de5\u5177\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u6574\u7406\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u66f4\u200b\u9ad8\u6548\u200b\uff01</p> <p></p>","tags":["Python"]},{"location":"blog/vscode-snippets/#\u6253\u5f00-vs-code-\u7684\u8bbe\u7f6e","title":"\u6253\u5f00\u200b VS Code \u200b\u7684\u200b\u8bbe\u7f6e","text":"<p><code>\u200b\u6587\u4ef6\u200b</code> \u2192 <code>\u200b\u9996\u9009\u9879\u200b</code> \u2192 <code>\u200b\u914d\u7f6e\u200b\u7528\u6237\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b</code></p> <p></p>","tags":["Python"]},{"location":"blog/vscode-snippets/#\u7f16\u8f91\u4ee3\u7801\u7247\u6bb5\u6587\u4ef6","title":"\u7f16\u8f91\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u6587\u4ef6","text":"<p>\u200b\u9009\u62e9\u200b\u8bed\u8a00\u200b\u540e\u200b\uff0c\u200b\u5373\u53ef\u200b\u8fdb\u5165\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u7684\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u7f16\u8f91\u200b\u3002</p> <p>\u200b\u4ee5\u200b <code>Python</code> \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u9ed8\u8ba4\u200b <code>python.json</code> \u200b\u5982\u4e0b\u200b\uff1a</p> JSON<pre><code>{\n// Place your snippets for Python here. Each snippet is defined under a snippet name and has a prefix, body and \n// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:\n// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the \n// same ids are connected.\n// Example:\n// \"Print to console\": {\n//  \"prefix\": \"log\",\n//  \"body\": [\n//      \"console.log('$1');\",\n//      \"$2\"\n//  ],\n//  \"description\": \"Log output to console\"\n// }\n}\n</code></pre> <p>\u200b\u8981\u200b\u5c06\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u5199\u6210\u200b\u4e0b\u9762\u200b\u8fd9\u79cd\u200b\u683c\u5f0f\u200b\uff1a</p> JSON<pre><code>\"\": {\n\"prefix\": \"\",\n\"body\": [\n\"\"\n],\n\"description\": \"\"\n}\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b 3 \u200b\u4e2a\u200b\u5730\u65b9\u200b\uff1a</p> <ol> <li><code>description</code>\uff1a\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u7684\u200b\u63cf\u8ff0\u200b\uff1b</li> <li><code>prefix</code>\uff1a\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u7684\u200b\u8bf1\u53d1\u200b\u524d\u7f00\u200b\uff08\u200b\u5f53\u200b\u8f93\u5165\u200b\u8fd9\u4e2a\u200b\u524d\u7f00\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u88ab\u200b\u8bc6\u522b\u200b\u51fa\u662f\u200b\u4ee3\u7801\u6bb5\u200b\uff09\uff1b</li> <li><code>body</code>\uff1a\u200b\u4ee3\u7801\u200b\u4e3b\u4f53\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"blog/vscode-snippets/#\u4f7f\u7528-snippet-generator-\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u7247\u6bb5","title":"\u4f7f\u7528\u200b snippet-generator \u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u4ee3\u7801\u200b\u7247\u6bb5","text":"<p>snippet-generator \u200b\u53ef\u4ee5\u200b\u5e2e\u200b\u6211\u4eec\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b VS Code \u200b\u80fd\u591f\u200b\u8bc6\u522b\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u6837\u5f0f\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u7684\u200b\u5305\u200b\uff1a</p> Python<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5b83\u200b\u8f93\u5165\u200b\u5230\u200b snippet-generator \u200b\u4e2d\u200b\uff1a</p> <p></p> <p>\u200b\u5c06\u200b\u5b83\u200b\u4e3a\u200b\u6211\u4eec\u200b\u751f\u6210\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u590d\u5236\u5230\u200b <code>python.json</code> \u200b\u4e2d\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u4e86\u200b\uff01</p>","tags":["Python"]},{"location":"blog/vscode-snippets/#\u4f7f\u7528\u6548\u679c","title":"\u4f7f\u7528\u200b\u6548\u679c","text":"","tags":["Python"]},{"location":"blog/test-for-normal-distribution/","title":"\u68c0\u9a8c\u200b\u6837\u672c\u5206\u5e03\u200b\u7684\u200b\u6b63\u6001\u6027","text":"<p>\u200b\u5728\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\u524d\u200b\uff0c\u200b\u6709\u65f6\u200b\u9700\u8981\u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u662f\u5426\u200b\u5448\u200b\u6b63\u6001\u5206\u5e03\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5b9a\u91cf\u200b\u68c0\u9a8c\u200b\u6b63\u6001\u6027\u200b\u7684\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1aShapiro-Wilk test \u200b\u548c\u200b\u8ddd\u79bb\u200b\u71b5\u200b\u3002</p>","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/test-for-normal-distribution/#shapiro-wilk-\u68c0\u9a8c\u6b63\u6001\u6027","title":"Shapiro-Wilk \u200b\u68c0\u9a8c\u200b\u6b63\u6001\u6027","text":"<p>Shapiro-Wilk test \u200b\u662f\u200b\u4e00\u79cd\u200b\u5728\u200b\u9891\u7387\u200b\u4e0a\u200b\u7edf\u8ba1\u200b\u68c0\u9a8c\u200b\u4e2d\u200b\u68c0\u9a8c\u200b\u6b63\u6001\u6027\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u8be5\u200b\u68c0\u9a8c\u200b\u7684\u200b\u96f6\u200b\u68c0\u9a8c\u200b\u662f\u200b\u6837\u672c\u200b \\(x_1,\\cdots ,x_n\\)\u200b\u6765\u81ea\u200b\u4e8e\u200b\u4e00\u4e2a\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u6bcd\u4f53\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u68c0\u9a8c\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u662f\u200b\uff1a</p> \\[ W = \\frac{(\\sum_{i=1}^{n}a_{i}x_{(i)})^2}{\\sum_{i=1}^{n}(x_i-\\bar{x})^2} \\] <p>\u200b\u5176\u4e2d\u200b\uff1a</p> <ol> <li>\\(x_{(i)}\\) \u200b\u7528\u200b\u62ec\u53f7\u200b\u5305\u542b\u200b\u4e0b\u6807\u200b\u7d22\u5f15\u200b \\(i\\) \u200b\u7684\u200b\uff1b\\(x_{(i)}\\) \u200b\u662f\u200b\u7b2c\u200b \\(i\\) \u200b\u9636\u200b\u7edf\u8ba1\u200b\u91cf\u200b\uff0c\u200b\u5373\u200b\u6837\u672c\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u200b \\(i\\) \u200b\u4e2a\u200b\u6700\u5c0f\u200b\u6570\u200b\uff0c\u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u4e0e\u200b \\(x_i\\) \u200b\u6df7\u6dc6\u200b\uff01</li> <li>\\(\\overline {x}=(x_{1}+\\cdots +x_{n})/n\\)\u200b\u662f\u200b\u6837\u672c\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u3002</li> <li>\u200b\u5e38\u91cf\u200b \\(a_i\\)\u200b\u901a\u8fc7\u200b\u4e0b\u9762\u200b\u7684\u200b\u516c\u5f0f\u200b\u5f97\u51fa\u200b\uff1a</li> </ol> \\[ (a_1,\\dots ,a_n)=\\frac{m^{T}V^{-1}}{\\sqrt{(m^{T}V^{-1}V^{-1}m)}}, m=(m_1,\\dots ,m_n)^T \\] <p>\u200b\u5176\u4e2d\u200b \\(m_1,\\dots ,m_n\\)\u200b\u662f\u4ece\u200b\u4e00\u4e2a\u200b\u6807\u51c6\u200b\u7684\u200b\u6b63\u6001\u5206\u5e03\u200b\u968f\u673a\u53d8\u91cf\u200b\u4e0a\u200b\u91c7\u6837\u200b\u7684\u200b\u6709\u5e8f\u200b\u72ec\u7acb\u200b\u540c\u200b\u5206\u5e03\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u7684\u200b\u671f\u671b\u503c\u200b\u3002V \u200b\u662f\u200b\u8fd9\u4e9b\u200b\u6709\u5e8f\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u7edf\u8ba1\u200b\u68c0\u9a8c\u200b\u7684\u200b\u5047\u8bbe\u200b\u662f\u200b\u6837\u672c\u200b\u6765\u81ea\u200b\u4e8e\u200b\u4e00\u4e2a\u200b\u6b63\u6001\u200b\u6bcd\u4f53\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e00\u65b9\u9762\u200b\uff0c\u200b\u5982\u679c\u200b p \u200b\u503c\u200b\u5c0f\u4e8e\u200b\u9009\u62e9\u200b\u7684\u200b\u663e\u8457\u200b\u5ea6\u200b\u6c34\u5e73\u200b\uff08\u200b\u901a\u5e38\u200b\u8bbe\u200b\u4e3a\u200b 0.05\uff09\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u66f4\u200b\u5927\u200b\u6982\u7387\u200b\u4e0b\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u62d2\u7edd\u200b\u96f6\u200b\u5047\u8bbe\u200b\uff0c\u200b\u6570\u636e\u200b\u7684\u200b\u8bc1\u636e\u200b\u663e\u793a\u200b\u6211\u4eec\u200b\u7684\u200b\u6837\u672c\u200b\u4e0d\u662f\u200b\u6765\u81ea\u200b\u4e00\u4e2a\u200b\u6b63\u6001\u5206\u5e03\u200b\u6bcd\u4f53\u200b\u3002\u200b\u53e6\u4e00\u65b9\u9762\u200b\uff0c\u200b\u5982\u679c\u200b p \u200b\u503c\u6bd4\u200b\u9009\u62e9\u200b\u7684\u200b\u663e\u8457\u200b\u5ea6\u200b\u6c34\u5e73\u200b\u5927\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u6ca1\u6709\u200b\u8bc1\u636e\u200b\u62d2\u7edd\u200b\u96f6\u200b\u5047\u8bbe\u200b\uff0c\u200b\u6570\u636e\u200b\u6765\u81ea\u200b\u4e8e\u200b\u4e00\u4e2a\u200b\u6b63\u6001\u5206\u5e03\u200b\u3002</p> <p>Python \u200b\u5b9e\u73b0\u200b\uff1a</p> Python<pre><code>import numpy as np\nfrom scipy import stats\nnp.random.seed(0)\nx = np.random.randn(1, 1000)\nprint(stats.shapiro(x[0]))\n# (0.9985557794570923, 0.5914123058319092)\n# \u200b\u8f93\u51fa\u200b\uff08\u200b\u7edf\u8ba1\u200b\u91cf\u200b W \u200b\u7684\u200b\u503c\u200b\uff0cP \u200b\u503c\u200b\uff09\n# W \u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b 1 \u200b\u5c31\u200b\u8d8a\u200b\u8868\u660e\u200b\u6570\u636e\u200b\u548c\u200b\u6b63\u6001\u5206\u5e03\u200b\u62df\u5408\u200b\u5f97\u200b\u8d8a\u200b\u597d\u200b\n# P \u200b\u503c\u200b&gt;\u200b\u6307\u5b9a\u200b\u6c34\u5e73\u200b\uff0c\u200b\u4e0d\u200b\u62d2\u7edd\u200b\u539f\u200b\u5047\u8bbe\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u6837\u672c\u200b\u6570\u636e\u200b\u670d\u4ece\u200b\u6b63\u6001\u5206\u5e03\u200b\n# \u200b\u4e0d\u200b\u9002\u5408\u200b\u6837\u672c\u200b&gt;5000 \u200b\u7684\u200b\u60c5\u51b5\u200b\n</code></pre>","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/test-for-normal-distribution/#\u8ddd\u79bb\u71b5","title":"\u8ddd\u79bb\u200b\u71b5","text":"<p>\u200b\u8ddd\u79bb\u200b\u71b5\u200b (metric entropy) \uff1a\u200b\u7528\u975e\u200b\u53c2\u200b\u7684\u200b\u9ad8\u65af\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u51fa\u200b\u6837\u672c\u200b\u70b9\u200b \\(x_t\\) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b\uff0c\u200b\u4e0e\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\u76f8\u51cf\u200b\u5e76\u200b\u8ba1\u7b97\u200b\u5dee\u503c\u200b\u7684\u200b\u5e73\u65b9\u548c\u200b\uff1a</p> \\[ metric\\_ entropy = \\sum_{t=1}^N\\left(D_h\\left(x, m_t\\right)-N\\left(0,1, m_t\\right)\\right)^2 \\] <p>\u200b\u5176\u4e2d\u200b\uff1a</p> <ol> <li> <p>\\(D_h\\left(x, x_t\\right)\\) \u200b\u8868\u793a\u200b\u57fa\u4e8e\u200b\u6837\u672c\u200b \\(x\\) \u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u7684\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\u5728\u200b \\(m_t\\) \u200b\u5904\u200b\u7684\u200b\u53d6\u503c\u200b\u3002</p> </li> <li> <p>\\(m_t = \\min \\left(x_t\\right)+\\frac{\\max \\left(x_t\\right)-\\min \\left(x_t\\right)}{N} t\\)\uff0c\\(N\\left(0,1, m_t\\right)\\) \u200b\u8868\u793a\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\u5bf9\u5e94\u200b \\(m_t\\)\u200b\u5904\u200b\u7684\u200b\u53d6\u503c\u200b\u3002</p> </li> <li> <p>\u200b\u82e5\u200b\u6837\u672c\u200b\u70b9\u200b\u5b8c\u5168\u200b\u670d\u4ece\u200b\u6b63\u6001\u5206\u5e03\u200b\uff0c\u200b\u90a3\u4e48\u200b \\(metric\\_ entropy = 0\\)\u3002</p> </li> </ol> <p>\u200b\u4ee5\u200b\u67d0\u65e5\u200b\u7684\u200b\u4e24\u53ea\u200b\u80a1\u7968\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5206\u522b\u200b\u7ed8\u5236\u200b\u5f53\u65e5\u200b\u7684\u200b\u5206\u949f\u200b\u6536\u76d8\u4ef7\u200b\u6298\u7ebf\u56fe\u200b\u4e0e\u200b\u6807\u51c6\u5316\u200b\u540e\u200b\u7684\u200b\u5206\u949f\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u76f4\u65b9\u56fe\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\u3002\u200b\u5f53\u65e5\u200b\u5185\u200b\u6536\u76ca\u7387\u200b\u51fa\u73b0\u200b\u6781\u7aef\u200b\u503c\u65f6\u200b\uff0c\u200b\u9ad8\u65af\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u4e0e\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u5dee\u8ddd\u200b\u8f83\u5927\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u8ddd\u79bb\u200b\u71b5\u200b\u4e5f\u200b\u8f83\u5927\u200b\u3002\u200b\u4e0a\u56fe\u200b\u4e2d\u200b\u7684\u200b\u80a1\u7968\u4ef7\u683c\u200b\u53d8\u5316\u200b\u8f83\u4e3a\u200b\u5e73\u7a33\u200b\uff0c\u200b\u8ddd\u79bb\u200b\u71b5\u200b\u4e3a\u200b\\(0.13\\)\uff0c\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u7684\u200b\u80a1\u7968\u4ef7\u683c\u200b\u5728\u200b\u5c11\u6570\u200b\u5206\u949f\u200b\u51fa\u73b0\u200b\u7a81\u53d8\u200b\uff0c\u200b\u8ddd\u79bb\u200b\u71b5\u200b\u4e3a\u200b\\(0.87\\)\u3002</p> <p></p> <p>Python \u200b\u5b9e\u73b0\u200b\uff1a</p> Python<pre><code>def metric_entropy(array):\n# \u200b\u4f7f\u7528\u200b\u9ad8\u65af\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u51fa\u200b\u6837\u672c\u200b\u70b9\u200b $x_t$ \u200b\u5bf9\u5e94\u200b\u7684\u200b\u5206\u5e03\u200b\u51fd\u6570\u200b\nkernel_density = stats.gaussian_kde(array)\n# \u200b\u8ba1\u7b97\u200b\u6837\u672c\u200b\u70b9\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u6700\u5927\u503c\u200b\nx_min = array.min()\nx_max = array.max()\n# \u200b\u751f\u6210\u200b\u7b49\u5dee\u6570\u5217\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u8ddd\u79bb\u200b\u71b5\u200b\n# \u200b\u7b2c\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u662f\u200b x_min + (x_max - x_min) / len(array)\uff0c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u662f\u200b x_max\uff0c\u200b\u4e00\u5171\u200b\u6709\u200b len(array) \u200b\u4e2a\u200b\u6570\u5b57\u200b\nm_list = np.linspace(start=x_min, stop=x_max, num=len(array) + 1)[1:]\n# \u200b\u8ba1\u7b97\u200b\u9ad8\u65af\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u503c\u200b\nD_list = kernel_density(m_list)\n# \u200b\u8ba1\u7b97\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u503c\u200b\nN_list = stats.norm.pdf(m_list)\n# \u200b\u8ba1\u7b97\u200b\u8ddd\u79bb\u200b\u71b5\u200b\nmetric_entropy = sum((D_list - N_list) ** 2)\n</code></pre>","tags":["\u7edf\u8ba1","Python"]},{"location":"blog/pytorch-basics/","title":"PyTorch \u200b\u57fa\u7840","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u5b66\u4e60\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\uff1a</p> <ol> <li>\u200b\u5b89\u88c5\u200b GPU \u200b\u7248\u672c\u200b\u7684\u200b PyTorch\u3002</li> <li>PyTorch \u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5\u200b\uff0c\u200b\u4f8b\u5982\u200b\u521b\u5efa\u200b\u5f20\u91cf\u200b\u3001\u200b\u5f20\u91cf\u200b\u8fd0\u7b97\u200b\u3001\u200b\u6c42\u89e3\u200b\u68af\u5ea6\u200b\u7b49\u200b\u3002</li> </ol>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5b89\u88c5-gpu-\u7248\u672c\u7684-pytorch","title":"\u5b89\u88c5\u200b GPU \u200b\u7248\u672c\u200b\u7684\u200b PyTorch","text":"<p>\u200b\u5b89\u88c5\u200b PyTorch \u200b\u7684\u200b\u6b65\u9aa4\u200b\u89c1\u200b\u8fd9\u200b\u7bc7\u6587\u7ae0\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u4e4b\u524d\u200b\u8e29\u200b\u8fc7\u200b\u7684\u200b\u5751\u200b\uff0c\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b\u5e94\u8be5\u200b\u5341\u5206\u200b\u987a\u5229\u200b\u3002</p> <p>\u200b\u503c\u5f97\u200b\u518d\u6b21\u200b\u6ce8\u610f\u200b\u7684\u200b\u5730\u65b9\u200b\uff1a</p> <ol> <li>\u200b\u7f51\u7edc\u200b\u73af\u5883\u200b\u8981\u200b\u7a33\u5b9a\u200b\uff0c\u200b\u4e0d\u8981\u200b\u5207\u6362\u200b\u4ee3\u7406\u200b\u7684\u200b\u5f00\u5173\u200b\uff0c\u200b\u4e0d\u8981\u200b\u5207\u6362\u200b\u7f51\u7edc\u200b\u3002</li> <li>\u200b\u4ee5\u200b\u7ba1\u7406\u5458\u200b\u8eab\u4efd\u200b\u6253\u5f00\u200b <code>Anaconda Prompt (miniconda3)</code>\uff0c\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u4e00\u4e9b\u200b\u62a5\u9519\u200b\u3002</li> <li>\u200b\u4e3a\u200b PyTorch \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b Conda \u200b\u73af\u5883\u200b\u3002</li> </ol>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#pytorch-\u7684\u57fa\u672c\u7528\u6cd5","title":"PyTorch \u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5","text":"","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5f20\u91cf","title":"\u5f20\u91cf","text":"","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u521b\u5efa\u8fde\u7eed\u6570\u7ec4\u7684\u5f20\u91cf","title":"\u521b\u5efa\u200b\u8fde\u7eed\u200b\u6570\u7ec4\u200b\u7684\u200b\u5f20\u91cf","text":"Python<pre><code>n = 12\nx = torch.arange(n)\nprint(x)\nprint(x.shape)\nprint(x.numel())\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u8ba1\u7b97\u5143\u7d20\u603b\u4e2a\u6570","title":"\u8ba1\u7b97\u200b\u5143\u7d20\u200b\u603b\u200b\u4e2a\u6570","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u5143\u7d20\u200b\u603b\u200b\u4e2a\u6570\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\nprint(x.numel())\n# 12\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#reshape","title":"<code>reshape</code>","text":"Python<pre><code>X = x.reshape(3, 4)\nX\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u751f\u6210\u5168\u662f-0-\u7684\u5f20\u91cf","title":"\u751f\u6210\u200b\u5168\u662f\u200b 0 \u200b\u7684\u200b\u5f20\u91cf","text":"Python<pre><code>torch.zeros((2, 3, 4))\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u751f\u6210\u5168\u662f-1-\u7684\u5f20\u91cf","title":"\u751f\u6210\u200b\u5168\u662f\u200b 1 \u200b\u7684\u200b\u5f20\u91cf","text":"Python<pre><code># 2 \u200b\u4e2a\u200b\u6837\u672c\u200b\uff0c3 \u200b\u4e2a\u200b\u901a\u9053\u200b\uff0c4 \u200b\u4e2a\u200b\u7279\u5f81\u200b\ntorch.ones((2, 3, 4))\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u4ee5\u6b63\u6001\u5206\u5e03\u521d\u59cb\u5316\u5f20\u91cf","title":"\u4ee5\u200b\u6b63\u6001\u5206\u5e03\u200b\u521d\u59cb\u5316\u200b\u5f20\u91cf","text":"Python<pre><code># \u200b\u968f\u673a\u200b\u521d\u59cb\u5316\u200b\uff0crandn \u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b n \u200b\u4ee3\u8868\u200b normal\uff0c\u200b\u5373\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\ntorch.randn(3, 4)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u4ece\u5217\u8868\u521b\u5efa\u5f20\u91cf","title":"\u4ece\u200b\u5217\u8868\u200b\u521b\u5efa\u200b\u5f20\u91cf","text":"Python<pre><code># list to tensor\uff0c\u200b\u5217\u8868\u200b\u8f6c\u4e3a\u200b tensor\ntorch.tensor([[2, 1, 4, 3], [1, 2, 3, 4], [4, 3, 2, 1]], dtype=int)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5f20\u91cf\u4e4b\u95f4\u7684\u8fd0\u7b97","title":"\u5f20\u91cf\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8fd0\u7b97","text":"<p>\u200b\u4f8b\u5982\u200b\u52a0\u200b\u3001\u200b\u51cf\u200b\u3001\u200b\u4e58\u200b\u3001\u200b\u9664\u200b\u3001\u200b\u5e73\u65b9\u200b\u3002</p> Python<pre><code># tensor \u200b\u8fd0\u7b97\u200b\nx = torch.tensor([1.0, 2, 4, 8])\ny = torch.tensor([2, 2, 2, 2])\nx + y, x - y, x * y, x / y, x**y\n</code></pre> <p></p> <p>\u200b\u6307\u6570\u200b\u8fd0\u7b97\u200b</p> Python<pre><code>torch.exp(x)\n</code></pre> <p></p>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u62fc\u63a5\u5f20\u91cf\u4e0a\u4e0b\u62fc\u63a5\u5de6\u53f3\u62fc\u63a5","title":"\u62fc\u63a5\u200b\u5f20\u91cf\u200b\uff08\u200b\u4e0a\u4e0b\u200b\u62fc\u63a5\u200b\u3001\u200b\u5de6\u53f3\u200b\u62fc\u63a5\u200b\uff09","text":"Python<pre><code># concatenation \u200b\u62fc\u63a5\u200b\u4e24\u4e2a\u200b tensor\nX = torch.arange(12, dtype=torch.float32).reshape((3, 4))\nY = torch.tensor([[2.0, 1, 4, 3], [1, 2, 3, 4], [4, 3, 2, 1]])\ntorch.cat((X, Y), dim=0), torch.cat((X, Y), dim=1)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u8f6c\u6362\u5f20\u91cf\u5143\u7d20\u7684\u6570\u636e\u7c7b\u578b","title":"\u8f6c\u6362\u200b\u5f20\u91cf\u200b\u5143\u7d20\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":"Python<pre><code>X.to(torch.float64)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5224\u65ad\u4e24\u4e2a\u5f20\u91cf\u5bf9\u5e94\u5143\u7d20\u662f\u5426\u76f8\u7b49","title":"\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u5f20\u91cf\u200b\u5bf9\u5e94\u200b\u5143\u7d20\u200b\u662f\u5426\u200b\u76f8\u7b49","text":"Python<pre><code>X == Y\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5bf9\u5f20\u91cf\u7684\u6240\u6709\u5143\u7d20\u6c42\u548c","title":"\u5bf9\u200b\u5f20\u91cf\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u6c42\u548c","text":"Python<pre><code>X.sum()\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b<code>axis</code>\u200b\u5168\u90e8\u200b\u5199\u51fa\u200b\uff0c\u200b\u6548\u679c\u200b\u4e00\u6837\u200b\uff1a</p> Python<pre><code>A.sum(axis=[0, 1]), A.sum()\n# (tensor(190.), tensor(190.))\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u4e0d\u540c\u7ef4\u5ea6\u7684\u5f20\u91cf\u76f8\u52a0\u5229\u7528\u5e7f\u64ad\u673a\u5236","title":"\u4e0d\u540c\u200b\u7ef4\u5ea6\u200b\u7684\u200b\u5f20\u91cf\u200b\u76f8\u52a0\u200b\uff0c\u200b\u5229\u7528\u200b\u5e7f\u64ad\u200b\u673a\u5236","text":"Python<pre><code># add with different shape\uff0c\u200b\u5e7f\u64ad\u200b\u673a\u5236\u200b\na = torch.arange(3).reshape((3, 1))\nb = torch.arange(2).reshape((1, 2))\na, b, a + b\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5229\u7528\u7d22\u5f15\u8fdb\u884c\u5207\u7247","title":"\u5229\u7528\u200b\u7d22\u5f15\u200b\u8fdb\u884c\u200b\u5207\u7247","text":"Python<pre><code>X[-1], X[1:3,]\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5229\u7528\u7d22\u5f15\u8fdb\u884c\u8d4b\u503c","title":"\u5229\u7528\u200b\u7d22\u5f15\u200b\u8fdb\u884c\u200b\u8d4b\u503c","text":"Python<pre><code>X[0:2, :] = 12\nX\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u8d4b\u503c\u65f6\u4f7f\u7528\u539f\u5730\u5740\u4ee5\u8282\u7ea6\u5185\u5b58","title":"\u8d4b\u503c\u200b\u65f6\u200b\u4f7f\u7528\u200b\u539f\u200b\u5730\u5740\u200b\uff0c\u200b\u4ee5\u200b\u8282\u7ea6\u200b\u5185\u5b58","text":"<p>\u200b\u5e38\u89c4\u200b\u8d4b\u503c\u200b\u8bed\u53e5\u200b\uff0c\u200b\u4f1a\u200b\u5360\u7528\u200b\u65b0\u200b\u5185\u5b58\u200b\uff1a</p> Python<pre><code>before = id(Y)\nY = Y + X\nid(Y) == before\n# False\n</code></pre> <p>\u200b\u4f7f\u7528\u200b<code>Y += X</code>\uff0c\u200b\u4fdd\u5b58\u200b\u7684\u200b Y \u200b\u7684\u200b\u5730\u5740\u200b\u6ca1\u6709\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8282\u7ea6\u200b\u5185\u5b58\u200b\uff1a</p> Python<pre><code>before = id(Y)\nY += X\nid(Y) == before\n# True\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5c06\u5f20\u91cf\u8f6c\u6362\u4e3a-npndarray","title":"\u5c06\u200b\u5f20\u91cf\u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>np.ndarray</code>","text":"Python<pre><code>A = X.numpy()\nB = torch.tensor(A)\ntype(A), type(B)\n# (numpy.ndarray, torch.Tensor)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u82e5\u5f20\u91cf\u4e2d\u53ea\u6709\u4e00\u4e2a\u503c\u53ef\u4ee5\u7528\u4e09\u79cd\u65b9\u6cd5\u5c06\u5f20\u91cf\u8f6c\u6362\u4e3a\u6807\u91cf","title":"\u82e5\u200b\u5f20\u91cf\u200b\u4e2d\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\u5c06\u200b\u5f20\u91cf\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6807\u91cf","text":"Python<pre><code>a = torch.tensor([3.5])\na, a.item(), float(a), int(a)\n# (tensor([3.5000]), 3.5, 3.5, 3)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5bf9\u5f20\u91cf\u77e9\u9635\u4e2d\u7684\u6bcf\u4e00\u884c\u8fdb\u884c-softmax\u4f7f\u5f97\u6bcf\u884c\u4e4b\u548c\u90fd\u4e3a-1","title":"\u5bf9\u200b\u5f20\u91cf\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u8fdb\u884c\u200b softmax\uff0c\u200b\u4f7f\u5f97\u200b\u6bcf\u884c\u200b\u4e4b\u200b\u548c\u200b\u90fd\u200b\u4e3a\u200b 1","text":"Python<pre><code>A = torch.arange(20).reshape(5, 4)\ntorch.softmax(A.float(), dim=1)\n# tensor([[0.0321, 0.0871, 0.2369, 0.6439],\n#         [0.0321, 0.0871, 0.2369, 0.6439],\n#         [0.0321, 0.0871, 0.2369, 0.6439],\n#         [0.0321, 0.0871, 0.2369, 0.6439],\n#         [0.0321, 0.0871, 0.2369, 0.6439]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5f20\u91cf\u77e9\u9635\u8f6c\u7f6e","title":"\u5f20\u91cf\u200b\u77e9\u9635\u200b\u8f6c\u7f6e","text":"Python<pre><code>A.T\n# tensor([[ 0,  4,  8, 12, 16],\n#         [ 1,  5,  9, 13, 17],\n#         [ 2,  6, 10, 14, 18],\n#         [ 3,  7, 11, 15, 19]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u9ad8\u7ef4\u5f20\u91cf","title":"\u9ad8\u7ef4\u200b\u5f20\u91cf","text":"Python<pre><code>X = torch.arange(24).reshape(2, 3, 4)\n# tensor([[[ 0,  1,  2,  3],\n#          [ 4,  5,  6,  7],\n#          [ 8,  9, 10, 11]],\n#         [[12, 13, 14, 15],\n#          [16, 17, 18, 19],\n#          [20, 21, 22, 23]]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5728\u4e0d\u540c\u7ef4\u5ea6\u4e0a\u6c42\u548c","title":"\u5728\u200b\u4e0d\u540c\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u6c42\u548c","text":"Python<pre><code>X.sum(axis=0)\n# tensor([[12, 14, 16, 18],\n#        [20, 22, 24, 26],\n#        [28, 30, 32, 34]])\nX.sum(axis=1)\n# tensor([[12, 15, 18, 21],\n#         [48, 51, 54, 57]])\nX.sum(axis=2)\n# tensor([[ 6, 22, 38],\n#         [54, 70, 86]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5206\u914d\u65b0\u5185\u5b58\u7528\u4e8e\u8d4b\u503c\u65b0\u53d8\u91cf","title":"\u5206\u914d\u200b\u65b0\u200b\u5185\u5b58\u200b\u7528\u4e8e\u200b\u8d4b\u503c\u200b\u65b0\u200b\u53d8\u91cf","text":"Python<pre><code>A = torch.arange(20, dtype=torch.float32).reshape(5, 4)\nB = A.clone()  # \u200b\u901a\u8fc7\u200b\u5206\u914d\u200b\u65b0\u200b\u5185\u5b58\u200b\uff0c\u200b\u5c06\u200b A \u200b\u7684\u200b\u2f00\u200b\u4e2a\u200b\u526f\u672c\u200b\u5206\u914d\u200b\u7ed9\u200b B\n# tensor([[ 0.,  1.,  2.,  3.],\n#         [ 4.,  5.,  6.,  7.],\n#         [ 8.,  9., 10., 11.],\n#         [12., 13., 14., 15.],\n#         [16., 17., 18., 19.]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u6c42\u548c\u540e\u4fdd\u6301\u539f\u59cb\u7ef4\u5ea6\u4e0d\u81ea\u52a8\u964d\u7ef4","title":"\u6c42\u548c\u200b\u540e\u200b\u4fdd\u6301\u200b\u539f\u59cb\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u4e0d\u200b\u81ea\u52a8\u200b\u964d\u7ef4","text":"Python<pre><code>sum_A = A.sum(axis=1, keepdims=True)\n# tensor([[ 6.],\n#         [22.],\n#         [38.],\n#         [54.],\n#         [70.]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u7d2f\u79ef\u6c42\u548c","title":"\u7d2f\u79ef\u200b\u6c42\u548c","text":"<p>\u200b\u4f8b\u5982\u200b\u5728\u200b\u5217\u200b\u7684\u200b\u65b9\u5411\u200b\u4e0a\u200b\u7d2f\u79ef\u200b\u6c42\u548c\u200b\uff1a</p> Python<pre><code>A.cumsum(axis=0)\n# tensor([[ 0.,  1.,  2.,  3.],\n#         [ 4.,  6.,  8., 10.],\n#         [12., 15., 18., 21.],\n#         [24., 28., 32., 36.],\n#         [40., 45., 50., 55.]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u77e9\u9635\u548c\u5411\u91cf\u7684\u4e58\u79ef","title":"\u77e9\u9635\u200b\u548c\u200b\u5411\u91cf\u200b\u7684\u200b\u4e58\u79ef","text":"<p><code>mv</code> \u200b\u4ee3\u8868\u200b matrix \u200b\u548c\u200b vector\u3002</p> Python<pre><code>torch.mv(A, x), torch.matmul(A, x)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u77e9\u9635\u548c\u77e9\u9635\u7684\u4e58\u79ef","title":"\u77e9\u9635\u200b\u548c\u200b\u77e9\u9635\u200b\u7684\u200b\u4e58\u79ef","text":"<p><code>mm</code>\u200b\u4ee3\u8868\u200b matrix \u200b\u548c\u200b matrix\u3002</p> Python<pre><code>B = torch.ones(4, 3)\ntorch.mm(A, B)\n# tensor([[ 6.,  6.,  6.],\n#         [22., 22., 22.],\n#         [38., 38., 38.],\n#         [54., 54., 54.],\n#         [70., 70., 70.]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u77e9\u9635\u7684\u8303\u6570","title":"\u77e9\u9635\u200b\u7684\u200b\u8303\u6570","text":"<p><code>torch.norm(p=2)</code> \u200b\u9ed8\u8ba4\u200b\u6c42\u4e8c\u200b\u8303\u6570\u200b\u3002</p> Python<pre><code>u = torch.tensor([3.0, -4.0])\ntorch.norm(u)\n# tensor(5.)\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u5148\u5bf9\u200b\u5404\u200b\u5143\u7d20\u200b\u6c42\u200b\u7edd\u5bf9\u503c\u200b\uff0c\u200b\u518d\u200b\u6c42\u548c\u200b\uff0c\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u4e00\u200b\u8303\u6570\u200b\u3002\u200b\u6216\u8005\u200b\u7528\u200b <code>torch.norm(p=1)</code></p> Python<pre><code>torch.abs(u).sum()  # L1-norm\n# tensor(7.)\ntorch.norm(u, p=1)\n# tensor(7.)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u4ece\u73b0\u6709\u6570\u636e\u5bfc\u5165\u4e3a\u5f20\u91cf","title":"\u4ece\u200b\u73b0\u6709\u200b\u6570\u636e\u200b\u5bfc\u5165\u200b\u4e3a\u200b\u5f20\u91cf","text":"","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u521b\u5efa\u6587\u4ef6\u5939\u82e5\u5df2\u7ecf\u5b58\u5728\u5219\u4e0d\u521b\u5efa","title":"\u521b\u5efa\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u82e5\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u5219\u200b\u4e0d\u200b\u521b\u5efa","text":"Python<pre><code>os.makedirs(\"./chpdata\", exist_ok=True)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5c06\u5b57\u7b26\u4e32\u5199\u5165csv\u6587\u4ef6","title":"\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u5199\u5165\u200b<code>csv</code>\u200b\u6587\u4ef6","text":"Python<pre><code>data_file = \"./chpdata/house_tiny.csv\"\nwith open(data_file, \"w\") as f:\nf.write(\"NumRooms,Alley,Price\\n\")  # \u200b\u5217\u540d\u200b\nf.write(\"NA,Pave,127500\\n\")  # \u200b\u6bcf\u200b\u2f8f\u200b\u8868\u200b\u2f70\u200b\u2f00\u200b\u4e2a\u200b\u6570\u636e\u200b\u6837\u672c\u200b\nf.write(\"2,NA,106000\\n\")\nf.write(\"4,NA,178100\\n\")\nf.write(\"NA,NA,140000\\n\")\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u8bfb\u53d6csv\u6587\u4ef6","title":"\u8bfb\u53d6\u200b<code>csv</code>\u200b\u6587\u4ef6","text":"Python<pre><code>data = pd.read_csv(data_file)\nprint(data)\n#    NumRooms Alley   Price\n# 0       NaN  Pave  127500\n# 1       2.0   NaN  106000\n# 2       4.0   NaN  178100\n# 3       NaN   NaN  140000\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5212\u5206\u7279\u5f81\u548c\u6807\u7b7e\u7528\u5747\u503c\u586b\u5145\u7f3a\u5931\u503c","title":"\u5212\u5206\u200b\u7279\u5f81\u200b\u548c\u200b\u6807\u7b7e\u200b\uff0c\u200b\u7528\u200b\u5747\u503c\u200b\u586b\u5145\u200b\u7f3a\u5931\u200b\u503c","text":"Python<pre><code>inputs, outputs = data.iloc[:, 0:2], data.iloc[:, 2]\ninputs = inputs.fillna(inputs.mean())\nprint(inputs)\n#    NumRooms Alley\n# 0       3.0  Pave\n# 1       2.0   NaN\n# 2       4.0   NaN\n# 3       3.0   NaN\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5c06\u7c7b\u522b\u578b\u53d8\u91cf\u8f6c\u6362\u4e3a\u54d1\u53d8\u91cf","title":"\u5c06\u200b\u7c7b\u522b\u200b\u578b\u200b\u53d8\u91cf\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u54d1\u200b\u53d8\u91cf","text":"Python<pre><code>inputs = pd.get_dummies(inputs, dummy_na=True)\nprint(inputs)\n#    NumRooms  Alley_Pave  Alley_nan\n# 0       3.0           1          0\n# 1       2.0           0          1\n# 2       4.0           0          1\n# 3       3.0           0          1\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5c06\u6570\u636e\u5bfc\u5165\u4e3a\u5f20\u91cf","title":"\u5c06\u200b\u6570\u636e\u200b\u5bfc\u5165\u200b\u4e3a\u200b\u5f20\u91cf","text":"Python<pre><code>X, y = torch.tensor(inputs.values), torch.tensor(outputs.values)\nX, y\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u68af\u5ea6","title":"\u68af\u5ea6","text":"<p>\u200b\u5b9a\u4e49\u200b\u5bfc\u6570\u200b\uff0c\u200b\u5c06\u200b\u81ea\u53d8\u91cf\u200b\u7684\u200b\u53d8\u5316\u200b\u91cf\u200b\u9010\u6e10\u200b\u7f29\u5c0f\u200b\uff0c\u200b\u67e5\u770b\u200b\u5bfc\u6570\u200b\u7684\u200b\u53d8\u5316\u200b\uff1a</p> Python<pre><code>def f(x):\nreturn 3 * x**2 - 4 * x\ndef numerical_lim(f, x, h):\nreturn (f(x + h) - f(x)) / h\nh = 0.1\nfor i in range(5):\nprint(f\"h={h:.5f}, numerical limit={numerical_lim(f, 1, h):.5f}\")\nh *= 0.1\n# h=0.10000, numerical limit=2.30000\n# h=0.01000, numerical limit=2.03000\n# h=0.00100, numerical limit=2.00300\n# h=0.00010, numerical limit=2.00030\n# h=0.00001, numerical limit=2.00003\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u81ea\u52a8\u6c42\u5bfc","title":"\u81ea\u52a8\u200b\u6c42\u5bfc","text":"Python<pre><code>x = torch.arange(4.0)\n# tensor([0., 1., 2., 3.], requires_grad=True)\nx.requires_grad_(True)\ny = 2 * torch.dot(x, x)\ny.backward()\nx.grad\n# tensor([ 0.,  4.,  8., 12.])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u6e05\u7a7a\u68af\u5ea6","title":"\u6e05\u7a7a\u200b\u68af\u5ea6","text":"<p>\u200b\u82e5\u200b\u4e0d\u200b\u6e05\u7a7a\u200b<code>x</code>\u200b\u7684\u200b\u68af\u5ea6\u200b\uff0c\u200b\u5f53\u200b\u7ee7\u7eed\u200b\u6c42\u5bfc\u200b\u65f6\u200b\uff0c\u200b\u68af\u5ea6\u200b\u4f1a\u200b\u7d2f\u79ef\u200b\uff1a</p> Python<pre><code>z = 2 * torch.dot(x, x)\nz.backward()\nx.grad  # gradient \u200b\u7d2f\u79ef\u200b\n# tensor([ 0.,  8., 16., 24.])\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>x.grad.zero_()</code>\u200b\u5c06\u200b\u68af\u5ea6\u200b\u6e05\u7a7a\u200b\uff1a</p> Python<pre><code>x.grad.zero_()\ny = x.sum()\ny.backward()\nx.grad\n# tensor([1., 1., 1., 1.])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u6307\u5b9a\u51fd\u6570\u7684\u4e00\u90e8\u5206\u53c2\u4e0e\u6c42\u5bfc\u53e6\u4e00\u90e8\u5206\u4e0d\u53c2\u4e0e\u6c42\u5bfc","title":"\u6307\u5b9a\u200b\u51fd\u6570\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u53c2\u4e0e\u200b\u6c42\u5bfc\u200b\uff0c\u200b\u53e6\u200b\u4e00\u90e8\u5206\u200b\u4e0d\u200b\u53c2\u4e0e\u200b\u6c42\u5bfc","text":"Python<pre><code>x = torch.tensor(1.0, requires_grad=True)\ny1 = x**2\nwith torch.no_grad():\ny2 = x**3\ny3 = y1 + y2\nprint(x.requires_grad)\nprint(y1, y1.requires_grad)  # True\nprint(y2, y2.requires_grad)  # False\nprint(y3, y3.requires_grad)  # True\n# True\n# tensor(1., grad_fn=&lt;PowBackward0&gt;) True\n# tensor(1.) False\n# tensor(2., grad_fn=&lt;AddBackward0&gt;) True\n</code></pre> <p>\u200b\u6b64\u65f6\u200b\u7528\u200b\u5c06\u200b<code>y3</code>\u200b\u5bf9\u200b<code>x</code>\u200b\u6c42\u5bfc\u200b\uff0c\u200b\u53ea\u6709\u200b<code>y1</code>\u200b\u7684\u200b\u90e8\u5206\u200b\u53c2\u4e0e\u200b\u4e86\u200b\u6c42\u5bfc\u200b\uff1a</p> Python<pre><code>y3.backward()\nx.grad\n# tensor(2.)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u6982\u7387\u5206\u5e03","title":"\u6982\u7387\u5206\u5e03","text":"Python<pre><code>from torch.distributions import multinomial\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u5747\u5300\u5206\u5e03","title":"\u5747\u5300\u5206\u5e03","text":"Python<pre><code>fair_probs = torch.ones([6]) / 6\n# tensor([0.1667, 0.1667, 0.1667, 0.1667, 0.1667, 0.1667])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u591a\u9879\u5206\u5e03","title":"\u591a\u9879\u200b\u5206\u5e03","text":"Python<pre><code>multinomial.Multinomial(1, fair_probs).sample()\n# tensor([0., 0., 0., 0., 1., 0.])\n</code></pre> Python<pre><code>n = 100\nmultinomial.Multinomial(n, fair_probs).sample() / n\n# tensor([0.1700, 0.1700, 0.1600, 0.1200, 0.2300, 0.1500])\n</code></pre> <p>\u200b\u751f\u6210\u200b\u591a\u4e2a\u200b\u6837\u672c\u200b\uff1a</p> Python<pre><code># 500 trials, 10 sample each trial\ncounts = multinomial.Multinomial(10, fair_probs).sample((500,))\n# tensor([[1., 1., 2., 3., 1., 2.],\n#         [2., 2., 0., 2., 4., 0.],\n#         [0., 2., 2., 1., 3., 2.],\n#         ...,\n#         [3., 0., 1., 2., 3., 1.],\n#         [2., 2., 1., 3., 2., 0.],\n#         [5., 1., 1., 1., 2., 0.]])\ncum_counts = counts.cumsum(dim=0)\n# tensor([[  1.,   1.,   2.,   3.,   1.,   2.],\n#         [  3.,   3.,   2.,   5.,   5.,   2.],\n#         [  3.,   5.,   4.,   6.,   8.,   4.],\n#         ...,\n#         [833., 812., 800., 857., 829., 849.],\n#         [835., 814., 801., 860., 831., 849.],\n#         [840., 815., 802., 861., 833., 849.]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u67e5\u770b\u6240\u6709\u5185\u7f6e\u7684\u5206\u5e03","title":"\u67e5\u770b\u200b\u6240\u6709\u200b\u5185\u7f6e\u200b\u7684\u200b\u5206\u5e03","text":"Python<pre><code>print(dir(torch.distributions))\n# ['AbsTransform', 'AffineTransform', 'Bernoulli', 'Beta', 'Binomial', 'CatTransform', 'Categorical', 'Cauchy', 'Chi2', 'ComposeTransform', 'ContinuousBernoulli', 'Dirichlet', 'Distribution', 'ExpTransform', 'Exponential', 'ExponentialFamily', 'FisherSnedecor', 'Gamma', 'Geometric', 'Gumbel', 'HalfCauchy', 'HalfNormal', 'Independent', 'Laplace', 'LogNormal', 'LogisticNormal', 'LowRankMultivariateNormal', 'LowerCholeskyTransform', 'MixtureSameFamily', 'Multinomial', 'MultivariateNormal', 'NegativeBinomial', 'Normal', 'OneHotCategorical', 'Pareto', 'Poisson', 'PowerTransform', 'RelaxedBernoulli', 'RelaxedOneHotCategorical', 'SigmoidTransform', 'SoftmaxTransform', 'StackTransform', 'StickBreakingTransform', 'StudentT', 'TanhTransform', 'Transform', 'TransformedDistribution', 'Uniform', 'VonMises', 'Weibull', '__all__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', 'bernoulli', 'beta', 'biject_to', 'binomial', 'categorical', 'cauchy', 'chi2', 'constraint_registry', 'constraints', 'continuous_bernoulli', 'dirichlet', 'distribution', 'exp_family', 'exponential', 'fishersnedecor', 'gamma', 'geometric', 'gumbel', 'half_cauchy', 'half_normal', 'identity_transform', 'independent', 'kl', 'kl_divergence', 'laplace', 'log_normal', 'logistic_normal', 'lowrank_multivariate_normal', 'mixture_same_family', 'multinomial', 'multivariate_normal', 'negative_binomial', 'normal', 'one_hot_categorical', 'pareto', 'poisson', 'register_kl', 'relaxed_bernoulli', 'relaxed_categorical', 'studentT', 'transform_to', 'transformed_distribution', 'transforms', 'uniform', 'utils', 'von_mises', 'weibull']\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u67e5\u770b\u5e2e\u52a9","title":"\u67e5\u770b\u200b\u5e2e\u52a9","text":"Python<pre><code>help(torch.poisson)\n# Help on built-in function poisson:\n# poisson(...)\n#     poisson(input *, generator=None) -&gt; Tensor\n#     Returns a tensor of the same size as :attr:`input` with each element\n#     sampled from a Poisson distribution with rate parameter given by the corresponding\n#     element in :attr:`input` i.e.,\n#     .. math::\n#         \\text{out}_i \\sim \\text{Poisson}(\\text{input}_i)\n#     Args:\n#         input (Tensor): the input tensor containing the rates of the Poisson distribution\n#     Keyword args:\n#         generator (:class:`torch.Generator`, optional): a pseudorandom number generator for sampling\n#     Example::\n#         &gt;&gt;&gt; rates = torch.rand(4, 4) * 5  # rate parameter between 0 and 5\n#         &gt;&gt;&gt; torch.poisson(rates)\n#         tensor([[9., 1., 3., 5.],\n#                 [8., 6., 6., 0.],\n#                 [0., 4., 5., 3.],\n#                 [2., 1., 4., 2.]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#01-\u5747\u5300\u5206\u5e03","title":"[0,1] \u200b\u5747\u5300\u5206\u5e03","text":"Python<pre><code>torch.rand(10)  # [0,1] uniform\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u6807\u51c6\u6b63\u6001\u5206\u5e03","title":"\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03","text":"Python<pre><code>torch.randn(100)  # standard normal\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u4f7f\u7528-numpy-\u4e2d\u7684\u968f\u673a\u6570\u751f\u6210\u5668","title":"\u4f7f\u7528\u200b NumPy \u200b\u4e2d\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u751f\u6210\u5668","text":"Python<pre><code># of course you can use NumPy random generator\nnp.random.rand(10)\nnp.random.randn(10)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u4ece\u5217\u8868\u4e2d\u968f\u673a\u53d6\u6570","title":"\u4ece\u200b\u5217\u8868\u200b\u4e2d\u200b\u968f\u673a\u200b\u53d6\u6570","text":"Python<pre><code># sample from a list\n# \u200b\u4ece\u200b 0\uff0c1\uff0c2\uff0c3 \u200b\u4e2d\u4e0d\u653e\u200b\u56de\u5730\u200b\u62bd\u53d6\u200b 2 \u200b\u4e2a\u6570\u200b\nnp.random.choice(4, 2, replace=False)\na = [5, 8, 10]\nnp.random.choice(a, 1)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-basics/#\u7b49\u5dee\u6570\u5217\u5373\u5747\u5300\u5206\u5272\u7ebf\u6027\u7a7a\u95f4","title":"\u7b49\u5dee\u6570\u5217\u200b\uff0c\u200b\u5373\u200b\u5747\u5300\u200b\u5206\u5272\u200b\u7ebf\u6027\u200b\u7a7a\u95f4","text":"Python<pre><code>torch.linspace(0, 1, 10)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/typora-default-language/","title":"Typora \u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u200b\u4ee3\u7801\u200b\u8bed\u8a00","text":"<p>\u200b\u5728\u200b Typora \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u63d2\u5165\u200b\u4ee3\u7801\u200b\u5757\u200b\uff0c\u200b\u4f46\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u6dfb\u52a0\u200b\u8bed\u8a00\u200b\u3002\u200b\u82e5\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u63d2\u5165\u200b\u540c\u200b\u4e00\u79cd\u200b\u8bed\u8a00\u200b\u7684\u200b\u4ee3\u7801\u200b\u5757\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u501f\u52a9\u200b\u7b2c\u4e09\u65b9\u200b\u7684\u200b\u5feb\u6377\u952e\u200b\u5de5\u5177\u200b AutoHotkey\uff0c\u200b\u81ea\u52a8\u200b\u8bbe\u7f6e\u200b\u4ee3\u7801\u200b\u5757\u200b\u7684\u200b\u8bed\u8a00\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u5de5\u4f5c\u6548\u7387\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/typora-default-language/#\u6b65\u9aa4","title":"\u6b65\u9aa4","text":"<ol> <li> <p>\u200b\u70b9\u51fb\u200b\u4e0b\u8f7d\u200b ahk\u3002</p> </li> <li> <p>\u200b\u65b0\u5efa\u200b <code>.txt</code> \u200b\u6587\u672c\u6587\u4ef6\u200b\uff0c\u200b\u5c06\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\u7c98\u8d34\u200b\u5230\u200b\u6587\u672c\u200b\u5185\u200b\u3002</p> Text Only<pre><code>#IfWinActive ahk_exe Typora.exe\n{\n    ; Ctrl+Alt+K javaCode    \n    ; crtl \u200b\u662f\u200b  ^ , shift \u200b\u662f\u200b + , k \u200b\u662f\u200b  k \u200b\u952e\u200b\n    ^+k::addCodeJava()\n}\naddCodeJava(){\nSend,{```}\nSend,{```}\nSend,{```}\nSend,python\nSend,{Enter}\nReturn\n}\n</code></pre> </li> <li> <p>\u200b\u4fdd\u5b58\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u540e\u7f00\u200b\u6539\u4e3a\u200b<code>.ahk</code>\u3002</p> </li> <li> <p>\u200b\u53cc\u51fb\u200b\u542f\u52a8\u200b<code>.ahk</code>\u200b\u6587\u4ef6\u200b\u3002</p> </li> </ol>","tags":["Computer Science"]},{"location":"blog/typora-default-language/#\u6ce8\u610f\u4e8b\u9879","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u200b\u51c6\u5907\u200b\u8f93\u5165\u200b\u4ee3\u7801\u200b\u5757\u200b\u4e4b\u524d\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u8f93\u5165\u6cd5\u200b\u5207\u6362\u200b\u5230\u200b\u82f1\u6587\u200b\u3002\u200b\u82e5\u200b\u5728\u200b\u4e2d\u6587\u200b\u8f93\u5165\u6cd5\u200b\u4e0b\u200b\uff0c\u200b\u8f93\u5165\u200b\u7684\u200b\u662f\u200b<code>\u00b7\u00b7\u00b7</code>\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b <code>```</code>\u3002</p>","tags":["Computer Science"]},{"location":"blog/latex-note/","title":"\\(\\LaTeX\\) \u200b\u7b14\u8bb0","text":"<p>\\(\\LaTeX\\)\u200b\u4f7f\u7528\u200b\u7b14\u8bb0\u200b\u53ca\u200b\u683c\u5f0f\u200b\u7ea6\u5b9a\u200b\u3002</p> <p>\u200b\u8f6c\u8f7d\u81ea\u200b\uff1a</p> Text Only<pre><code>\u200b\u4f5c\u8005\u200b\uff1azxl19\n\u200b\u539f\u6587\u200b\u94fe\u63a5\u200b\uff1ahttps://zxl19.github.io\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u57fa\u7840\u8bbe\u7f6e","title":"\u57fa\u7840\u200b\u8bbe\u7f6e","text":"TeX<pre><code>% !TeX encoding = UTF-8\n% !TeX program = xelatex\n% !TeX spellcheck = en_US\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5e38\u7528\u5b8f\u5305","title":"\u5e38\u7528\u200b\u5b8f\u5305","text":"TeX<pre><code>\\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}  % \u200b\u6570\u5b66\u516c\u5f0f\u200b\u3001\u200b\u7b26\u53f7\u200b\u7b49\u5b8f\u5305\u200b\n\\usepackage{enumerate}              % \u200b\u63d2\u5165\u200b\u5e26\u200b\u5e8f\u53f7\u200b\u5217\u8868\u200b\n\\usepackage{graphicx}               % \u200b\u63d2\u5165\u200b\u56fe\u7247\u200b\n\\usepackage{listings}               % \u200b\u63d2\u5165\u200b\u4ee3\u7801\u200b\u5757\u200b\n\\usepackage{hyperref}               % \u200b\u63d2\u5165\u200b\u8d85\u94fe\u63a5\u200b\uff0c\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u5efa\u8bae\u200b\u5728\u200b\u6700\u540e\u200b\u8c03\u7528\u200b\n\\usepackage[backref]{hyperref}      % \u200b\u7ae0\u8282\u200b\u5f15\u56de\u200b\n\\usepackage[pagebackref]{hyperref}  % \u200b\u9875\u7801\u200b\u5f15\u56de\u200b\n\\hypersetup{                        % \u200b\u8d85\u94fe\u63a5\u200b\u6837\u5f0f\u200b\u8bbe\u7f6e\u200b\n    colorlinks=false,\n    linkcolor=blue,\n    linkbordercolor={0 0 1}\n}\n\\hypersetup{hidelinks}              % \u200b\u4e0d\u200b\u663e\u793a\u200b\u8d85\u94fe\u63a5\u200b\u7ebf\u6846\u200b\n\\usepackage{ctex}                   % \u200b\u4e2d\u6587\u200b\u652f\u6301\u200b\n\\usepackage{mathtools}              % \u200b\u63d2\u5165\u200b\u5206\u6bb5\u200b\u51fd\u6570\u200b\n\\usepackage{algorithm}              % \u200b\u63d2\u5165\u200b\u4f2a\u200b\u4ee3\u7801\u200b\n\\usepackage{algpseudocode}          % \u200b\u63d2\u5165\u200b\u4f2a\u200b\u4ee3\u7801\u200b\n\\renewcommand{\\algorithmicrequire}{\\textbf{Input:}} % Use Input in the format of Algorithm\n\\renewcommand{\\algorithmicensure}{\\textbf{Output:}} % Use Output in the format of Algorithm\n\\usepackage[framed,numbered,autolinebreaks,useliterate]{mcode}  % \u200b\u63d2\u5165\u200b MATLAB \u200b\u4ee3\u7801\u200b\u5757\u200b\uff0c\u200b\u57fa\u4e8e\u200b listings \u200b\u5f00\u53d1\u200b\n\\usepackage{multirow}               % \u200b\u8de8\u200b\u591a\u884c\u200b\u8868\u683c\u200b\n\\usepackage{subfigure}              % \u200b\u63d2\u5165\u200b\u5b50\u56fe\u200b\n\\usepackage{tabto}                  % \u200b\u63d2\u5165\u200b Tab\n\\NumTabs{16}                        % define 16 equally spaced tabs starting at the left margin\n% and spanning \\linewidth\n\\usepackage{fontawesome}            % \u200b\u6dfb\u52a0\u200b\u5c0f\u56fe\u6807\u200b\n\\usepackage{pifont}                 % \u200b\u6dfb\u52a0\u200b\u5bf9\u200b\u53f7\u200b\u3001\u200b\u9519\u53f7\u200b\n\\newcommand{\\cmark}{\\ding{51}}      % \u200b\u5b9a\u4e49\u200b\u5bf9\u200b\u53f7\u200b\u547d\u4ee4\u200b\uff0c\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u91cd\u547d\u540d\u200b pifont \u200b\u5b8f\u5305\u200b\u4e2d\u200b\u7684\u200b\u3001ding{51}\u200b\u547d\u4ee4\u200b\n\\newcommand{\\xmark}{\\ding{55}}      % \u200b\u5b9a\u4e49\u200b\u9519\u53f7\u200b\u547d\u4ee4\u200b\uff0c\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u91cd\u547d\u540d\u200b pifont \u200b\u5b8f\u5305\u200b\u4e2d\u200b\u7684\u200b\u3001ding{55}\u200b\u547d\u4ee4\u200b\n\\usepackage[square,super]{natbib}   % \u200b\u8c03\u6574\u200b\u53c2\u8003\u6587\u732e\u200b\u6837\u5f0f\u200b\uff1a\u200b\u65b9\u62ec\u53f7\u200b\u3001\u200b\u53f3\u4e0a\u89d2\u200b\n\\usepackage[landscape]{geometry}    % \u200b\u8bbe\u7f6e\u200b\u9875\u9762\u200b\u4e3a\u200b\u6a2a\u5411\u200b\n\\usepackage{tikz}                   % \u200b\u7ed8\u5236\u200b\u56fe\u5f62\u200b\n\\usepackage{tikz-3dplot}            % \u200b\u7ed8\u5236\u200b\u4e09\u7ef4\u200b\u5750\u6807\u7cfb\u200b\uff0c\u200b\u5750\u6807\u200b\u53d8\u6362\u200b\n\\usepackage{courier}                % \u200b\u4f7f\u7528\u200b\u6253\u5b57\u673a\u200b\u5b57\u4f53\u200b/\u200b\u7b49\u200b\u5bbd\u200b\u5b57\u4f53\u200b\n\\usepackage{placeins}               % \u200b\u9650\u5236\u200b\u6d6e\u52a8\u200b\u4f53\u200b\u4f4d\u7f6e\u200b\n\\usepackage{siunitx}                % \u200b\u4f7f\u7528\u200b\u56fd\u9645\u200b\u5355\u4f4d\u5236\u200b\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u683c\u5f0f\u7ea6\u5b9a","title":"\u683c\u5f0f\u200b\u7ea6\u5b9a","text":"<ol> <li>\u200b\u6e90\u7801\u200b\u5728\u200b\u9047\u5230\u200b<code>\\begin{}</code>\u200b\u65f6\u8981\u200b\u7f29\u8fdb\u200b\uff1b</li> <li> <p>\u200b\u6570\u5b66\u200b\u7b26\u53f7\u200b\u53c2\u8003\u200b \u200b\u5e38\u7528\u200b\u6570\u5b66\u200b\u7b26\u53f7\u200b\u7684\u200b LaTeX \u200b\u8868\u793a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f46\u200b\u6709\u200b\u4ee5\u4e0b\u51e0\u70b9\u200b\u6ce8\u610f\u4e8b\u9879\u200b\uff1a</p> </li> <li> <p>\u200b\u4e0a\u4e0b\u200b\u6807\u200b\u4f7f\u7528\u200b<code>{}</code>\u200b\u62ec\u200b\u8d77\u6765\u200b\uff1b</p> </li> <li>\u200b\u77e9\u9635\u200b\u548c\u200b\u5411\u91cf\u200b\u4f7f\u7528\u200b\u7c97\u4f53\u200b\uff08boldface\uff09\uff1a<code>\\mathbf{}</code>\u200b\u6216\u200b<code>\\boldsymbol{}</code>\uff1b</li> <li>\u200b\u5e38\u6570\u200b\u4f7f\u7528\u200b\u6b63\u4f53\u200b\uff0c\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u7f57\u9a6c\u200b\u4f53\u200b\uff08roman\uff09\uff1a<code>\\mathrm{}</code>\uff1b</li> <li>\u200b\u6570\u96c6\u200b\u4f7f\u7528\u200b\u9ed1\u677f\u200b\u7c97\u4f53\u200b\uff08blackboard bold\uff09\uff1a<code>\\mathbb{}</code>\uff1b</li> <li>\u200b\u5750\u6807\u7cfb\u200b\u4f7f\u7528\u200b\u4e66\u6cd5\u200b\u4f53\u200b\uff08calligraphic\uff09\uff1a<code>\\mathcal{}</code>\uff1b</li> <li>\u200b\u4e00\u4e9b\u200b\u7279\u6b8a\u7b26\u53f7\u200b\u4f7f\u7528\u200b\u54e5\u7279\u200b\u4f53\u200b\uff0c\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u5fb7\u6587\u200b\u5c16\u89d2\u200b\u4f53\u200b\uff08fraktur\uff09\uff1a<code>\\mathfrak{}</code>\uff1b</li> <li>\u200b\u7edd\u5bf9\u503c\u200b\u4f7f\u7528\u200b<code>|</code>\u200b\u6216\u200b<code>\\vert</code>\uff0c\u200b\u8303\u6570\u200b\u4f7f\u7528\u200b<code>\\|</code>\uff1b</li> <li>argmin \u200b\u4f7f\u7528\u200b<code>\\mathop{\\arg\\min}\\limits_{}</code>\uff0cargmax \u200b\u540c\u7406\u200b\uff1b</li> <li>\u200b\u5c0f\u200b\u7a7a\u683c\u200b\u7528\u200b<code>\\quad</code>\uff0c\u200b\u5927\u200b\u7a7a\u683c\u200b\u7528\u200b<code>\\qquad</code>\uff1b</li> <li>\u200b\u5206\u5f0f\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b<code>\\dfrac{}{}</code>\uff0c\u200b\u82e5\u200b\u663e\u793a\u200b\u6709\u200b\u95ee\u9898\u200b\u518d\u200b\u4f7f\u7528\u200b<code>\\frac{}{}</code>\uff1b</li> <li>\u200b\u5ea6\u6570\u200b\u4f7f\u7528\u200b<code>^{\\circ}</code>\uff1b</li> <li>\u200b\u70b9\u200b\u4e58\u200b\u4f7f\u7528\u200b<code>\\cdot</code>\u200b\u6216\u200b<code>\\bullet</code>\uff0c\u200b\u53c9\u200b\u4e58\u200b\u4f7f\u7528\u200b<code>\\times</code>\uff1b</li> <li>\u200b\u5bfc\u6570\u200b\u4f7f\u7528\u200b<code>\\mathrm{d}</code>\uff0c\u200b\u504f\u200b\u5bfc\u6570\u200b\u4f7f\u7528\u200b<code>\\partial</code>\uff1b</li> <li>\u200b\u53cd\u5bf9\u200b\u79f0\u200b\u77e9\u9635\u200b\u4f7f\u7528\u200b<code>^{\\wedge}</code>\uff0c\u200b\u5176\u200b\u9006\u8fd0\u7b97\u200b\u4f7f\u7528\u200b<code>^{\\vee}</code>\uff1b</li> <li>\u200b\u77e9\u9635\u200b\u8f6c\u7f6e\u200b\u4f7f\u7528\u200b<code>^{\\mathrm{T}}</code>\uff1b</li> <li>\u200b\u4e00\u9636\u200b\u5bfc\u6570\u200b\u4f7f\u7528\u200b<code>^{\\prime}</code>\uff1b</li> <li>\u200b\u5b9a\u4e49\u200b\u7b49\u200b\u53f7\u200b\u4f7f\u7528\u200b<code>\\triangleq</code>\u200b\u6216\u200b<code>\\overset{def}{=}</code>\uff1b</li> <li>\u200b\u5185\u5bb9\u200b\u4e0a\u200b\u52a0\u957f\u200b\u6a2a\u7ebf\u200b\u4f7f\u7528\u200b<code>\\overline{}</code>\uff1b</li> <li>\u200b\u5185\u5bb9\u200b\u4e0a\u52a0\u200b\u6587\u5b57\u200b\u4f7f\u7528\u200b<code>\\overset{}{}</code>\uff1b</li> <li>\u200b\u516c\u5f0f\u200b\u4e0a\u65b9\u200b\u5927\u62ec\u53f7\u200b\u4f7f\u7528\u200b<code>\\overbrace{}^{}</code>\uff0c\u200b\u516c\u5f0f\u200b\u4e0b\u65b9\u200b\u5927\u62ec\u53f7\u200b\u4f7f\u7528\u200b<code>\\underbrace{}_{}</code>\uff1b</li> <li> <p>\u200b\u5411\u4e0a\u200b\u53d6\u6574\u200b\u4f7f\u7528\u200b<code>\\lceil \\rceil</code>\u3001\u200b\u5411\u4e0b\u200b\u53d6\u6574\u200b\u4f7f\u7528\u200b<code>\\lfloor \\rfloor</code>\uff1b</p> </li> <li> <p>\u200b\u62ec\u53f7\u200b\u5927\u5c0f\u200b\u6839\u636e\u200b\u5185\u5bb9\u200b\u81ea\u52a8\u200b\u8c03\u6574\u200b\uff1a</p> </li> </ol> TeX<pre><code>\\left(          \\right)         % \u200b\u5c0f\u62ec\u53f7\u200b ()\n\\left[          \\right]         % \u200b\u4e2d\u62ec\u53f7\u200b []\n\\left\\{         \\right\\}        % \u200b\u5927\u62ec\u53f7\u200b{}\n\\left|          \\right|         % \u200b\u7edd\u5bf9\u503c\u200b||\n\\left\\|         \\right\\|        % \u200b\u8303\u6570\u200b\n\\left.          \\right|         % \u200b\u5de6\u4fa7\u200b\u4e0d\u200b\u663e\u793a\u200b\uff0c\u200b\u53f3\u4fa7\u200b\u5927\u5c0f\u200b\u81ea\u52a8\u200b\u8c03\u6574\u200b\n\\left\\lceil     \\right\\rceil    % \u200b\u5411\u4e0a\u200b\u53d6\u6574\u200b\u2308\u2309\n\\left\\lfloor    \\right\\rfloor   % \u200b\u5411\u4e0b\u200b\u53d6\u6574\u200b\u230a\u230b\n</code></pre> <ol> <li>\u200b\u4f7f\u7528\u200b<code>\\hfill</code>\u200b\u8fdb\u884c\u200b\u6c34\u5e73\u200b\u586b\u5145\u200b\uff0c\u200b\u540c\u7406\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>\\vfill</code>\u200b\u8fdb\u884c\u200b\u5782\u76f4\u200b\u586b\u5145\u200b\uff1b</li> <li>\u200b\u4f7f\u7528\u200b<code>\\hspace{}</code>\u200b\u63d2\u5165\u200b\u6c34\u5e73\u200b\u95f4\u9694\u200b\uff0c\u200b\u540c\u7406\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>\\vspace{}</code>\u200b\u63d2\u5165\u200b\u5782\u76f4\u200b\u95f4\u9694\u200b\uff0c\u200b\u5927\u62ec\u53f7\u200b\u524d\u200b\u6dfb\u52a0\u200b<code>*</code>\u200b\u8868\u793a\u200b\u5f3a\u5236\u200b\u63d2\u5165\u200b\uff1b</li> <li>\u200b\u4f7f\u7528\u200b<code>\\tab</code>\u200b\u63d2\u5165\u200b<code>Tab</code>\uff0c\u200b\u4e00\u4e2a\u200b<code>Tab</code>\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u901a\u8fc7\u200b<code>\\NumTabs{}</code>\u200b\u8fdb\u884c\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u5c06\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u4e0b\u200b\u7684\u200b\u884c\u200b\u5bbd\u200b\u82e5\u5e72\u200b\u7b49\u200b\u5206\u200b\uff1b</li> <li>\u200b\u516c\u5f0f\u200b\u3001\u200b\u56fe\u7247\u200b\u3001\u200b\u8868\u683c\u200b\u7684\u200b\u5f15\u7528\u200b\u6807\u8bb0\u200b\u8981\u200b\u8fdb\u884c\u200b\u533a\u5206\u200b\uff1a</li> </ol> TeX<pre><code>\\label{eq:XXX}      % \u200b\u516c\u5f0f\u200b\n\\label{fig:XXX}     % \u200b\u56fe\u7247\u200b\n\\label{tab:XXX}     % \u200b\u8868\u683c\u200b\n</code></pre> <ol> <li>\u200b\u63d2\u5165\u200b\u5bf9\u200b\u53f7\u200b\u3001\u200b\u9519\u53f7\u200b\uff1a</li> </ol> TeX<pre><code>\\cmark              % \u200b\u5bf9\u200b\u53f7\u200b\n\\xmark              % \u200b\u9519\u53f7\u200b\n</code></pre> <ol> <li>\u200b\u4f7f\u7528\u200b<code>\\today</code>\u200b\u63d2\u5165\u200b\u5f53\u5929\u200b\u65e5\u671f\u200b\uff1b</li> <li>\u200b\u4f7f\u7528\u200b<code>\\</code>\u200b\u6216\u200b<code>{}</code>\u200b\u5728\u200b\\(\\LaTeX\\)\u200b\u547d\u4ee4\u200b\u540e\u200b\u63d2\u5165\u200b\u7a7a\u683c\u200b\uff1b</li> <li> <p>\u200b\u5b57\u6bcd\u200b\u97f3\u8c03\u200b\uff1a</p> TeX<pre><code>\\={}                % \u200b\u4e00\u58f0\u200b\n\\'{}                % \u200b\u4e8c\u200b\u58f0\u200b\n\\v{}                % \u200b\u4e09\u58f0\u200b\n\\u{}                % \u200b\u7c7b\u4f3c\u200b\u4e09\u58f0\u200b\u7684\u200b\u5706\u5f27\u200b\n\\`{}                % \u200b\u56db\u58f0\u200b\n\\.{}                % \u200b\u52a0\u70b9\u200b\n\\\"{}                % \u200b\u52a0\u200b\u53cc\u70b9\u200b\n</code></pre> </li> <li> <p>\u200b\u7535\u5b50\u90ae\u7bb1\u200b\u540d\u200b\u4f7f\u7528\u200b\u7b49\u200b\u5bbd\u200b\u5b57\u4f53\u200b\uff0c\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u6253\u5b57\u673a\u200b\u5b57\u4f53\u200b\uff08teletype\uff09\uff1a<code>\\texttt{}</code>\uff1b</p> </li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u81ea\u5b9a\u4e49\u547d\u4ee4","title":"\u81ea\u5b9a\u4e49\u200b\u547d\u4ee4","text":"TeX<pre><code>\\newcommand{\u200b\u547d\u4ee4\u200b\u540d\u200b}[\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b][\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b]{\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b}       % \u200b\u5b9a\u4e49\u65b0\u200b\u547d\u4ee4\u200b\uff0c\u200b\u8981\u6c42\u200b\u65b0\u200b\u547d\u4ee4\u200b\u540d\u200b\u4e0d\u80fd\u200b\u4e0e\u200b\u5df2\u6709\u200b\u547d\u4ee4\u200b\u91cd\u540d\u200b\n\\renewcommand{\u200b\u547d\u4ee4\u200b\u540d\u200b}[\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b][\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b]{\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b}     % \u200b\u91cd\u547d\u540d\u200b\u547d\u4ee4\u200b\uff0c\u200b\u8981\u6c42\u200b\u88ab\u200b\u91cd\u547d\u540d\u200b\u7684\u200b\u547d\u4ee4\u200b\u5b58\u5728\u200b\n\\providecommand{\u200b\u547d\u4ee4\u200b\u540d\u200b}[\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b][\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b]{\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b}   % \u200b\u6761\u4ef6\u200b\u5b9a\u4e49\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5982\u679c\u200b\u547d\u4ee4\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u5b9a\u4e49\u65b0\u200b\u547d\u4ee4\u200b\uff0c\u200b\u6b64\u65f6\u200b\u6548\u679c\u200b\u4e0e\u200b\u3001newcommand \u200b\u76f8\u540c\u200b\uff0c\u200b\u5982\u679c\u200b\u547d\u4ee4\u200b\u5df2\u200b\u5b58\u5728\u200b\u5219\u200b\u65e0\u200b\u64cd\u4f5c\u200b\n% \u200b\u8981\u6c42\u200b\u53c2\u6570\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u4e00\u6bb5\u200b\n\\newcommand*{\u200b\u547d\u4ee4\u200b\u540d\u200b}[\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b][\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b]{\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b}\n\\renewcommand*{\u200b\u547d\u4ee4\u200b\u540d\u200b}[\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b][\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b]{\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b}\n\\providecommand*{\u200b\u547d\u4ee4\u200b\u540d\u200b}[\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b][\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b]{\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b}\n</code></pre> <ol> <li>\u200b\u547d\u4ee4\u200b\u540d\u200b\u4e0d\u80fd\u200b\u4ee5\u200b<code>\\end</code>\u200b\u5f00\u5934\u200b\uff1b</li> <li>\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b 9 \u200b\u4e2a\u200b\uff0c\u200b\u7f3a\u7701\u200b\u8868\u793a\u200b\u65e0\u200b\u53c2\u6570\u200b\u8f93\u5165\u200b\uff1b</li> <li> <p>\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff1a</p> </li> <li> <p>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u53ea\u80fd\u200b\u6307\u5b9a\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\uff0c<code>[]</code>\u200b\u8868\u793a\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u4e3a\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u7f3a\u7701\u200b\u8868\u793a\u200b\u65e0\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff1b</p> </li> <li>\u200b\u5728\u200b\u8c03\u7528\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u65b0\u200b\u53c2\u6570\u200b\u8986\u76d6\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff0c<code>[]</code>\u200b\u8868\u793a\u200b\u65b0\u200b\u53c2\u6570\u200b\u4e3a\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u7f3a\u7701\u200b\u8868\u793a\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff1b</li> <li> <p>\u200b\u5728\u200b\u8c03\u7528\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff0c\u200b\u5176\u4f59\u200b\u53c2\u6570\u200b\u4ece\u200b\u7b2c\u4e8c\u4e2a\u200b\u53c2\u6570\u200b\u5f00\u59cb\u200b\u8f93\u5165\u200b\uff1b</p> </li> <li> <p>\u200b\u547d\u4ee4\u200b\u5b9a\u4e49\u200b\u4e2d\u200b\u4f7f\u7528\u200b<code>#n</code>\u200b\u8868\u793a\u200b\u7b2c\u200b n \u200b\u4e2a\u200b\u53c2\u6570\u200b\uff1b</p> </li> </ol> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> TeX<pre><code>\\newcommand{\\RS}{Robin Smith}\n\\newcommand{\\qedsymbol}{\\small QED}\n\\newcommand{\\defref}[1]{Definition~\\ref{#1}}\n\\newcommand{\\salutation}[1][Sir or Madam]{Dear #1:}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5b57\u4f53","title":"\u5b57\u4f53","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5b57\u4f53\u6837\u5f0f","title":"\u5b57\u4f53\u200b\u6837\u5f0f","text":"<ol> <li>\u200b\u7c97\u4f53\u200b\uff08boldface\uff09\uff1a<code>\\textbf{}</code>\uff1b</li> <li>\u200b\u610f\u5927\u5229\u200b\u659c\u4f53\u200b\uff08italics\uff09\uff1a<code>\\textit{}</code>\uff1b</li> <li>\u200b\u503e\u659c\u200b\u6b63\u4f53\u200b\uff08slanted\uff09\uff1a<code>\\textsl{}</code>\uff1b</li> <li>\u200b\u6253\u5b57\u673a\u200b\u5b57\u4f53\u200b\uff08teletype\uff09\uff1a<code>\\texttt{}</code>\uff1b</li> <li>\u200b\u4e0b\u5212\u7ebf\u200b\uff08underline\uff09\uff1a<code>\\underline{}</code>\uff1b</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5b57\u4f53\u5927\u5c0f","title":"\u5b57\u4f53\u5927\u5c0f","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5168\u5c40\u6a21\u5f0f","title":"\u5168\u5c40\u200b\u6a21\u5f0f","text":"<p>\u200b\u5728\u200b\u6587\u6863\u200b\u5f00\u5934\u200b\u5b9a\u4e49\u200b\u9ed8\u8ba4\u200b\u5b57\u4f53\u5927\u5c0f\u200b\uff1a</p> TeX<pre><code>\\documentclass[12pt]{article}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5c40\u90e8\u6a21\u5f0f","title":"\u5c40\u90e8\u200b\u6a21\u5f0f","text":"<p>\u200b\u5728\u200b\u5168\u5c40\u200b\u6a21\u5f0f\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u4fee\u6539\u200b\u5b57\u4f53\u5927\u5c0f\u200b\uff1a</p> TeX<pre><code>\\tiny           % \u200b\u6700\u5c0f\u200b\n\\scriptsize\n\\footnotesize\n\\small\n\\normalsize     % \u200b\u9ed8\u8ba4\u200b\u5b57\u4f53\u5927\u5c0f\u200b\n\\large\n\\Large\n\\LARGE\n\\huge\n\\Huge           % \u200b\u6700\u5927\u200b\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5217\u8868","title":"\u5217\u8868","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u65e0\u5e8f\u53f7\u5217\u8868","title":"\u65e0\u5e8f\u200b\u53f7\u200b\u5217\u8868","text":"TeX<pre><code>\\begin{itemize} % \u200b\u9ed8\u8ba4\u200b\uff1a\u200b\u5b9e\u5fc3\u200b\u70b9\u200b\n\\item       \u200b\u9ed8\u8ba4\u200b\u6837\u5f0f\u200b\n    \\item[*]    \u200b\u6307\u5b9a\u200b\u6837\u5f0f\u200b\n\\end{itemize}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6709\u5e8f\u53f7\u5217\u8868","title":"\u6709\u200b\u5e8f\u53f7\u200b\u5217\u8868","text":"TeX<pre><code>\\begin{enumerate}[(1)] % \u200b\u6b64\u5904\u200b\u6307\u5b9a\u200b\u5e8f\u53f7\u200b\u6837\u5f0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\uff1a1.\n\\item \u200b\u652f\u6301\u200b 123\n    \\item \u200b\u652f\u6301\u200b abc\n    \\item \u200b\u652f\u6301\u200b ABC\n    \\item \u200b\u652f\u6301\u200b i ii iii\n    \\item \u200b\u652f\u6301\u200b I II III\n    \\item \u200b\u5728\u200b\u4e0a\u8ff0\u200b\u57fa\u7840\u200b\u4e0a\u200b\u652f\u6301\u200b\u5de6\u53f3\u200b\u62ec\u53f7\u200b\n\\end{enumerate}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u516c\u5f0f","title":"\u516c\u5f0f","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u884c\u5185\u516c\u5f0f","title":"\u884c\u5185\u200b\u516c\u5f0f","text":"TeX<pre><code>$\u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b$\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u884c\u95f4\u516c\u5f0f","title":"\u884c\u95f4\u200b\u516c\u5f0f","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5e26\u7f16\u53f7","title":"\u5e26\u200b\u7f16\u53f7","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5355\u4e2a\u516c\u5f0f","title":"\u5355\u4e2a\u200b\u516c\u5f0f","text":"TeX<pre><code>\\begin{equation}\n\\label{eq:1.1} % \u200b\u5f15\u7528\u200b\u6807\u8bb0\u200b\n    \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b\n\\end{equation}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u591a\u4e2a\u516c\u5f0f","title":"\u591a\u4e2a\u200b\u516c\u5f0f","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5206\u522b\u7f16\u53f7","title":"\u5206\u522b\u200b\u7f16\u53f7","text":"TeX<pre><code>\\begin{align}\n\\label{eq:1.2}\n&amp; \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b \\\\\n\\label{eq:1.3}\n&amp; \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b\n\\end{align}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u76f8\u540c\u7f16\u53f7","title":"\u76f8\u540c\u200b\u7f16\u53f7","text":"TeX<pre><code>\\begin{equation}\n\\label{eq:1.4}\n\\begin{aligned}\n&amp; \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b \\\\\n&amp; \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b\n    \\end{aligned}\n\\end{equation}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u516c\u5f0f\u5f15\u7528","title":"\u516c\u5f0f\u200b\u5f15\u7528","text":"TeX<pre><code>\\eqref{eq:1.1}   % \u200b\u6709\u200b\u62ec\u53f7\u200b\n\\ref{eq:1.2}     % \u200b\u65e0\u200b\u62ec\u53f7\u200b\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u65e0\u7f16\u53f7","title":"\u65e0\u200b\u7f16\u53f7","text":"TeX<pre><code>\\begin{align*}\n&amp; \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b \\\\\n&amp; \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b\n\\end{align*}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5206\u6bb5\u51fd\u6570","title":"\u5206\u6bb5\u200b\u51fd\u6570","text":"<p>\u200b\u901a\u5e38\u200b\u5728\u200b<code>equation</code>\u200b\u6216\u200b<code>align</code>\u200b\u73af\u5883\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5927\u62ec\u53f7\u200b\u6574\u4f53\u200b\u7f16\u53f7\u200b\u3002</p> <ol> <li>\u200b\u4f7f\u7528\u200b<code>dcases</code>\uff1a</li> </ol> TeX<pre><code>\\begin{dcases}\n    \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b &amp; \u200b\u6761\u4ef6\u200b \\\\\n    \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b &amp; \u200b\u6761\u4ef6\u200b\n\\end{dcases}\n</code></pre> <ul> <li><code>dcases</code>\uff1a\u200b\u6761\u4ef6\u200b\u4e3a\u200b\u7eaf\u200b\u516c\u5f0f\u200b\uff0c\u200b\u6587\u672c\u200b\u4f7f\u7528\u200b<code>\\text{}</code>\uff1b</li> <li> <p><code>dcases*</code>\uff1a\u200b\u6761\u4ef6\u200b\u4e3a\u200b\u7eaf\u200b\u6587\u672c\u200b\uff0c\u200b\u516c\u5f0f\u200b\u4f7f\u7528\u200b<code>$ $</code>\uff1b</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b<code>array</code>\uff1a</p> </li> </ul> TeX<pre><code>\\left\\{\\begin{array}{l}\n    \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b \\\\\n    \u200b\u516c\u5f0f\u200b\u5185\u5bb9\u200b\n\\end{array}\\right.\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5411\u91cf\u77e9\u9635","title":"\u5411\u91cf\u200b/\u200b\u77e9\u9635","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4f7f\u7528array\u73af\u5883","title":"\u4f7f\u7528\u200b<code>array</code>\u200b\u73af\u5883","text":"TeX<pre><code>\\begin{array}{ccc} % \u200b\u6307\u5b9a\u200b\u6bcf\u5217\u200b\u7684\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4e2a\u6570\u200b\u5bf9\u5e94\u200b\u5217\u6570\u200b\n    1 &amp; 0 &amp; 0 \\\\\n    0 &amp; 1 &amp; 0 \\\\\n    0 &amp; 0 &amp; 1\n\\end{array}\n</code></pre> <ol> <li> <p>\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff1a</p> </li> <li> <p><code>c</code>\uff1acenter\uff0c\u200b\u5c45\u4e2d\u200b\uff1b</p> </li> <li><code>l</code>\uff1aleft\uff0c\u200b\u5de6\u200b\u5bf9\u9f50\u200b\uff1b</li> <li> <p><code>r</code>\uff1aright\uff0c\u200b\u53f3\u200b\u5bf9\u9f50\u200b\uff1b</p> </li> <li> <p>\u200b\u5217\u200b\u4e4b\u95f4\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b\u5206\u9694\u7ebf\u200b<code>|</code>\uff1b</p> </li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4f7f\u7528\u77e9\u9635\u73af\u5883","title":"\u4f7f\u7528\u200b\u77e9\u9635\u200b\u73af\u5883","text":"TeX<pre><code>\\begin{bmatrix} % \u200b\u77e9\u9635\u200b\u6837\u5f0f\u200b\n    1 &amp; 0 &amp; 0 \\\\\n    0 &amp; 1 &amp; 0 \\\\\n    0 &amp; 0 &amp; 1\n\\end{bmatrix}\n</code></pre> <ol> <li> <p>\u200b\u77e9\u9635\u200b\u6837\u5f0f\u200b\uff1a</p> </li> <li> <p><code>matrix</code>\uff1a\u200b\u65e0\u200b\u62ec\u53f7\u200b\uff1b</p> </li> <li><code>pmatrix</code>\uff1a\u200b\u5706\u62ec\u53f7\u200b\uff1b</li> <li><code>bmatrix</code>\uff1a\u200b\u65b9\u62ec\u53f7\u200b\uff1b</li> <li><code>Bmatrix</code>\uff1a\u200b\u5927\u62ec\u53f7\u200b\uff1b</li> <li><code>vmatrix</code>\uff1a\u200b\u884c\u5217\u5f0f\u200b\uff1b</li> <li><code>Vmatrix</code>\uff1a\u200b\u8303\u6570\u200b\uff1b</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u56fe\u7247","title":"\u56fe\u7247","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u63d2\u5165\u5355\u4e2a\u56fe\u7247","title":"\u63d2\u5165\u200b\u5355\u4e2a\u200b\u56fe\u7247","text":"TeX<pre><code>\\begin{figure}[htbp] % \u200b\u6307\u5b9a\u200b\u56fe\u7247\u200b\u4f4d\u7f6e\u200b\n\\centering % \u200b\u5c45\u4e2d\u200b\n\\includegraphics[width=10cm]{image.png}\n\\caption{Image Title} % \u200b\u56fe\u7247\u200b\u6807\u9898\u200b\n\\label{fig:1}\n\\end{figure}\n</code></pre> <ol> <li> <p>\u200b\u6d6e\u52a8\u200b\u683c\u5f0f\u200b\u8bf4\u660e\u200b\uff1a</p> </li> <li> <p><code>h</code>\uff1ahere\uff0c\u200b\u5f53\u524d\u200b\u4f4d\u7f6e\u200b\uff1b</p> </li> <li><code>t</code>\uff1atop\uff0c\u200b\u9876\u90e8\u200b\uff1b</li> <li><code>b</code>\uff1abottom\uff0c\u200b\u5e95\u90e8\u200b\uff1b</li> <li> <p><code>p</code>\uff1apage of its own\uff0c\u200b\u6d6e\u52a8\u200b\u9875\u200b\uff1b</p> </li> <li> <p>\u200b\u5f3a\u5236\u200b\u6d6e\u52a8\u200b\u683c\u5f0f\u200b\uff1a<code>[!h]</code>\uff0c\u200b\u4e0d\u200b\u8003\u8651\u200b\u7f8e\u89c2\u200b\u6027\u200b\uff1b</p> </li> <li>\u200b\u4f7f\u7528\u200b<code>\\FloatBarrier</code>\u200b\u9650\u5236\u200b\u6d6e\u52a8\u200b\u4f53\u200b\u4f4d\u7f6e\u200b\uff1b</li> <li> <p>\u200b\u56fe\u7247\u683c\u5f0f\u200b\u8bf4\u660e\u200b\uff1a</p> </li> <li> <p>\u200b\u5efa\u8bae\u200b\u77e2\u91cf\u200b\u56fe\u7247\u200b\u4f7f\u7528\u200b<code>.pdf</code>\u200b\u683c\u5f0f\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6570\u636e\u200b\u53ef\u89c6\u5316\u200b\u7684\u200b\u7ed8\u56fe\u200b\uff1b</p> </li> <li>\u200b\u7167\u7247\u200b\u5e94\u200b\u4f7f\u7528\u200b<code>.jpg</code>\u200b\u683c\u5f0f\u200b\uff1b</li> <li>\u200b\u5176\u4ed6\u200b\u7684\u200b\u6805\u683c\u200b\u56fe\u5e94\u200b\u4f7f\u7528\u200b\u65e0\u635f\u200b\u7684\u200b<code>.png</code>\u200b\u683c\u5f0f\u200b\uff1b</li> <li> <p>\u200b\u6ce8\u610f\u200b\uff0c\\(\\LaTeX\\)\u200b\u4e0d\u200b\u652f\u6301\u200b<code>.tiff</code>\u200b\u683c\u5f0f\u200b\uff0c<code>.eps</code>\u200b\u683c\u5f0f\u200b\u5df2\u7ecf\u200b\u8fc7\u65f6\u200b\uff1b</p> </li> <li> <p>\u200b\u56fe\u7247\u200b\u8de8\u53cc\u680f\u200b\u4f7f\u7528\u200b<code>\\begin{figure*}</code>\uff1b</p> </li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u63d2\u5165\u5b50\u56fe","title":"\u63d2\u5165\u200b\u5b50\u56fe","text":"<p>\u200b\u4ee5\u200b\u56db\u4e2a\u200b\u5b50\u56fe\u200b 2*2 \u200b\u6392\u5217\u200b\u4e3a\u4f8b\u200b\u8fdb\u884c\u200b\u8bf4\u660e\u200b\uff1a</p> TeX<pre><code>\\begin{figure}[htbp]\n    \\centering\n\\subfigure[Subfigure Title 1] % \u200b\u5b50\u56fe\u200b\u6807\u9898\u200b\n{\n\\includegraphics[width=0.3\\textwidth]{image1.png}\n\\label{fig:2a}\n}\n\\quad\n\\subfigure[Subfigure Title 2]\n{\n\\includegraphics[width=0.3\\textwidth]{image2.png}\n\\label{fig:2b}\n}\n% \u200b\u8fd9\u91cc\u200b\u6362\u884c\u200b\n\\subfigure[Subfigure Title 3]\n{\n\\includegraphics[width=0.3\\textwidth]{image3.png}\n\\label{fig:2c}\n}\n\\quad\n\\subfigure[Subfigure Title 4]\n{\n\\includegraphics[width=0.3\\textwidth]{image4.png}\n\\label{fig:2d}\n}\n\\caption{Title} % \u200b\u603b\u200b\u6807\u9898\u200b\n\\label{fig:2}\n\\end{figure}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u8868\u683c","title":"\u8868\u683c","text":"TeX<pre><code>\\begin{table}[htbp] % \u200b\u6307\u5b9a\u200b\u8868\u683c\u200b\u4f4d\u7f6e\u200b\n% \\def\\arraystretch{1.3} % \u200b\u8c03\u6574\u200b\u8868\u683c\u200b\u6574\u4f53\u200b\u884c\u9ad8\u200b\n\\centering\n\\caption{Table Title} % \u200b\u8868\u683c\u200b\u6807\u9898\u200b\n\\label{tab:1}\n\\begin{tabular}{ccc} % \u200b\u6307\u5b9a\u200b\u6bcf\u5217\u200b\u7684\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4e2a\u6570\u200b\u5bf9\u5e94\u200b\u5217\u6570\u200b\n\\hline\n        \u200b\u65b9\u6cd5\u200b &amp; APE [m] &amp; RPE [\\%]\\\\\n\\hline\n        \u200b\u65b9\u6cd5\u200b 1 &amp; 0.10 &amp; 0.20 \\\\\n        \u200b\u65b9\u6cd5\u200b 2 &amp; 0.05 &amp; 0.15 \\\\\n\\hline\n\\end{tabular}\n\\end{table}\n</code></pre> <ol> <li>\u200b\u6d6e\u52a8\u200b\u683c\u5f0f\u200b\u8bf4\u660e\u200b\u540c\u200b\u4e0a\u200b\uff1b</li> <li> <p>\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff1a</p> </li> <li> <p><code>c</code>\uff1acenter\uff0c\u200b\u5c45\u4e2d\u200b\uff1b</p> </li> <li><code>l</code>\uff1aleft\uff0c\u200b\u5de6\u200b\u5bf9\u9f50\u200b\uff1b</li> <li><code>r</code>\uff1aright\uff0c\u200b\u53f3\u200b\u5bf9\u9f50\u200b\uff1b</li> <li> <p><code>p{}</code>\uff1a\u200b\u8d85\u8fc7\u200b\u6307\u5b9a\u200b\u5bbd\u5ea6\u200b\u540e\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a<code>p{3cm}</code>\uff1b</p> </li> <li> <p>\u200b\u8868\u683c\u200b\u6846\u7ebf\u200b\uff1a</p> </li> <li> <p>\u200b\u6c34\u5e73\u200b\u6846\u7ebf\u200b\uff1a\u200b\u4f7f\u7528\u200b<code>\\hline</code>\uff1b</p> </li> <li>\u200b\u5782\u76f4\u200b\u6846\u7ebf\u200b\uff1a\u200b\u5728\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\u5904\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5217\u200b\u4e4b\u95f4\u200b\u6dfb\u52a0\u200b\u5206\u9694\u7ebf\u200b<code>|</code>\uff1b</li> <li> <p>\u200b\u90e8\u5206\u200b\u5217\u200b\u6c34\u5e73\u200b\u6846\u7ebf\u200b\uff1a\u200b\u4f7f\u7528\u200b<code>\\cline{i-j}</code>\u200b\u5728\u200b i \u200b\u5230\u200b j \u200b\u5217\u95f4\u200b\u6dfb\u52a0\u200b\u6c34\u5e73\u200b\u6846\u7ebf\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>\\rule{0pt}{11pt}</code>\u200b\u8c03\u8282\u200b\u5782\u76f4\u200b\u65b9\u5411\u200b\u8ddd\u79bb\u200b\uff1b</p> </li> <li> <p>\u200b\u8868\u683c\u200b\u8de8\u53cc\u680f\u200b\u4f7f\u7528\u200b<code>\\begin{table*}</code>\uff1b</p> </li> <li>\u200b\u4e0d\u89c4\u5219\u200b\u5f62\u72b6\u200b\u8868\u683c\u200b\uff1a</li> </ol> TeX<pre><code>\\multicolumn{number of cols}{pos}{text} % \u200b\u8de8\u200b\u591a\u5217\u200b\uff0cpos \u200b\u8868\u793a\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\n\\multirow{number of rows}{width}{text}  % \u200b\u8de8\u200b\u591a\u884c\u200b\uff0c\u200b\u5bbd\u5ea6\u200b\u4e0d\u5b9a\u200b\u53ef\u7528\u200b{*}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u8d85\u94fe\u63a5","title":"\u8d85\u94fe\u63a5","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u7f51\u5740\u8d85\u94fe\u63a5","title":"\u7f51\u5740\u200b\u8d85\u94fe\u63a5","text":"TeX<pre><code>\\url{\u200b\u7f51\u5740\u200b}              % \u200b\u76f4\u63a5\u200b\u663e\u793a\u200b\u5f85\u200b\u8d85\u94fe\u63a5\u200b\u7684\u200b\u7f51\u5740\u200b\n\\href{\u200b\u7f51\u5740\u200b}{\u200b\u663e\u793a\u200b\u6587\u5b57\u200b}   % \u200b\u663e\u793a\u200b\u5e26\u200b\u8d85\u94fe\u63a5\u200b\u7684\u200b\u6587\u5b57\u200b\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u90ae\u7bb1\u8d85\u94fe\u63a5","title":"\u90ae\u7bb1\u200b\u8d85\u94fe\u63a5","text":"TeX<pre><code>\\href{mailto:xxx@xxx.xxx}{\u200b\u663e\u793a\u200b\u6587\u5b57\u200b}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4f2a\u4ee3\u7801","title":"\u4f2a\u200b\u4ee3\u7801","text":"TeX<pre><code>\\begin{algorithm}[htbp]\n    \\caption{Title} % \u200b\u4f2a\u200b\u4ee3\u7801\u200b\u6807\u9898\u200b\n\\label{alg:1}\n\\begin{algorithmic}[1]\n    \\If{condition}\n\\State statement\n    \\ElsIf{condition}\n\\State statement\n    \\ForAll{condition}\n\\If{condition}\n\\State statement\n    \\EndIf\n\\EndFor\n\\State statement\n    \\EndIf\n\\State \\Return return value\n    \\end{algorithmic}\n\\end{algorithm}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4ee3\u7801\u5757","title":"\u4ee3\u7801\u200b\u5757","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5e38\u7528\u8bed\u8a00\u652f\u6301","title":"\u5e38\u7528\u200b\u8bed\u8a00\u200b\u652f\u6301","text":"<ol> <li>bash</li> <li>C</li> <li>C++</li> <li>Matlab</li> <li>Octave</li> <li>Python</li> <li>TeX</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u8bbe\u7f6e\u663e\u793a\u6837\u5f0f","title":"\u8bbe\u7f6e\u200b\u663e\u793a\u200b\u6837\u5f0f","text":"TeX<pre><code>\\definecolor{codegreen}{rgb}{0,0.6,0}\n\\definecolor{codegray}{rgb}{0.5,0.5,0.5}\n\\definecolor{codepurple}{rgb}{0.58,0,0.82}\n\\definecolor{backcolour}{rgb}{0.95,0.95,0.92}\n\\lstdefinestyle{mystyle}{\n    backgroundcolor=\\color{backcolour},\n    commentstyle=\\color{codegreen},\n    keywordstyle=\\color{blue}\\bfseries,\n    numberstyle=\\tiny\\color{codegray},\n    stringstyle=\\color{codepurple},\n    basicstyle=\\ttfamily\\footnotesize,\n    breakatwhitespace=false,\n    breaklines=true,\n    captionpos=b,\n    keepspaces=true,\n    numbers=left,\n    numbersep=5pt,\n    showspaces=false,\n    showstringspaces=false,\n    showtabs=false,\n    tabsize=4,\n    frame=shadowbox,\n    framerule=0.5pt,\n    otherkeywords={string}\n}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u63d2\u5165\u4ee3\u7801\u5757","title":"\u63d2\u5165\u200b\u4ee3\u7801\u200b\u5757","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u76f4\u63a5\u63d2\u5165","title":"\u76f4\u63a5\u63d2\u5165","text":"TeX<pre><code>\\lstset{style=mystyle} % \u200b\u4f7f\u7528\u200b\u663e\u793a\u200b\u6837\u5f0f\u200b\n\\begin{lstlisting}[language=\u200b\u8bed\u8a00\u200b]\n\u200b\u4ee3\u7801\u6bb5\u200b\n\\end{lstlisting}\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> TeX<pre><code>\\lstset{style=mystyle}\n\\begin{lstlisting}[language=C++]\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    // This is a comment.\n    cout &lt;&lt; \"Hello, World!\" &lt;&lt; endl;\n    return 0;\n}\n\\end{lstlisting}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4ece\u6587\u4ef6\u63d2\u5165","title":"\u4ece\u6587\u4ef6\u200b\u63d2\u5165","text":"TeX<pre><code>\\lstset{style=mystyle} % \u200b\u4f7f\u7528\u200b\u663e\u793a\u200b\u6837\u5f0f\u200b\n\\lstinputlisting[language=\u200b\u8bed\u8a00\u200b]{\u200b\u6587\u4ef6\u540d\u200b}\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> TeX<pre><code>\\lstset{style=mystyle} % \u200b\u4f7f\u7528\u200b\u663e\u793a\u200b\u6837\u5f0f\u200b\n\\lstinputlisting[language=C++]{main.cpp}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u811a\u6ce8","title":"\u811a\u6ce8","text":"TeX<pre><code>\\footnote{\u200b\u811a\u6ce8\u200b\u5185\u5bb9\u200b}         % \u200b\u7f16\u53f7\u200b\u81ea\u52a8\u200b\u9012\u589e\u200b\n\\footnote[\u200b\u7f16\u53f7\u200b]{\u200b\u811a\u6ce8\u200b\u5185\u5bb9\u200b}   % \u200b\u4eba\u4e3a\u200b\u6307\u5b9a\u200b\u7f16\u53f7\u200b\uff08\u200b\u7eaf\u200b\u6570\u5b57\u200b\uff09\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5f15\u7528\u53c2\u8003\u6587\u732e","title":"\u5f15\u7528\u200b\u53c2\u8003\u6587\u732e","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4e0d\u4f7f\u7528-bibtex","title":"\u4e0d\u200b\u4f7f\u7528\u200b BibTeX","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6587\u732e\u4fdd\u5b58","title":"\u6587\u732e\u200b\u4fdd\u5b58","text":"<p>\u200b\u5728\u200b\u6587\u7ae0\u200b\u672b\u5c3e\u200b\u63d2\u5165\u200b\uff1a</p> TeX<pre><code>\\begin{thebibliography}{99} % \u200b\u6700\u5927\u200b\u53c2\u8003\u6587\u732e\u200b\u4e2a\u6570\u200b\n\\bibitem{\u200b\u6807\u7b7e\u200b}\u200b\u53c2\u8003\u6587\u732e\u200b\u5f15\u7528\u200b\u683c\u5f0f\u200b % \u200b\u6807\u7b7e\u200b\u5728\u200b\u5f15\u7528\u200b\u65f6\u200b\u4f7f\u7528\u200b\n\\end{thebibliography}\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> TeX<pre><code>\\begin{thebibliography}{99}\n\\bibitem{ref1}Zhang J, Singh S. LOAM: Lidar Odometry and Mapping in Real-time[C]//Robotics: Science and Systems. 2014, 2(9).\n\\bibitem{ref2}Zhang J, Singh S. Low-drift and real-time lidar odometry and mapping[J]. Autonomous Robots, 2017, 41(2): 401-416.\n\\bibitem{ref3}Shan T, Englot B. Lego-loam: Lightweight and ground-optimized lidar odometry and mapping on variable terrain[C]//2018 IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS). IEEE, 2018: 4758-4765.\n\\bibitem{ref4}Shan T, Englot B, Meyers D, et al. Lio-sam: Tightly-coupled lidar inertial odometry via smoothing and mapping[J]. arXiv preprint arXiv:2007.00258, 2020.\n\n\\end{thebibliography}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6587\u732e\u5f15\u7528","title":"\u6587\u732e\u200b\u5f15\u7528","text":"TeX<pre><code>\\cite{ref1}\n\\cite{ref2, ref3}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u4f7f\u7528-bibtex","title":"\u4f7f\u7528\u200b BibTeX","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6587\u732e\u4fdd\u5b58_1","title":"\u6587\u732e\u200b\u4fdd\u5b58","text":"<ol> <li>\u200b\u4fdd\u5b58\u200b<code>.bib</code>\u200b\u6587\u4ef6\u200b\uff1a</li> </ol> TeX<pre><code>@article{name1, % \u200b\u540d\u79f0\u200b\u5728\u200b\u5f15\u7528\u200b\u65f6\u200b\u4f7f\u7528\u200b\nauthor = {\u200b\u4f5c\u8005\u200b\uff0c\u200b\u591a\u4e2a\u200b\u4f5c\u8005\u200b\u7528\u200b and \u200b\u8fde\u63a5\u200b\uff0c\u200b\u591a\u4e2a\u200b\u8bcd\u200b\u5f53\u6210\u200b\u4e00\u4e2a\u200b\u6574\u4f53\u200b\u7528\u200b{}\u200b\u62ec\u200b\u8d77\u6765\u200b\uff0c\u200b\u4f8b\u5982\u200b\u56e2\u4f53\u200b\u540d\u200b\u548c\u200b\u7ec4\u7ec7\u200b\u540d\u200b},\ntitle = {\u200b\u6807\u9898\u200b},\njournal = {\u200b\u671f\u520a\u200b\u540d\u200b},\nvolume = {\u200b\u5377\u200b},\nnumber = {\u200b\u9875\u7801\u200b},\nyear = {\u200b\u5e74\u4efd\u200b},\nabstract = {\u200b\u6458\u8981\u200b\uff0c\u200b\u5f15\u7528\u200b\u65f6\u200b\u81ea\u5df1\u200b\u53c2\u8003\u200b\uff0c\u200b\u975e\u200b\u5fc5\u987b\u200b}\n}\n@book{name2,\nauthor =\"\u200b\u4f5c\u8005\u200b\",\nyear=\"\u200b\u5e74\u4efd\u200b\",\ntitle=\"\u200b\u4e66\u540d\u200b\",\npublisher =\"\u200b\u51fa\u7248\u793e\u200b\u540d\u79f0\u200b\"\n}\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> TeX<pre><code>@inproceedings{zhang2014loam,\n    title={LOAM: Lidar Odometry and Mapping in Real-time.},\n    author={Zhang, Ji and Singh, Sanjiv},\n    booktitle={Robotics: Science and Systems},\n    volume={2},\n    number={9},\n    year={2014}\n}\n@article{zhang2017low,\ntitle={Low-drift and real-time lidar odometry and mapping},\nauthor={Zhang, Ji and Singh, Sanjiv},\njournal={Autonomous Robots},\nvolume={41},\nnumber={2},\npages={401--416},\nyear={2017},\npublisher={Springer}\n}\n@inproceedings{shan2018lego,\ntitle={Lego-loam: Lightweight and ground-optimized lidar odometry and mapping on variable terrain},\nauthor={Shan, Tixiao and Englot, Brendan},\nbooktitle={2018 IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS)},\npages={4758--4765},\nyear={2018},\norganization={IEEE}\n}\n@article{shan2020lio,\ntitle={Lio-sam: Tightly-coupled lidar inertial odometry via smoothing and mapping},\nauthor={Shan, Tixiao and Englot, Brendan and Meyers, Drew and Wang, Wei and Ratti, Carlo and Rus, Daniela},\njournal={arXiv preprint arXiv:2007.00258},\nyear={2020}\n}\n</code></pre> <ol> <li>\u200b\u5728\u200b\u6587\u7ae0\u200b\u672b\u5c3e\u200b\u63d2\u5165\u200b\uff1a</li> </ol> TeX<pre><code>\\bibliographystyle{plain}   % \u200b\u9884\u8bbe\u200b\u6837\u5f0f\u200b\n\\bibliography{ref}          % \u200b\u5bf9\u5e94\u200b\u3002bib \u200b\u6587\u4ef6\u540d\u200b\n</code></pre> <ol> <li> <p>\u200b\u9884\u8bbe\u200b\u6837\u5f0f\u200b\u8bf4\u660e\u200b\uff1a</p> </li> <li> <p><code>plain</code>\uff1a\u200b\u6309\u200b\u5b57\u6bcd\u200b\u7684\u200b\u987a\u5e8f\u6392\u5217\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u6b21\u5e8f\u200b\u4e3a\u200b\u4f5c\u8005\u200b\u3001\u200b\u5e74\u5ea6\u200b\u548c\u200b\u6807\u9898\u200b\uff1b</p> </li> <li><code>unsrt</code>\uff1a\u200b\u6837\u5f0f\u200b\u540c\u200b<code>plain</code>\uff0c\u200b\u53ea\u662f\u200b\u6309\u7167\u200b\u5f15\u7528\u200b\u7684\u200b\u5148\u540e\u200b\u6392\u5e8f\u200b\uff1b</li> <li><code>alpha</code>\uff1a\u200b\u7528\u200b\u4f5c\u8005\u200b\u540d\u200b\u9996\u5b57\u6bcd\u200b + \u200b\u5e74\u4efd\u200b\u540e\u200b\u4e24\u4f4d\u200b\u4f5c\u200b\u6807\u53f7\u200b\uff0c\u200b\u4ee5\u200b\u5b57\u6bcd\u200b\u987a\u5e8f\u200b\u6392\u5e8f\u200b\uff1b</li> <li><code>abbrv</code>\uff1a\u200b\u7c7b\u4f3c\u200b<code>plain</code>\uff0c\u200b\u5c06\u200b\u6708\u4efd\u200b\u5168\u62fc\u200b\u6539\u4e3a\u200b\u7f29\u5199\u200b\uff0c\u200b\u66f4\u663e\u200b\u7d27\u51d1\u200b\uff1b</li> <li><code>ieeetr</code>\uff1a\u200b\u56fd\u9645\u200b\u7535\u6c14\u200b\u7535\u5b50\u200b\u5de5\u7a0b\u5e08\u200b\u534f\u4f1a\u200b\u671f\u520a\u200b\u6837\u5f0f\u200b\uff1b</li> <li><code>acm</code>\uff1a\u200b\u7f8e\u56fd\u200b\u8ba1\u7b97\u673a\u200b\u5b66\u4f1a\u200b\u671f\u520a\u200b\u6837\u5f0f\u200b\uff1b</li> <li><code>siam</code>\uff1a\u200b\u7f8e\u56fd\u200b\u5de5\u4e1a\u200b\u548c\u200b\u5e94\u7528\u200b\u6570\u5b66\u200b\u5b66\u4f1a\u200b\u671f\u520a\u200b\u6837\u5f0f\u200b\uff1b</li> <li><code>apalike</code>\uff1a\u200b\u7f8e\u56fd\u200b\u5fc3\u7406\u5b66\u200b\u5b66\u4f1a\u200b\u671f\u520a\u200b\u6837\u5f0f\u200b\uff1b</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6587\u732e\u5f15\u7528_1","title":"\u6587\u732e\u200b\u5f15\u7528","text":"TeX<pre><code>\\cite{name1}\n\\cite{name1, name2}\n</code></pre>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6587\u732e\u683c\u5f0f\u5316\u5de5\u5177","title":"\u6587\u732e\u200b\u683c\u5f0f\u5316\u200b\u5de5\u5177","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#bib\u6587\u4ef6\u683c\u5f0f\u5316","title":"<code>.bib</code>\u200b\u6587\u4ef6\u200b\u683c\u5f0f\u5316","text":"<ol> <li>yuchenlin/rebiber</li> <li>MLNLP-World/SimBiber</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5f15\u7528\u6837\u5f0f\u683c\u5f0f\u5316","title":"\u5f15\u7528\u200b\u6837\u5f0f\u200b\u683c\u5f0f\u5316","text":"<ol> <li>zepinglee/gbt7714-bibtex-style</li> <li>Haixing-Hu/GBT7714-2005-BibTeX-Style</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#tikz-\u7ed8\u56fe","title":"TikZ \u200b\u7ed8\u56fe","text":"<ul> <li> \u200b\u5355\u72ec\u200b\u6574\u7406\u200b\u3002</li> </ul>","tags":["LaTeX"]},{"location":"blog/latex-note/#beamer-\u6f14\u793a\u6587\u7a3f","title":"Beamer \u200b\u6f14\u793a\u200b\u6587\u7a3f","text":"<ul> <li> \u200b\u5355\u72ec\u200b\u6574\u7406\u200b\u3002</li> </ul>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u9ad8\u8d28\u91cf\u7f51\u7ad9\u5b58\u6863","title":"\u9ad8\u8d28\u91cf\u200b\u7f51\u7ad9\u200b\u5b58\u6863","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u63d0\u5347\u8f93\u5165\u6548\u7387","title":"\u63d0\u5347\u200b\u8f93\u5165\u200b\u6548\u7387","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#latex-\u6570\u5b66\u516c\u5f0f","title":"LaTeX \u200b\u6570\u5b66\u516c\u5f0f","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6570\u5b66\u7b26\u53f7","title":"\u6570\u5b66\u200b\u7b26\u53f7","text":"<ol> <li>\u200b\u5e38\u7528\u200b\u6570\u5b66\u200b\u7b26\u53f7\u200b\u7684\u200b LaTeX \u200b\u8868\u793a\u200b\u65b9\u6cd5\u200b</li> <li>List of LaTeX mathematical symbols-OeisWiki</li> <li>LaTeX Mathematical Symbols-Rice University</li> <li>Detexify</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u516c\u5f0f\u7f16\u8f91\u5668","title":"\u516c\u5f0f\u200b\u7f16\u8f91\u5668","text":"<ol> <li>LaTeX \u200b\u516c\u5f0f\u200b\u7f16\u8f91\u5668\u200b</li> <li>Equation Editor</li> <li>\u200b\u5728\u7ebf\u200b LaTeX \u200b\u516c\u5f0f\u200b\u7f16\u8f91\u5668\u200b</li> <li>LaTeX \u200b\u5728\u7ebf\u200b\uff1a\u200b\u5434\u200b\u6587\u4e2d\u200b\u6570\u5b66\u516c\u5f0f\u200b\u7f16\u8f91\u5668\u200b</li> <li>\u200b\u516c\u5f0f\u200b\u738b\u200b</li> <li>blaisewang/img2latex-mathpix</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#office-\u6570\u5b66\u516c\u5f0f","title":"Office \u200b\u6570\u5b66\u516c\u5f0f","text":"<ol> <li>LatexToMathML</li> <li>LaTeX to MathML</li> <li>IguanaTex</li> <li>idf/LaTex2Word-Equation</li> <li>xiaoyvyv/LatexToMathML</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u8868\u683c_1","title":"\u8868\u683c","text":"<ol> <li>Tables Generator</li> <li>excel2latex-CTAN</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u5b57\u4f53_1","title":"\u5b57\u4f53","text":"<ol> <li>Haixing-Hu/latex-chinese-fonts</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u53c2\u8003\u6587\u732e","title":"\u53c2\u8003\u6587\u732e","text":"<ol> <li>Google Scholar</li> <li>ZoteroBib</li> <li>Citation Machine</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6a21\u677f\u548c\u5b66\u4e60\u8d44\u6e90\u67e5\u8be2","title":"\u6a21\u677f\u200b\u548c\u200b\u5b66\u4e60\u200b\u8d44\u6e90\u200b\u67e5\u8be2","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u7f51\u7ad9","title":"\u7f51\u7ad9","text":"<ol> <li>LaTeX \u200b\u5de5\u4f5c\u5ba4\u200b</li> <li>Overleaf Documentation</li> <li>Overleaf Templates</li> <li>LaTeX Templates</li> <li>MOON</li> <li>BibTeX</li> <li>TikZ</li> <li>TeXample</li> <li>LaTeX Beamer</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6559\u7a0b","title":"\u6559\u7a0b","text":"<ol> <li>\u200b\u5404\u4e2a\u200b\u5b8f\u5305\u200b\u7684\u200b\u8bf4\u660e\u200b\u6587\u6863\u200b\uff08TeXstudio \u200b\u4e2d\u200b\u5728\u200b\u5bf9\u5e94\u200b\u547d\u4ee4\u200b\u4e0a\u200b\u53f3\u952e\u200b\u6253\u5f00\u200b\uff09\uff1b</li> <li>latex \u200b\u4e2d\u6587\u200b\u6559\u7a0b\u200b -15 \u200b\u96c6\u4ece\u200b\u5165\u95e8\u200b\u5230\u200b\u7cbe\u901a\u200b\u5305\u542b\u200b\u5404\u79cd\u200b latex \u200b\u64cd\u4f5c\u200b-bilibili</li> <li>\u30101 \u200b\u5929\u200b\u73a9\u8f6c\u200b LaTeX\u3011\u3010\u200b\u5199\u200b\u8bba\u6587\u200b\u4e0d\u6015\u200b\u683c\u5f0f\u200b\u51fa\u9519\u200b\u5566\u200b\uff01\uff01\uff01\u3011\u3010\u200b\u803f\u6960\u200b\u6559\u6388\u200b\u6388\u6743\u200b\u53d1\u5e03\u200b\u3011-bilibili</li> <li>LaTex \u200b\u6559\u7a0b\u200b\u3010\u200b\u4e2d\u6587\u5b57\u5e55\u200b\u3011LaTeX by Michelle Krummel-bilibili</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#github","title":"GitHub","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6559\u7a0b_1","title":"\u6559\u7a0b","text":"<ol> <li>CTeX-org/lshort-zh-cn</li> <li>MartinThoma/LaTeX-examples</li> <li>wklchris/Note-by-LaTeX</li> <li>egeerardyn/awesome-LaTeX</li> <li>xinychen/latex-cookbook</li> <li>tuna/thulib-latex-talk</li> <li>oetiker/lshort</li> <li>huangxg/lnotes</li> <li>wch/latexsheet</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6a21\u677f","title":"\u6a21\u677f","text":"","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6587\u6863\u6a21\u677f","title":"\u6587\u6863\u200b\u6a21\u677f","text":"<ol> <li>ElegantLaTeX/ElegantBook</li> <li>ElegantLaTeX/ElegantPaper</li> <li>ElegantLaTeX/ElegantNote</li> <li>DeathKing/LaTeX-Template-Cn</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u7b80\u5386\u6a21\u677f","title":"\u7b80\u5386\u200b\u6a21\u677f","text":"<ol> <li>posquit0/Awesome-CV</li> <li>billryan/resume</li> <li>sb2nov/resume</li> <li>dyweb/awesome-resume-for-chinese</li> <li>jankapunkt/latexcv</li> <li>hijiangtao/resume</li> <li>darwiin/yaac-another-awesome-cv</li> <li>huajh/awesome-latex-cv</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#beamer-\u6a21\u677f","title":"Beamer \u200b\u6a21\u677f","text":"<ol> <li>wzpan/BeamerStyleSlides</li> <li>XiangyunHuang/awesome-beamers</li> <li>\u200b\u6e05\u534e\u5927\u5b66\u200b\u4e2d\u6587\u200b Beamer \u200b\u6a21\u677f\u200b-Overleaf</li> <li>TsinghuaBeamer-Overleaf</li> <li>Trinkle23897/THU-Beamer-Theme</li> <li>fuujiro/DLUT-Beamer-Slide-V2</li> <li>fuujiro/DLUT-Beamer-Slide-V1</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u6709\u8da3\u6a21\u677f","title":"\u6709\u8da3\u200b\u6a21\u677f","text":"<ol> <li>Wandmalfarbe/pandoc-latex-template</li> <li>Keldos-Li/typora-latex-theme</li> <li>Ruzim/NSFC-application-template-latex</li> <li>MattX/texword</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u9ad8\u8d28\u91cf\u6a21\u677f","title":"\u9ad8\u8d28\u91cf\u200b\u6a21\u677f","text":"<ol> <li>CS310-Assignment Template</li> <li>Cheatsheet</li> <li>zheyuye/resume-chinese</li> <li>tuna/thuthesis</li> <li>Academic Title Page</li> </ol>","tags":["LaTeX"]},{"location":"blog/latex-note/#\u53c2\u8003","title":"\u53c2\u8003","text":"<ol> <li>!TeX-Stack Exchange</li> <li>argmin&amp;argmax-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u77e9\u9635\u200b\u8f6c\u7f6e\u200b - \u200b\u77e5\u4e4e\u200b</li> <li>\\prime-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\\triangleq-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\\overline-Stack Exchange</li> <li>\u200b\u516c\u5f0f\u200b\u4e0a\u65b9\u200b\u4e0b\u65b9\u200b\u5927\u62ec\u53f7\u200b - \u200b\u767e\u5ea6\u200b\u7ecf\u9a8c\u200b</li> <li>\u200b\u957f\u200b\u7ad6\u7ebf\u200b - \u200b\u77e5\u4e4e\u200b</li> <li>\\tab-Stack Exchange</li> <li>\u200b\u5bf9\u200b\u53f7\u200b&amp;\u200b\u9519\u53f7\u200b-Stack Exchange</li> <li>LaTeX \u200b\u9875\u9762\u8bbe\u7f6e\u200b - \u200b\u51ac\u65e5\u200b\u6696\u9633\u200b\u7684\u200b\u6587\u7ae0\u200b - \u200b\u77e5\u4e4e\u200b</li> <li>\u200b\u7a7a\u683c\u200b-Stack Exchange</li> <li>\u200b\u97f3\u8c03\u200b 1-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u97f3\u8c03\u200b 2-\u200b\u77e5\u4e4e\u200b</li> <li>\u200b\u97f3\u8c03\u200b 3-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u547d\u4ee4\u200b 1-Stack Exchange</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u547d\u4ee4\u200b 2-Stack Exchange</li> <li>\u200b\u5b57\u4f53\u5927\u5c0f\u200b - \u200b\u7b80\u4e66\u200b</li> <li>\u200b\u5217\u8868\u200b-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u516c\u5f0f\u200b 1-\u200b\u7b80\u4e66\u200b</li> <li>\u200b\u516c\u5f0f\u200b 2-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u77e9\u9635\u200b - \u200b\u77e5\u4e4e\u200b</li> <li>\u200b\u56fe\u7247\u200b 1-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u56fe\u7247\u200b 2-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u5355\u5143\u683c\u200b\u6362\u884c\u200b-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\\cline-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\\rule-Stack Exchange</li> <li>\u200b\u957f\u5ea6\u200b\u5355\u4f4d\u200b-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\\multirow-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u8d85\u94fe\u63a5\u200b-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u4ee3\u7801\u200b\u5757\u200b 1-Overleaf</li> <li>\u200b\u4ee3\u7801\u200b\u5757\u200b 2-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u811a\u6ce8\u200b-LaTeX \u200b\u5de5\u4f5c\u5ba4\u200b</li> <li>\u200b\u53c2\u8003\u6587\u732e\u200b 1-\u200b\u77e5\u4e4e\u200b</li> <li>\u200b\u53c2\u8003\u6587\u732e\u200b 2-\u200b\u77e5\u4e4e\u200b</li> <li>\u200b\u53c2\u8003\u6587\u732e\u200b 3-Stack Exchange</li> <li>\u200b\u53c2\u8003\u6587\u732e\u200b 4-CSDN \u200b\u535a\u5ba2\u200b</li> <li>\u200b\u53c2\u8003\u6587\u732e\u200b 5-CSDN \u200b\u535a\u5ba2\u200b</li> <li>LaTeX \u200b\u5199\u4f5c\u200b\u5de5\u5177\u200b - \u200b\u5e73\u51e1\u200b\u7684\u200b\u6587\u7ae0\u200b - \u200b\u77e5\u4e4e\u200b</li> <li>LaTeX \u200b\u516c\u5f0f\u200b\u8f6c\u200b Word \u200b\u516c\u5f0f\u200b - \u200b\u7b80\u4e66\u200b</li> <li>\u200b\u622a\u81f3\u200b\u76ee\u524d\u200b LaTeX \u200b\u5165\u95e8\u200b\u6700\u597d\u200b\u8d44\u6599\u200b - \u200b\u6211\u200b\u662f\u200b\u79d1\u7814\u200b\u5c0f\u79d8\u4e66\u200b\u7684\u200b\u6587\u7ae0\u200b - \u200b\u77e5\u4e4e\u200b</li> </ol>","tags":["LaTeX"]},{"location":"blog/quantitative-investment-lecture-factor-investment/","title":"\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u56e0\u5b50\u200b\u6295\u8d44","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b 2023 \u200b\u5e74\u200b 3 \u200b\u6708\u200b 4 \u200b\u65e5\u200b\u7684\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u672c\u8282\u200b\u8bfe\u200b\u7cfb\u7edf\u5730\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u56e0\u5b50\u200b\u6295\u8d44\u200b\u7684\u200b\u5b9e\u8df5\u200b\u65b9\u6cd5\u200b\u4e0e\u200b\u6ce8\u610f\u4e8b\u9879\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5355\u56e0\u5b50\u6392\u5e8f\u6cd5","title":"\u5355\u200b\u56e0\u5b50\u200b\u6392\u5e8f\u200b\u6cd5","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6b65\u9aa4","title":"\u6b65\u9aa4","text":"<ol> <li>\u200b\u6392\u5e8f\u200b\uff1a\u200b\u786e\u5b9a\u200b\u80a1\u7968\u200b\u6c60\u200b\u5e76\u200b\u5c06\u200b\u80a1\u7968\u200b\u6c60\u4e2d\u200b\u7684\u200b\u5168\u90e8\u200b\u80a1\u7968\u200b\u5728\u200b\u622a\u9762\u200b\u4e0a\u200b\u6309\u7167\u200b\u6392\u5e8f\u200b\u53d8\u91cf\u200b\u7684\u200b\u53d6\u503c\u200b\u9ad8\u4f4e\u200b\u6392\u5e8f\u200b\u3002</li> <li>\u200b\u5206\u7ec4\u200b\uff1a\u200b\u6309\u200b\u6392\u540d\u200b\u9ad8\u4f4e\u200b\u5c06\u200b\u5168\u90e8\u200b\u80a1\u7968\u200b\u5206\u4e3a\u200b L \u200b\u7ec4\u200b (\u200b\u4e00\u822c\u200b\u6839\u636e\u200b\u53d8\u91cf\u200b\u53d6\u503c\u200b\u7684\u200b\u5341\u5206\u200b\u4f4d\u6570\u200b\u5206\u4e3a\u200b\u5341\u7ec4\u200b\uff0c\u200b\u5373\u200b L=10)\u3002\u200b\u505a\u200b\u591a\u200b\u7b2c\u4e00\u7ec4\u200b\uff0c\u200b\u505a\u7a7a\u200b\u6700\u540e\u200b\u4e00\u7ec4\u200b\uff0c\u200b\u8be5\u200b\u7ec4\u5408\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u4ef7\u5dee\u200b\u7ec4\u5408\u200b (spread portfolio)\uff0c\u200b\u4ef7\u5dee\u200b\u7ec4\u5408\u200b\u7684\u200b\u6536\u76ca\u200b\u7684\u200b\u5dee\u5f02\u200b\u53cd\u6620\u200b\u4e86\u200b\u56f4\u7ed5\u200b\u8be5\u200b\u53d8\u91cf\u200b\u6784\u5efa\u200b\u7684\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u901a\u5e38\u200b\u8981\u6c42\u200b\u4e24\u4e2a\u200b\u7ec4\u5408\u200b\u7684\u200b\u8d44\u91d1\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\uff0c\u200b\u5373\u200b\u8d44\u91d1\u200b\u4e2d\u6027\u200b\uff0c\u200b\u52a0\u6743\u200b\u65b9\u5f0f\u200b\u5e38\u89c1\u200b\u7684\u200b\u662f\u200b\u5e02\u503c\u200b\u52a0\u6743\u200b\u548c\u200b\u7b49\u200b\u6743\u91cd\u200b\u3002</li> <li>\u200b\u5b9a\u671f\u200b\u66f4\u65b0\u200b\uff1a\u200b\u5373\u200b\u518d\u200b\u5e73\u8861\u200b (re-balance)\uff0c\u200b\u9891\u7387\u200b\u591a\u4e3a\u200b\u6bcf\u5468\u200b\uff0c\u200b\u6bcf\u6708\u200b\u6216\u200b\u6bcf\u5e74\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u6790\u56e0\u5b50\u5927\u5c0f\u4e0e\u6536\u76ca\u7387\u7684\u5355\u8c03\u6027","title":"\u5206\u6790\u200b\u56e0\u5b50\u200b\u5927\u5c0f\u200b\u4e0e\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5355\u8c03\u200b\u6027","text":"<p>\u200b\u6392\u5e8f\u200b\u6cd5\u200b\u5173\u6ce8\u200b\u7684\u200b\u95ee\u9898\u200b\u5c31\u662f\u200b\u4f9d\u7167\u200b\u6392\u5e8f\u200b\u53d8\u91cf\u200b\u9ad8\u4f4e\u200b\u5f97\u5230\u200b\u7684\u200b L \u200b\u4e2a\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u662f\u5426\u200b\u6709\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u5355\u8c03\u200b\u6027\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8ba1\u7b97\u200b\u6536\u76ca\u7387\u200b\u548c\u200b\u6392\u5e8f\u200b\u53d8\u91cf\u200b\u5206\u7ec4\u200b\u7684\u200b\u79e9\u200b\u76f8\u5173\u7cfb\u6570\u200b\u6765\u200b\u68c0\u9a8c\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5355\u8c03\u6027\u6307\u6807-spearman-\u79e9\u76f8\u5173\u7cfb\u6570","title":"\u5355\u8c03\u200b\u6027\u200b\u6307\u6807\u200b-Spearman \u200b\u79e9\u200b\u76f8\u5173\u7cfb\u6570","text":"<p>\u200b\u4e00\u822c\u200b\u8981\u6c42\u200b\u56e0\u5b50\u200b\u7684\u200b\u79e9\u200b\u76f8\u5173\u7cfb\u6570\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u8981\u200b\u8fbe\u5230\u200b 80% \u200b\u4ee5\u4e0a\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u53cc\u91cd\u6392\u5e8f\u6cd5","title":"\u53cc\u91cd\u200b\u6392\u5e8f\u200b\u6cd5","text":"<p>\u200b\u5e38\u7528\u200b\u7684\u200b\u6709\u200b\u72ec\u7acb\u200b\u53cc\u91cd\u200b\u6392\u5e8f\u200b\u548c\u200b\u6761\u4ef6\u200b\u53cc\u91cd\u200b\u6392\u5e8f\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u72ec\u7acb\u53cc\u91cd\u6392\u5e8f","title":"\u72ec\u7acb\u200b\u53cc\u91cd\u200b\u6392\u5e8f","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6392\u5e8f\u7ed3\u679c","title":"\u6392\u5e8f\u200b\u7ed3\u679c","text":"<p>\u200b\u7f3a\u70b9\u200b\uff1a\u200b\u67d0\u4e9b\u200b\u7ec4\u5408\u200b\u5305\u542b\u200b\u7684\u200b\u80a1\u7968\u200b\u6570\u76ee\u200b\u53ef\u80fd\u200b\u8fc7\u5c11\u200b\u3002</p> <p>\u200b\u4f8b\u200b\uff1a\u200b\u5f53\u200b X1 \u200b\u548c\u200b X2 \u200b\u7684\u200b\u622a\u9762\u200b\u76f8\u5173\u6027\u200b\u5f88\u200b\u9ad8\u65f6\u200b\uff0c\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\u5728\u200b X1 \u200b\u53d8\u91cf\u200b\u53d6\u503c\u200b\u8f83\u200b\u9ad8\u65f6\u200b\uff0c\u200b\u5b83\u200b\u5728\u200b X2 \u200b\u53d8\u91cf\u200b\u53d6\u503c\u200b\u4e5f\u200b\u4f1a\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u9020\u6210\u200b\u5bf9\u89d2\u7ebf\u200b\u7684\u200b\u7ec4\u200b\u80a1\u7968\u200b\u4e2a\u6570\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u5176\u4ed6\u200b\u7ec4\u200b\u4e2a\u6570\u200b\u8f83\u200b\u5c11\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6700\u7ec8\u200b\u56e0\u5b50\u200b\u6536\u76ca\u200b\u53d7\u200b\u5f02\u5e38\u200b\u503c\u200b\u5f71\u54cd\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\u66f4\u9ad8\u200b\u3002\u200b\u6bd4\u5982\u200b\u8425\u4e1a\u989d\u200b\u589e\u957f\u7387\u200b\u548c\u200b\u51c0\u5229\u6da6\u200b\u589e\u957f\u7387\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u5f88\u96be\u200b\u627e\u5230\u200b\u524d\u8005\u200b\u8f83\u5c0f\u4e14\u200b\u540e\u8005\u200b\u8f83\u5927\u200b\u7684\u200b\u80a1\u7968\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u7ec6\u5206\u200b\u7ec4\u5185\u200b\u7684\u200b\u80a1\u7968\u200b\u6570\u91cf\u200b\u5c31\u200b\u5f88\u5c11\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6761\u4ef6\u53cc\u91cd\u6392\u5e8f","title":"\u6761\u4ef6\u200b\u53cc\u91cd\u200b\u6392\u5e8f","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6392\u5e8f\u7ed3\u679c_1","title":"\u6392\u5e8f\u200b\u7ed3\u679c","text":"<p>\u200b\u53ef\u4ee5\u200b\u4fdd\u6301\u200b\u6bcf\u4e2a\u200b\u7ec6\u5206\u200b\u7ec4\u5185\u200b\u7684\u200b\u80a1\u7968\u200b\u6570\u91cf\u200b\u8f83\u200b\u5747\u5300\u200b\u3002</p> <p>Tip</p> <p>\u200b\u7b2c\u4e00\u4e2a\u200b\u5206\u7ec4\u200b\u7684\u200b\u56e0\u5b50\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u5f71\u54cd\u200b\u66f4\u5927\u200b\uff01</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6392\u5e8f\u6cd5\u5206\u6790\u56e0\u5b50\u7ee9\u6548","title":"\u6392\u5e8f\u200b\u6cd5\u5206\u6790\u200b\u56e0\u5b50\u200b\u7ee9\u6548","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u591a\u7a7a\u7ec4\u5408\u51c0\u503c\u66f2\u7ebf","title":"\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u51c0\u503c\u200b\u66f2\u7ebf","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5355\u56e0\u5b50\u5206\u7ec4\u5e74\u5316\u6536\u76ca\u7387","title":"\u5355\u200b\u56e0\u5b50\u200b\u5206\u7ec4\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u7ec4\u5408\u7684\u4e1a\u7ee9\u7edf\u8ba1","title":"\u5206\u7ec4\u200b\u7ec4\u5408\u200b\u7684\u200b\u4e1a\u7ee9\u200b\u7edf\u8ba1","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u7ec4\u5408\u7684\u51c0\u503c\u66f2\u7ebf","title":"\u5206\u7ec4\u200b\u7ec4\u5408\u200b\u7684\u200b\u51c0\u503c\u200b\u66f2\u7ebf","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u624b\u7eed\u8d39\u4e0e\u51b2\u51fb\u6210\u672c","title":"\u624b\u7eed\u8d39\u200b\u4e0e\u200b\u51b2\u51fb\u200b\u6210\u672c","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u624b\u7eed\u8d39","title":"\u624b\u7eed\u8d39","text":"<ol> <li>\u200b\u4ea4\u6613\u6240\u200b\u6536\u200b\u624b\u7eed\u8d39\u200b\u662f\u200b\u5343\u5206\u4e4b\u4e00\u200b\u3002</li> <li>\u200b\u5238\u5546\u200b\u5bf9\u200b\u6563\u6237\u200b\u7684\u200b\u4f63\u91d1\u200b\u662f\u200b\u4e07\u4e8c\u200b\u5de6\u53f3\u200b\u3002</li> <li>\u200b\u5238\u5546\u200b\u5728\u200b\u4ea4\u6613\u6240\u200b\u7684\u200b\u4ea4\u6613\u6210\u672c\u200b\u5927\u6982\u200b\u662f\u200b\u4e07\u200b 0.8 \u200b\u5230\u200b\u4e07\u200b 0.9\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u51b2\u51fb\u6210\u672c","title":"\u51b2\u51fb\u200b\u6210\u672c","text":"<p>\u200b\u5bf9\u4e8e\u200b\u5927\u578b\u200b\u91d1\u878d\u673a\u6784\u200b\u6765\u8bf4\u200b\uff0c\u200b\u624b\u7eed\u8d39\u200b\u3001\u200b\u4f63\u91d1\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6700\u5927\u200b\u7684\u200b\u4ea4\u6613\u6210\u672c\u200b\u3002\u200b\u4ea4\u6613\u200b\u6ed1\u70b9\u4f1a\u200b\u5bfc\u81f4\u200b\u65e0\u6cd5\u200b\u6309\u7167\u200b\u9884\u671f\u200b\u4ef7\u683c\u200b\u6210\u4ea4\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u51b2\u51fb\u200b\u6210\u672c\u200b\u624d\u200b\u662f\u200b\u66f4\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u7684\u200b\u3002</p> <p>\u200b\u7ecf\u9a8c\u200b</p> <p>\u200b\u4e00\u822c\u200b\u6301\u6709\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\u7684\u200b\u91d1\u989d\u200b\u8981\u200b\u63a7\u5236\u200b\u5728\u200b\u8fd9\u200b\u53ea\u200b\u80a1\u7968\u200b\u603b\u200b\u6d41\u901a\u80a1\u200b\u672c\u200b\u7684\u200b 1%\u3002\u200b\u9ad8\u4e8e\u200b 5% \u200b\u9700\u8981\u200b\u4e3e\u724c\u200b\uff0c\u200b\u4e14\u200b\u5728\u200b\u80a1\u707e\u200b\u6765\u200b\u4e34\u65f6\u200b\u4e0d\u6613\u200b\u8131\u8eab\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u4e3b\u6d41\u56e0\u5b50","title":"\u4e3b\u6d41\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5e02\u573a\u56e0\u5b50","title":"\u5e02\u573a\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6784\u5efa\u65b9\u6cd5","title":"\u6784\u5efa\u200b\u65b9\u6cd5","text":"<p>\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u7684\u200b \\(\\beta\\) \u200b\u5373\u200b\u4e3a\u200b\u5e02\u573a\u200b\u56e0\u5b50\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6210\u56e0","title":"\u6210\u56e0","text":"<p>\u200b\u9ad8\u98ce\u9669\u200b\u3001\u200b\u9ad8\u200b\u6536\u76ca\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u6536\u76ca\u7387","title":"\u5206\u7ec4\u200b\u6536\u76ca\u7387","text":"<p>\u200b\u9ad8\u200b \\(\\beta\\) \u200b\u7ec4\u200b\u7684\u200b\u6536\u76ca\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6700\u9ad8\u200b\u7684\u200b\uff0c\u200b\u53cd\u800c\u200b\u51fa\u73b0\u200b\u4e86\u200b\u4f4e\u200b \\(\\beta\\) \u200b\u5f02\u8c61\u200b\u3002</p> <p>\u200b\u5e02\u573a\u200b\u56e0\u5b50\u200b\u662f\u200b\u5f88\u200b\u91cd\u8981\u200b\u7684\u200b\u98ce\u9669\u200b\u56e0\u5b50\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u7528\u200b\u5176\u5b83\u200b\u56e0\u5b50\u200b\u5bf9\u200b\u5e02\u573a\u200b\u56e0\u5b50\u200b\u505a\u200b\u6b63\u4ea4\u200b\u5316\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u89c4\u6a21\u56e0\u5b50","title":"\u89c4\u6a21\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6784\u5efa\u65b9\u6cd5_1","title":"\u6784\u5efa\u200b\u65b9\u6cd5","text":"<p>\u200b\u5b9e\u8bc1\u200b\u4e2d\u200b\uff0c\u200b\u91c7\u7528\u200b\u603b\u200b\u5e02\u503c\u200b\u4e3a\u200b\u6392\u5e8f\u200b\u53d8\u91cf\u200b\u6784\u5efa\u200b\u89c4\u6a21\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6309\u7167\u200b\u5e02\u503c\u200b\u4ece\u5c0f\u5230\u5927\u200b\u5206\u6210\u200b 10 \u200b\u7ec4\u200b\uff0c\u200b\u901a\u8fc7\u200b\u505a\u200b\u591a\u200b\u5c0f\u200b\u5e02\u503c\u200b\u7ec4\u200b\u3001\u200b\u505a\u7a7a\u5927\u200b\u5e02\u503c\u200b\u7ec4\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u89c4\u6a21\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6210\u56e0_1","title":"\u6210\u56e0","text":"<ol> <li>\u200b\u6295\u8d44\u8005\u200b\u5bf9\u200b\u5c0f\u76d8\u80a1\u200b\u7684\u200b\u89c4\u907f\u200b\u6548\u5e94\u200b\uff1a\u200b\u7531\u4e8e\u200b\u96be\u4ee5\u83b7\u5f97\u200b\u51c6\u786e\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6295\u8d44\u8005\u200b\u666e\u904d\u200b\u4e0d\u200b\u613f\u610f\u200b\u6301\u6709\u200b\u5c0f\u200b    \u200b\u5e02\u503c\u200b\u80a1\u7968\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u8fd9\u4e9b\u200b\u80a1\u7968\u200b\u7684\u200b\u4ef7\u683c\u200b\u4f4e\u4e8e\u200b\u89c4\u6a21\u200b\u8f83\u5927\u200b\u7684\u200b\u80a1\u7968\u200b\uff0c\u200b\u56e0\u800c\u200b\u6709\u7740\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u9884\u671f\u200b\u6536\u76ca\u200b\u3002</li> <li>\u200b\u4e5f\u200b\u6709\u200b\u5176\u4ed6\u200b\u7814\u7a76\u200b\u63d0\u51fa\u200b\u4e86\u200b\u98ce\u9669\u200b\u8865\u507f\u200b\u8bf4\u200b\u3001\u200b\u6295\u8d44\u8005\u200b\u884c\u4e3a\u200b\u504f\u597d\u200b\u548c\u200b\u6a21\u578b\u200b\u8bbe\u5b9a\u200b\u504f\u8bef\u200b\u7b49\u200b\u591a\u79cd\u200b\u89e3\u91ca\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u6536\u76ca\u7387_1","title":"\u5206\u7ec4\u200b\u6536\u76ca\u7387","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u4ef7\u503c\u56e0\u5b50","title":"\u4ef7\u503c\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6784\u5efa\u65b9\u6cd5_2","title":"\u6784\u5efa\u200b\u65b9\u6cd5","text":"<p>\u200b\u5b9e\u8bc1\u200b\u4e2d\u200b\uff0c\u200b\u91c7\u7528\u200b BM \u200b\u4e3a\u200b\u6392\u5e8f\u200b\u53d8\u91cf\u200b\u6784\u5efa\u200b\u89c4\u6a21\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6309\u7167\u200b BM \u200b\u4ece\u5c0f\u5230\u5927\u200b\u5206\u6210\u200b 10 \u200b\u7ec4\u200b\uff0c\u200b\u8fdb\u4e00\u6b65\u200b\uff0c\u200b\u901a\u8fc7\u200b\u505a\u200b\u591a\u200b\u9ad8\u200b BM\u3001\u200b\u505a\u7a7a\u200b\u4f4e\u200b BM \u200b\u7ec4\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u4ef7\u503c\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</p> <p>BM: Book-to-market\uff0c\u200b\u5373\u200b\u8d26\u9762\u200b\u5e02\u503c\u200b\u6bd4\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6210\u56e0_2","title":"\u6210\u56e0","text":"<ol> <li>\u200b\u7cfb\u7edf\u6027\u200b\u98ce\u9669\u200b\u8865\u507f\u200b\uff08\u200b\u8d22\u52a1\u200b\u56f0\u5883\u200b\u98ce\u9669\u200b\u5047\u8bf4\u200b\uff1a\u200b\u5373\u200b\u9ad8\u200b BM \u200b\u53ef\u80fd\u200b\u53cd\u6620\u200b\u7740\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u8d22\u52a1\u200b\u56f0\u5883\u200b\u98ce\u9669\u200b\uff09</li> <li>\u200b\u6295\u8d44\u8005\u200b\u884c\u4e3a\u200b\u504f\u5dee\u200b\uff1a\u200b\u5982\u200b\u6295\u8d44\u8005\u200b\u5bf9\u200b\u8fc7\u53bb\u200b\u76c8\u5229\u200b\u4e0d\u4f73\u200b\u7684\u200b\u4f01\u4e1a\u200b\u8fc7\u5ea6\u200b\u60b2\u89c2\u200b\u5bfc\u81f4\u200b\u4e86\u200b\u4ef7\u503c\u200b\u6548\u5e94\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u6536\u76ca\u7387_2","title":"\u5206\u7ec4\u200b\u6536\u76ca\u7387","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u52a8\u91cf\u56e0\u5b50","title":"\u52a8\u91cf\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6784\u5efa\u65b9\u6cd5_3","title":"\u6784\u5efa\u200b\u65b9\u6cd5","text":"<p>\u200b\u505a\u200b\u591a\u200b\u8fc7\u53bb\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u8868\u73b0\u200b\u6700\u597d\u200b\u7684\u200b\u80a1\u7968\u200b\uff08\u200b\u79f0\u4e3a\u200b\u8d62\u5bb6\u200b\u7ec4\u5408\u200b\uff09\u3001\u200b\u540c\u65f6\u200b\u505a\u7a7a\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u8868\u73b0\u200b\u6700\u5dee\u200b\u7684\u200b\u80a1\u7968\u200b\uff08\u200b\u79f0\u4e3a\u200b\u8f93\u5bb6\u200b\u7ec4\u5408\u200b\uff09\uff1bJegadeesh and Titman(1993) \u200b\u5728\u200b\u6bcf\u6708\u200b\u6708\u672b\u200b\uff0c\u200b\u4f9d\u636e\u200b\u8fc7\u53bb\u200b X \u200b\u4e2a\u200b\u6708\u200b\u7684\u200b\u80a1\u7968\u200b\u603b\u200b\u6536\u76ca\u7387\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5c06\u200b\u80a1\u7968\u200b\u5206\u4e3a\u200b 10 \u200b\u7ec4\u200b\uff0c\u200b\u6309\u7167\u200b\u7b49\u200b\u6743\u91cd\u200b\u65b9\u5f0f\u200b\u505a\u200b\u591a\u200b\u6536\u76ca\u7387\u200b\u6700\u9ad8\u200b\u7684\u200b\u4e00\u7ec4\u200b\u80a1\u7968\u200b\uff0c\u200b\u540c\u65f6\u200b\u505a\u7a7a\u200b\u6536\u76ca\u7387\u200b\u6700\u4f4e\u200b\u7684\u200b\u4e00\u7ec4\u200b\u80a1\u7968\u200b\uff0c\u200b\u5e76\u200b\u6301\u6709\u200b Y \u200b\u4e2a\u200b\u6708\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6210\u56e0_3","title":"\u6210\u56e0","text":"<ol> <li>\u200b\u7cfb\u7edf\u6027\u200b\u98ce\u9669\u200b\u655e\u53e3\u200b\uff08\u200b\u76f8\u5e94\u200b\u9700\u8981\u200b\u83b7\u5f97\u200b\u98ce\u9669\u200b\u6ea2\u4ef7\u200b\u8865\u507f\u200b\uff09</li> <li>\u200b\u6295\u8d44\u8005\u200b\u884c\u4e3a\u200b\u504f\u5dee\u200b</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u6536\u76ca\u7387_3","title":"\u5206\u7ec4\u200b\u6536\u76ca\u7387","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u76c8\u5229\u56e0\u5b50","title":"\u76c8\u5229\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6784\u5efa\u65b9\u6cd5_4","title":"\u6784\u5efa\u200b\u65b9\u6cd5","text":"<p>\u200b\u5229\u7528\u200b\u7edd\u5bf9\u200b\u76c8\u5229\u200b\u6c34\u5e73\u200b\u6765\u200b\u5ea6\u91cf\u200b\u76c8\u5229\u200b\u80fd\u529b\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u4fdd\u8bc1\u200b\u6307\u6807\u200b\u5728\u200b\u4e0d\u540c\u200b\u516c\u53f8\u200b\u95f4\u200b\u53ef\u6bd4\u200b\uff0c\u200b\u5728\u200b\u8ba1\u7b97\u200b\u65f6\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u7528\u200b\u8bf8\u5982\u200b\u603b\u8d44\u4ea7\u200b\u3001\u200b\u9500\u552e\u6536\u5165\u200b\u7b49\u200b\u5bf9\u200b\u76c8\u5229\u200b\u6c34\u5e73\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u3002\u200b\u5728\u200b\u8bf8\u591a\u200b\u53d8\u91cf\u200b\u4e2d\u200b\uff0c\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u662f\u200b\u51c0\u8d44\u4ea7\u200b\u6536\u76ca\u7387\u200b\uff08ROE\uff09\uff0c\u200b\u6b64\u5916\u200b\uff0c\u200b\u8fd8\u6709\u200b\u603b\u8d44\u4ea7\u200b\u6536\u76ca\u7387\u200b\uff08ROA\uff09\u200b\u548c\u200b\u6709\u5f62\u200b\u8d44\u672c\u200b\u6536\u76ca\u7387\u200b\uff08ROTC\uff09\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6210\u56e0_4","title":"\u6210\u56e0","text":"<ol> <li>Fama and French(2006, 2015) \u200b\u4ece\u200b\u80a1\u5229\u200b\u8d34\u73b0\u200b\u6a21\u578b\u200b\u51fa\u53d1\u200b\u63a8\u5bfc\u200b\u4e86\u200b\u9884\u671f\u200b\u76c8\u5229\u200b\u548c\u200b\u80a1\u7968\u200b\u9884\u671f\u200b\u6536\u76ca\u7387\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u3002</li> <li>Hou et al. (2015) \u200b\u5219\u200b\u4ee5\u200b\u5b9e\u4f53\u200b\u6295\u8d44\u200b\u7ecf\u6d4e\u5b66\u200b\u7406\u8bba\u200b\u4e3a\u200b\u57fa\u7840\u200b\u5efa\u7acb\u200b\u4e86\u200b\u9884\u671f\u200b\u5229\u6da6\u200b\u3002</li> <li>\u200b\u4e0d\u5c11\u200b\u5176\u4ed6\u200b\u7814\u7a76\u200b\u4e5f\u200b\u63a2\u7d22\u200b\u4e86\u200b\u76c8\u5229\u200b\u6c34\u5e73\u200b\u4e4b\u5916\u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u5305\u62ec\u200b\u76c8\u5229\u200b\u8d28\u91cf\u200b\u3001\u200b\u76c8\u5229\u200b\u6ce2\u52a8\u200b\u548c\u200b\u76c8\u5229\u200b\u589e\u957f\u200b\u7b49\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u6536\u76ca\u7387_4","title":"\u5206\u7ec4\u200b\u6536\u76ca\u7387","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6362\u624b\u7387\u56e0\u5b50","title":"\u6362\u624b\u7387\u200b\u56e0\u5b50","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6784\u5efa\u65b9\u6cd5_5","title":"\u6784\u5efa\u200b\u65b9\u6cd5","text":"<p>\u200b\u4e00\u822c\u200b\u91c7\u7528\u200b\u5f02\u5e38\u200b\u6362\u624b\u7387\u200b\u4f5c\u4e3a\u200b\u6392\u5e8f\u200b\u53d8\u91cf\u200b\u6784\u5efa\u200b\u6362\u624b\u7387\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6bcf\u6708\u200b\u672b\u200b\u5c06\u200b\u80a1\u7968\u200b\u6309\u7167\u200b\u8fc7\u53bb\u200b 21 \u200b\u4ea4\u6613\u65e5\u200b\u5e73\u5747\u200b\u6362\u624b\u7387\u200b\u548c\u200b\u8fc7\u53bb\u200b 252 \u200b\u4ea4\u6613\u65e5\u200b\u5e73\u5747\u200b\u6362\u624b\u7387\u200b\u7684\u200b\u6bd4\u503c\u200b\u4ece\u200b\u4f4e\u200b\u5230\u200b\u9ad8\u200b\u5206\u6210\u200b 10 \u200b\u7ec4\u200b\uff0c\u200b\u901a\u8fc7\u200b\u505a\u200b\u591a\u200b\u6700\u4f4e\u200b\u7ec4\u200b\u3001\u200b\u505a\u7a7a\u200b\u6700\u9ad8\u200b\u7ec4\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u6362\u624b\u7387\u200b\u56e0\u5b50\u200b\u7684\u200b\u6536\u76ca\u7387\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6210\u56e0_5","title":"\u6210\u56e0","text":"<p>\u200b\u65e9\u671f\u200b\u7814\u7a76\u200b\u5927\u591a\u200b\u5c06\u200b\u6210\u4ea4\u91cf\u200b\u548c\u200b\u6362\u624b\u7387\u200b\u5f53\u505a\u200b\u6d41\u52a8\u6027\u200b\u7684\u200b\u4e00\u79cd\u200b\u5ea6\u91cf\u200b\uff0c\u200b\u4e5f\u200b\u6709\u200b\u7814\u7a76\u200b\u8ba4\u4e3a\u200b\u5176\u200b\u4e0e\u200b\u5e02\u573a\u200b\u7684\u200b\u603b\u4f53\u200b\u6ce2\u52a8\u200b\u7387\u200b\u76f8\u5173\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u4ece\u200b\u884c\u4e3a\u200b\u91d1\u878d\u5b66\u200b\u89d2\u5ea6\u200b\uff0c\u200b\u4e5f\u200b\u6709\u200b\u7814\u7a76\u200b\u6307\u51fa\u200b\u6362\u624b\u7387\u200b\u53cd\u6620\u200b\u4e86\u200b\u6295\u8d44\u8005\u200b\u975e\u7406\u6027\u200b\u60c5\u7eea\u200b\u5982\u200b\u8fc7\u5ea6\u200b\u81ea\u4fe1\u200b\u3001\u200b\u76f2\u76ee\u4e50\u89c2\u200b\u7b49\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u8fd8\u6709\u200b\u5b66\u8005\u200b\u5206\u6790\u200b\u4e86\u200b\u5f02\u5e38\u200b\u6210\u4ea4\u91cf\u200b\u5bf9\u200b\u80a1\u7968\u200b\u6536\u76ca\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5206\u7ec4\u6536\u76ca\u7387_5","title":"\u5206\u7ec4\u200b\u6536\u76ca\u7387","text":"<p>\u200b\u6362\u624b\u7387\u200b\u9ad8\u200b\u7684\u200b\u80a1\u7968\u200b\u6536\u76ca\u7387\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u4e0e\u200b\u6563\u6237\u200b\u8ffd\u200b\u70ed\u70b9\u200b\u6709\u200b\u5173\u7cfb\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u591a\u56e0\u5b50\u7814\u7a76","title":"\u591a\u56e0\u5b50\u200b\u7814\u7a76","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u56e0\u5b50\u6b63\u4ea4\u5316","title":"\u56e0\u5b50\u200b\u6b63\u4ea4\u200b\u5316","text":"<p>\u200b\u591a\u4e2a\u200b\u9ad8\u5ea6\u200b\u76f8\u5173\u200b\u7684\u200b\u56e0\u5b50\u200b\uff0c\u200b\u5176\u200b\u6536\u76ca\u200b\u6765\u6e90\u200b\u53ef\u80fd\u200b\u76f8\u540c\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u63d0\u53d6\u200b\u6bcf\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u72ec\u7acb\u200b\u5269\u4f59\u200b\u4fe1\u606f\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u65b9\u6cd5\u4e00\u56de\u5f52\u53d6\u6b8b\u5dee","title":"\u65b9\u6cd5\u200b\u4e00\u200b\uff1a\u200b\u56de\u5f52\u200b\u53d6\u200b\u6b8b\u5dee","text":"<p>\u200b\u76ee\u6807\u200b\u56e0\u5b50\u200b\u4e0e\u200b\u5176\u5b83\u200b\u98ce\u683c\u200b\u56e0\u5b50\u200b\u56de\u5f52\u200b\u53d6\u200b\u6b8b\u5dee\u200b\uff0c\u200b\u7531\u4e8e\u200b\u6b8b\u5dee\u200b\u9879\u200b\u4e0e\u200b\u88ab\u200b\u89e3\u91ca\u200b\u53d8\u91cf\u200b\u4e0d\u200b\u76f8\u5173\u200b\uff0c\u200b\u4ece\u800c\u200b\u8fbe\u5230\u200b\u5254\u9664\u200b\u76f8\u5173\u6027\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p> <p>\u200b\u6b8b\u5dee\u200b\u7684\u200b\u5747\u503c\u200b\u662f\u200b 0\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u5f97\u5230\u200b\u4e86\u200b\u76f8\u5bf9\u6765\u8bf4\u200b\u91cf\u7eb2\u200b\u66f4\u200b\u4e00\u81f4\u200b\u7684\u200b\u56e0\u5b50\u200b\uff08\u200b\u539f\u59cb\u200b\u56e0\u5b50\u200b\u7684\u200b\u5747\u503c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b\u6570\u200b\uff0c\u200b\u91cf\u7eb2\u200b\u53ef\u80fd\u200b\u5343\u5dee\u4e07\u522b\u200b\uff09\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u65b9\u6cd5\u4e8c\u6784\u9020\u7eaf\u56e0\u5b50\u6295\u8d44\u7ec4\u5408","title":"\u65b9\u6cd5\u200b\u4e8c\u200b\uff1a\u200b\u6784\u9020\u200b\u7eaf\u200b\u56e0\u5b50\u200b\u6295\u8d44\u200b\u7ec4\u5408","text":"<p>\u200b\u53c2\u8003\u200b\u300a\u200b\u56e0\u5b50\u200b\u6295\u8d44\u200b \u200b\u65b9\u6cd5\u200b\u4e0e\u200b\u5b9e\u8df5\u200b\u300b\u200b\u7b2c\u200b 310 \u200b\u81f3\u200b 312 \u200b\u9875\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6570\u636e\u5904\u7406\u6ce8\u610f\u4e8b\u9879","title":"\u6570\u636e\u5904\u7406\u200b\u6ce8\u610f\u4e8b\u9879","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u8d22\u52a1\u6570\u636e","title":"\u8d22\u52a1\u6570\u636e","text":"<p>\u200b\u8003\u8651\u200b\u5230\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u6548\u6027\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u7528\u200b\u5404\u5bb6\u200b\u516c\u53f8\u200b\u53d1\u5e03\u200b\u8d22\u62a5\u200b\u7684\u200b\u65e5\u671f\u200b\u5411\u200b\u540e\u200b\u586b\u5145\u200b\u6570\u636e\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u622a\u9762\u200b\u4e0a\u200b\u4f7f\u7528\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u5404\u5bb6\u200b\u516c\u53f8\u200b\u80fd\u200b\u5f97\u5230\u200b\u7684\u200b\u6700\u65b0\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u7528\u200b\u7684\u200b\u6570\u636e\u200b\u5728\u200b\u56de\u6d4b\u200b\u65f6\u671f\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u53d1\u5e03\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u4e25\u91cd\u200b\u5f71\u54cd\u200b\u56de\u6d4b\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u5207\u8bb0\u200b\u4e0d\u8981\u200b\u7528\u200b\u672a\u6765\u200b\u6570\u636e\u200b\uff01</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u501f\u58f3\u4e0a\u5e02","title":"\u501f\u58f3\u4e0a\u5e02","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u542b\u4e49","title":"\u542b\u4e49","text":"<p>\u200b\u4e3a\u4e86\u200b\u7ed5\u5f00\u200b IPO\uff0c\u200b\u6709\u4e9b\u200b\u672a\u4e0a\u5e02\u200b\u7684\u200b\u516c\u53f8\u200b\u901a\u8fc7\u200b\u628a\u200b\u8d44\u4ea7\u200b\u6ce8\u5165\u200b\u5e02\u503c\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u516c\u53f8\u200b\uff0c\u200b\u83b7\u5f97\u200b\u516c\u53f8\u200b\u7684\u200b\u63a7\u80a1\u6743\u200b\uff0c\u200b\u5229\u7528\u200b\u5176\u200b\u4e0a\u5e02\u516c\u53f8\u200b\u7684\u200b\u5730\u4f4d\u200b\u5b8c\u6210\u200b\u91cd\u7ec4\u200b\u4e0a\u5e02\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u6837\u672c\u6f5c\u5728\u95ee\u9898","title":"\u6837\u672c\u200b\u6f5c\u5728\u200b\u95ee\u9898","text":"<p>\u200b\u501f\u58f3\u4e0a\u5e02\u200b\u6837\u672c\u200b\u7531\u4e8e\u200b\u5176\u672c\u8d28\u200b\u5df2\u7ecf\u200b\u53d1\u751f\u200b\u6839\u672c\u6027\u200b\u53d8\u5316\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u52a0\u4ee5\u200b\u5904\u7406\u200b\uff0c\u200b\u4f1a\u200b\u5bf9\u200b\u7814\u7a76\u200b\u7ed3\u679c\u200b\u9020\u6210\u200b\u5e72\u6270\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u501f\u58f3\u4e0a\u5e02\u200b\u516c\u53f8\u200b\u4f1a\u200b\u5b58\u5728\u200b\u80a1\u4ef7\u200b\u5f02\u5e38\u200b\u6ce2\u52a8\u200b\u548c\u200b\u8d22\u52a1\u6570\u636e\u200b\u5931\u771f\u200b\u4e24\u5927\u200b\u95ee\u9898\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5982\u4f55\u5904\u7406","title":"\u5982\u4f55\u200b\u5904\u7406","text":"<ol> <li>\u200b\u501f\u58f3\u4e0a\u5e02\u200b\u7684\u200b\u516c\u53f8\u200b\uff1a\u200b\u89c6\u4e3a\u200b\u7eb3\u5165\u200b\u65b0\u200b\u4e0a\u5e02\u200b\u80a1\u7968\u200b\uff0c\u200b\u4f7f\u7528\u200b\u501f\u58f3\u4e0a\u5e02\u200b\u65e5\u671f\u200b\u5bf9\u200b\u4e0a\u5e02\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\u3002\u200b\u5728\u200b\u6784\u5efa\u200b\u80a1\u7968\u200b\u6c60\u65f6\u200b\uff0c\u200b\u8be5\u200b\u80a1\u7968\u200b\u4f1a\u200b\u88ab\u200b\u5f53\u4f5c\u200b\u6b21\u65b0\u80a1\u200b\u800c\u200b\u5254\u9664\u200b\u3002</li> <li>\u200b\u88ab\u200b\u501f\u58f3\u200b\u516c\u53f8\u200b\uff1a\u200b\u5c3d\u53ef\u80fd\u200b\u7684\u200b\u5c06\u200b\u5176\u200b\u4ece\u200b\u80a1\u7968\u200b\u6c60\u4e2d\u200b\u5254\u9664\u200b\u3002\u200b\u7531\u4e8e\u200b\u88ab\u200b\u501f\u58f3\u200b\u516c\u53f8\u200b\u901a\u5e38\u200b\u5e02\u503c\u200b\u8f83\u200b\u5c0f\u200b\uff0c\u200b\u5e02\u573a\u200b\u8868\u73b0\u200b\u4f4e\u8ff7\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u91cd\u65b0\u200b\u6784\u9020\u200b\u80a1\u7968\u200b\u6c60\u200b\u3002</li> </ol> <p>\u200b\u731c\u60f3\u200b</p> <p>\u200b\u5168\u9762\u200b\u6ce8\u518c\u200b\u5236\u540e\u200b\uff0c\u200b\u501f\u58f3\u4e0a\u5e02\u200b\u5e94\u8be5\u200b\u4e0d\u518d\u200b\u4f1a\u200b\u662f\u200b\u5f88\u200b\u5e38\u89c1\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u80a1\u7968\u6c60\u6784\u5efa","title":"\u80a1\u7968\u200b\u6c60\u200b\u6784\u5efa","text":"<ol> <li>\u200b\u6307\u6570\u200b\u6210\u5206\u80a1\u200b\u80a1\u7968\u200b\u6c60\u6caa\u6df1\u200b 300 \u200b\u6307\u6570\u200b\u6784\u9020\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u8ba1\u7b97\u200b\u6837\u672c\u7a7a\u95f4\u200b\u5185\u200b\u80a1\u7968\u200b\u6700\u8fd1\u200b\u4e00\u5e74\u200b\u7684\u200b A \u200b\u80a1\u200b\u65e5\u5747\u200b\u6210\u4ea4\u200b\u91d1\u989d\u200b\u4e0e\u200b A \u200b\u80a1\u200b\u65e5\u5747\u200b\u603b\u200b\u5e02\u503c\u200b\uff1b\u200b\u5bf9\u200b\u6837\u672c\u7a7a\u95f4\u200b\u80a1\u7968\u200b\u5728\u200b\u6700\u8fd1\u200b\u4e00\u5e74\u200b\u7684\u200b A \u200b\u80a1\u200b\u65e5\u5747\u200b\u6210\u4ea4\u200b\u91d1\u989d\u200b\u7531\u9ad8\u5230\u200b\u4f4e\u200b\u6392\u540d\u200b\uff0c\u200b\u5254\u9664\u200b\u6392\u540d\u200b\u540e\u200b 50%\uff1b\u200b\u5bf9\u200b\u5269\u4f59\u200b\u80a1\u7968\u200b\u6309\u7167\u200b\u6700\u8fd1\u200b\u4e00\u5e74\u200b A \u200b\u80a1\u200b\u65e5\u5747\u200b\u603b\u200b\u5e02\u503c\u200b\u7531\u9ad8\u5230\u200b\u4f4e\u200b\u6392\u540d\u200b\uff0c\u200b\u9009\u53d6\u200b\u524d\u200b 300 \u200b\u540d\u200b\u4f5c\u4e3a\u200b\u6caa\u200b\u6df1\u200b 300 \u200b\u6307\u6570\u200b\u6837\u672c\u200b\u3002</li> <li>\u200b\u4e2d\u8bc1\u200b 500 \u200b\u6307\u6570\u200b\u6784\u9020\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u5728\u200b\u6837\u672c\u7a7a\u95f4\u200b\u4e2d\u200b\u5254\u9664\u200b\u6caa\u200b\u6df1\u200b 300 \u200b\u6307\u6570\u200b\u6837\u672c\u80a1\u200b\u4ee5\u53ca\u200b\u6700\u8fd1\u200b\u4e00\u5e74\u200b\u65e5\u5747\u200b\u603b\u200b\u5e02\u503c\u200b\u6392\u540d\u200b\u524d\u200b 300 \u200b\u540d\u200b\u7684\u200b\u80a1\u7968\u200b\uff1b\u200b\u5c06\u200b\u5269\u4f59\u200b\u80a1\u7968\u200b\u6309\u7167\u200b\u6700\u8fd1\u200b\u4e00\u5e74\u200b\u65e5\u5747\u200b\u6210\u4ea4\u200b\u91d1\u989d\u200b\u7531\u9ad8\u5230\u200b\u4f4e\u200b\u6392\u540d\u200b\uff0c\u200b\u5254\u9664\u200b\u6392\u540d\u200b\u540e\u200b 20% \u200b\u7684\u200b\u80a1\u7968\u200b\uff1b\u200b\u5c06\u200b\u5269\u4f59\u200b\u80a1\u7968\u200b\u6309\u7167\u200b\u6700\u8fd1\u200b\u4e00\u5e74\u200b\u65e5\u5747\u200b\u603b\u200b\u5e02\u503c\u200b\u7531\u9ad8\u5230\u200b\u4f4e\u200b\u8fdb\u884c\u200b\u6392\u540d\u200b\uff0c\u200b\u9009\u53d6\u200b\u6392\u540d\u200b\u5728\u200b\u524d\u200b 500 \u200b\u540d\u200b\u7684\u200b\u80a1\u7968\u200b\u4f5c\u4e3a\u200b\u4e2d\u8bc1\u200b 500 \u200b\u6307\u6570\u200b\u6837\u672c\u200b\u3002</li> <li>\u200b\u6d41\u52a8\u6027\u200b 1500 \u200b\u80a1\u7968\u200b\u6c60\u200b\u6d41\u52a8\u6027\u200b 1500 \u200b\u6784\u9020\u200b\u7684\u200b\u5177\u4f53\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u9996\u5148\u200b\u5254\u9664\u200b ST\u3001\u200b\u6b21\u65b0\u80a1\u200b\u3001\u200b\u505c\u724c\u200b\u80a1\u200b\uff0c\u200b\u7136\u540e\u200b\u8ba1\u7b97\u200b\u6bcf\u200b\u53ea\u200b\u80a1\u7968\u200b\u7684\u200b\u4ea4\u6613\u200b\u91d1\u989d\u200b\u5386\u53f2\u200b 20 \u200b\u65e5\u200b\u5e73\u5747\u200b\uff0c\u200b\u6700\u540e\u200b\u9009\u53d6\u200b\u6392\u540d\u200b\u524d\u200b 1500 \u200b\u53ea\u200b\u80a1\u7968\u200b\u4f5c\u4e3a\u200b\u80a1\u7968\u200b\u6c60\u200b\uff0c\u200b\u547d\u540d\u200b\u4e3a\u200b\u6d41\u52a8\u6027\u200b 1500\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5f02\u5e38\u503c\u5904\u7406","title":"\u5f02\u5e38\u200b\u503c\u200b\u5904\u7406","text":"<ol> <li>\u200b\u5747\u503c\u200b\u6807\u51c6\u5dee\u200b\u4fee\u6b63\u200b\u6cd5\u200b</li> <li>Beat G. Briner \u200b\u65b9\u6cd5\u200b</li> <li>MAD \u200b\u6cd5\u200b</li> <li>\u200b\u56fa\u5b9a\u200b\u6bd4\u7387\u200b\u4fee\u6b63\u200b\u6cd5\u200b</li> <li>\u200b\u7bb1\u578b\u200b\u56fe\u6cd5\u200b</li> <li>\u200b\u504f\u5ea6\u200b\u8c03\u6574\u200b\u7684\u200b\u7bb1\u578b\u200b\u56fe\u6cd5\u200b</li> <li>Winsorize \u200b\u7f29\u5c3e\u200b\u5904\u7406\u200b</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u7f3a\u5931\u503c\u5904\u7406","title":"\u7f3a\u5931\u200b\u503c\u200b\u5904\u7406","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u5254\u9664\u6cd5","title":"\u5254\u9664\u200b\u6cd5","text":"<p>\u200b\u5c06\u200b\u5b58\u5728\u200b\u9057\u6f0f\u200b\u6570\u636e\u200b\u7684\u200b\u5143\u7d20\u200b\u8fdb\u884c\u200b\u5220\u9664\u200b\uff0c\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u5b8c\u5907\u200b\u7684\u200b\u4fe1\u606f\u200b\u8868\u200b\uff0c\u200b\u8fd9\u662f\u200b\u6700\u4e3a\u200b\u7b80\u5355\u200b\u7684\u200b\u4e00\u79cd\u200b\u5904\u7406\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u9002\u7528\u200b\u524d\u63d0\u200b\uff1a\u200b\u6709\u200b\u5927\u91cf\u200b\u7f3a\u5931\u200b\u503c\u200b\u7684\u200b\u56e0\u5b50\u200b\uff0c\u200b\u6216\u8005\u200b\u5b58\u5728\u200b\u5927\u91cf\u200b\u7f3a\u5931\u200b\u503c\u200b\u7684\u200b\u80a1\u7968\u200b\u5bf9\u8c61\u200b\uff1b\u200b\u8fd9\u200b\u7c7b\u200b\u56e0\u5b50\u200b\u6216\u200b\u80a1\u7968\u200b\u5bf9\u8c61\u200b\u76f8\u5bf9\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u800c\u8a00\u200b\u662f\u200b\u5f88\u5c0f\u200b</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u586b\u5145\u6cd5","title":"\u586b\u5145\u200b\u6cd5","text":"<p>\u200b\u901a\u8fc7\u200b\u9009\u62e9\u200b\u4e00\u4e9b\u200b\u5408\u9002\u200b\u7684\u200b\u503c\u53d6\u200b\u586b\u5145\u200b\u7a7a\u503c\u200b\uff0c\u200b\u800c\u200b\u627e\u5230\u200b\u5408\u9002\u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u5206\u7c7b\u200b\uff1a\u200b\u5e02\u573a\u200b\u5747\u503c\u200b\u586b\u5145\u200b\uff1b\u200b\u884c\u4e1a\u200b\u5747\u503c\u200b\u586b\u5145\u200b\uff1b\u200b\u5e02\u503c\u200b\u5747\u503c\u200b\u586b\u5145\u200b\uff1b\u200b\u7b97\u6cd5\u200b\u586b\u5145\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u56e0\u5b50\u6807\u51c6\u5316","title":"\u56e0\u5b50\u200b\u6807\u51c6\u5316","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u8003\u8651\u622a\u9762\u5dee\u5f02","title":"\u8003\u8651\u200b\u622a\u9762\u200b\u5dee\u5f02","text":"<ol> <li>\u200b\u9002\u7528\u200b\u524d\u63d0\u200b\uff1a\u200b\u56e0\u5b50\u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u5927\u5c0f\u200b\u5dee\u5f02\u200b\u3002</li> <li>\u200b\u9002\u7528\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u5728\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u65f6\u200b\u4e3a\u4e86\u200b\u4fdd\u5b58\u200b\u56e0\u5b50\u200b\u5927\u5c0f\u200b\u5dee\u5f02\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4e0d\u200b\u9002\u5408\u200b\u91c7\u7528\u200b\u6392\u540d\u200b\u6cd5\u200b\u6216\u200b\u6392\u540d\u200b\u6b63\u6001\u200b\u6807\u51c6\u5316\u200b\u6cd5\u200b\uff0c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b z-score \u200b\u65b9\u6cd5\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-factor-investment/#\u8003\u8651\u6392\u540d\u987a\u5e8f","title":"\u8003\u8651\u200b\u6392\u540d\u987a\u5e8f","text":"<ol> <li>\u200b\u9002\u7528\u200b\u524d\u63d0\u200b\uff1a\u200b\u6784\u5efa\u200b\u96f6\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u63a2\u7d22\u200b\u56e0\u5b50\u200b\u4e0e\u200b\u6536\u76ca\u7387\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u56e0\u5b50\u200b\u7684\u200b\u6392\u5e8f\u200b\u60c5\u51b5\u200b\u5bf9\u200b\u80a1\u7968\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\uff0c\u200b\u800c\u200b\u4e0d\u7528\u200b\u7cbe\u786e\u200b\u63a2\u7d22\u200b\u56e0\u5b50\u200b\u5bf9\u200b\u6536\u76ca\u7387\u200b\u7684\u200b\u5f71\u54cd\u200b\u7a0b\u5ea6\u200b\u3002</li> <li>\u200b\u9002\u7528\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u6392\u540d\u200b\u6cd5\u200b\uff1a\u200b\u5c06\u200b\u539f\u59cb\u200b\u56e0\u5b50\u200b\u503c\u200b\u8f6c\u6362\u6210\u200b\u6392\u5e8f\u200b\u503c\u200b\u3002\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u53ea\u200b\u5173\u6ce8\u200b\u56e0\u5b50\u200b\u7684\u200b\u6392\u5e8f\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4e0d\u200b\u5173\u6ce8\u200b\u622a\u9762\u200b\u8ddd\u79bb\u200b\u4fe1\u606f\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/chat/","title":"\u57fa\u4e8e\u200b ChatGPT \u200b\u7684\u200b\u5728\u7ebf\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba","text":"<p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u57fa\u4e8e\u200b OpenAI ChatGPT \u200b\u63a5\u53e3\u200b\u548c\u200b feffery components \u200b\u6784\u5efa\u200b\u5728\u7ebf\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b\uff0c\u200b\u5e76\u200b\u57fa\u4e8e\u200b <code>render</code> \u200b\u5b9e\u73b0\u200b\u81ea\u52a8\u5316\u200b\u6301\u7eed\u200b\u90e8\u7f72\u200b\u3002</p> <p>\u200b\u5b83\u200b\u652f\u6301\u200b\uff1a</p> <ol> <li>\u200b\u5f00\u542f\u200b\u591a\u8f6e\u200b\u5bf9\u8bdd\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u8bb0\u4f4f\u200b\u4f60\u200b\u4e4b\u524d\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</li> <li>\u200b\u5bfc\u51fa\u200b\u5f53\u524d\u200b\u5bf9\u8bdd\u200b\u8bb0\u5f55\u200b\u4e3a\u200b Markdown \u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5176\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\u3002</li> <li>\u200b\u4e00\u952e\u200b\u6e05\u7a7a\u200b\u5f53\u524d\u200b\u5bf9\u8bdd\u200b\u8bb0\u5f55\u200b\u3002</li> </ol> <p>\u200b\u4f7f\u7528\u200b\u5b83\u200b\uff01</p> <p></p>","tags":["Python"]},{"location":"blog/chat/#chatgpt-\u63a5\u53e3\u548c-dash-\u5e94\u7528\u4ecb\u7ecd","title":"ChatGPT \u200b\u63a5\u53e3\u200b\u548c\u200b Dash \u200b\u5e94\u7528\u200b\u4ecb\u7ecd","text":"<p>OpenAI \u200b\u5728\u200b 3 \u200b\u6708\u200b 2 \u200b\u65e5\u200b\u53d1\u5e03\u200b\u4e86\u200b gpt-3.5-turbo\uff0c\u200b\u8fd9\u662f\u200b GPT-3\uff08Generative Pre-trained Transformer 3\uff09\u200b\u6a21\u578b\u200b\u7684\u200b\u6700\u65b0\u200b\u7248\u672c\u200b\uff0c\u200b\u5b83\u200b\u62e5\u6709\u200b\u66f4\u5feb\u200b\u7684\u200b\u5904\u7406\u901f\u5ea6\u200b\u548c\u200b\u66f4\u200b\u4f4e\u200b\u7684\u200b\u6210\u672c\u200b\uff08100 \u200b\u4e07\u8bcd\u200b\u7684\u200b\u5bf9\u8bdd\u200b\u5927\u7ea6\u200b\u53ea\u200b\u9700\u8981\u200b 10 \u200b\u591a\u5143\u200b\u4eba\u6c11\u5e01\u200b\uff09\u3002</p> <p>\u200b\u516c\u4f17\u200b\u53f7\u200b<code>\u200b\u73a9\u8f6c\u200b Dash</code>\u200b\u7684\u200b\u8d39\u200b\u8001\u5e08\u200b\u5206\u4eab\u200b\u4e86\u200b \u200b\u57fa\u4e8e\u200b ChatGPT \u200b\u5b98\u65b9\u200b\u63a5\u53e3\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200b\u5bf9\u8bdd\u200b\u673a\u5668\u4eba\u200b \u200b\u548c\u200b \u200b\u652f\u6301\u200b\u591a\u8f6e\u200b\u5bf9\u8bdd\u200b\u3001\u200b\u8bb0\u5f55\u200b\u5bfc\u51fa\u200b\uff0c\u200b\u7eaf\u200b Python \u200b\u5f00\u53d1\u200b ChatGPT \u200b\u5bf9\u8bdd\u200b\u673a\u5668\u4eba\u200b\u5e94\u7528\u200b\uff0c\u200b\u6211\u200b\u6839\u636e\u200b\u8fd9\u4e9b\u200b\u6559\u7a0b\u200b\u642d\u5efa\u200b\u4e86\u200b\u57fa\u4e8e\u200b ChatGPT \u200b\u7684\u200b\u5728\u7ebf\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b <code>render</code> \u200b\u4e0a\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u81ea\u52a8\u5316\u200b\u6301\u7eed\u200b\u90e8\u7f72\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat/#\u672c\u5730\u6784\u5efa","title":"\u672c\u5730\u200b\u6784\u5efa","text":"","tags":["Python"]},{"location":"blog/chat/#\u6838\u5fc3\u6b65\u9aa4","title":"\u6838\u5fc3\u200b\u6b65\u9aa4","text":"<p>\u200b\u53c2\u8003\u200b \u200b\u57fa\u4e8e\u200b ChatGPT \u200b\u5b98\u65b9\u200b\u63a5\u53e3\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200b\u5bf9\u8bdd\u200b\u673a\u5668\u4eba\u200b \u200b\u548c\u200b \u200b\u652f\u6301\u200b\u591a\u8f6e\u200b\u5bf9\u8bdd\u200b\u3001\u200b\u8bb0\u5f55\u200b\u5bfc\u51fa\u200b\uff0c\u200b\u7eaf\u200b Python \u200b\u5f00\u53d1\u200b ChatGPT \u200b\u5bf9\u8bdd\u200b\u673a\u5668\u4eba\u200b\u5e94\u7528\u200b\uff0c\u200b\u6309\u7167\u200b\u5982\u4e0b\u200b\u51e0\u6b65\u200b\u5373\u53ef\u200b\u5728\u200b\u672c\u5730\u200b\u6784\u5efa\u200b Dash \u200b\u5e94\u7528\u200b\uff1a</p> <ol> <li>\u200b\u5c06\u200b\u4ee3\u7801\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u8fdb\u5165\u200b\u4ee3\u7801\u200b\u6240\u5728\u200b\u76ee\u5f55\u200b\uff0c\u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200b\u5e76\u200b\u6fc0\u6d3b\u200b\u3002</li> </ol> Bash<pre><code>conda create -n chatgpt-bot python=3.8 -y\nconda activate chatgpt-bot\n</code></pre> <ol> <li> <p>\u200b\u901a\u8fc7\u200b<code>pip install -r requirements.txt</code>\u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b</p> </li> <li> <p>\u200b\u5728\u200b<code>config.py</code>\u200b\u4e2d\u200b\u586b\u5165\u200b\u81ea\u5df1\u200b\u7684\u200b <code>openai_api_key</code>\u3002</p> </li> <li> <p>\u200b\u901a\u8fc7\u200b<code>python app.py</code>\u200b\u5728\u200b\u672c\u5730\u200b\u6784\u5efa\u200b Dash \u200b\u5e94\u7528\u200b\u3002</p> </li> </ol> <p></p>","tags":["Python"]},{"location":"blog/chat/#\u8fdb\u9636\u914d\u7f6e","title":"\u8fdb\u9636\u200b\u914d\u7f6e","text":"<p>\u200b\u5230\u200b\u6b64\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u80fd\u591f\u200b\u5728\u200b <code>http://127.0.0.1:8050</code> \u200b\u770b\u5230\u200b\u5df2\u7ecf\u200b\u6210\u529f\u200b\u6784\u5efa\u200b\u7684\u200b Dash \u200b\u5e94\u7528\u200b\u4e86\u200b\uff0c\u200b\u4f46\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9047\u5230\u200b\u4e00\u4e9b\u200b\u95ee\u9898\u200b\uff1a</p>","tags":["Python"]},{"location":"blog/chat/#\u7f51\u7edc\u95ee\u9898","title":"\u7f51\u7edc\u200b\u95ee\u9898","text":"<p>\u200b\u8bbe\u5b9a\u200b\u547d\u4ee4\u884c\u200b\u8fd0\u884c\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5982\u679c\u200b\u5e26\u6709\u200b\u53c2\u6570\u200b<code>local</code>\uff0c\u200b\u5219\u200b\u5f00\u542f\u200b<code>PROXY</code>\uff0c\u200b\u5176\u4e2d\u200b<code>10809</code>\u200b\u662f\u200b<code>PROXY</code>\u200b\u7f51\u7edc\u200b\u7684\u200b\u7aef\u53e3\u53f7\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u627e\u5230\u200b\u81ea\u5df1\u200b\u7684\u200b<code>PROXY</code>\u200b\u7f51\u7edc\u200b\u7684\u200b\u7aef\u53e3\u53f7\u200b\u586b\u200b\u8fdb\u53bb\u200b\u3002</p> Python<pre><code>import sys\nif len(sys.argv) &gt; 1 and sys.argv[1] == \"local\":\nimport os\nos.environ[\"HTTP_PROXY\"] = \"http://127.0.0.1:10809\"\nos.environ[\"HTTPS_PROXY\"] = \"http://127.0.0.1:10809\"\n</code></pre> <p>\u200b\u5728\u200b\u672c\u5730\u200b\u6784\u5efa\u200b\u65f6\u200b\uff0c\u200b\u7528\u200b<code>python app.py local</code>\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u82e5\u200b\u53ea\u200b\u5728\u200b\u672c\u5730\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b PROXY</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u53ea\u200b\u5728\u200b\u672c\u5730\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u52a0\u5165\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u628a\u200b <code>if len(sys.argv) &gt; 1 and sys.argv[1] == \"local\":</code> \u200b\u5220\u53bb\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b PROXY\u3002</p> <p>\u200b\u6211\u200b\u8fd9\u91cc\u200b\u52a0\u5165\u200b\u4e86\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u6211\u200b\u6700\u7ec8\u200b\u9700\u8981\u200b\u90e8\u7f72\u200b\u5230\u200b render \u200b\u4e0a\u200b\uff0crender \u200b\u662f\u200b\u4e0d\u7528\u200b\u5f00\u542f\u200b PROXY \u200b\u5c31\u200b\u80fd\u200b\u4f7f\u7528\u200b OpenAI \u200b\u7684\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u200b\u5728\u200b\u672c\u5730\u200b\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u7528\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u7f51\u7edc\u200b\u7aef\u53e3\u200b\u3002\u200b\u800c\u200b\u5728\u200b render \u200b\u4e0a\u200b\u6301\u7eed\u200b\u90e8\u7f72\u200b\u65f6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u5f00\u542f\u200b\u6307\u5b9a\u200b\u7684\u200b\u7f51\u7edc\u200b\u7aef\u53e3\u200b\u7684\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat/#\u5c06openai_api_key\u5b58\u653e\u4e3a\u73af\u5883\u53d8\u91cf","title":"\u5c06\u200b<code>openai_api_key</code>\u200b\u5b58\u653e\u200b\u4e3a\u200b\u73af\u5883\u53d8\u91cf","text":"<p><code>openai_api_key</code>\u200b\u662f\u200b\u79c1\u4eba\u200b\u7684\u200b\u5bc6\u94a5\u200b\uff0c\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u66b4\u9732\u200b\u5728\u200b\u516c\u5171\u200b\u73af\u5883\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5c06\u200b\u4ee3\u7801\u200b\u4e0a\u200b\u4f20\u5230\u200b GitHub \u200b\u7b49\u200b\u5e73\u53f0\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u5c06\u200b<code>openai_api_key</code>\u200b\u9690\u85cf\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u5e94\u7528\u200b\u7684\u200b\u8fd0\u884c\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\u547d\u4ee4\u884c\u200b\u662f\u5426\u200b\u4ee5\u200b\u7ba1\u7406\u5458\u200b\u8eab\u4efd\u200b\u6253\u5f00\u200b\uff1a</p> <ol> <li>\u200b\u82e5\u200b\u4e0d\u662f\u200b\u7ba1\u7406\u5458\u200b\u8eab\u4efd\u200b\uff0c\u200b\u5219\u200b\u5e94\u8be5\u200b\u5c06\u200b<code>openai_api_key</code>\u200b\u6dfb\u52a0\u200b\u5230\u200b\u7528\u6237\u200b\u53d8\u91cf\u200b\u3002</li> <li>\u200b\u82e5\u200b\u662f\u200b\u7ba1\u7406\u5458\u200b\u8eab\u4efd\u200b\uff0c\u200b\u5219\u200b\u5e94\u8be5\u200b\u5c06\u200b<code>openai_api_key</code>\u200b\u6dfb\u52a0\u200b\u5230\u200b\u7cfb\u7edf\u200b\u53d8\u91cf\u200b\u3002</li> </ol> <p></p> <p>\u200b\u5728\u200b<code>config.py</code>\u200b\u8bfb\u5165\u200b\u73af\u5883\u53d8\u91cf\u200b\uff1a</p> Python<pre><code>import os\nclass Config:\n# \u200b\u8bf7\u200b\u586b\u5165\u200b\u4f60\u200b\u7684\u200b openai API key\nopenai_api_key = os.getenv(\"OPENAI_API_KEY\")\n</code></pre>","tags":["Python"]},{"location":"blog/chat/#\u57fa\u4e8e-render-\u5b9e\u73b0\u81ea\u52a8\u5316\u6301\u7eed\u90e8\u7f72","title":"\u57fa\u4e8e\u200b render \u200b\u5b9e\u73b0\u200b\u81ea\u52a8\u5316\u200b\u6301\u7eed\u200b\u90e8\u7f72","text":"<p>\u200b\u5c06\u200b\u4ee3\u7801\u200b\u4e0a\u200b\u4f20\u5230\u200b GitHub \u200b\u540e\u200b\uff0c\u200b\u5728\u200b <code>render</code>  \u200b\u4e0a\u200b\u914d\u7f6e\u200b\uff1a</p> <p></p> <ol> <li> <p>\u200b\u670d\u52a1\u5668\u200b\u533a\u57df\u200b\uff0c\u200b\u5efa\u8bae\u200b\u9009\u200b\u65b0\u52a0\u5761\u200b\uff0c\u200b\u79bb\u200b\u4e2d\u56fd\u200b\u6700\u8fd1\u200b\uff0c\u200b\u8bbf\u95ee\u901f\u5ea6\u200b\u53ef\u80fd\u200b\u6bd4\u8f83\u200b\u597d\u200b\u3002</p> </li> <li> <p>Build Command</p> </li> </ol> <p><code>\"Build Command\"    pip install -r requirements.txt</code></p> <p>\u200b\u6ce8\u610f\u200b\uff1a<code>requirements.txt</code> \u200b\u4e2d\u200b\u9700\u8981\u200b\u5305\u542b\u200b <code>gunicorn</code>\uff0c\u200b\u5426\u5219\u200b\u65e0\u6cd5\u200b\u8fd0\u884c\u200b<code>gunicorn</code>\u3002</p> <ol> <li>Start Command</li> </ol> <p><code>\"Start Command\"    gunicorn chat_app:server</code></p> <p>\u200b\u6ce8\u610f\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u628a\u200b <code>app.py</code> \u200b\u5148\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b <code>chat_app.py</code>\uff08\u200b\u4f60\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u547d\u540d\u200b\u4e3a\u200b\u5176\u4ed6\u200b\u540d\u5b57\u200b\uff0c\u200b\u53ea\u8981\u200b\u4e0d\u662f\u200b<code>app.py</code>\u200b\u5373\u53ef\u200b\uff09\uff0c\u200b\u5426\u5219\u200b <code>gunicorn app:server</code> \u200b\u4f1a\u200b\u51fa\u73b0\u200b\u547d\u540d\u200b\u51b2\u7a81\u200b\u5bfc\u81f4\u200b\u90e8\u7f72\u200b\u5931\u8d25\u200b\u3002\u200b\u53c2\u8003\u200b\uff1ahttps://community.render.com/t/what-is-the-correct-start-command-for-a-python-dash-app/5740</p> <ol> <li>\u200b\u5982\u679c\u200b<code>OPENAI_API_KEY</code>\u200b\u662f\u200b\u73af\u5883\u53d8\u91cf\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u653e\u200b\uff0c\u200b\u5219\u200b\u8fd8\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b Environment\u3002</li> </ol> <p></p> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u80fd\u591f\u200b\u5b9e\u73b0\u200b\u81ea\u52a8\u5316\u200b\u6301\u7eed\u200b\u90e8\u7f72\u200b\u4e86\u200b\uff0c\u200b\u5f53\u200b GitHub \u200b\u4ee3\u7801\u200b\u4ed3\u5e93\u200b\u6709\u200b\u66f4\u65b0\u200b\u65f6\u200b\uff0cDash \u200b\u5e94\u7528\u200b\u4e5f\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u90e8\u7f72\u200b\u66f4\u65b0\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat/#\u5176\u4ed6\u90e8\u7f72\u65b9\u6cd5\u5728\u81ea\u5efa\u670d\u52a1\u5668\u4f7f\u7528-nginx-\u5b9e\u73b0\u7aef\u53e3\u8f6c\u53d1","title":"\u5176\u4ed6\u200b\u90e8\u7f72\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u5728\u200b\u81ea\u5efa\u200b\u670d\u52a1\u5668\u200b\u4f7f\u7528\u200b Nginx \u200b\u5b9e\u73b0\u200b\u7aef\u53e3\u200b\u8f6c\u53d1","text":"<p>\u200b\u6211\u200b\u5728\u200b\u81ea\u5efa\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u5c1d\u8bd5\u200b\u90e8\u7f72\u200b Dash \u200b\u5e94\u7528\u200b\uff0c\u200b\u4f46\u200b\u9047\u5230\u200b\u4e86\u200b\u8bb8\u591a\u200b\u9ebb\u70e6\u200b\u7684\u200b\u4e8b\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p>","tags":["Python"]},{"location":"blog/chat/#\u7aef\u53e3\u8f6c\u53d1\u5df2\u5b9e\u73b0","title":"\u7aef\u53e3\u200b\u8f6c\u53d1\u200b\uff1a\u200b\u5df2\u200b\u5b9e\u73b0","text":"<p>\u200b\u53c2\u8003\u200b\uff1aWindows 10 nginx \u200b\u5b89\u88dd\u53ca\u200b\u95ee\u9898\u200b\u89e3\u51b3\u200b \u200b\u8bbe\u7f6e\u200b 80 \u200b\u7aef\u53e3\u200b\u4ee3\u7406\u200b</p> <p>\u200b\u914d\u7f6e\u200b host \u200b\u540e\u200b\u9ed8\u8ba4\u200b\u8bf7\u6c42\u200b\u5230\u200b 80 \u200b\u7aef\u53e3\u200b\uff0c\u200b\u800c\u200b 80 \u200b\u7aef\u53e3\u200b\u4e00\u822c\u200b\u88ab\u200b\u5404\u79cd\u200b\u7cfb\u7edf\u200b\u670d\u52a1\u200b\u5360\u7528\u200b\u3002Dash \u200b\u7684\u200b\u9ed8\u8ba4\u200b\u670d\u52a1\u200b\u7aef\u53e3\u200b\u4e3a\u200b 8050\uff0c\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b Nginx \u200b\u505a\u200b\u7aef\u53e3\u200b\u8f6c\u53d1\u200b\uff0c\u200b\u65b9\u6cd5\u200b\u5982\u4e0b\u200b\u3002</p> <p>\u200b\u5220\u9664\u200b nginx.conf \u200b\u4e2d\u200b server \u200b\u90e8\u5206\u200b\u914d\u7f6e\u200b\uff0c\u200b\u66ff\u6362\u6210\u200b\u4e0b\u9762\u200b\u914d\u7f6e\u200b\uff1a</p> Text Only<pre><code>server {\n    listen 80;\n    location / {\n        proxy_pass http://127.0.0.1:8050; # \u200b\u5e94\u7528\u670d\u52a1\u5668\u200b HTTP \u200b\u5730\u5740\u200b\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n</code></pre>","tags":["Python"]},{"location":"blog/chat/#\u914d\u7f6e-ssl-\u8bc1\u4e66\u5b9e\u73b0-https-\u52a0\u5bc6\u8bbf\u95ee\u672a\u5b9e\u73b0","title":"\u914d\u7f6e\u200b SSL \u200b\u8bc1\u4e66\u200b\u5b9e\u73b0\u200b HTTPS \u200b\u52a0\u5bc6\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u672a\u200b\u5b9e\u73b0","text":"<p>\u200b\u4ece\u200b\u57df\u540d\u200b\u670d\u52a1\u5546\u200b\u4e0b\u8f7d\u200b SSL \u200b\u8bc1\u4e66\u200b\u540e\u200b\u9700\u8981\u200b\u5728\u200b Nginx \u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\uff0c\u200b\u6211\u200b\u6700\u7ec8\u200b\u6ca1\u200b\u80fd\u200b\u8fbe\u5230\u200b\u52a0\u5bc6\u200b\u8bbf\u95ee\u200b\u7684\u200b\u6548\u679c\u200b\uff0c\u200b\u9042\u200b\u653e\u5f03\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1a\u200b\u817e\u8baf\u200b\u4e91\u200b\uff1aNginx \u200b\u670d\u52a1\u5668\u200b SSL \u200b\u8bc1\u4e66\u200b\u5b89\u88c5\u200b\u90e8\u7f72\u200b</p> <p>\u200b\u5fc3\u5f97\u200b</p> <p>\u200b\u6bd5\u7adf\u200b\u4e0d\u662f\u200b\u79d1\u73ed\u51fa\u8eab\u200b\uff0c\u200b\u6211\u200b\u6ca1\u6709\u200b\u7cfb\u7edf\u5730\u200b\u5b66\u4e60\u200b\u8fc7\u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b\u7b49\u200b\u77e5\u8bc6\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u9047\u5230\u200b\u95ee\u9898\u200b\u90fd\u200b\u662f\u200b\u81ea\u5df1\u200b\u641c\u96c6\u200b\u7b54\u6848\u200b\u89e3\u51b3\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u95ee\u9898\u200b\u6216\u8bb8\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u6709\u200b\u7ecf\u9a8c\u200b\u7684\u200b\u4eba\u200b\u6765\u8bf4\u200b\u975e\u5e38\u7b80\u5355\u200b\uff0c\u200b\u4f46\u200b\u6ca1\u6709\u200b\u7ecf\u9a8c\u200b\u7684\u8bdd\u200b\u9700\u8981\u200b\u8e29\u200b\u5f88\u591a\u200b\u5751\u200b\u3002</p> <p>\u200b\u975e\u5e38\u200b\u9057\u61be\u200b\u6211\u200b\u76ee\u524d\u200b\u65f6\u95f4\u200b\u6709\u9650\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6709\u200b\u5176\u4ed6\u200b\u66f4\u200b\u91cd\u8981\u200b\u7684\u200b\u4e8b\u60c5\u200b\u8981\u200b\u505a\u200b\uff0c\u200b\u4e0d\u592a\u200b\u5e0c\u671b\u200b\u82b1\u592a\u591a\u200b\u65f6\u95f4\u200b\u6298\u817e\u200b\u8fd9\u4e9b\u200b\u6280\u672f\u200b\u3002\u200b\u5e0c\u671b\u200b\u4eca\u540e\u200b\u6709\u200b\u81ea\u7531\u200b\u7684\u200b\u65f6\u95f4\u200b\u4e86\u200b\uff0c\u200b\u518d\u200b\u7cfb\u7edf\u200b\u3001\u200b\u5e7f\u6cdb\u200b\u5730\u200b\u5b66\u4e60\u200b\u5404\u79cd\u200b\u6280\u672f\u200b\u5427\u200b\u3002</p> <p>\u200b\u81ea\u200b\u5efa\u200b\u670d\u52a1\u5668\u200b\u8fd8\u6709\u200b\u5f88\u591a\u200b\u7f3a\u70b9\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <ol> <li>\u200b\u4e0d\u6613\u200b\u7ef4\u62a4\u200b\u3002\u200b\u8bc1\u4e66\u200b\u3001\u200b\u7f51\u7edc\u200b\u3001\u200b\u6027\u80fd\u200b\u90fd\u200b\u662f\u200b\u9700\u8981\u200b\u81ea\u5df1\u200b\u7ba1\u7406\u200b\u5e76\u200b\u7ef4\u62a4\u200b\u7684\u200b\uff0c\u200b\u4e0d\u662f\u200b\u5f88\u200b\u8ba9\u200b\u4eba\u200b\u7701\u5fc3\u200b\u3002</li> <li>\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6210\u672c\u200b\u3002\u200b\u6bcf\u5e74\u200b\u9700\u8981\u200b\u82b1\u200b\u51e0\u767e\u5143\u200b\u8d2d\u4e70\u200b\u670d\u52a1\u5668\u200b\u3002</li> <li>\u200b\u9700\u8981\u200b\u5f88\u591a\u200b\u8fdb\u9636\u200b\u7684\u200b\u914d\u7f6e\u200b\u3002\u200b\u8981\u200b\u60f3\u200b\u5b9e\u73b0\u200b HTTPS\u3001\u200b\u81ea\u52a8\u5316\u200b\u6301\u7eed\u200b\u90e8\u7f72\u200b\u7b49\u200b\u5b9e\u7528\u529f\u80fd\u200b\uff0c\u200b\u9700\u8981\u200b\u5b66\u4e60\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6280\u672f\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u4e0d\u662f\u200b\u4e13\u4e1a\u200b\u7684\u200b\u8fd0\u7ef4\u200b\u4eba\u5458\u200b\uff0c\u200b\u9700\u8981\u200b\u5728\u200b\u8fd9\u4e9b\u200b\u65b9\u9762\u200b\u82b1\u8d39\u200b\u5927\u91cf\u200b\u65f6\u95f4\u200b\u3002</li> </ol> <p>\u200b\u6240\u4ee5\u200b\u6211\u200b\u8fd8\u662f\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u4e13\u4e1a\u200b\u7684\u200b\u90e8\u7f72\u200b\u5e73\u53f0\u200b\uff08\u200b\u5982\u200b render\u3001vercel\u3001heroku \u200b\u7b49\u200b\uff09\uff0c\u200b\u514d\u8d39\u200b\u7248\u672c\u200b\u7684\u200b\u529f\u80fd\u200b\u548c\u200b\u989d\u5ea6\u200b\u5df2\u7ecf\u200b\u8db3\u591f\u200b\u7528\u200b\u4e86\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5b9e\u5728\u200b\u662f\u200b\u8ba9\u200b\u4eba\u200b\u7701\u5fc3\u200b\u4e0d\u5c11\u200b\u3002\u200b\u6216\u8005\u200b\u4f7f\u7528\u200b GitHub Actions \u200b\u5b9e\u73b0\u200b\u6301\u7eed\u200b\u96c6\u6210\u200b\u3001\u200b\u6301\u7eed\u200b\u90e8\u7f72\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u8bbf\u95ee\u901f\u5ea6\u200b\u53ef\u80fd\u200b\u7a0d\u6162\u200b\u3002</p> <p>\u200b\u771f\u5fc3\u200b\u611f\u6069\u200b\u8fd9\u4e9b\u200b\u4e3a\u200b\u6240\u6709\u4eba\u200b\u63d0\u4f9b\u200b\u4f18\u8d28\u670d\u52a1\u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\u4eec\u200b\u3002</p>","tags":["Python"]},{"location":"blog/high-frequency-factors/","title":"\u57fa\u4e8e\u200b\u9010\u7b14\u200b\u59d4\u6258\u200b\u548c\u200b\u9010\u7b14\u200b\u6210\u4ea4\u200b\u6570\u636e\u200b\u6784\u9020\u200b\u9ad8\u9891\u200b\u56e0\u5b50","text":"<p>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b\u7684\u200b\u7b2c\u4e00\u6b21\u200b\u4f5c\u4e1a\u200b\u662f\u200b\u57fa\u4e8e\u200b\u9010\u7b14\u200b\u6570\u636e\u200b\u6784\u9020\u200b 39 \u200b\u4e2a\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b\u3002\u200b\u6211\u200b\u5bf9\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b\u7684\u200b\u6784\u9020\u200b\u7ecf\u9a8c\u200b\u6bd4\u8f83\u200b\u5c11\u200b\uff0c\u200b\u5b8c\u6210\u200b\u8fd9\u4e2a\u200b\u4f5c\u4e1a\u200b\u540e\u200b\u7684\u200b\u4e00\u4e9b\u200b\u7ecf\u9a8c\u200b\uff1a</p> <ol> <li>\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b\u7684\u200b\u6570\u636e\u683c\u5f0f\u200b\u662f\u200b\u6bd4\u8f83\u200b\u6807\u51c6\u5316\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u4e5f\u200b\u8981\u200b\u6ce8\u610f\u200b\u7ec6\u8282\u200b\uff1a\u200b\u4f8b\u5982\u200b\u7a7a\u7f3a\u200b\u65f6\u95f4\u200b\u7684\u200b\u586b\u8865\u200b\u7b49\u200b\u3002</li> <li>\u200b\u6784\u9020\u200b\u56e0\u5b50\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u6570\u636e\u5904\u7406\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u5e38\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6709\u200b\uff1a<code>groupby</code>\u3001<code>resample</code>\u3001<code>to_datetime</code>\u3001<code>reindex</code>\u3001<code>rolling</code>\u3001<code>apply</code>\u200b\u7b49\u200b\u3002\u200b\u5982\u679c\u200b\u662f\u200b\u975e\u5e38\u200b\u5927\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u5e94\u5f53\u200b\u7528\u200b <code>numpy</code> \u200b\u7b49\u200b\u66f4\u200b\u5feb\u901f\u200b\u7684\u200b\u79d1\u5b66\u8ba1\u7b97\u200b\u5305\u200b\uff0c\u200b\u6216\u8005\u200b\u7528\u200b<code>C++</code>\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/high-frequency-factors/#39-\u4e2a\u56e0\u5b50\u8868\u8fbe\u5f0f","title":"39 \u200b\u4e2a\u200b\u56e0\u5b50\u200b\u8868\u8fbe\u5f0f","text":"<p>\u200b\u7528\u200b\u63d0\u4f9b\u200b\u7684\u200b\u67d0\u652f\u200b\u8bc1\u5238\u200b\u4e3a\u671f\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u4e00\u5468\u200b\u7684\u200b\u9ad8\u9891\u200b\u6570\u636e\u200b\u590d\u5236\u200b Table A2 \u200b\u4e2d\u200b 39 \u200b\u79cd\u200b\u6307\u6807\u200b\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/high-frequency-factors/#\u4ee3\u7801\u89c4\u8303\u8981\u6c42","title":"\u4ee3\u7801\u200b\u89c4\u8303\u200b\u8981\u6c42","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/high-frequency-factors/#\u56e0\u5b50\u8ba1\u7b97\u7ed3\u679c","title":"\u56e0\u5b50\u200b\u8ba1\u7b97\u7ed3\u679c","text":"<p>\u200b\u6bcf\u5929\u200b\u7684\u200b\u6570\u636e\u200b\u8303\u56f4\u200b\uff1a<code>9:30-11:30</code> \u200b\u548c\u200b <code>13:00-15:00</code>\uff0c\u200b\u91c7\u6837\u200b\u65f6\u70b9\u200b\u5747\u200b\u4e3a\u200b\u5de6\u5f00\u200b\u53f3\u95ed\u200b\uff0c\u200b\u5373\u200b\uff1a</p> <ul> <li>\u200b\u4e0a\u5348\u200b\u4ece\u200b 9:31 \u200b\u5f00\u59cb\u200b\u6709\u200b\u7b2c\u4e00\u7b14\u200b\u6570\u636e\u200b\uff0c11:30 \u200b\u4e3a\u200b\u4e0a\u5348\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u7b14\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u4e0b\u5348\u200b\u4ece\u200b 13:01 \u200b\u5f00\u59cb\u200b\u6709\u200b\u7b2c\u4e00\u7b14\u200b\u6570\u636e\u200b\uff0c15:00 \u200b\u4e3a\u200b\u4e0b\u5348\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u7b14\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u6bcf\u5929\u200b\u6709\u200b 240 \u200b\u5206\u949f\u200b\uff0c\u200b\u4e00\u5171\u200b 5 \u200b\u5929\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e00\u5171\u200b 1200 \u200b\u884c\u200b\u6570\u636e\u200b\u3002</li> </ul> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/high-frequency-factors/#\u8ba1\u7b97\u56e0\u5b50\u7684\u4ee3\u7801","title":"\u8ba1\u7b97\u200b\u56e0\u5b50\u200b\u7684\u200b\u4ee3\u7801","text":"<p>\u200b\u81ea\u52a8\u66f4\u65b0\u200b\u7c7b\u200b\u548c\u200b\u51fd\u6570\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u66f4\u65b0\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u8c03\u8bd5\u200b</p> Text Only<pre><code>%load_ext autoreload\n%autoreload 2\n</code></pre> <p>\u200b\u5bfc\u5165\u200b\u7c7b\u200b\u548c\u200b\u51fd\u6570\u200b</p> Python<pre><code>from functions import *\n</code></pre> <p>\u200b\u521b\u5efa\u200b\u56e0\u5b50\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u5b9e\u4f8b\u200b factor_calculator</p> Python<pre><code>factor_calculator = FactorCalculator(\norder_path=\"./data/order_stkhf202101_000001sz.csv\",\ntrade_path=\"./data/trade_stkhf202101_000001sz.csv\",\nfactors_index_second_path=\"./factors/factors_index_second.csv\",\n)\n</code></pre> <p>\u200b\u8ba1\u7b97\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\uff0c\u200b\u5e76\u200b\u5206\u522b\u200b\u5bfc\u51fa\u200b\u4e3a\u200b csv \u200b\u6587\u4ef6\u200b</p> Python<pre><code># \u200b\u521d\u59cb\u5316\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\nfactors_second = None\n# \u200b\u9010\u4e2a\u200b\u8ba1\u7b97\u200b\u56e0\u5b50\u200b\uff0c\u200b\u5e76\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\uff0c\u200b\u540c\u65f6\u200b\u5c06\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\u5408\u5e76\u200b\u5230\u200b factors_second \u200b\u8fd9\u4e2a\u200b DataFrame \u200b\u4e2d\u200b\nfor i in tqdm(range(1, 39 + 1)):\nAi = eval(\"factor_calculator.calculate_A\" + str(i))()\n# \u200b\u4fdd\u5b58\u200b\u5355\u4e2a\u200b\u56e0\u5b50\u200b\u5230\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nAi.to_csv(\"./factors/A\" + str(i) + \".csv\", index=False)\n# \u200b\u5c06\u200b\u5355\u4e2a\u200b\u56e0\u5b50\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\u4e2d\u200b\nif factors_second is None:\nfactors_second = Ai\nelse:\nfactors_second[\"A\" + str(i)] = Ai[\"A\" + str(i)]\n</code></pre> Text Only<pre><code>100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 39/39 [00:12&lt;00:00,  3.05it/s]\n</code></pre> <p>\u200b\u5c06\u200b\u6240\u6709\u200b\u79d2\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\u5bfc\u51fa\u200b\u4e3a\u200b\u4e00\u4e2a\u200b csv \u200b\u6587\u4ef6\u200b</p> Python<pre><code># \u200b\u5c06\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\u7684\u200b index \u200b\u8f6c\u6362\u200b\u4e3a\u200b datetime \u200b\u7c7b\u578b\u200b\nfactors_second.index = pd.to_datetime(\nfactors_second[\"info_date_ymd\"].astype(str)\n+ \" \"\n+ factors_second[\"info_time_hms\"].astype(str),\nformat=\"%Y%m%d %H%M%S\",\n)\n# \u200b\u4fdd\u7559\u200b 9:30-11:30, 13:00-15:00 \u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5373\u200b\u5220\u9664\u200b 9:15-9:25 \u200b\u7684\u200b\u6570\u636e\u200b\nidx1 = factors_second.index.indexer_between_time(\"9:30\", \"11:30\")\nidx2 = factors_second.index.indexer_between_time(\"13:00\", \"15:00\")\nfactors_second = factors_second.iloc[np.union1d(idx1, idx2)]\n# \u200b\u91cd\u7f6e\u200b\u7d22\u5f15\u200b\nfactors_second = factors_second.reset_index(drop=True)\n# \u200b\u5c06\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nfactors_second.to_csv(\"./factors/all_factors_second.csv\", index=False)\n</code></pre> <p>\u200b\u5c06\u200b\u79d2\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\u91cd\u200b\u91c7\u6837\u200b\u4e3a\u200b\u5206\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b</p> Python<pre><code># \u200b\u5c06\u200b\u79d2\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\u7684\u200b index \u200b\u8f6c\u6362\u200b\u4e3a\u200b datetime \u200b\u7c7b\u578b\u200b\nfactors_second.index = pd.to_datetime(\nfactors_second[\"info_date_ymd\"].astype(str)\n+ \" \"\n+ factors_second[\"info_time_hms\"].astype(str),\nformat=\"%Y%m%d %H%M%S\",\n)\n# \u200b\u5c06\u200b\u79d2\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5206\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\nfactors_minute = factors_second.resample(\"1Min\", label=\"right\", closed=\"right\").last()\n# \u200b\u4fdd\u7559\u200b 9:31-11:30, 13:01-15:00 \u200b\u7684\u200b\u6570\u636e\u200b\nidx1 = factors_minute.index.indexer_between_time(\"9:31\", \"11:30\")\nidx2 = factors_minute.index.indexer_between_time(\"13:01\", \"15:00\")\nfactors_minute = factors_minute.iloc[np.union1d(idx1, idx2)]\n# \u200b\u5bfc\u51fa\u200b\u5206\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\nfactors_minute.to_csv(\"./factors/all_factors_minute.csv\", index=False)\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/high-frequency-factors/#\u6784\u9020\u56e0\u5b50\u7684\u51fd\u6570","title":"\u6784\u9020\u200b\u56e0\u5b50\u200b\u7684\u200b\u51fd\u6570","text":"<p>\u200b\u7531\u4e8e\u200b\u4ee3\u7801\u200b\u592a\u200b\u957f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u53ea\u653e\u200b\u4e86\u200b\u524d\u200b 5 \u200b\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u89c1\u200b GitHub\u3002</p> Python<pre><code>\"\"\"\nAuthor: Chao Feng\nDate: 2023-03-14\nDescription: Functions for calculating high frequency factors\nRequirements:\npandas\nnumpy\nos\ntqdm\n\"\"\"\nimport pandas as pd\nimport numpy as np\nimport os\nfrom tqdm import tqdm\nclass FactorCalculator:\ndef __init__(\nself,\norder_path: str,\ntrade_path: str,\nfactors_index_second_path: str,\n) -&gt; None:\n\"\"\"\n        Parameters\n        ----------\n        order_path : str\n            Path of order data\n        trade_path : str\n            Path of trade data\n        factors_index_second_path : str\n            Path of factors index with second frequency\n        \"\"\"\nself.order_path = order_path\nself.trade_path = trade_path\nself.factors_index_second_path = factors_index_second_path\n# \u200b\u8bfb\u53d6\u200b order \u200b\u6570\u636e\u200b\nself.order = pd.read_csv(\nself.order_path,\ndtype={\n\"Exchflg\": \"int\",\n\"Code\": \"string\",\n\"Code_Mkt\": \"string\",\n\"Qdate\": \"string\",\n\"Qtime\": \"string\",\n\"SetNo\": \"int\",\n\"OrderRecNo\": \"int\",\n\"OrderPr\": \"float\",\n\"OrderVol\": \"float\",\n\"OrderKind\": \"string\",\n\"FunctionCode\": \"string\",\n},\n)\n# \u200b\u8bfb\u53d6\u200b trade \u200b\u6570\u636e\u200b\nself.trade = pd.read_csv(\n\"./data/trade_stkhf202101_000001sz.csv\",\ndtype={\n\"Exchflg\": \"int\",\n\"Code\": \"string\",\n\"Code_Mkt\": \"string\",\n\"Qdate\": \"string\",\n\"Qtime\": \"string\",\n\"SetNo\": \"int\",\n\"RecNo\": \"int\",\n\"BuyOrderRecNo\": \"int\",\n\"SellOrderRecNo\": \"int\",\n\"Tprice\": \"float\",\n\"Tvolume\": \"float\",\n\"Tsum\": \"float\",\n\"Tvolume_accu\": \"float\",\n\"OrderKind\": \"string\",\n\"FunctionCode\": \"string\",\n\"Trdirec\": \"string\",\n},\n)\n# \u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u6240\u6709\u200b\u56e0\u5b50\u200b\u7684\u200b\u6570\u636e\u6587\u4ef6\u200b\uff0c\u200b\u5219\u200b\u8bfb\u53d6\u200b\u56e0\u5b50\u200b\u6570\u636e\u200b\nif os.path.exists(self.factors_index_second_path):\nself.factors_index_second = pd.read_csv(self.factors_index_second_path)\nself.factors_index_second = self.factors_index_second.set_index(\n[\"Code_Mkt\", \"Qdate\", \"Qtime\"]\n)\nelse:\nraise FileNotFoundError(\"Please provide the path of factors index.\")\ndef format_factor(self, data: pd.DataFrame) -&gt; pd.DataFrame:\n\"\"\"\n        Format columns\n        Parameters\n        ----------\n        data : pd.DataFrame\n            Data\n        Returns\n        -------\n        pd.DataFrame\n            Data with formatted columns\n        \"\"\"\n# Reset index\ndata = data.reset_index()\n# Rename columns\ndata.rename(\ncolumns={\n\"Code_Mkt\": \"ticker_str\",\n\"Qdate\": \"info_date_ymd\",\n\"Qtime\": \"info_time_hms\",\n},\ninplace=True,\n)\n# Change data type\ndata[\"ticker_str\"] = data[\"ticker_str\"].apply(lambda x: x.split(\".\")[0])\ndata[\"info_date_ymd\"] = data[\"info_date_ymd\"].apply(\nlambda x: int(x.replace(\"-\", \"\"))\n)\ndata[\"info_time_hms\"] = data[\"info_time_hms\"].apply(\nlambda x: int(x.replace(\":\", \"\"))\n)\nreturn data\ndef calculate_A1(self, data: pd.DataFrame = None) -&gt; pd.DataFrame:\n\"\"\"\n        Number of orders arriving in the last 60 s\n        Parameters\n        ----------\n        data : pd.DataFrame\n            Order data\n        Returns\n        -------\n        pd.DataFrame\n            Number of orders arriving in the last 60 s\n        \"\"\"\n# \u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b self.order\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b data\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b data \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\nif data is None:\ndata = self.order\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u3001\u200b\u65e5\u671f\u200b\u548c\u200b\u79d2\u949f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u79d2\u200b\u7684\u200b order \u200b\u6570\u91cf\u200b\nfactor = data.groupby([\"Code_Mkt\", \"Qdate\", \"Qtime\"])[\"OrderRecNo\"].count()\n# \u200b\u5bf9\u6bd4\u200b factor_index\uff0c\u200b\u586b\u8865\u200b\u7f3a\u5931\u200b\u503c\u4e3a\u200b 0\nfactor = factor.reindex(self.factors_index_second.index, fill_value=0)\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u548c\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e00\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u8fc7\u53bb\u200b 60 \u200b\u79d2\u200b\u7684\u200b order \u200b\u6570\u91cf\u200b\u4e4b\u200b\u548c\u200b\nfactor = (\nfactor.groupby(by=[\"Code_Mkt\", \"Qdate\"])\n.rolling(60, closed=\"left\")\n.sum()\n.droplevel(level=[0, 1])\n)\n# \u200b\u6574\u7406\u200b\u683c\u5f0f\u200b\nfactor = self.format_factor(factor)\nfactor.rename(\ncolumns={\n\"OrderRecNo\": \"A1\",\n},\ninplace=True,\n)\nfactor[\"A1\"] = factor[\"A1\"].astype(float)\nreturn factor\ndef calculate_A2(self, data: pd.DataFrame = None) -&gt; pd.DataFrame:\n\"\"\"\n        Total number of arrived orders up to that time\n        Parameters\n        ----------\n        data : pd.DataFrame\n            Order data\n        Returns\n        -------\n        pd.DataFrame\n            Total number of arrived orders up to that time\n        \"\"\"\n# \u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b self.order\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b data\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b data \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\nif data is None:\ndata = self.order\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u3001\u200b\u65e5\u671f\u200b\u548c\u200b\u79d2\u949f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u79d2\u200b\u7684\u200b order \u200b\u6570\u91cf\u200b\nfactor = data.groupby([\"Code_Mkt\", \"Qdate\", \"Qtime\"])[\"OrderRecNo\"].count()\n# \u200b\u5bf9\u6bd4\u200b factor_index\uff0c\u200b\u586b\u8865\u200b\u7f3a\u5931\u200b\u503c\u4e3a\u200b 0\nfactor = factor.reindex(self.factors_index_second.index, fill_value=0)\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u548c\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e00\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5f53\u524d\u200b\u7d2f\u79ef\u200b\u7684\u200b order \u200b\u6570\u91cf\u200b\u4e4b\u200b\u548c\u200b\nfactor = factor.groupby(by=[\"Code_Mkt\", \"Qdate\"]).cumsum().shift(1)\n# \u200b\u6574\u7406\u200b\u683c\u5f0f\u200b\nfactor = self.format_factor(factor)\nfactor.rename(\ncolumns={\n\"OrderRecNo\": \"A2\",\n},\ninplace=True,\n)\nfactor[\"A2\"] = factor[\"A2\"].astype(float)\nreturn factor\ndef calculate_A3(self, data: pd.DataFrame = None) -&gt; pd.DataFrame:\n\"\"\"\n        Quantity of arrived orders in the last 60 s\n        Parameters\n        ----------\n        data : pd.DataFrame\n            Order data\n        Returns\n        -------\n        pd.DataFrame\n            Quantity of arrived orders in the last 60 s\n        \"\"\"\n# \u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b self.order\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b data\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b data \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\nif data is None:\ndata = self.order\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u3001\u200b\u65e5\u671f\u200b\u548c\u200b\u79d2\u949f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u79d2\u200b\u7684\u200b OrderVol \u200b\u4e4b\u200b\u548c\u200b\nfactor = data.groupby([\"Code_Mkt\", \"Qdate\", \"Qtime\"])[\"OrderVol\"].sum()\n# \u200b\u5bf9\u6bd4\u200b factor_index\uff0c\u200b\u586b\u8865\u200b\u7f3a\u5931\u200b\u503c\u4e3a\u200b 0\nfactor = factor.reindex(self.factors_index_second.index, fill_value=0)\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u548c\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e00\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u8fc7\u53bb\u200b 60 \u200b\u79d2\u200b\u7684\u200b OrderVol \u200b\u4e4b\u200b\u548c\u200b\nfactor = (\nfactor.groupby(by=[\"Code_Mkt\", \"Qdate\"])\n.rolling(60, closed=\"left\")\n.sum()\n.droplevel(level=[0, 1])\n)\n# \u200b\u6574\u7406\u200b\u683c\u5f0f\u200b\nfactor = self.format_factor(factor)\nfactor.rename(\ncolumns={\n\"OrderVol\": \"A3\",\n},\ninplace=True,\n)\nfactor[\"A3\"] = factor[\"A3\"].astype(float)\nreturn factor\ndef calculate_A4(self, data: pd.DataFrame = None) -&gt; pd.DataFrame:\n\"\"\"\n        Total quantity of arrived orders up to that time\n        Parameters\n        ----------\n        data : pd.DataFrame\n            Order data\n        Returns\n        -------\n        pd.DataFrame\n            Total quantity of arrived orders up to that time\n        \"\"\"\n# \u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b self.order\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b data\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b data \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\nif data is None:\ndata = self.order\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u3001\u200b\u65e5\u671f\u200b\u548c\u200b\u79d2\u949f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u79d2\u200b\u7684\u200b OrderVol \u200b\u4e4b\u200b\u548c\u200b\nfactor = data.groupby([\"Code_Mkt\", \"Qdate\", \"Qtime\"])[\"OrderVol\"].sum()\n# \u200b\u5bf9\u6bd4\u200b factor_index\uff0c\u200b\u586b\u8865\u200b\u7f3a\u5931\u200b\u503c\u4e3a\u200b 0\nfactor = factor.reindex(self.factors_index_second.index, fill_value=0)\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u548c\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e00\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5f53\u524d\u200b\u7d2f\u79ef\u200b\u7684\u200b OrderVol \u200b\u4e4b\u200b\u548c\u200b\u4e4b\u200b\u548c\u200b\nfactor = factor.groupby(by=[\"Code_Mkt\", \"Qdate\"]).cumsum().shift(1)\n# \u200b\u6574\u7406\u200b\u683c\u5f0f\u200b\nfactor = self.format_factor(factor)\nfactor.rename(\ncolumns={\n\"OrderVol\": \"A4\",\n},\ninplace=True,\n)\nfactor[\"A4\"] = factor[\"A4\"].astype(float)\nreturn factor\ndef calculate_A5(self, data: pd.DataFrame = None) -&gt; pd.DataFrame:\n\"\"\"\n        Number of buy orders arriving in the last 60 s\n        Parameters\n        ----------\n        data : pd.DataFrame\n            Order data\n        Returns\n        -------\n        pd.DataFrame\n            Number of buy orders arriving in the last 60 s\n        \"\"\"\n# \u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b self.order\uff0c\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b data\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b data \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\nif data is None:\ndata = self.order\n# \u200b\u7b5b\u9009\u200b\u51fa\u200b buy orders\ndata = data[data[\"FunctionCode\"] == \"1\"]\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u3001\u200b\u65e5\u671f\u200b\u548c\u200b\u79d2\u949f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6bcf\u79d2\u200b\u7684\u200b order \u200b\u6570\u91cf\u200b\nfactor = data.groupby([\"Code_Mkt\", \"Qdate\", \"Qtime\"])[\"OrderRecNo\"].count()\n# \u200b\u5bf9\u6bd4\u200b factor_index\uff0c\u200b\u586b\u8865\u200b\u7f3a\u5931\u200b\u503c\u4e3a\u200b 0\nfactor = factor.reindex(self.factors_index_second.index, fill_value=0)\n# \u200b\u6309\u7167\u200b\u80a1\u7968\u200b\u548c\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u3002\u200b\u5728\u200b\u7ec4\u5185\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e00\u79d2\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u8fc7\u53bb\u200b 60 \u200b\u79d2\u200b\u7684\u200b order \u200b\u6570\u91cf\u200b\u4e4b\u200b\u548c\u200b\nfactor = (\nfactor.groupby(by=[\"Code_Mkt\", \"Qdate\"])\n.rolling(60, closed=\"left\")\n.sum()\n.droplevel(level=[0, 1])\n)\n# \u200b\u6574\u7406\u200b\u683c\u5f0f\u200b\nfactor = self.format_factor(factor)\nfactor.rename(\ncolumns={\n\"OrderRecNo\": \"A5\",\n},\ninplace=True,\n)\nfactor[\"A5\"] = factor[\"A5\"].astype(float)\nreturn factor\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/tlmgr/","title":"<code>tlmgr</code> \u200b\u7ba1\u7406\u200b\u5305","text":"<p>\u200b\u8bb0\u5f55\u200b <code>tlmgr</code> \u200b\u7ba1\u7406\u200b \\(\\TeX\\) \u200b\u5b8f\u5305\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p>","tags":["LaTeX"]},{"location":"blog/tlmgr/#basictex-\u4f7f\u7528-tlmgr-\u5b89\u88c5\u5b8f\u5305","title":"<code>BasicTex</code> \u200b\u4f7f\u7528\u200b <code>tlmgr</code> \u200b\u5b89\u88c5\u200b\u5b8f\u5305","text":"Bash<pre><code>sudo tlmgr install \u200b\u5b8f\u5305\u540d\u200b\n</code></pre> <p>tlmgr install: package XXX not present in repository.</p> <p>\u200b\u5982\u679c\u200b\u627e\u200b\u4e0d\u5230\u200b\u67d0\u4e2a\u200b\u5305\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\uff1a</p> <ol> <li> <p>\u200b\u66f4\u6362\u200b\u5b89\u88c5\u200b\u6765\u6e90\u200b\u3002</p> </li> <li> <p>\u200b\u6709\u200b\u53ef\u80fd\u200b XXX \u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u5b83\u200b\u53ea\u662f\u200b\u67d0\u200b\u4e00\u4e2a\u5305\u200b\u7684\u200b\u5b50\u200b\u5305\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8f6c\u200b\u5230\u200b CTAN \u200b\u67e5\u627e\u200b\u4e0a\u7ea7\u200b\u5305\u200b\u3002</p> </li> </ol> <p></p>","tags":["LaTeX"]},{"location":"blog/tlmgr/#tlmgr-\u67e5\u770b\u5f53\u524d\u5b8f\u5305\u6765\u6e90","title":"<code>tlmgr</code> \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u5b8f\u5305\u200b\u6765\u6e90","text":"Bash<pre><code>tlmgr repository list\n</code></pre>","tags":["LaTeX"]},{"location":"blog/tlmgr/#tlmgr-\u66f4\u6362\u5b8f\u5305\u6765\u6e90","title":"<code>tlmgr</code> \u200b\u66f4\u6362\u200b\u5b8f\u5305\u200b\u6765\u6e90","text":"Bash<pre><code>sudo tlmgr option repository &lt;url&gt;/tlnet\n</code></pre> <p>\u200b\u5927\u9646\u200b\u5730\u533a\u200b\u76ee\u524d\u200b\u53ef\u7528\u200b\u7684\u200b\u6e90\u200b\uff08\u200b\u53c2\u8003\u200b \u200b\u5173\u4e8e\u200b <code>tlmgr</code> \u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7b80\u4ecb\u200b\uff09\u3002</p> \u200b\u955c\u50cf\u200b\u7ad9\u200b\u540d\u79f0\u200b TEX Live \u200b\u6e90\u5730\u5740\u200b \u200b\u963f\u91cc\u200b\u4e91\u200b https://mirrors.aliyun.com/CTAN/systems/texlive/ \u200b\u5317\u4eac\u200b\u4ea4\u901a\u200b\u5927\u5b66\u200b https://mirror.bjtu.edu.cn/ctan/systems/texlive/ \u200b\u5317\u4eac\u7406\u5de5\u5927\u5b66\u200b https://mirrors.bit.edu.cn/CTAN/systems/texlive/ \u200b\u5317\u4eac\u5916\u56fd\u8bed\u5927\u5b66\u200b https://mirrors.bfsu.edu.cn/CTAN/systems/texlive/ \u200b\u91cd\u5e86\u5927\u5b66\u200b https://mirrors.cqu.edu.cn/CTAN/systems/texlive/ \u200b\u4e1c\u839e\u200b\u7406\u5de5\u5b66\u9662\u200b https://mirrors.dgut.edu.cn/CTAN/systems/texlive/ \u200b\u54c8\u5c14\u6ee8\u5de5\u4e1a\u5927\u5b66\u200b https://mirrors.hit.edu.cn/CTAN/systems/texlive/ \u200b\u534e\u4e3a\u200b\u4e91\u200b https://mirrors.huaweicloud.com/CTAN/systems/texlive/ \u200b\u534e\u4e2d\u79d1\u6280\u5927\u5b66\u200b http://mirrors.hust.edu.cn/CTAN/systems/texlive/ \u200b\u5170\u5dde\u5927\u5b66\u200b https://mirror.lzu.edu.cn/CTAN/systems/texlive/ \u200b\u5357\u4eac\u5927\u5b66\u200b https://mirrors.nju.edu.cn/CTAN/systems/texlive/ \u200b\u6e05\u534e\u5927\u5b66\u200b https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/ \u200b\u4e0a\u6d77\u4ea4\u901a\u5927\u5b66\u200b https://mirrors.sjtug.sjtu.edu.cn/ctan/systems/texlive/ \u200b\u4e0a\u6d77\u200b\u79d1\u6280\u200b\u5927\u5b66\u200b https://mirrors.geekpie.club/CTAN/systems/texlive/ \u200b\u817e\u8baf\u200b\u4e91\u200b https://mirrors.cloud.tencent.com/CTAN/systems/texlive/ \u200b\u4e2d\u56fd\u200b\u79d1\u5b66\u6280\u672f\u200b\u5927\u5b66\u200b https://mirrors.ustc.edu.cn/CTAN/systems/texlive/","tags":["LaTeX"]},{"location":"blog/leet-code-hash-table/","title":"LeetCode \u200b\u54c8\u5e0c\u200b\u8868","text":"<p>\u200b\u8bb0\u5f55\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7b97\u6cd5\u200b\u9898\u200b\u7684\u200b\u5e38\u7528\u200b\u6280\u5de7\u200b\u4e0e\u200b\u89e3\u9898\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["LeetCode"]},{"location":"blog/leet-code-hash-table/#\u5bf9\u67d0\u4e2a-key-\u7684-value-\u52a0-1\u82e5\u4e0d\u5b58\u5728\u8fd9\u4e2a-key-\u5219\u5148\u5c06\u8fd9\u4e2a-key-\u8bbe\u4e3a-0-\u518d\u52a0-1","title":"\u5bf9\u200b\u67d0\u4e2a\u200b key \u200b\u7684\u200b value \u200b\u52a0\u200b 1\uff0c\u200b\u82e5\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8fd9\u4e2a\u200b key \u200b\u5219\u200b\u5148\u200b\u5c06\u200b\u8fd9\u4e2a\u200b key \u200b\u8bbe\u200b\u4e3a\u200b 0 \u200b\u518d\u200b\u52a0\u200b 1","text":"Python<pre><code>count_dict[bar] = count_dict.get(bar, 0) + 1\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/2626102/16760102</p>","tags":["LeetCode"]},{"location":"blog/leet-code-hash-table/#\u4f7f\u7528\u5185\u7f6e\u7684\u8ba1\u6570\u5668-collectionscounter-\u5feb\u901f\u7edf\u8ba1\u9891\u6570","title":"\u4f7f\u7528\u200b\u5185\u7f6e\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b <code>collections.Counter()</code> \u200b\u5feb\u901f\u200b\u7edf\u8ba1\u200b\u9891\u6570","text":"Python<pre><code>import collections\ncount_dict = collections.Counter(nums)\n</code></pre>","tags":["LeetCode"]},{"location":"blog/leet-code-hash-table/#\u7edf\u8ba1\u9891\u7387\u6700\u9ad8\u7684-k-\u4e2a\u6570","title":"\u7edf\u8ba1\u200b\u9891\u7387\u200b\u6700\u9ad8\u200b\u7684\u200b k \u200b\u4e2a\u6570","text":"Python<pre><code>import collections\ncount_dict = collections.Counter(nums)\ntopK = count_dict.most_common(k)\n</code></pre> <p>\u200b\u7528\u200b\u5185\u7f6e\u200b\u7684\u200b <code>collections.Counter().most_common()</code>\uff0c\u200b\u6bd4\u200b\u81ea\u5df1\u200b\u5b9e\u73b0\u200b\u6392\u5e8f\u200b\u8981\u200b\u65b9\u4fbf\u5feb\u6377\u200b\u5f88\u591a\u200b\u3002</p>","tags":["LeetCode"]},{"location":"blog/quantitative-investment-lecture-cta/","title":"\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - CTA","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b 2023 \u200b\u5e74\u200b 3 \u200b\u6708\u200b 18 \u200b\u65e5\u200b\u548c\u200b 3 \u200b\u6708\u200b 25 \u200b\u65e5\u200b\u7684\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u8282\u8bfe\u200b\u4ecb\u7ecd\u200b\u4e86\u200b CTA \u200b\u7b56\u7565\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#cta-\u7b80\u4ecb","title":"CTA \u200b\u7b80\u4ecb","text":"<p>CTA\uff08Commodity Trading Advisor\uff09\u200b\u7b56\u7565\u200b\u7684\u200b\u5386\u53f2\u200b\u53ef\u4ee5\u200b\u8ffd\u6eaf\u5230\u200b 1965 \u200b\u5e74\u200b\u3002</p> <p>\u200b\u4f20\u7edf\u610f\u4e49\u200b\u4e0a\u200b\uff0cCTA \u200b\u7684\u200b\u6295\u8d44\u200b\u54c1\u79cd\u200b\u4ec5\u200b\u5c40\u9650\u4e8e\u200b\u5546\u54c1\u200b\u671f\u8d27\u200b\u3002</p> <p>\u200b\u7ecf\u8fc7\u200b\u53d1\u5c55\u200b\uff0cCTA \u200b\u6269\u5c55\u200b\u5230\u200b\u4e86\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u671f\u8d27\u200b\u54c1\u79cd\u200b\uff08\u200b\u6bd4\u5982\u200b\u5229\u7387\u200b\u671f\u8d27\u200b\u3001\u200b\u80a1\u6307\u200b\u671f\u8d27\u200b\u7b49\u200b\uff09\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u56fd\u5185\u4ea4\u6613\u6807\u7684\u671f\u8d27\u54c1\u79cd","title":"\u56fd\u5185\u200b\u4ea4\u6613\u200b\u6807\u7684\u200b\u2014\u200b\u671f\u8d27\u200b\u54c1\u79cd","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#cta-\u7279\u6027","title":"CTA \u200b\u7279\u6027","text":"<ol> <li>\u200b\u6295\u8d44\u200b\u975e\u4f20\u7edf\u200b\u8d44\u4ea7\u200b\uff08\u200b\u975e\u200b\u80a1\u7968\u200b\u3001\u200b\u503a\u5238\u200b\uff09\uff0c\u200b\u8fbe\u5230\u200b\u5206\u6563\u200b\u6295\u8d44\u200b\u7684\u200b\u76ee\u7684\u200b\u3002</li> <li>\u200b\u64cd\u4f5c\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u591a\u7a7a\u200b\u5e76\u4e3e\u200b\uff0c\u200b\u8de8\u8d8a\u200b\u4e0d\u540c\u200b\u5e02\u573a\u200b\u521b\u9020\u200b\u6536\u76ca\u200b\u3002</li> <li>\u200b\u5145\u5206\u200b\u4f7f\u7528\u200b\u6760\u6746\u200b\uff0c\u200b\u535a\u53d6\u200b\u66f4\u200b\u9ad8\u56de\u62a5\u200b\u3002</li> <li>\u200b\u5177\u6709\u200b\u5371\u673a\u200b Alpha\uff08\u200b\u5e02\u573a\u200b\u9500\u552e\u200b\u4eba\u5458\u200b\u521b\u9020\u200b\u51fa\u200b\u7684\u200b\u540d\u8bcd\u200b\uff09\u200b\u7684\u200b\u201c\u200b\u4fdd\u9669\u200b\u201d\u200b\u4f5c\u7528\u200b\u3002\u200b\u5728\u200b\u7ecf\u6d4e\u5371\u673a\u200b\u65f6\u671f\u200b\uff0cCTA \u200b\u7b56\u7565\u200b\u5f80\u5f80\u200b\u83b7\u53d6\u200b\u6b63\u200b\u6536\u76ca\u200b\uff0c\u200b\u5bf9\u200b\u7531\u200b\u80a1\u7968\u200b\u548c\u200b\u503a\u5238\u200b\u6784\u6210\u200b\u7684\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u6709\u7740\u200b\u826f\u597d\u200b\u7684\u200b\u4fdd\u62a4\u200b\u4f5c\u7528\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#cta-\u7b56\u7565\u7c7b\u522b","title":"CTA \u200b\u7b56\u7565\u200b\u7c7b\u522b","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u91cf\u5316-cta-\u7b56\u7565\u7c7b\u522b","title":"\u91cf\u5316\u200b CTA \u200b\u7b56\u7565\u200b\u7c7b\u522b","text":"<ol> <li>CTA \u200b\u8d8b\u52bf\u200b\u7b56\u7565\u200b\uff0c\u200b\u4ece\u200b\u6807\u7684\u200b\u4e0a\u6da8\u200b\u6216\u200b\u4e0b\u8dcc\u200b\u8d8b\u52bf\u200b\u4e2d\u200b\u83b7\u5229\u200b\u3002\u200b\u4e3b\u8981\u200b\u7528\u91cf\u200b\u3001\u200b\u4ef7\u200b\u3001\u200b\u4ed3\u200b\u7684\u200b\u6570\u636e\u200b\u3002</li> <li>CTA \u200b\u5957\u5229\u200b\u7b56\u7565\u200b\uff0c\u200b\u901a\u8fc7\u200b\u57fa\u672c\u9762\u200b\u6216\u200b\u7edf\u8ba1\u200b\u89c4\u5f8b\u200b\uff0c\u200b\u5bfb\u627e\u200b\u4e0d\u540c\u200b\u5408\u7ea6\u200b\u95f4\u200b\u7684\u200b\u5b9a\u4ef7\u200b\u4e0d\u5408\u7406\u200b\u4e4b\u200b\u5904\u200b\uff0c\u200b\u4ece\u200b\u5b9a\u4ef7\u200b\u4fee\u6b63\u200b\u4e2d\u200b\u83b7\u5229\u200b\u3002</li> <li>\u200b\u56e0\u5b50\u200b\u591a\u7a7a\u200b\u7b56\u7565\u200b\uff0c\u200b\u5229\u7528\u200b\u91cf\u4ef7\u200b\u3001\u200b\u57fa\u672c\u9762\u200b\u3001\u200b\u6301\u4ed3\u200b\u7b49\u200b\u56e0\u5b50\u200b\u6784\u5efa\u200b\u6a21\u578b\u200b\uff0c\u200b\u6839\u636e\u200b\u6307\u6807\u200b\u4fe1\u200b \u200b\u53f7\u200b\uff0c\u200b\u540c\u65f6\u200b\u505a\u200b\u591a\u200b\u67d0\u4e9b\u200b\u5408\u7ea6\u200b\uff0c\u200b\u5e76\u200b\u505a\u200b\u7a7a\u200b\u67d0\u4e9b\u200b\u5408\u7ea6\u200b\u3002\u200b\u505a\u200b\u591a\u200b\u6216\u200b\u505a\u200b\u7a7a\u200b\u7684\u200b\u8fd9\u4e9b\u200b\u5408\u7ea6\u200b\u4e00\u822c\u200b\u6765\u81ea\u200b\u4e0d\u540c\u200b\u7684\u200b\u54c1\u79cd\u200b\u3002\u200b\u8fd9\u79cd\u200b\u7b56\u7565\u200b\u548c\u200b\u80a1\u7968\u200b\u591a\u7a7a\u200b\u5f88\u200b\u50cf\u200b\uff0c\u200b\u8fd1\u51e0\u5e74\u200b\u5f88\u200b\u6d41\u884c\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#cta-\u7b56\u7565\u6848\u4f8b","title":"CTA \u200b\u7b56\u7565\u200b\u6848\u4f8b","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#dual-thrust-\u8d8b\u52bf\u7b56\u7565","title":"Dual Thrust \u200b\u8d8b\u52bf\u200b\u7b56\u7565","text":"<ul> <li>\u200b\u4ee5\u200b\u5f53\u5929\u200b\u5f00\u76d8\u4ef7\u200b\u4e3a\u200b\u4e2d\u8f74\u200b\uff08\u200b\u4e2d\u8f74\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff09\uff1b</li> <li>\u200b\u4ee5\u524d\u200b N \u200b\u5929\u200b\u7684\u200b HH\u3001HC\u3001LC\u3001LL \u200b\u8ba1\u7b97\u200b Range\uff0c\u200b\u8fdb\u800c\u200b\u6784\u9020\u200b\u4e0a\u8f68\u200b\u548c\u200b\u4e0b\u8f68\u200b\uff1b</li> <li>\u200b\u65e5\u5185\u200b\u8ddf\u8e2a\u200b\u5f53\u5929\u200b\u4ef7\u683c\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u5f00\u4ed3\u200b\u4fe1\u53f7\u200b\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u5927\u8c46\u63d0\u6cb9\u5957\u5229\u7b56\u7565","title":"\u5927\u8c46\u200b\u63d0\u6cb9\u200b\u5957\u5229\u200b\u7b56\u7565","text":"<p>\u200b\u5957\u5229\u200b\u7684\u200b\u903b\u8f91\u200b\u662f\u200b\u53cd\u8f6c\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u627e\u5230\u200b\u82e5\u5e72\u200b\u53d8\u91cf\u200b\u4e4b\u95f4\u200b\u5177\u6709\u200b\u534f\u6574\u200b\u5173\u7cfb\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u7ebf\u6027\u7ec4\u5408\u200b\u5f97\u5230\u200b\u7684\u200b\u5e73\u7a33\u200b\u53d8\u91cf\u200b\u6784\u9020\u200b\u53cd\u8f6c\u200b\u7b56\u7565\u200b\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u5176\u4ed6\u5957\u5229\u7b56\u7565","title":"\u5176\u4ed6\u200b\u5957\u5229\u200b\u7b56\u7565","text":"<p>\u200b\u5148\u200b\u5bfb\u627e\u200b\u7ecf\u6d4e\u200b\u903b\u8f91\u200b\uff0c\u200b\u627e\u5230\u200b\u9ad8\u200b\u76f8\u5173\u6027\u200b\u7684\u200b\u54c1\u79cd\u200b\uff0c\u200b\u8fdb\u884c\u200b\u8de8\u200b\u54c1\u79cd\u200b\u5957\u5229\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#cta-\u56e0\u5b50\u591a\u7a7a\u7b56\u7565","title":"CTA \u200b\u56e0\u5b50\u200b\u591a\u7a7a\u200b\u7b56\u7565\u200b\uff1a","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u52a8\u91cf\u56e0\u5b50","title":"\u52a8\u91cf\u200b\u56e0\u5b50","text":"<p>\u200b\u6bd4\u8f83\u200b\u5404\u79cd\u200b\u52a8\u91cf\u200b\u56e0\u5b50\u200b</p> <ul> <li>\u200b\u539f\u59cb\u200b\u52a8\u91cf\u200b\u56e0\u5b50\u200b\u53ea\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u70b9\u5bf9\u70b9\u200b\u7684\u200b\u4ef7\u683c\u200b\u53d8\u5316\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u80fd\u200b\u63cf\u8ff0\u200b\u8fd9\u200b\u4e00\u6bb5\u200b\u533a\u95f4\u200b\u5185\u200b\u53d1\u751f\u200b\u7684\u200b\u4e8b\u60c5\u200b\u3002\u200b\u6bd4\u5982\u200b\uff0c\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6807\u7684\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u662f\u200b\u7a33\u6b65\u200b\u4e0a\u6da8\u200b\uff0c\u200b\u6700\u7ec8\u200b\u7d2f\u8ba1\u200b\u4e0a\u6da8\u200b 10%\uff1b\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u662f\u200b\u9760\u200b\u4e00\u5929\u200b\u731b\u6da8\u200b 10%\uff0c\u200b\u4f46\u200b\u5176\u4ed6\u200b\u65e5\u671f\u200b\u90fd\u200b\u6ca1\u6709\u200b\u53d8\u5316\u200b\u3002\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u662f\u200b\u4e0d\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u539f\u59cb\u200b\u52a8\u91cf\u200b\u56e0\u5b50\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\u3002</li> <li>RSM \u200b\u56e0\u5b50\u200b\u8003\u8651\u200b\u4e86\u200b\u4e00\u6bb5\u200b\u533a\u95f4\u200b\u4e2d\u200b\u6bcf\u5929\u200b\u7684\u200b\u8868\u73b0\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6bcf\u5929\u200b\u7684\u200b\u6da8\u8dcc\u200b\u7528\u200b\u5206\u7c7b\u200b\u53d8\u91cf\u200b\u8868\u793a\u200b\u3002</li> <li>RSI \u200b\u56e0\u5b50\u200b\u8003\u8651\u200b\u4e86\u200b\u4e00\u6bb5\u200b\u533a\u95f4\u200b\u4e2d\u200b\u6bcf\u5929\u200b\u7684\u200b\u8868\u73b0\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6bcf\u5929\u200b\u7684\u200b\u6da8\u8dcc\u200b\u7528\u200b\u6570\u503c\u200b\u53d8\u91cf\u200b\u8868\u793a\u200b\u3002</li> <li>\u200b\u65e5\u5185\u200b\u52a8\u91cf\u200b\u56e0\u5b50\u200b\u8003\u8651\u200b\u65e5\u5185\u200b\u6da8\u8dcc\u5e45\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u9694\u591c\u200b\u6da8\u8dcc\u5e45\u200b\u3002</li> </ul> <p>\u200b\u673a\u6784\u200b\u548c\u200b\u6563\u6237\u200b\u7684\u200b\u4ea4\u6613\u200b\u4e60\u60ef\u200b</p> <ul> <li>\u200b\u673a\u6784\u200b\u559c\u6b22\u200b\u5728\u200b\u5f00\u76d8\u200b\u548c\u200b\u6536\u76d8\u200b\u4ea4\u6613\u200b\uff0c\u200b\u56e0\u4e3a\u200b\uff1a\u200b\u5f00\u76d8\u200b\u524d\u200b\u5df2\u7ecf\u200b\u6536\u96c6\u200b\u5230\u200b\u5f88\u591a\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u200b\u505a\u51fa\u200b\u4e86\u200b\u4ea4\u6613\u200b\u51b3\u5b9a\u200b\uff0c\u200b\u5728\u200b\u5f00\u76d8\u200b\u7b2c\u4e00\u200b\u65f6\u95f4\u200b\u4e0b\u5355\u200b\uff1b\u200b\u8bb8\u591a\u200b\u7b56\u7565\u200b\u5728\u200b\u56de\u200b\u6d4b\u65f6\u200b\u559c\u6b22\u200b\u7528\u200b\u6536\u76d8\u4ef7\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u5b9e\u76d8\u200b\u65f6\u200b\u4e5f\u200b\u4e60\u60ef\u200b\u5728\u200b\u6536\u76d8\u200b\u65f6\u200b\u4ea4\u6613\u200b\u3002</li> <li>\u200b\u6563\u6237\u200b\u5728\u200b\u76d8\u4e2d\u200b\u53d7\u5230\u200b\u5404\u79cd\u200b\u4fe1\u606f\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u559c\u6b22\u200b\u5728\u200b\u76d8\u4e2d\u200b\u4ea4\u6613\u200b\u3002</li> </ul> <ol> <li>\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b MOM \u200b\u7b56\u7565\u200b\uff1a\u200b\u9488\u5bf9\u200b\u6d3b\u8dc3\u200b\u54c1\u79cd\u200b\u6bcf\u65e5\u200b\u8ba1\u7b97\u200b\u51fa\u975e\u200b\u96f6\u200b\u6570\u503c\u200b\uff0c\u200b\u975e\u8d1f\u200b\u5373\u200b\u6b63\u200b\uff0c\u200b\u5373\u200b\u6bcf\u65e5\u200b\u90fd\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u975e\u7a7a\u200b\u5373\u200b\u591a\u200b\u7684\u200b\u56e0\u5b50\u200b\u578b\u200b\u4fe1\u53f7\u200b\u3002\u200b\u54c1\u79cd\u200b FP \u200b\u65e5\u200b\u52a8\u91cf\u200b MomFP \u200b\u5927\u4e8e\u200b 0\uff0c\u200b\u89e6\u53d1\u200b\u591a\u5934\u200b\u4fe1\u53f7\u200b\uff1b\u200b\u54c1\u79cd\u200b FP \u200b\u65e5\u200b\u52a8\u91cf\u200b MomFP \u200b\u5c0f\u4e8e\u200b 0\uff0c\u200b\u89e6\u53d1\u200b\u7a7a\u5934\u200b\u4fe1\u53f7\u200b\u3002</li> <li>\u200b\u6a2a\u622a\u9762\u200b MOM \u200b\u7b56\u7565\u200b\uff1a\u200b\u5728\u200b\u5efa\u4ed3\u200b\u6216\u200b\u8c03\u4ed3\u65e5\u200b\u591a\u200b\u5404\u200b\u54c1\u79cd\u200b\u7684\u200b\u52a8\u91cf\u200b\u4ece\u200b\u9ad8\u5230\u200b\u4f4e\u200b\u6392\u5e8f\u200b\uff0c\u200b\u7b5b\u9009\u200b\u51fa\u9ad8\u200b\u52a8\u91cf\u200b\u56e0\u5b50\u200b\u7684\u200b\u54c1\u79cd\u200b\u8d4b\u4e88\u200b\u505a\u200b\u591a\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u200b\u52a8\u91cf\u200b\u7684\u200b\u54c1\u79cd\u200b\u8d4b\u4e88\u200b\u505a\u7a7a\u200b\u4fe1\u53f7\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u5e93\u5b58\u56e0\u5b50","title":"\u5e93\u5b58\u200b\u56e0\u5b50","text":"<p>\u200b\u6837\u672c\u200b\u54c1\u79cd\u200b\u9002\u7528\u6027\u200b\uff1a\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6240\u6709\u200b\u5546\u54c1\u200b\u90fd\u200b\u80fd\u200b\u7528\u200b\u4f9b\u9700\u200b\u57fa\u672c\u9762\u200b\u6765\u200b\u5206\u6790\u200b\u4ef7\u683c\u200b\uff08\u200b\u8d35\u91d1\u5c5e\u200b\u4f9b\u9700\u200b\u4f30\u8ba1\u200b\u96be\u5ea6\u200b\u5927\u200b\uff09\u3002</p> <p>\u200b\u5e93\u5b58\u200b\u6570\u636e\u200b\u6765\u6e90\u200b\uff1a</p> <ol> <li>\u200b\u663e\u6027\u200b\u5e93\u5b58\u200b\uff1a\u200b\u4ed3\u5355\u200b\u5e93\u5b58\u200b\uff0c\u200b\u56fd\u5185\u200b\u671f\u8d27\u200b\u4ea4\u6613\u6240\u200b\u7684\u200b\u6ce8\u518c\u200b\u4ed3\u5355\u200b\u6570\u636e\u200b\uff08\u200b\u8fd9\u4e9b\u200b\u6ce8\u518c\u200b\u7684\u200b\u5e93\u5b58\u200b\u624d\u80fd\u200b\u7528\u6765\u200b\u4ea4\u5272\u200b\uff09\uff0c\u200b\u539f\u59cb\u6570\u636e\u200b\u9891\u7387\u200b\u4e3a\u200b\u5468\u9891\u200b\u3002</li> <li>\u200b\u9690\u6027\u200b\u5e93\u5b58\u200b\uff1a\u200b\u793e\u4f1a\u200b\u5e93\u5b58\u200b\uff0c\u200b\u5305\u62ec\u200b\u5de5\u5382\u200b\u5e93\u5b58\u200b\u3001\u200b\u4e3b\u8981\u200b\u57ce\u5e02\u200b\u6216\u200b\u5730\u533a\u200b\u5e93\u5b58\u200b\u3001\u200b\u4e3b\u8981\u200b\u6e2f\u53e3\u200b\u5e93\u5b58\u200b\u3001\u200b\u6d77\u5916\u200b\u4ea4\u6613\u6240\u200b\u5e93\u5b58\u200b\u7b49\u200b\uff0c\u200b\u539f\u59cb\u6570\u636e\u200b\u9891\u7387\u200b\u4e3a\u200b\u65e5\u9891\u200b\u6216\u200b\u5468\u9891\u200b\u3002</li> </ol> <p>\u200b\u6784\u9020\u200b\u5e93\u5b58\u200b\u56e0\u5b50\u200b\u4e3b\u8981\u200b\u7528\u200b\u73af\u6bd4\u200b\u3001\u200b\u540c\u6bd4\u200b\u3001\u200b\u4e8c\u9636\u200b\u73af\u6bd4\u200b\u3002</p> <p></p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u7528\u200b\u519c\u5386\u200b\uff1f</p> <p>\u200b\u5f88\u591a\u200b\u671f\u8d27\u200b\u54c1\u79cd\u200b\u662f\u200b\u519c\u4ea7\u54c1\u200b\uff0c\u200b\u7528\u200b\u519c\u5386\u200b\u66f4\u200b\u7b26\u5408\u200b\u751f\u4ea7\u200b\u5468\u671f\u200b\u7684\u200b\u89c4\u5f8b\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u6ce2\u52a8\u7387\u56e0\u5b50","title":"\u6ce2\u52a8\u200b\u7387\u200b\u56e0\u5b50","text":"<p>\u200b\u6bd4\u8f83\u200b\u5404\u79cd\u200b\u6ce2\u52a8\u200b\u7387\u200b\u56e0\u5b50\u200b</p> <p>\u200b\u4e3b\u8981\u200b\u5206\u200b\u4e24\u7c7b\u200b\uff1a</p> <ul> <li>\u200b\u53ea\u200b\u8003\u8651\u200b\u6bcf\u65e5\u200b\u6536\u76ca\u7387\u200b\uff0c\u200b\u5982\u200b\u539f\u59cb\u200b\u6ce2\u52a8\u200b\u7387\u200b\u56e0\u5b50\u200b\uff1b</li> <li>\u200b\u8003\u8651\u200b\u4e86\u200b\u65e5\u200b\u5185\u200b\u7684\u200b\u5f00\u200b\u9ad8\u4f4e\u200b\u6536\u200b\u632f\u5e45\u200b\u7684\u200b\u7d2f\u52a0\u200b\uff0c\u200b\u5982\u200b RS \u200b\u6ce2\u52a8\u200b\u7387\u200b\u56e0\u5b50\u200b\u3002</li> </ul> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8bbe\u7f6e\u200b\u591c\u76d8\u200b\uff1f</p> <p>\u200b\u4e3a\u4e86\u200b\u5728\u200b\u56fd\u9645\u200b\u4ea4\u6613\u5e02\u573a\u200b\u4e0a\u200b\u4e89\u53d6\u200b\u5b9a\u4ef7\u6743\u200b\uff0c\u200b\u5728\u200b\u56fd\u5916\u200b\u4ea4\u6613\u200b\u65f6\u6bb5\u200b\u8ba9\u200b\u5916\u56fd\u200b\u4ea4\u6613\u8005\u200b\u770b\u5230\u200b\u4e2d\u56fd\u200b\u5e02\u573a\u200b\u7684\u200b\u6ce2\u52a8\u200b\u60c5\u51b5\u200b\uff0c\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e3b\u52a8\u200b\u5f71\u54cd\u200b\u56fd\u9645\u200b\u5e02\u573a\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-cta/#\u91d1\u878d\u671f\u8d27\u7b56\u7565","title":"\u91d1\u878d\u200b\u671f\u8d27\u200b\u7b56\u7565","text":"<p>\u200b\u5e38\u89c1\u200b\u91d1\u878d\u200b\u671f\u8d27\u200b\u62e9\u65f6\u200b\u7b56\u7565\u200b\u53ef\u200b\u5206\u4e3a\u200b\uff1a</p> <ol> <li>\u200b\u6280\u672f\u200b\u9762\u62e9\u200b\u65f6\u200b\u7b56\u7565\u200b\uff08\u200b\u57fa\u4e8e\u200b\u6280\u672f\u200b\u9762\u200b\u4ea4\u6613\u200b\u4fe1\u53f7\u200b\uff09</li> <li>\u200b\u57fa\u672c\u9762\u200b\u62e9\u65f6\u200b\u7b56\u7565\u200b\uff08\u200b\u57fa\u4e8e\u200b\u57fa\u672c\u9762\u200b\u4ea4\u6613\u200b\u4fe1\u53f7\u200b\uff09</li> </ol> <p>\u200b\u4e94\u5927\u7c7b\u200b\u57fa\u672c\u9762\u200b\u56e0\u5b50\u200b\uff1a</p> <ol> <li>\u200b\u5b8f\u89c2\u7ecf\u6d4e\u200b (\u200b\u6574\u4f53\u200b\u7ecf\u6d4e\u200b\u6c34\u5e73\u200b\u3001\u200b\u8fdb\u51fa\u53e3\u200b\u3001\u200b\u6295\u878d\u8d44\u200b\u3001\u200b\u5236\u9020\u4e1a\u200b\u3001\u200b\u793e\u4f1a\u200b\u6d88\u8d39\u200b\u3001\u200b\u539f\u6cb9\u4ef7\u683c\u200b\u7b49\u200b\u65b9\u9762\u200b) </li> <li>\u200b\u5229\u7387\u200b\u73af\u5883\u200b (\u200b\u5404\u7c7b\u200b\u5229\u7387\u200b\u53ca\u200b\u8d27\u5e01\u200b\u4f9b\u7ed9\u91cf\u200b\u6c34\u5e73\u200b) </li> <li>\u200b\u5e02\u573a\u200b\u4f30\u503c\u200b</li> <li>\u200b\u6295\u8d44\u8005\u200b\u60c5\u7eea\u200b (\u200b\u6307\u6570\u200b VIX\u3001\u200b\u4fe1\u7528\u200b\u5229\u5dee\u200b\u3001\u200b\u6c47\u7387\u200b\u7b49\u200b) </li> <li>\u200b\u7269\u4ef7\u6c34\u5e73\u200b</li> </ol> <p>\u200b\u62e9\u65f6\u200b\u6a21\u578b\u200b\u7c7b\u522b\u200b\uff1a</p> <ol> <li>\u200b\u7b49\u6743\u200b\u591a\u56e0\u5b50\u200b\u62e9\u65f6\u200b\u6a21\u578b\u200b</li> <li>\u200b\u591a\u56e0\u5b50\u200b\u56de\u5f52\u200b\u62e9\u65f6\u200b\u6a21\u578b\u200b</li> <li>\u200b\u56e0\u5b50\u200b\u201c\u200b\u76f8\u4f3c\u6027\u200b\u201d\u200b\u6a21\u578b\u200b\uff08\u200b\u6839\u636e\u200b\u56e0\u5b50\u200b\u6700\u8fd1\u200b\u65f6\u95f4\u6bb5\u200b\u7684\u200b\u53d8\u5316\u89c4\u5f8b\u200b\uff0c\u200b\u5bfb\u627e\u200b\u5386\u53f2\u200b\u4e0a\u200b\u6700\u200b\u76f8\u4f3c\u200b\u7684\u200b\u65f6\u95f4\u6bb5\u200b\uff09</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/","title":"\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u4e8b\u4ef6\u9a71\u52a8\u200b\u7b56\u7565","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b 2023 \u200b\u5e74\u200b 3 \u200b\u6708\u200b 18 \u200b\u65e5\u200b\u7684\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u672c\u8282\u200b\u8bfe\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5e38\u89c1\u200b\u7684\u200b\u4e8b\u4ef6\u9a71\u52a8\u200b\u7b56\u7565\u200b\u4ee5\u53ca\u200b\u5b9e\u8df5\u200b\u4e2d\u200b\u7684\u200b\u6ce8\u610f\u4e8b\u9879\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u4e8b\u4ef6\u9a71\u52a8\u7b56\u7565\u7b80\u4ecb","title":"\u4e8b\u4ef6\u9a71\u52a8\u200b\u7b56\u7565\u200b\u7b80\u4ecb","text":"<p>\u200b\u4e8b\u4ef6\u9a71\u52a8\u200b\uff08Event Driven\uff09\u200b\u5c5e\u4e8e\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u4e4b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u7c7b\u522b\u200b\uff0c\u200b\u6db5\u76d6\u200b\u6295\u8d44\u200b\u673a\u4f1a\u200b\u5e7f\u6cdb\u200b\u3002\u200b\u5e7f\u4e49\u200b\u4e0a\u200b\u8bf4\u200b\uff0c\u200b\u5e02\u573a\u200b\u4e0a\u200b\u4efb\u4f55\u200b\u53d1\u751f\u200b\u7684\u200b\u6709\u200b\u53ef\u80fd\u200b\u4e0e\u200b\u80a1\u7968\u5e02\u573a\u200b\u76f8\u5173\u200b\u7684\u200b\u65b0\u95fb\u200b\u3001\u200b\u4e8b\u4ef6\u200b\u3001\u200b\u516c\u544a\u200b\u5747\u200b\u6709\u200b\u53ef\u80fd\u200b\u6210\u4e3a\u200b\u4e8b\u4ef6\u9a71\u52a8\u200b\u7684\u200b\u6295\u8d44\u200b\u673a\u4f1a\u200b\u3002\u200b\u5e38\u89c1\u200b\u91cd\u5927\u4e8b\u4ef6\u200b\u5305\u62ec\u200b\uff1a</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u6307\u6570\u6210\u5206\u80a1\u8c03\u6574","title":"\u6307\u6570\u200b\u6210\u5206\u80a1\u200b\u8c03\u6574","text":"<p>\u200b\u7b80\u5355\u200b\u903b\u8f91\u200b\uff1a</p> <ul> <li>\u200b\u7eb3\u5165\u200b\u6307\u6570\u200b\uff0c\u200b\u4f1a\u200b\u6709\u200b\u5f88\u591a\u200b\u88ab\u52a8\u200b\u6307\u6570\u200b EFT \u200b\u88ab\u52a8\u200b\u5730\u200b\u4e70\u5165\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9884\u671f\u200b\u80a1\u4ef7\u200b\u4f1a\u200b\u4e0a\u6da8\u200b\uff1b</li> <li>\u200b\u8c03\u51fa\u200b\u6307\u6570\u200b\uff0c\u200b\u4f1a\u200b\u6709\u200b\u5f88\u591a\u200b\u88ab\u52a8\u200b\u6307\u6570\u200b EFT \u200b\u88ab\u52a8\u200b\u5730\u200b\u5356\u51fa\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9884\u671f\u200b\u80a1\u4ef7\u200b\u4f1a\u200b\u4e0b\u8dcc\u200b\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u903b\u8f91","title":"\u7b56\u7565\u200b\u903b\u8f91","text":"<p>\u200b\u5e02\u573a\u200b\u4e0a\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u6295\u8d44\u8005\u200b\u4f1a\u200b\u5728\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u4e70\u5356\u200b\uff1f</p> <p></p> <p></p> <p>\u200b\u6bcf\u5e74\u200b\u7684\u200b 4 \u200b\u6708\u200b 30 \u200b\u65e5\u200b\u548c\u200b 10 \u200b\u6708\u200b 31 \u200b\u65e5\u200b\u662f\u200b\u6210\u5206\u80a1\u200b\u8c03\u6574\u200b\u7684\u200b\u6700\u540e\u200b\u8003\u5bdf\u200b\u65e5\u200b\u3002</p> <ul> <li> <p>\u200b\u8ba1\u7b97\u200b\u65e5\u200b\uff084 \u200b\u6708\u200b 30 \u200b\u65e5\u200b\u548c\u200b 10 \u200b\u6708\u200b 31 \u200b\u65e5\u200b\uff09\uff1f\u200b\u8fd9\u65f6\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u5e02\u573a\u200b\u516c\u5f00\u200b\u4fe1\u606f\u200b\u8ba1\u7b97\u200b\u672a\u6765\u200b\u7684\u200b\u6307\u6570\u200b\u6210\u5206\u80a1\u200b\u3002</p> <p>\u200b\u4e0b\u56fe\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u4e0d\u200b\u660e\u663e\u200b\u3002</p> <p></p> </li> <li> <p>\u200b\u516c\u544a\u65e5\u200b\uff1f\u200b\u4e0b\u56fe\u200b\u4e2d\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u660e\u663e\u200b\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\uff0c\u200b\u7edd\u5927\u90e8\u5206\u200b\u6295\u8d44\u8005\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5728\u200b\u516c\u544a\u65e5\u200b\u4e4b\u524d\u200b\u8ba1\u7b97\u200b\u5e76\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u800c\u662f\u200b\u7b49\u200b\u516c\u544a\u200b\u90fd\u200b\u53d1\u5e03\u200b\u4e86\u200b\u518d\u200b\u64cd\u4f5c\u200b\u3002</p> <p></p> <p></p> <p></p> <p></p> </li> <li> <p>\u200b\u5b9e\u65bd\u200b\u65e5\u200b\uff1f\u200b\u4e0b\u56fe\u200b\u7684\u200b\u8c03\u51fa\u200b\u7ec4\u5408\u200b\u5728\u200b\u5b9e\u65bd\u200b\u65e5\u524d\u200b\u6709\u200b\u660e\u663e\u200b\u7684\u200b\u8d1f\u200b\u6536\u76ca\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5927\u90e8\u5206\u200b\u6295\u8d44\u8005\u200b\u4f1a\u200b\u5728\u200b\u5b9e\u65bd\u200b\u65e5\u524d\u200b\u884c\u52a8\u200b\u3002</p> <p></p> </li> </ul>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u6784\u5efa","title":"\u7b56\u7565\u200b\u6784\u5efa","text":"<ol> <li> <p>\u200b\u6307\u6570\u200b\u589e\u5f3a\u200b\uff1a</p> <p></p> </li> <li> <p>\u200b\u591a\u7a7a\u200b\u5bf9\u51b2\u200b\uff08\u200b\u505a\u7a7a\u200b\u80a1\u6307\u200b\u671f\u8d27\u200b\uff09\uff1a</p> <p></p> </li> </ol> <p>\u200b\u5173\u4e8e\u200b\u4e24\u878d\u6237\u200b\u505a\u7a7a\u200b</p> <p>\u200b\u5982\u679c\u200b\u6709\u200b100\u200b\u5143\u200b\u73b0\u91d1\u200b\uff0c\u200b\u5982\u679c\u200b\u505a\u200b\u591a\u200b\\(x\\)\u200b\u5143\u200b\u80a1\u7968\u200b\uff0c\u200b\u8fd8\u200b\u5269\u200b\\((100-x)\\)\u200b\u5143\u200b\u73b0\u91d1\u200b\u3002\u200b\u73b0\u91d1\u200b\u7684\u200b\u62c5\u4fdd\u200b\u6bd4\u4f8b\u200b\u662f\u200b\\(100%\\)\uff0c\u200b\u80a1\u7968\u200b\u7684\u200b\u62c5\u4fdd\u200b\u6bd4\u4f8b\u200b\u5927\u7ea6\u200b\u662f\u200b\\(70\\%\\)\uff08\u200b\u4e0d\u540c\u200b\u4e2a\u80a1\u200b\u7684\u200b\u62c5\u4fdd\u200b\u6bd4\u4f8b\u200b\u53ef\u80fd\u200b\u4e0d\u540c\u200b\uff09\uff0c\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u8fbe\u5230\u200b\u591a\u7a7a\u200b\u5e73\u8861\u200b\uff0c\u200b\u90a3\u4e48\u200b\\(x\\)\u200b\u5927\u7ea6\u200b\u662f\u200b\uff1a</p> \\[ x=(100-x)+x\\times 0.7\\\\ x\\approx        76.92 \\] <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c100\u200b\u5143\u200b\u7684\u200b\u672c\u91d1\u200b\u5927\u7ea6\u200b\u53ea\u80fd\u200b\u83b7\u5f97\u200b\u4e0d\u5230\u200b80\u200b\u5143\u200b\u7684\u200b\u591a\u7a7a\u200b\u7ec4\u5408\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u5458\u5de5\u6301\u80a1\u8ba1\u5212","title":"\u5458\u5de5\u200b\u6301\u80a1\u200b\u8ba1\u5212","text":"<p>\u200b\u5458\u5de5\u200b\u6301\u80a1\u200b\u8ba1\u5212\u200b\u662f\u200b\u6307\u200b\u6839\u636e\u200b\u5458\u5de5\u200b\u81ea\u8eab\u200b\u7684\u200b\u610f\u613f\u200b\uff0c\u200b\u4e0a\u5e02\u516c\u53f8\u200b\u901a\u8fc7\u200b\u5408\u6cd5\u200b\u65b9\u5f0f\u200b\u4f7f\u5f97\u200b\u5458\u5de5\u200b\u83b7\u5f97\u200b\u516c\u53f8\u80a1\u7968\u200b\u5e76\u200b\u957f\u671f\u200b\u6301\u6709\u200b\uff0c\u200b\u80a1\u4efd\u200b\u6743\u76ca\u200b\u6309\u200b\u7ea6\u5b9a\u200b\u65b9\u5f0f\u200b\u5206\u914d\u200b\u7ed9\u200b\u5458\u5de5\u200b\u7684\u200b\u4e00\u79cd\u200b\u5236\u5ea6\u200b\u5b89\u6392\u200b\u3002\u200b\u5458\u5de5\u200b\u6301\u80a1\u200b\u8ba1\u5212\u200b\u7684\u200b\u53c2\u52a0\u200b\u5bf9\u8c61\u200b\u4e3a\u200b\u516c\u53f8\u5458\u5de5\u200b\uff0c\u200b\u5305\u62ec\u200b\u8463\u76d1\u200b\u9ad8\u7b49\u200b\u4e2d\u9ad8\u5c42\u200b\u7ba1\u7406\u4eba\u5458\u200b\u3002</p> <p>\u200b\u5b9e\u65bd\u200b\u5458\u5de5\u200b\u6301\u80a1\u200b\u8ba1\u5212\u200b\u7684\u200b\u4e3b\u8981\u200b\u76ee\u7684\u200b\u662f\u200b\u5458\u5de5\u200b\u6210\u4e3a\u200b\u516c\u53f8\u200b\u80a1\u4e1c\u200b\u540e\u200b\uff0c\u200b\u516c\u53f8\u200b\u5229\u76ca\u200b\u4e0e\u200b\u5458\u5de5\u200b\u5229\u76ca\u200b\u6346\u7ed1\u200b\u8d77\u6765\u200b\uff0c\u200b\u4ece\u800c\u200b\u6fc0\u53d1\u200b\u5458\u5de5\u200b\u7684\u200b\u5de5\u4f5c\u200b\u70ed\u60c5\u200b\uff0c\u200b\u4fc3\u8fdb\u200b\u516c\u53f8\u200b\u4e1a\u52a1\u200b\u53d1\u5c55\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u903b\u8f91_1","title":"\u7b56\u7565\u200b\u903b\u8f91","text":"<ul> <li>\u200b\u5927\u200b\u80a1\u4e1c\u200b\u89e3\u7981\u200b\u540e\u200b\u7684\u200b\u884c\u4e3a\u200b\u903b\u8f91\u200b\uff1a\u200b\u5927\u200b\u80a1\u4e1c\u200b\u975e\u5e38\u200b\u5e0c\u671b\u200b\u80a1\u4ef7\u200b\u4e0a\u6da8\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u84c4\u610f\u200b\u62ac\u9ad8\u200b\u80a1\u4ef7\u200b\u540e\u200b\u5957\u73b0\u200b\u3002</li> <li>\u200b\u5c0f\u200b\u80a1\u4e1c\u200b\u89e3\u7981\u200b\u540e\u200b\u7684\u200b\u884c\u4e3a\u200b\u903b\u8f91\u200b\uff1a\u200b\u5c0f\u200b\u80a1\u4e1c\u200b\u5bf9\u200b\u80a1\u4ef7\u200b\u4e0d\u200b\u654f\u611f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7acb\u5373\u200b\u5957\u73b0\u200b\u3002</li> </ul> <p>\u200b\u5728\u200b\u8463\u4e8b\u4f1a\u200b\u9884\u6848\u200b\u516c\u544a\u65e5\u200b\u7684\u200b 30 \u200b\u5929\u540e\u200b\uff08\u200b\u5927\u7ea6\u200b\u662f\u200b\u80a1\u4e1c\u5927\u4f1a\u200b\u901a\u8fc7\u200b\u65e5\u200b\uff09\u200b\u5f00\u59cb\u200b\u6709\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u6784\u5efa_1","title":"\u7b56\u7565\u200b\u6784\u5efa","text":"<p>\u200b\u8463\u4e8b\u4f1a\u200b\u9884\u6848\u200b\u516c\u544a\u65e5\u200b\u548c\u200b\u80a1\u4e1c\u5927\u4f1a\u200b\u901a\u8fc7\u200b\u65e5\u200b</p> <p>\u200b\u82e5\u200b\u80a1\u4efd\u200b\u5f88\u200b\u5206\u6563\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c11\u6570\u200b\u8463\u4e8b\u4f1a\u200b\u9884\u6848\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5728\u200b\u80a1\u4e1c\u5927\u4f1a\u200b\u4e0a\u200b\u901a\u8fc7\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u80a1\u4ef7\u200b\u901a\u5e38\u200b\u4f1a\u200b\u4e0b\u8dcc\u200b\u5f88\u591a\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#st-\u6458\u5e3d","title":"ST \u200b\u6458\u5e3d","text":"<p>\u200b\u4e8b\u4ef6\u200b\u6761\u4ef6\u200b\uff1aST \u200b\u80a1\u7968\u200b + \u200b\u5e74\u62a5\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u626d\u4e8f\u200b</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u903b\u8f91_2","title":"\u7b56\u7565\u200b\u903b\u8f91","text":"<ol> <li>\u200b\u4e3b\u8425\u200b\u4e1a\u7ee9\u200b\u597d\u8f6c\u200b\uff0c\u200b\u5411\u200b\u5e02\u573a\u200b\u4f20\u9012\u200b\u4e86\u200b\u79ef\u6781\u200b\u4fe1\u53f7\u200b\u3002</li> <li>\u200b\u5f88\u591a\u200b\u57fa\u91d1\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u4ea4\u6613\u200b ST \u200b\u80a1\u7968\u200b\uff0c\u200b\u56e0\u6b64\u200b ST \u200b\u6458\u5e3d\u200b\u540e\u200b\u5e26\u6765\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6f5c\u5728\u200b\u4e70\u5165\u200b\u6295\u8d44\u8005\u200b\u3002</li> </ol> <p>ST \u200b\u80a1\u7968\u200b\u5728\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u626d\u4e8f\u200b\u540e\u200b\u5f88\u200b\u53ef\u80fd\u200b\u6458\u5e3d\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u597d\u8f6c\u200b\u540e\u200b\u7684\u200b 30 \u200b\u4e2a\u200b\u4ea4\u6613\u65e5\u200b\u5185\u6709\u200b\u6b63\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u6784\u5efa_2","title":"\u7b56\u7565\u200b\u6784\u5efa","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u4e1a\u7ee9\u9884\u544a","title":"\u4e1a\u7ee9\u200b\u9884\u544a","text":"<p>\u200b\u6211\u56fd\u200b\u7684\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u5236\u5ea6\u200b 2006 \u200b\u5e74\u200b\u57fa\u672c\u200b\u786e\u7acb\u200b\uff0c\u200b\u5305\u542b\u200b\u4e86\u200b 8 \u200b\u5927\u200b\u7c7b\u578b\u200b\uff0c\u200b\u56db\u5927\u200b\u5229\u591a\u200b\uff1a\u200b\u9884\u589e\u200b\u3001\u200b\u7565\u589e\u200b\u3001\u200b\u626d\u4e8f\u200b\u3001\u200b\u7eed\u76c8\u200b\uff1b\u200b\u56db\u5927\u200b\u5229\u7a7a\u200b\uff1a\u200b\u9884\u51cf\u200b\u3001\u200b\u7565\u51cf\u200b\u3001\u200b\u9996\u4e8f\u200b\u3001\u200b\u7eed\u4e8f\u200b\u3002</p> <p>\u200b\u534a\u5e74\u5ea6\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u62ab\u9732\u200b\u65f6\u95f4\u200b\u6700\u8fdf\u200b\u4e0d\u80fd\u200b\u665a\u4e8e\u200b 7 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\uff0c\u200b\u4e09\u200b\u5b63\u62a5\u200b\u4e0d\u80fd\u200b\u665a\u4e8e\u200b 10 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\uff0c\u200b\u5e74\u5ea6\u200b\u4e0d\u80fd\u200b\u665a\u4e8e\u200b 1 \u200b\u6708\u200b 31 \u200b\u65e5\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u903b\u8f91_3","title":"\u7b56\u7565\u200b\u903b\u8f91","text":"<p>\u200b\u5229\u591a\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u5728\u200b\u53d1\u5e03\u200b\u4e4b\u524d\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u6709\u200b\u663e\u8457\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\uff0c\u200b\u5728\u200b\u53d1\u5e03\u200b\u540e\u200b\u57fa\u672c\u200b\u6ca1\u6709\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6781\u6709\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u5185\u5e55\u200b\u4ea4\u6613\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u6784\u5efa_3","title":"\u7b56\u7565\u200b\u6784\u5efa","text":"<p>\u200b\u7531\u4e8e\u200b\u201c\u200b\u9884\u589e\u200b\u201d\u200b\u7c7b\u578b\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u5185\u5e55\u200b\u4ea4\u6613\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u4e0d\u200b\u4ea4\u6613\u200b\u5b83\u200b\uff0c\u200b\u800c\u662f\u200b\u4e70\u5165\u200b\u53e6\u5916\u200b\u4e09\u79cd\u200b\u5229\u591a\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e1a\u7ee9\u200b\u9884\u544a\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u9ad8\u9001\u8f6c","title":"\u9ad8\u9001\u200b\u8f6c","text":"<p>\u200b\u9ad8\u9001\u200b\u8f6c\u662f\u200b\u6307\u5927\u200b\u6bd4\u4f8b\u200b\u9001\u7ea2\u80a1\u200b\u6216\u8005\u200b\u5927\u200b\u6bd4\u4f8b\u200b\u4ee5\u200b\u8d44\u672c\u200b\u516c\u79ef\u91d1\u200b\u8f6c\u589e\u200b\u80a1\u672c\u200b\u3002</p> <p>\u200b\u4e0a\u5e02\u516c\u53f8\u200b\u9009\u62e9\u200b\u9ad8\u9001\u200b\u8f6c\u200b\u65b9\u6848\u200b\uff0c\u200b\u4e00\u65b9\u9762\u200b\u8868\u660e\u200b\u516c\u53f8\u200b\u5bf9\u200b\u4e1a\u7ee9\u200b\u7684\u200b\u6301\u7eed\u589e\u957f\u200b\u5145\u6ee1\u4fe1\u5fc3\u200b\uff0c\u200b\u516c\u53f8\u200b\u5904\u4e8e\u200b\u6210\u957f\u671f\u200b\uff0c\u200b\u6709\u52a9\u4e8e\u200b\u4fdd\u6301\u826f\u597d\u200b\u7684\u200b\u5e02\u573a\u200b\u5f62\u8c61\u200b\uff1b\u200b\u53e6\u4e00\u65b9\u9762\u200b\u4e00\u4e9b\u200b\u80a1\u4ef7\u200b\u9ad8\u200b\uff0c\u200b\u6d41\u52a8\u6027\u200b\u5dee\u200b\u7684\u200b\u516c\u53f8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u9ad8\u9001\u200b\u8f6c\u200b\u964d\u4f4e\u200b\u80a1\u4ef7\u200b\uff0c\u200b\u589e\u4ef7\u200b\u80a1\u7968\u200b\u7684\u200b\u6d41\u52a8\u6027\u200b\u3002</p> <p>\u200b\u6211\u56fd\u200b\u80a1\u7968\u5e02\u573a\u200b\u5b58\u5728\u200b\u663e\u8457\u200b\u7684\u200b\u9ad8\u200b\u9001\u200b\u8f6c\u200b\u6548\u5e94\u200b\uff0c\u200b\u5728\u200b\u4e0a\u5e02\u516c\u53f8\u200b\u53d1\u5e03\u200b\u9ad8\u9001\u200b\u8f6c\u200b\u9884\u544a\u200b\u524d\u540e\u200b\uff0c\u200b\u80a1\u7968\u200b\u5e38\u5e38\u200b\u4f1a\u200b\u6709\u200b\u663e\u8457\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u903b\u8f91_4","title":"\u7b56\u7565\u200b\u903b\u8f91","text":"<p>\u200b\u9ad8\u9001\u200b\u8f6c\u200b\u53ef\u4ee5\u200b\u964d\u4f4e\u200b\u80a1\u4ef7\u200b\uff0c\u200b\u80a1\u4ef7\u200b\u8d8a\u4f4e\u200b\uff0c\u200b\u6d41\u52a8\u6027\u200b\u8d8a\u200b\u597d\u200b\uff0c\u200b\u5e02\u573a\u200b\u53c2\u4e0e\u8005\u200b\u66f4\u200b\u591a\u200b\u3002</p> <p>\u200b\u9ad8\u9001\u200b\u8f6c\u9884\u200b\u62ab\u9732\u200b\u524d\u6709\u200b\u663e\u8457\u200b\u7684\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\uff0c\u200b\u62ab\u9732\u200b\u540e\u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e9b\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u54ea\u4e9b\u516c\u53f8\u5bb9\u6613\u53d1\u751f\u9ad8\u9001\u8f6c","title":"\u54ea\u4e9b\u200b\u516c\u53f8\u200b\u5bb9\u6613\u200b\u53d1\u751f\u200b\u9ad8\u9001\u200b\u8f6c\u200b\uff1f","text":"<p>\u200b\u516c\u53f8\u200b\u5bf9\u200b\u672a\u6765\u200b\u53d1\u5c55\u200b\u5145\u6ee1\u200b\u6b23\u559c\u200b\u3001\u200b\u5f53\u524d\u200b\u80a1\u4ef7\u200b\u9ad8\u200b\u3001\u200b\u6d41\u52a8\u6027\u200b\u4f4e\u200b\uff0c\u200b\u8fd9\u200b\u7c7b\u80a1\u7968\u200b\u6700\u6709\u200b\u9ad8\u9001\u200b\u8f6c\u200b\u7684\u200b\u52a8\u673a\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u6839\u636e\u4e0a\u8ff0\u200b 6 \u200b\u4e2a\u200b\u9884\u6d4b\u200b\u6307\u6807\u200b\uff0c\u200b\u6bcf\u5e74\u200b\u9884\u6d4b\u200b\u9ad8\u9001\u200b\u8f6c\u200b\u6210\u529f\u200b\u7684\u200b\u6982\u7387\u200b\uff1a</p> <p>\u200b\u9884\u6d4b\u200b\u6210\u529f\u7387\u200b\u57fa\u672c\u200b\u9ad8\u4e8e\u200b \\(50\\%\\)\uff0c\u200b\u53ea\u8981\u200b\u8d85\u989d\u200b\u6536\u76ca\u200b\u8db3\u591f\u200b\u9ad8\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7565\u9ad8\u4e8e\u200b \\(50\\%\\) \u200b\u7684\u200b\u9884\u6d4b\u200b\u6210\u529f\u7387\u200b\u4e5f\u200b\u662f\u200b\u53ef\u4ee5\u200b\u53d6\u5f97\u200b\u663e\u8457\u200b\u6536\u76ca\u200b\u7684\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-event-driven-strategy/#\u7b56\u7565\u6784\u5efa_4","title":"\u7b56\u7565\u200b\u6784\u5efa","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/linear-transformation-of-multivariate-normal-distribution/","title":"\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u7ebf\u6027\u53d8\u6362\u200b\u4ecd\u4e3a\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03","text":"<p>\u200b\u5229\u7528\u200b\u7ebf\u6027\u53d8\u6362\u200b\u548c\u200b\u96c5\u200b\u53ef\u6bd4\u200b\u77e9\u9635\u200b\uff0c\u200b\u63a8\u5bfc\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u7ebf\u6027\u53d8\u6362\u200b\u7684\u200b\u6027\u8d28\u200b\u3002</p> <p></p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/","title":"\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u591a\u200b\u7b56\u7565","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b 2023 \u200b\u5e74\u200b 3 \u200b\u6708\u200b 25 \u200b\u65e5\u200b\u7684\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u672c\u8282\u200b\u8bfe\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u591a\u200b\u7b56\u7565\u200b\u7ec4\u5408\u200b\u3002</p> <p></p> <p>\u200b\u5047\u8bbe\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u591a\u4e2a\u200b\u7b56\u7565\u200b\uff0c\u200b\u65f6\u95f4\u8de8\u5ea6\u200b\u662f\u4ece\u200b 1998 \u200b\u5e74\u200b\u5230\u200b 2013 \u200b\u5e74\u200b\u3002\u200b\u5176\u4e2d\u200b\u6ca1\u6709\u200b\u660e\u661f\u200b\u7b56\u7565\u200b\uff0c\u200b\u6709\u4e9b\u200b\u7b56\u7565\u200b\u751a\u81f3\u200b\u6709\u200b\u5de8\u5927\u200b\u56de\u64a4\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u7b49\u6743\u91cd\u7ec4\u5408","title":"\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408","text":"<p>\u200b\u505a\u200b\u4e3a\u200b\u7ec4\u5408\u200b\u7814\u7a76\u200b\u7684\u200b\u57fa\u51c6\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408\u200b\u7684\u200b\u7d2f\u79ef\u200b\u6536\u76ca\u7387\u200b\u66f2\u7ebf\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u6839\u636e\u8fd1\u671f\u56de\u62a5\u7387\u8c03\u6574\u7b56\u7565\u6743\u91cd","title":"\u6839\u636e\u200b\u8fd1\u671f\u200b\u56de\u62a5\u7387\u200b\u8c03\u6574\u200b\u7b56\u7565\u200b\u6743\u91cd","text":"<p>\u200b\u4e0b\u56fe\u200b\u662f\u200b\u6307\u200b\u6bcf\u4e2a\u200b\u6708\u200b\u8c03\u6574\u200b\u4e00\u6b21\u200b\u6743\u91cd\u200b\uff0c\u200b\u6700\u8fd1\u200b 6 \u200b\u4e2a\u200b\u6708\u200b\u7684\u200b\u5e73\u5747\u200b\u56de\u62a5\u200b\u9ad8\u200b\u7684\u200b\u5360\u6709\u200b\u66f4\u5927\u200b\u6743\u91cd\u200b\u3002</p> <p></p> <p>\u200b\u901a\u8fc7\u200b\u5b9a\u671f\u200b\u8c03\u6574\u200b\u7b56\u7565\u200b\u6743\u91cd\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u83b7\u5f97\u200b\u4e86\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\u3002(\u200b\u5176\u5b9e\u200b\u4f5c\u5f0a\u200b\u4e86\u200b)</p> <p>\u200b\u6709\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u9700\u8981\u200b\u7814\u7a76\u200b\uff1a</p> <ol> <li>\u200b\u8c03\u6574\u200b\u6743\u91cd\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u8fd1\u671f\u200b\u5e73\u5747\u200b\u56de\u62a5\u7387\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8fd1\u671f\u200b\u662f\u200b\u6307\u200b\u591a\u957f\u65f6\u95f4\u200b\uff0c\u200b\u5373\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6\u200b\u662f\u200b\u591a\u5c11\u200b\uff1f</li> <li>\u200b\u6bcf\u9694\u200b\u591a\u957f\u65f6\u95f4\u200b\u8c03\u6574\u200b\u4e00\u6b21\u200b\u6743\u91cd\u200b\uff1f</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u4e0d\u540c\u56de\u6eaf\u6837\u672c\u957f\u5ea6","title":"\u4e0d\u540c\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6","text":"<p>\u200b\u4e0b\u200b\u56fe\u753b\u200b\u51fa\u200b\u4e0d\u540c\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6bcf\u6708\u200b\u8fdb\u884c\u200b\u6743\u91cd\u200b\u8c03\u6574\u200b\u7684\u200b\u5e73\u5747\u200b\u6708\u5ea6\u200b\u56de\u62a5\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u57fa\u51c6\u200b\u4ecd\u7136\u200b\u662f\u200b\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u4e0d\u540c\u8c03\u6574\u9891\u7387","title":"\u4e0d\u540c\u200b\u8c03\u6574\u200b\u9891\u7387","text":"<p>\u200b\u53ea\u8981\u200b\u6211\u4eec\u200b\u8c03\u6574\u200b\u6743\u91cd\u200b\u7684\u200b\u9891\u7387\u200b\u4e0d\u8981\u200b\u592a\u4f4e\u200b\uff08\u200b\u8d85\u8fc7\u200b 6 \u200b\u4e2a\u200b\u6708\u200b\uff09\uff0c\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u80fd\u200b\u83b7\u5f97\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\u3002\uff08\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u4e3a\u200b 3 \u200b\u4e2a\u200b\u6708\u200b\uff09</p> <p></p> <p>\u200b\u7ecf\u8fc7\u200b\u5bf9\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6\u200b\u548c\u200b\u8c03\u6574\u200b\u9891\u7387\u200b\u7684\u200b\u7814\u7a76\u200b\uff0c\u200b\u6211\u4eec\u200b\u610f\u8bc6\u200b\u5230\u200b\uff1a</p> <ol> <li>\u200b\u8fd9\u79cd\u200b\u4f9d\u636e\u200b\u8fd1\u671f\u200b\u56de\u62a5\u7387\u200b\u8c03\u6574\u200b\u6743\u91cd\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e00\u822c\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\uff1b</li> <li>\u200b\u4f46\u662f\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u53cd\u800c\u200b\u4e0d\u5982\u200b\u7b49\u200b\u6743\u91cd\u200b\u3002</li> </ol> <p>\u200b\u53ef\u80fd\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u539f\u56e0\u200b\uff1a</p> <ol> <li>\u200b\u8fd9\u79cd\u200b\u53ea\u4ee5\u200b\u56de\u62a5\u7387\u200b\u4e3a\u200b\u8c03\u6574\u200b\u6807\u51c6\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b8c\u5168\u200b\u5ffd\u7565\u200b\u4e86\u200b\u7b56\u7565\u200b\u7684\u200b\u6ce2\u52a8\u6027\u200b\u548c\u200b\u76f8\u5173\u6027\u200b\u3002</li> <li>\u200b\u8fd1\u671f\u200b\u8868\u73b0\u200b\u8f83\u200b\u597d\u200b\u7684\u200b\u7b56\u7565\u200b\u5f80\u5f80\u200b\u76f8\u5173\u6027\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u5bb9\u6613\u200b\u5bfc\u81f4\u200b\u8fc7\u9ad8\u200b\u914d\u7f6e\u200b\u76f8\u5173\u6027\u200b\u5f88\u200b\u9ad8\u200b\u7684\u200b\u7b56\u7565\u200b\u3002</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u6839\u636e\u8fd1\u671f\u4fe1\u606f\u6bd4\u7387\u8c03\u6574\u7b56\u7565\u6743\u91cd","title":"\u6839\u636e\u200b\u8fd1\u671f\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u8c03\u6574\u200b\u7b56\u7565\u200b\u6743\u91cd","text":"<p>\u200b\u4e0b\u56fe\u200b\u662f\u200b\u6307\u200b\u6bcf\u4e2a\u200b\u6708\u200b\u8c03\u6574\u200b\u4e00\u6b21\u200b\u6743\u91cd\u200b\uff0c\u200b\u6700\u8fd1\u200b 6 \u200b\u4e2a\u200b\u6708\u200b\u7684\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u9ad8\u200b\u7684\u200b\u5360\u6709\u200b\u66f4\u5927\u200b\u6743\u91cd\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u4e0d\u540c\u56de\u6eaf\u6837\u672c\u957f\u5ea6_1","title":"\u4e0d\u540c\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6","text":"<p>\u200b\u4e0b\u200b\u56fe\u753b\u200b\u51fa\u200b\u4e0d\u540c\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6bcf\u6708\u200b\u8fdb\u884c\u200b\u6743\u91cd\u200b\u8c03\u6574\u200b\u7684\u200b\u5e73\u5747\u200b\u6708\u5ea6\u200b\u56de\u62a5\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u57fa\u51c6\u200b\u4ecd\u7136\u200b\u662f\u200b\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408\u200b\u3002</p> <p></p> <p>\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u8fd8\u662f\u200b\u4e0d\u5982\u200b\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408\u200b\u3002</p> <p>\u200b\u53cd\u200b\u76f4\u89c9\u200b\u7684\u200b\u73b0\u8c61\u200b</p> <p>\u200b\u6211\u4eec\u200b\u4ee5\u200b\u6700\u8fd1\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u4e3a\u200b\u6743\u91cd\u200b\u4f9d\u636e\u200b\uff0c\u200b\u4f46\u200b\u5f97\u5230\u200b\u7684\u200b\u6295\u8d44\u200b\u7ec4\u5408\u200b\u7684\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u53cd\u800c\u200b\u5bb3\u200b\u4e0d\u5982\u200b\u7b49\u6743\u200b\u7ec4\u5408\u200b\u7684\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u4e0d\u540c\u8c03\u6574\u9891\u7387_1","title":"\u4e0d\u540c\u200b\u8c03\u6574\u200b\u9891\u7387","text":"<p>\u200b\u4e0d\u540c\u200b\u8c03\u6574\u200b\u9891\u7387\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u80fd\u200b\u83b7\u5f97\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\u3002</p> <p></p> <p>\u200b\u8c03\u6574\u200b\u9891\u7387\u200b\u8fc7\u200b\u4f4e\u4e0b\u200b\uff0c\u200b\u4f1a\u200b\u9020\u6210\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u4e0b\u964d\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u5747\u503c---\u65b9\u5dee\u6a21\u578b","title":"\u5747\u503c\u200b - \u200b\u65b9\u5dee\u200b\u6a21\u578b","text":"<p>\u200b\u6837\u672c\u200b\u5185\u200b\u68c0\u9a8c\u200b\u6700\u5927\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u6743\u91cd\u200b\uff0c\u200b\u6240\u200b\u5f97\u5230\u200b\u7684\u200b\u4e1a\u7ee9\u200b\u5168\u9762\u200b\u4f18\u4e8e\u200b\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408\u200b\u3002</p> <p></p> <p>\u200b\u6837\u672c\u200b\u5185\u200b\u6700\u5927\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u7ec4\u5408\u200b\u6536\u76ca\u7387\u200b\u66f2\u7ebf\u200b\u8f83\u4e3a\u200b\u5e73\u6ed1\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u4e0d\u540c\u56de\u6eaf\u6837\u672c\u957f\u5ea6_2","title":"\u4e0d\u540c\u200b\u56de\u6eaf\u200b\u6837\u672c\u200b\u957f\u5ea6","text":"<p>\u200b\u5728\u200b\u5404\u4e2a\u200b\u56de\u6d4b\u200b\u6837\u672c\u200b\u957f\u5ea6\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u56de\u62a5\u7387\u200b\u548c\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u5927\u4f53\u4e0a\u200b\u90fd\u200b\u4f18\u4e8e\u200b\u7b49\u200b\u6743\u91cd\u200b\u7ec4\u5408\u200b\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u4e0d\u540c\u8c03\u6574\u9891\u7387_2","title":"\u4e0d\u540c\u200b\u8c03\u6574\u200b\u9891\u7387","text":"<p>\u200b\u4e0d\u540c\u200b\u8c03\u6574\u200b\u9891\u7387\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u80fd\u200b\u83b7\u5f97\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u200b\u5229\u7528\u200b\u8fd1\u671f\u200b\u56de\u62a5\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b\u6700\u5927\u5316\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u6743\u91cd\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c</p> <ol> <li>\u200b\u4e00\u822c\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\uff1b</li> <li>\u200b\u4e00\u822c\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u6bd4\u200b\u7b49\u200b\u6743\u91cd\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\uff1b</li> <li>\u200b\u8c03\u6574\u200b\u9891\u7387\u200b\u4e0d\u80fd\u200b\u592a\u4f4e\u200b\u3002</li> </ol> <p>\u200b\u5176\u200b\u4f18\u8d8a\u6027\u200b\u4e3b\u8981\u200b\u4f53\u73b0\u200b\u5728\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u8003\u8651\u200b\u4e86\u200b\u591a\u200b\u7b56\u7565\u200b\u7684\u200b\u5404\u79cd\u200b\u6027\u8d28\u200b\uff1a</p> <ol> <li>\u200b\u56de\u62a5\u7387\u200b</li> <li>\u200b\u6ce2\u52a8\u200b\u7387\u200b</li> <li>\u200b\u76f8\u5173\u6027\u200b</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/quantitative-investment-lecture-multiple-strategies/#\u5404\u7c7b\u65b9\u6cd5\u6bd4\u8f83","title":"\u5404\u7c7b\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83","text":"<ol> <li>\u200b\u4f9d\u636e\u200b\u8fd1\u671f\u200b\u56de\u62a5\u7387\u200b/\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u8c03\u6574\u200b\u6743\u91cd\u200b\u7684\u200b\u65b9\u6cd5\u200b\u80fd\u200b\u53d6\u5f97\u200b\u8f83\u5927\u200b\u7684\u200b\u56de\u62a5\u7387\u200b\uff1b</li> <li>\u200b\u4f46\u662f\u200b\u7ecf\u5e38\u200b\u5728\u200b\u76f8\u540c\u200b\u7c7b\u578b\u200b\u7b56\u7565\u200b\u4e0a\u200b\u653e\u5165\u200b\u592a\u9ad8\u200b\u7684\u200b\u6bd4\u91cd\u200b\uff0c\u200b\u9020\u6210\u200b\u6ce2\u52a8\u200b\u7387\u200b\u4e0a\u5347\u200b\uff0c\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u4e0b\u964d\u200b\uff1b</li> <li>\u200b\u5229\u7528\u200b\u8fd1\u671f\u200b\u56de\u62a5\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b\u6700\u5927\u5316\u200b\u4fe1\u606f\u200b\u6bd4\u7387\u200b\u6743\u91cd\u200b\u7684\u200b\u65b9\u6cd5\u200b\u517c\u987e\u200b\u56de\u62a5\u7387\u200b\uff0c\u200b\u6ce2\u52a8\u200b\u7387\u200b\u548c\u200b\u76f8\u5173\u6027\u200b\uff0c\u200b\u662f\u200b\u53ef\u4ee5\u200b\u91cd\u70b9\u200b\u8003\u8651\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</li> </ol> <p>\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u8fc7\u5f80\u200b\u56de\u62a5\u200b\u662f\u5426\u200b\u9884\u6d4b\u200b\u672a\u6765\u200b\u56de\u62a5\u200b\uff1f</li> <li>\u200b\u8fc7\u5f80\u200b\u6ce2\u52a8\u200b\u7387\u200b\u662f\u5426\u200b\u9884\u6d4b\u200b\u672a\u6765\u200b\u6ce2\u52a8\u200b\u7387\u200b\uff1f </li> <li>\u200b\u8fc7\u5f80\u200b\u76f8\u5173\u6027\u200b\u662f\u5426\u200b\u9884\u6d4b\u200b\u672a\u6765\u200b\u76f8\u5173\u6027\u200b\uff1f</li> </ol>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/","title":"\u7a00\u758f\u200b\u9ad8\u7ef4\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u7684\u200b Thresholding \u200b\u4f30\u8ba1\u200b\u65b9\u6cd5","text":"<p>\u200b\u9ad8\u7ef4\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u7684\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u7279\u5f81\u200b\u5c31\u662f\u200b\u8bb8\u591a\u200b\u7ef4\u5ea6\u200b\u4e4b\u95f4\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u975e\u5e38\u200b\u63a5\u8fd1\u200b\u4e8e\u200b 0\uff0c\u200b\u4e00\u4e2a\u200b\u81ea\u7136\u200b\u7684\u200b\u60f3\u6cd5\u200b\u5c31\u662f\u200b\u5c06\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7edd\u5bf9\u503c\u200b\u592a\u5c0f\u200b\u7684\u200b\u5143\u7d20\u200b\u8bbe\u200b\u4e3a\u200b 0\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u5c31\u662f\u200b Thresholding\uff08\u200b\u95e8\u9650\u200b\uff09\uff1a\u200b\u901a\u8fc7\u200b\u8bbe\u5b9a\u200b\u67d0\u4e2a\u200b\u95e8\u9650\u200b\uff0c\u200b\u5c06\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b\u8be5\u200b\u95e8\u9650\u200b\u7684\u200b\u5143\u7d20\u200b\u8bbe\u200b\u4e3a\u200b 0\uff0c\u200b\u53ea\u200b\u4fdd\u7559\u200b\u7edd\u5bf9\u503c\u200b\u5927\u4e8e\u200b\u6216\u200b\u7b49\u4e8e\u200b\u8be5\u200b\u95e8\u9650\u200b\u7684\u200b\u5143\u7d20\u200b\u3002</p> <p>\u200b\u901a\u8fc7\u200b Thresholding \u200b\u4f30\u8ba1\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u6bd4\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u66f4\u200b\u7a00\u758f\u200b\u7684\u200b\u4f30\u8ba1\u200b\u3002\u200b\u5b66\u672f\u754c\u200b\u63d0\u51fa\u200b\u4e86\u200b\u4e24\u79cd\u200b\u8bbe\u7f6e\u200b Thresholding \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1aUniversal thresholding\uff08\u200b\u7edf\u4e00\u200b\u622a\u65ad\u200b\uff09\u200b\u548c\u200b Adaptive thresholding\uff08\u200b\u81ea\u200b\u9002\u5e94\u200b\u622a\u65ad\u200b\uff09\u3002\u200b\u524d\u8005\u200b\u5bf9\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u5747\u200b\u91c7\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u95e8\u9650\u200b\u6807\u51c6\u200b\uff0c\u200b\u800c\u200b\u540e\u8005\u200b\u57fa\u4e8e\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u4f30\u8ba1\u200b\u7684\u200b\u6807\u51c6\u200b\u8bef\u81ea\u200b\u9002\u5e94\u200b\u5730\u4e3a\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u8bbe\u5b9a\u200b\u95e8\u69db\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u6a21\u62df\u200b\u7684\u200b\u9ad8\u65af\u5206\u5e03\u200b\u6570\u636e\u200b\u548c\u200b\u771f\u5b9e\u200b\u7684\u200b\u9ad8\u7ef4\u200b DNA \u200b\u57fa\u56e0\u200b\u6570\u636e\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u4e86\u200b Universal thresholding \u200b\u548c\u200b Adaptive thresholding \u200b\u7684\u200b\u4f30\u8ba1\u200b\u6548\u679c\u200b\uff0c\u200b\u6240\u5f97\u200b\u7ed3\u679c\u200b\u4e0e\u200b Tony Cai &amp; Weidong Liu (2011) \u200b\u4e2d\u200b\u7684\u200b\u7ed3\u679c\u200b\u57fa\u672c\u4e00\u81f4\u200b\u3002</p> <p></p> <p>\u200b\u624b\u52a8\u200b\u5b9e\u73b0\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6536\u83b7\u200b</p> <p>\u200b\u5728\u200b\u5b9e\u73b0\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65f6\u200b\uff0c\u200b\u8981\u200b\u6e05\u695a\u200b\u4e00\u5171\u200b\u6709\u200b\u51e0\u4e2a\u200b\u5faa\u73af\u200b\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5019\u9009\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u90fd\u200b\u8981\u200b\u5728\u200b\u6240\u6709\u200b\u6298\u4e0a\u200b\u505a\u200b\u8bad\u7ec3\u200b\u548c\u200b\u9a8c\u8bc1\u200b\uff01</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e00\u5171\u200b\u6709\u200b 10 \u200b\u4e2a\u200b\u5019\u9009\u200b\u7684\u200b\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u8fdb\u884c\u200b 5 \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u90a3\u4e48\u200b\u9700\u8981\u200b\u5bf9\u200b\u8fd9\u200b 10 \u200b\u4e2a\u200b\u8d85\u200b\u53c2\u6570\u200b\u90fd\u200b\u8bad\u7ec3\u200b\u3001\u200b\u9a8c\u8bc1\u200b 5 \u200b\u6b21\u200b\uff0c\u200b\u4e00\u5171\u200b\u8bad\u7ec3\u200b\u3001\u200b\u9a8c\u8bc1\u200b 50 \u200b\u6b21\u200b\u3002</p> <p>\u200b\u5728\u200b\u7f16\u7801\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u200b\u6700\u200b\u5f00\u59cb\u200b\u8bef\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6298\u4e0a\u200b\u505a\u200b\u8bad\u7ec3\u200b\u548c\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u8fd9\u6837\u200b\u505a\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u8fbe\u5230\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import KFold, StratifiedKFold\nfrom rich.progress import Progress\n# \u200b\u8bbe\u5b9a\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b\nnp.random.seed(42)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u5b9a\u4e49\u7c7b\u548c\u51fd\u6570\u7528\u4e8e\u751f\u6210\u534f\u65b9\u5dee\u77e9\u9635\u5b9e\u65bd\u5404\u79cd\u622a\u65ad\u65b9\u6cd5","title":"\u5b9a\u4e49\u200b\u7c7b\u200b\u548c\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u3001\u200b\u5b9e\u65bd\u200b\u5404\u79cd\u200b\u622a\u65ad\u200b\u65b9\u6cd5","text":"Python<pre><code>class SigmaGenerator:\n\"\"\"\n    \u200b\u751f\u6210\u200b Model 1 \u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n    \"\"\"\ndef __init__(self, p):\n# \u200b\u5fc5\u987b\u200b\u4fdd\u8bc1\u200b p \u200b\u4e3a\u200b\u5076\u6570\u200b\uff0c\u200b\u5426\u5219\u200b\u65e0\u6cd5\u200b\u751f\u6210\u200b Model 1 \u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\nassert p % 2 == 0, \"p must be even\"\nself.p = int(p / 2)\ndef A_1_sigma(self):\n\"\"\"\n        \u200b\u751f\u6210\u200b A1\n        \"\"\"\n# \u200b\u521d\u59cb\u5316\u200b A1\nmatrix = np.zeros((self.p, self.p))\n# \u200b\u751f\u6210\u200b A1 \u200b\u4e2d\u200b\u7684\u200b\u7b2c\u200b i \u200b\u884c\u200b \u200b\u7b2c\u200b j \u200b\u5217\u200b\u7684\u200b\u503c\u200b\nfor i in range(self.p):\nfor j in range(self.p):\nmatrix[i][j] = max(0, 1 - abs(i - j) / 10)\nreturn matrix\ndef A_2_sigma(self):\n\"\"\"\n        \u200b\u751f\u6210\u200b A2\n        \"\"\"\n# \u200b\u521d\u59cb\u5316\u200b A2\uff0c\u200b\u5bf9\u89d2\u7ebf\u200b\u5143\u7d20\u200b\u5747\u200b\u4e3a\u200b 4\uff0c\u200b\u5176\u4ed6\u200b\u5143\u7d20\u200b\u5747\u200b\u4e3a\u200b 0\nmatrix = 4 * np.eye(self.p)\nreturn matrix\ndef gen_sigma(self):\n\"\"\"\n        \u200b\u751f\u6210\u200b Model 1 \u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n        \"\"\"\n# \u200b\u7528\u200b A1 \u200b\u548c\u200b A2 \u200b\u4e24\u4e2a\u200b bolck \u200b\u7ec4\u6210\u200b sigma\nmatrix = np.block(\n[\n[self.A_1_sigma(), np.zeros((self.p, self.p))],\n[np.zeros((self.p, self.p)), self.A_2_sigma()],\n]\n)\nreturn matrix\nclass Thresholding:\ndef __init__(self, vectors, labels=None):\nself.vectors = vectors\nself.labels = labels\nself.n = vectors.shape[0]\nself.p = vectors.shape[1]\ndef cal_cov(self, vectors=None):\n\"\"\"\n        \u200b\u8ba1\u7b97\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n        Args:\n            vectors: \u200b\u591a\u4e2a\u200b\u5411\u91cf\u200b\n        Returns:\n            cov: \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n        \"\"\"\n# \u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u4f20\u5165\u200b vectors\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b self.vectors\nif vectors is None:\nvectors = self.vectors\n# \u200b\u5982\u679c\u200b\u4f20\u5165\u200b vectors\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b\u4f20\u5165\u200b\u7684\u200b vectors\ncov = np.cov(vectors, rowvar=False)\nreturn cov\ndef cal_risk(\nself, cov_1: np.ndarray, cov_2: np.ndarray, norm_type: str = \"operator\"\n):\n\"\"\"\n        \u200b\u8ba1\u7b97\u200b\u4e24\u4e2a\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4e4b\u5dee\u200b\u7684\u200b norm\n        Args:\n            cov_1: \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b 1\n            cov_2: \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b 2\n            norm_type: norm \u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b 'Operator norm', 'Matrix l1 norm' or 'Frobenius norm'\n        Returns:\n            risk: \u200b\u4e24\u4e2a\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4e4b\u5dee\u200b\u7684\u200b norm\n        \"\"\"\n# \u200b\u65ad\u8a00\u200b cov_1 \u200b\u548c\u200b cov_2 \u200b\u7684\u200b\u5f62\u72b6\u200b\u76f8\u540c\u200b\nassert cov_1.shape == cov_2.shape, \"cov_1 and cov_2 must have the same shape\"\ndiff = cov_1 - cov_2\nif norm_type == \"Operator norm\":\nrisk = np.linalg.norm(diff, ord=2)\nelif norm_type == \"Matrix l1 norm\":\nrisk = np.linalg.norm(diff, ord=1)\nelif norm_type == \"Frobenius norm\":\nrisk = np.linalg.norm(diff, ord=\"fro\")\nelse:\nraise ValueError(\n\"norm_type must be 'Operator norm', 'Matrix l1 norm' or 'Frobenius norm'\"\n)\nreturn risk\ndef thresholding(self, cov: np.ndarray, threshold: np.ndarray):\n\"\"\"\n        \u200b\u5bf9\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u8fdb\u884c\u200b thresholding\n        Args:\n            cov: \u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n            threshold: \u200b\u622a\u65ad\u200b\u6807\u51c6\u200b\u77e9\u9635\u200b\n        Returns:\n            cov: \u200b\u622a\u65ad\u200b\u540e\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\n        \"\"\"\n# \u200b\u65ad\u8a00\u200b cov \u200b\u548c\u200b threshold \u200b\u7684\u200b\u5f62\u72b6\u200b\u76f8\u540c\u200b\nassert (\ncov.shape == threshold.shape\n), \"cov and threshold must have the same shape\"\n# copy() \u200b\u662f\u200b\u4e3a\u4e86\u200b\u9632\u6b62\u200b\u4fee\u6539\u200b\u539f\u200b\u77e9\u9635\u200b\ncov = cov.copy()\n# \u200b\u5bf9\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u8fdb\u884c\u200b thresholding\n# \u200b\u5c06\u200b\u7edd\u5bf9\u503c\u200b\u5c0f\u4e8e\u200b threshold \u200b\u7684\u200b\u5143\u7d20\u200b\u7f6e\u200b\u4e3a\u200b 0\ncov[np.abs(cov) &lt; threshold] = 0\nreturn cov\ndef cal_theta_hat(self):\n\"\"\"\n        \u200b\u8ba1\u7b97\u200b theta_hat\n        Returns:\n            theta_hat: theta_hat\n        \"\"\"\n# \u200b\u8ba1\u7b97\u200b sigma_hat\nsigma_hat = self.cal_cov()\n# \u200b\u8ba1\u7b97\u200b theta_hat\ntheta_hat = np.zeros((self.p, self.p))\nfor i in range(self.p):\nx_i_bar = np.mean(self.vectors[:, i])\nfor j in range(self.p):\nx_j_bar = np.mean(self.vectors[:, j])\nfor k in range(self.n):\ntheta_hat[i][j] += (\n(self.vectors[k][i] - x_i_bar) * (self.vectors[k][j] - x_j_bar)\n- sigma_hat[i][j]\n) ** 2\ntheta_hat /= self.n\nreturn theta_hat\ndef get_best_threshold_using_cv(\nself,\nmethod: str = \"universal\",\nnorm_type: str = \"operator\",\nN: int = 10,\nsplit_method: str = \"KFold\",\n):\n\"\"\"\n        \u200b\u4f7f\u7528\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5bf9\u200b\u6837\u672c\u200b\u8fdb\u884c\u200b thresholding\uff0c\u200b\u9009\u53d6\u200b\u6700\u4f18\u200b\u7684\u200b\u622a\u65ad\u200b\u6807\u51c6\u200b\u77e9\u9635\u200b threshold\n        Args:\n            method: thresholding \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b universal, adaptive, adaptive2\n            norm_type: norm \u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b operator, l1, frobenius\n            N: \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6298\u6570\u200b\n            split_method: \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b KFold, StratifiedKFold\n        Returns:\n            threshold: \u200b\u6700\u4f18\u200b\u7684\u200b\u622a\u65ad\u200b\u6807\u51c6\u200b\u77e9\u9635\u200b\n        \"\"\"\n# \u200b\u8ba1\u7b97\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u6700\u5927\u200b\u5143\u7d20\u200b\u503c\u200b\nmax_cov = np.max(np.abs(self.cal_cov()))\n# \u200b\u6784\u9020\u200b delta \u200b\u7684\u200b\u5019\u9009\u200b\u96c6\u200b\uff0c\u200b\u6700\u5c0f\u200b\u4e3a\u200b 0\uff0c\u200b\u6700\u5927\u200b\u4e3a\u539f\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u6700\u5927\u503c\u200b\uff0c\u200b\u5171\u200b 5 \u200b\u4e2a\u200b\u5019\u9009\u200b\u503c\u200b\ndelta_candidates = np.linspace(0, max_cov, 5)\nif method == \"Universal\":\n# \u200b\u6784\u9020\u200b threshold \u200b\u7684\u200b\u5019\u9009\u200b\u96c6\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b 1 \u200b\u7ef4\u200b\u6570\u7ec4\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b threshold\nthreshold_candidates = delta_candidates * np.sqrt(np.log(self.p) / self.n)\n# \u200b\u5c06\u200b threshold_candidates \u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5217\u8868\u200b\uff0c\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u4e3a\u200b self.p * self.p \u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u5747\u200b\u4e3a\u200b threshold\nthreshold_candidates = [\nnp.full((self.p, self.p), threshold)\nfor threshold in threshold_candidates\n]\nelif method == \"Adaptive\":\n# \u200b\u8ba1\u7b97\u200b theta_hat\ntheta_hat = self.cal_theta_hat()\n# \u200b\u6784\u9020\u200b threshold \u200b\u7684\u200b\u5019\u9009\u200b\u96c6\u200b\nthreshold_candidates = [\ndelta * np.sqrt(theta_hat * np.log(self.p) / self.n)\nfor delta in delta_candidates\n]\nelif method == \"Adaptive2\":\n# \u200b\u8ba1\u7b97\u200b theta_hat\ntheta_hat = self.cal_theta_hat()\n# \u200b\u4f7f\u7528\u200b delta = 2\nreturn 2 * np.sqrt(theta_hat * np.log(self.p) / self.n)\nelse:\nraise ValueError(\"method must be Universal, Adaptive or Adaptive2\")\n# \u200b\u6784\u9020\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5212\u5206\u200b\u6837\u672c\u200b\u7684\u200b\u5b9e\u4f8b\u200b\nif split_method == \"KFold\":\nspliter = KFold(n_splits=N, shuffle=True, random_state=42)\nelif split_method == \"StratifiedKFold\":\nspliter = StratifiedKFold(n_splits=N, shuffle=True, random_state=42)\nelse:\nraise ValueError(\"split_method must be KFold or StratifiedKFold\")\n# \u200b\u6784\u9020\u200b risks \u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6bcf\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b risk\nrisks = []\n# \u200b\u6784\u9020\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u5206\u5272\u200b\u7d22\u5f15\u200b\nif split_method == \"KFold\":\nsplit_index = spliter.split(self.vectors)\nelif split_method == \"StratifiedKFold\":\nsplit_index = spliter.split(self.vectors, self.labels)\nelse:\nraise ValueError(\"split_method must be KFold or StratifiedKFold\")\n# \u200b\u904d\u5386\u200b threshold_candidates \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b threshold\nfor threshold in threshold_candidates:\nrisk = 0\nfor n_1_index, n_2_index in split_index:\n# \u200b\u8ba1\u7b97\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\ncov_n_1 = self.cal_cov(self.vectors[n_1_index])\ncov_n_2 = self.cal_cov(self.vectors[n_2_index])\n# \u200b\u5c06\u200b cov_n_1 \u200b\u8fdb\u884c\u200b thresholding\ncov_n_1 = self.thresholding(cov_n_1, threshold)\n# \u200b\u8ba1\u7b97\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u7684\u200b risk\nrisk += self.cal_risk(cov_n_1, cov_n_2, norm_type)\n# \u200b\u5c06\u200b risk \u200b\u7684\u200b\u5747\u503c\u200b\u6dfb\u52a0\u200b\u5230\u200b risks \u200b\u4e2d\u200b\nrisks.append(risk / N)\n# \u200b\u9009\u53d6\u200b risks \u200b\u4e2d\u200b\u7684\u200b\u6700\u5c0f\u200b risk \u200b\u5bf9\u5e94\u200b\u7684\u200b threshold\nthreshold = threshold_candidates[np.argmin(risks)]\nreturn threshold\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u6a21\u62df\u9ad8\u65af\u5206\u5e03\u7684\u534f\u65b9\u5dee\u77e9\u9635\u4f30\u8ba1","title":"\u6a21\u62df\u200b\u9ad8\u65af\u5206\u5e03\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4f30\u8ba1","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u4f30\u8ba1\u6b65\u9aa4","title":"\u4f30\u8ba1\u200b\u6b65\u9aa4","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u6784\u9020\u6570\u636e\u6846\u5b58\u50a8\u7ed3\u679c","title":"\u6784\u9020\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5b58\u50a8\u200b\u7ed3\u679c","text":"Python<pre><code># \u200b\u6784\u9020\u200b\u53cc\u91cd\u200b\u7d22\u5f15\u200b\nidx = pd.MultiIndex.from_product(\n[\n[\"Operator norm\", \"Matrix l1 norm\", \"Frobenius norm\"],\n[30, 100, 200],\n],\nnames=[\"norm_type\", \"p\"],\n)\n# \u200b\u5b9a\u4e49\u200b\u5217\u540d\u200b\ncol_names = [\"Universal\", \"Adaptive\", \"Adaptive2\"]\n# \u200b\u521b\u5efa\u200b\u7a7a\u200b\u7684\u200b DataFrame\ntable_1 = pd.DataFrame(columns=col_names, index=idx)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u590d\u73b0-table-1\u8ba1\u7b97\u5404\u7ef4\u5ea6\u5404\u622a\u65ad\u65b9\u6cd5\u5404\u53c2\u6570\u4e0b\u7684-risk-\u5747\u503c\u548c\u6807\u51c6\u8bef","title":"\u590d\u73b0\u200b Table 1\uff1a\u200b\u8ba1\u7b97\u200b\u5404\u200b\u7ef4\u5ea6\u200b\u3001\u200b\u5404\u200b\u622a\u65ad\u200b\u65b9\u6cd5\u200b\u3001\u200b\u5404\u200b\u53c2\u6570\u200b\u4e0b\u200b\u7684\u200b risk \u200b\u5747\u503c\u200b\u548c\u200b\u6807\u51c6\u200b\u8bef","text":"Python<pre><code># \u200b\u91cd\u590d\u200b 100 \u200b\u6b21\u200b\uff0c\u200b\u8ba1\u7b97\u200b risk\ndef replication(progress, task, mu, cov, method, norm_type):\n# \u200b\u5b9a\u4e49\u200b risks \u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b risk\nrisk_list = []\n# \u200b\u91cd\u590d\u200b 100 \u200b\u6b21\u200b\uff0c\u200b\u8ba1\u7b97\u200b risk \u200b\u7684\u200b\u5747\u503c\u200b\u548c\u200b\u6807\u51c6\u5dee\u200b\nfor _ in range(100):\n# \u200b\u751f\u6210\u200b 100 \u200b\u4e2a\u200b p \u200b\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u200b\u5411\u91cf\u200b\nvectors = np.random.multivariate_normal(mu, cov, 100)\n# \u200b\u5b9a\u4e49\u200b Thresholding \u200b\u5b9e\u4f8b\u200b\nthresholding = Thresholding(vectors)\n# \u200b\u8ba1\u7b97\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\ncov_hat = thresholding.cal_cov()\n# \u200b\u8fdb\u884c\u200b 10 \u200b\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u53d6\u200b\u6700\u4f18\u200b\u622a\u65ad\u200b\u6807\u51c6\u200b\u77e9\u9635\u200b\nbest_threshold = thresholding.get_best_threshold_using_cv(\nmethod, norm_type, N=10\n)\n# \u200b\u5bf9\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u8fdb\u884c\u200b thresholding\ncov_hat_after_thresholding = thresholding.thresholding(cov_hat, best_threshold)\n# \u200b\u8ba1\u7b97\u200b risk\nrisk = thresholding.cal_risk(cov_hat_after_thresholding, cov, norm_type)\n# \u200b\u5c06\u200b risk \u200b\u52a0\u5165\u200b risk_list\nrisk_list.append(risk)\n# \u200b\u66f4\u65b0\u200b\u8fdb\u5ea6\u6761\u200b\nprogress.update(task, advance=1)\nreturn risk_list\n</code></pre> Python<pre><code>with Progress() as progress:\ntask = progress.add_task(\"[green] \u200b\u6b63\u5728\u200b\u8ba1\u7b97\u200b\u3002..\", total=3 * 3 * 3 * 100)\nfor p in [30, 100, 200]:\n# \u200b\u751f\u6210\u200b\u771f\u5b9e\u200b\u7684\u200b p \u200b\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u5747\u503c\u200b\u5411\u91cf\u200b\u548c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\nmu = np.zeros(p)\ncov = SigmaGenerator(p).gen_sigma()\n# \u200b\u904d\u5386\u200b\u4e09\u79cd\u200b\u622a\u65ad\u200b\u65b9\u6cd5\u200b\nfor method in [\"Universal\", \"Adaptive\", \"Adaptive2\"]:\n# \u200b\u904d\u5386\u200b\u4e09\u79cd\u200b\u8ba1\u7b97\u200b risk \u200b\u7684\u200b\u65b9\u6cd5\u200b\nfor norm_type in [\"Operator norm\", \"Matrix l1 norm\", \"Frobenius norm\"]:\n# \u200b\u91cd\u590d\u200b 100 \u200b\u6b21\u200b\uff0c\u200b\u8ba1\u7b97\u200b risk\nrisk_list = replication(progress, task, mu, cov, method, norm_type)\n# \u200b\u8ba1\u7b97\u200b risk \u200b\u7684\u200b\u5747\u503c\u200b\u548c\u200b\u6807\u51c6\u5dee\u200b\nrisk_mean = np.mean(risk_list)\nrisk_std_error = np.std(risk_list) / np.sqrt(100)\ntable_1.loc[\n(norm_type, p), method\n] = f\"{risk_mean:.2f} ({risk_std_error:.2f})\"\n</code></pre> norm_type p Universal Adaptive Adaptive2 Operator norm 30 3.49 (0.05) 2.03 (0.05) 1.83 (0.05) 100 7.34 (0.05) 2.64 (0.05) 2.97 (0.05) 200 11.18 (0.06) 3.00 (0.04) 3.75 (0.05) Matrix l1 norm 30 8.88 (0.15) 3.07 (0.10) 2.63 (0.06) 100 25.22 (0.27) 4.68 (0.10) 4.77 (0.06) 200 44.74 (0.37) 5.28 (0.12) 5.85 (0.10) Frobenius norm 30 7.31 (0.05) 4.01 (0.06) 3.25 (0.05) 100 22.50 (0.07) 7.91 (0.09) 7.52 (0.05) 200 43.48 (0.11) 11.11 (0.10) 11.72 (0.06)","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u539f\u59cb\u8bba\u6587\u7ed3\u679c","title":"\u539f\u59cb\u200b\u8bba\u6587\u200b\u7ed3\u679c","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u771f\u5b9e\u9ad8\u7ef4-dna-\u57fa\u56e0\u6570\u636e\u7684\u534f\u65b9\u5dee\u77e9\u9635\u4f30\u8ba1","title":"\u771f\u5b9e\u200b\u9ad8\u7ef4\u200b DNA \u200b\u57fa\u56e0\u200b\u6570\u636e\u200b\u7684\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4f30\u8ba1","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u4f30\u8ba1\u6b65\u9aa4_1","title":"\u4f30\u8ba1\u200b\u6b65\u9aa4","text":"<p>\u200b\u8bba\u6587\u200b\u4e2d\u200b\u7684\u200b\u7b14\u8bef\u200b</p> <p>\u200b\u53f3\u4e0b\u89d2\u200b\u5012\u6570\u7b2c\u200b 3 \u200b\u884c\u200b\u7684\u200b \\(\\hat \\sigma_{m}\\) \u200b\u4ee3\u8868\u200b\u7684\u200b\u662f\u200b\u6837\u672c\u200b\u6807\u51c6\u5dee\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u5e73\u200b\u65b9\u624d\u200b\u662f\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\u3002</p> <p></p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u5b9a\u4e49\u8ba1\u7b97-f-\u7edf\u8ba1\u91cf\u7684\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u8ba1\u7b97\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\u7684\u200b\u51fd\u6570","text":"Python<pre><code>def cal_F_statistics(df: pd.DataFrame, gene: str) -&gt; float:\n\"\"\"\n    \u200b\u8ba1\u7b97\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\n    Args:\n        df: DataFrame, \u200b\u6570\u636e\u200b\u96c6\u200b\n        gene: str, \u200b\u57fa\u56e0\u200b\u540d\u200b\n    Returns:\n        F: float, F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\n    \"\"\"\n# n \u200b\u662f\u200b\u6837\u672c\u6570\u200b\nn = len(df)\n# k \u200b\u662f\u200b\u7c7b\u522b\u200b\u6570\u200b\nk = len(df[\"class\"].unique())\n# x_bar \u200b\u662f\u200b\u603b\u4f53\u200b\u5747\u503c\u200b\nx_bar = df[gene].mean()\n# \u200b\u8ba1\u7b97\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\u7684\u200b\u5206\u5b50\u200b\nnumerator = 0\nfor m in df[\"class\"].unique():\ndf_m = df[df[\"class\"] == m]\n# x_bar_m \u200b\u662f\u200b\u7b2c\u200b m \u200b\u7c7b\u200b\u7684\u200b\u5747\u503c\u200b\nx_bar_m = df_m[gene].mean()\n# n_m \u200b\u662f\u200b\u7b2c\u200b m \u200b\u7c7b\u200b\u7684\u200b\u6837\u672c\u6570\u200b\nn_m = len(df_m)\nnumerator += n_m * (x_bar_m - x_bar) ** 2\nnumerator /= k - 1\n# \u200b\u8ba1\u7b97\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\u7684\u200b\u5206\u6bcd\u200b\ndenominator = 0\nfor m in df[\"class\"].unique():\ndf_m = df[df[\"class\"] == m]\n# sigma_m_square \u200b\u662f\u200b\u7b2c\u200b m \u200b\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\nsigma_m_square = df_m[gene].var()\n# n_m \u200b\u662f\u200b\u7b2c\u200b m \u200b\u7c7b\u200b\u7684\u200b\u6837\u672c\u6570\u200b\nn_m = len(df_m)\ndenominator += (n_m - 1) * sigma_m_square\ndenominator /= n - k\n# \u200b\u8ba1\u7b97\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\nF = numerator / denominator\nreturn F\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"Python<pre><code>df = pd.read_csv(\"./SRBCT$X+class.csv\", index_col=0).iloc[:63]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u7b5b\u9009\u51fa-f-\u7edf\u8ba1\u91cf\u6700\u5927\u7684-40-\u4e2a\u57fa\u56e0\u548c\u6700\u5c0f\u7684-160-\u4e2a\u57fa\u56e0","title":"\u7b5b\u9009\u200b\u51fa\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\u6700\u5927\u200b\u7684\u200b 40 \u200b\u4e2a\u200b\u57fa\u56e0\u200b\u548c\u200b\u6700\u5c0f\u200b\u7684\u200b 160 \u200b\u4e2a\u200b\u57fa\u56e0","text":"Python<pre><code># \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u57fa\u56e0\u200b\u7684\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\nF_statistics = {}\nfor gene in df.columns[:-1]:\nF_statistics[gene] = cal_F_statistics(df, gene)\n# \u200b\u7b5b\u9009\u200b\u51fa\u200b F \u200b\u7edf\u8ba1\u200b\u91cf\u200b\u6700\u5927\u200b\u7684\u200b 40 \u200b\u4e2a\u200b\u57fa\u56e0\u200b\u548c\u200b\u6700\u5c0f\u200b\u7684\u200b 160 \u200b\u4e2a\u200b\u57fa\u56e0\u200b\ntop_40_genes = sorted(\nF_statistics,\nkey=F_statistics.get,\nreverse=True,\n)[:40]\nbottom_160_genes = sorted(\nF_statistics,\nkey=F_statistics.get,\nreverse=True,\n)[-160:]\n# \u200b\u63d0\u53d6\u200b top_40_genes \u200b\u548c\u200b bottom_160_genes \u200b\u4e2d\u200b\u7684\u200b\u57fa\u56e0\u200b\ndf = df[top_40_genes + bottom_160_genes + [\"class\"]]\n</code></pre> <p>\u200b\u7ecf\u8fc7\u200b\u7b5b\u9009\u200b\u540e\u200b\uff0c\u200b\u5f97\u5230\u200b 200 \u200b\u7ef4\u200b\u57fa\u56e0\u200b\u6570\u636e\u200b\uff0c\u200b\u6700\u540e\u200b\u4e00\u200b\u5217\u4e3a\u200b\u6837\u672c\u200b\u7684\u200b\u7c7b\u522b\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u590d\u73b0-figure-3\u7ed8\u5236\u4e0d\u540c\u622a\u65ad\u65b9\u6cd5\u4e0b\u7684\u70ed\u529b\u56fe","title":"\u590d\u73b0\u200b Figure 3\uff1a\u200b\u7ed8\u5236\u200b\u4e0d\u540c\u200b\u622a\u65ad\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\u7684\u200b\u70ed\u200b\u529b\u56fe","text":"Python<pre><code># \u200b\u521b\u5efa\u200b Thresholding \u200b\u5b9e\u4f8b\u200b\nthresholding = Thresholding(vectors=df.iloc[:, :-1].values, labels=df[\"class\"].values)\n# \u200b\u8ba1\u7b97\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\ncov_hat = thresholding.cal_cov()\n</code></pre> Python<pre><code>def plot_heat_map(method):\n# \u200b\u8fdb\u884c\u200b 5 \u200b\u6b21\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u53d6\u200b\u6700\u4f18\u200b\u622a\u65ad\u200b\u6807\u51c6\u200b\u77e9\u9635\u200b\u3002\u200b\u4f7f\u7528\u200b StratifiedKFold \u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u5c3d\u91cf\u200b\u4f7f\u200b\u56db\u200b\u79cd\u7c7b\u200b\u522b\u7684\u200b\u6837\u672c\u200b\u5728\u200b\u6bcf\u200b\u6298\u4e2d\u200b\u7684\u200b\u6bd4\u4f8b\u200b\u76f8\u540c\u200b\nbest_threshold = thresholding.get_best_threshold_using_cv(\nmethod, \"Frobenius norm\", N=5, split_method=\"StratifiedKFold\"\n)\n# \u200b\u5bf9\u200b\u6837\u672c\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u8fdb\u884c\u200b thresholding\ncov_hat_after_thresholding = thresholding.thresholding(cov_hat, best_threshold)\n# \u200b\u7ed8\u5236\u200b\u9ed1\u767d\u56fe\u7247\u200b\nplt.imshow(cov_hat_after_thresholding &gt; 0, cmap=\"gray_r\")\nzeros_proportion = 1 - np.count_nonzero(cov_hat_after_thresholding) / np.size(\ncov_hat_after_thresholding\n)\n# \u200b\u5c06\u200b zeros_proportion \u200b\u4f5c\u4e3a\u200b\u56fe\u7247\u200b\u7684\u200b\u6807\u9898\u200b\nplt.title(\"{}: {:.2%} zeros\".format(method, zeros_proportion))\n# \u200b\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b png \u200b\u683c\u5f0f\u200b\u7684\u200b\u56fe\u7247\u200b\nplt.savefig(\n\"./{}.png\".format(method),\nformat=\"png\",\nfacecolor=\"white\",\nbbox_inches=\"tight\",\n)\n</code></pre> Python<pre><code>plot_heat_map(\"Adaptive\")\n</code></pre> Python<pre><code>plot_heat_map(\"Universal\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/thresholding-for-sparse-covariance-matrix-estimation/#\u539f\u59cb\u8bba\u6587\u7ed3\u679c_1","title":"\u539f\u59cb\u200b\u8bba\u6587\u200b\u7ed3\u679c","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/cnn-from-scratch/","title":"\u4ece\u96f6\u5f00\u59cb\u200b\u642d\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ec4\u4ef6","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u4e00\u6b21\u200b\u7ec3\u4e60\u200b\uff0c\u200b\u4f7f\u7528\u200b Numpy \u200b\u5b9e\u73b0\u200b\u4e86\u200b CNN \u200b\u4e2d\u200b\u5377\u79ef\u200b\u5c42\u200b\u3001\u200b\u6c60\u5316\u5c42\u200b\u7684\u200b\u524d\u200b\u5411\u200b\u4f20\u64ad\u200b\u4e0e\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5178\u578b\u200b\u5377\u79ef\u200b\u5c42\u200b\u7684\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\uff1a</p> <ul> <li>\u200b\u8f93\u5165\u200b\u5f20\u91cf\u200b\uff1a\\(X \\in \\mathbb{R}^{M \\times N \\times D}\\)\u3002\u200b\u4f8b\u200b\uff1a\\(D=1\\) \u200b\u65f6\u200b\uff0c\u200b\u8f93\u5165\u200b\u7684\u200b\u662f\u200b \\(M \\times N\\) \u200b\u7ef4\u200b\u7684\u200b\u7070\u5ea6\u200b\u56fe\u50cf\u200b\uff1b \\(D=3\\) \u200b\u65f6\u200b\uff0c\u200b\u8f93\u5165\u200b\u7684\u200b\u662f\u200b \\(M \\times N\\) \u200b\u7ef4\u200b\u7684\u200b\u5f69\u8272\u56fe\u50cf\u200b\u3002</li> <li>\u200b\u5377\u79ef\u200b\u6838\u200b\uff1a\\(W \\in \\mathbb{R}^{U \\times V \\times D \\times P}\\)\uff0c\u200b\u5176\u4e2d\u200b\u6bcf\u4e2a\u200b\u5207\u7247\u200b\u77e9\u9635\u200b \\(W^{d, p} \\in \\mathbb{R}^{U \\times V}\\), \\(1 \\leq d \\leq D, 1 \\leq p \\leq P\\)\u3002</li> <li>\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\uff1a \\(Y \\times \\mathbb{R}^{M^{\\prime} \\times N^{\\prime} \\times P}\\)\u3002</li> </ul> <p></p> <p>Notation:</p> <ul> <li> <p>Superscript \\([l]\\) denotes an object of the \\(l^{th}\\) layer.</p> </li> <li> <p>Example: \\(a^{[4]}\\) is the \\(4^{th}\\) layer activation. \\(W^{[5]}\\) and \\(b^{[5]}\\) are the \\(5^{th}\\) layer parameters.</p> </li> <li> <p>Superscript \\((i)\\) denotes an object from the \\(i^{th}\\) example.</p> </li> <li> <p>Example: \\(x^{(i)}\\) is the \\(i^{th}\\) training example input.</p> </li> <li> <p>Subscript \\(i\\) denotes the \\(i^{th}\\) entry of a vector.</p> </li> <li> <p>Example: \\(a^{[l]}_i\\) denotes the \\(i^{th}\\) entry of the activations in layer \\(l\\), assuming this is a fully connected (FC) layer.</p> </li> <li> <p>\\(n_H\\), \\(n_W\\) and \\(n_C\\) denote respectively the height, width and number of channels of a given layer. If you want to reference a specific layer \\(l\\), you can also write \\(n_H^{[l]}\\), \\(n_W^{[l]}\\), \\(n_C^{[l]}\\).</p> </li> <li>\\(n_{H_{prev}}\\), \\(n_{W_{prev}}\\) and \\(n_{C_{prev}}\\) denote respectively the height, width and number of channels of the previous layer. If referencing a specific layer \\(l\\), this could also be denoted \\(n_H^{[l-1]}\\), \\(n_W^{[l-1]}\\), \\(n_C^{[l-1]}\\).</li> </ul> <p>You should be familiar with <code>numpy</code> and/or have completed the previous courses of the specialization. Let's get started!</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#1---packages","title":"1 - Packages","text":"<p>Let's first import all the packages that you will need during this assignment.</p> <ul> <li>numpy is the fundamental package for scientific computing with Python.</li> <li>matplotlib is a library to plot graphs in Python.</li> <li>np.random.seed(1) is used to keep all the random function calls consistent. This helps to grade your work.</li> </ul> Text Only<pre><code>import numpy as np\n\n# import h5py\nimport matplotlib.pyplot as plt\n\n%matplotlib inline\nplt.rcParams[\"figure.figsize\"] = (5.0, 4.0)  # set default size of plots\nplt.rcParams[\"image.interpolation\"] = \"nearest\"\nplt.rcParams[\"image.cmap\"] = \"gray\"\n\n%load_ext autoreload\n%autoreload 2\n\nnp.random.seed(1)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#2---outline-of-the-assignment","title":"2 - Outline of the Assignment","text":"<p>You will be implementing the building blocks of a convolutional neural network! Each function you will implement will have detailed instructions to walk you through the steps:</p> <ul> <li>Convolution functions, including:</li> <li>Zero Padding</li> <li>Convolve window</li> <li>Convolution forward</li> <li>Convolution backward</li> <li>Pooling functions, including:</li> <li>Pooling forward</li> <li>Create mask</li> <li>Distribute value</li> <li>Pooling backward</li> </ul> <p>This notebook will ask you to implement these functions from scratch in <code>numpy</code>. In the next notebook, you will use the TensorFlow equivalents of these functions to build the following model:</p> <p></p> <p>Note: For every forward function, there is a corresponding backward equivalent. Hence, at every step of your forward module you will store some parameters in a cache. These parameters are used to compute gradients during backpropagation.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#3---convolutional-neural-networks","title":"3 - Convolutional Neural Networks","text":"<p>Although programming frameworks make convolutions easy to use, they remain one of the hardest concepts to understand in Deep Learning. A convolution layer transforms an input volume into an output volume of different size, as shown below.</p> <p></p> <p>In this part, you will build every step of the convolution layer. You will first implement two helper functions: one for zero padding and the other for computing the convolution function itself.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#31---zero-padding","title":"3.1 - Zero-Padding","text":"<p>Zero-padding adds zeros around the border of an image:</p> <p></p> <p>The main benefits of padding are:</p> <ul> <li> <p>It allows you to use a CONV layer without necessarily shrinking the height and width of the volumes. This is important for building deeper networks, since otherwise the height/width would shrink as you go to deeper layers. An important special case is the \"same\" convolution, in which the height/width is exactly preserved after one layer.</p> </li> <li> <p>It helps us keep more of the information at the border of an image. Without padding, very few values at the next layer would be affected by pixels at the edges of an image.</p> </li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-1---zero_pad","title":"Exercise 1 - zero_pad","text":"<p>Implement the following function, which pads all the images of a batch of examples X with zeros. Use np.pad. Note if you want to pad the array \"a\" of shape \\((5,5,5,5,5)\\) with <code>pad = 1</code> for the 2<sup>nd</sup> dimension, <code>pad = 3</code> for the 4<sup>th</sup> dimension and <code>pad = 0</code> for the rest, you would do:</p> Python<pre><code>a = np.pad(\na, ((0, 0), (1, 1), (0, 0), (3, 3), (0, 0)), mode=\"constant\", constant_values=(0, 0)\n)\n</code></pre> Python<pre><code># GRADED FUNCTION: zero_pad\ndef zero_pad(X, pad):\n\"\"\"\n    Pad with zeros all images of the dataset X. The padding is applied to the height and width of an image,\n    as illustrated in Figure 1.\n    Argument:\n    X -- python numpy array of shape (m, n_H, n_W, n_C) representing a batch of m images\n    pad -- integer, amount of padding around each image on vertical and horizontal dimensions\n    Returns:\n    X_pad -- padded image of shape (m, n_H + 2 * pad, n_W + 2 * pad, n_C)\n    \"\"\"\n# (\u2248 1 line)\n# X_pad = None\n# YOUR CODE STARTS HERE\nX_pad = np.pad(\narray=X,\npad_width=((0, 0), (pad, pad), (pad, pad), (0, 0)),\nmode=\"constant\",\nconstant_values=(0, 0),\n)\n# YOUR CODE ENDS HERE\nreturn X_pad\n</code></pre> Python<pre><code>np.random.seed(1)\nx = np.random.randn(4, 3, 3, 2)\nx_pad = zero_pad(x, 3)\nprint(\"x.shape =\\n\", x.shape)\nprint(\"x_pad.shape =\\n\", x_pad.shape)\nprint(\"x[1,1] =\\n\", x[1, 1])\nprint(\"x_pad[1,1] =\\n\", x_pad[1, 1])\nfig, axarr = plt.subplots(1, 2)\naxarr[0].set_title(\"x\")\naxarr[0].imshow(x[0, :, :, 0])\naxarr[1].set_title(\"x_pad\")\naxarr[1].imshow(x_pad[0, :, :, 0])\n</code></pre> Text Only<pre><code>x.shape =\n (4, 3, 3, 2)\nx_pad.shape =\n (4, 9, 9, 2)\nx[1,1] =\n [[ 0.90085595 -0.68372786]\n [-0.12289023 -0.93576943]\n [-0.26788808  0.53035547]]\nx_pad[1,1] =\n [[0. 0.]\n [0. 0.]\n [0. 0.]]\n\n&lt;matplotlib.image.AxesImage at 0x123545070&gt;\n</code></pre> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#32---single-step-of-convolution","title":"3.2 - Single Step of Convolution","text":"<p>In this part, implement a single step of convolution, in which you apply the filter to a single position of the input. This will be used to build a convolutional unit, which:</p> <ul> <li>Takes an input volume</li> <li>Applies a filter at every position of the input</li> <li>Outputs another volume (usually of different size)</li> </ul> <p></p> <p>In a computer vision application, each value in the matrix on the left corresponds to a single pixel value. You convolve a 3x3 filter with the image by multiplying its values element-wise with the original matrix, then summing them up and adding a bias. In this first step of the exercise, you will implement a single step of convolution, corresponding to applying a filter to just one of the positions to get a single real-valued output.</p> <p>Later in this notebook, you'll apply this function to multiple positions of the input to implement the full convolutional operation.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-2---conv_single_step","title":"Exercise 2 - conv_single_step","text":"<p>Implement <code>conv_single_step()</code>.</p> <p>Hint.</p> <p>Note: The variable b will be passed in as a numpy array. If you add a scalar (a float or integer) to a numpy array, the result is a numpy array. In the special case of a numpy array containing a single value, you can cast it as a float to convert it to a scalar.</p> Python<pre><code># GRADED FUNCTION: conv_single_step\ndef conv_single_step(a_slice_prev, W, b):\n\"\"\"\n    Apply one filter defined by parameters W on a single slice (a_slice_prev) of the output activation\n    of the previous layer.\n    Arguments:\n    a_slice_prev -- slice of input data of shape (f, f, n_C_prev)\n    W -- Weight parameters contained in a window - matrix of shape (f, f, n_C_prev)\n    b -- Bias parameters contained in a window - matrix of shape (1, 1, 1)\n    Returns:\n    Z -- a scalar value, the result of convolving the sliding window (W, b) on a slice x of the input data\n    \"\"\"\n# (\u2248 3 lines of code)\n# Element-wise product between a_slice_prev and W. Do not add the bias yet.\ns = a_slice_prev * W\n# Sum over all entries of the volume s.\nZ = np.sum(s)\n# Add bias b to Z. Cast b to a float() so that Z results in a scalar value.\nZ = Z + float(b)\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\nreturn Z\n</code></pre> Python<pre><code>np.random.seed(1)\na_slice_prev = np.random.randn(4, 4, 3)\nW = np.random.randn(4, 4, 3)\nb = np.random.randn(1, 1, 1)\nZ = conv_single_step(a_slice_prev, W, b)\nprint(\"Z =\", Z)\nassert type(Z) == np.float64, \"You must cast the output to numpy float 64\"\nassert np.isclose(Z, -6.999089450680221), \"Wrong value\"\n</code></pre> Text Only<pre><code>Z = -6.999089450680221\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#33---convolutional-neural-networks---forward-pass","title":"3.3 - Convolutional Neural Networks - Forward Pass","text":"<p>In the forward pass, you will take many filters and convolve them on the input. Each 'convolution' gives you a 2D matrix output. You will then stack these outputs to get a 3D volume:</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-3---conv_forward","title":"Exercise 3 - conv_forward","text":"<p>Implement the function below to convolve the filters <code>W</code> on an input activation <code>A_prev</code>. This function takes the following inputs:</p> <ul> <li><code>A_prev</code>, the activations output by the previous layer (for a batch of m inputs);</li> <li>Weights are denoted by <code>W</code>. The filter window size is <code>f</code> by <code>f</code>.</li> <li>The bias vector is <code>b</code>, where each filter has its own (single) bias.</li> </ul> <p>You also have access to the hyperparameters dictionary, which contains the stride and the padding.</p> <p>Hint:</p> <ol> <li>To select a 2x2 slice at the upper left corner of a matrix \"a_prev\" (shape (5,5,3)), you would do:</li> </ol> Python<pre><code>a_slice_prev = a_prev[0:2, 0:2, :]\n</code></pre> <p>Notice how this gives a 3D slice that has height 2, width 2, and depth 3. Depth is the number of channels. This will be useful when you will define <code>a_slice_prev</code> below, using the <code>start/end</code> indexes you will define.</p> <ol> <li>To define a_slice you will need to first define its corners <code>vert_start</code>, <code>vert_end</code>, <code>horiz_start</code> and <code>horiz_end</code>. This figure may be helpful for you to find out how each of the corners can be defined using h, w, f and s in the code below.</li> </ol> <p></p> <p>Reminder: The formulas relating the output shape of the convolution to the input shape are: $$ n_H = \\Bigl\\lfloor \\frac{n_{H_{prev}} - f + 2 \\times pad}{stride} \\Bigr\\rfloor +1 $$</p> \\[ n_W = \\Bigl\\lfloor \\frac{n_{W_{prev}} - f + 2 \\times pad}{stride} \\Bigr\\rfloor +1 \\] \\[ n_C = \\text{number of filters used in the convolution} \\] <p>For this exercise, don't worry about vectorization! Just implement everything with for-loops.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#additional-hints-if-youre-stuck","title":"Additional Hints (if you're stuck):","text":"<ul> <li>Use array slicing (e.g.<code>varname[0:1,:,3:5]</code>) for the following variables: <code>a_prev_pad</code> ,<code>W</code>, <code>b</code></li> <li>Copy the starter code of the function and run it outside of the defined function, in separate cells.</li> <li>Check that the subset of each array is the size and dimension that you're expecting.</li> <li>To decide how to get the <code>vert_start</code>, <code>vert_end</code>, <code>horiz_start</code>, <code>horiz_end</code>, remember that these are indices of the previous layer.</li> <li>Draw an example of a previous padded layer (8 x 8, for instance), and the current (output layer) (2 x 2, for instance).</li> <li>The output layer's indices are denoted by <code>h</code> and <code>w</code>.</li> <li>Make sure that <code>a_slice_prev</code> has a height, width and depth.</li> <li>Remember that <code>a_prev_pad</code> is a subset of <code>A_prev_pad</code>.</li> <li>Think about which one should be used within the for loops.</li> </ul> Python<pre><code># GRADED FUNCTION: conv_forward\ndef conv_forward(A_prev, W, b, hparameters):\n\"\"\"\n    Implements the forward propagation for a convolution function\n    Arguments:\n    A_prev -- output activations of the previous layer,\n        numpy array of shape (m, n_H_prev, n_W_prev, n_C_prev)\n    W -- Weights, numpy array of shape (f, f, n_C_prev, n_C)\n    b -- Biases, numpy array of shape (1, 1, 1, n_C)\n    hparameters -- python dictionary containing \"stride\" and \"pad\"\n    Returns:\n    Z -- conv output, numpy array of shape (m, n_H, n_W, n_C)\n    cache -- cache of values needed for the conv_backward() function\n    \"\"\"\n# Retrieve dimensions from A_prev's shape (\u22481 line)\n(m, n_H_prev, n_W_prev, n_C_prev) = A_prev.shape\n# Retrieve dimensions from W's shape (\u22481 line)\n(f, f, n_C_prev, n_C) = W.shape\n# Retrieve information from \"hparameters\" (\u22482 lines)\nstride = hparameters[\"stride\"]\npad = hparameters[\"pad\"]\n# Compute the dimensions of the CONV output volume using the formula given above.\n# Hint: use int() to apply the 'floor' operation. (\u22482 lines)\nn_H = int((n_H_prev - f + 2 * pad) / stride) + 1\nn_W = int((n_W_prev - f + 2 * pad) / stride) + 1\n# Initialize the output volume Z with zeros. (\u22481 line)\nZ = np.zeros((m, n_H, n_W, n_C))\n# Create A_prev_pad by padding A_prev\nA_prev_pad = zero_pad(A_prev, pad)\nfor i in range(m):  # loop over the batch of training examples\na_prev_pad = A_prev_pad[i]  # Select ith training example's padded activation\nfor h in range(n_H):  # loop over vertical axis of the output volume\n# Find the vertical start and end of the current \"slice\" (\u22482 lines)\nvert_start = h * stride\nvert_end = vert_start + f\nfor w in range(n_W):  # loop over horizontal axis of the output volume\n# Find the horizontal start and end of the current \"slice\" (\u22482 lines)\nhoriz_start = w * stride\nhoriz_end = horiz_start + f\nfor c in range(\nn_C\n):  # loop over channels (= #filters) of the output volume\n# Use the corners to define the (3D) slice of a_prev_pad (See Hint above the cell). (\u22481 line)\na_slice_prev = a_prev_pad[\nvert_start:vert_end, horiz_start:horiz_end, :\n]\n# Convolve the (3D) slice with the correct filter W and bias b, to get back one output neuron. (\u22483 line)\nweights = W[:, :, :, c]\nbiases = b[:, :, :, c]\nZ[i, h, w, c] = conv_single_step(a_slice_prev, weights, biases)\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\n# Save information in \"cache\" for the backprop\ncache = (A_prev, W, b, hparameters)\nreturn Z, cache\n</code></pre> Python<pre><code>np.random.seed(1)\nA_prev = np.random.randn(2, 5, 7, 4)\nW = np.random.randn(3, 3, 4, 8)\nb = np.random.randn(1, 1, 1, 8)\nhparameters = {\"pad\": 1, \"stride\": 2}\nZ, cache_conv = conv_forward(A_prev, W, b, hparameters)\nz_mean = np.mean(Z)\nz_0_2_1 = Z[0, 2, 1]\ncache_0_1_2_3 = cache_conv[0][1][2][3]\nprint(\"Z's mean =\\n\", z_mean)\nprint(\"Z[0,2,1] =\\n\", z_0_2_1)\nprint(\"cache_conv[0][1][2][3] =\\n\", cache_0_1_2_3)\n</code></pre> Text Only<pre><code>Z's mean =\n 0.5511276474566768\nZ[0,2,1] =\n [-2.17796037  8.07171329 -0.5772704   3.36286738  4.48113645 -2.89198428\n 10.99288867  3.03171932]\ncache_conv[0][1][2][3] =\n [-1.1191154   1.9560789  -0.3264995  -1.34267579]\n</code></pre> <p>Finally, a CONV layer should also contain an activation, in which case you would add the following line of code:</p> Python<pre><code># Convolve the window to get back one output neuron\nZ[i, h, w, c] = ...\n# Apply activation\nA[i, h, w, c] = activation(Z[i, h, w, c])\n</code></pre> <p>You don't need to do it here, however.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#4---pooling-layer","title":"4 - Pooling Layer","text":"<p>The pooling (POOL) layer reduces the height and width of the input. It helps reduce computation, as well as helps make feature detectors more invariant to its position in the input. The two types of pooling layers are:</p> <ul> <li> <p>Max-pooling layer: slides an (\\(f, f\\)) window over the input and stores the max value of the window in the output.</p> </li> <li> <p>Average-pooling layer: slides an (\\(f, f\\)) window over the input and stores the average value of the window in the output.</p> </li> </ul> <p></p> <p></p> <p>These pooling layers have no parameters for backpropagation to train. However, they have hyperparameters such as the window size \\(f\\). This specifies the height and width of the \\(f \\times f\\) window you would compute a max or average over.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#41---forward-pooling","title":"4.1 - Forward Pooling","text":"<p>Now, you are going to implement MAX-POOL and AVG-POOL, in the same function.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-4---pool_forward","title":"Exercise 4 - pool_forward","text":"<p>Implement the forward pass of the pooling layer. Follow the hints in the comments below.</p> <p>Reminder: As there's no padding, the formulas binding the output shape of the pooling to the input shape is:</p> \\[ n_H = \\Bigl\\lfloor \\frac{n_{H_{prev}} - f}{stride} \\Bigr\\rfloor +1 \\] \\[ n_W = \\Bigl\\lfloor \\frac{n_{W_{prev}} - f}{stride} \\Bigr\\rfloor +1 \\] \\[ n_C = n_{C_{prev}} \\] Python<pre><code># GRADED FUNCTION: pool_forward\ndef pool_forward(A_prev, hparameters, mode=\"max\"):\n\"\"\"\n    Implements the forward pass of the pooling layer\n    Arguments:\n    A_prev -- Input data, numpy array of shape (m, n_H_prev, n_W_prev, n_C_prev)\n    hparameters -- python dictionary containing \"f\" and \"stride\"\n    mode -- the pooling mode you would like to use, defined as a string (\"max\" or \"average\")\n    Returns:\n    A -- output of the pool layer, a numpy array of shape (m, n_H, n_W, n_C)\n    cache -- cache used in the backward pass of the pooling layer, contains the input and hparameters\n    \"\"\"\n# Retrieve dimensions from the input shape\n(m, n_H_prev, n_W_prev, n_C_prev) = A_prev.shape\n# Retrieve hyperparameters from \"hparameters\"\nf = hparameters[\"f\"]\nstride = hparameters[\"stride\"]\n# Define the dimensions of the output\nn_H = int(1 + (n_H_prev - f) / stride)\nn_W = int(1 + (n_W_prev - f) / stride)\nn_C = n_C_prev\n# Initialize output matrix A\nA = np.zeros((m, n_H, n_W, n_C))\nfor i in range(m):  # loop over the training examples\nfor h in range(n_H):  # loop on the vertical axis of the output volume\n# Find the vertical start and end of the current \"slice\" (\u22482 lines)\nvert_start = h\nvert_end = h + f\nfor w in range(n_W):  # loop on the horizontal axis of the output volume\n# Find the vertical start and end of the current \"slice\" (\u22482 lines)\nhoriz_start = w\nhoriz_end = w + f\nfor c in range(n_C):  # loop over the channels of the output volume\n# Use the corners to define the current slice on the ith training example of A_prev, channel c. (\u22481 line)\na_prev_slice = A_prev[\ni, vert_start:vert_end, horiz_start:horiz_end, c\n]\n# Compute the pooling operation on the slice.\n# Use an if statement to differentiate the modes.\n# Use np.max and np.mean.\nif mode == \"max\":\nA[i, h, w, c] = np.max(a_prev_slice)\nelif mode == \"average\":\nA[i, h, w, c] = np.mean(a_prev_slice)\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\n# Store the input and hparameters in \"cache\" for pool_backward()\ncache = (A_prev, hparameters)\n# Making sure your output shape is correct\nassert A.shape == (m, n_H, n_W, n_C)\nreturn A, cache\n</code></pre> Python<pre><code># Case 1: stride of 1\nnp.random.seed(1)\nA_prev = np.random.randn(2, 5, 5, 3)\nhparameters = {\"stride\": 1, \"f\": 3}\nA, cache = pool_forward(A_prev, hparameters, mode=\"max\")\nprint(\"mode = max\")\nprint(\"A.shape = \" + str(A.shape))\nprint(\"A[1, 1] =\\n\", A[1, 1])\nA, cache = pool_forward(A_prev, hparameters, mode=\"average\")\nprint(\"mode = average\")\nprint(\"A.shape = \" + str(A.shape))\nprint(\"A[1, 1] =\\n\", A[1, 1])\n</code></pre> Text Only<pre><code>mode = max\nA.shape = (2, 3, 3, 3)\nA[1, 1] =\n [[1.96710175 0.84616065 1.27375593]\n [1.96710175 0.84616065 1.23616403]\n [1.62765075 1.12141771 1.2245077 ]]\nmode = average\nA.shape = (2, 3, 3, 3)\nA[1, 1] =\n [[ 0.44497696 -0.00261695 -0.31040307]\n [ 0.50811474 -0.23493734 -0.23961183]\n [ 0.11872677  0.17255229 -0.22112197]]\n</code></pre> <p>Expected output</p> Text Only<pre><code>mode = max\nA.shape = (2, 3, 3, 3)\nA[1, 1] =\n [[1.96710175 0.84616065 1.27375593]\n [1.96710175 0.84616065 1.23616403]\n [1.62765075 1.12141771 1.2245077 ]]\n\nmode = average\nA.shape = (2, 3, 3, 3)\nA[1, 1] =\n [[ 0.44497696 -0.00261695 -0.31040307]\n [ 0.50811474 -0.23493734 -0.23961183]\n [ 0.11872677  0.17255229 -0.22112197]]\n</code></pre> Python<pre><code># Case 2: stride of 2\nnp.random.seed(1)\nA_prev = np.random.randn(2, 5, 5, 3)\nhparameters = {\"stride\": 2, \"f\": 3}\nA, cache = pool_forward(A_prev, hparameters)\nprint(\"mode = max\")\nprint(\"A.shape = \" + str(A.shape))\nprint(\"A[0] =\\n\", A[0])\nprint()\nA, cache = pool_forward(A_prev, hparameters, mode=\"average\")\nprint(\"mode = average\")\nprint(\"A.shape = \" + str(A.shape))\nprint(\"A[1] =\\n\", A[1])\n</code></pre> Text Only<pre><code>mode = max\nA.shape = (2, 2, 2, 3)\nA[0] =\n [[[1.74481176 0.90159072 1.65980218]\n  [1.74481176 1.46210794 1.65980218]]\n\n [[1.14472371 0.90159072 2.10025514]\n  [1.14472371 0.90159072 1.65980218]]]\n\nmode = average\nA.shape = (2, 2, 2, 3)\nA[1] =\n [[[-0.17313416  0.32377198 -0.34317572]\n  [ 0.03806347  0.07267063 -0.23026896]]\n\n [[ 0.44497696 -0.00261695 -0.31040307]\n  [ 0.50811474 -0.23493734 -0.23961183]]]\n</code></pre> <p>Expected Output:</p> Text Only<pre><code>mode = max\nA.shape = (2, 2, 2, 3)\nA[0] =\n [[[1.74481176 0.90159072 1.65980218]\n  [1.74481176 1.6924546  1.65980218]]\n\n [[1.13162939 1.51981682 2.18557541]\n  [1.13162939 1.6924546  2.18557541]]]\n\nmode = average\nA.shape = (2, 2, 2, 3)\nA[1] =\n [[[-0.17313416  0.32377198 -0.34317572]\n  [ 0.02030094  0.14141479 -0.01231585]]\n\n [[ 0.42944926  0.08446996 -0.27290905]\n  [ 0.15077452  0.28911175  0.00123239]]]\n</code></pre> <p>What you should remember:</p> <ul> <li>A convolution extracts features from an input image by taking the dot product between the input data and a 3D array of weights (the filter).</li> <li>The 2D output of the convolution is called the feature map</li> <li>A convolution layer is where the filter slides over the image and computes the dot product</li> <li>This transforms the input volume into an output volume of different size</li> <li>Zero padding helps keep more information at the image borders, and is helpful for building deeper networks, because you can build a CONV layer without shrinking the height and width of the volumes</li> <li>Pooling layers gradually reduce the height and width of the input by sliding a 2D window over each specified region, then summarizing the features in that region</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#5---backpropagation-in-convolutional-neural-networks","title":"5 - Backpropagation in Convolutional Neural Networks","text":"<p>In modern deep learning frameworks, you only have to implement the forward pass, and the framework takes care of the backward pass, so most deep learning engineers don't need to bother with the details of the backward pass.</p> <p>When in an earlier course you implemented a simple (fully connected) neural network, you used backpropagation to compute the derivatives with respect to the cost to update the parameters. Similarly, in convolutional neural networks you can calculate the derivatives with respect to the cost in order to update the parameters. The backprop equations are not trivial and were not derived in lecture, but are briefly presented below.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#51---convolutional-layer-backward-pass","title":"5.1 - Convolutional Layer Backward Pass","text":"<p>Let's start by implementing the backward pass for a CONV layer.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#511---computing-da","title":"5.1.1 - Computing dA:","text":"<p>This is the formula for computing \\(dA\\) with respect to the cost for a certain filter \\(W_c\\) and a given training example:</p> \\[ dA \\mathrel{+}= \\sum _{h=0} ^{n_H} \\sum_{w=0} ^{n_W} W_c \\times dZ_{hw} \\tag{1} \\] <p>Where \\(W_c\\) is a filter and \\(dZ_{hw}\\) is a scalar corresponding to the gradient of the cost with respect to the output of the conv layer Z at the hth row and wth column (corresponding to the dot product taken at the ith stride left and jth stride down). Note that at each time, you multiply the the same filter \\(W_c\\) by a different dZ when updating dA. We do so mainly because when computing the forward propagation, each filter is dotted and summed by a different a_slice. Therefore when computing the backprop for dA, you are just adding the gradients of all the a_slices.</p> <p>In code, inside the appropriate for-loops, this formula translates into:</p> Python<pre><code>da_prev_pad[vert_start:vert_end, horiz_start:horiz_end, :] += (\nW[:, :, :, c] * dZ[i, h, w, c]\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#512---computing-dw","title":"5.1.2 - Computing dW:","text":"<p>This is the formula for computing \\(dW_c\\) (\\(dW_c\\) is the derivative of one filter) with respect to the loss:</p> \\[ dW_c  \\mathrel{+}= \\sum _{h=0} ^{n_H} \\sum_{w=0} ^ {n_W} a_{slice} \\times dZ_{hw}  \\tag{2} \\] <p>Where \\(a_{slice}\\) corresponds to the slice which was used to generate the activation \\(Z_{ij}\\). Hence, this ends up giving us the gradient for \\(W\\) with respect to that slice. Since it is the same \\(W\\), we will just add up all such gradients to get \\(dW\\).</p> <p>In code, inside the appropriate for-loops, this formula translates into:</p> Python<pre><code>dW[:, :, :, c] += a_slice * dZ[i, h, w, c]\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#513---computing-db","title":"5.1.3 - Computing db:","text":"<p>This is the formula for computing \\(db\\) with respect to the cost for a certain filter \\(W_c\\):</p> \\[db = \\sum_h \\sum_w dZ_{hw} \\tag{3}\\] <p>As you have previously seen in basic neural networks, db is computed by summing \\(dZ\\). In this case, you are just summing over all the gradients of the conv output (Z) with respect to the cost.</p> <p>In code, inside the appropriate for-loops, this formula translates into:</p> Python<pre><code>db[:, :, :, c] += dZ[i, h, w, c]\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-5---conv_backward","title":"Exercise 5 - conv_backward","text":"<p>Implement the <code>conv_backward</code> function below. You should sum over all the training examples, filters, heights, and widths. You should then compute the derivatives using formulas 1, 2 and 3 above.</p> Python<pre><code># GRADED FUNCTION: conv_backward\ndef conv_backward(dZ, cache):\n\"\"\"\n    Implement the backward propagation for a convolution function\n    Arguments:\n    dZ -- gradient of the cost with respect to the output of the conv layer (Z), numpy array of shape (m, n_H, n_W, n_C)\n    cache -- cache of values needed for the conv_backward(), output of conv_forward()\n    Returns:\n    dA_prev -- gradient of the cost with respect to the input of the conv layer (A_prev),\n               numpy array of shape (m, n_H_prev, n_W_prev, n_C_prev)\n    dW -- gradient of the cost with respect to the weights of the conv layer (W)\n          numpy array of shape (f, f, n_C_prev, n_C)\n    db -- gradient of the cost with respect to the biases of the conv layer (b)\n          numpy array of shape (1, 1, 1, n_C)\n    \"\"\"\n# Retrieve information from \"cache\"\n(A_prev, W, b, hparameters) = cache\n# Retrieve dimensions from A_prev's shape\n(m, n_H_prev, n_W_prev, n_C_prev) = A_prev.shape\n# Retrieve dimensions from W's shape\n(f, f, n_C_prev, n_C) = W.shape\n# Retrieve information from \"hparameters\"\nstride = hparameters[\"stride\"]\npad = hparameters[\"pad\"]\n# Retrieve dimensions from dZ's shape\n(m, n_H, n_W, n_C) = dZ.shape\n# Initialize dA_prev, dW, db with the correct shapes\ndA_prev = np.zeros((m, n_H_prev, n_W_prev, n_C_prev))\ndW = np.zeros((f, f, n_C_prev, n_C))\ndb = np.zeros((1, 1, 1, n_C))\n# Pad A_prev and dA_prev\nA_prev_pad = zero_pad(A_prev, pad)\ndA_prev_pad = zero_pad(dA_prev, pad)\nfor i in range(m):  # loop over the training examples\n# select ith training example from A_prev_pad and dA_prev_pad\na_prev_pad = A_prev_pad[i]\nda_prev_pad = dA_prev_pad[i]\nfor h in range(n_H):  # loop over vertical axis of the output volume\nfor w in range(n_W):  # loop over horizontal axis of the output volume\nfor c in range(n_C):  # loop over the channels of the output volume\n# Find the corners of the current \"slice\"\nvert_start = h * stride\nvert_end = vert_start + f\nhoriz_start = w * stride\nhoriz_end = horiz_start + f\n# Use the corners to define the slice from a_prev_pad\na_slice = a_prev_pad[vert_start:vert_end, horiz_start:horiz_end, :]\n# Update gradients for the window and the filter's parameters using the code formulas given above\ntry:\n# \u200b\u5728\u200b\u8fd9\u91cc\u200b\u5199\u200b\u8868\u8fbe\u5f0f\u200b\nda_prev_pad[vert_start:vert_end, horiz_start:horiz_end, :] += (\nW[:, :, :, c] * dZ[i, h, w, c]\n)\nsuccess = True\nexcept:\n# \u200b\u5982\u679c\u200b\u8868\u8fbe\u5f0f\u200b\u62a5\u9519\u200b\uff0c\u200b\u5219\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\nsuccess = False\ndW[:, :, :, c] += a_slice * dZ[i, h, w, c]\ndb[:, :, :, c] += dZ[i, h, w, c]\n# Set the ith training example's dA_prev to the unpadded da_prev_pad (Hint: use X[pad:-pad, pad:-pad, :])\ndA_prev[i, :, :, :] = da_prev_pad[pad:-pad, pad:-pad, :]\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\n# Making sure your output shape is correct\nassert dA_prev.shape == (m, n_H_prev, n_W_prev, n_C_prev)\nreturn dA_prev, dW, db\n</code></pre> Python<pre><code># We'll run conv_forward to initialize the 'Z' and 'cache_conv\",\n# which we'll use to test the conv_backward function\nnp.random.seed(1)\nA_prev = np.random.randn(10, 4, 4, 3)\nW = np.random.randn(2, 2, 3, 8)\nb = np.random.randn(1, 1, 1, 8)\nhparameters = {\"pad\": 2, \"stride\": 2}\nZ, cache_conv = conv_forward(A_prev, W, b, hparameters)\n# Test conv_backward\ndA, dW, db = conv_backward(Z, cache_conv)\nprint(\"dA_mean =\", np.mean(dA))\nprint(\"dW_mean =\", np.mean(dW))\nprint(\"db_mean =\", np.mean(db))\nassert type(dA) == np.ndarray, \"Output must be a np.ndarray\"\nassert type(dW) == np.ndarray, \"Output must be a np.ndarray\"\nassert type(db) == np.ndarray, \"Output must be a np.ndarray\"\nassert dA.shape == (10, 4, 4, 3), f\"Wrong shape for dA  {dA.shape} != (10, 4, 4, 3)\"\nassert dW.shape == (2, 2, 3, 8), f\"Wrong shape for dW {dW.shape} != (2, 2, 3, 8)\"\nassert db.shape == (1, 1, 1, 8), f\"Wrong shape for db {db.shape} != (1, 1, 1, 8)\"\nassert np.isclose(np.mean(dA), 1.4524377), \"Wrong values for dA\"\nassert np.isclose(np.mean(dW), 1.7269914), \"Wrong values for dW\"\nassert np.isclose(np.mean(db), 7.8392325), \"Wrong values for db\"\nprint(\"\\033[92m All tests passed.\")\n</code></pre> Text Only<pre><code>dA_mean = 1.4524377775388078\ndW_mean = 1.72699145831391\ndb_mean = 7.839232564616832\n[92m All tests passed.\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#52-pooling-layer---backward-pass","title":"5.2 Pooling Layer - Backward Pass","text":"<p>Next, let's implement the backward pass for the pooling layer, starting with the MAX-POOL layer. Even though a pooling layer has no parameters for backprop to update, you still need to backpropagate the gradient through the pooling layer in order to compute gradients for layers that came before the pooling layer.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#521-max-pooling---backward-pass","title":"5.2.1 Max Pooling - Backward Pass","text":"<p>Before jumping into the backpropagation of the pooling layer, you are going to build a helper function called <code>create_mask_from_window()</code> which does the following:</p> \\[ X = \\begin{bmatrix} 1 &amp;&amp; 3 \\\\ 4 &amp;&amp; 2 \\end{bmatrix} \\quad \\rightarrow  \\quad M =\\begin{bmatrix} 0 &amp;&amp; 0 \\\\ 1 &amp;&amp; 0 \\end{bmatrix}\\tag{4} \\] <p>As you can see, this function creates a \"mask\" matrix which keeps track of where the maximum of the matrix is. True (1) indicates the position of the maximum in X, the other entries are False (0). You'll see later that the backward pass for average pooling is similar to this, but uses a different mask.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-6---create_mask_from_window","title":"Exercise 6 - create_mask_from_window","text":"<p>Implement <code>create_mask_from_window()</code>. This function will be helpful for pooling backward. Hints:</p> <ul> <li><code>np.max()</code> may be helpful. It computes the maximum of an array.</li> <li>If you have a matrix X and a scalar x: <code>A = (X == x)</code> will return a matrix A of the same size as X such that:</li> </ul> Text Only<pre><code>A[i,j] = True if X[i,j] = x\nA[i,j] = False if X[i,j] != x\n</code></pre> <ul> <li>Here, you don't need to consider cases where there are several maxima in a matrix.</li> </ul> Python<pre><code># GRADED FUNCTION: create_mask_from_window\ndef create_mask_from_window(x):\n\"\"\"\n    Creates a mask from an input matrix x, to identify the max entry of x.\n    Arguments:\n    x -- Array of shape (f, f)\n    Returns:\n    mask -- Array of the same shape as window, contains a True at the position corresponding to the max entry of x.\n    \"\"\"\n# (\u22481 line)\nmask = x == np.max(x)\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\nreturn mask\n</code></pre> Python<pre><code>np.random.seed(1)\nx = np.random.randn(2, 3)\nmask = create_mask_from_window(x)\nprint(\"x = \", x)\nprint(\"mask = \", mask)\nx = np.array([[-1, 2, 3], [2, -3, 2], [1, 5, -2]])\ny = np.array([[False, False, False], [False, False, False], [False, True, False]])\nmask = create_mask_from_window(x)\nassert type(mask) == np.ndarray, \"Output must be a np.ndarray\"\nassert mask.shape == x.shape, \"Input and output shapes must match\"\nassert np.allclose(mask, y), \"Wrong output. The True value must be at position (2, 1)\"\nprint(\"\\033[92m All tests passed.\")\n</code></pre> Text Only<pre><code>x =  [[ 1.62434536 -0.61175641 -0.52817175]\n [-1.07296862  0.86540763 -2.3015387 ]]\nmask =  [[ True False False]\n [False False False]]\n[92m All tests passed.\n</code></pre> <p>Expected Output:</p> <p>Why keep track of the position of the max? It's because this is the input value that ultimately influenced the output, and therefore the cost. Backprop is computing gradients with respect to the cost, so anything that influences the ultimate cost should have a non-zero gradient. So, backprop will \"propagate\" the gradient back to this particular input value that had influenced the cost.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#522---average-pooling---backward-pass","title":"5.2.2 - Average Pooling - Backward Pass","text":"<p>In max pooling, for each input window, all the \"influence\" on the output came from a single input value--the max. In average pooling, every element of the input window has equal influence on the output. So to implement backprop, you will now implement a helper function that reflects this.</p> <p>For example if we did average pooling in the forward pass using a 2x2 filter, then the mask you'll use for the backward pass will look like:</p> \\[ dZ = 1 \\quad \\rightarrow  \\quad dZ =\\begin{bmatrix} 1/4 &amp;&amp; 1/4 \\\\ 1/4 &amp;&amp; 1/4 \\end{bmatrix}\\tag{5} \\] <p>This implies that each position in the \\(dZ\\) matrix contributes equally to output because in the forward pass, we took an average.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-7---distribute_value","title":"Exercise 7 - distribute_value","text":"<p>Implement the function below to equally distribute a value dz through a matrix of dimension shape.</p> <p>Hint</p> Python<pre><code># GRADED FUNCTION: distribute_value\ndef distribute_value(dz, shape):\n\"\"\"\n    Distributes the input value in the matrix of dimension shape\n    Arguments:\n    dz -- input scalar\n    shape -- the shape (n_H, n_W) of the output matrix for which we want to distribute the value of dz\n    Returns:\n    a -- Array of size (n_H, n_W) for which we distributed the value of dz\n    \"\"\"\n# Retrieve dimensions from shape (\u22481 line)\n(n_H, n_W) = shape\n# Compute the value to distribute on the matrix (\u22481 line)\naverage = dz / (n_H * n_W)\n# Create a matrix where every entry is the \"average\" value (\u22481 line)\na = np.ones(shape) * average\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\nreturn a\n</code></pre> Python<pre><code>a = distribute_value(2, (2, 2))\nprint(\"distributed value =\", a)\nassert type(a) == np.ndarray, \"Output must be a np.ndarray\"\nassert a.shape == (2, 2), f\"Wrong shape {a.shape} != (2, 2)\"\nassert np.sum(a) == 2, \"Values must sum to 2\"\na = distribute_value(100, (10, 10))\nassert type(a) == np.ndarray, \"Output must be a np.ndarray\"\nassert a.shape == (10, 10), f\"Wrong shape {a.shape} != (10, 10)\"\nassert np.sum(a) == 100, \"Values must sum to 100\"\nprint(\"\\033[92m All tests passed.\")\n</code></pre> Text Only<pre><code>distributed value = [[0.5 0.5]\n [0.5 0.5]]\n[92m All tests passed.\n</code></pre> <p>Expected Output:</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#523-putting-it-together-pooling-backward","title":"5.2.3 Putting it Together: Pooling Backward","text":"<p>You now have everything you need to compute backward propagation on a pooling layer.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/cnn-from-scratch/#exercise-8---pool_backward","title":"Exercise 8 - pool_backward","text":"<p>Implement the <code>pool_backward</code> function in both modes (<code>\"max\"</code> and <code>\"average\"</code>). You will once again use 4 for-loops (iterating over training examples, height, width, and channels). You should use an <code>if/elif</code> statement to see if the mode is equal to <code>'max'</code> or <code>'average'</code>. If it is equal to 'average' you should use the <code>distribute_value()</code> function you implemented above to create a matrix of the same shape as <code>a_slice</code>. Otherwise, the mode is equal to '<code>max</code>', and you will create a mask with <code>create_mask_from_window()</code> and multiply it by the corresponding value of dA.</p> Python<pre><code># GRADED FUNCTION: pool_backward\ndef pool_backward(dA, cache, mode=\"max\"):\n\"\"\"\n    Implements the backward pass of the pooling layer\n    Arguments:\n    dA -- gradient of cost with respect to the output of the pooling layer, same shape as A\n    cache -- cache output from the forward pass of the pooling layer, contains the layer's input and hparameters\n    mode -- the pooling mode you would like to use, defined as a string (\"max\" or \"average\")\n    Returns:\n    dA_prev -- gradient of cost with respect to the input of the pooling layer, same shape as A_prev\n    \"\"\"\n# Retrieve information from cache (\u22481 line)\n(A_prev, hparameters) = cache\n# Retrieve hyperparameters from \"hparameters\" (\u22482 lines)\nstride = hparameters[\"stride\"]\nf = hparameters[\"f\"]\n# Retrieve dimensions from A_prev's shape and dA's shape (\u22482 lines)\nm, n_H_prev, n_W_prev, n_C_prev = A_prev.shape\nm, n_H, n_W, n_C = dA.shape\n# Initialize dA_prev with zeros (\u22481 line)\ndA_prev = np.zeros(A_prev.shape)\nfor i in range(m):  # loop over the training examples\n# select training example from A_prev (\u22481 line)\na_prev = A_prev[i]\nfor h in range(n_H):  # loop on the vertical axis\nfor w in range(n_W):  # loop on the horizontal axis\nfor c in range(n_C):  # loop over the channels (depth)\n# Find the corners of the current \"slice\" (\u22484 lines)\nvert_start = h * stride\nvert_end = vert_start + f\nhoriz_start = w * stride\nhoriz_end = horiz_start + f\n# Compute the backward propagation in both modes.\nif mode == \"max\":\n# Use the corners and \"c\" to define the current slice from a_prev (\u22481 line)\na_prev_slice = a_prev[\nvert_start:vert_end, horiz_start:horiz_end, c\n]\n# Create the mask from a_prev_slice (\u22481 line)\nmask = create_mask_from_window(a_prev_slice)\n# Set dA_prev to be dA_prev + (the mask multiplied by the correct entry of dA) (\u22481 line)\ndA_prev[i, vert_start:vert_end, horiz_start:horiz_end, c] += (\nmask * dA[i, h, w, c]\n)\nelif mode == \"average\":\n# Get the value da from dA (\u22481 line)\nda = dA[i, h, w, c]\n# Define the shape of the filter as fxf (\u22481 line)\nshape = (f, f)\n# Distribute it to get the correct slice of dA_prev. i.e. Add the distributed value of da. (\u22481 line)\ndA_prev[\ni, vert_start:vert_end, horiz_start:horiz_end, c\n] += distribute_value(da, shape)\n# YOUR CODE STARTS HERE\n# YOUR CODE ENDS HERE\n# Making sure your output shape is correct\nassert dA_prev.shape == A_prev.shape\nreturn dA_prev\n</code></pre> Python<pre><code>np.random.seed(1)\nA_prev = np.random.randn(5, 5, 3, 2)\nhparameters = {\"stride\": 1, \"f\": 2}\nA, cache = pool_forward(A_prev, hparameters)\nprint(A.shape)\nprint(cache[0].shape)\ndA = np.random.randn(5, 4, 2, 2)\ndA_prev1 = pool_backward(dA, cache, mode=\"max\")\nprint(\"mode = max\")\nprint(\"mean of dA = \", np.mean(dA))\nprint(\"dA_prev1[1,1] = \", dA_prev1[1, 1])\nprint()\ndA_prev2 = pool_backward(dA, cache, mode=\"average\")\nprint(\"mode = average\")\nprint(\"mean of dA = \", np.mean(dA))\nprint(\"dA_prev2[1,1] = \", dA_prev2[1, 1])\nassert type(dA_prev1) == np.ndarray, \"Wrong type\"\nassert dA_prev1.shape == (5, 5, 3, 2), f\"Wrong shape {dA_prev1.shape} != (5, 5, 3, 2)\"\nassert np.allclose(\ndA_prev1[1, 1], [[0, 0], [5.05844394, -1.68282702], [0, 0]]\n), \"Wrong values for mode max\"\nassert np.allclose(\ndA_prev2[1, 1],\n[[0.08485462, 0.2787552], [1.26461098, -0.25749373], [1.17975636, -0.53624893]],\n), \"Wrong values for mode average\"\nprint(\"\\033[92m All tests passed.\")\n</code></pre> Text Only<pre><code>(5, 4, 2, 2)\n(5, 5, 3, 2)\nmode = max\nmean of dA =  0.14571390272918056\ndA_prev1[1,1] =  [[ 0.          0.        ]\n [ 5.05844394 -1.68282702]\n [ 0.          0.        ]]\n\nmode = average\nmean of dA =  0.14571390272918056\ndA_prev2[1,1] =  [[ 0.08485462  0.2787552 ]\n [ 1.26461098 -0.25749373]\n [ 1.17975636 -0.53624893]]\n[92m All tests passed.\n</code></pre> <p>Congratulations! You've completed the assignment. You now understand how convolutional neural networks work, and have implemented all the building blocks of a neural network.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","Python"]},{"location":"blog/leet-code-knapsack-problem/","title":"LeetCode \u200b\u80cc\u5305\u200b\u95ee\u9898","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b\u6211\u200b\u5b66\u4e60\u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\u7684\u200b\u4e00\u4e9b\u200b\u603b\u7ed3\u200b\u3002</p> <p>\u200b\u7b97\u6cd5\u200b\u9898\u200b\u7b97\u662f\u200b\u6211\u200b\u6c42\u804c\u200b\u8def\u4e0a\u200b\u7684\u200b\u4e00\u9053\u200b\u574e\u200b\uff0c\u200b\u6211\u200b\u6ca1\u6709\u200b\u6570\u636e\u7ed3\u6784\u200b\u4e0e\u200b\u7b97\u6cd5\u200b\u7684\u200b\u5b66\u4e60\u200b\u7ecf\u9a8c\u200b\uff0c\u200b\u4f46\u200b\u8bb8\u591a\u200b\u7b14\u8bd5\u200b\u90fd\u200b\u9700\u8981\u200b\u8003\u200b\u7b97\u6cd5\u200b\u9898\u200b\u3002\u200b\u6211\u82b1\u200b\u4e86\u200b\u4e24\u5929\u200b\u65f6\u95f4\u200b\u7cfb\u7edf\u200b\u5b66\u4e60\u200b\u52a8\u6001\u200b\u89c4\u5212\u200b\u4e2d\u200b\u7684\u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\uff0c\u200b\u5e0c\u671b\u200b\u80fd\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u518d\u6b21\u200b\u9047\u5230\u200b\u8fd9\u200b\u7c7b\u200b\u95ee\u9898\u200b\u65f6\u200b\u4e0d\u518d\u200b\u754f\u60e7\u200b\u3002\u200b\u4e4b\u524d\u200b\u4ee5\u4e3a\u200b\u53ea\u6709\u200b\u8ba1\u7b97\u673a\u7cfb\u200b\u540c\u5b66\u200b\u624d\u80fd\u200b\u505a\u51fa\u200b\u7684\u200b\u9898\u76ee\u200b\uff0c\u200b\u6211\u200b\u4e5f\u200b\u80fd\u200b\u81ea\u5df1\u200b\u505a\u200b\u51fa\u6765\u200b\u4e86\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u662f\u200b\u5b66\u4e60\u200b\u7684\u200b\u6536\u83b7\u200b\u3002</p> <p>\u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\u662f\u200b\u6307\u6709\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u5bb9\u91cf\u200b\u4e3a\u200b<code>c</code>\u200b\u7684\u200b\u80cc\u5305\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u7ec4\u200b\u7269\u54c1\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7269\u54c1\u200b\u90fd\u200b\u6709\u200b\u81ea\u5df1\u200b\u7684\u200b\u91cd\u91cf\u200b<code>w[i]</code>\u200b\u548c\u200b\u4ef7\u503c\u200b<code>p[i]</code>\u3002\u200b\u5728\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u7684\u200b\u524d\u63d0\u200b\u4e0b\u200b\uff0c\u200b\u9009\u62e9\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u54c1\u200b\u88c5\u5165\u200b\u80cc\u5305\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u88c5\u5165\u200b\u80cc\u5305\u200b\u4e2d\u200b\u7684\u200b\u7269\u54c1\u200b\u603b\u4ef7\u503c\u200b\u6700\u5927\u200b\u3002</p> <p></p>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#01-\u80cc\u5305","title":"01 \u200b\u80cc\u5305","text":"<p>\u200b\u5728\u200b 01 \u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7269\u54c1\u200b\u53ea\u80fd\u200b\u7528\u200b\u4e00\u6b21\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b \u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b \u200b\u6216\u200b \u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b \u200b\u6765\u200b\u89e3\u7b54\u200b\uff0c\u200b\u540e\u8005\u200b\u7684\u200b\u7a7a\u95f4\u200b\u590d\u6742\u5ea6\u200b\u66f4\u200b\u4f4e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u540e\u7eed\u200b\u90fd\u200b\u4f7f\u7528\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\u3002</p> <p>\u200b\u603b\u7ed3\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\u6c42\u89e3\u200b 01 \u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\u65f6\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5148\u200b\u904d\u5386\u200b\u7269\u54c1\u200b\uff0c\u200b\u518d\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u5e76\u4e14\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u65f6\u200b\u9700\u8981\u200b \u200b\u5012\u5e8f\u200b \u3002</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u5012\u5e8f\u200b\uff1f\u200b\u4e00\u4e2a\u200b\u6bd4\u8f83\u200b\u597d\u200b\u7684\u200b\u89e3\u91ca\u200b\u662f\u200b\uff08\u200b\u6765\u6e90\u200b\uff1a\u3010\u200b\u5e26\u200b\u4f60\u200b\u5b66\u900f\u200b 01 \u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\uff08\u200b\u6eda\u52a8\u200b\u6570\u7ec4\u200b\u7bc7\u200b\uff09 | \u200b\u4ece\u6b64\u200b\u5bf9\u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\u4e0d\u518d\u200b\u8ff7\u832b\u200b\uff01\u3011 \uff09\uff1a</p> <p></p>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u95ee\u9898\u89d2\u5ea6-1\u7ed9\u5b9a\u80cc\u5305\u5bb9\u91cf\u6700\u591a\u80fd\u88c5\u591a\u5c11\u4ef7\u503c\u7684\u7269\u54c1","title":"\u95ee\u9898\u200b\u89d2\u5ea6\u200b 1\uff1a\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u6700\u591a\u80fd\u200b\u88c5\u200b\u591a\u5c11\u200b\u4ef7\u503c\u200b\u7684\u200b\u7269\u54c1\u200b\uff1f","text":"<p>\u200b\u8fd9\u200b\u662f\u200b\u6700\u200b\u57fa\u7840\u200b\u7684\u200b\u95ee\u9898\u200b\u89d2\u5ea6\u200b\uff0c\u200b\u6b65\u9aa4\u200b\u5982\u4e0b\u200b\uff1a</p> <ul> <li>\u200b\u786e\u5b9a\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u7684\u200b\u5b9a\u4e49\u200b\u3002</li> </ul> <p>\u200b\u5728\u200b\u4e00\u7ef4\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u4e2d\u200b\uff0c<code>dp[j]</code>\u200b\u8868\u793a\u200b\uff1a\u200b\u5bb9\u91cf\u200b\u4e3a\u200b<code>j</code>\u200b\u7684\u200b\u80cc\u5305\u200b\uff0c\u200b\u6240\u200b\u80cc\u200b\u7684\u200b\u7269\u54c1\u200b\u4ef7\u503c\u200b\u53ef\u4ee5\u200b\u6700\u5927\u200b\u4e3a\u200b<code>dp[j]</code>\u3002</p> <ul> <li>\u200b\u521d\u59cb\u5316\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u3002\u200b\u5b83\u200b\u7684\u200b \u200b\u957f\u5ea6\u200b\u4e3a\u200b<code>c+1</code>\uff0c\u200b\u521d\u59cb\u503c\u200b\u90fd\u200b\u4e3a\u200b<code>0</code> \u3002</li> </ul> Python<pre><code>dp = [0 for _ in range(c + 1)]\n</code></pre> <ul> <li>\u200b\u904d\u5386\u200b\u6240\u6709\u200b\u7269\u54c1\u200b\uff0c\u200b\u5012\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff08\u200b\u4ece\u200b<code>dp[c]</code>\u200b\u904d\u5386\u200b\u5230\u200b<code>dp[w[i]]</code>\uff0c\u200b\u56e0\u4e3a\u200b\u5c0f\u4e8e\u200b<code>w[i]</code>\u200b\u7684\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u53d8\u5316\u200b\u7684\u200b\uff09\u3002</li> </ul> Python<pre><code># \u200b\u904d\u5386\u200b\u7269\u54c1\u200b\nfor i in range(len(w)):\n# \u200b\u5012\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\nfor j in range(c, w[i] - 1, -1):\ndp[j] = max(dp[j], dp[j - w[i]] + p[i])\n</code></pre>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u7531\u6b64\u89d2\u5ea6\u884d\u751f\u51fa\u7684\u95ee\u9898","title":"\u7531\u6b64\u200b\u89d2\u5ea6\u200b\u884d\u751f\u200b\u51fa\u200b\u7684\u200b\u95ee\u9898","text":"<ul> <li>416. \u200b\u5206\u5272\u200b\u7b49\u200b\u548c\u200b\u5b50\u96c6\u200b \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u80fd\u200b\u4e0d\u80fd\u200b\u88c5\u6ee1\u200b\u8fd9\u4e2a\u200b\u80cc\u5305\u200b\u3002</li> <li>1049. \u200b\u6700\u540e\u200b\u4e00\u5757\u200b\u77f3\u5934\u200b\u7684\u200b\u91cd\u91cf\u200b II \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u5c3d\u53ef\u80fd\u200b\u88c5\u200b\uff0c\u200b\u6700\u591a\u80fd\u200b\u88c5\u200b\u591a\u5c11\u200b\u3002</li> <li>0474. \u200b\u4e00\u200b\u548c\u200b\u96f6\u200b \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6700\u591a\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u7269\u54c1\u200b\u3002\u200b\u6ce8\u610f\u200b\u80cc\u5305\u200b\u662f\u200b\u4e8c\u7ef4\u200b\u7684\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\uff1a\u200b\u80cc\u5305\u200b\u6700\u591a\u80fd\u200b\u88c5\u200b <code>m</code> \u200b\u4e2a\u200b 0 \u200b\u548c\u200b <code>n</code> \u200b\u4e2a\u200b 1\u3002\u200b\u518d\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u7269\u54c1\u200b\u7684\u200b\u4ef7\u503c\u200b\u62bd\u8c61\u200b\u4e3a\u200b 1\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6700\u5927\u5316\u200b\u80cc\u5305\u200b\u91cc\u9762\u200b\u7684\u200b\u7269\u54c1\u200b\u4e2a\u6570\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6700\u5927\u5316\u200b\u80cc\u5305\u200b\u7684\u200b\u4ef7\u503c\u200b\u3002</li> </ul>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u95ee\u9898\u89d2\u5ea6-2\u7ed9\u5b9a\u80cc\u5305\u5bb9\u91cf\u88c5\u6ee1\u80cc\u5305\u6709\u591a\u5c11\u79cd\u65b9\u6cd5","title":"\u95ee\u9898\u200b\u89d2\u5ea6\u200b 2\uff1a\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u65b9\u6cd5\u200b\uff1f","text":"<ul> <li>\u200b\u786e\u5b9a\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u4ee5\u53ca\u200b\u4e0b\u200b\u6807\u7684\u200b\u542b\u4e49\u200b\u3002</li> </ul> <p><code>dp[j]</code>\u200b\u8868\u793a\u200b\uff1a\u200b\u586b\u6ee1\u200b<code>j</code>\uff08\u200b\u5305\u62ec\u200b<code>j</code>\uff09\u200b\u8fd9\u4e48\u200b\u5927\u200b\u5bb9\u79ef\u200b\u7684\u200b\u80cc\u5305\u200b\uff0c\u200b\u6709\u200b<code>dp[j]</code>\u200b\u79cd\u200b\u65b9\u6cd5\u200b\u3002</p> <ul> <li>\u200b\u521d\u59cb\u5316\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u3002\u200b\u5b83\u200b\u7684\u200b \u200b\u957f\u5ea6\u200b\u4e3a\u200b<code>c+1</code>\uff0c<code>dp[0] = 1</code>\uff0c\u200b\u5176\u4ed6\u200b\u521d\u59cb\u503c\u200b\u90fd\u200b\u4e3a\u200b<code>0</code> \u3002</li> </ul> <p>\u200b\u5728\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u65f6\u5019\u200b <code>dp[0]</code> \u200b\u4e00\u5b9a\u200b\u8981\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b 1\uff0c\u200b\u56e0\u4e3a\u200b <code>dp[0]</code>\u200b\u662f\u200b\u5728\u200b\u516c\u5f0f\u200b\u4e2d\u200b\u4e00\u5207\u200b\u9012\u63a8\u200b\u7ed3\u679c\u200b\u7684\u200b\u8d77\u6e90\u200b\uff0c\u200b\u5982\u679c\u200b <code>dp[0]</code> \u200b\u662f\u200b 0 \u200b\u7684\u8bdd\u200b\uff0c\u200b\u4e4b\u540e\u200b\u6240\u6709\u200b\u9012\u63a8\u200b\u7ed3\u679c\u200b\u5c06\u200b\u90fd\u200b\u662f\u200b 0\u3002</p> Python<pre><code>dp = [0 for _ in range(c + 1)]\ndp[0] = 1\n</code></pre> <ul> <li>\u200b\u904d\u5386\u200b\u6240\u6709\u200b\u7269\u54c1\u200b\uff0c\u200b\u5012\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff08\u200b\u4ece\u200b<code>dp[c]</code>\u200b\u904d\u5386\u200b\u5230\u200b<code>dp[w[i]]</code>\uff0c\u200b\u56e0\u4e3a\u200b\u5c0f\u4e8e\u200b<code>w[i]</code>\u200b\u7684\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u53d8\u5316\u200b\u7684\u200b\uff09\u3002</li> </ul> Python<pre><code># \u200b\u904d\u5386\u200b\u7269\u54c1\u200b\nfor i in range(len(w)):\n# \u200b\u5012\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\nfor j in range(c, w[i] - 1, -1):\ndp[j] = dp[j] + dp[j - w[i]]\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u9012\u5f52\u200b\u65b9\u7a0b\u200b\u7684\u200b\u610f\u601d\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8981\u200b\u7528\u200b\u82e5\u5e72\u4e2a\u200b\u5143\u7d20\u200b\u7ec4\u6210\u200b\u548c\u200b\u4e3a\u200b <code>j</code> \u200b\u7684\u200b\u65b9\u6848\u200b\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6709\u200b\u4e24\u79cd\u200b\u9009\u62e9\u200b\uff1a\u200b\u4e0d\u9009\u200b\u7b2c\u200b <code>i</code> \u200b\u4e2a\u200b\u5143\u7d20\u200b\u6216\u8005\u200b\u9009\u7b2c\u200b <code>i</code> \u200b\u4e2a\u200b\u5143\u7d20\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u9009\u200b\u7b2c\u200b <code>i</code> \u200b\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u90a3\u4e48\u200b\u539f\u6765\u200b\u5df2\u7ecf\u200b\u6709\u200b\u7684\u200b<code>dp[j]</code>\u200b\u79cd\u200b\u65b9\u6848\u200b\u6570\u200b\u5c31\u200b\u4e0d\u53d8\u200b\uff1b\u200b\u5982\u679c\u200b\u9009\u7b2c\u200b <code>i</code> \u200b\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5269\u4e0b\u200b\u8981\u200b\u7ec4\u6210\u200b\u548c\u200b\u4e3a\u200b <code>j - w[i]</code>\u200b\u7684\u200b\u65b9\u6848\u200b\u6570\u200b\u5c31\u200b\u7b49\u4e8e\u200b <code>dp[j - w[i]]</code>\u3002\u200b\u6240\u4ee5\u200b\u4e24\u79cd\u200b\u9009\u62e9\u200b\u76f8\u52a0\u200b\u5c31\u662f\u200b\u65b0\u200b\u7684\u200b <code>dp[j]</code>\u3002</p>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u7531\u6b64\u89d2\u5ea6\u884d\u751f\u51fa\u7684\u95ee\u9898_1","title":"\u7531\u6b64\u200b\u89d2\u5ea6\u200b\u884d\u751f\u200b\u51fa\u200b\u7684\u200b\u95ee\u9898","text":"<ul> <li>494. \u200b\u76ee\u6807\u200b\u548c\u200b \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u65b9\u6cd5\u200b\u3002</li> </ul>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u5b8c\u5168\u80cc\u5305","title":"\u5b8c\u5168\u200b\u80cc\u5305","text":"<p>\u200b\u5b8c\u5168\u200b\u80cc\u5305\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u6b65\u9aa4\u200b\u4e0e\u200b 01 \u200b\u80cc\u5305\u200b\u5b8c\u5168\u4e00\u81f4\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5728\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u65f6\u200b\u5c06\u200b\u5012\u5e8f\u200b\u904d\u5386\u200b\u6539\u4e3a\u200b\u6b63\u5e8f\u200b\u904d\u5386\u200b\u5373\u53ef\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6bcf\u4e2a\u200b\u7269\u54c1\u200b\u53ef\u4ee5\u200b\u65e0\u9650\u200b\u6b21\u200b\u4f7f\u7528\u200b\u3002</p>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u95ee\u9898\u89d2\u5ea6-1\u7ed9\u5b9a\u80cc\u5305\u5bb9\u91cf\u6700\u591a\u80fd\u88c5\u591a\u5c11\u4ef7\u503c\u7684\u7269\u54c1_1","title":"\u95ee\u9898\u200b\u89d2\u5ea6\u200b 1\uff1a\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u6700\u591a\u80fd\u200b\u88c5\u200b\u591a\u5c11\u200b\u4ef7\u503c\u200b\u7684\u200b\u7269\u54c1\u200b\uff1f","text":"Python<pre><code>dp = [0 for _ in range(c + 1)]\n# \u200b\u904d\u5386\u200b\u7269\u54c1\u200b\nfor i in range(len(w)):\n# \u200b\u987a\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\nfor j in range(w[i], c + 1):\ndp[j] = max(dp[j], dp[j - w[i]] + p[i])\n</code></pre>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u95ee\u9898\u89d2\u5ea6-2\u7ed9\u5b9a\u80cc\u5305\u5bb9\u91cf\u88c5\u6ee1\u80cc\u5305\u6709\u591a\u5c11\u79cd\u65b9\u6cd5\u6c42\u7ec4\u5408\u6570","title":"\u95ee\u9898\u200b\u89d2\u5ea6\u200b 2\uff1a\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u65b9\u6cd5\u200b\uff1f\uff08\u200b\u6c42\u200b\u7ec4\u5408\u200b\u6570\u200b\uff09","text":"Python<pre><code>dp = [0 for _ in range(c + 1)]\ndp[0] = 1\n# \u200b\u904d\u5386\u200b\u7269\u54c1\u200b\nfor i in range(len(w)):\n# \u200b\u987a\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\nfor j in range(w[i], c + 1):\ndp[j] = dp[j] + dp[j - w[i]]\n</code></pre>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u7531\u6b64\u89d2\u5ea6\u884d\u751f\u51fa\u7684\u95ee\u9898_2","title":"\u7531\u6b64\u200b\u89d2\u5ea6\u200b\u884d\u751f\u200b\u51fa\u200b\u7684\u200b\u95ee\u9898","text":"<ul> <li>518. \u200b\u96f6\u94b1\u200b\u5151\u6362\u200b II \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u65b9\u6cd5\u200b\uff08\u200b\u6c42\u200b\u7ec4\u5408\u200b\u6570\u200b\uff09\u3002</li> </ul>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u95ee\u9898\u89d2\u5ea6-3\u7ed9\u5b9a\u80cc\u5305\u5bb9\u91cf\u88c5\u6ee1\u80cc\u5305\u6709\u591a\u5c11\u79cd\u65b9\u6cd5\u6c42\u6392\u5217\u6570","title":"\u95ee\u9898\u200b\u89d2\u5ea6\u200b 3\uff1a\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u65b9\u6cd5\u200b\uff1f\uff08\u200b\u6c42\u200b\u6392\u5217\u200b\u6570\u200b\uff09","text":"<p>\u200b\u6c42\u200b\u6392\u5217\u200b\u6570\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u653e\u5728\u200b\u5916\u200b\u5faa\u73af\u200b\uff0c\u200b\u5c06\u200b\u7269\u54c1\u200b\u653e\u5728\u200b\u5185\u200b\u5faa\u73af\u200b\u3002</p> Python<pre><code>dp = [0 for _ in range(c + 1)]\ndp[0] = 1\n# \u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\nfor j in range(c + 1):\n# \u200b\u904d\u5386\u200b\u7269\u54c1\u200b\nfor i in range(len(w)):\nif w[i] &lt;= j:\ndp[j] = dp[j] + dp[j - w[i]]\n</code></pre>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u7531\u6b64\u89d2\u5ea6\u884d\u751f\u51fa\u7684\u95ee\u9898_3","title":"\u7531\u6b64\u200b\u89d2\u5ea6\u200b\u884d\u751f\u200b\u51fa\u200b\u7684\u200b\u95ee\u9898","text":"<ul> <li>0377. \u200b\u7ec4\u5408\u200b\u603b\u548c\u200b \u2163 \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u65b9\u6cd5\u200b\uff08\u200b\u6c42\u200b\u6392\u5217\u200b\u6570\u200b\uff09\uff09\u3002</li> <li>70. \u200b\u722c\u697c\u68af\u200b \u200b\u7ed9\u5b9a\u200b\u603b\u200b\u53f0\u9636\u200b\u6570\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u53ef\u4ee5\u200b\u722c\u200b 1 \u200b\u9636\u200b\u6216\u200b 2 \u200b\u9636\u200b\uff0c\u200b\u6c42\u200b\u4e00\u5171\u200b\u6709\u200b\u591a\u5c11\u200b\u79cd\u200b\u722c\u697c\u68af\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u8fd9\u9053\u9898\u200b\u5f53\u7136\u200b\u53ef\u4ee5\u200b\u7528\u200b\u7b80\u5355\u200b\u7684\u200b\u6590\u6ce2\u200b\u90a3\u5951\u200b\u6570\u5217\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u4f46\u200b\u5982\u679c\u200b\u6bcf\u6b21\u200b\u53ef\u4ee5\u200b\u722c\u200b\u7684\u200b\u53f0\u9636\u200b\u6570\u592a\u591a\u200b\uff0c\u200b\u5c31\u200b\u66f4\u200b\u9002\u5408\u200b\u7528\u200b\u5b8c\u5168\u200b\u80cc\u5305\u200b\u95ee\u9898\u200b\u6c42\u89e3\u200b\uff0c\u200b\u4e24\u5c42\u200b\u5faa\u73af\u4e0d\u65ad\u200b\u7d2f\u52a0\u200b\u5373\u53ef\u200b\u3002</li> </ul> <p>\u200b\u603b\u7ed3\u200b</p> <p>\u200b\u5982\u679c\u200b\u6c42\u200b\u7ec4\u5408\u200b\u6570\u200b\u5c31\u662f\u200b\u5916\u5c42\u200b for \u200b\u5faa\u73af\u200b\u904d\u5386\u200b\u7269\u54c1\u200b\uff0c\u200b\u5185\u5c42\u200b for \u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6c42\u200b\u6392\u5217\u200b\u6570\u200b\u5c31\u662f\u200b\u5916\u5c42\u200b for \u200b\u904d\u5386\u200b\u80cc\u5305\u200b\uff0c\u200b\u5185\u5c42\u200b for \u200b\u5faa\u73af\u200b\u904d\u5386\u200b\u7269\u54c1\u200b\u3002</p>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u95ee\u9898\u89d2\u5ea6-4\u7ed9\u5b9a\u80cc\u5305\u5bb9\u91cf\u88c5\u6ee1\u80cc\u5305\u6700\u5c11\u9700\u8981\u591a\u5c11\u4ef6\u4e0d\u540c\u7684\u7269\u54c1","title":"\u95ee\u9898\u200b\u89d2\u5ea6\u200b 4\uff1a\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6700\u5c11\u200b\u9700\u8981\u200b\u591a\u5c11\u200b\u4ef6\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u54c1\u200b\uff1f","text":"<ul> <li>\u200b\u786e\u5b9a\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u7684\u200b\u5b9a\u4e49\u200b\u3002\u200b\u51d1\u8db3\u200b\u603b\u989d\u200b\u4e3a\u200b j \u200b\u6240\u200b\u9700\u200b\u94b1\u5e01\u200b\u7684\u200b\u6700\u5c11\u200b\u4e2a\u6570\u200b\u4e3a\u200b dp[j]</li> </ul> <p>\u200b\u5728\u200b\u4e00\u7ef4\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u4e2d\u200b\uff0c<code>dp[j]</code>\u200b\u8868\u793a\u200b\uff1a\u200b\u5bb9\u91cf\u200b\u4e3a\u200b<code>j</code>\u200b\u7684\u200b\u80cc\u5305\u200b\uff0c\u200b\u6240\u200b\u80cc\u200b\u7684\u200b\u4e0d\u540c\u200b\u7269\u54c1\u200b\u6570\u91cf\u200b\u6700\u5c0f\u200b\u4e3a\u200b<code>dp[j]</code>\u3002</p> <ul> <li>\u200b\u521d\u59cb\u5316\u200b<code>dp</code>\u200b\u6570\u7ec4\u200b\u3002\u200b\u5b83\u200b\u7684\u200b \u200b\u957f\u5ea6\u200b\u4e3a\u200b<code>c+1</code>\uff0c<code>dp[0]</code>\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b 0\uff0c\u200b\u5176\u4ed6\u200b\u521d\u59cb\u503c\u200b\u90fd\u200b\u4e3a\u200b<code>float(\"inf\")</code>\u200b\u6216\u8005\u200b<code>c + 1</code> \u3002\u200b\u8fd9\u91cc\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>float(\"inf\")</code>\u200b\u4ee3\u8868\u200b\u65e0\u7a77\u5927\u200b\uff1b\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>c + 1</code>\uff0c\u200b\u56e0\u4e3a\u200b\u82e5\u200b\u786c\u5e01\u200b\u7684\u200b\u6700\u5c0f\u200b\u4ef7\u503c\u200b\u662f\u200b 1\uff0c\u200b\u5219\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b<code>c+1</code>\u200b\u4e2a\u200b\u786c\u5e01\u200b\u6765\u200b\u7ec4\u6210\u200b<code>c</code>\u200b\u7684\u200b\u4ef7\u503c\u200b\u3002</li> </ul> Python<pre><code>dp = [float(\"inf\") for _ in range(c + 1)]\ndp[0] = 0\n</code></pre> <ul> <li>\u200b\u904d\u5386\u200b\u6240\u6709\u200b\u7269\u54c1\u200b\uff0c\u200b\u6b63\u5e8f\u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\u3002</li> </ul> <p>\u200b\u9012\u5f52\u200b\u903b\u8f91\u200b\u662f\u200b\uff1a\u200b\u8981\u4e48\u200b\u4e0d\u200b\u52a0\u5165\u200b\u65b0\u200b\u7684\u200b\u7269\u54c1\u200b\uff0c\u200b\u9700\u8981\u200b<code>dp[j]</code>\u200b\u4ef6\u7269\u54c1\u200b\u624d\u80fd\u200b\u51d1\u6210\u200b <code>j</code>\u200b\u7684\u200b\u91d1\u989d\u200b\uff1b\u200b\u8981\u4e48\u200b\u52a0\u5165\u200b\u65b0\u200b\u7684\u200b\u7269\u54c1\u200b\uff0c\u200b\u9700\u8981\u200b<code>dp[j - w[i]] + 1)</code>\u200b\u4ef6\u7269\u54c1\u200b\u624d\u80fd\u200b\u51d1\u6210\u200b <code>j</code>\u200b\u7684\u200b\u91d1\u989d\u200b\u3002\u200b\u53d6\u200b\u4e24\u8005\u200b \u200b\u6700\u5c0f\u503c\u200b \u200b\u5373\u53ef\u200b\u3002</p> Python<pre><code># \u200b\u904d\u5386\u200b\u7269\u54c1\u200b\nfor i in range(len(w)):\n# \u200b\u904d\u5386\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\nfor j in range(w[i], c + 1):\ndp[j] = min(dp[j], dp[j - w[i]] + 1)\n</code></pre>","tags":["LeetCode"]},{"location":"blog/leet-code-knapsack-problem/#\u7531\u6b64\u89d2\u5ea6\u884d\u751f\u51fa\u7684\u95ee\u9898_4","title":"\u7531\u6b64\u200b\u89d2\u5ea6\u200b\u884d\u751f\u200b\u51fa\u200b\u7684\u200b\u95ee\u9898","text":"<ul> <li>322. \u200b\u96f6\u94b1\u200b\u5151\u6362\u200b \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6700\u5c11\u200b\u9700\u8981\u200b\u591a\u5c11\u200b\u4ef6\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u54c1\u200b\u3002</li> <li>279.\u200b\u5b8c\u5168\u200b\u5e73\u65b9\u200b\u6570\u200b \u200b\u662f\u200b\u6c42\u200b\u7ed9\u5b9a\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u88c5\u6ee1\u200b\u80cc\u5305\u200b\u6700\u5c11\u200b\u9700\u8981\u200b\u591a\u5c11\u200b\u4ef6\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u54c1\u200b\u3002\u200b\u9700\u8981\u200b\u5c06\u200b\u5f85\u200b\u6c42\u548c\u200b\u7684\u200b\u6574\u6570\u200b n \u200b\u770b\u6210\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u518d\u7528\u200b\\(1^2\\)\u3001\\(2^2\\)\u3001\\(3^2\\)\u200b\u4e00\u76f4\u200b\u5230\u200b<code>(int(n**0.5)+1)**2</code>\u200b\u8fd9\u4e9b\u200b\u5b8c\u5168\u200b\u5e73\u65b9\u200b\u6570\u200b\u4f5c\u4e3a\u200b\u7269\u54c1\u200b\uff0c\u200b\u505a\u200b\u5b8c\u5168\u200b\u80cc\u5305\u200b\u3002</li> </ul>","tags":["LeetCode"]},{"location":"blog/stay-focused/","title":"\u4fdd\u6301\u200b\u4e13\u6ce8","text":"<p>\u200b\u56de\u987e\u8fc7\u53bb\u200b\u4e00\u4e2a\u591a\u6708\u200b\u7684\u200b\u5b66\u4e60\u200b\u548c\u200b\u6c42\u804c\u200b\uff0c\u200b\u6211\u200b\u611f\u5230\u200b\u81ea\u5df1\u200b\u8fc7\u5f97\u200b\u5e76\u200b\u4e0d\u591f\u200b\u4e13\u6ce8\u200b\u3002\u200b\u8bfe\u4e1a\u200b\u7684\u200b\u5f3a\u5ea6\u200b\u3001\u200b\u6c42\u804c\u200b\u7684\u200b\u4e0d\u200b\u987a\u5229\u200b\uff0c\u200b\u8ba9\u200b\u6211\u200b\u603b\u662f\u200b\u611f\u89c9\u200b\u6709\u200b\u5f88\u591a\u200b\u4e8b\u60c5\u200b\u9700\u8981\u200b\u505a\u200b\uff0c\u200b\u4f46\u200b\u53c8\u200b\u6709\u200b\u5f88\u591a\u200b\u4e8b\u60c5\u200b\u6ca1\u200b\u505a\u597d\u200b\u3002\u200b\u5bf9\u200b\u6211\u200b\u6765\u8bf4\u200b\uff0c\u200b\u8fd9\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u597d\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u6211\u200b\u9700\u8981\u200b\u4ed8\u51fa\u200b\u884c\u52a8\u200b\u6539\u53d8\u200b\u5b83\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u51e0\u70b9\u200b\u662f\u200b\u6211\u200b\u505a\u51fa\u200b\u7684\u200b\u6539\u53d8\u200b\uff0c\u200b\u5e0c\u671b\u200b\u81ea\u5df1\u200b\u80fd\u200b\u957f\u671f\u200b\u575a\u6301\u200b\u5b83\u4eec\u200b\uff1a</p> <ol> <li> <p>\u200b\u4e0d\u200b\u62d6\u5ef6\u200b\u3002 \u200b\u5199\u200b\u5728\u200b\u4efb\u52a1\u200b\u6e05\u5355\u200b\u4e0a\u200b\u7684\u200b\u4e8b\u9879\u200b\uff0c\u200b\u4e00\u6709\u200b\u65f6\u95f4\u200b\u5c31\u200b\u5e94\u8be5\u200b\u7acb\u5373\u200b\u5b8c\u6210\u200b\u3002\u200b\u5728\u200b\u622a\u6b62\u200b\u65e5\u671f\u200b\u4e4b\u524d\u200b\u5c06\u200b\u4efb\u52a1\u200b\u6253\u4e0a\u200b\u52fe\u200b\uff0c\u200b\u6211\u4f1a\u200b\u5f88\u200b\u4eab\u53d7\u200b\u8fd9\u79cd\u200b\u6210\u5c31\u611f\u200b\u3002</p> </li> <li> <p>\u200b\u4fdd\u6301\u200b\u5145\u8db3\u200b\u7684\u200b\u7761\u7720\u200b\u3002 \u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u6211\u200b\u6709\u65f6\u200b\u7761\u5f97\u200b\u5f88\u200b\u665a\u200b\uff0c\u200b\u6295\u200b\u7b80\u5386\u200b\u3001\u200b\u5237\u200b\u7b97\u6cd5\u200b\u9898\u200b\u3001\u200b\u6574\u7406\u200b\u9762\u8bd5\u200b\u7ecf\u9a8c\u200b\u3001\u200b\u590d\u4e60\u200b\u8bfe\u4e1a\u200b\u5185\u5bb9\u200b\u7b49\u7b49\u200b\uff0c\u200b\u8ba9\u200b\u6211\u200b\u611f\u89c9\u200b\u6709\u200b\u5f88\u591a\u200b\u4e8b\u60c5\u200b\u8981\u200b\u505a\u200b\u3002\u200b\u6211\u200b\u901a\u5e38\u200b\u5230\u200b\u4e86\u200b 12 \u200b\u70b9\u200b\u4e4b\u540e\u200b\u624d\u200b\u7761\u89c9\u200b\uff0c\u200b\u8d85\u51fa\u200b\u7684\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u5c31\u200b\u597d\u50cf\u200b\u662f\u200b\u6211\u200b\u6361\u200b\u6765\u200b\u7684\u200b\u4e00\u6837\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u200b\u5b9e\u9645\u4e0a\u200b\u5f71\u54cd\u200b\u4e86\u200b\u6211\u200b\u7b2c\u4e8c\u5929\u200b\u7684\u200b\u7761\u7720\u200b\u3002\u200b\u5c11\u200b\u505a\u200b\u51e0\u9053\u200b\u7b14\u8bd5\u200b\u9898\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u600e\u4e48\u6837\u200b\uff0c\u200b\u77e5\u8bc6\u200b\u50a8\u5907\u200b\u8981\u200b\u9760\u200b\u957f\u671f\u200b\u7684\u200b\u79ef\u7d2f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u9760\u200b\u51e0\u4e2a\u200b\u665a\u4e0a\u200b\u5c31\u200b\u80fd\u200b\u5feb\u901f\u200b\u63d0\u9ad8\u200b\u7684\u200b\u3002\u200b\u662f\u200b\u5e94\u8be5\u200b\u505a\u4e9b\u200b\u6539\u53d8\u200b\u4e86\u200b\uff1a\u200b\u4ee5\u200b\u9971\u6ee1\u200b\u7684\u200b\u7cbe\u795e\u200b\u8fce\u63a5\u200b\u7b2c\u4e8c\u5929\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u5de5\u4f5c\u6548\u7387\u200b\u7684\u200b\u63d0\u9ad8\u200b\u66f4\u200b\u50cf\u662f\u200b\u6211\u200b\u6361\u200b\u6765\u200b\u4e86\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</p> </li> <li> <p>\u200b\u73cd\u60dc\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u611f\u5230\u200b\u8212\u670d\u200b\u7684\u200b\u4eba\u548c\u4e8b\u200b\u3002 \u200b\u6c42\u804c\u200b\u65e0\u975e\u200b\u5c31\u662f\u200b\u52a0\u5165\u200b\u4e00\u7fa4\u200b\u4eba\u200b\u5e76\u200b\u548c\u200b\u4ed6\u4eec\u200b\u4e00\u8d77\u200b\u505a\u200b\u4e00\u4e9b\u200b\u4e8b\u200b\u3002\u200b\u80fd\u200b\u52a0\u5165\u200b\u4e00\u4e2a\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u611f\u5230\u200b\u8212\u670d\u200b\u7684\u200b\u56e2\u961f\u200b\u3001\u200b\u505a\u200b\u8ba9\u200b\u81ea\u5df1\u200b\u611f\u5230\u200b\u8212\u670d\u200b\u7684\u200b\u4e8b\u60c5\u200b\uff0c\u200b\u662f\u200b\u4e00\u4ef6\u200b\u5e78\u8fd0\u200b\u7684\u200b\u4e8b\u200b\uff0c\u200b\u8981\u200b\u73cd\u60dc\u200b\u3002</p> </li> </ol> <p>\u200b\u6625\u5929\u200b\u5df2\u7ecf\u200b\u5230\u6765\u200b\uff0c\u200b\u613f\u200b\u81ea\u5df1\u200b\u4fdd\u6301\u200b\u4e13\u6ce8\u200b\uff0c\u200b\u91cd\u65b0\u200b\u51fa\u53d1\u200b\uff01</p> <p> </p> \u200b\u8fd9\u68f5\u200b\u6811\u5f00\u200b\u7740\u200b\u4e09\u79cd\u200b\u4e0d\u540c\u200b\u989c\u8272\u200b\u7684\u200b\u82b1\u200b\uff0c\u200b\u636e\u8bf4\u200b\u662f\u200b\u7528\u200b\u5ac1\u63a5\u200b\u6280\u672f\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002","tags":["\u751f\u6d3b"]},{"location":"blog/maximum-likelihood-and-least-square/","title":"\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u4e0e\u200b\u6700\u5c0f\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u7b49\u4ef7\u200b\u6027","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u4f30\u8ba1\u200b\u7ebf\u6027\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u5e38\u200b\u4f1a\u200b\u5c06\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u5199\u6210\u200b\u6700\u5c0f\u5316\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff1a $$ \\hat\\beta = \\min_{\\beta} \\sum_{i=1}^n {\\color{red}{(y_i - x_i^T \\beta)^2}} $$</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u6211\u4eec\u200b\u8981\u200b\u7528\u200b \u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b \u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff1f\u200b\u800c\u200b\u4e0d\u662f\u200b\u7edd\u5bf9\u503c\u200b\u8bef\u5dee\u200b\u3001\u200b\u7edd\u5bf9\u503c\u200b\u7684\u200b\u4e09\u6b21\u65b9\u200b\u8bef\u5dee\u200b\u7b49\u200b\u5176\u4ed6\u200b\u5f62\u5f0f\u200b\uff1f\u200b\u672c\u6587\u200b\u63a8\u5bfc\u200b\u4e86\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u4e0e\u200b\u6700\u5c0f\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u7b49\u4ef7\u200b\u6027\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6700\u5c0f\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u662f\u200b\u4e00\u79cd\u200b\u5408\u7406\u200b\u7684\u200b\u505a\u6cd5\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u77e5\u9053\u200b\uff0c\u200b\u4f30\u8ba1\u200b\u8bef\u5dee\u200b\u4e0e\u200b\u53c2\u6570\u200b \\(\\beta\\) \u200b\u7684\u200b\u5173\u7cfb\u200b\u4e3a\u200b\uff1a</p> \\[ e_i = y_i - x_i^T \\beta \\] <p>\u200b\u5047\u8bbe\u200b\u4f30\u8ba1\u200b\u8bef\u5dee\u200b\u670d\u4ece\u200b\u5747\u503c\u200b\u4e3a\u200b \\(0\\) \u200b\u4e14\u200b\u65b9\u5dee\u200b\u4e3a\u200b \\(\\sigma ^2\\) \u200b\u7684\u200b\u6b63\u6001\u5206\u5e03\u200b \uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u53c2\u6570\u200b \\(\\beta\\) \u200b\u5df2\u77e5\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5355\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{align*} f(y_i| x_i,\\beta)&amp;= f(e_i| x_i,\\beta)\\\\ &amp;= \\frac{1}{\\sqrt{2\\pi\\sigma^2}}\\exp\\left(-\\frac{e_i^2}{2\\sigma^2}\\right) \\\\ &amp;= \\frac{1}{\\sqrt{2\\pi\\sigma^2}}\\exp\\left[-\\frac{ {\\color{blue}{(y_i - x_i^T \\beta)^2}}}{2\\sigma^2}\\right] \\end{align*} \\] <p>\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ L(\\beta) = \\prod_{i=1}^n f(y_i| x_i,\\beta) = \\prod_{i=1}^n \\frac{1}{\\sqrt{2\\pi\\sigma^2}}\\exp\\left[-\\frac{ \\left(y_i - x_i^T \\beta \\right) ^2}{2\\sigma^2}\\right] \\] <p>\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ \\ell(\\beta) = \\log L(\\beta) = -\\frac{n}{2}\\log(2\\pi) -\\frac{n}{2}\\log(\\sigma^2) - \\frac{1}{2\\sigma^2} \\sum_{i=1}^n \\left(y_i - x_i^T \\beta \\right)^2 \\] <p>\u200b\u6700\u5927\u5316\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\uff0c\u200b\u5c31\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u6700\u5c0f\u5316\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u51fd\u6570\u200b\u7684\u200b\u76f8\u53cd\u6570\u200b\uff1a</p> \\[ Q(\\beta) = -\\ell(\\beta) = \\frac{n}{2}\\log(2\\pi) + \\frac{n}{2}\\log(\\sigma^2) + \\frac{1}{2\\sigma^2} \\sum_{i=1}^n {\\color{blue}{(y_i - x_i^T \\beta)^2}} \\] <p>\u200b\u4e0a\u5f0f\u200b\u4e2d\u200b\u53ea\u6709\u200b \\(\\beta\\) \u200b\u662f\u200b\u53ef\u200b\u53d8\u91cf\u200b\uff0c\u200b\u56e0\u6b64\u200b\u672c\u8d28\u200b\u4e0a\u200b\u5c31\u662f\u200b\u6700\u5c0f\u5316\u200b\u4e0a\u5f0f\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6c42\u548c\u200b\u9879\u200b\uff0c\u200b\u5373\u200b\u6700\u5c0f\u5316\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff1a</p> \\[ \\hat\\beta = \\min_{\\beta} \\sum_{i=1}^n {\\color{red}{(y_i - x_i^T \\beta)^2}} \\]","tags":["\u7edf\u8ba1"]},{"location":"blog/simplex-for-linear-programming-problem/","title":"\u5355\u7eaf\u5f62\u6cd5\u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u7ebf\u6027\u89c4\u5212\u7684\u4e00\u822c\u5f62\u5f0f","title":"\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u4e00\u822c\u200b\u5f62\u5f0f","text":"<p>\u200b\u5728\u200b\u7ebf\u6027\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u4e0b\u200b\uff0c\u200b\u5bfb\u627e\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b \\(z\\) \u200b\u7684\u200b\u6700\u5927\u503c\u200b\uff1a</p> \\[ \\max \\ z = x_1 + x_2 \\] \\[ s.t \\begin{cases} 2x_1 + x_2 \\leq 12 \\\\ x_1 + 2x_2 \\leq 9  \\\\ x_1, x_2 \\geq 0 \\end{cases} \\]","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u7ebf\u6027\u89c4\u5212\u7684\u53ef\u884c\u57df","title":"\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u53ef\u884c\u200b\u57df","text":"<p>\u200b\u6ee1\u8db3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u7684\u200b\u6240\u6709\u200b\u70b9\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u5408\u200b\u5c31\u662f\u200b\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u53ef\u884c\u200b\u57df\u200b\u3002\u200b\u82e5\u200b\u53ef\u884c\u200b\u57df\u200b\u6709\u754c\u200b\uff08\u200b\u4ee5\u4e0b\u200b\u4e3b\u8981\u200b\u8003\u8651\u200b\u6709\u200b\u754c\u200b\u53ef\u884c\u200b\u57df\u200b\uff09\uff0c\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u6700\u4f18\u200b\u89e3\u200b\u5fc5\u7136\u200b\u5728\u200b\u53ef\u884c\u200b\u57df\u200b\u7684\u200b\u9876\u70b9\u200b\u4e0a\u200b\u8fbe\u5230\u200b\u6700\u4f18\u200b\u3002</p> <p>\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u5c31\u662f\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b\u4e0d\u540c\u200b\u7684\u200b\u57fa\u200b\u5411\u91cf\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u77e9\u9635\u200b\u7684\u200b\u7ebf\u6027\u53d8\u6362\u200b\uff0c\u200b\u6c42\u5f97\u200b\u57fa\u200b\u53ef\u884c\u200b\u89e3\u200b\uff08\u200b\u53ef\u884c\u200b\u57df\u200b\u9876\u70b9\u200b\uff09\uff0c\u200b\u5e76\u200b\u5224\u65ad\u200b\u8be5\u89e3\u200b\u662f\u5426\u200b\u6700\u4f18\u200b\uff0c\u200b\u5426\u5219\u200b\u7ee7\u7eed\u200b\u8bbe\u7f6e\u200b\u53e6\u4e00\u7ec4\u200b\u57fa\u200b\u5411\u91cf\u200b\uff0c\u200b\u91cd\u590d\u200b\u6267\u884c\u200b\u4ee5\u4e0a\u200b\u6b65\u9aa4\u200b\uff0c\u200b\u76f4\u5230\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002\u200b\u6240\u4ee5\u200b\uff0c\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u7684\u200b\u6c42\u89e3\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u8fed\u4ee3\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p></p> <p>\u200b\u56fe\u200b 1 \u200b\u53ef\u884c\u200b\u57df\u200b</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u7ebf\u6027\u89c4\u5212\u7684\u6807\u51c6\u5f62\u5f0f","title":"\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u6807\u51c6\u200b\u5f62\u5f0f","text":"<p>\u200b\u5728\u200b\u8bf4\u660e\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u7684\u200b\u539f\u7406\u200b\u4e4b\u524d\u200b\uff0c\u200b\u9700\u8981\u200b\u660e\u767d\u200b\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u6807\u51c6\u200b\u5f62\u5f0f\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5355\u7eaf\u5f62\u200b\u7b97\u6cd5\u200b\u662f\u200b\u901a\u8fc7\u200b\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u6807\u51c6\u200b\u5f62\u6765\u200b\u6c42\u89e3\u200b\u7684\u200b\u3002\u200b\u4e00\u822c\u200b\uff0c\u200b\u89c4\u5b9a\u200b\u7ebf\u6027\u89c4\u5212\u200b\u7684\u200b\u6807\u51c6\u200b\u5f62\u5f0f\u200b\u4e3a\u200b\uff1a</p> \\[ \\max \\ z = \\sum_{j = 1}^{n}c_jx_j \\] \\[ s.t \\begin{cases} \\displaystyle \\sum_{j = 1}^{n}a_{ij}x_j = b_i, i = 1,2,\\dots,m\\\\ x_j \\geq 0 , j = 1,2,\\dots,n  \\\\ \\end{cases} \\] <p>\u200b\u5199\u6210\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\uff1a</p> \\[ \\max \\ z = CX \\] \\[ AX = b \\] \\[ X \\geq 0 \\] \\[ A = \\begin{bmatrix} a_{11} &amp; a_{12} &amp; \\ldots &amp; a_{1n}\\\\ a_{21} &amp; a_{22} &amp; \\ldots &amp; a_{2n}\\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ a_{m1} &amp; a_{m2} &amp; \\ldots &amp; a_{mn} \\end{bmatrix} \\] <p>\u200b\u6807\u51c6\u200b\u5f62\u200b\u7684\u200b\u5f62\u5f0f\u200b\u4e3a\u200b\uff1a</p> <ul> <li> <p>\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u8981\u6c42\u200b \\(\\max\\)</p> </li> <li> <p>\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u5747\u200b\u4e3a\u200b\u7b49\u5f0f\u200b</p> </li> <li> <p>\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u4e3a\u200b\u975e\u8d1f\u200b\u7ea6\u675f\u200b</p> </li> </ul> <p>\u200b\u666e\u901a\u200b\u7ebf\u6027\u89c4\u5212\u200b\u5316\u4e3a\u200b\u6807\u51c6\u200b\u5f62\u200b\uff1a</p> <ul> <li>\u200b\u82e5\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u4e3a\u200b\u6700\u5c0f\u5316\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u53d6\u8d1f\u200b\uff0c\u200b\u6c42\u200b\u6700\u5927\u5316\u200b</li> <li>\u200b\u7ea6\u675f\u200b\u4e0d\u7b49\u5f0f\u200b\u4e3a\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\u4e0d\u7b49\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5de6\u7aef\u200b\u52a0\u5165\u200b\u975e\u8d1f\u200b\u53d8\u91cf\u200b\uff0c\u200b\u8f6c\u53d8\u200b\u4e3a\u200b\u7b49\u5f0f\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1a</li> </ul> \\[ x_1 + 2x_2 \\leq 9 \\Rightarrow \\begin{cases} x_1 + 2x_2 + x_3 = 9\\\\ x_3 \\geq 0 \\end{cases} \\] <p>\u200b\u540c\u7406\u200b\uff0c\u200b\u7ea6\u675f\u200b\u4e0d\u7b49\u5f0f\u200b\u4e3a\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u4e0d\u7b49\u5f0f\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5de6\u7aef\u200b\u51cf\u53bb\u200b\u4e00\u4e2a\u200b\u975e\u8d1f\u200b\u677e\u5f1b\u200b\u53d8\u91cf\u200b\uff0c\u200b\u53d8\u4e3a\u200b\u7b49\u5f0f\u200b\u3002</p> <ul> <li>\u200b\u82e5\u200b\u5b58\u5728\u200b\u53d6\u503c\u200b\u65e0\u7ea6\u675f\u200b\u7684\u200b\u53d8\u91cf\u200b\uff0c\u200b\u53ef\u200b\u8f6c\u53d8\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u975e\u8d1f\u200b\u53d8\u91cf\u200b\u7684\u200b\u5dee\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1a</li> </ul> \\[ -\\infty \\leq x_k \\leq +\\infty \\Rightarrow \\begin{cases} x_k = x_m - x_n\\\\ x_m,x_n \\geq 0 \\end{cases} \\] <p>\u200b\u672c\u6587\u200b\u6700\u200b\u5f00\u59cb\u200b\u7684\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u6807\u51c6\u200b\u5f62\u4e3a\u200b\uff1a</p> \\[ \\max \\ z = x_1 + x_2 \\] \\[ s.t \\begin{cases} 2x_1 + x_2 + x_3 = 12 \\\\ x_1 + 2x_2 + x_4 = 9  \\\\ x_1, x_2, x_3, x_4 \\geq 0 \\end{cases} \\]","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u5355\u7eaf\u5f62\u6cd5","title":"\u5355\u7eaf\u5f62\u6cd5","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u51e0\u4f55\u610f\u4e49","title":"\u51e0\u4f55\u200b\u610f\u4e49","text":"<p>\u200b\u5728\u200b\u6807\u51c6\u200b\u5f62\u4e2d\u200b\uff0c\u200b\u6709\u200b \\(m\\) \u200b\u4e2a\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff08\u200b\u4e0d\u200b\u5305\u62ec\u200b\u975e\u8d1f\u200b\u7ea6\u675f\u200b\uff09\uff0c\\(n\\) \u200b\u4e2a\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4e14\u200b \\(n \\geq m\\)\u3002\u200b\u9996\u5148\u200b\u9009\u53d6\u200b \\(m\\) \u200b\u4e2a\u57fa\u200b\u53d8\u91cf\u200b \\(x_j^{'}(j = 1, 2, \\ldots, m )\\)\uff0c\u200b\u57fa\u200b\u53d8\u91cf\u200b\u5bf9\u5e94\u200b\u7ea6\u675f\u200b\u7cfb\u6570\u200b\u77e9\u9635\u200b\u7684\u200b\u5217\u200b\u5411\u91cf\u200b\u7ebf\u6027\u200b\u65e0\u5173\u200b\u3002\u200b\u901a\u8fc7\u200b\u77e9\u9635\u200b\u7684\u200b\u7ebf\u6027\u53d8\u6362\u200b\uff0c\u200b\u57fa\u200b\u53d8\u91cf\u200b\u53ef\u7531\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u8868\u793a\u200b\uff1a</p> \\[ x_i^{'} = C_i + \\sum_{j = m + 1}^{n}m_{ij}x_j^{'}(i = 1, 2, \\ldots , m) \\] <p>\u200b\u5982\u679c\u200b\u4ee4\u975e\u57fa\u200b\u53d8\u91cf\u200b\u7b49\u4e8e\u200b \\(0\\)\uff0c\u200b\u53ef\u200b\u6c42\u5f97\u200b\u57fa\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\uff1a</p> \\[ x_i^{'} = C_i \\] <p>\u200b\u5982\u679c\u200b\u4e3a\u200b\u53ef\u884c\u200b\u89e3\u200b\u7684\u8bdd\u200b\uff0c\\(C_i\\) \u200b\u5927\u4e8e\u200b \\(0\\)\u3002\u200b\u90a3\u4e48\u200b\u5b83\u200b\u7684\u200b\u51e0\u4f55\u200b\u610f\u4e49\u200b\u662f\u200b\u4ec0\u4e48\u200b\u5462\u200b\uff1f</p> <p>\u200b\u8fd8\u662f\u200b\u901a\u8fc7\u200b\u4e0a\u8ff0\u200b\u5177\u4f53\u200b\u7684\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u6765\u200b\u8bf4\u660e\u200b\uff1a</p> \\[ \\max \\ z = x_1 + x_2 \\] \\[ s.t \\begin{cases} 2x_1 + x_2 + x_3 = 12 \\\\ x_1 + 2x_2 + x_4 = 9  \\\\ x_1, x_2, x_3, x_4 \\geq 0 \\end{cases} \\] <p>\u200b\u5982\u679c\u200b\u9009\u62e9\u200b \\(x_2\\)\u3001\\(x_3\\) \u200b\u4e3a\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4ee4\u200b \\(x_1\\)\u3001\\(x_4\\) \u200b\u7b49\u4e8e\u200b \\(0\\)\uff0c\u200b\u53ef\u4ee5\u200b\u53bb\u200b\u6c42\u89e3\u200b\u57fa\u200b\u53d8\u91cf\u200b \\(x_2\\)\u3001\\(x_3\\) \u200b\u7684\u200b\u503c\u200b\u3002\u200b\u5bf9\u200b\u7cfb\u6570\u200b\u77e9\u9635\u200b\u505a\u884c\u200b\u53d8\u6362\u200b\uff0c\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff0c\\(x_2=\\dfrac{9}{2}\\)\uff0c\\(x_3=\\dfrac{15}{2}\\)\u3002</p> \\[ \\left[\\begin{array}{cccccc}{\\mathrm{X}} &amp; {x_{1}} &amp; {x_{2}} &amp; {x_{3}} &amp; {x_{4}} &amp; {b} \\\\ {} &amp; {2} &amp; {1} &amp; {1} &amp; {0} &amp; {12} \\\\ {} &amp; {1} &amp; {2} &amp; {0} &amp; {1} &amp; {9} \\\\ {\\mathrm{C}} &amp; {1} &amp; {1} &amp; {0} &amp; {0} &amp; {z}\\end{array}\\right] \\rightarrow\\left[\\begin{array}{cccccc}{\\mathrm{X}} &amp; {x_{1}} &amp; {x_{2}} &amp; {x_{3}} &amp; {x_{4}} &amp; {b} \\\\ {} &amp; {\\frac{3}{2}} &amp; {0} &amp; {1} &amp; {-\\frac{1}{2}} &amp; {\\frac{15}{2}} \\\\ {} &amp; {\\frac{1}{2}} &amp; {1} &amp; {0} &amp; {\\frac{1}{2}} &amp; {\\frac{9}{2}} \\\\ {\\mathrm{C}} &amp; {\\frac{1}{2}} &amp; {0} &amp; {0} &amp; {-\\frac{1}{2}} &amp; {z-\\frac{9}{2}}\\end{array}\\right] \\] <p>\\(X_1=0\\) \u200b\u8868\u793a\u200b\u53ef\u884c\u200b\u89e3\u5728\u200b \\(y\\) \u200b\u8f74\u4e0a\u200b\uff1b\\(X_4=0\\) \u200b\u8868\u793a\u200b\u53ef\u884c\u200b\u89e3\u5728\u200b \\(x_1+2x_2=9\\) \u200b\u7684\u200b\u76f4\u7ebf\u200b\u4e0a\u200b\u3002\u200b\u90a3\u4e48\u200b\uff0c\u200b\u6c42\u5f97\u200b\u7684\u200b\u53ef\u884c\u200b\u89e3\u5373\u200b\u8868\u793a\u200b\u8fd9\u200b\u4e24\u6761\u200b\u76f4\u7ebf\u200b\u7684\u200b\u4ea4\u70b9\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u53ef\u884c\u200b\u57df\u200b\u7684\u200b\u9876\u70b9\u200b\uff0c\u200b\u5982\u56fe\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u56fe\u200b 2</p> <p>\u200b\u6240\u4ee5\u200b\uff0c\u200b\u901a\u8fc7\u200b\u9009\u62e9\u200b\u4e0d\u540c\u200b\u7684\u200b\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u4e0d\u540c\u200b\u7684\u200b\u53ef\u884c\u200b\u57df\u200b\u7684\u200b\u9876\u70b9\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u5982\u4f55\u5224\u65ad\u6700\u4f18","title":"\u5982\u4f55\u200b\u5224\u65ad\u200b\u6700\u4f18","text":"<p>\u200b\u5982\u524d\u6240\u8ff0\u200b\uff0c\u200b\u57fa\u200b\u53d8\u91cf\u200b\u53ef\u7531\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u8868\u793a\u200b\uff1a</p> \\[ x_i^{'} = C_i + \\sum_{j = m + 1}^{n}m_{ij}x_j^{'}(i = 1, 2, \\ldots , m) \\] <p>\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b \\(z\\) \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5b8c\u5168\u200b\u7531\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u8868\u793a\u200b\uff1a</p> \\[ z = z_0 + \\sum_{j = m + 1}^{n} \\sigma_j x_j^{'} \\] <p>\u200b\u5f53\u200b\u8fbe\u5230\u200b\u6700\u4f18\u200b\u89e3\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b \\(\\sigma_j\\) \u200b\u5e94\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b \\(0\\)\uff0c\u200b\u5f53\u200b\u5b58\u5728\u200b \\(j\\)\uff0c\\(\\sigma_j &gt; 0\\) \u200b\u65f6\u200b\uff0c\u200b\u5f53\u524d\u200b\u89e3\u200b\u4e0d\u662f\u200b\u6700\u4f18\u200b\u89e3\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b\uff1f</p> <p>\u200b\u5f53\u524d\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u503c\u4e3a\u200b \\(z_0\\)\uff0c\u200b\u5176\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u975e\u57fa\u200b\u53d8\u91cf\u503c\u200b\u5747\u53d6\u200b \\(0\\)\u3002\u200b\u7531\u200b\u4e4b\u524d\u200b\u5206\u6790\u200b\u53ef\u77e5\u200b\uff0c\\(x_j^{'} = 0\\) \u200b\u4ee3\u8868\u200b\u53ef\u884c\u200b\u57df\u200b\u7684\u200b\u67d0\u4e2a\u200b\u8fb9\u754c\u200b\uff0c\u200b\u662f\u200b \\(x_j^{'}\\) \u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u3002\u200b\u5982\u679c\u200b\u53ef\u884c\u200b\u89e3\u200b\u9010\u6b65\u200b\u79bb\u5f00\u200b\u8fd9\u4e2a\u200b\u8fb9\u754c\u200b\uff0c\\(x_j^{'}\\) \u200b\u4f1a\u200b\u53d8\u5927\u200b\uff0c\u200b\u56e0\u4e3a\u200b \\(\\sigma_j &gt; 0\\)\uff0c\u200b\u663e\u7136\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u53d6\u503c\u200b\u4e5f\u200b\u4f1a\u200b\u53d8\u5927\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5f53\u524d\u200b\u89e3\u200b\u4e0d\u662f\u200b\u6700\u4f18\u200b\u89e3\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5bfb\u627e\u200b\u65b0\u200b\u7684\u200b\u57fa\u200b\u53d8\u91cf\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u5982\u4f55\u9009\u62e9\u65b0\u7684\u57fa\u53d8\u91cf","title":"\u5982\u4f55\u200b\u9009\u62e9\u200b\u65b0\u200b\u7684\u200b\u57fa\u200b\u53d8\u91cf","text":"<p>\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u591a\u4e2a\u200b \\(\\sigma_j &gt; 0\\)\uff0c\u200b\u9009\u62e9\u200b\u6700\u5927\u200b\u7684\u200b \\(\\sigma_j &gt; 0\\) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u53d8\u91cf\u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u8fd9\u200b\u8868\u793a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u968f\u7740\u200b \\(x_j^{'}\\) \u200b\u7684\u200b\u589e\u52a0\u200b\uff0c\u200b\u589e\u957f\u200b\u7684\u200b\u6700\u5feb\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u5982\u4f55\u9009\u62e9\u88ab\u66ff\u6362\u7684\u57fa\u53d8\u91cf","title":"\u5982\u4f55\u200b\u9009\u62e9\u200b\u88ab\u200b\u66ff\u6362\u200b\u7684\u200b\u57fa\u200b\u53d8\u91cf","text":"<p>\u200b\u5047\u5982\u200b\u6211\u4eec\u200b\u9009\u62e9\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b \\(x_s^{'}\\) \u200b\u4f5c\u4e3a\u200b\u4e0b\u200b\u4e00\u8f6e\u200b\u7684\u200b\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u90a3\u4e48\u200b\u88ab\u200b\u66ff\u6362\u200b\u57fa\u200b\u53d8\u91cf\u200b \\(x_j^{'}\\) \u200b\u5728\u200b\u4e0b\u200b\u4e00\u8f6e\u200b\u4e2d\u200b\u4f5c\u4e3a\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u7b49\u4e8e\u200b \\(0\\)\u3002\u200b\u9009\u62e9\u200b \\(x_j^{'}\\) \u200b\u7684\u200b\u539f\u5219\u200b\uff1a\u200b\u66ff\u6362\u200b\u540e\u200b\u5e94\u8be5\u200b\u5c3d\u91cf\u200b\u4f7f\u200b \\(x_s^{'}\\) \u200b\u503c\u200b\u6700\u5927\u200b\uff08\u200b\u56e0\u4e3a\u200b\u4e0a\u9762\u200b\u5df2\u200b\u5206\u6790\u200b\u8fc7\u200b\uff0c\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u4f1a\u200b\u968f\u7740\u200b \\(x_s^{'}\\) \u200b\u7684\u200b\u589e\u5927\u200b\u800c\u200b\u589e\u5927\u200b\uff09\uff0c\u200b\u4f46\u200b\u8981\u200b\u4fdd\u8bc1\u200b\u66ff\u6362\u200b\u57fa\u200b\u53d8\u91cf\u200b\u540e\u200b\u7684\u200b\u89e3\u200b\u4ecd\u200b\u662f\u200b\u53ef\u884c\u200b\u89e3\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5e94\u8be5\u200b\u9009\u62e9\u200b\u6700\u7d27\u200b\u7684\u200b\u9650\u5236\u200b\u3002</p> <p>\u200b\u7ee7\u7eed\u200b\u901a\u8fc7\u200b\u4e0a\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\u6765\u200b\u8bf4\u660e\u200b\uff1a</p> \\[ \\left[\\begin{array}{cccccc}{\\mathrm{X}} &amp; {x_{1}} &amp; {x_{2}} &amp; {x_{3}} &amp; {x_{4}} &amp; {b} \\\\ {} &amp; {2} &amp; {1} &amp; {1} &amp; {0} &amp; {12} \\\\ {} &amp; {1} &amp; {2} &amp; {0} &amp; {1} &amp; {9} \\\\ {\\mathrm{C}} &amp; {1} &amp; {1} &amp; {0} &amp; {0} &amp; {z}\\end{array}\\right] \\rightarrow\\left[\\begin{array}{cccccc}{\\mathrm{X}} &amp; {x_{1}} &amp; {x_{2}} &amp; {x_{3}} &amp; {x_{4}} &amp; {b} \\\\ {} &amp; {\\frac{3}{2}} &amp; {0} &amp; {1} &amp; {-\\frac{1}{2}} &amp; {\\frac{15}{2}} \\\\ {} &amp; {\\frac{1}{2}} &amp; {1} &amp; {0} &amp; {\\frac{1}{2}} &amp; {\\frac{9}{2}} \\\\ {\\mathrm{C}} &amp; {\\frac{1}{2}} &amp; {0} &amp; {0} &amp; {-\\frac{1}{2}} &amp; {z-\\frac{9}{2}}\\end{array}\\right] \\] <p>\u200b\u4ece\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\\(x_1\\) \u200b\u7684\u200b\u7cfb\u6570\u200b\u4e3a\u200b \\(\\dfrac{1}{2}&gt;0\\)\uff0c\u200b\u6240\u4ee5\u200b\u9009\u200b \\(x_2\\)\u3001\\(x_3\\) \u200b\u4e3a\u57fa\u200b\u53d8\u91cf\u200b\u5e76\u200b\u6ca1\u6709\u200b\u662f\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u8fbe\u5230\u200b\u6700\u4f18\u200b\u3002\u200b\u4e0b\u200b\u4e00\u8f6e\u200b\u9009\u53d6\u200b \\(x_1\\) \u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u66ff\u6362\u200b \\(x_2\\)\u3001\\(x_3\\) \u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u53d8\u91cf\u200b\u3002</p> <p>\u200b\u7b2c\u4e00\u884c\u200b\u662f\u200b\u7b26\u53f7\u200b</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\uff1a\u200b\u82e5\u200b \\(x_1\\) \u200b\u66ff\u6362\u200b \\(x_3\\) \u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u53d8\u91cf\u200b\uff0c\\(x_3=0\\) \u200b\u65f6\u200b\uff0c\\(x_1=\\dfrac{\\dfrac{15}{2}}{\\dfrac{3}{2}}=5\\)</p> <p>\u200b\u7b2c\u4e09\u884c\u200b\uff1a\u200b\u82e5\u200b \\(x_1\\) \u200b\u66ff\u6362\u200b \\(x_2\\) \u200b\u4f5c\u4e3a\u200b\u57fa\u200b\u53d8\u91cf\u200b\uff0c\\(x_2=0\\) \u200b\u65f6\u200b\uff0c\\(x_1=\\dfrac{\\dfrac{9}{2}}{\\dfrac{1}{2}}=9\\)</p> <p>\u200b\u5c3d\u7ba1\u200b\u66ff\u6362\u200b \\(x_2\\) \u200b\u540e\u200b\uff0c\\(x_1\\) \u200b\u7684\u200b\u503c\u200b\u66f4\u200b\u5927\u200b\uff0c\u200b\u4f46\u200b\u5c06\u200b\u5b83\u200b\u4ee3\u5165\u200b \\(x_3\\) \u200b\u540e\u200b\u4f1a\u200b\u53d1\u73b0\u200b \\(x_3\\) \u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u8d1f\u200b\uff0c\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u200b\u3002\u200b\u4ece\u200b\u51e0\u4f55\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u770b\u200b\uff0c\u200b\u9009\u62e9\u200b \\(x_2\\) \u200b\u548c\u200b \\(x_4\\) \u200b\u4f5c\u4e3a\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u89e3\u662f\u200b\u76f4\u7ebf\u200b \\(x_2=0\\) \u200b\u548c\u200b \\(x_1 + 2x_2 = 9\\) \u200b\u7684\u200b\u4ea4\u70b9\u200b\uff0c\u200b\u5b83\u200b\u5728\u200b\u53ef\u884c\u200b\u57df\u5916\u200b\u3002\u200b\u56e0\u6b64\u200b\u5e94\u8be5\u200b\u9009\u62e9\u200b \\(x_3\\) \u200b\u4f5c\u4e3a\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u7ec8\u6b62\u6761\u4ef6","title":"\u7ec8\u6b62\u200b\u6761\u4ef6","text":"<p>\u200b\u5f53\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7528\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u7684\u200b\u7ebf\u6027\u7ec4\u5408\u200b\u8868\u793a\u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u7cfb\u6570\u200b\u5747\u200b\u4e0d\u200b\u5927\u4e8e\u200b \\(0\\)\uff0c\u200b\u5219\u200b\u8868\u793a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u8fbe\u5230\u200b\u6700\u4f18\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\uff0c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u7684\u200b\u7cfb\u6570\u200b\u4e3a\u200b \\(0\\)\uff0c\u200b\u5176\u4ed6\u200b\u7684\u200b\u5747\u200b\u5c0f\u4e8e\u200b \\(0\\)\uff0c\u200b\u8868\u793a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u6700\u4f18\u200b\u89e3\u6709\u200b\u65e0\u7a77\u200b\u591a\u4e2a\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\u4e0e\u200b\u67d0\u200b\u4e00\u200b\u8fb9\u754c\u200b\u6b63\u4ea4\u200b\uff0c\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u8fb9\u754c\u200b\u4e0a\u200b\uff0c\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u53d6\u503c\u200b\u5747\u200b\u76f8\u7b49\u200b\uff0c\u200b\u4e14\u200b\u4e3a\u200b\u6700\u4f18\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u6765\u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\uff0c\u200b\u8f93\u5165\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u7684\u200b\u677e\u5f1b\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5927\u200b\u77e9\u9635\u200b\uff0c\u200b\u7b2c\u4e00\u200b\u884c\u4e3a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u7684\u200b\u7cfb\u6570\u200b\uff0c\u200b\u4e14\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u4e3a\u200b\u5f53\u524d\u200b\u8f74\u503c\u200b\u4e0b\u200b\u7684\u200b \\(z\\) \u200b\u503c\u200b\u3002\u200b\u4e0b\u9762\u200b\u6bcf\u200b\u4e00\u884c\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u7ea6\u675f\u200b\uff0c\u200b\u6570\u5b57\u200b\u4ee3\u8868\u200b\u7cfb\u6570\u200b\u6bcf\u884c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u4ee3\u8868\u200b \\(b\\) \u200b\u503c\u200b\u3002</p> <p>\u200b\u7b97\u6cd5\u200b\u548c\u200b\u4f7f\u7528\u200b\u5355\u7eaf\u6027\u200b\u8868\u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u76f8\u540c\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\uff1a</p> \\[ \\max \\ x_1 + 14x_2 + 6x_3 \\] \\[ s.t \\begin{cases} x_1 + x_2 + x_3 \\leq 4 \\\\ x_1 \\leq 2  \\\\ x_3 \\leq 3  \\\\ 3x_2 + x_3 \\leq 6 \\\\ x_1, x_2, x_3 \\geq 0 \\end{cases} \\] <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u5176\u200b\u677e\u5f1b\u200b\u5f62\u5f0f\u200b\uff1a</p> \\[ \\max \\ x_1 + 14x_2 + 6x_3 \\] \\[ s.t \\begin{cases} x_1 + x_2 + x_3 + x_4 = 4 \\\\ x_1 + x_5 = 2  \\\\ x_3 + x_6 = 3  \\\\ 3x_2 + x_3 + x_7 = 6 \\\\ x_1, x_2, x_3, x_4, x_5, x_6, x_7 \\geq 0 \\end{cases} \\] <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6784\u9020\u200b\u5355\u7eaf\u5f62\u200b\u8868\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u6253\u661f\u200b\u7684\u200b\u5217\u4e3a\u200b\u8f74\u503c\u200b\u3002</p> \\(x_1\\) \\(x_2\\) \\(x_3\\) \\(x_4\\) \\(x_5\\) \\(x_6\\) \\(x_7\\) \\(b\\) \\(c_1=1\\) \\(c_2=14\\) \\(c_3=6\\) \\(c_4=0\\) \\(c_5=0\\) \\(c_6=0\\) \\(c_7=0\\) \\(-z=0\\) \\(1\\) \\(1\\) \\(1\\) \\(1\\) \\(0\\) \\(0\\) \\(0\\) \\(4\\) \\(1\\) \\(0\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(0\\) \\(2\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(3\\) \\(0\\) \\(3\\) \\(1\\) \\(0\\) \\(0\\) \\(0\\) \\(1\\) \\(6\\) \\(*\\) \\(*\\) \\(*\\) \\(*\\) <p>\u200b\u5728\u200b\u5355\u7eaf\u5f62\u200b\u8868\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\u975e\u8f74\u503c\u200b\u7684\u200b \\(x\\) \u200b\u4e0a\u200b\u7684\u200b\u7cfb\u6570\u200b\u5927\u4e8e\u200b\u96f6\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u589e\u52a0\u200b\u8fd9\u4e9b\u200b\u4e2a\u200b \\(x\\) \u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u6765\u200b\u4f7f\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u589e\u52a0\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8d2a\u5fc3\u200b\u7684\u200b\u9009\u62e9\u200b\u6700\u5927\u200b\u7684\u200b \\(c\\)\uff0c\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\u6211\u4eec\u200b\u9009\u62e9\u200b \\(c_2\\) \u200b\u4f5c\u4e3a\u200b\u65b0\u200b\u7684\u200b\u8f74\u200b\uff0c\u200b\u52a0\u5165\u200b\u8f74\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8c01\u200b\u8be5\u200b\u51fa\u200b\u8f74\u200b\u5462\u200b\uff1f</p> <p>\u200b\u5176\u5b9e\u200b\u6211\u4eec\u200b\u7531\u4e8e\u200b\u6bcf\u4e2a\u200b \\(x\\) \u200b\u90fd\u200b\u5927\u4e8e\u200b\u96f6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b \\(x_2\\) \u200b\u5b83\u200b\u7684\u200b\u589e\u52a0\u200b\u662f\u200b\u6709\u6240\u200b\u9650\u5236\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b \\(x_2\\) \u200b\u8fc7\u5927\u200b\uff0c\u200b\u7531\u4e8e\u200b\u5176\u4ed6\u200b\u7684\u200b\u9650\u5236\u200b\u6761\u4ef6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4f7f\u5f97\u200b\u5176\u4ed6\u200b\u7684\u200b \\(x\\) \u200b\u5c0f\u4e8e\u200b\u96f6\u200b\uff0c\u200b\u4e8e\u662f\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u8ba9\u200b \\(x_2\\) \u200b\u4e00\u76f4\u200b\u589e\u5927\u200b\uff0c\u200b\u76f4\u5230\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5176\u4ed6\u200b\u7684\u200b \\(x\\) \u200b\u521a\u597d\u200b\u7b49\u4e8e\u200b \\(0\\) \u200b\u4e3a\u6b62\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b \\(x\\) \u200b\u5c31\u200b\u88ab\u200b\u6362\u200b\u51fa\u8f74\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u7ea6\u675f\u65b9\u7a0b\u200b \\(1\\)\uff0c\u200b\u5373\u200b\u7b2c\u4e00\u884c\u200b\u7ea6\u675f\u200b\uff0c\\(x_2\\) \u200b\u6700\u5927\u200b\u53ef\u4ee5\u200b\u4e3a\u200b \\(4\\)\uff08\\(\\dfrac{4}{1}\\)\uff09\uff0c\u200b\u5bf9\u4e8e\u200b\u7ea6\u675f\u65b9\u7a0b\u200b \\(4\\)\uff0c\\(x_2\\) \u200b\u6700\u5927\u200b\u53ef\u4ee5\u200b\u4e3a\u200b \\(2\\)\uff08\\(\\dfrac{6}{3}\\)\uff09\uff0c\u200b\u56e0\u6b64\u200b \\(x_2\\) \u200b\u6700\u5927\u200b\u53ea\u80fd\u200b\u4e3a\u200b\u4ed6\u4eec\u200b\u4e4b\u95f4\u200b\u6700\u5c0f\u200b\u7684\u200b\u90a3\u4e2a\u200b\uff0c\u200b\u8fd9\u6837\u200b\u624d\u80fd\u200b\u4fdd\u8bc1\u200b\u6bcf\u4e2a\u200b \\(x\\) \u200b\u90fd\u200b\u5927\u4e8e\u200b\u96f6\u200b\u3002\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b\u7b2c\u200b \\(4\\) \u200b\u884c\u200b\uff0c\u200b\u6765\u200b\u5bf9\u200b\u5404\u884c\u200b\u8fdb\u884c\u200b\u9ad8\u65af\u200b\u884c\u200b\u53d8\u6362\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u7b2c\u4e8c\u5217\u200b\u7b2c\u56db\u884c\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b \\(x\\) \u200b\u90fd\u200b\u53d8\u6210\u200b\u96f6\u200b\uff0c\u200b\u4e5f\u200b\u5305\u62ec\u200b \\(c_2\\)\u3002\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u5b8c\u6210\u200b\u4e86\u200b\u628a\u200b \\(x_2\\) \u200b\u5165\u8f74\u200b\uff0c\\(x_7\\) \u200b\u51fa\u8f74\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u53d8\u6362\u200b\u540e\u200b\u7684\u200b\u5355\u7eaf\u5f62\u200b\u8868\u4e3a\u200b\uff1a</p> \\(x_1\\) \\(x_2\\) \\(x_3\\) \\(x_4\\) \\(x_5\\) \\(x_6\\) \\(x_7\\) \\(b\\) \\(c_1=1\\) \\(c_2=0\\) \\(c_3=1.33\\) \\(c_4=0\\) \\(c_5=0\\) \\(c_6=0\\) \\(c_7=-4.67\\) \\(-z=-28\\) \\(1\\) \\(0\\) \\(0.67\\) \\(1\\) \\(0\\) \\(0\\) \\(-0.33\\) \\(2\\) \\(1\\) \\(0\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(0\\) \\(2\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(3\\) \\(0\\) \\(1\\) \\(0.33\\) \\(0\\) \\(0\\) \\(0\\) \\(0.33\\) \\(2\\) \\(*\\) \\(*\\) \\(*\\) \\(*\\) <p>\u200b\u7ee7\u7eed\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\uff1a</p> \\(x_1\\) \\(x_2\\) \\(x_3\\) \\(x_4\\) \\(x_5\\) \\(x_6\\) \\(x_7\\) \\(b\\) \\(c_1=-1\\) \\(c_2=0\\) \\(c_3=0\\) \\(c_4=-2\\) \\(c_5=0\\) \\(c_6=0\\) \\(c_7=-4\\) \\(-z=-32\\) \\(1.5\\) \\(0\\) \\(1\\) \\(1.5\\) \\(0\\) \\(0\\) \\(-0.5\\) \\(3\\) \\(1\\) \\(0\\) \\(0\\) \\(0\\) \\(1\\) \\(0\\) \\(0\\) \\(2\\) \\(-1.5\\) \\(0\\) \\(0\\) \\(-1.5\\) \\(0\\) \\(1\\) \\(0.5\\) \\(0\\) \\(-0.5\\) \\(1\\) \\(0\\) \\(-0.5\\) \\(0\\) \\(0\\) \\(0.5\\) \\(1\\) \\(*\\) \\(*\\) \\(*\\) \\(*\\) <p>\u200b\u6b64\u65f6\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b\uff0c\u200b\u6240\u6709\u200b\u975e\u8f74\u200b\u7684\u200b \\(x\\) \u200b\u7684\u200b\u7cfb\u6570\u200b\u5168\u90e8\u200b\u5c0f\u4e8e\u200b\u96f6\u200b\uff0c\u200b\u5373\u200b\u589e\u5927\u200b\u4efb\u4f55\u200b\u975e\u8f74\u200b\u7684\u200b \\(x\\) \u200b\u503c\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u4f7f\u5f97\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u6700\u5927\u200b\uff0c\u200b\u4ece\u800c\u200b\u5f97\u5230\u200b\u6700\u4f18\u200b\u89e3\u200b \\(32\\)\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u7406\u8bba\u7f57\u5217","title":"\u7406\u8bba\u200b\u7f57\u5217","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u6807\u51c6\u578b","title":"\u6807\u51c6\u578b","text":"<p>\\(m+n\\) \u200b\u4e2a\u200b\u7ea6\u675f\u200b \\(n\\) \u200b\u4e2a\u200b\u53d8\u91cf\u200b\u7528\u200b \\(x\\) \u200b\u5411\u91cf\u200b\u8868\u793a\u200b\uff0c\\(A\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b \\(m\\times n\\) \u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\\(c\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b \\(n\\) \u200b\u7684\u200b\u5411\u91cf\u200b\uff0c\\(b\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b \\(m\\) \u200b\u7684\u200b\u5411\u91cf\u200b\uff0c\u200b\u6700\u5927\u5316\u200b \\(cx\\) \u200b\u6ee1\u8db3\u200b\u7ea6\u675f\u200b \\(Ax \\leq b,x &gt; 0\\)\u3002</p> <p>\u200b\u6700\u5927\u5316\u200b \\(\\sum_{j=1}^nc_jx_j\\) \u200b\u6ee1\u8db3\u200b\u5982\u4e0b\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff1a</p> \\[ \\sum_{j = 1}^na_{ij}x_j \\leq b_i,i = 1,2,\\ldots,m \\] \\[ x_j \\geq 0,j = 1,2,\\ldots,n \\] <p>\\(n\\) \u200b\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\\(m+n\\) \u200b\u4e2a\u200b\u7ea6\u675f\u200b\uff0c\u200b\u6784\u9020\u200b \\(m \\times n\\) \u200b\u7684\u200b\u77e9\u9635\u200b \\(A\\)\uff0c\\(m\\) \u200b\u7ef4\u200b\u5411\u91cf\u200b \\(b\\)\uff0c\\(n\\) \u200b\u7ef4\u200b\u5411\u91cf\u200b \\(c\\)</p> <p>\u200b\u6700\u5927\u5316\u200b \\(C^Tx\\) \u200b\u6ee1\u8db3\u200b\u5982\u4e0b\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff1a</p> \\[ Ax \\leq b \\] \\[ x \\geq 0 \\]","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u8f6c\u6362\u4e3a\u6807\u51c6\u578b","title":"\u8f6c\u6362\u200b\u4e3a\u200b\u6807\u51c6\u578b","text":"<p>\u200b\u82e5\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u8981\u6c42\u200b\u53d6\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5176\u53d6\u200b\u76f8\u53cd\u6570\u200b\u53d8\u6210\u200b\u53d6\u200b\u6700\u5927\u503c\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u9650\u5236\u200b\u6761\u4ef6\u200b \\(f(x_1, x_2, \\ldots ,x_n) = b\\)\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e24\u4e2a\u200b\u4e0d\u7b49\u5f0f\u200b \\(f(x_1, x_2, \\ldots, x_n) \\leq b,-f(x_1,x_2,\\ldots,x_n) \\leq -b\\) \u200b\u63cf\u8ff0\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u9650\u5236\u200b\u6761\u4ef6\u200b \\(f(x_1,x_2,\\ldots,x_n) \\geq b\\)\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e0d\u7b49\u5f0f\u200b \\(-f(x_1,x_2,\\ldots,x_n) \\leq -b\\) \u200b\u63cf\u8ff0\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u65e0\u200b\u9650\u5236\u200b\u7684\u200b\u53d8\u91cf\u200b \\(x\\)\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5176\u200b\u62c6\u4e3a\u200b\u4e24\u4e2a\u200b\u975e\u8d1f\u200b\u53d8\u91cf\u200b \\(x_0,x_1\\)\uff0c\u200b\u4f7f\u5f97\u200b \\(x = x_0 - x_1\\)\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u677e\u5f1b\u578b","title":"\u677e\u5f1b\u200b\u578b","text":"<p>\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b \\(B\\)\uff0c\\(|B|=m\\)\uff0c\u200b\u4e00\u4e2a\u200b\u7ea6\u675f\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u8868\u793a\u200b\u677e\u5f1b\u200b\u91cf\u200b\uff0c\u200b\u53eb\u505a\u200b\u677e\u5f1b\u200b\u53d8\u91cf\u200b\uff08\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b\uff09</p> <p>\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b \\(N\\)\uff0c\\(|N|=n\\)\uff0c\\(x_n + i = b_i - \\sum a_{ij}x_j \\geq 0\\)</p> <p>\u200b\u677e\u5f1b\u200b\u53d8\u91cf\u200b \\(x_{n+i}\\)</p> \\[ \\sum_{j = 1}^na_{ij}x_j \\leq b_i \\rightarrow x_{n + i} = b_i - \\sum_{j = 1}^{n}a_{ij}x_j, x_{n+i} \\geq 0 \\] <p>\u200b\u7b49\u5f0f\u200b\u5de6\u4fa7\u200b\u4e3a\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b\uff0c\u200b\u53f3\u4fa7\u200b\u4e3a\u200b\u975e\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u53d8\u91cf","title":"\u53d8\u91cf","text":"<ul> <li>\u200b\u66ff\u5165\u200b\u53d8\u91cf\u200b \\(x_e\\)\uff08\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\uff09</li> <li>\u200b\u66ff\u51fa\u200b\u53d8\u91cf\u200b \\(x_l\\)\uff08\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b\uff09</li> </ul>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u53ef\u884c\u89e3","title":"\u53ef\u884c\u200b\u89e3","text":"<ul> <li> <p>\u200b\u57fa\u672c\u200b\u89e3\u200b\uff1a\u200b\u6240\u6709\u200b\u975e\u57fa\u200b\u53d8\u91cf\u200b\u8bbe\u200b\u4e3a\u200b \\(0\\)\uff0c\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b\u4e3a\u200b\u53f3\u4fa7\u200b\u7684\u200b\u5e38\u6570\u200b</p> </li> <li> <p>\u200b\u57fa\u672c\u200b\u53ef\u884c\u200b\u89e3\u200b\uff1a\u200b\u6240\u6709\u200b \\(b_i \\geq 0\\)</p> </li> </ul> <p>\u200b\u6ce8\u200b\uff1a\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b \\(B\\) \u200b\u548c\u200b \\(N\\) \u200b\u4e0d\u65ad\u200b\u4ea4\u6362\u200b\uff0c\u200b\u5728\u200b \\(n\\) \u200b\u7ef4\u7a7a\u95f4\u200b\u4e2d\u200b\u4e0d\u65ad\u200b\u8d70\u200b\uff0c\u300c\u200b\u76f8\u5f53\u4e8e\u200b\u4e0d\u7b49\u5f0f\u200b\u4e0a\u200b\u7684\u200b\u9ad8\u65af\u6d88\u200b\u5143\u200b\u300d\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u8f6c\u8f74","title":"\u8f6c\u8f74","text":"<p>\u200b\u9009\u53d6\u200b\u4e00\u4e2a\u200b\u975e\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b \\(x_e\\) \u200b\u4e3a\u200b\u66ff\u5165\u200b\u53d8\u91cf\u200b\uff0c\u200b\u57fa\u672c\u200b\u53d8\u91cf\u200b \\(x_l\\) \u200b\u4e3a\u200b\u66ff\u200b\u51fa\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u4e92\u6362\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u9632\u6b62\u200b\u5faa\u73af\u200b\uff0c\u200b\u6839\u636e\u200b Bland \u200b\u89c4\u5219\u200b\uff0c\u200b\u9009\u62e9\u200b\u4e0b\u6807\u200b\u6700\u5c0f\u200b\u7684\u200b\u53d8\u91cf\u200b\u3002</p> <p>Bland \u200b\u89c4\u5219\u200b \u200b\u53ef\u4ee5\u200b\u53c2\u770b\u200b\uff1a\u200b\u6700\u4f18\u5316\u200b\u65b9\u6cd5\u200b</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/simplex-for-linear-programming-problem/#\u521d\u59cb\u5316","title":"\u521d\u59cb\u5316","text":"<p>\u200b\u5728\u200b\u6240\u6709\u200b \\(b_i &lt; 0\\) \u200b\u7684\u200b\u7ea6\u675f\u200b\u4e2d\u200b\u968f\u673a\u200b\u9009\u200b\u4e00\u4e2a\u200b\u4f5c\u4e3a\u200b \\(x_l\\)\uff0c\u200b\u518d\u200b\u968f\u673a\u200b\u9009\u200b\u4e00\u4e2a\u200b \\(a_{le} &lt; 0\\) \u200b\u4f5c\u4e3a\u200b \\(x_e\\)\uff0c\u200b\u7136\u540e\u200b \\(pivot(l,e)\\) \u200b\u540e\u200b \\(b_i\\) \u200b\u5c31\u200b\u53d8\u6b63\u200b\u4e86\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/activation-function/","title":"\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570","text":"<p>\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u5728\u200b\u795e\u7ecf\u5143\u200b\u4e2d\u662f\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b\u7684\u200b\u3002\u200b\u4e3a\u4e86\u200b\u589e\u5f3a\u200b\u7f51\u7edc\u200b\u7684\u200b\u8868\u793a\u200b\u80fd\u529b\u200b\u548c\u200b\u5b66\u4e60\u200b\u80fd\u529b\u200b\uff0c\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u9700\u8981\u200b\u5177\u5907\u200b\u4ee5\u4e0b\u51e0\u70b9\u200b\u6027\u8d28\u200b\uff1a</p> <ol> <li>\u200b\u8fde\u7eed\u200b\u5e76\u200b\u53ef\u5bfc\u200b\uff08\u200b\u5141\u8bb8\u200b\u5c11\u6570\u200b\u70b9\u4e0a\u200b\u4e0d\u53ef\u200b\u5bfc\u200b\uff09\u200b\u7684\u200b \u200b\u975e\u7ebf\u6027\u200b\u51fd\u6570\u200b \uff08\u200b\u82e5\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u4ecd\u200b\u662f\u200b\u7ebf\u6027\u200b\u51fd\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\u518d\u200b\u591a\u5c42\u200b\u7684\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u90fd\u200b\u53ea\u80fd\u200b\u62df\u5408\u200b\u4e00\u4e2a\u200b\u7ebf\u6027\u200b\u51fd\u6570\u200b\uff09\u3002\u200b\u53ef\u5bfc\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5229\u7528\u200b\u6570\u503c\u200b\u4f18\u5316\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6765\u200b\u5b66\u4e60\u200b\u7f51\u7edc\u200b\u53c2\u6570\u200b\u3002</li> <li>\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u53ca\u5176\u200b\u5bfc\u200b\u51fd\u6570\u200b\u8981\u200b\u5c3d\u53ef\u80fd\u200b\u7684\u200b\u7b80\u5355\u200b\uff0c\u200b\u6709\u5229\u4e8e\u200b\u63d0\u9ad8\u200b\u7f51\u7edc\u200b\u8ba1\u7b97\u200b\u6548\u7387\u200b\u3002</li> <li>\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u57df\u200b\u8981\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5408\u9002\u200b\u7684\u200b\u533a\u95f4\u200b\u5185\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u592a\u5927\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u592a\u5c0f\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u8bad\u7ec3\u200b\u7684\u200b\u6548\u7387\u200b\u548c\u200b\u7a33\u5b9a\u6027\u200b\u3002</li> </ol> <p>\u200b\u672c\u6587\u200b\u603b\u7ed3\u200b\u4e86\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u5e38\u89c1\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#logistic-\u51fd\u6570","title":"Logistic \u200b\u51fd\u6570","text":"<p>Logistic \u200b\u51fd\u6570\u200b\u662f\u200b Sigmoid \u200b\u51fd\u6570\u200b\u7684\u200b\u4e00\u79cd\u200b\uff0c\u200b\u5176\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ \\sigma(x) = \\frac{1}{1 + e^{-x}} \\] <p>Logistic \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{aligned} \\sigma^{'}(x) &amp;=\\frac{e^{-x}}{(1 + e^{-x})^2}\\\\ &amp;= \\frac{1}{1 + e^{-x}} \\frac{e^{-x}}{1 + e^{-x}}\\\\ &amp;= {\\color{red}{\\sigma(x) (1 - \\sigma(x))}} \\end{aligned} \\] <p>\u200b\u5feb\u901f\u200b\u8ba1\u7b97\u200b Logistic \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u6570\u200b</p> <p>\u200b\u4e0a\u200b\u5f0f\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u8868\u660e\u200b\uff0cLogistic \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u7528\u200b Sigmoid \u200b\u51fd\u6570\u200b\u672c\u8eab\u200b\u6765\u200b\u8868\u793a\u200b\uff0c\u200b\u5373\u200b\uff1a</p> \\[ \\sigma^{'}(x) = \\sigma(x) (1 - \\sigma(x)) \\] <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u6027\u8d28\u200b\u5feb\u901f\u200b\u8ba1\u7b97\u200b Sigmoid \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u6570\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#tanh-\u51fd\u6570","title":"Tanh \u200b\u51fd\u6570","text":"<p>Tanh \u200b\u51fd\u6570\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ tanh(x) = \\frac{e^x - e^{-x}}{e^x + e^{-x}} \\] <p>Tanh \u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u662f\u200b Logistic \u200b\u51fd\u6570\u200b\u7684\u200b\u4f38\u7f29\u200b\u5e73\u79fb\u53d8\u6362\u200b\uff0c\u200b\u5373\u200b\uff1a</p> \\[ tanh(x) = 2 \\sigma(2x) - 1 \\] <p>Tanh \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u200b\u51fd\u6570\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{aligned} \\tanh^{'}(x) &amp;= \\frac{(e^x + e^{-x})(e^x + e^{-x}) - (e^x - e^{-x})(e^x - e^{-x})}{(e^x + e^{-x})^2}\\\\ &amp;= \\frac{(e^x + e^{-x})^2 - (e^x - e^{-x})^2}{(e^x + e^{-x})^2}\\\\ &amp;= 1 - \\frac{(e^x - e^{-x})^2}{(e^x + e^{-x})^2}\\\\ &amp;= {\\color{red}{1 - \\tanh^2(x)}} \\end{aligned} \\] <p>\u200b\u5feb\u901f\u200b\u8ba1\u7b97\u200b Tanh \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u6570\u200b</p> <p>\u200b\u4e0a\u200b\u5f0f\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u8868\u660e\u200b\uff0cTanh \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u7528\u200b Tanh \u200b\u51fd\u6570\u200b\u672c\u8eab\u200b\u6765\u200b\u8868\u793a\u200b\uff0c\u200b\u5373\u200b\uff1a</p> \\[ \\tanh^{'}(x) = 1 - \\tanh^2(x) \\] <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u6027\u8d28\u200b\u5feb\u901f\u200b\u8ba1\u7b97\u200b Tanh \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u6570\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#sigmoid-\u578b\u51fd\u6570","title":"Sigmoid \u200b\u578b\u51fd\u6570","text":"<p>Sigmoid \u200b\u578b\u51fd\u6570\u200b\u662f\u200b\u6307\u200b\u4e00\u7c7b\u200b S \u200b\u578b\u200b\u66f2\u7ebf\u200b\u51fd\u6570\u200b\uff0c\u200b\u4e3a\u200b\u4e24\u7aef\u200b\u9971\u548c\u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u51fd\u6570\u200b \\(f(x)\\)\uff0c</p> <ul> <li>\u200b\u82e5\u200b \\(x \\rightarrow  - \\infty\\) \u200b\u65f6\u200b\uff0c\\(f^{'}(x) \\rightarrow 0\\)\uff0c\u200b\u79f0\u4e3a\u200b\u5de6\u200b\u9971\u548c\u200b\u3002</li> <li>\u200b\u82e5\u200b \\(x \\rightarrow  + \\infty\\) \u200b\u65f6\u200b\uff0c\\(f^{'}(x) \\rightarrow 0\\)\uff0c\u200b\u79f0\u4e3a\u200b\u53f3\u200b\u9971\u548c\u200b\u3002</li> <li>\u200b\u5f53\u200b\u540c\u65f6\u200b\u6ee1\u8db3\u200b\u5de6\u53f3\u200b\u9971\u548c\u200b\u65f6\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u4e24\u7aef\u200b\u9971\u548c\u200b\u3002</li> </ul> <p>\u200b\u5e38\u7528\u200b\u7684\u200b Sigmoid \u200b\u578b\u51fd\u6570\u200b\u6709\u200b\u4e0a\u8ff0\u200b\u7684\u200b Logistic \u200b\u51fd\u6570\u200b\u548c\u200b Tanh \u200b\u51fd\u6570\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#sigmoid-\u578b\u51fd\u6570\u7684\u68af\u5ea6\u6d88\u5931\u95ee\u9898","title":"Sigmoid \u200b\u578b\u51fd\u6570\u200b\u7684\u200b\u68af\u5ea6\u200b\u6d88\u5931\u200b\u95ee\u9898","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#relu-\u51fd\u6570","title":"ReLU \u200b\u51fd\u6570","text":"<p>ReLU \u200b\u4e5f\u200b\u53eb\u200b\u4fee\u6b63\u200b\u7ebf\u6027\u200b\u5355\u5143\u200b\uff08Rectified Linear Unit\uff09\uff0c\u200b\u5176\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{aligned} ReLU(x) &amp;= \\begin{cases} x &amp; x \\geq 0 \\\\ 0 &amp; x&lt;0 \\end{cases} \\\\ &amp;= \\max(0, x) \\end{aligned} \\] <p>ReLU \u200b\u51fd\u6570\u200b\u867d\u7136\u200b\u4e0d\u662f\u200b Sigmoid \u200b\u578b\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u6784\u9020\u200b \\(f(x) - f(x-1)\\) \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6ee1\u8db3\u200b Sigmoid \u200b\u578b\u51fd\u6570\u200b\u7684\u200b\u5b9a\u4e49\u200b\u3002</p> <p></p> <p>\u200b\u5229\u7528\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u601d\u60f3\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b ReLU \u200b\u51fd\u6570\u200b\u903c\u8fd1\u200b\u4efb\u610f\u200b\u77e9\u5f62\u200b\u3002</p> <p></p> <p>ReLU \u200b\u51fd\u6570\u200b\u7684\u200b\u4f18\u7f3a\u70b9\u200b\uff1a</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#leaky-relu-\u51fd\u6570","title":"Leaky ReLU \u200b\u51fd\u6570","text":"<p>\u200b\u5e26\u200b\u6cc4\u9732\u200b\u7684\u200b ReLU\uff08Leaky ReLU\uff09\u200b\u5728\u200b\u8f93\u5165\u200b \\(x &lt; 0\\) \u200b\u65f6\u200b\uff0c\u200b\u4fdd\u6301\u200b\u4e00\u4e2a\u200b\u5f88\u5c0f\u200b\u7684\u200b\u68af\u5ea6\u200b \\(\\gamma\\)\u3002\u200b\u8fd9\u6837\u200b\u5f53\u200b\u795e\u7ecf\u5143\u200b\u975e\u200b\u6fc0\u6d3b\u200b\u65f6\u200b\u4e5f\u200b\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u975e\u96f6\u200b\u7684\u200b\u68af\u5ea6\u200b\u53ef\u4ee5\u200b\u66f4\u65b0\u200b\u53c2\u6570\u200b\uff0c\u200b\u907f\u514d\u200b\u6c38\u8fdc\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u6fc0\u6d3b\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002</p> <p>Leaky ReLU \u200b\u51fd\u6570\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{aligned} LeakyReLU(x) &amp;= \\begin{cases} x &amp; x \\geq 0 \\\\ \\gamma x &amp; x&lt;0 \\end{cases} \\\\ &amp;= \\max(\\gamma x, x) \\end{aligned} \\] <p>\\(\\gamma\\) \u200b\u901a\u5e38\u200b\u5f88\u5c0f\u200b\uff0c\u200b\u5982\u200b \\(0.01\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#softplus-\u51fd\u6570","title":"Softplus \u200b\u51fd\u6570","text":"<p>Softplus \u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u662f\u200b ReLU \u200b\u51fd\u6570\u200b\u7684\u200b\u5e73\u6ed1\u200b\u7248\u672c\u200b\uff0c\u200b\u5176\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ \\text{softplus}(x) = \\log(1 + e^x) \\] <p>Softplus \u200b\u51fd\u6570\u200b\u7684\u200b\u5bfc\u200b\u51fd\u6570\u200b\u521a\u597d\u200b\u662f\u200b Sigmoid \u200b\u51fd\u6570\u200b\u3002Softplus \u200b\u51fd\u6570\u200b\u867d\u7136\u200b\u4e5f\u200b\u5177\u6709\u200b\u5355\u4fa7\u200b\u6291\u5236\u200b\u3001\u200b\u5bbd\u200b\u5174\u594b\u200b\u8fb9\u754c\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u5374\u200b\u6ca1\u6709\u200b\u7a00\u758f\u200b\u6fc0\u6d3b\u200b\u6027\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/activation-function/#maxout-\u51fd\u6570","title":"Maxout \u200b\u51fd\u6570","text":"<p>Maxout \u200b\u51fd\u6570\u200b\u662f\u200b\u4e00\u79cd\u200b\u975e\u7ebf\u6027\u200b\u51fd\u6570\u200b\uff0c\u200b\u5176\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ \\begin{aligned} \\text{maxout}(x) &amp;= \\underset{k}{\\max}~~ z_k(x)\\\\ &amp;= \\max\\left(\\begin{matrix} w_1^T x + b_1\\\\ w_2^T x + b_2\\\\ \\vdots\\\\ w_k^T x + b_k \\end{matrix}\\right) \\end{aligned} \\] <p>\u200b\u8fd9\u4e2a\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u4e0d\u50cf\u200b\u524d\u200b\u51e0\u4e2a\u200b\u51fd\u6570\u200b\u4e00\u6837\u200b\u6709\u200b\u660e\u786e\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u800c\u662f\u200b\u8981\u200b\u5b66\u4e60\u200b \\(k\\) \u200b\u7ec4\u200b\u53c2\u6570\u200b\uff0c\u200b\u518d\u9009\u200b\u4e00\u4e2a\u200b\u6700\u5927\u200b\u7684\u200b\u8f93\u51fa\u200b\u503c\u200b\u4f5c\u4e3a\u200b\u6fc0\u6d3b\u200b\u503c\u200b\u3002\u200b\u8fd9\u200b\u5c31\u662f\u200b\u4e3a\u4ec0\u4e48\u200b\u91c7\u7528\u200b Maxout \u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b\u6210\u200b k \u200b\u500d\u200b\u589e\u52a0\u200b\u7684\u200b\u539f\u56e0\u200b\u3002\u200b\u672c\u6765\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u4e00\u7ec4\u200b\u53c2\u6570\u200b\u5c31\u591f\u200b\u4e86\u200b\uff0c\u200b\u91c7\u7528\u200b Maxout \u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u9700\u8981\u200b\u6709\u200b k \u200b\u7ec4\u200b\u53c2\u6570\u200b\u3002</p> <p></p> <p>\u200b\u66f4\u200b\u591a\u200b\u7406\u89e3\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\uff1ahttps://blog.csdn.net/hjimce/article/details/50414467\uff0c\u200b\u5199\u5f97\u200b\u975e\u5e38\u200b\u597d\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/backward-propagation-by-hand/","title":"\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7b80\u5355\u200b\u7684\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5","text":"<p>\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b\u662f\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u8fdb\u884c\u200b\u53c2\u6570\u200b\u4f18\u5316\u200b\u7684\u200b\u57fa\u7840\u200b\u3002\u200b\u672c\u6587\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u4e86\u200b\u591a\u5c42\u200b\u611f\u77e5\u673a\u200b\u4e2d\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u5bf9\u200b\u6743\u91cd\u200b\u3001\u200b\u51c0\u200b\u8f93\u5165\u200b\u503c\u200b\u7684\u200b\u68af\u5ea6\u200b\uff0c\u200b\u5e76\u200b\u4e0e\u200b PyTorch \u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u4e86\u200b\u9a8c\u8bc1\u200b\u3002</p> <p>\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b\u7684\u200b\u672c\u8d28\u200b\u662f\u200b\u77e9\u9635\u200b\u5fae\u5206\u200b\u548c\u200b\u94fe\u5f0f\u6cd5\u5219\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u77e5\u8bc6\u200b\u90fd\u200b\u4e0d\u96be\u7406\u89e3\u200b\uff0c\u200b\u4f46\u200b\u521a\u200b\u63a5\u89e6\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b\u65f6\u200b\u603b\u200b\u5bb9\u6613\u200b\u88ab\u200b\u4e00\u4e9b\u200b\u964c\u751f\u200b\u7684\u200b\u7b26\u53f7\u200b\u5f04\u200b\u7cca\u6d82\u200b\u3002\u200b\u7406\u89e3\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7406\u8bba\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u662f\u200b\u5f04\u6e05\u695a\u200b\u5404\u4e2a\u200b\u5411\u91cf\u200b\u3001\u200b\u77e9\u9635\u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u719f\u7ec3\u200b\u5b83\u4eec\u200b\u4e4b\u95f4\u200b\u7684\u200b\u524d\u200b\u5411\u200b\u4f20\u64ad\u200b\u5173\u7cfb\u200b\u3002\u200b\u6700\u540e\u200b\u591a\u52a0\u7ec3\u4e60\u200b\uff0c\u200b\u5c31\u200b\u80fd\u200b\u5bf9\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7406\u89e3\u200b\u66f4\u52a0\u200b\u900f\u5f7b\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#\u7406\u8bba\u63a8\u5bfc","title":"\u7406\u8bba\u200b\u63a8\u5bfc","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#mse-\u635f\u5931\u65e0\u6fc0\u6d3b\u51fd\u6570","title":"MSE \u200b\u635f\u5931\u200b\uff0c\u200b\u65e0\u200b\u6fc0\u6d3b\u200b\u51fd\u6570","text":"<p>\u200b\u4e0d\u200b\u5305\u542b\u200b\u504f\u7f6e\u200b\u9879\u200b</p> <p>\u200b\u4e3a\u200b\u65b9\u4fbf\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u5747\u200b\u5047\u8bbe\u200b\u504f\u7f6e\u200b\u9879\u4e3a\u200b \\(0\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#\u624b\u52a8\u8ba1\u7b97","title":"\u624b\u52a8\u200b\u8ba1\u7b97","text":"<p>\u200b\u5047\u8bbe\u200b\u771f\u5b9e\u200b\u7684\u200b \\(y\\) \u200b\u503c\u4e3a\u200b \\(4\\)\u3002</p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#pytorch-\u8ba1\u7b97","title":"PyTorch \u200b\u8ba1\u7b97","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#mse-\u635f\u5931\u9690\u85cf\u5c42\u4f7f\u7528-logistic-\u6fc0\u6d3b\u51fd\u6570","title":"MSE \u200b\u635f\u5931\u200b\uff0c\u200b\u9690\u85cf\u200b\u5c42\u200b\u4f7f\u7528\u200b Logistic \u200b\u6fc0\u6d3b\u200b\u51fd\u6570","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#\u624b\u52a8\u8ba1\u7b97_1","title":"\u624b\u52a8\u200b\u8ba1\u7b97","text":"<p>\u200b\u5047\u8bbe\u200b\u771f\u5b9e\u200b\u7684\u200b \\(y\\) \u200b\u503c\u4e3a\u200b \\(4\\)\u3002</p> <p></p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#pytorch-\u8ba1\u7b97_1","title":"PyTorch \u200b\u8ba1\u7b97","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#logit-\u635f\u5931\u9690\u85cf\u5c42\u4f7f\u7528-logistic-\u6fc0\u6d3b\u51fd\u6570","title":"Logit \u200b\u635f\u5931\u200b\uff0c\u200b\u9690\u85cf\u200b\u5c42\u200b\u4f7f\u7528\u200b Logistic \u200b\u6fc0\u6d3b\u200b\u51fd\u6570","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#\u624b\u52a8\u8ba1\u7b97_2","title":"\u624b\u52a8\u200b\u8ba1\u7b97","text":"<p>\u200b\u5047\u8bbe\u200b\u771f\u5b9e\u200b\u7684\u200b \\(y\\) \u200b\u503c\u4e3a\u200b \\(1\\)\u3002</p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/backward-propagation-by-hand/#pytorch-\u8ba1\u7b97_2","title":"PyTorch \u200b\u8ba1\u7b97","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/","title":"\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u8fdb\u884c\u200b\u53d8\u91cf\u200b\u9009\u62e9","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b SCAD\u3001LASSO\u3001Ridge \u200b\u548c\u200b Garrote \u200b\u60e9\u7f5a\u200b\u9879\u5bf9\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5efa\u6a21\u200b\uff0c\u200b\u5728\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\u4e0b\u200b\u9a8c\u8bc1\u200b\u4e86\u200b\u4e0d\u540c\u200b\u60e9\u7f5a\u200b\u9879\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u5bf9\u200b\u7a00\u758f\u200b\u7cfb\u6570\u200b\u7684\u200b\u9009\u62e9\u200b\u80fd\u529b\u200b\u3002</p> <p>\u200b\u539f\u59cb\u200b\u8bba\u6587\u200b\u7684\u200b\u6807\u9898\u200b\u53eb\u505a\u200b Variable Selection via Nonconcave Penalized Likelihood and Its Oracle Properties\u3002\u200b\u5bf9\u4e8e\u200b Oracle Properties\uff0c\u200b\u5728\u200b \u200b\u7edf\u8ba1\u200b\u4e4b\u200b\u90fd\u200b\u4e0a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u7cbe\u5f69\u200b\u7684\u200b\u89e3\u91ca\u200b\uff1a</p> <p>Oracle \u200b\u8fd9\u4e2a\u200b\u8bcd\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e2d\u6587\u7ffb\u8bd1\u200b\u53eb\u505a\u200b\u201c\u200b\u795e\u8c15\u200b\u201d\uff0c\u200b\u5c31\u662f\u200b\u795e\u200b\u7684\u200b\u542f\u793a\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u6307\u200b\u901a\u8fc7\u200b\u5a92\u4ecb\u200b\uff08\u200b\u7537\u5973\u200b\u796d\u53f8\u200b\u6216\u200b\u5668\u7269\u200b\uff09\u200b\u4f20\u8fbe\u200b\u795e\u200b\u7684\u200b\u96be\u4ee5\u6349\u6478\u200b\u6216\u200b\u8c1c\u200b\u4e00\u822c\u200b\u7684\u200b\u542f\u793a\u200b\u6216\u200b\u8a00\u8bed\u200b\u3002\u200b\u5728\u200b\u7f5a\u200b\u51fd\u6570\u200b\uff08\u200b\u6bd4\u5982\u200b LASSO) \u200b\u7684\u200b\u7814\u7a76\u200b\u9886\u57df\u200b\uff0cOracle \u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u6e10\u8fdb\u200b\u6027\u8d28\u200b\uff1a</p> <ol> <li>\u200b\u771f\u503c\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e5f\u200b\u4e3a\u200b 0\u3002</li> <li>\u200b\u771f\u503c\u200b\u4e0d\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u4e00\u81f4\u200b\u6536\u655b\u200b\u5230\u200b\u771f\u503c\u200b\uff0c\u200b\u5e76\u4e14\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u4e0d\u200b\u53d7\u200b\u90a3\u4e9b\u200b\u771f\u503c\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u53c2\u6570\u4f30\u8ba1\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</li> </ol> <p>\u200b\u7b80\u800c\u8a00\u4e4b\u200b\uff1a\u200b\u7f5a\u200b\u51fd\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u7ed3\u679c\u200b\u5c31\u200b\u597d\u50cf\u200b\u4e8b\u5148\u200b\u5df2\u7ecf\u200b\u5f97\u5230\u200b\u4e86\u200b\u795e\u200b\u7684\u200b\u542f\u793a\u200b\uff0c\u200b\u77e5\u9053\u200b\u54ea\u4e9b\u200b\u662f\u200b\u771f\u503c\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u53c2\u6570\u200b\u4e00\u6837\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u7406\u8bba\u6027\u8d28","title":"\u7406\u8bba\u200b\u6027\u8d28","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#ridge-\u60e9\u7f5a\u9879","title":"Ridge \u200b\u60e9\u7f5a\u200b\u9879","text":"<p>Ridge \u200b\u5bf9\u200b\u7cfb\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a</p> \\[ \\hat{\\beta} = \\arg \\min_{\\beta} \\left\\{ \\sum_{i=1}^n (y_i - \\sum_{j=1}^p x_{ij} \\beta_j)^2 + \\lambda \\sum_{j=1}^p \\beta_j^2 \\right\\} \\] <p>\u200b\u5176\u4e2d\u200b \\(\\lambda\\) \u200b\u662f\u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7cfb\u6570\u200b\uff0c\\(p\\) \u200b\u662f\u200b\u53d8\u91cf\u200b\u7684\u200b\u4e2a\u6570\u200b\uff0c\\(\\beta_j\\) \u200b\u662f\u200b\u7b2c\u200b \\(j\\) \u200b\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u7cfb\u6570\u200b\u3002</p> <p>Ridge \u200b\u60e9\u7f5a\u200b\u9879\u200b\u76f8\u5f53\u4e8e\u200b\u5c06\u200b\u6240\u6709\u200b\u53d8\u91cf\u200b\u7684\u200b\u7cfb\u6570\u200b\u90fd\u200b\u5411\u200b 0 \u200b\u9760\u62e2\u200b\uff0c\u200b\u4f46\u200b\u5f88\u200b\u96be\u200b\u4ea7\u751f\u200b\u7a00\u758f\u200b\u7cfb\u6570\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#lasso-\u60e9\u7f5a\u9879","title":"LASSO \u200b\u60e9\u7f5a\u200b\u9879","text":"<p>LASSO \u200b\u5bf9\u200b\u7cfb\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a</p> \\[ \\hat{\\beta} = \\arg \\min_{\\beta} \\left\\{ \\sum_{i=1}^n (y_i - \\sum_{j=1}^p x_{ij} \\beta_j)^2 + \\lambda \\sum_{j=1}^p |\\beta_j| \\right\\} \\] <p>\u200b\u5176\u4e2d\u200b \\(\\lambda\\) \u200b\u662f\u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7cfb\u6570\u200b\uff0c\\(p\\) \u200b\u662f\u200b\u53d8\u91cf\u200b\u7684\u200b\u4e2a\u6570\u200b\uff0c\\(\\beta_j\\) \u200b\u662f\u200b\u7b2c\u200b \\(j\\) \u200b\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u7cfb\u6570\u200b\u3002</p> <p>LASSO \u200b\u60e9\u7f5a\u200b\u9879\u200b\u53ef\u4ee5\u200b\u4ea7\u751f\u200b\u7a00\u758f\u200b\u7cfb\u6570\u200b\u3002\u200b\u4ece\u200b\u4e0b\u56fe\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u7b49\u9ad8\u7ebf\u200b\u5f80\u5916\u200b\u6269\u5f20\u200b\u65f6\u200b\uff0c\u200b\u5f88\u200b\u5bb9\u6613\u200b\u5148\u200b\u4e0e\u200b\u5c16\u200b\u70b9\u63a5\u89e6\u200b\uff0c\u200b\u800c\u200b\u5c16\u70b9\u200b\u5bf9\u5e94\u200b\u7684\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u7cfb\u6570\u200b\u4e3a\u200b 0\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u4ea7\u751f\u200b\u4e86\u200b\u7a00\u758f\u200b\u7cfb\u6570\u200b\u3002</p> <p></p> <p></p> <p>Ridge \u200b\u548c\u200b LASSO \u200b\u7684\u200b\u5bf9\u6bd4\u200b</p> <p>\u200b\u4ece\u200b\u7cfb\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u5173\u7cfb\u200b\u4e0a\u200b\u770b\u200b\uff0cRidge \u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7cfb\u6570\u200b\u662f\u200b\u7ed5\u200b\u7740\u200b\u539f\u70b9\u200b\u5411\u200b\u53f3\u4e0b\u65b9\u200b\u65cb\u8f6c\u200b\uff0c\u200b\u5373\u200b\u4e0d\u8bba\u200b\u771f\u5b9e\u200b\u503c\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u7cfb\u6570\u200b\u7684\u200b\u4f30\u8ba1\u503c\u200b\u90fd\u200b\u4f1a\u200b\u5411\u200b 0 \u200b\u9760\u62e2\u200b\u3002\u200b\u800c\u200b LASSO \u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7cfb\u6570\u200b\u662f\u200b\u5411\u200b\u4e0b\u65b9\u200b\u5e73\u79fb\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u90a3\u4e9b\u200b\u4f30\u8ba1\u503c\u200b\u592a\u5c0f\u200b\u7684\u200b\u7cfb\u6570\u200b\u76f4\u63a5\u200b\u7f6e\u200b\u4e3a\u200b 0\u3002</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#non-negative-garrote-\u60e9\u7f5a\u9879","title":"Non-negative Garrote \u200b\u60e9\u7f5a\u200b\u9879","text":"<p>Non-negative Garrote \u200b\u60e9\u7f5a\u200b\u9879\u5bf9\u200b\u7cfb\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a</p> \\[ \\hat{\\beta} = \\arg \\min_{\\beta} \\left\\{ \\sum_{i=1}^n (y_i - \\sum_{j=1}^p d_j \\hat{\\beta}_j^{ols} x_{ij})^2 + \\lambda \\sum_{j=1}^p d_j \\right\\} \\] <p>\u200b\u5176\u4e2d\u200b \\(d_j \\le 0\\)\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u5f0f\u5b50\u200b\u770b\u8d77\u6765\u200b\u5f88\u200b\u590d\u6742\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u601d\u60f3\u200b\u5c31\u662f\u200b\uff1a\u200b\u82e5\u200b \\(\\beta_j\\) \u200b\u672c\u8eab\u200b\u5c31\u200b\u5f88\u5927\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u5bf9\u200b \\(\\beta_j\\) \u200b\u8fdb\u884c\u200b\u592a\u591a\u200b\u7684\u200b\u60e9\u7f5a\u200b\uff0c\u200b\u5426\u5219\u200b\u5bb9\u6613\u200b\u5f97\u5230\u200b\u6709\u200b\u504f\u200b\u7684\u200b\u4f30\u8ba1\u200b\u3002</p> <p></p> <p>LASSO \u200b\u548c\u200b Non-negative Garrote \u200b\u7684\u200b\u5bf9\u6bd4\u200b</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#scad-\u60e9\u7f5a\u9879","title":"SCAD \u200b\u60e9\u7f5a\u200b\u9879","text":"<p>SCAD \u200b\u60e9\u7f5a\u200b\u9879\u5bf9\u200b\u7cfb\u6570\u200b\u7684\u200b\u4f30\u8ba1\u200b\u4e3a\u200b\uff1a</p> \\[ \\min _{\\beta_j} \\frac{1}{2} \\sum_{i=1}^n\\left(y_i-\\sum_{j=1}^p \\beta_j x_{i j}\\right)^2+\\lambda \\cdot \\sum_{j=1}^p p\\left(\\beta_j\\right) \\] <p>\u200b\u5176\u4e2d\u200b \\(p(\\beta_j)\\) \u200b\u662f\u200b SCAD \u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\uff1a</p> \\[ p(\\beta)= \\begin{cases}|\\beta| &amp; \\text { if }|\\beta| \\leq \\lambda \\\\ \\frac{(a+1) \\lambda}{2}-\\frac{(a \\lambda-|\\beta|)^2}{2(a-1) \\lambda} &amp; \\text { if } \\lambda&lt;|\\beta| \\leq a \\lambda \\\\ \\frac{(a+1) \\lambda}{2} &amp; \\text { if }|\\beta|&gt;a \\lambda\\end{cases} \\] <p>\u200b\u5176\u4e2d\u200b \\(a &gt; 2\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u6570\u200b\uff0c\u200b\u7ecf\u9a8c\u200b\u4e0a\u200b\u901a\u5e38\u200b\u53d6\u200b \\(a=3.7\\)\u3002</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u8fd9\u6837\u200b\u8bbe\u5b9a\u200b SCAD \u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u51fd\u6570\u200b\uff1f\u200b\u56e0\u4e3a\u200b\u5728\u200b\u8fd9\u6837\u200b\u7684\u200b\u60e9\u7f5a\u200b\u9879\u200b\u4e0b\u200b\uff0c\u200b\u4f30\u8ba1\u200b\u7cfb\u6570\u200b\u548c\u200b \\(\\hat\\beta^{ols}\\) \u200b\u7684\u200b\u5173\u7cfb\u200b\u4e3a\u200b\uff1a</p> \\[ \\hat{\\beta}_j^{\\text {scad }}= \\begin{cases}\\operatorname{sgn}\\left(\\hat{\\beta}_j^{\\text {ols }}\\right)\\left(\\left|\\hat{\\beta}_j^{\\text {ols }}\\right|-\\lambda\\right)_{+} &amp; \\text {if }\\left|\\hat{\\beta}_j^{\\mathrm{ols}}\\right| \\leq 2 \\lambda \\\\ \\frac{(a-1) \\hat{\\beta}_j^{\\text {ols }}-\\operatorname{sgn}\\left(\\hat{\\beta}_j^{\\text {ols }}\\right) a \\lambda}{(a-2)} &amp; \\text { if } 2 \\lambda&lt;\\left|\\hat{\\beta}_j^{\\text {ols }}\\right| \\leq a \\lambda \\\\ \\hat{\\beta}_j^{\\text {ols }} &amp;\\text { if }\\left|\\hat{\\beta}_j^{\\mathrm{ols}}\\right|&gt;a \\lambda\\end{cases} \\] <p></p> <p>LASSO \u200b\u548c\u200b SCAD \u200b\u7684\u200b\u5bf9\u6bd4\u200b</p> <p></p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#r-\u8bed\u8a00\u4ee3\u7801\u5b9e\u73b0","title":"R \u200b\u8bed\u8a00\u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u7edf\u8ba1\u5206\u6790\u200b\u9886\u57df\u200b\u786e\u5b9e\u200b\u6700\u200b\u9002\u5408\u200b\u7528\u200b R \u200b\u8bed\u8a00\u200b\u6765\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u56e0\u4e3a\u200b R \u200b\u8bed\u8a00\u200b\u6709\u200b\u5f88\u591a\u200b\u73b0\u6210\u200b\u7684\u200b\u5305\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200b\u3002\u200b\u4f46\u200b\u6211\u200b\u5bf9\u200b R \u200b\u8bed\u8a00\u200b\u4e2d\u200b\u57fa\u7840\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u548c\u200b\u51fd\u6570\u200b\u8fdc\u8fdc\u200b\u6ca1\u6709\u200b Python \u200b\u719f\u6089\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8fd9\u6b21\u200b\u4f5c\u4e1a\u200b\u8fd8\u662f\u200b\u82b1\u200b\u4e86\u200b\u4e0d\u5c11\u200b\u65f6\u95f4\u200b\u7684\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"S<pre><code>library(ggplot2)\nlibrary(lattice)\nlibrary(data.table)\nlibrary(progress)\nlibrary(MASS) # \u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\nlibrary(caret) # \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\nlibrary(ncvreg) # SCAD, LASSO\nlibrary(Matrix)\nlibrary(glmnet) # Ridge\nlibrary(nnGarrote)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u751f\u6210\u6a21\u62df\u6570\u636e\u7684\u771f\u5b9e\u53c2\u6570","title":"\u751f\u6210\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\u7684\u200b\u771f\u5b9e\u200b\u53c2\u6570","text":"S<pre><code># \u200b\u751f\u6210\u200b\u771f\u5b9e\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\nrho &lt;- matrix(0, 8, 8)\nfor (i in 1:8) {\nfor (j in 1:8) {\nrho[i, j] &lt;- 0.5^abs(i - j)\n}\n}\n# \u200b\u751f\u6210\u200b\u771f\u5b9e\u200b\u7684\u200b beta\nbeta &lt;- c(3, 1.5, 0, 0, 2, 0, 0, 0)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u5b9a\u4e49\u51fd\u6570","title":"\u5b9a\u4e49\u200b\u51fd\u6570","text":"<p>\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u51fd\u6570\u200b\u5305\u62ec\u200b\uff1a\u200b\u4ea7\u751f\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\u3001\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u8d85\u200b\u53c2\u6570\u200b\u3001\u200b\u6574\u7406\u200b\u7ed3\u679c\u200b\u7b49\u200b\u3002</p> S<pre><code># \u200b\u751f\u6210\u200b\u81ea\u53d8\u91cf\u200b\u548c\u200b\u56e0\u53d8\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\ngenerate_data &lt;- function(n, rho, beta, sigma) {\n# \u200b\u751f\u6210\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u6570\u636e\u200b\nx &lt;- mvrnorm(n, rep(0, 8), rho)\n# \u200b\u751f\u6210\u200b\u56e0\u53d8\u91cf\u200b\ny &lt;- x %*% beta + rnorm(n, 0, sigma)\nreturn(list(x = x, y = y))\n}\n# \u200b\u8ba1\u7b97\u200b model error\ncal_model_error &lt;- function(beta, beta_hat, x) {\nexpected_y &lt;- x %*% beta\nexpected_y_hat &lt;- x %*% beta_hat\nreturn(mean((expected_y - expected_y_hat)^2))\n}\n# SCAD \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u7684\u200b gamma \u200b\u548c\u200b lambda\nget_best_param_for_scad &lt;- function(\nx, y, gamma_seq, lambda_seq, k = 5) {\n# \u200b\u751f\u6210\u200b k \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7d22\u5f15\u200b\u5217\u8868\u200b\nvalidation_index_list &lt;- createFolds(y, k = k, list = TRUE)\n# \u200b\u5bf9\u200b\u6bcf\u4e2a\u200b gamma \u200b\u548c\u200b lambda \u200b\u7684\u200b\u7f51\u683c\u200b\u7ec4\u5408\u200b\uff0c\u200b\u8ba1\u7b97\u200b k \u200b\u4e2a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b model error \u200b\u7684\u200b\u5747\u503c\u200b\nmean_me_list &lt;- list()\nfor (gamma in gamma_seq) {\nfor (lambda in lambda_seq) {\nme_list &lt;- c()\nfor (i in 1:k) {\n# \u200b\u751f\u6210\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\ntrain_index &lt;- validation_index_list[-i]\nvalidation_index &lt;- validation_index_list[[i]]\nx_train &lt;- x[unlist(train_index), ]\ny_train &lt;- y[unlist(train_index)]\nx_validation &lt;- x[unlist(validation_index), ]\n# \u200b\u7528\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u62df\u5408\u200b\u6a21\u578b\u200b\nfit &lt;- ncvfit(x_train, y_train,\npenalty = \"SCAD\", gamma = gamma,\nlambda = lambda\n)\n# \u200b\u8ba1\u7b97\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b model error\nbeta_hat &lt;- fit$beta\nme &lt;- cal_model_error(beta, beta_hat, x_validation)\nme_list &lt;- c(me_list, me)\n}\n# \u200b\u8ba1\u7b97\u200b k \u200b\u4e2a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b model error \u200b\u7684\u200b\u5747\u503c\u200b\nmean_me_list[[paste(gamma, lambda, sep = \",\")]] &lt;- mean(me_list)\n}\n}\n# \u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u7684\u200b gamma \u200b\u548c\u200b lambda\nbest_param &lt;- names(which.min(mean_me_list))\nbest_param &lt;- unlist(strsplit(best_param, \",\"))\nbest_param &lt;- as.numeric(best_param)\nreturn(best_param)\n}\n# LASSO \u200b\u548c\u200b Ridge \u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u5bfb\u627e\u200b\u6700\u4f18\u200b\u7684\u200b lambda\nget_best_param &lt;- function(\nx, y, penalty, lambda_seq, k = 5) {\n# \u200b\u751f\u6210\u200b k \u200b\u6298\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7d22\u5f15\u200b\u5217\u8868\u200b\nvalidation_index_list &lt;- createFolds(y, k = k, list = TRUE)\n# \u200b\u5bf9\u200b\u6bcf\u4e2a\u200b lambda \u200b\u7684\u200b\u7f51\u683c\u200b\u7ec4\u5408\u200b\uff0c\u200b\u8ba1\u7b97\u200b k \u200b\u4e2a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b model error \u200b\u7684\u200b\u5747\u503c\u200b\nmean_me_list &lt;- list()\nfor (lambda in lambda_seq) {\nme_list &lt;- c()\nfor (i in 1:k) {\n# \u200b\u751f\u6210\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\ntrain_index &lt;- validation_index_list[-i]\nvalidation_index &lt;- validation_index_list[[i]]\nx_train &lt;- x[unlist(train_index), ]\ny_train &lt;- y[unlist(train_index)]\nx_validation &lt;- x[unlist(validation_index), ]\nif (penalty == \"lasso\") {\n# \u200b\u7528\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u62df\u5408\u200b\u6a21\u578b\u200b\nfit &lt;- ncvfit(x_train, y_train,\npenalty = \"lasso\",\nlambda = lambda,\n)\n} else if (penalty == \"ridge\") {\n# \u200b\u7528\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u62df\u5408\u200b\u6a21\u578b\u200b\nfit &lt;- glmnet(x_train, y_train,\nalpha = 0,\nlambda = lambda,\nstandardize = FALSE,\nintercept = FALSE,\n)\n} else {\nstop(\"penalty must be 'lasso' or 'ridge'.\")\n}\n# \u200b\u8ba1\u7b97\u200b\u9a8c\u8bc1\u200b\u96c6\u4e0a\u200b\u7684\u200b model error\nbeta_hat &lt;- fit$beta\nme &lt;- cal_model_error(beta, beta_hat, x_validation)\nme_list &lt;- c(me_list, me)\n}\n# \u200b\u8ba1\u7b97\u200b k \u200b\u4e2a\u200b\u9a8c\u8bc1\u200b\u96c6\u200b\u7684\u200b model error \u200b\u7684\u200b\u5747\u503c\u200b\nmean_me_list[as.character(lambda)] &lt;- mean(me_list)\n}\n# \u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u7684\u200b lambda\nbest_param &lt;- names(which.min(mean_me_list))\nbest_param &lt;- as.numeric(best_param)\nreturn(best_param)\n}\n# \u200b\u8ba1\u7b97\u200b relative model errors\n# No. of correct zero coefficients\n# \u200b\u548c\u200b No. of incorrect zero coefficients\ncal_metrics &lt;- function(\nme_ols,\nme_with_penalty,\nbeta,\nbeta_hat_with_penalty) {\nrme &lt;- me_with_penalty / me_ols\ncorrect_zero &lt;- sum(beta_hat_with_penalty == 0 &amp; beta == 0)\nincorrect_zero &lt;- sum(beta_hat_with_penalty == 0 &amp; beta != 0)\nreturn(list(\nrme = rme, correct_zero = correct_zero,\nincorrect_zero = incorrect_zero\n))\n}\nget_result &lt;- function(x, y, penalty, me_ols) {\n# \u200b\u4f30\u8ba1\u200b beta\nif (penalty == \"scad_1\") {\n# ==========\u200b\u7528\u200b SCAD 1 \u200b\u4f30\u8ba1\u200b beta==========\n# \u200b\u5148\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b gamma \u200b\u548c\u200b lambda\nbest_param_for_scad_1 &lt;- get_best_param_for_scad(x,\ny,\ngamma_seq = seq(2.1, 4, 0.1),\nlambda_seq = c(0.01, 0.1, 0.2, 0.3, 0.5, 0.8, 1, 3, 5, 10), k = 5\n)\n# \u200b\u5c06\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b gamma \u200b\u548c\u200b lambda \u200b\u4ee3\u5165\u200b\u6a21\u578b\u200b\uff0c\u200b\u5f97\u5230\u200b\u4f30\u8ba1\u200b\u7684\u200b beta\nbeta_hat_with_penalty &lt;- ncvfit(x, y,\npenalty = \"SCAD\", gamma = best_param_for_scad_1[1],\nlambda = best_param_for_scad_1[2]\n)$beta\n} else if (penalty == \"scad_2\") {\n# \u200b\u5148\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda\uff0c\u200b\u5c06\u200b gamma \u200b\u56fa\u5b9a\u200b\u4e3a\u200b 3.7\nbest_param_for_scad_2 &lt;- get_best_param_for_scad(x, y,\ngamma_seq = seq(3.7, 3.7),\nlambda_seq = c(0.01, 0.1, 0.2, 0.3, 0.5, 0.8, 1, 3, 5, 10), k = 5\n)\n# \u200b\u5c06\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b gamma \u200b\u548c\u200b lambda \u200b\u4ee3\u5165\u200b\u6a21\u578b\u200b\uff0c\u200b\u5f97\u5230\u200b\u4f30\u8ba1\u200b\u7684\u200b beta\nbeta_hat_with_penalty &lt;- ncvfit(x, y,\npenalty = \"SCAD\", gamma = best_param_for_scad_2[1],\nlambda = best_param_for_scad_2[2]\n)$beta\n} else if (penalty == \"lasso\") {\n# \u200b\u5148\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda\nbest_param_for_lasso &lt;- get_best_param(x, y,\npenalty = \"lasso\",\nlambda_seq = c(0.01, 0.1, 0.2, 0.3, 0.5, 0.8, 1, 3, 5, 10), k = 5\n)\n# \u200b\u5c06\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda \u200b\u4ee3\u5165\u200b\u6a21\u578b\u200b\uff0c\u200b\u5f97\u5230\u200b\u4f30\u8ba1\u200b\u7684\u200b beta\nbeta_hat_with_penalty &lt;- ncvfit(x, y,\npenalty = \"lasso\", lambda = best_param_for_lasso\n)$beta\n} else if (penalty == \"ridge\") {\n# \u200b\u5148\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda\nbest_param_for_ridge &lt;- get_best_param(x, y,\npenalty = \"ridge\",\nlambda_seq = c(0.01, 0.1, 0.2, 0.3, 0.5, 0.8, 1, 3, 5, 10), k = 5\n)\n# \u200b\u5c06\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda \u200b\u4ee3\u5165\u200b\u6a21\u578b\u200b\uff0c\u200b\u5f97\u5230\u200b\u4f30\u8ba1\u200b\u7684\u200b beta\nbeta_hat_with_penalty &lt;- glmnet(x, y,\nalpha = 0,\nlambda = best_param_for_ridge,\nstandardize = FALSE,\nintercept = FALSE,\n)$beta\n} else if (penalty == \"garrote\") {\n# \u200b\u5148\u200b\u627e\u5230\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda\nnn_garrote &lt;- cv.nnGarrote(x, y, verbose = FALSE)\nbest_param_for_garrote &lt;- nn_garrote$optimal.lambda.nng\n# \u200b\u5c06\u200b\u6700\u4f18\u200b\u53c2\u6570\u200b lambda \u200b\u4ee3\u5165\u200b\u6a21\u578b\u200b\uff0c\u200b\u5f97\u5230\u200b\u4f30\u8ba1\u200b\u7684\u200b beta\nbeta_hat_with_penalty &lt;- nnGarrote(x, y,\nlambda.nng = best_param_for_garrote\n)$betas[2:9]\n}\n# \u200b\u8ba1\u7b97\u200b model error\nme_with_penalty &lt;- cal_model_error(beta, beta_hat_with_penalty, x)\n# \u200b\u8ba1\u7b97\u200b rme, correct zero, incorrect zero\nmetrics &lt;- cal_metrics(\nme_ols, me_with_penalty, beta, beta_hat_with_penalty\n)\nrme &lt;- metrics$rme\ncorrect_zero &lt;- metrics$correct_zero\nincorrect_zero &lt;- metrics$incorrect_zero\nreturn(list(\nrme = rme,\ncorrect_zero = correct_zero,\nincorrect_zero = incorrect_zero\n))\n}\ninit_results &lt;- function(iters) {\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b data table\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u7ed3\u679c\u200b\nresults &lt;- data.table(matrix(NA_real_, nrow = iters, ncol = 15))\ncol_names &lt;- c(\n\"rme_scad_1\",\n\"rme_scad_2\",\n\"rme_lasso\",\n\"rme_ridge\",\n\"rme_garrote\",\n\"correct_zero_scad_1\",\n\"correct_zero_scad_2\",\n\"correct_zero_lasso\",\n\"correct_zero_ridge\",\n\"correct_zero_garrote\",\n\"incorrect_zero_scad_1\",\n\"incorrect_zero_scad_2\",\n\"incorrect_zero_lasso\",\n\"incorrect_zero_ridge\",\n\"incorrect_zero_garrote\"\n)\nsetnames(results, col_names)\nreturn(results)\n}\nget_results &lt;- function(n, sigma, iters = 100) {\n# \u200b\u521d\u59cb\u5316\u200b results\nresults &lt;- init_results(iters)\npb &lt;- progress_bar$new(total = iters, clear = FALSE)\nfor (iter in 1:iters) {\n# \u200b\u663e\u793a\u200b\u8fdb\u5ea6\u200b\npb$tick()\n# \u200b\u751f\u6210\u200b\u6570\u636e\u200b\nsimulated_data &lt;- generate_data(n, rho, beta, sigma)\nx &lt;- simulated_data$x\ny &lt;- simulated_data$y\n# ==========OLS==========\nbeta_hat_ols &lt;- lm(y ~ x - 1)$coefficients\n# \u200b\u8ba1\u7b97\u200b ols model error\nme_ols &lt;- cal_model_error(beta, beta_hat_ols, x)\n# ==========\u200b\u5176\u4ed6\u200b\u6a21\u578b\u200b==========\nfor (penalty in c(\"scad_1\", \"scad_2\", \"lasso\", \"ridge\", \"garrote\")) {\n# \u200b\u83b7\u53d6\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5305\u62ec\u200b rme, correct_zero, incorrect_zero\nresult &lt;- get_result(x, y, penalty, me_ols)\nnames(result) &lt;- c(\npaste0(\"rme_\", penalty),\npaste0(\"correct_zero_\", penalty),\npaste0(\"incorrect_zero_\", penalty)\n)\n# \u200b\u5c06\u200b\u7ed3\u679c\u200b\u6dfb\u52a0\u200b\u5230\u200b results \u200b\u4e2d\u200b\nresults[iter, names(result) := result]\n}\n}\nreturn(results)\n}\ninit_all_results &lt;- function() {\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b data table\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u6240\u6709\u200b n \u200b\u548c\u200b sigma \u200b\u4e0b\u200b\u7684\u200b\u7ed3\u679c\u200b\nall_results &lt;- data.table(\nn = integer(15),\nsigma = integer(15),\npenalty = character(15),\nMRME = numeric(15),\nAvg_No_of_correct_zero = numeric(15),\nAvg_No_of_incorrect_zero = numeric(15)\n)\nreturn(all_results)\n}\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u6a21\u62df\u6570\u636e\u5e76\u5bf9\u6bd4\u5404\u6a21\u578b\u7684\u7ed3\u679c","title":"\u6a21\u62df\u200b\u6570\u636e\u200b\u5e76\u200b\u5bf9\u6bd4\u200b\u5404\u200b\u6a21\u578b\u200b\u7684\u200b\u7ed3\u679c","text":"S<pre><code># \u200b\u751f\u6210\u200b\u6a21\u62df\u200b\u7ed3\u679c\u200b\nall_results &lt;- init_all_results()\nfor (i_n_and_sigma in list(c(1, 40, 3), c(6, 40, 1), c(11, 60, 1))) {\ni &lt;- i_n_and_sigma[1]\nn_value &lt;- i_n_and_sigma[2]\nsigma_value &lt;- i_n_and_sigma[3]\nresults &lt;- get_results(n_value, sigma_value, iters = 100)\n# \u200b\u8ba1\u7b97\u200b rme \u200b\u7684\u200b\u4e2d\u4f4d\u6570\u200b\uff0c\u200b\u4ee5\u53ca\u200b correct zero \u200b\u548c\u200b incorrect zero \u200b\u7684\u200b\u5e73\u5747\u503c\u200b\u3002\u200b\u5373\u524d\u200b 5 \u200b\u5217\u6c42\u200b\u4e2d\u4f4d\u6570\u200b\uff0c\u200b\u540e\u200b 10 \u200b\u5217\u6c42\u200b\u5e73\u5747\u503c\u200b\nrme_median &lt;- results[, lapply(.SD, median), .SDcols = 1:5]\n# \u200b\u5c06\u200b rme \u200b\u7684\u200b\u4e2d\u4f4d\u6570\u200b\u4fdd\u7559\u200b\u4e24\u4f4d\u200b\u5c0f\u6570\u200b\nset(rme_median,\nj = names(rme_median),\nvalue = round(rme_median * 100, digits = 2)\n)\ncorrect_zero_mean &lt;- results[, lapply(.SD, mean), .SDcols = 6:10]\nincorrect_zero_mean &lt;- results[, lapply(.SD, mean), .SDcols = 11:15]\n# \u200b\u5c06\u200b\u7ed3\u679c\u200b\u6dfb\u52a0\u200b\u5230\u200b all_results \u200b\u4e2d\u200b\nall_results[i:(i + 4), ] &lt;- list(\nn = n_value,\nsigma = sigma_value,\npenalty = c(\"SCAD_1\", \"SCAD_2\", \"LASSO\", \"RIDGE\", \"GARROTE\"),\nMRME = unlist(rme_median),\nAvg_No_of_correct_zero = unlist(correct_zero_mean),\nAvg_No_of_incorrect_zero = unlist(incorrect_zero_mean)\n)\n}\n# \u200b\u5c06\u200b all_results \u200b\u5bfc\u51fa\u200b\u4e3a\u200b csv \u200b\u6587\u4ef6\u200b\nfwrite(all_results, \"all_results.csv\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u4ee3\u7801\u590d\u73b0\u7ed3\u679c","title":"\u4ee3\u7801\u200b\u590d\u73b0\u200b\u7ed3\u679c","text":"n sigma penalty MRME Avg_No_of_correct_zero Avg_No_of_incorrect_zero 40 3 SCAD_1 68.61 3.58 0.15 40 3 SCAD_2 76.34 3.45 0.11 40 3 LASSO 62.67 2.6 0.01 40 3 RIDGE 79.98 0 0 40 3 GARROTE 77.79 2.67 0.02 40 1 SCAD_1 39.54 4.79 0 40 1 SCAD_2 39.06 4.54 0 40 1 LASSO 73 2.87 0 40 1 RIDGE 98.6 0 0 40 1 GARROTE 85.68 2.69 0 60 1 SCAD_1 34.5 4.91 0 60 1 SCAD_2 37.61 4.87 0 60 1 LASSO 64.89 2.94 0 60 1 RIDGE 95.89 0 0 60 1 GARROTE 75.45 2.85 0","tags":["\u7edf\u8ba1"]},{"location":"blog/variable-selection-via-nonconcave-penalized-likelihood/#\u539f\u59cb\u8bba\u6587\u7ed3\u679c","title":"\u539f\u59cb\u200b\u8bba\u6587\u200b\u7ed3\u679c","text":"<p>\u200b\u7ed3\u679c\u200b\u57fa\u672c\u4e00\u81f4\u200b\uff0c\u200b\u8bf4\u660e\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u53ef\u9760\u200b\u7684\u200b\u3002</p> <p>\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u7684\u200b\u539f\u56e0\u200b\u6709\u200b\u53ef\u80fd\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b\u4e0d\u540c\u200b\u3002</li> <li>\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u65f6\u8d85\u200b\u53c2\u6570\u200b\u7684\u200b\u5019\u9009\u200b\u503c\u200b\u4e0d\u540c\u200b\u3002</li> </ol>","tags":["\u7edf\u8ba1"]},{"location":"blog/bert-qa/","title":"\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba","text":"<p>\u200b\u6700\u7ec8\u200b\u8bad\u7ec3\u200b\u7684\u200b\u6a21\u578b\u200b\u5df2\u7ecf\u200b\u90e8\u7f72\u200b\u5230\u200b Hugging Face\uff0c\u200b\u8bf7\u200b\u5c1d\u8bd5\u200b\u8f93\u5165\u200b\u4e00\u4e9b\u200b\u7b80\u5355\u200b\u7684\u200b\u4e2d\u6587\u200b\u6bb5\u843d\u200b\u548c\u200b\u76f8\u5173\u200b\u95ee\u9898\u200b </p> <p> </p> <p>\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u5206\u8bcd\u200b\u548c\u200b\u95ee\u7b54\u200b\u7684\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff0c\u200b\u5229\u7528\u200b 10, 000 \u200b\u4f59\u6761\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5fae\u8c03\u200b\uff0c\u200b\u6784\u5efa\u200b\u4e86\u200b\u80fd\u591f\u200b\u7406\u89e3\u200b\u4e2d\u6587\u200b\u6bb5\u843d\u200b\u5e76\u200b\u56de\u7b54\u200b\u76f8\u5173\u200b\u95ee\u9898\u200b\u7684\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b\u3002\u200b\u7528\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u6548\u679c\u200b\u57fa\u672c\u200b\u80fd\u200b\u8fbe\u5230\u200b\u201c\u200b\u6b63\u786e\u200b\u56de\u7b54\u200b\u5c0f\u5b66\u200b\u4e09\u5e74\u7ea7\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u9605\u8bfb\u200b\u7406\u89e3\u200b\u9898\u200b\u201d\u200b\u7684\u200b\u6c34\u5e73\u200b\u3002</p> <p></p> <p>\u200b\u8fd9\u200b\u662f\u200b\u6211\u200b\u7b2c\u4e00\u6b21\u200b\u5b8c\u6574\u200b\u5730\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b NLP \u200b\u9879\u76ee\u200b\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u200b\u5b66\u4e60\u200b\u4e86\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u3001\u200b\u4e2d\u6587\u200b\u5206\u8bcd\u200b\u3001\u200b\u51c6\u5907\u200b\u6570\u636e\u200b\u3001\u200b\u6587\u672c\u200b\u7f16\u7801\u200b\u4e0e\u200b\u89e3\u7801\u200b\u3001\u200b\u8bbe\u8ba1\u200b\u95ee\u7b54\u200b\u673a\u5668\u200b\u7684\u200b\u635f\u5931\u200b\u4e0e\u200b\u4f18\u5316\u200b\u76ee\u6807\u200b\u3001\u200b\u5bfc\u51fa\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u7b49\u200b\u6280\u672f\u200b\uff0c\u200b\u5bf9\u200b\u95ee\u7b54\u200b\u9886\u57df\u200b\u7684\u200b NLP \u200b\u6709\u200b\u4e86\u200b\u66f4\u200b\u900f\u5f7b\u200b\u7684\u200b\u7406\u89e3\u200b\u3002</p> <p>\u200b\u7406\u8bba\u200b\u90e8\u5206\u200b\u53ef\u200b\u53c2\u8003\u200b\u674e\u6c90\u200b\u8001\u5e08\u200b\u7684\u200b Transformer \u200b\u8bba\u6587\u200b\u9010\u6bb5\u200b\u7cbe\u8bfb\u200b\u3010\u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u3011 \u200b\u548c\u200b BERT \u200b\u8bba\u6587\u200b\u9010\u6bb5\u200b\u7cbe\u8bfb\u200b\u3010\u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u3011\u3002\u200b\u5f53\u7136\u200b\uff0c\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u7406\u89e3\u200b\u5f97\u200b\u66f4\u200b\u900f\u5f7b\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u8fd8\u662f\u200b\u5e94\u8be5\u200b\u52a8\u624b\u200b\u5199\u200b\u4ee3\u7801\u200b\uff0c\u200b\u770b\u770b\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u5230\u5e95\u200b\u5728\u200b\u505a\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u5230\u200b\u771f\u6b63\u200b\u5b9e\u73b0\u200b\u51fa\u6765\u200b\u770b\u5230\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\u7684\u200b\u90a3\u4e00\u523b\u200b\uff0c\u200b\u662f\u200b\u975e\u5e38\u200b\u6709\u200b\u6210\u5c31\u611f\u200b\u7684\u200b\u3002</p> <p>\u200b\u4e0d\u540c\u200b GPU \u200b\u5e73\u53f0\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u7387\u200b\u5bf9\u6bd4\u200b</p> <p>\u200b\u4e3a\u200b\u5bf9\u6bd4\u200b\u4e0d\u540c\u200b\u5e73\u53f0\u200b\u4e0a\u200b\u7684\u200b GPU \u200b\u7684\u200b\u8bad\u7ec3\u200b\u6548\u7387\u200b\u7684\u200b\u5dee\u5f02\u200b\uff0c\u200b\u6211\u200b\u5728\u200b Kaggle\u3001Google Colab\u3001\u200b\u8d8b\u52a8\u4e91\u200b\u548c\u200b\u672c\u5730\u200b\u7684\u200b Macbook Pro M1 Pro \u200b\u56db\u53f0\u200b\u673a\u5668\u200b\u4e0a\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u4e86\u200b\u8bad\u7ec3\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u5355\u4e2a\u200b Epoch\uff1a</p> <ol> <li>\u200b\u4ed8\u8d39\u200b\u4f7f\u7528\u200b\u7684\u200b\u8d8b\u52a8\u4e91\u200b\u4f7f\u7528\u200b 2 \u200b\u4e2a\u200b GPU \u200b\u5e76\u884c\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u6548\u7387\u200b\u6700\u9ad8\u200b\uff0c\u200b\u5355\u4e2a\u200b Epoch \u200b\u5171\u200b\u8017\u65f6\u200b 4 \u200b\u5206\u200b 40 \u200b\u79d2\u200b\uff1b</li> <li>\u200b\u514d\u8d39\u200b\u4f7f\u7528\u200b\u7684\u200b Kaggle \u200b\u8017\u65f6\u200b 9 \u200b\u5206\u949f\u200b\uff0cGoogle Colab \u200b\u8017\u65f6\u200b 17 \u200b\u5206\u949f\u200b\uff1b</li> <li>\u200b\u5728\u200b Macbook Pro M1 Pro \u200b\u4e0a\u200b\u8fd0\u884c\u200b\u6548\u7387\u200b\u6700\u4f4e\u200b\uff0c\u200b\u5373\u4f7f\u200b\u4f7f\u7528\u200b\u4e86\u200b GPU\uff0c\u200b\u5355\u4e2a\u200b Epoch \u200b\u4ecd\u200b\u9884\u8ba1\u200b\u8017\u65f6\u200b 3 \u200b\u5c0f\u65f6\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport json\nfrom tqdm.autonotebook import tqdm\nimport torch\nimport numpy as np\nimport random\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u8bbe\u7f6e\u5728-gpu-\u4e0a\u8bad\u7ec3","title":"\u8bbe\u7f6e\u200b\u5728\u200b GPU \u200b\u4e0a\u200b\u8bad\u7ec3","text":"Python<pre><code>device = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u56fa\u5b9a\u968f\u673a\u79cd\u5b50","title":"\u56fa\u5b9a\u200b\u968f\u673a\u200b\u79cd\u5b50","text":"<p>\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u6709\u200b\u5f88\u591a\u200b\u968f\u673a\u6027\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u7ed3\u679c\u200b\u7684\u200b\u53ef\u200b\u590d\u73b0\u200b\u6027\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u56fa\u5b9a\u200b\u4f4f\u200b\u6240\u6709\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b\u3002</p> Python<pre><code>def same_seeds(seed):\ntorch.manual_seed(seed)\nif torch.cuda.is_available():\ntorch.cuda.manual_seed(seed)\ntorch.cuda.manual_seed_all(seed)\nnp.random.seed(seed)\nrandom.seed(seed)\ntorch.backends.cudnn.benchmark = False\ntorch.backends.cudnn.deterministic = True\n</code></pre> Python<pre><code>same_seeds(0)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u8bfb\u53d6\u672c\u5730-json-\u6570\u636e","title":"\u8bfb\u53d6\u200b\u672c\u5730\u200b Json \u200b\u6570\u636e","text":"<p>\u200b\u672c\u200b\u9879\u76ee\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u8d85\u200b\u53c2\u6570\u200b\u7684\u200b\u8c03\u6574\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ea\u200b\u8bfb\u53d6\u200b <code>tarin.json</code> \u200b\u4f5c\u4e3a\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u7528\u200b <code>dev.json</code> \u200b\u89c2\u5bdf\u200b\u6837\u672c\u200b\u5916\u200b\u7684\u200b\u95ee\u7b54\u200b\u7ed3\u679c\u200b\u3002</p> Python<pre><code>with open(\"./input/cmrc2018/train.json\") as f:\ntrain = json.load(f)\nwith open(\"./input/cmrc2018/dev.json\") as f:\ndev = json.load(f)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5bfc\u5165\u9884\u8bad\u7ec3\u7684\u5206\u8bcd\u6a21\u578b\u548c\u95ee\u7b54\u6a21\u578b","title":"\u5bfc\u5165\u200b\u9884\u200b\u8bad\u7ec3\u200b\u7684\u200b\u5206\u8bcd\u200b\u6a21\u578b\u200b\u548c\u200b\u95ee\u7b54\u200b\u6a21\u578b","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5b89\u88c5-transformers-\u5e93","title":"\u5b89\u88c5\u200b <code>transformers</code> \u200b\u5e93","text":"<p>huggingface \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u8bb8\u591a\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b <code>transformers</code> \u200b\u5e93\u200b\u5bfc\u5165\u200b\u5b83\u4eec\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u5b89\u88c5\u200b <code>transformers</code> \u200b\u5e93\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b89\u88c5\u200b\u5b83\u200b\u3002</p> Text Only<pre><code>import importlib\n\ntry:\n    importlib.import_module(\"transformers\")\n    print(\"transformers exists.\")\nexcept ImportError:\n    ! pip install transformers\n    print(\"transformers installed.\")\n</code></pre> Text Only<pre><code>transformers exists.\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7528\u200b <code>BertTokenizerFast</code> \u200b\u5bfc\u5165\u200b\u5206\u8bcd\u200b\u6a21\u578b\u200b\uff0c\u200b\u7528\u200b <code>BertForQuestionAnswering</code> \u200b\u5bfc\u5165\u200b\u95ee\u7b54\u200b\u6a21\u578b\u200b\u3002</p> Python<pre><code>from transformers import BertTokenizerFast, BertForQuestionAnswering\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5bfc\u5165\u9884\u8bad\u7ec3\u5206\u8bcd\u6a21\u578b","title":"\u5bfc\u5165\u200b\u9884\u200b\u8bad\u7ec3\u200b\u5206\u8bcd\u200b\u6a21\u578b","text":"<p><code>BertTokenizerFast</code> \u200b\u662f\u200b <code>BertTokenizer</code> \u200b\u7684\u200b\u5347\u7ea7\u7248\u200b\uff0c\u200b\u901f\u5ea6\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u6027\u80fd\u200b\u66f4\u4f18\u200b\u3002</p> <p><code>bert-base-chinese</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e2d\u6587\u200b BERT \u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e2d\u6587\u200b\u53e5\u5b50\u200b\u6216\u200b\u6587\u672c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u76f8\u5e94\u200b\u7684\u200b token\uff0c\u200b\u4ee5\u4fbf\u200b\u8fdb\u884c\u200b\u6587\u672c\u200b\u5206\u7c7b\u200b\u3001\u200b\u5e8f\u5217\u200b\u6807\u6ce8\u200b\u7b49\u200b\u81ea\u7136\u8bed\u8a00\u200b\u5904\u7406\u200b\u4efb\u52a1\u200b\u3002</p> Python<pre><code>tokenizer = BertTokenizerFast.from_pretrained(\"./pre-trained-model/bert-base-chinese\")\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5bfc\u5165\u9884\u8bad\u7ec3\u95ee\u7b54\u6a21\u578b","title":"\u5bfc\u5165\u200b\u9884\u200b\u8bad\u7ec3\u200b\u95ee\u7b54\u200b\u6a21\u578b","text":"Python<pre><code>model = BertForQuestionAnswering.from_pretrained(\n\"./pre-trained-model/bert-base-chinese\"\n).to(device)\n# You can safely ignore the warning message (it pops up because new prediction heads for QA are initialized randomly)\n</code></pre> Text Only<pre><code>Some weights of the model checkpoint at ./pre-trained-model/bert-base-chinese were not used when initializing BertForQuestionAnswering: ['cls.predictions.transform.LayerNorm.weight', 'cls.predictions.bias', 'cls.predictions.decoder.weight', 'cls.predictions.transform.dense.weight', 'cls.seq_relationship.bias', 'cls.predictions.transform.dense.bias', 'cls.seq_relationship.weight', 'cls.predictions.transform.LayerNorm.bias']\n- This IS expected if you are initializing BertForQuestionAnswering from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).\n- This IS NOT expected if you are initializing BertForQuestionAnswering from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).\nSome weights of BertForQuestionAnswering were not initialized from the model checkpoint at ./pre-trained-model/bert-base-chinese and are newly initialized: ['qa_outputs.bias', 'qa_outputs.weight']\nYou should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u4f7f\u7528\u591a\u5757-gpu","title":"\u4f7f\u7528\u200b\u591a\u5757\u200b GPU","text":"<p>\u200b\u5728\u200b\u8d8b\u52a8\u4e91\u200b\u4e0a\u200b\u53ef\u200b\u9009\u62e9\u200b\u591a\u5757\u200b GPU \u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4f46\u200b\u9ed8\u8ba4\u200b\u8fd0\u884c\u200b\u65f6\u200b\u53ea\u4f1a\u200b\u4f7f\u7528\u200b\u4e00\u5757\u200b GPU\uff0c\u200b\u53e6\u200b\u4e00\u5757\u200b GPU \u200b\u5176\u5b9e\u200b\u662f\u200b\u7a7a\u95f2\u200b\u7684\u200b\u3002</p> <p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u67e5\u770b\u200b\u8d8b\u52a8\u4e91\u200b GPU \u200b\u4f7f\u7528\u200b\u72b6\u6001\u200b\uff1a<code>orion-smi</code></p> <p></p> <p>\u200b\u4e3a\u4e86\u200b\u4f7f\u7528\u200b\u591a\u5757\u200b GPU\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b model \u200b\u8f93\u5165\u200b\u5230\u200b <code>nn.DataParallel</code> \u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u52a0\u8f7d\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u65f6\u200b\u5206\u522b\u200b\u5e76\u884c\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5404\u4e2a\u200b GPU \u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <p>\u200b\u591a\u4e2a\u200b GPU \u200b\u65f6\u200b\u9700\u8981\u200b\u5c06\u200b\u5404\u200b GPU \u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6807\u91cf\u200b</p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u7531\u4e8e\u200b\u635f\u5931\u200b\u503c\u200b\u662f\u200b\u5728\u200b\u591a\u4e2a\u200b GPU \u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u540e\u7eed\u200b\u8bad\u7ec3\u200b\u5f97\u5230\u200b\u7684\u200b <code>loss.out</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5411\u91cf\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\u3002\u200b\u6211\u4eec\u200b\u540e\u7eed\u200b\u5c06\u200b\u7528\u200b <code>.mean()</code> \u200b\u5bf9\u200b\u591a\u5757\u200b GPU \u200b\u4e0a\u200b\u7684\u200b loss \u200b\u503c\u6c42\u200b\u5747\u503c\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\u3002</p> Python<pre><code>from torch import nn\nfrom torch.nn.parallel import DataParallel\n# \u200b\u5c06\u200b\u6a21\u578b\u200b\u5305\u88c5\u200b\u5728\u200b DataParallel \u200b\u4e2d\u200b\nmodel = nn.DataParallel(model)\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u591a\u5757\u200b GPU \u200b\u8bad\u7ec3\u200b\u65f6\u200b\uff0c\u200b\u4e24\u4e2a\u200b GPU \u200b\u7684\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u51c6\u5907\u8bad\u7ec3\u6570\u636e","title":"\u51c6\u5907\u200b\u8bad\u7ec3\u200b\u6570\u636e","text":"<p>\u200b\u539f\u59cb\u200b Json \u200b\u683c\u5f0f\u200b\u7684\u200b\u6570\u636e\u200b\u76f8\u5f53\u4e8e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5b57\u5178\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8f93\u5165\u200b\u5230\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b <code>tensor</code> \u200b\u683c\u5f0f\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u5176\u200b\u51c6\u5907\u200b\u4e3a\u200b\u6570\u503c\u200b\u578b\u200b\u7684\u200b <code>tensor</code> \u200b\u6570\u636e\u200b\u3002</p> Python<pre><code>train[\"data\"]\n</code></pre> Text Only<pre><code>[{'paragraphs': [{'id': 'TRAIN_186',\n    'context': '\u200b\u8303\u5ef7\u9882\u200b\u67a2\u673a\u200b\uff08\uff0c\uff09\uff0c\u200b\u5723\u540d\u200b\u4fdd\u7984\u200b\u00b7\u200b\u82e5\u745f\u200b\uff08\uff09\uff0c\u200b\u662f\u200b\u8d8a\u5357\u200b\u7f57\u9a6c\u200b\u5929\u4e3b\u6559\u200b\u67a2\u673a\u200b\u30021963 \u200b\u5e74\u200b\u88ab\u200b\u4efb\u200b\u4e3a\u4e3b\u200b\u6559\u200b\uff1b1990 \u200b\u5e74\u200b\u88ab\u200b\u64e2\u5347\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u5b97\u5ea7\u200b\u7f72\u7406\u200b\uff1b1994 \u200b\u5e74\u200b\u88ab\u200b\u64e2\u5347\u200b\u4e3a\u200b\u603b\u4e3b\u6559\u200b\uff0c\u200b\u540c\u5e74\u200b\u5e74\u5e95\u200b\u88ab\u200b\u64e2\u5347\u200b\u4e3a\u200b\u67a2\u673a\u200b\uff1b2009 \u200b\u5e74\u200b 2 \u200b\u6708\u200b\u79bb\u4e16\u200b\u3002\u200b\u8303\u5ef7\u9882\u4e8e\u200b 1919 \u200b\u5e74\u200b 6 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\u5728\u200b\u8d8a\u200b\u5357\u5b81\u200b\u5e73\u7701\u200b\u5929\u4e3b\u6559\u200b\u53d1\u8273\u200b\u6559\u533a\u200b\u51fa\u751f\u200b\uff1b\u200b\u7ae5\u5e74\u200b\u65f6\u200b\u63a5\u53d7\u200b\u826f\u597d\u200b\u6559\u80b2\u200b\u540e\u200b\uff0c\u200b\u88ab\u200b\u4e00\u4f4d\u200b\u8d8a\u5357\u200b\u795e\u7236\u200b\u5e26\u5230\u200b\u6cb3\u5185\u200b\u7ee7\u7eed\u200b\u5176\u200b\u5b66\u4e1a\u200b\u3002\u200b\u8303\u5ef7\u9882\u4e8e\u200b 1940 \u200b\u5e74\u200b\u5728\u200b\u6cb3\u5185\u200b\u5927\u200b\u4fee\u9053\u9662\u200b\u5b8c\u6210\u200b\u795e\u5b66\u200b\u5b66\u4e1a\u200b\u3002\u200b\u8303\u5ef7\u9882\u4e8e\u200b 1949 \u200b\u5e74\u200b 6 \u200b\u6708\u200b 6 \u200b\u65e5\u200b\u5728\u200b\u6cb3\u5185\u200b\u7684\u200b\u4e3b\u6559\u200b\u5ea7\u5802\u200b\u664b\u94ce\u200b\uff1b\u200b\u53ca\u540e\u200b\u88ab\u200b\u6d3e\u200b\u5230\u200b\u5723\u5973\u200b\u5c0f\u200b\u5fb7\u5170\u200b\u5b64\u513f\u9662\u200b\u670d\u52a1\u200b\u30021950 \u200b\u5e74\u4ee3\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u5728\u200b\u6cb3\u5185\u200b\u5802\u533a\u200b\u521b\u5efa\u200b\u79fb\u6c11\u200b\u63a5\u5f85\u200b\u4e2d\u5fc3\u200b\u4ee5\u200b\u6536\u5bb9\u200b\u5230\u200b\u6cb3\u5185\u200b\u907f\u6218\u200b\u7684\u200b\u96be\u6c11\u200b\u30021954 \u200b\u5e74\u200b\uff0c\u200b\u6cd5\u8d8a\u200b\u6218\u4e89\u200b\u7ed3\u675f\u200b\uff0c\u200b\u8d8a\u5357\u6c11\u4e3b\u5171\u548c\u56fd\u200b\u5efa\u90fd\u200b\u6cb3\u5185\u200b\uff0c\u200b\u5f53\u65f6\u200b\u5f88\u591a\u200b\u5929\u4e3b\u6559\u200b\u795e\u804c\u4eba\u5458\u200b\u9003\u81f3\u200b\u8d8a\u5357\u200b\u7684\u200b\u5357\u65b9\u200b\uff0c\u200b\u4f46\u8303\u5ef7\u200b\u9882\u200b\u4ecd\u7136\u200b\u7559\u5728\u200b\u6cb3\u5185\u200b\u3002\u200b\u7fcc\u5e74\u200b\u7ba1\u7406\u200b\u5723\u82e5\u671b\u200b\u5c0f\u200b\u4fee\u9662\u200b\uff1b\u200b\u60df\u200b\u5728\u200b 1960 \u200b\u5e74\u200b\u56e0\u200b\u634d\u536b\u200b\u4fee\u9662\u200b\u7684\u200b\u81ea\u7531\u200b\u3001\u200b\u81ea\u6cbb\u200b\u53ca\u200b\u62d2\u7edd\u200b\u653f\u5e9c\u200b\u5728\u200b\u4fee\u9662\u200b\u8bbe\u200b\u653f\u6cbb\u8bfe\u200b\u7684\u200b\u8981\u6c42\u200b\u800c\u200b\u88ab\u6355\u200b\u30021963 \u200b\u5e74\u200b 4 \u200b\u6708\u200b 5 \u200b\u65e5\u200b\uff0c\u200b\u6559\u5b97\u200b\u4efb\u547d\u200b\u8303\u5ef7\u9882\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u5317\u5b81\u200b\u6559\u533a\u200b\u4e3b\u6559\u200b\uff0c\u200b\u540c\u5e74\u200b 8 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\u5c31\u4efb\u200b\uff1b\u200b\u5176\u7267\u94ed\u200b\u4e3a\u200b\u300c\u200b\u6211\u4fe1\u200b\u5929\u4e3b\u200b\u7684\u200b\u7231\u200b\u300d\u3002\u200b\u7531\u4e8e\u200b\u8303\u5ef7\u9882\u200b\u88ab\u200b\u8d8a\u5357\u653f\u5e9c\u200b\u8f6f\u7981\u200b\u5dee\u4e0d\u591a\u200b 30 \u200b\u5e74\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4ed6\u200b\u65e0\u6cd5\u200b\u5230\u200b\u6240\u5c5e\u200b\u5802\u533a\u200b\u8fdb\u884c\u200b\u7267\u7075\u200b\u5de5\u4f5c\u200b\u800c\u200b\u4e13\u6ce8\u200b\u7814\u8bfb\u200b\u7b49\u200b\u5de5\u4f5c\u200b\u3002\u200b\u8303\u5ef7\u9882\u200b\u9664\u4e86\u200b\u9762\u5bf9\u200b\u6218\u4e89\u200b\u3001\u200b\u8d2b\u56f0\u200b\u3001\u200b\u88ab\u200b\u5f53\u5c40\u200b\u8feb\u5bb3\u200b\u5929\u4e3b\u6559\u4f1a\u200b\u7b49\u200b\u95ee\u9898\u200b\u5916\u200b\uff0c\u200b\u4e5f\u200b\u79d8\u5bc6\u200b\u6062\u590d\u200b\u4fee\u9662\u200b\u3001\u200b\u521b\u5efa\u200b\u5973\u4fee\u4f1a\u200b\u56e2\u4f53\u200b\u7b49\u200b\u30021990 \u200b\u5e74\u200b\uff0c\u200b\u6559\u5b97\u200b\u82e5\u671b\u200b\u4fdd\u7984\u200b\u4e8c\u4e16\u200b\u5728\u200b\u540c\u5e74\u200b 6 \u200b\u6708\u200b 18 \u200b\u65e5\u200b\u64e2\u5347\u200b\u8303\u5ef7\u9882\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u5b97\u5ea7\u200b\u7f72\u7406\u200b\u4ee5\u200b\u586b\u8865\u200b\u8be5\u200b\u6559\u533a\u200b\u603b\u4e3b\u6559\u200b\u7684\u200b\u7a7a\u7f3a\u200b\u30021994 \u200b\u5e74\u200b 3 \u200b\u6708\u200b 23 \u200b\u65e5\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u88ab\u200b\u6559\u5b97\u200b\u82e5\u671b\u200b\u4fdd\u7984\u200b\u4e8c\u4e16\u200b\u64e2\u5347\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u603b\u4e3b\u6559\u200b\u5e76\u200b\u517c\u200b\u5929\u4e3b\u6559\u200b\u8c05\u5c71\u200b\u6559\u533a\u200b\u5b97\u5ea7\u200b\u7f72\u7406\u200b\uff1b\u200b\u540c\u5e74\u200b 11 \u200b\u6708\u200b 26 \u200b\u65e5\u200b\uff0c\u200b\u82e5\u671b\u200b\u4fdd\u7984\u200b\u4e8c\u4e16\u200b\u64e2\u5347\u200b\u8303\u5ef7\u9882\u200b\u4e3a\u200b\u67a2\u673a\u200b\u3002\u200b\u8303\u5ef7\u9882\u200b\u5728\u200b 1995 \u200b\u5e74\u200b\u81f3\u200b 2001 \u200b\u5e74\u200b\u671f\u95f4\u200b\u51fa\u4efb\u200b\u5929\u4e3b\u6559\u200b\u8d8a\u5357\u200b\u4e3b\u6559\u56e2\u200b\u4e3b\u5e2d\u200b\u30022003 \u200b\u5e74\u200b 4 \u200b\u6708\u200b 26 \u200b\u65e5\u200b\uff0c\u200b\u6559\u5b97\u200b\u82e5\u671b\u200b\u4fdd\u7984\u200b\u4e8c\u4e16\u200b\u4efb\u547d\u200b\u5929\u4e3b\u6559\u200b\u8c05\u5c71\u200b\u6559\u533a\u200b\u517c\u200b\u5929\u4e3b\u6559\u200b\u9ad8\u5e73\u200b\u6559\u533a\u200b\u5434\u5149\u6770\u200b\u4e3b\u6559\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u7f72\u7406\u200b\u4e3b\u6559\u200b\uff1b\u200b\u53ca\u81f3\u200b 2005 \u200b\u5e74\u200b 2 \u200b\u6708\u200b 19 \u200b\u65e5\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u56e0\u200b\u83b7\u6279\u200b\u8f9e\u53bb\u200b\u603b\u4e3b\u6559\u200b\u804c\u52a1\u200b\u800c\u8363\u4f11\u200b\uff1b\u200b\u5434\u5149\u6770\u200b\u540c\u65e5\u200b\u771f\u9664\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u603b\u4e3b\u6559\u200b\u804c\u52a1\u200b\u3002\u200b\u8303\u5ef7\u9882\u4e8e\u200b 2009 \u200b\u5e74\u200b 2 \u200b\u6708\u200b 22 \u200b\u65e5\u200b\u6e05\u6668\u200b\u5728\u200b\u6cb3\u5185\u200b\u79bb\u4e16\u200b\uff0c\u200b\u4eab\u5e74\u200b 89 \u200b\u5c81\u200b\uff1b\u200b\u5176\u200b\u846c\u793c\u200b\u4e8e\u200b\u540c\u6708\u200b 26 \u200b\u65e5\u200b\u4e0a\u5348\u200b\u5728\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u603b\u4e3b\u6559\u200b\u5ea7\u5802\u200b\u4e3e\u884c\u200b\u3002',\n    'qas': [{'question': '\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u88ab\u200b\u4efb\u200b\u4e3a\u4e3b\u200b\u6559\u200b\u7684\u200b\uff1f',\n      'id': 'TRAIN_186_QUERY_0',\n      'answers': [{'text': '1963 \u200b\u5e74\u200b', 'answer_start': 30}]},\n     {'question': '1990 \u200b\u5e74\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u62c5\u4efb\u200b\u4ec0\u4e48\u200b\u804c\u52a1\u200b\uff1f',\n      'id': 'TRAIN_186_QUERY_1',\n      'answers': [{'text': '1990 \u200b\u5e74\u200b\u88ab\u200b\u64e2\u5347\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u5b97\u5ea7\u200b\u7f72\u7406\u200b', 'answer_start': 41}]},\n     {'question': '\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4e8e\u200b\u4f55\u65f6\u4f55\u5730\u200b\u51fa\u751f\u200b\u7684\u200b\uff1f',\n      'id': 'TRAIN_186_QUERY_2',\n      'answers': [{'text': '\u200b\u8303\u5ef7\u9882\u4e8e\u200b 1919 \u200b\u5e74\u200b 6 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\u5728\u200b\u8d8a\u200b\u5357\u5b81\u200b\u5e73\u7701\u200b\u5929\u4e3b\u6559\u200b\u53d1\u8273\u200b\u6559\u533a\u200b\u51fa\u751f\u200b',\n        'answer_start': 97}]},\n     {'question': '1994 \u200b\u5e74\u200b 3 \u200b\u6708\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u62c5\u4efb\u200b\u4ec0\u4e48\u200b\u804c\u52a1\u200b\uff1f',\n      'id': 'TRAIN_186_QUERY_3',\n      'answers': [{'text': '1994 \u200b\u5e74\u200b 3 \u200b\u6708\u200b 23 \u200b\u65e5\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u88ab\u200b\u6559\u5b97\u200b\u82e5\u671b\u200b\u4fdd\u7984\u200b\u4e8c\u4e16\u200b\u64e2\u5347\u200b\u4e3a\u200b\u5929\u4e3b\u6559\u200b\u6cb3\u5185\u200b\u603b\u200b\u6559\u533a\u200b\u603b\u4e3b\u6559\u200b\u5e76\u200b\u517c\u200b\u5929\u4e3b\u6559\u200b\u8c05\u5c71\u200b\u6559\u533a\u200b\u5b97\u5ea7\u200b\u7f72\u7406\u200b',\n        'answer_start': 548}]},\n     {'question': '\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4f55\u65f6\u200b\u53bb\u4e16\u200b\u7684\u200b\uff1f',\n      'id': 'TRAIN_186_QUERY_4',\n      'answers': [{'text': '\u200b\u8303\u5ef7\u9882\u4e8e\u200b 2009 \u200b\u5e74\u200b 2 \u200b\u6708\u200b 22 \u200b\u65e5\u200b\u6e05\u6668\u200b\u5728\u200b\u6cb3\u5185\u200b\u79bb\u4e16\u200b', 'answer_start': 759}]}]}],\n  'id': 'TRAIN_186',\n  'title': '\u200b\u8303\u5ef7\u9882\u200b'},\n...\n</code></pre> Python<pre><code>paragraphs = []  # \u200b\u5b58\u50a8\u200b\u6240\u6709\u200b\u6bb5\u843d\u200b\u7684\u200b\u5185\u5bb9\u200b\nquestions = []  # \u200b\u5b58\u50a8\u200b\u6240\u6709\u200b\u95ee\u9898\u200b\u7684\u200b\u5185\u5bb9\u200b\nstart_positions = []  # \u200b\u5b58\u50a8\u200b\u6240\u6709\u200b\u7b54\u6848\u200b\u7684\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b\nend_positions = []  # \u200b\u5b58\u50a8\u200b\u6240\u6709\u200b\u7b54\u6848\u200b\u7684\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\nfor paragraph in train[\"data\"]:  # \u200b\u904d\u5386\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u6bb5\u843d\u200b\nfor qa in paragraph[\"paragraphs\"][0][\"qas\"]:  # \u200b\u904d\u5386\u200b\u6bcf\u4e2a\u200b\u6bb5\u843d\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u95ee\u7b54\u200b\n### START CODE HERE ###\n# \u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u6240\u5728\u200b\u6bb5\u843d\u200b\u3001\u200b\u95ee\u9898\u200b\u5185\u5bb9\u200b\u3001\u200b\u7b54\u6848\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u8ba1\u7b97\u200b\u5f97\u51fa\u200b\uff09\u200b\u6dfb\u52a0\u200b\u5230\u200b\u76f8\u5e94\u200b\u7684\u200b\u5217\u8868\u200b\u4e2d\u200b\nparagraphs.append(paragraph[\"paragraphs\"][0][\"context\"])\nquestions.append(qa[\"question\"])\nstart_position = qa[\"answers\"][0][\"answer_start\"]\nstart_positions.append(start_position)\nanswer_length = len(qa[\"answers\"][0][\"text\"])\nend_positions.append(start_position + answer_length)\n### END CODE HERE ###\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u524d\u200b 5 \u200b\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> Python<pre><code>questions[:5]\n</code></pre> Text Only<pre><code>['\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u88ab\u200b\u4efb\u200b\u4e3a\u4e3b\u200b\u6559\u200b\u7684\u200b\uff1f',\n '1990 \u200b\u5e74\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u62c5\u4efb\u200b\u4ec0\u4e48\u200b\u804c\u52a1\u200b\uff1f',\n '\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4e8e\u200b\u4f55\u65f6\u4f55\u5730\u200b\u51fa\u751f\u200b\u7684\u200b\uff1f',\n '1994 \u200b\u5e74\u200b 3 \u200b\u6708\u200b\uff0c\u200b\u8303\u5ef7\u9882\u200b\u62c5\u4efb\u200b\u4ec0\u4e48\u200b\u804c\u52a1\u200b\uff1f',\n '\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4f55\u65f6\u200b\u53bb\u4e16\u200b\u7684\u200b\uff1f']\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u524d\u200b 5 \u200b\u4e2a\u200b\u7b54\u6848\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\uff1a</p> Python<pre><code>start_positions[:5]\n</code></pre> Text Only<pre><code>[30, 41, 97, 548, 759]\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u524d\u200b 5 \u200b\u4e2a\u200b\u7b54\u6848\u200b\u7684\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\uff1a</p> Python<pre><code>end_positions[:5]\n</code></pre> Text Only<pre><code>[35, 62, 126, 598, 780]\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u7b2c\u200b 3 \u200b\u4e2a\u200b\u95ee\u9898\u200b\u7684\u200b\u56de\u7b54\u200b\u662f\u5426\u200b\u6b63\u786e\u200b\uff1a</p> Python<pre><code>paragraphs[0][start_positions[2] : end_positions[2]]\n</code></pre> Text Only<pre><code>'\u200b\u8303\u5ef7\u9882\u4e8e\u200b 1919 \u200b\u5e74\u200b 6 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\u5728\u200b\u8d8a\u200b\u5357\u5b81\u200b\u5e73\u7701\u200b\u5929\u4e3b\u6559\u200b\u53d1\u8273\u200b\u6559\u533a\u200b\u51fa\u751f\u200b'\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5bf9-paragraphs-\u548c-questions-\u8fdb\u884c-encoding","title":"\u5bf9\u200b paragraphs \u200b\u548c\u200b questions \u200b\u8fdb\u884c\u200b Encoding","text":"<p>\u200b\u5c06\u200b paragraphs \u200b\u548c\u200b questions \u200b\u8fdb\u884c\u200b encoding\u3002\u200b\u4e0b\u9762\u200b\u8fd9\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u4f7f\u7528\u200b\u4e86\u200b Hugging Face \u200b\u7684\u200b tokenizer \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c06\u200b paragraphs \u200b\u548c\u200b questions \u200b\u8f6c\u6362\u6210\u200b\u76f8\u5e94\u200b\u7684\u200b token\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b (train_encodings) \u200b\u5305\u542b\u200b\u8fd9\u4e9b\u200b token \u200b\u7684\u200b\u5404\u79cd\u200b\u4fe1\u606f\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b\u5305\u62ec\u200b input_ids\u3001attention_mask \u200b\u7b49\u7b49\u200b\u3002return_tensors='pt' \u200b\u8868\u793a\u200b\u8fd4\u56de\u200b PyTorch \u200b\u4e0b\u200b\u7684\u200b tensor \u200b\u683c\u5f0f\u200b padding \u200b\u7528\u4e8e\u200b\u586b\u5145\u200b\u4e0d\u8db3\u200b max_length \u200b\u7684\u200b tokentruncation \u200b\u7528\u4e8e\u200b\u5728\u200b\u8d85\u8fc7\u200b max_length \u200b\u65f6\u200b\u622a\u65ad\u200b token \u200b\u6700\u7ec8\u200b\u7684\u200b token \u200b\u957f\u5ea6\u200b\u88ab\u200b\u9650\u5236\u200b\u5728\u200b 512 \u200b\u5185\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://huggingface.co/docs/transformers/main_classes/tokenizer#transformers.PreTrainedTokenizer.call</p> Python<pre><code>train_encodings = tokenizer(\nparagraphs,\nquestions,\nreturn_tensors=\"pt\",\npadding=True,\ntruncation=True,\nmax_length=512,\n)\n</code></pre> <p>\u200b\u67e5\u770b\u200b train_encodings \u200b\u7684\u200b keys\uff1a</p> Python<pre><code>train_encodings.keys()\n</code></pre> Text Only<pre><code>dict_keys(['input_ids', 'token_type_ids', 'attention_mask'])\n</code></pre> <ul> <li> <p>\u200b\u5728\u200b\u95ee\u7b54\u200b\u4efb\u52a1\u200b\u4e2d\u200b\uff0c<code>input_ids</code> \u200b\u662f\u200b\u5c06\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6574\u6570\u200b\u5e8f\u5217\u200b\u540e\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002\u200b\u5b83\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u5355\u8bcd\u200b\u6216\u5b50\u200b\u8bcd\u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u6574\u6570\u200b ID, \u200b\u4f4d\u4e8e\u200b [CLS] \u200b\u548c\u200b [SEP] \u200b\u6807\u8bb0\u200b\u4f1a\u200b\u88ab\u200b\u5206\u522b\u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b ID\uff0c(101: CLS, 102: SEP)\u3002\u200b\u5177\u4f53\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u4e0b\u65b9\u200b\u4f8b\u5b50\u200b\u3002</p> </li> <li> <p>\u200b\u5728\u200b <code>token_type_ids</code> \u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6807\u8bb0\u200b\u7684\u200b\u503c\u200b\u901a\u5e38\u200b\u4e3a\u200b 0 \u200b\u6216\u200b 1\uff0c\u200b\u5176\u4e2d\u200b 0 \u200b\u8868\u793a\u200b\u8be5\u200b token \u200b\u5c5e\u4e8e\u200b\u7b2c\u4e00\u4e2a\u200b\u6587\u672c\u200b\u5e8f\u5217\u200b\uff08\u200b\u901a\u5e38\u200b\u662f\u200b\u6bb5\u843d\u200b\uff09\uff0c1 \u200b\u8868\u793a\u200b\u8be5\u200b token \u200b\u5c5e\u4e8e\u200b\u7b2c\u4e8c\u4e2a\u200b\u6587\u672c\u200b\u5e8f\u5217\u200b\uff08\u200b\u901a\u5e38\u200b\u662f\u200b\u95ee\u9898\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u5728\u200b <code>attention_mask</code> \u200b\u4e2d\u200b\uff0c0 \u200b\u8868\u793a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6807\u8bb0\u200b\u5e94\u8be5\u200b\u88ab\u200b\u5ffd\u7565\u200b\uff0c1 \u200b\u8868\u793a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6807\u8bb0\u200b\u5e94\u8be5\u200b\u88ab\u200b\u5173\u6ce8\u200b\u3002\u200b\u5f53\u200b\u8f93\u5165\u200b\u5e8f\u5217\u200b\u957f\u5ea6\u200b\u4e0d\u8db3\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5728\u200b\u5e8f\u5217\u200b\u672b\u5c3e\u200b\u586b\u5145\u200b\u4e00\u4e9b\u200b\u65e0\u200b\u610f\u4e49\u200b\u7684\u200b\u6807\u8bb0\u200b\uff0c\u200b\u4ee5\u200b\u4f7f\u200b\u5e8f\u5217\u200b\u957f\u5ea6\u200b\u8fbe\u5230\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\u3002\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c<code>tokenizer</code>\u200b\u5c06\u200b\u586b\u5145\u200b\u7684\u200b\u6807\u8bb0\u200b\u7684\u200b attention mask \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\uff0c\u200b\u4ee5\u200b\u544a\u8bc9\u200b\u6a21\u578b\u200b\u5b83\u4eec\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u88ab\u200b\u5173\u6ce8\u200b\u3002</p> </li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#input_ids","title":"<code>input_ids</code>","text":"<p>\u200b\u8ba9\u200b\u6211\u4eec\u200b\u6765\u200b\u770b\u770b\u200b <code>input_ids</code> \u200b\u7684\u200b\u5177\u4f53\u5185\u5bb9\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u5148\u200b\u5411\u200b <code>tokenizer</code> \u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u6bb5\u843d\u200b\u548c\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u7136\u540e\u200b\u67e5\u770b\u200b <code>input_ids</code> \u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> Python<pre><code>paragraph_and_question = tokenizer(\nparagraphs[0],\nquestions[0],\nreturn_tensors=\"pt\",\npadding=True,\ntruncation=True,\nmax_length=512,\n)[\"input_ids\"][0]\n</code></pre> Python<pre><code>paragraph_and_question\n</code></pre> Text Only<pre><code>tensor([ 101, 5745, 2455, 7563, 3364, 3322, 8020, 8024, 8021, 8024, 1760, 1399,\n         924, 4882,  185, 5735, 4449, 8020, 8021, 8024, 3221, 6632, 1298, 5384,\n        7716, 1921,  712, 3136, 3364, 3322,  511, 9155, 2399, 6158,  818,  711,\n         712, 3136, 8039, 8431, 2399, 6158, 3091, 1285,  711, 1921,  712, 3136,\n        3777, 1079, 2600, 3136, 1277, 2134, 2429, 5392, 4415, 8039, 8447, 2399,\n        6158, 3091, 1285,  711, 2600,  712, 3136, 8024, 1398, 2399, 2399, 2419,\n        6158, 3091, 1285,  711, 3364, 3322, 8039, 8170, 2399,  123, 3299, 4895,\n         686,  511, 5745, 2455, 7563,  754, 9915, 2399,  127, 3299, 8115, 3189,\n        1762, 6632, 1298, 2123, 2398, 4689, 1921,  712, 3136, 1355, 5683, 3136,\n        1277, 1139, 4495, 8039, 4997, 2399, 3198, 2970, 1358, 5679, 1962, 3136,\n        5509, 1400, 8024, 6158,  671,  855, 6632, 1298, 4868, 4266, 2372, 1168,\n        3777, 1079, 5326, 5330, 1071, 2110,  689,  511, 5745, 2455, 7563,  754,\n        9211, 2399, 1762, 3777, 1079, 1920,  934, 6887, 7368, 2130, 2768, 4868,\n        2110, 2110,  689,  511, 5745, 2455, 7563,  754, 8594, 2399,  127, 3299,\n         127, 3189, 1762, 3777, 1079, 4638,  712, 3136, 2429, 1828, 3232, 7195,\n        8039, 1350, 1400, 6158, 3836, 1168, 1760, 1957, 2207, 2548, 1065, 2109,\n        1036, 7368, 3302, 1218,  511, 8707, 2399,  807, 8024, 5745, 2455, 7563,\n        1762, 3777, 1079, 1828, 1277, 1158, 2456, 4919, 3696, 2970, 2521,  704,\n        2552,  809, 3119, 2159, 1168, 3777, 1079, 6912, 2773, 4638, 7410, 3696,\n         511, 9258, 2399, 8024, 3791, 6632, 2773,  751, 5310, 3338, 8024, 6632,\n        1298, 3696,  712, 1066, 1469, 1744, 2456, 6963, 3777, 1079, 8024, 2496,\n        3198, 2523, 1914, 1921,  712, 3136, 4868, 5466,  782, 1447, 6845, 5635,\n        6632, 1298, 4638, 1298, 3175, 8024,  852, 5745, 2455, 7563,  793, 4197,\n        4522, 1762, 3777, 1079,  511, 5422, 2399, 5052, 4415, 1760, 5735, 3307,\n        2207,  934, 7368, 8039, 2668, 1762, 8779, 2399, 1728, 2932, 1310,  934,\n        7368, 4638, 5632, 4507,  510, 5632, 3780, 1350, 2867, 5318, 3124, 2424,\n        1762,  934, 7368, 6392, 3124, 3780, 6440, 4638, 6206, 3724, 5445, 6158,\n        2936,  511, 9155, 2399,  125, 3299,  126, 3189, 8024, 3136, 2134,  818,\n        1462, 5745, 2455, 7563,  711, 1921,  712, 3136, 1266, 2123, 3136, 1277,\n         712, 3136, 8024, 1398, 2399,  129, 3299, 8115, 3189, 2218,  818, 8039,\n        1071, 4288, 7208,  711,  519, 2769,  928, 1921,  712, 4638, 4263,  520,\n         511, 4507,  754, 5745, 2455, 7563, 6158, 6632, 1298, 3124, 2424, 6763,\n        4881, 2345,  679, 1914, 8114, 2399, 8024, 1728, 3634,  800, 3187, 3791,\n        1168, 2792, 2247, 1828, 1277, 6822, 6121, 4288, 4130, 2339,  868, 5445,\n         683, 3800, 4777, 6438, 5023, 2339,  868,  511, 5745, 2455, 7563, 7370,\n         749, 7481, 2190, 2773,  751,  510, 6577, 1737,  510, 6158, 2496, 2229,\n        6833, 2154, 1921,  712, 3136,  833, 5023, 7309, 7579, 1912, 8024,  738,\n        4908, 2166, 2612, 1908,  934, 7368,  510, 1158, 2456, 1957,  934,  833,\n        1730,  860, 5023,  511, 8431, 2399, 8024, 3136, 2134, 5735, 3307,  924,\n        4882,  753,  686, 1762, 1398, 2399,  127, 3299, 8123, 3189, 3091, 1285,\n        5745, 2455, 7563,  711, 1921,  712, 3136, 3777, 1079, 2600, 3136, 1277,\n        2134, 2429, 5392,  102, 5745, 2455, 7563, 3221,  784,  720, 3198,  952,\n        6158,  818,  711,  712, 3136, 4638, 8043,  102])\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b token \u200b\u662f\u200b 102\uff0c\u200b\u5e76\u4e14\u200b\u5012\u6570\u7b2c\u200b 2 \u200b\u884c\u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e2a\u200b 102\u3002</p> <p>102 \u200b\u8868\u793a\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u53e5\u5b50\u200b\u7684\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4ece\u200b 5745 \u200b\u5f00\u59cb\u200b\u5e94\u8be5\u200b\u662f\u200b\u95ee\u9898\u200b\u30025745 \u200b\u662f\u200b\u5012\u6570\u7b2c\u200b 16 \u200b\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6700\u540e\u200b 16 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u622a\u53d6\u200b\u51fa\u6765\u200b\u5e76\u200b decode \u200b\u89e3\u7801\u200b\uff0c\u200b\u770b\u770b\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002</p> Python<pre><code>tokenizer.decode(paragraph_and_question[-16:])\n</code></pre> Text Only<pre><code>'\u200b\u8303\u200b \u200b\u5ef7\u200b \u200b\u9882\u200b \u200b\u662f\u200b \u200b\u4ec0\u200b \u200b\u4e48\u200b \u200b\u65f6\u200b \u200b\u5019\u200b \u200b\u88ab\u200b \u200b\u4efb\u200b \u200b\u4e3a\u200b \u200b\u4e3b\u200b \u200b\u6559\u200b \u200b\u7684\u200b \uff1f [SEP]'\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u6700\u540e\u200b 16 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u786e\u5b9e\u200b\u662f\u200b\u4e00\u4e2a\u200b question\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u6211\u4eec\u200b\u9650\u5236\u200b\u4e86\u200b <code>max_length</code> \u200b\u4e3a\u200b 512\uff0c\u200b\u56e0\u6b64\u200b <code>input_ids</code> \u200b\u7684\u200b\u957f\u5ea6\u200b\u4e3a\u200b 512\u3002paragraph \u200b\u7684\u200b\u957f\u5ea6\u200b\u53ef\u80fd\u200b\u8d85\u8fc7\u200b 512\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u5176\u200b\u622a\u65ad\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u770b\u770b\u200b\u5012\u6570\u7b2c\u200b 50 \u200b\u5230\u200b\u5012\u6570\u7b2c\u200b 16 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002</p> Python<pre><code>tokenizer.decode(paragraph_and_question[-50:-16])\n</code></pre> Text Only<pre><code>'\uff0c \u200b\u6559\u200b \u200b\u5b97\u200b \u200b\u82e5\u200b \u200b\u671b\u200b \u200b\u4fdd\u200b \u200b\u7984\u200b \u200b\u4e8c\u200b \u200b\u4e16\u200b \u200b\u5728\u200b \u200b\u540c\u200b \u200b\u5e74\u200b 6 \u200b\u6708\u200b 18 \u200b\u65e5\u200b \u200b\u64e2\u200b \u200b\u5347\u200b \u200b\u8303\u200b \u200b\u5ef7\u200b \u200b\u9882\u200b \u200b\u4e3a\u200b \u200b\u5929\u200b \u200b\u4e3b\u200b \u200b\u6559\u200b \u200b\u6cb3\u200b \u200b\u5185\u200b \u200b\u603b\u200b \u200b\u6559\u200b \u200b\u533a\u200b \u200b\u5b97\u200b \u200b\u5ea7\u200b \u200b\u7f72\u200b [SEP]'\n</code></pre> <p>\u200b\u8fd9\u200b\u786e\u5b9e\u200b\u662f\u200b\u4e00\u4e2a\u200b paragraph \u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b\u53e5\u5b50\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e86\u200b <code>truncation</code> \u200b\u53c2\u6570\u200b\uff0cparagraph \u200b\u52a0\u4e0a\u200b question \u200b\u4f1a\u200b\u8d85\u8fc7\u200b <code>max_length</code>\u3002\u200b\u5b8c\u6574\u200b\u4fdd\u7559\u200b question \u200b\u540e\u200b\uff0cparagraph \u200b\u540e\u9762\u200b\u7684\u200b\u90e8\u5206\u200b\u5c31\u200b\u88ab\u200b\u622a\u65ad\u200b\u4e86\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u9a8c\u8bc1\u200b\u786e\u5b9e\u200b\u662f\u200b\u622a\u65ad\u200b\u4e86\u200b paragraph\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u5c06\u200b paragraph \u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\uff0c\u200b\u770b\u770b\u200b <code>input_ids</code> \u200b\u6700\u540e\u200b 50 \u200b\u4e2a\u5b57\u7b26\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> Python<pre><code>paragraph_only = tokenizer(\nparagraphs[0],\nreturn_tensors=\"pt\",\npadding=True,\ntruncation=True,\nmax_length=512,\n)[\"input_ids\"][0]\n</code></pre> Python<pre><code>tokenizer.decode(paragraph_only[-50:])\n</code></pre> Text Only<pre><code>'\uff0c \u200b\u6559\u200b \u200b\u5b97\u200b \u200b\u82e5\u200b \u200b\u671b\u200b \u200b\u4fdd\u200b \u200b\u7984\u200b \u200b\u4e8c\u200b \u200b\u4e16\u200b \u200b\u5728\u200b \u200b\u540c\u200b \u200b\u5e74\u200b 6 \u200b\u6708\u200b 18 \u200b\u65e5\u200b \u200b\u64e2\u200b \u200b\u5347\u200b \u200b\u8303\u200b \u200b\u5ef7\u200b \u200b\u9882\u200b \u200b\u4e3a\u200b \u200b\u5929\u200b \u200b\u4e3b\u200b \u200b\u6559\u200b \u200b\u6cb3\u200b \u200b\u5185\u200b \u200b\u603b\u200b \u200b\u6559\u200b \u200b\u533a\u200b \u200b\u5b97\u200b \u200b\u5ea7\u200b \u200b\u7f72\u200b \u200b\u7406\u200b \u200b\u4ee5\u200b \u200b\u586b\u200b \u200b\u8865\u200b \u200b\u8be5\u200b \u200b\u6559\u200b \u200b\u533a\u200b \u200b\u603b\u200b \u200b\u4e3b\u200b \u200b\u6559\u200b \u200b\u7684\u200b \u200b\u7a7a\u200b \u200b\u7f3a\u200b \u3002 1994 \u200b\u5e74\u200b [SEP]'\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#token_type_ids","title":"<code>token_type_ids</code>","text":"<p><code>token_type_ids</code> \u200b\u6700\u540e\u200b 16 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u4e3a\u200b 1\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6700\u540e\u200b 16 \u200b\u4e2a\u200b token \u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b question\u3002</p> Python<pre><code>train_encodings[\"token_type_ids\"][0]\n</code></pre> Text Only<pre><code>tensor([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1,\n        1, 1, 1, 1, 1, 1, 1, 1])\n</code></pre> Python<pre><code>train_encodings[\"token_type_ids\"]\n</code></pre> Text Only<pre><code>tensor([[0, 0, 0,  ..., 1, 1, 1],\n        [0, 0, 0,  ..., 1, 1, 1],\n        ...,\n        [0, 0, 0,  ..., 0, 0, 0],\n        [0, 0, 0,  ..., 0, 0, 0]])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#attention_mask","title":"<code>attention_mask</code>","text":"<p>\u200b\u5bf9\u4e8e\u200b\u90a3\u4e9b\u200b\u6709\u200b\u622a\u65ad\u200b\u4e86\u200b\u6570\u636e\u200b\uff0c<code>attention_mask</code> \u200b\u5168\u662f\u200b 1\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6240\u6709\u200b\u7684\u200b token \u200b\u90fd\u200b\u662f\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b\u7684\u200b\u3002</p> Python<pre><code>train_encodings[\"attention_mask\"][0]\n</code></pre> Text Only<pre><code>tensor([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n        1, 1, 1, 1, 1, 1, 1, 1])\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u90a3\u4e9b\u200b\u6ca1\u6709\u200b\u622a\u65ad\u200b\u7684\u200b\u6570\u636e\u200b\uff0c<code>attention_mask</code> \u200b\u6700\u540e\u200b\u82e5\u5e72\u4e2a\u200b\u5143\u7d20\u200b\u4e3a\u200b 0\uff0c\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u6700\u540e\u200b\u4e00\u4e9b\u200b token \u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b\u8865\u5145\u200b\u7684\u200b padding \u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b\u3002</p> Python<pre><code>train_encodings[\"attention_mask\"][10]\n</code></pre> Text Only<pre><code>tensor([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0])\n</code></pre> <p>\u200b\u957f\u5ea6\u200b\u4e0d\u8db3\u200b 512 \u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u622a\u65ad\u200b\uff0c\u200b\u800c\u662f\u200b\u4f1a\u200b\u88ab\u200b\u586b\u5145\u200b 0\u3002</p> Python<pre><code>train_encodings[\"input_ids\"][10]\n</code></pre> Text Only<pre><code>tensor([ 101,  711, 3189, 3315, 4035, 4514, 6639, 4413, 2207, 2199, 5437, 4638,\n         671,  702, 6235, 5682, 8024, 5632, 2207, 4266, 3678, 4895, 2460, 8024,\n         680, 4266,  779,  671, 6629, 1724, 1905,  711, 2157, 8024, 3680,  702,\n        1765, 3175,  738, 3221, 2521,  671,  833,  912, 4895, 2458, 8024,  852,\n         800,  793, 4197, 5543, 1916,  924, 2898,  831, 4899, 4638, 2110,  689,\n        2768, 5327,  511, 1762, 5018,  671, 3613, 1298, 5867, 2356, 4495, 3833,\n        3198, 8024,  680, 1398, 3416, 2218, 6438,  754, 1298, 5867, 2207, 2110,\n        4638, 1920, 4958, 5437,  711, 7942, 7032, 2864, 3440, 8024, 3295, 3126,\n        1213, 4413, 7339, 1259, 2886, 1298, 5867, 2207, 2110,  510, 1298, 5867,\n        7770,  704,  510, 3189, 3315, 2208, 2399, 7339,  510, 3189, 3315, 7471,\n        2399, 1092,  510, 3189, 3315, 1952, 6817, 7339,  511, 3126, 1213, 3189,\n        3315, 7471, 2399, 1092, 3309, 7313, 8024, 1728, 3131, 1398, 3678, 2460,\n        4266, 4638, 1987, 1987, 2193, 5636, 6158, 6756, 3058, 5635, 3171, 5558,\n        8024, 1762, 1104, 6612, 1453, 1372, 1762, 1104, 6612, 4638,  678, 1288,\n        1767, 1282,  758, 1146, 7164, 2458, 1993,  677, 1767, 8024, 2768,  711,\n        3189, 3315, 7339, 1932, 2533,  686, 7471, 1094, 1092, 4638, 1071,  704,\n         671, 1399, 1216, 5628,  511, 1825, 3315, 6598, 3160, 5333, 1384, 8038,\n        4413, 1767,  677, 4638, 5686, 3318, 2157, 1139, 6716, 1765, 8038, 3189,\n        3315, 1298, 5867, 2356, 6414, 4495, 3189, 8038,  126, 3299,  126, 3189,\n        3215, 2429, 8038, 7032, 4281, 2429, 4413, 6132, 1384, 4772, 8038, 8111,\n        2857,  818,  855, 5390, 8038,  704, 1767,  510, 3122, 1140,  704, 1767,\n         510, 1381,  704, 1767, 3078, 7270, 5558, 8038, 1381, 5558, 2792, 2247,\n        7339,  824, 8038, 4669, 4506, 2255, 1383, 3125,  752, 1355, 2245, 2274,\n        1922, 6947, 1762, 2207, 2110, 3309, 7313,  679, 3171, 6760, 2940, 2110,\n        3413, 8024, 1762, 1298, 5867, 2207, 2110, 2218, 6438, 3198, 1762, 1059,\n        1744, 1920, 6612,  704, 1932, 2533, 1094, 1092, 8039, 1744,  704,  676,\n        2399, 7390, 4266,  779, 2109, 1296, 1765, 1762, 3791, 1744, 4522, 2110,\n        8039, 1726, 1744, 1400,  676, 2399, 4638, 7770,  704, 4495, 3889,  671,\n        4684, 6783, 5314, 3189, 3315, 4374, 4277, 2198, 2797, 3189, 1403, 2207,\n        3613, 6947, 4372, 7566, 4638,  691, 6930, 2110, 7368,  511, 1762,  523,\n         100, 8133,  524, 2399,  807, 8024, 1920, 4958, 5437,  510, 3189, 1403,\n        2207, 3613, 6947, 5023, 1399, 2199, 1772, 6760, 2773, 3862, 1912, 8024,\n         800,  680, 3351, 2255, 1045,  510,  676, 3329, 3919, 5299, 2768,  749,\n         519,  100,  520, 5299, 1394, 8020, 3351, 2255, 1045,  100,  100,  510,\n        2274, 1922, 6947,  100,  100,  510,  676, 3329, 3919,  100,  100, 8021,\n         511, 2553, 3324, 2825,  122,  119, 1726, 1213, 1143, 2198, 7305,  123,\n         119,  100,  119,  100,  119,  100,  119, 2198, 7305,  124,  119, 1352,\n         782, 2198, 7305,  113,  680, 1920, 4958, 5437, 1394,  868,  114,  102,\n        3189, 3315, 7339, 1932, 2533,  686, 7471, 1094, 1092, 8024, 2274, 1922,\n        6947, 1355, 2916,  749,  784,  720,  868, 4500, 8043,  102,    0,    0,\n           0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,\n           0,    0,    0,    0,    0,    0,    0,    0])\n</code></pre> Python<pre><code>tokenizer.decode(\ntokenizer(\nparagraphs[10],\nquestions[10],\nreturn_tensors=\"pt\",\npadding=True,\ntruncation=True,\nmax_length=512,\n)[\"input_ids\"][0]\n)\n</code></pre> Text Only<pre><code>'[CLS] \u200b\u4e3a\u200b \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u6f2b\u200b \u200b\u753b\u200b \u200b\u8db3\u200b \u200b\u7403\u200b \u200b\u5c0f\u200b \u200b\u5c06\u200b \u200b\u7ffc\u200b \u200b\u7684\u200b \u200b\u4e00\u200b \u200b\u4e2a\u200b \u200b\u89d2\u200b \u200b\u8272\u200b \uff0c \u200b\u81ea\u200b \u200b\u5c0f\u200b \u200b\u7236\u200b \u200b\u6bcd\u200b \u200b\u79bb\u200b \u200b\u5f02\u200b \uff0c \u200b\u4e0e\u200b \u200b\u7236\u200b \u200b\u4eb2\u200b \u200b\u4e00\u200b \u200b\u8d77\u200b \u200b\u56db\u200b \u200b\u5904\u200b \u200b\u4e3a\u200b \u200b\u5bb6\u200b \uff0c \u200b\u6bcf\u200b \u200b\u4e2a\u200b \u200b\u5730\u200b \u200b\u65b9\u200b \u200b\u4e5f\u200b \u200b\u662f\u200b \u200b\u5f85\u200b \u200b\u4e00\u200b \u200b\u4f1a\u200b \u200b\u4fbf\u200b \u200b\u79bb\u200b \u200b\u5f00\u200b \uff0c \u200b\u4f46\u200b \u200b\u4ed6\u200b \u200b\u4ecd\u200b \u200b\u7136\u200b \u200b\u80fd\u200b \u200b\u591f\u200b \u200b\u4fdd\u200b \u200b\u6301\u200b \u200b\u4f18\u200b \u200b\u79c0\u200b \u200b\u7684\u200b \u200b\u5b66\u200b \u200b\u4e1a\u200b \u200b\u6210\u200b \u200b\u7ee9\u200b \u3002 \u200b\u5728\u200b \u200b\u7b2c\u200b \u200b\u4e00\u200b \u200b\u6b21\u200b \u200b\u5357\u200b \u200b\u845b\u200b \u200b\u5e02\u200b \u200b\u751f\u200b \u200b\u6d3b\u200b \u200b\u65f6\u200b \uff0c \u200b\u4e0e\u200b \u200b\u540c\u200b \u200b\u6837\u200b \u200b\u5c31\u200b \u200b\u8bfb\u200b \u200b\u4e8e\u200b \u200b\u5357\u200b \u200b\u845b\u200b \u200b\u5c0f\u200b \u200b\u5b66\u200b \u200b\u7684\u200b \u200b\u5927\u200b \u200b\u7a7a\u200b \u200b\u7ffc\u200b \u200b\u4e3a\u200b \u200b\u9ec4\u200b \u200b\u91d1\u200b \u200b\u62cd\u200b \u200b\u6863\u200b \uff0c \u200b\u66fe\u200b \u200b\u6548\u200b \u200b\u529b\u200b \u200b\u7403\u200b \u200b\u961f\u200b \u200b\u5305\u200b \u200b\u62ec\u200b \u200b\u5357\u200b \u200b\u845b\u200b \u200b\u5c0f\u200b \u200b\u5b66\u200b \u3001 \u200b\u5357\u200b \u200b\u845b\u200b \u200b\u9ad8\u200b \u200b\u4e2d\u200b \u3001 \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u5c11\u200b \u200b\u5e74\u200b \u200b\u961f\u200b \u3001 \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u9752\u200b \u200b\u5e74\u200b \u200b\u519b\u200b \u3001 \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u5965\u200b \u200b\u8fd0\u200b \u200b\u961f\u200b \u3002 \u200b\u6548\u200b \u200b\u529b\u200b \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u9752\u200b \u200b\u5e74\u200b \u200b\u519b\u200b \u200b\u671f\u200b \u200b\u95f4\u200b \uff0c \u200b\u56e0\u200b \u200b\u6551\u200b \u200b\u540c\u200b \u200b\u6bcd\u200b \u200b\u5f02\u200b \u200b\u7236\u200b \u200b\u7684\u200b \u200b\u59b9\u200b \u200b\u59b9\u200b \u200b\u5bfc\u200b \u200b\u81f4\u200b \u200b\u88ab\u200b \u200b\u8f66\u200b \u200b\u649e\u200b \u200b\u81f3\u200b \u200b\u65ad\u200b \u200b\u811a\u200b \uff0c \u200b\u5728\u200b \u200b\u51b3\u200b \u200b\u8d5b\u200b \u200b\u5468\u200b \u200b\u53ea\u200b \u200b\u5728\u200b \u200b\u51b3\u200b \u200b\u8d5b\u200b \u200b\u7684\u200b \u200b\u4e0b\u200b \u200b\u534a\u200b \u200b\u573a\u200b \u200b\u5341\u200b \u200b\u4e94\u200b \u200b\u5206\u200b \u200b\u949f\u200b \u200b\u5f00\u200b \u200b\u59cb\u200b \u200b\u4e0a\u200b \u200b\u573a\u200b \uff0c \u200b\u6210\u200b \u200b\u4e3a\u200b \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u961f\u200b \u200b\u593a\u200b \u200b\u5f97\u200b \u200b\u4e16\u200b \u200b\u9752\u200b \u200b\u51a0\u200b \u200b\u519b\u200b \u200b\u7684\u200b \u200b\u5176\u200b \u200b\u4e2d\u200b \u200b\u4e00\u200b \u200b\u540d\u200b \u200b\u529f\u200b \u200b\u81e3\u200b \u3002 \u200b\u57fa\u200b \u200b\u672c\u200b \u200b\u8d44\u200b \u200b\u6599\u200b \u200b\u7ef0\u200b \u200b\u53f7\u200b \uff1a \u200b\u7403\u200b \u200b\u573a\u200b \u200b\u4e0a\u200b \u200b\u7684\u200b \u200b\u827a\u200b \u200b\u672f\u200b \u200b\u5bb6\u200b \u200b\u51fa\u200b \u200b\u8eab\u200b \u200b\u5730\u200b \uff1a \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u5357\u200b \u200b\u845b\u200b \u200b\u5e02\u200b \u200b\u8bde\u200b \u200b\u751f\u200b \u200b\u65e5\u200b \uff1a 5 \u200b\u6708\u200b 5 \u200b\u65e5\u200b \u200b\u661f\u200b \u200b\u5ea7\u200b \uff1a \u200b\u91d1\u200b \u200b\u725b\u200b \u200b\u5ea7\u200b \u200b\u7403\u200b \u200b\u8863\u200b \u200b\u53f7\u200b \u200b\u7801\u200b \uff1a 11 \u200b\u62c5\u200b \u200b\u4efb\u200b \u200b\u4f4d\u200b \u200b\u7f6e\u200b \uff1a \u200b\u4e2d\u200b \u200b\u573a\u200b \u3001 \u200b\u653b\u200b \u200b\u51fb\u200b \u200b\u4e2d\u200b \u200b\u573a\u200b \u3001 \u200b\u53f3\u200b \u200b\u4e2d\u200b \u200b\u573a\u200b \u200b\u64c5\u200b \u200b\u957f\u200b \u200b\u811a\u200b \uff1a \u200b\u53f3\u200b \u200b\u811a\u200b \u200b\u6240\u200b \u200b\u5c5e\u200b \u200b\u961f\u200b \u200b\u4f0d\u200b \uff1a \u200b\u76d8\u200b \u200b\u7530\u200b \u200b\u5c71\u200b \u200b\u53f6\u200b \u200b\u6545\u200b \u200b\u4e8b\u200b \u200b\u53d1\u200b \u200b\u5c55\u200b \u200b\u5cac\u200b \u200b\u592a\u200b \u200b\u90ce\u200b \u200b\u5728\u200b \u200b\u5c0f\u200b \u200b\u5b66\u200b \u200b\u671f\u200b \u200b\u95f4\u200b \u200b\u4e0d\u200b \u200b\u65ad\u200b \u200b\u8f6c\u200b \u200b\u6362\u200b \u200b\u5b66\u200b \u200b\u6821\u200b \uff0c \u200b\u5728\u200b \u200b\u5357\u200b \u200b\u845b\u200b \u200b\u5c0f\u200b \u200b\u5b66\u200b \u200b\u5c31\u200b \u200b\u8bfb\u200b \u200b\u65f6\u200b \u200b\u5728\u200b \u200b\u5168\u200b \u200b\u56fd\u200b \u200b\u5927\u200b \u200b\u8d5b\u200b \u200b\u4e2d\u200b \u200b\u593a\u200b \u200b\u5f97\u200b \u200b\u51a0\u200b \u200b\u519b\u200b \uff1b \u200b\u56fd\u200b \u200b\u4e2d\u200b \u200b\u4e09\u200b \u200b\u5e74\u200b \u200b\u968f\u200b \u200b\u7236\u200b \u200b\u4eb2\u200b \u200b\u5b64\u200b \u200b\u5355\u200b \u200b\u5730\u200b \u200b\u5728\u200b \u200b\u6cd5\u200b \u200b\u56fd\u200b \u200b\u7559\u200b \u200b\u5b66\u200b \uff1b \u200b\u56de\u200b \u200b\u56fd\u200b \u200b\u540e\u200b \u200b\u4e09\u200b \u200b\u5e74\u200b \u200b\u7684\u200b \u200b\u9ad8\u200b \u200b\u4e2d\u200b \u200b\u751f\u200b \u200b\u6daf\u200b \u200b\u4e00\u200b \u200b\u76f4\u200b \u200b\u8f93\u200b \u200b\u7ed9\u200b \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u738b\u200b \u200b\u724c\u200b \u200b\u5c04\u200b \u200b\u624b\u200b \u200b\u65e5\u200b \u200b\u5411\u200b \u200b\u5c0f\u200b \u200b\u6b21\u200b \u200b\u90ce\u200b \u200b\u7387\u200b \u200b\u9886\u200b \u200b\u7684\u200b \u200b\u4e1c\u200b \u200b\u90a6\u200b \u200b\u5b66\u200b \u200b\u9662\u200b \u3002 \u200b\u5728\u200b \u3010 [UNK] 23 \u3011 \u200b\u5e74\u200b \u200b\u4ee3\u200b \uff0c \u200b\u5927\u200b \u200b\u7a7a\u200b \u200b\u7ffc\u200b \u3001 \u200b\u65e5\u200b \u200b\u5411\u200b \u200b\u5c0f\u200b \u200b\u6b21\u200b \u200b\u90ce\u200b \u200b\u7b49\u200b \u200b\u540d\u200b \u200b\u5c06\u200b \u200b\u5747\u200b \u200b\u8f6c\u200b \u200b\u6218\u200b \u200b\u6d77\u200b \u200b\u5916\u200b \uff0c \u200b\u4ed6\u200b \u200b\u4e0e\u200b \u200b\u677e\u200b \u200b\u5c71\u200b \u200b\u5149\u200b \u3001 \u200b\u4e09\u200b \u200b\u6749\u200b \u200b\u6df3\u200b \u200b\u7ec4\u200b \u200b\u6210\u200b \u200b\u4e86\u200b \u300c [UNK] \u300d \u200b\u7ec4\u200b \u200b\u5408\u200b \uff08 \u200b\u677e\u200b \u200b\u5c71\u200b \u200b\u5149\u200b [UNK] [UNK] \u3001 \u200b\u5cac\u200b \u200b\u592a\u200b \u200b\u90ce\u200b [UNK] [UNK] \u3001 \u200b\u4e09\u200b \u200b\u6749\u200b \u200b\u6df3\u200b [UNK] [UNK] \uff09 \u3002 \u200b\u5fc5\u200b \u200b\u6740\u200b \u200b\u6280\u200b 1. \u200b\u56de\u200b \u200b\u529b\u200b \u200b\u5200\u200b \u200b\u5c04\u200b \u200b\u95e8\u200b 2. [UNK]. [UNK]. [UNK]. \u200b\u5c04\u200b \u200b\u95e8\u200b 3. \u200b\u53cc\u200b \u200b\u4eba\u200b \u200b\u5c04\u200b \u200b\u95e8\u200b ( \u200b\u4e0e\u200b \u200b\u5927\u200b \u200b\u7a7a\u200b \u200b\u7ffc\u200b \u200b\u5408\u200b \u200b\u4f5c\u200b ) [SEP] \u200b\u65e5\u200b \u200b\u672c\u200b \u200b\u961f\u200b \u200b\u593a\u200b \u200b\u5f97\u200b \u200b\u4e16\u200b \u200b\u9752\u200b \u200b\u51a0\u200b \u200b\u519b\u200b \uff0c \u200b\u5cac\u200b \u200b\u592a\u200b \u200b\u90ce\u200b \u200b\u53d1\u200b \u200b\u6325\u200b \u200b\u4e86\u200b \u200b\u4ec0\u200b \u200b\u4e48\u200b \u200b\u4f5c\u200b \u200b\u7528\u200b \uff1f [SEP]'\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u67e5\u770b-input_idstoken_type_ids-\u548c-attention_mask-\u7684\u7ef4\u5ea6","title":"\u67e5\u770b\u200b <code>input_ids</code>\u3001<code>token_type_ids</code> \u200b\u548c\u200b <code>attention_mask</code> \u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff1a","text":"Python<pre><code>print(train_encodings[\"input_ids\"].shape)\nprint(train_encodings[\"token_type_ids\"].shape)\nprint(train_encodings[\"attention_mask\"].shape)\n</code></pre> Text Only<pre><code>torch.Size([10142, 512])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5c06-answer-\u5728\u539f\u59cb-paragrapgh-\u7684\u8d77\u6b62\u7d22\u5f15\u8f6c\u6362\u4e3a\u5728\u7ecf\u8fc7-tokenizor-\u4e4b\u540e\u7684-input_ids-\u4e2d\u7684\u8d77\u6b62\u7d22\u5f15","title":"\u5c06\u200b answer \u200b\u5728\u200b\u539f\u59cb\u200b paragrapgh \u200b\u7684\u200b\u8d77\u6b62\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\uff1a\u200b\u5728\u200b\u7ecf\u8fc7\u200b tokenizor \u200b\u4e4b\u540e\u200b\u7684\u200b input_ids \u200b\u4e2d\u200b\u7684\u200b\u8d77\u6b62\u200b\u7d22\u5f15","text":"<p>\u200b\u539f\u59cb\u200b\u7684\u200b\u8d77\u6b62\u200b\u7d22\u5f15\u200b\u662f\u200b\u5355\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b\u7d22\u5f15\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> <ul> <li> <p>paragrapgh: <code>\u200b\u6211\u51fa\u200b\u751f\u4e8e\u200b 2001 \u200b\u5e74\u200b\u3002</code></p> </li> <li> <p>question: <code>\u200b\u6211\u51fa\u200b\u751f\u4e8e\u200b\u54ea\u4e00\u5e74\u200b\uff1f</code></p> </li> <li> <p>answer: <code>2001 \u200b\u5e74\u200b\u3002</code></p> </li> </ul> <p>\u200b\u8fd9\u53e5\u200b\u8bdd\u200b\u7684\u200b <code>2001</code> \u200b\u7684\u200b <code>start_index</code> \u200b\u662f\u200b 4\uff0c<code>end_index</code> \u200b\u662f\u200b 7\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u7ecf\u8fc7\u200b tokenizer \u200b\u4e4b\u540e\u200b\uff0c<code>2001</code> \u200b\u88ab\u200b\u8bc6\u522b\u200b\u6210\u200b\u4e86\u200b 1 \u200b\u4e2a\u200b token\u3002\u200b\u56e0\u6b64\u200b <code>start_index</code> \u200b\u662f\u200b 4\uff0c<code>end_index</code> \u200b\u4e5f\u200b\u662f\u200b 4\u3002</p> Python<pre><code># `char_to_token` will convert answer's start/end positions in paragraph_text to start/end positions in tokenized_paragraph\ntrain_encodings[\"start_positions\"] = torch.tensor(\n[\ntrain_encodings.char_to_token(idx, x)\nif train_encodings.char_to_token(idx, x) != None\nelse -1\nfor idx, x in enumerate(start_positions)\n]\n)\ntrain_encodings[\"end_positions\"] = torch.tensor(\n[\ntrain_encodings.char_to_token(idx, x - 1)\nif train_encodings.char_to_token(idx, x - 1) != None\nelse -1\nfor idx, x in enumerate(end_positions)\n]\n)\n</code></pre> Python<pre><code>train_encodings[\"start_positions\"]\n</code></pre> Text Only<pre><code>tensor([ 31,  39,  86,  ..., 142, 225,  17])\n</code></pre> Python<pre><code>train_encodings[\"end_positions\"]\n</code></pre> Text Only<pre><code>tensor([ 32,  56, 110,  ..., 143, 244,  19])\n</code></pre> <p>\u200b\u4ee5\u200b\u7b2c\u200b 3 \u200b\u4e2a\u200b\u95ee\u9898\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5373\u4ee5\u200b 86 \u200b\u548c\u200b 110 \u200b\u4f5c\u4e3a\u200b\u8d77\u6b62\u200b\u7d22\u5f15\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u67e5\u770b\u200b\u5b83\u4eec\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1a</p> Python<pre><code>questions[2]\n</code></pre> Text Only<pre><code>'\u200b\u8303\u5ef7\u9882\u200b\u662f\u200b\u4e8e\u200b\u4f55\u65f6\u4f55\u5730\u200b\u51fa\u751f\u200b\u7684\u200b\uff1f'\n</code></pre> Python<pre><code>print(\"answer \u200b\u5728\u200b\u539f\u59cb\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7684\u200b\u8d77\u6b62\u200b\u7d22\u5f15\u200b\u4e3a\u200b\uff1a\", start_positions[2], end_positions[2])\n</code></pre> Text Only<pre><code>answer \u200b\u5728\u200b\u539f\u59cb\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7684\u200b\u8d77\u6b62\u200b\u7d22\u5f15\u200b\u4e3a\u200b\uff1a 97 126\n</code></pre> Python<pre><code>paragraphs[0][start_positions[2] : end_positions[2]]\n</code></pre> Text Only<pre><code>'\u200b\u8303\u5ef7\u9882\u4e8e\u200b 1919 \u200b\u5e74\u200b 6 \u200b\u6708\u200b 15 \u200b\u65e5\u200b\u5728\u200b\u8d8a\u200b\u5357\u5b81\u200b\u5e73\u7701\u200b\u5929\u4e3b\u6559\u200b\u53d1\u8273\u200b\u6559\u533a\u200b\u51fa\u751f\u200b'\n</code></pre> Python<pre><code>tokenizer.decode(train_encodings[\"input_ids\"][0][86 : 110 + 1])\n</code></pre> Text Only<pre><code>'\u200b\u8303\u200b \u200b\u5ef7\u200b \u200b\u9882\u200b \u200b\u4e8e\u200b 1919 \u200b\u5e74\u200b 6 \u200b\u6708\u200b 15 \u200b\u65e5\u200b \u200b\u5728\u200b \u200b\u8d8a\u200b \u200b\u5357\u200b \u200b\u5b81\u200b \u200b\u5e73\u200b \u200b\u7701\u200b \u200b\u5929\u200b \u200b\u4e3b\u200b \u200b\u6559\u200b \u200b\u53d1\u200b \u200b\u8273\u200b \u200b\u6559\u200b \u200b\u533a\u200b \u200b\u51fa\u200b \u200b\u751f\u200b'\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0canswer \u200b\u5728\u200b\u539f\u59cb\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7684\u200b start_position \u200b\u4e3a\u200b 97\uff0c\u200b\u4f46\u200b\u5728\u200b\u7ecf\u8fc7\u200b tokenizer \u200b\u4e4b\u540e\u200b\uff0cstart_position \u200b\u53d8\u6210\u200b\u4e86\u200b 86\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u52a0\u8f7d\u8bad\u7ec3\u6570\u636e","title":"\u52a0\u8f7d\u200b\u8bad\u7ec3\u200b\u6570\u636e","text":"Python<pre><code>import torch\nfrom torch.utils.data import Dataset, DataLoader, TensorDataset\nclass SquadDataset(torch.utils.data.Dataset):\ndef __init__(self, encodings):\nself.encodings = encodings\ndef __getitem__(self, idx):\nreturn {k: v[idx].to(device) for k, v in self.encodings.items()}\ndef __len__(self):\nreturn len(self.encodings.input_ids)\ntrain_dataset = SquadDataset(train_encodings)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u6307\u5b9a-optimizer-\u4e3a-adamw","title":"\u6307\u5b9a\u200b optimizer \u200b\u4e3a\u200b AdamW","text":"Python<pre><code>from torch.optim import AdamW\ntrain_loader = DataLoader(train_dataset, batch_size=16, shuffle=True)\n### START CODE HERE ###\n# Use AdamW as the optimizer, and learning rate 5e-5.\n# https://pytorch.org/docs/stable/generated/torch.optim.AdamW.html\noptim = torch.optim.AdamW(model.parameters(), lr=5e-5)\n### END CODE HERE ###\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u52a0\u901f\u8bad\u7ec3","title":"\u52a0\u901f\u200b\u8bad\u7ec3","text":"<p>Automatic Mixed Precision (AMP) is available on NVIDIA GPUs that support Tensor Cores, which are specialized hardware units for performing fast matrix multiplication and convolution operations in deep learning. Specifically, Tensor Cores are available on NVIDIA Volta, Turing, and Ampere architectures, which include the following GPU series:</p> <ul> <li>Volta: Tesla V100, Titan V</li> <li>Turing: Quadro RTX, GeForce RTX 20-series, Titan RTX</li> <li>Ampere: A100, GeForce RTX 30-series, Titan RTX</li> </ul> <p>\u200b\u7531\u4e8e\u200b Macbook Pro \u200b\u4e0d\u200b\u652f\u6301\u200b Tensor Cores\uff0c\u200b\u56e0\u6b64\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200b AMP\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u6ce8\u91ca\u200b\u6389\u200b\u3002</p> Python<pre><code># # Change \"fp16_training\" to True to support automatic mixed precision training (fp16)\n# fp16_training = True\n# if fp16_training:\n#     try:\n#         importlib.import_module(\"accelerate\")\n#         print(\"accelerate exists.\")\n#     except ImportError:\n#         ! pip install accelerate\n#         print(\"accelerate installed.\")\n#     from accelerate import Accelerator\n#     accelerator = Accelerator()\n#     device = accelerator.device\n# # Documentation for the toolkit:  https://huggingface.co/docs/accelerate/\n</code></pre> Python<pre><code># model, optim, train_loader = accelerator.prepare(model, optim, train_loader)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u8bad\u7ec3\u6a21\u578b","title":"\u8bad\u7ec3\u200b\u6a21\u578b","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u6d4b\u8bd5\u4e00\u4e0b\u8bad\u7ec3-1-\u4e2a-batch-\u65f6\u7a76\u7adf\u5728\u505a\u4ec0\u4e48","title":"\u6d4b\u8bd5\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u8bad\u7ec3\u200b 1 \u200b\u4e2a\u200b batch \u200b\u65f6\u200b\u7a76\u7adf\u200b\u5728\u200b\u505a\u200b\u4ec0\u4e48","text":"Python<pre><code>model.train()\nloss_sum = 0.0\nacc_start_sum = 0.0\nacc_end_sum = 0.0\n</code></pre> Python<pre><code># \u200b\u53ea\u200b\u52a0\u8f7d\u200b\u4e00\u4e2a\u200b batch \u200b\u7684\u200b\u6570\u636e\u200b\nfor batch_idx, batch in enumerate(tqdm(train_loader)):\nprint(batch_idx, batch)\nbreak\n</code></pre> Text Only<pre><code>huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...\nTo disable this warning, you can either:\n    - Avoid using `tokenizers` before the fork if possible\n    - Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)\n\n  0%|          | 0/634 [00:00&lt;?, ?it/s]\n\n0 {'input_ids': tensor([[ 101, 1102, 3777,  ...,    0,    0,    0],\n        [ 101, 6437, 1923,  ...,    0,    0,    0],\n        [ 101, 4549, 4565,  ..., 4638, 8043,  102],\n        ...,\n        [ 101, 6205, 2335,  ...,    0,    0,    0],\n        [ 101,  517, 4263,  ..., 4638, 8043,  102],\n        [ 101, 7942, 7583,  ...,    0,    0,    0]]), 'token_type_ids': tensor([[0, 0, 0,  ..., 0, 0, 0],\n        [0, 0, 0,  ..., 0, 0, 0],\n        [0, 0, 0,  ..., 1, 1, 1],\n        ...,\n        [0, 0, 0,  ..., 0, 0, 0],\n        [0, 0, 0,  ..., 1, 1, 1],\n        [0, 0, 0,  ..., 0, 0, 0]]), 'attention_mask': tensor([[1, 1, 1,  ..., 0, 0, 0],\n        [1, 1, 1,  ..., 0, 0, 0],\n        [1, 1, 1,  ..., 1, 1, 1],\n        ...,\n        [1, 1, 1,  ..., 0, 0, 0],\n        [1, 1, 1,  ..., 1, 1, 1],\n        [1, 1, 1,  ..., 0, 0, 0]]), 'start_positions': tensor([ 38, 108,  19,  81,  10, 330, 204,  12, 170,  44, 246, 473, 263,   8,\n         37, 270]), 'end_positions': tensor([ 47, 131,  20,  86,  17, 346, 240,  22, 175,  55, 254, 478, 292,  28,\n         51, 293])}\n</code></pre> Python<pre><code>batch_idx\n</code></pre> Text Only<pre><code>0\n</code></pre> <p>\u200b\u7531\u4e8e\u200b train_loader \u200b\u8bbe\u7f6e\u200b\u4e86\u200b <code>batch_size=16</code>\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u91cc\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6279\u6b21\u200b\u5305\u542b\u200b 16 \u200b\u4e2a\u200b\u6570\u636e\u200b</p> Python<pre><code>batch[\"input_ids\"].shape\n</code></pre> Text Only<pre><code>torch.Size([16, 512])\n</code></pre> <p>\u200b\u4e0b\u9762\u200b\u4e00\u5171\u200b\u6709\u200b 16 \u200b\u884c\u200b\u3001512 \u200b\u5217\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u884c\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u5217\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b token\u3002</p> <ul> <li>\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b token \u200b\u662f\u200b 101\uff0c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b [CLS]\uff1b</li> <li>\u200b\u6709\u4e9b\u200b\u884c\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b token \u200b\u662f\u200b 102\uff0c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b [SEP]\uff0c\u200b\u8bf4\u660e\u200b\u8fd9\u200b\u4e00\u884c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53e5\u5b50\u200b\u7684\u200b\u7ed3\u675f\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5f88\u200b\u53ef\u80fd\u200b\u662f\u200b\u7531\u4e8e\u200b\u592a\u957f\u200b\u800c\u200b\u88ab\u200b\u622a\u65ad\u200b\u7684\u200b\uff1b</li> <li>\u200b\u6709\u4e9b\u200b\u884c\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b token \u200b\u662f\u200b 0\uff0c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u662f\u200b padding\uff0c\u200b\u8bf4\u660e\u200b\u8fd9\u200b\u4e00\u884c\u200b\u662f\u200b\u7531\u4e8e\u200b\u4e0d\u8db3\u200b 512 \u200b\u4e2a\u200b token \u200b\u800c\u200b\u88ab\u200b\u586b\u5145\u200b\u7684\u200b\u3002</li> </ul> Python<pre><code>batch[\"input_ids\"]\n</code></pre> Text Only<pre><code>tensor([[ 101, 1102, 3777,  ...,    0,    0,    0],\n        [ 101, 6437, 1923,  ...,    0,    0,    0],\n        [ 101, 4549, 4565,  ..., 4638, 8043,  102],\n        ...,\n        [ 101, 6205, 2335,  ...,    0,    0,    0],\n        [ 101,  517, 4263,  ..., 4638, 8043,  102],\n        [ 101, 7942, 7583,  ...,    0,    0,    0]])\n</code></pre> <p>\u200b\u5c06\u200b\u68af\u5ea6\u200b\u6e05\u96f6\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u5230\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u5f97\u5230\u200b\u8f93\u51fa\u200b\u3002</p> Python<pre><code>optim.zero_grad()\n</code></pre> Python<pre><code>input_ids = batch[\"input_ids\"]\nattention_mask = batch[\"attention_mask\"]\nstart_positions = batch[\"start_positions\"]\nend_positions = batch[\"end_positions\"]\noutputs = model(\ninput_ids,\nattention_mask=attention_mask,\nstart_positions=start_positions,\nend_positions=end_positions,\n)\n</code></pre> <p>output \u200b\u5305\u542b\u200b 3 \u200b\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\uff1a</p> <ul> <li><code>loss</code>\uff1a\u200b\u6a21\u578b\u200b\u7684\u200b loss\uff0c\u200b\u82e5\u200b\u5728\u200b\u5355\u4e2a\u200b GPU \u200b\u4e0a\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u5219\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\uff1b\u200b\u82e5\u200b\u5728\u200b\u591a\u4e2a\u200b GPU \u200b\u4e0a\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u5219\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5411\u91cf\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u5b83\u6c42\u200b\u5e73\u5747\u200b\uff0c\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\u3002</li> <li><code>start_logits</code>\uff1a\u200b\u6a21\u578b\u200b\u9884\u6d4b\u200b\u7684\u200b answer \u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u7684\u200b logits\uff0c\u200b\u5b83\u200b\u7684\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b <code>[batch_size, sequence_length]</code>\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u627e\u5230\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u4e2d\u200b\u6700\u5927\u200b\u7684\u200b logits \u200b\u7684\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u4f4d\u7f6e\u200b\u6700\u6709\u200b\u53ef\u80fd\u200b\u662f\u200b answer \u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u3002</li> <li><code>end_logits</code>\uff1a\u200b\u6a21\u578b\u200b\u9884\u6d4b\u200b\u7684\u200b answer \u200b\u7684\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\u7684\u200b logits\uff0c\u200b\u5b83\u200b\u7684\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b <code>[batch_size, sequence_length]</code>\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u627e\u5230\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u4e2d\u200b\u6700\u5927\u200b\u7684\u200b logits \u200b\u7684\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u4f4d\u7f6e\u200b\u6700\u6709\u200b\u53ef\u80fd\u200b\u662f\u200b answer \u200b\u7684\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\u3002</li> </ul> Python<pre><code>outputs\n</code></pre> Text Only<pre><code>QuestionAnsweringModelOutput(loss=tensor(6.3551, grad_fn=&lt;DivBackward0&gt;), start_logits=tensor([[ 0.2125, -0.0176,  0.8175,  ..., -0.0908,  0.1679, -0.0031],\n        [-0.2033, -0.3505,  0.3795,  ..., -0.2303, -0.0989, -0.2526],\n        [-0.1405, -0.2148,  0.3679,  ...,  0.4882,  0.4927,  0.1160],\n        ...,\n        [ 0.3012, -0.1959,  0.4851,  ...,  0.1459,  0.0050,  0.0071],\n        [ 0.4969,  0.1853,  0.6557,  ...,  1.1007,  0.5564,  0.6131],\n        [ 0.7602, -0.2658,  0.1790,  ...,  0.0998, -0.0900, -0.1103]],\n       grad_fn=&lt;CloneBackward0&gt;), end_logits=tensor([[ 0.5864,  0.2094, -0.2350,  ...,  0.0376, -0.0851,  0.1369],\n        [ 0.6591,  0.6336, -0.3106,  ..., -0.1314,  0.0859,  0.2088],\n        [ 0.4751,  0.4456, -0.7501,  ..., -0.4076,  0.6677,  0.2978],\n        ...,\n        [ 0.2938,  0.6359,  0.2300,  ..., -0.1223, -0.0624,  0.0244],\n        [ 0.5656, -0.0421, -0.4359,  ..., -0.3173,  0.4669, -0.0290],\n        [ 0.5795,  0.6293,  0.0137,  ..., -0.2818, -0.0483,  0.1549]],\n       grad_fn=&lt;CloneBackward0&gt;), hidden_states=None, attentions=None)\n</code></pre> Python<pre><code>loss = outputs.loss.mean()\n</code></pre> Python<pre><code>loss\n</code></pre> Text Only<pre><code>tensor(6.3551, grad_fn=&lt;MeanBackward0&gt;)\n</code></pre> Python<pre><code># accelerator.backward(loss)\n</code></pre> <p>\u200b\u5c06\u200b loss \u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\uff0c\u200b\u7136\u540e\u200b\u66f4\u65b0\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>optim.step()\n</code></pre> <p>\u200b\u5c06\u200b loss \u200b\u503c\u200b\u8fdb\u884c\u200b\u7d2f\u52a0\u200b\uff1a</p> Python<pre><code>loss_sum += loss.item()\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u7b2c\u4e00\u4e2a\u200b\u95ee\u7b54\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6bcf\u4e2a\u200b token \u200b\u4f5c\u4e3a\u200b start \u200b\u7684\u200b logit\uff0c\u200b\u5176\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u8bf4\u660e\u200b\u8d8a\u6709\u200b\u53ef\u80fd\u200b\u4f5c\u4e3a\u200b start</p> Python<pre><code>outputs.start_logits[0]\n</code></pre> Text Only<pre><code>tensor([ 0.2125, -0.0176,  0.8175,  0.1401,  0.3830,  0.5447,  0.2535,  0.5441,\n         0.4506,  0.1667, -0.0406,  0.2431,  0.5296,  0.5443,  0.1391,  0.5039,\n         0.5513,  0.3531, -0.0036,  0.5418,  0.3638,  0.8562,  0.7709,  0.4136,\n        -0.1002,  0.3804,  0.5228, -0.3767,  0.8535, -0.4170, -0.2852,  0.2198,\n        -0.0988,  0.2945,  0.2500,  0.5346,  0.2510,  0.3977,  0.1791, -0.1008,\n        -0.1827,  0.8526,  0.0159, -0.1219, -0.2111, -0.4803,  0.0551, -0.0085,\n         0.3079,  0.2909,  0.7248,  0.1219,  0.2148,  0.4679,  0.6030, -0.0318,\n        -0.4633, -0.4084, -0.0116,  0.1284,  0.1204,  0.2487, -0.5812, -0.2066,\n         0.2473,  0.0449, -0.2151,  0.6374,  0.2120,  0.3509,  0.0443, -0.5371,\n         0.3848,  0.2174,  0.3050,  0.4796,  0.4882,  0.4878,  0.2726,  1.0422,\n         0.3216, -0.4328, -0.4191, -0.0842, -0.2140, -0.1477, -0.1366,  0.6466,\n         0.3154,  0.2114,  0.1608,  0.2045, -0.0919,  0.4392, -0.0932,  0.0259,\n         0.5206,  0.5873,  0.1224,  0.0170, -0.2463, -0.0985, -0.4752, -0.0680,\n        -0.0785,  0.1700,  0.4130, -0.6297, -0.5192,  0.3324, -0.1612,  0.8141,\n         0.7047, -0.0652, -0.6879,  0.4414,  0.9682, -0.4101, -0.3696,  0.0626,\n         0.7201,  0.1437, -0.1224,  0.4853,  0.4180,  0.6894, -0.0080,  0.4638,\n         0.3224,  0.3924,  0.5430, -0.3150,  0.1130,  0.3327,  0.9553,  0.1766,\n        -0.1214, -0.0748,  0.2101, -0.2757, -0.3623, -0.2271,  0.7705,  0.2296,\n         0.4204,  0.2503, -0.1333, -0.6823, -0.3707, -0.4157, -0.5318,  0.2350,\n         0.0367, -0.4597, -0.2335, -0.0836,  0.0926, -0.5748, -0.4118, -0.3472,\n        -0.3903,  0.1274,  0.0093,  0.3531,  0.0752, -0.3509, -0.0047, -0.4949,\n        -0.3875, -0.1310,  0.1725,  0.1557, -0.2232,  0.7752,  0.4941,  0.7711,\n         0.5737,  0.0653,  0.2567,  0.2475,  0.6255,  0.1423,  0.4833,  0.1594,\n        -0.3646,  0.1656,  0.6454,  0.5056,  0.1226,  0.3239,  0.1266, -0.1670,\n         0.5881,  0.2466,  0.5619,  0.3316,  1.0385,  0.5894,  0.7943,  0.2949,\n         0.2460,  0.1228,  0.2602,  0.5001,  0.3455,  0.0215,  0.0672,  0.3724,\n         0.5243,  0.0491,  0.4194, -0.0477,  0.3131,  0.2198,  0.1860, -0.0031,\n        -0.5847, -0.6715, -0.0939,  0.0574,  0.6994,  0.8004,  0.0661, -0.2464,\n         0.2083, -0.3359, -0.0455,  0.3431,  0.5009,  0.3378,  0.0871,  0.4479,\n         0.8333, -0.1767,  0.2192,  0.2366, -0.0889, -0.7379, -0.7137, -0.2394,\n         0.2897, -0.1432,  0.2697, -1.0396,  0.1074, -0.0957, -0.1519,  0.2058,\n        -0.7276, -0.6365,  0.1310,  0.0410,  0.0610,  0.2857,  0.1487,  0.2475,\n        -0.3950,  0.2993,  0.3038,  0.4302,  0.5475,  0.4055,  0.4028,  0.3937,\n         0.4151,  0.2934, -0.4341,  0.1555, -0.0497,  0.3891,  0.4310,  0.3350,\n         0.2426,  0.3268, -0.1807,  0.2414,  0.5263,  0.4906,  0.0672,  0.4079,\n         0.5031,  0.4021,  0.5126,  0.3123,  0.5452,  0.4220,  0.2336,  0.6535,\n         0.1540,  0.4732,  0.8249,  0.1131,  0.4821,  0.7310,  0.3041,  0.2527,\n         0.4379,  0.2597,  0.1327,  0.9209, -0.1255,  0.5664,  0.0277,  0.4685,\n         0.3919,  0.3305, -0.1136,  0.6584,  1.1735,  0.2455,  0.3451,  0.1770,\n         0.1515,  0.5662,  0.8513,  0.5403, -0.4512, -0.3062,  0.2060,  0.3442,\n         0.2045,  0.7849,  0.3150, -0.0569, -0.2507,  0.1957, -0.0929, -0.1571,\n         0.2783,  0.3085,  0.0191,  0.1233,  0.0252,  0.4742,  0.6263,  0.3042,\n         0.6639,  0.5058, -0.1975,  0.1259,  0.4177,  0.1303,  0.5247,  0.2499,\n        -0.0815, -0.0282,  0.4332,  0.1094,  0.4963, -0.1465,  0.1582, -0.4715,\n        -0.5223,  0.1088,  0.3296,  0.5983,  0.1077, -0.2420, -0.7281,  0.3860,\n         0.4557,  0.3288,  0.6238,  0.2216,  0.4434,  0.0476,  0.0969,  0.3931,\n         0.8894,  0.1470,  0.9491,  0.2486,  0.2623,  0.0245, -0.1257,  0.0433,\n         0.6014,  0.3871,  0.4724,  0.3186,  0.1811, -0.2717,  0.6531, -0.0603,\n        -0.4586, -0.3631, -0.5564, -0.0339, -0.2336, -0.2790,  0.2397, -0.0855,\n         0.0136,  0.3702,  0.0660,  0.4432,  0.1387,  0.2210,  0.7574,  0.0257,\n         0.6028, -0.5347,  0.1119,  0.4418, -0.0884,  0.4299, -0.1921,  0.1301,\n        -0.2481, -0.4902, -0.1519, -0.1551,  0.0304,  0.0186,  0.2762, -0.2509,\n         0.0596,  0.1861,  0.0098,  0.3545,  0.0227,  0.3228,  0.0400,  0.3991,\n         0.1981, -0.3654, -0.3493,  0.4351,  0.1579,  1.1858,  0.2790,  0.6369,\n         0.1570, -0.0068,  0.5205,  0.8042, -0.2005,  0.1072,  0.3860, -0.4949,\n        -0.8076,  0.2753,  0.4907, -0.0517, -0.3666,  0.9987,  0.6335,  0.2978,\n         0.1904, -0.0268,  0.1084, -0.1994,  0.0377, -0.1858,  0.7314,  0.1077,\n         0.4524, -0.3251,  0.2856,  0.4970,  0.6726,  0.4166,  0.1171,  0.3717,\n         0.4084,  0.2922,  0.2872,  0.4913,  0.2816,  0.6087,  0.8251,  0.2142,\n        -0.0854,  0.7196,  0.6450,  0.4110,  0.3252,  0.4044,  0.4999,  0.4911,\n         0.2375,  0.3400,  0.1322,  0.1493,  0.0513, -0.0023,  0.1486,  0.0358,\n         0.2667, -0.0037,  0.5133,  0.3341,  0.4385,  0.2358,  0.4318, -0.0516,\n         0.0674,  0.2064,  0.2652, -0.0804,  0.0899,  0.0967,  0.0405, -0.0277,\n         0.0649,  0.0952,  0.0291,  0.1091,  0.0682, -0.0908,  0.1679, -0.0031],\n       grad_fn=&lt;SelectBackward0&gt;)\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u7ed3\u679c\u200b\u8bf4\u660e\u200b\uff0c\u200b\u7b2c\u200b 4 \u200b\u4e2a\u200b\u95ee\u7b54\u200b\u4e2d\u200b\uff0c\u200b\u7b2c\u200b 310 \u200b\u4e2a\u200b token \u200b\u6700\u6709\u200b\u53ef\u80fd\u200b\u662f\u200b start</p> Python<pre><code>torch.argmax(outputs.start_logits, dim=1)\n</code></pre> Text Only<pre><code>tensor([429, 343,  23, 310,   9, 323, 342,  12, 230, 315, 217,  47, 301,  39,\n        491,  30])\n</code></pre> Python<pre><code>start_pred = torch.argmax(outputs.start_logits, dim=1)\nend_pred = torch.argmax(outputs.end_logits, dim=1)\n</code></pre> Python<pre><code>start_pred\n</code></pre> Text Only<pre><code>tensor([429, 343,  23, 310,   9, 323, 342,  12, 230, 315, 217,  47, 301,  39,\n        491,  30])\n</code></pre> Python<pre><code>end_pred\n</code></pre> Text Only<pre><code>tensor([116,  15, 510, 104,   0,   0,  64, 293, 138,  78, 165,   0,   0, 185,\n         13, 217])\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u7528\u6240\u6709\u6570\u636e\u8bad\u7ec3\u6a21\u578b","title":"\u7528\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u8bad\u7ec3\u200b\u6a21\u578b","text":"<p>\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u5173\u952e\u6b65\u9aa4\u200b</p> <ol> <li>\u200b\u5c06\u200b\u68af\u5ea6\u200b\u6e05\u96f6\u200b\u3002</li> <li>\u200b\u5c06\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u5230\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u5f97\u5230\u200b\u8f93\u51fa\u200b\u3002</li> <li>\u200b\u5c06\u200b loss \u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\uff0c\u200b\u7136\u540e\u200b\u66f4\u65b0\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u3002\u200b\u8fd9\u91cc\u200b\u7684\u200b loss \u200b\u7684\u200b\u8ba1\u7b97\u200b\u903b\u8f91\u200b\u662f\u200b\uff1a\u200b\u5224\u65ad\u200b\u6a21\u578b\u200b\u9884\u6d4b\u200b\u7684\u200b start \u200b\u548c\u200b end \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u662f\u5426\u200b\u4e0e\u200b\u771f\u5b9e\u200b\u7684\u200b start \u200b\u548c\u200b end \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u76f8\u540c\u200b\uff0c\u200b\u82e5\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200b loss \u200b\u4e3a\u200b 0\uff0c\u200b\u5426\u5219\u200b loss \u200b\u4e3a\u200b 1\u3002\u200b\u8fd9\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u591a\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6253\u5370\u200b\u51fa\u200b\u5206\u7c7b\u200b\u7684\u200b accuracy\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\u90fd\u200b\u88ab\u200b\u9884\u6d4b\u200b\u6b63\u786e\u200b\u4e86\u200b\u3002</li> <li>\u200b\u5c06\u200b loss \u200b\u503c\u200b\u8fdb\u884c\u200b\u7d2f\u52a0\u200b\u3002</li> </ol> <p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b <code>tqdm</code> \u200b\u6765\u200b\u663e\u793a\u200b\u8bad\u7ec3\u200b\u7684\u200b\u8fdb\u5ea6\u200b\uff0c\u200b\u5e76\u200b\u52a8\u6001\u200b\u5730\u200b\u663e\u793a\u200b loss \u200b\u548c\u200b accuracy \u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u6211\u200b\u5728\u200b Kaggle\u3001Google Colab\u3001\u200b\u8d8b\u52a8\u4e91\u200b\u548c\u200b\u672c\u5730\u200b\u7684\u200b Macbook Pro M1 Pro \u200b\u56db\u53f0\u200b\u673a\u5668\u200b\u4e0a\u200b\u5206\u522b\u200b\u8fdb\u884c\u200b\u4e86\u200b\u8bad\u7ec3\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u5355\u4e2a\u200b Epoch\uff1a</p> <ol> <li>\u200b\u4ed8\u8d39\u200b\u4f7f\u7528\u200b\u7684\u200b\u8d8b\u52a8\u4e91\u200b\u4f7f\u7528\u200b 2 \u200b\u4e2a\u200b GPU \u200b\u5e76\u884c\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u6548\u7387\u200b\u6700\u9ad8\u200b\uff0c\u200b\u5355\u4e2a\u200b Epoch \u200b\u5171\u200b\u8017\u65f6\u200b 4 \u200b\u5206\u200b 40 \u200b\u79d2\u200b\uff1b</li> </ol> <p></p> <ol> <li>\u200b\u514d\u8d39\u200b\u4f7f\u7528\u200b\u7684\u200b Kaggle \u200b\u8017\u65f6\u200b 9 \u200b\u5206\u949f\u200b\uff0cGoogle Colab \u200b\u8017\u65f6\u200b 17 \u200b\u5206\u949f\u200b\uff1b</li> </ol> <p></p> <p></p> <ol> <li>\u200b\u5728\u200b Macbook Pro M1 Pro \u200b\u4e0a\u200b\u8fd0\u884c\u200b\u6548\u7387\u200b\u6700\u4f4e\u200b\uff0c\u200b\u5373\u4f7f\u200b\u4f7f\u7528\u200b\u4e86\u200b GPU\uff0c\u200b\u5355\u4e2a\u200b Epoch \u200b\u4ecd\u200b\u9884\u8ba1\u200b\u8017\u65f6\u200b 3 \u200b\u5c0f\u65f6\u200b\u3002</li> </ol> <p></p> Python<pre><code># if fp16_training:\n#     model, optim, train_loader = accelerator.prepare(model, optim, train_loader)\nmodel.train()\nfor epoch in range(3):\nloss_sum = 0.0\nacc_start_sum = 0.0\nacc_end_sum = 0.0\npbar = tqdm(train_loader, desc=f\"Epoch {epoch}\")\nfor batch_idx, batch in enumerate(pbar):\noptim.zero_grad()\ninput_ids = batch[\"input_ids\"]\nattention_mask = batch[\"attention_mask\"]\nstart_positions = batch[\"start_positions\"]\nend_positions = batch[\"end_positions\"]\noutputs = model(\ninput_ids,\nattention_mask=attention_mask,\nstart_positions=start_positions,\nend_positions=end_positions,\n)\n# \u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u7531\u4e8e\u200b\u635f\u5931\u200b\u503c\u200b\u662f\u200b\u5728\u200b\u591a\u4e2a\u200b GPU \u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f97\u5230\u200b\u7684\u200b `loss.out` \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5411\u91cf\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b .mean() \u200b\u5bf9\u200b\u591a\u5757\u200b GPU \u200b\u4e0a\u200b\u7684\u200b loss \u200b\u503c\u6c42\u200b\u5747\u503c\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\nloss = outputs.loss.mean()\n# if fp16_training:\n#     accelerator.backward(loss)\n# else:\nloss.backward()\noptim.step()\nloss_sum += loss.item()\n### START CODE HERE ###\n# Obtain answer by choosing the most probable start position / end position\n# Using `torch.argmax` and its `dim` parameter to extract preditions for start position and end position.\nstart_pred = torch.argmax(outputs.start_logits, dim=1)\nend_pred = torch.argmax(outputs.end_logits, dim=1)\n# calculate accuracy for start and end positions. eg., using start_pred and start_positions to calculate acc_start.\nacc_start = (start_pred == start_positions).float().mean()\nacc_end = (end_pred == end_positions).float().mean()\n### END CODE HERE ###\nacc_start_sum += acc_start\nacc_end_sum += acc_end\n# Update progress bar\npostfix = {\n\"loss\": f\"{loss_sum/(batch_idx+1):.4f}\",\n\"acc_start\": f\"{acc_start_sum/(batch_idx+1):.4f}\",\n\"acc_end\": f\"{acc_end_sum/(batch_idx+1):.4f}\",\n}\n# Add batch accuracy to progress bar\nbatch_desc = f\"Epoch {epoch}, train loss: {postfix['loss']}\"\npbar.set_postfix_str(\nf\"{batch_desc}, acc start: {postfix['acc_start']}, acc end: {postfix['acc_end']}\"\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5c06\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u4fdd\u5b58\u5230\u672c\u5730","title":"\u5c06\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6a21\u578b\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730","text":"<p>\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u5341\u5206\u200b\u8017\u65f6\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u5c06\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6a21\u578b\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u540e\u7eed\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5355\u200b GPU \u200b\u548c\u200b\u4f7f\u7528\u200b\u591a\u200b GPU \u200b\u8bad\u7ec3\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u7684\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u3002</p> <ul> <li>\u200b\u5bf9\u4e8e\u200b\u5355\u200b GPU \u200b\u8bad\u7ec3\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u76f4\u63a5\u200b\u7528\u200b <code>.save_pretrained()</code> \u200b\u65b9\u6cd5\u200b\u4fdd\u5b58\u200b\u5373\u53ef\u200b\uff1b</li> <li>\u200b\u5bf9\u4e8e\u200b\u591a\u200b GPU \u200b\u8bad\u7ec3\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u7528\u200b <code>.module</code> \u200b\u5c5e\u6027\u200b\u53d6\u51fa\u200b\u6a21\u578b\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u7528\u200b <code>.save_pretrained()</code> \u200b\u65b9\u6cd5\u200b\u4fdd\u5b58\u200b\u3002</li> </ul> Python<pre><code># \u200b\u5bf9\u4e8e\u200b\u5355\u200b GPU \u200b\u8bad\u7ec3\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u76f4\u63a5\u200b\u7528\u200b .save_pretrained()\n# model.save_pretrained(\"./fengchao-bert-qa\", from_pt=True)\n# \u200b\u5bf9\u4e8e\u200b\u591a\u200b GPU \u200b\u8bad\u7ec3\u200b\u5f97\u5230\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u8981\u200b\u52a0\u4e0a\u200b .module\nmodel.module.save_pretrained(\"./fengchao-bert-qa\", from_pt=True)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u8bfb\u53d6\u672c\u5730\u8bad\u7ec3\u597d\u7684\u6a21\u578b","title":"\u8bfb\u53d6\u200b\u672c\u5730\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u6a21\u578b","text":"Python<pre><code>model = BertForQuestionAnswering.from_pretrained(\"./fengchao-bert-qa\").to(device)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5728\u65b0\u7684\u6570\u636e\u96c6\u4e0a\u8fdb\u884c\u9884\u6d4b\u6700\u6fc0\u52a8\u4eba\u5fc3\u7684\u90e8\u5206","title":"\u5728\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\uff08\u200b\u6700\u200b\u6fc0\u52a8\u4eba\u5fc3\u200b\u7684\u200b\u90e8\u5206\u200b\uff09","text":"Python<pre><code># \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b predict \u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u63a5\u6536\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b doc \u200b\u548c\u200b query\ndef predict(doc, query):\n# \u200b\u8f93\u51fa\u200b\u201c\u200b\u6bb5\u843d\u200b\uff1a\u201d\u200b\u548c\u200b  doc \u200b\u7684\u200b\u5185\u5bb9\u200b\nprint(\"\u200b\u6bb5\u843d\u200b\uff1a\", doc)\n# \u200b\u8f93\u51fa\u200b\u201c\u200b\u63d0\u95ee\u200b\uff1a\u201d\u200b\u548c\u200b query \u200b\u7684\u200b\u5185\u5bb9\u200b\nprint(\"\u200b\u63d0\u95ee\u200b\uff1a\", query)\n# \u200b\u5c06\u200b doc \u200b\u548c\u200b query \u200b\u4f20\u9012\u200b\u7ed9\u200b tokenizer \u200b\u51fd\u6570\u200b\uff0c\u200b\u5c06\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u8d4b\u503c\u200b\u7ed9\u200b item\nitem = tokenizer(\n[doc, query], max_length=512, return_tensors=\"pt\", truncation=True, padding=True\n)\n# \u200b\u5173\u95ed\u200b torch \u200b\u7684\u200b\u68af\u5ea6\u200b\u8ba1\u7b97\u200b\nwith torch.no_grad():\n# \u200b\u5c06\u200b input_ids \u200b\u548c\u200b attention_mask \u200b\u4f20\u9012\u200b\u7ed9\u200b model\uff0c\u200b\u5c06\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u8d4b\u503c\u200b\u7ed9\u200b outputs\ninput_ids = item[\"input_ids\"].to(device).reshape(1, -1)\nattention_mask = item[\"attention_mask\"].to(device).reshape(1, -1)\noutputs = model(input_ids[:, :512], attention_mask[:, :512])\n### START CODE HERE ###\n# \u200b\u4f7f\u7528\u200b `torch.argmax` \u200b\u548c\u200b\u5b83\u200b\u7684\u200b `dim` \u200b\u53c2\u6570\u200b\u6765\u200b\u63d0\u53d6\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\nstart_pred = torch.argmax(outputs.start_logits, dim=1)\nend_pred = torch.argmax(outputs.end_logits, dim=1)\n### END CODE HERE ###\n# \u200b\u5c06\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u8f6c\u4e3a\u200b\u5b57\u7b26\u200b\u7ea7\u522b\u200b\ntry:\nstart_pred = item.token_to_chars(0, start_pred)\nend_pred = item.token_to_chars(0, end_pred)\nexcept:\n# \u200b\u5982\u679c\u200b\u51fa\u73b0\u5f02\u5e38\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\u201c\u200b\u65e0\u6cd5\u200b\u627e\u5230\u200b\u7b54\u6848\u200b\u201d\nreturn \"\u200b\u65e0\u6cd5\u200b\u627e\u5230\u200b\u7b54\u6848\u200b\"\n# \u200b\u5224\u65ad\u200b\u7ed3\u679c\u200b\u662f\u5426\u200b\u6709\u6548\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u6548\u200b\u5219\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\nif start_pred.start &gt; end_pred.end:\n# \u200b\u5982\u679c\u200b\u9884\u6d4b\u200b\u7684\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b\u5927\u4e8e\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\u201c\u200b\u65e0\u6cd5\u200b\u627e\u5230\u200b\u7b54\u6848\u200b\u201d\nreturn \"\u200b\u65e0\u6cd5\u200b\u627e\u5230\u200b\u7b54\u6848\u200b\"\nelse:\n# \u200b\u5982\u679c\u200b\u9884\u6d4b\u200b\u7684\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b\u5c0f\u4e8e\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b\u9884\u6d4b\u200b\u7684\u200b\u7b54\u6848\u200b\nreturn doc[start_pred.start : end_pred.end]\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5728-dev-\u6570\u636e\u4e0a\u8fdb\u884c\u68c0\u9a8c","title":"\u5728\u200b dev \u200b\u6570\u636e\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u68c0\u9a8c\u200b\uff1a","text":"Python<pre><code>model.eval()\npredict(\ndev[\"data\"][100][\"paragraphs\"][0][\"context\"],\ndev[\"data\"][100][\"paragraphs\"][0][\"qas\"][0][\"question\"],\n)\n</code></pre> Text Only<pre><code>\u200b\u6bb5\u843d\u200b\uff1a \u200b\u5c91\u6717\u5929\u200b\uff08\uff09\uff0c\u200b\u7b14\u540d\u200b\u6717\u5929\u200b\u3001\u200b\u970d\u200b\u60ca\u89c9\u200b\u3002\u200b\u9999\u6e2f\u200b\u4f5c\u5bb6\u200b\u3001\u200b\u5f71\u8bc4\u4eba\u200b\u3001\u200b\u6587\u5316\u200b\u6d3b\u52a8\u200b\u7b56\u5212\u200b\u3001\u200b\u5927\u5b66\u200b\u517c\u804c\u200b\u8bb2\u5e08\u200b\u3002\u200b\u9999\u6e2f\u200b\u65b0\u4e9a\u200b\u7814\u7a76\u6240\u200b\u7855\u58eb\u200b\uff0c\u200b\u5e08\u4ece\u200b\u725f\u5b97\u4e09\u200b\uff0c\u200b\u7236\u4eb2\u200b\u4e3a\u200b\u9999\u6e2f\u200b\u4e13\u680f\u4f5c\u5bb6\u200b\u6606\u5357\u200b\u3002\u200b\u66fe\u200b\u5728\u200b\u9999\u6e2f\u200b\u591a\u5bb6\u200b\u62a5\u793e\u200b\u4ece\u4e8b\u200b\u7e59\u200b\u8bd1\u200b\u3001\u200b\u7f16\u8f91\u200b\u3001\u200b\u91c7\u8bbf\u200b\u5de5\u4f5c\u200b\u30021995 \u200b\u5e74\u200b\u52a0\u5165\u200b\u9999\u6e2f\u7535\u5f71\u200b\u8bc4\u8bba\u200b\u5b66\u4f1a\u200b\uff0c\u200b\u5e76\u200b\u4e8e\u200b 2003-2007 \u200b\u5e74\u200b\u51fa\u4efb\u200b\u8be5\u4f1a\u200b\u4f1a\u957f\u200b\uff0c2016 \u200b\u5e74\u200b\u9000\u51fa\u200b\u30021995 \u200b\u5e74\u200b\u53c2\u4e0e\u200b\u521b\u7acb\u200b\u65b0\u7814\u200b\u54f2\u5b66\u200b\u4f1a\u200b\uff0c\u200b\u540e\u200b\u6613\u540d\u200b\u9999\u6e2f\u200b\u4eba\u6587\u200b\u54f2\u5b66\u200b\u4f1a\u200b\uff0c\u200b\u518d\u200b\u6613\u540d\u200b\u9999\u6e2f\u200b\u4eba\u200b\u6587\u5b66\u200b\u4f1a\u200b\u30021998 \u200b\u5e74\u200b\u52a0\u5165\u200b\u6811\u5b81\u200b\uff0e\u200b\u73b0\u5728\u200b\u5f0f\u200b\u5355\u4f4d\u200b\uff0c\u200b\u51fa\u4efb\u200b\u8be5\u200b\u5267\u56e2\u200b\u8463\u4e8b\u200b\u53ca\u200b\u7f16\u5267\u200b\u30022003 \u200b\u5e74\u200b\u62c5\u4efb\u200b\u725b\u68da\u200b\u4e66\u5c55\u200b\uff082003-6\uff09\u200b\u7edf\u7b79\u200b\uff0c\u200b\u534f\u52a9\u200b\u5f00\u62d3\u200b\u4e3b\u6d41\u200b\u4ee5\u5916\u200b\u7684\u200b\u4e66\u5c55\u200b\u6587\u5316\u200b\uff08\u200b\u725b\u68da\u200b\u4e66\u5c55\u200b\u7cbe\u795e\u200b\u540e\u200b\u4e3a\u200b\u4e5d\u9f99\u57ce\u200b\u4e66\u8282\u200b\u7ee7\u627f\u200b\uff09\u30022004 \u200b\u5e74\u200b 6 \u200b\u6708\u200b\u81f3\u200b 2011 \u200b\u5e74\u200b\u52a0\u5165\u200b\u5546\u4e1a\u200b\u7535\u53f0\u200b\u5149\u660e\u9876\u200b\uff0c\u200b\u62c5\u4efb\u200b\u5609\u5bbe\u200b\u4e3b\u6301\u200b\u30022004 \u200b\u5e74\u200b\u81f3\u200b 2014 \u200b\u5e74\u4e8e\u200b\u9999\u6e2f\u4e2d\u6587\u5927\u5b66\u200b\u65b0\u95fb\u200b\u4e0e\u200b\u4f20\u64ad\u5b66\u9662\u200b\u517c\u804c\u200b\u6559\u6388\u200b\u5a92\u4f53\u200b\u521b\u610f\u200b\u5199\u4f5c\u200b\u30022012 \u200b\u5e74\u59cb\u200b\u517c\u4efb\u200b\u9999\u6e2f\u6d78\u4f1a\u5927\u5b66\u200b\u7535\u5f71\u5b66\u9662\u200b\u8bb2\u5e08\u200b\uff0c\u200b\u6559\u6388\u200b\u6587\u5b66\u200b\u4e0e\u200b\u5f71\u89c6\u200b\u76f8\u5173\u200b\u8bfe\u7a0b\u200b\u3002\n\u200b\u63d0\u95ee\u200b\uff1a \u200b\u5c91\u6717\u5929\u200b\u7b14\u540d\u200b\u53eb\u200b\u4ec0\u4e48\u200b\uff1f\n\n'\u200b\u6717\u5929\u200b\u3001\u200b\u970d\u200b\u60ca\u89c9\u200b'\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u81ea\u5b9a\u4e49\u6570\u636e\u8fdb\u884c\u68c0\u9a8c","title":"\u81ea\u200b\u5b9a\u4e49\u6570\u636e\u200b\u8fdb\u884c\u200b\u68c0\u9a8c","text":"<p>\u200b\u7528\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u6548\u679c\u200b\u57fa\u672c\u200b\u80fd\u200b\u8fbe\u5230\u200b\u201c\u200b\u6b63\u786e\u200b\u56de\u7b54\u200b\u5c0f\u5b66\u200b\u4e09\u5e74\u7ea7\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u9605\u8bfb\u200b\u7406\u89e3\u200b\u9898\u200b\u201d\u200b\u7684\u200b\u6c34\u5e73\u200b\uff0c\u200b\u5373\u200b\u7ed9\u5b9a\u200b\u539f\u6587\u200b\u540e\u200b\uff0c\u200b\u5728\u200b\u539f\u6587\u4e2d\u200b\u627e\u51fa\u200b\u7b54\u6848\u200b\u3002</p> Python<pre><code>doc = \"\u200b\u52d2\u5e03\u6717\u200b\u00b7\u200b\u8a79\u59c6\u65af\u200b\u662f\u200b\u4e00\u4f4d\u200b\u7f8e\u56fd\u200b\u804c\u4e1a\u200b\u7bee\u7403\u200b\u8fd0\u52a8\u5458\u200b\uff0c\u200b\u73b0\u200b\u6548\u529b\u200b\u4e8e\u200b\u6d1b\u6749\u77f6\u200b\u6e56\u4eba\u961f\u200b\u3002\u200b\u4ed6\u200b\u8eab\u9ad8\u200b 203 \u200b\u5398\u7c73\u200b\uff0c\u200b\u4f53\u91cd\u200b 113 \u200b\u516c\u65a4\u200b\uff0c\u200b\u53f8\u804c\u200b\u5c0f\u200b\u524d\u950b\u200b/\u200b\u5927\u200b\u524d\u950b\u200b\u3002\u200b\u8a79\u59c6\u65af\u200b\u51fa\u200b\u751f\u4e8e\u200b\u4fc4\u4ea5\u4fc4\u5dde\u200b\u963f\u514b\u200b\u4f26\u5e02\u200b\uff0c\u200b\u9ad8\u4e2d\u200b\u65f6\u671f\u200b\u4fbf\u200b\u5c55\u73b0\u51fa\u200b\u4e86\u200b\u60ca\u4eba\u200b\u7684\u200b\u7bee\u7403\u200b\u5929\u8d4b\u200b\uff0c\u200b\u6210\u4e3a\u200b\u9ad8\u4e2d\u200b\u65f6\u671f\u200b\u6700\u53d7\u200b\u77a9\u76ee\u200b\u7684\u200b\u7bee\u7403\u200b\u9009\u624b\u200b\u4e4b\u4e00\u200b\u30022003 \u200b\u5e74\u200b\uff0c\u200b\u4ed6\u200b\u4ee5\u200b\u72b6\u5143\u79c0\u200b\u7684\u200b\u8eab\u4efd\u200b\u8fdb\u5165\u200b NBA \u200b\u5e76\u200b\u52a0\u5165\u200b\u514b\u5229\u592b\u5170\u200b\u9a91\u58eb\u961f\u200b\u3002\u200b\u5728\u200b\u9a91\u58eb\u961f\u200b\u671f\u95f4\u200b\uff0c\u200b\u8a79\u59c6\u65af\u200b\u591a\u6b21\u200b\u5e26\u9886\u200b\u7403\u961f\u200b\u8fdb\u5165\u200b\u5b63\u540e\u8d5b\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b 2016 \u200b\u5e74\u200b\u5e26\u9886\u200b\u7403\u961f\u200b\u83b7\u5f97\u200b\u603b\u51a0\u519b\u200b\u5934\u8854\u200b\u3002\u200b\u6b64\u540e\u200b\uff0c\u200b\u4ed6\u200b\u5148\u540e\u200b\u6548\u529b\u200b\u4e8e\u200b\u8fc8\u963f\u5bc6\u200b\u70ed\u706b\u961f\u200b\u548c\u200b\u514b\u5229\u592b\u5170\u200b\u9a91\u58eb\u961f\u200b\uff0c\u200b\u5747\u200b\u53d6\u5f97\u200b\u4e86\u200b\u663e\u8457\u200b\u7684\u200b\u6210\u7ee9\u200b\u3002\u200b\u8a79\u59c6\u65af\u200b\u662f\u200b\u4e00\u4e2a\u200b\u591a\u9762\u624b\u200b\u7403\u5458\u200b\uff0c\u200b\u64c5\u957f\u200b\u5f97\u5206\u200b\u3001\u200b\u52a9\u653b\u200b\u3001\u200b\u7bee\u677f\u200b\u7b49\u200b\u591a\u9879\u200b\u6280\u672f\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u573a\u4e0a\u200b\u8868\u73b0\u200b\u51fa\u200b\u5f88\u200b\u9ad8\u200b\u7684\u200b\u7bee\u7403\u200b\u667a\u5546\u200b\u3002\u200b\u4ed6\u200b\u4e5f\u200b\u662f\u200b\u4e00\u540d\u200b\u5168\u65b9\u4f4d\u200b\u7684\u200b\u7403\u5458\u200b\uff0c\u200b\u573a\u4e0a\u200b\u8868\u73b0\u200b\u51fa\u6781\u5f3a\u200b\u7684\u200b\u5a01\u6151\u529b\u200b\uff0c\u200b\u5e38\u5e38\u200b\u6210\u4e3a\u200b\u5bf9\u624b\u200b\u773c\u4e2d\u200b\u7684\u200b\u96be\u9898\u200b\u3002\u200b\u8a79\u59c6\u65af\u200b\u4e0d\u4ec5\u200b\u5728\u200b NBA \u200b\u8d5b\u573a\u200b\u4e0a\u200b\u6210\u7ee9\u6590\u7136\u200b\uff0c\u200b\u4ed6\u200b\u4e5f\u200b\u662f\u200b\u4f53\u575b\u200b\u5de8\u661f\u200b\uff0c\u200b\u88ab\u8a89\u4e3a\u200b\u7bee\u7403\u200b\u754c\u200b\u6700\u200b\u4f1f\u5927\u200b\u7684\u200b\u7403\u5458\u200b\u4e4b\u4e00\u200b\u3002\"\n</code></pre> Python<pre><code>predict(doc=doc, query=\"\u200b\u8a79\u59c6\u65af\u200b\u5728\u200b\u54ea\u4e2a\u200b\u7403\u961f\u200b\uff1f\")\n</code></pre> Text Only<pre><code>'\u200b\u6d1b\u6749\u77f6\u200b\u6e56\u4eba\u961f\u200b'\n</code></pre> Python<pre><code>predict(doc=doc, query=\"\u200b\u8a79\u59c6\u65af\u200b\u51fa\u200b\u751f\u4e8e\u200b\u54ea\u4e2a\u200b\u57ce\u5e02\u200b\uff1f\")\n</code></pre> Text Only<pre><code>'\u200b\u4fc4\u4ea5\u4fc4\u5dde\u200b\u963f\u514b\u200b\u4f26\u5e02\u200b'\n</code></pre> Python<pre><code>predict(doc=doc, query=\"\u200b\u8a79\u59c6\u65af\u200b\u662f\u200b\u54ea\u4e00\u5e74\u200b\u52a0\u5165\u200b NBA \u200b\u7684\u200b\uff1f\")\n</code></pre> Text Only<pre><code>'2003 \u200b\u5e74\u200b'\n</code></pre> Python<pre><code>predict(doc=doc, query=\"\u200b\u8a79\u59c6\u65af\u200b\u6709\u200b\u591a\u200b\u9ad8\u200b\uff1f\")\n</code></pre> Text Only<pre><code>'203 \u200b\u5398\u7c73\u200b'\n</code></pre> Python<pre><code>predict(doc=doc, query=\"\u200b\u8a79\u59c6\u65af\u200b\u5728\u200b\u54ea\u4e00\u5e74\u200b\u593a\u51a0\u200b\uff1f\")\n</code></pre> Text Only<pre><code>'2016 \u200b\u5e74\u200b'\n</code></pre> Python<pre><code>predict(doc=doc, query=\"\u200b\u8fd9\u6bb5\u8bdd\u200b\u7684\u200b\u4e3b\u89d2\u200b\u53eb\u200b\u4ec0\u4e48\u200b\u540d\u5b57\u200b\uff1f\")\n</code></pre> Text Only<pre><code>'\u200b\u52d2\u5e03\u6717\u200b\u00b7\u200b\u8a79\u59c6\u65af\u200b'\n</code></pre> Python<pre><code>predict(\ndoc='\u200b\u5bf9\u4e8e\u200b\u671f\u8d27\u200b\u8d44\u4ea7\u200b\uff0c\u200b\u6295\u8d44\u8005\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u505a\u200b\u591a\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u505a\u7a7a\u200b\uff0c\u200b\u56e0\u6b64\u200b\"\u200b\u4e0a\u6da8\u200b\u8d8b\u52bf\u200b\"\u200b\u548c\u200b\"\u200b\u4e0b\u8dcc\u200b\u8d8b\u52bf\u200b\"\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u4ea4\u6613\u200b\u4fe1\u53f7\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u56de\u64a4\u200b\u548c\u200b\u5e73\u5747\u200b\u6700\u5927\u200b\u53cd\u5411\u200b\u56de\u64a4\u200b\u4e2d\u8f83\u200b\u5c0f\u200b\u7684\u200b\u90a3\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u3002\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u6307\u6807\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u5219\u200b\u4e0a\u6da8\u200b\u6216\u8005\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\u8d8a\u5f3a\u200b\u3002\u200b\u7136\u540e\u200b\u6211\u4eec\u200b\u518d\u200b\u6839\u636e\u200b\u5177\u4f53\u200b\u662f\u200b\u4e0a\u6da8\u200b\u8fd8\u662f\u200b\u4e0b\u8dcc\u200b\u7684\u200b\u8d8b\u52bf\u200b\uff0c\u200b\u5373\u53ef\u200b\u5224\u65ad\u200b\u4ea4\u6613\u200b\u65b9\u5411\u200b\u3002',\nquery=\"\u200b\u4ec0\u4e48\u200b\u8d44\u4ea7\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u505a\u200b\u591a\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u505a\u7a7a\u200b\uff1f\",\n)\n</code></pre> Text Only<pre><code>'\u200b\u671f\u8d27\u200b\u8d44\u4ea7\u200b'\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u5f00\u653e\u5f0f\u95ee\u9898","title":"\u5f00\u653e\u5f0f\u200b\u95ee\u9898","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#bert-\u56fa\u5b9a\u957f\u5ea6\u7684\u89e3\u51b3\u65b9\u6848","title":"Bert \u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848","text":"<p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e86\u200b 512 \u200b\u957f\u5ea6\u200b\u7684\u200b Bert\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u4e2d\u200b\uff0c\u200b\u8f93\u5165\u200b\u957f\u5ea6\u200b\u53ef\u80fd\u200b\u5927\u4e8e\u200b 512\uff0c\u200b\u4f60\u200b\u60f3\u200b\u600e\u4e48\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u8bf7\u200b\u63cf\u8ff0\u200b\u4f60\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5728\u200b\u8bad\u7ec3\u200b\u548c\u200b\u9884\u6d4b\u200b\u65f6\u200b\u5206\u522b\u200b\u91c7\u53d6\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\uff08\u200b\u5047\u8bbe\u200b\u95ee\u9898\u200b\u7684\u200b\u957f\u5ea6\u200b\u90fd\u200b\u6ee1\u8db3\u200b\u5c0f\u4e8e\u200b 512token\uff0c\u200b\u6bb5\u843d\u200b\u7684\u200b\u957f\u5ea6\u200b\u53ef\u80fd\u200b\u5927\u4e8e\u200b 512token\uff0c\u200b\u4ee5\u200b QA \u200b\u95ee\u9898\u200b\u4e3a\u4f8b\u200b\uff09</p> <ol> <li> <p>\u200b\u5728\u200b\u8bad\u7ec3\u200b\u9636\u6bb5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6cd5\u200b\u751f\u6210\u200b\u591a\u4e2a\u200b\u8bad\u7ec3\u6837\u672c\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff1a</p> </li> <li> <p>\u200b\u9996\u5148\u200b\u5c06\u200b\u95ee\u9898\u200b\u653e\u5728\u200b\u672b\u5c3e\u200b\uff0c\u200b\u5b83\u200b\u5360\u636e\u200b\u7684\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b 512\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u6bb5\u843d\u200b\u548c\u200b\u95ee\u9898\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e4b\u200b\u548c\u200b\u5c0f\u4e8e\u200b 512\uff0c\u200b\u5219\u200b\u7528\u200b 0 \u200b\u5728\u200b\u672b\u5c3e\u200b\u8fdb\u884c\u200b padding \u200b\u586b\u5145\u200b\u540e\u200b\u5f97\u5230\u200b\u957f\u5ea6\u200b\u4e3a\u200b 512 \u200b\u7684\u200b \u200b\u6837\u672c\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u6bb5\u843d\u200b\u957f\u5ea6\u200b\u5927\u4e8e\u200b 512\uff0c\u200b\u5219\u200b\u5c06\u200b\u6bb5\u843d\u200b\u6ed1\u52a8\u200b\u5207\u7247\u200b\u540e\u200b\u653e\u5728\u200b\u5f00\u5934\u200b\u3002\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7684\u200b\u5927\u5c0f\u200b\u5e94\u200b\u4f7f\u5f97\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u90fd\u200b\u662f\u200b\u4ee5\u200b 512 \u200b\u4e3a\u200b\u957f\u5ea6\u200b\u7684\u200b\u3002\u200b\u6700\u540e\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6837\u672c\u200b\u8f93\u5165\u200b\u5230\u200b Bert \u200b\u4e2d\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\u3002\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u5c06\u200b\u6bb5\u843d\u200b\u62c6\u5206\u200b\u540e\u200b\uff0c\u200b\u4e0e\u200b\u95ee\u9898\u200b\u5408\u6210\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 512 \u200b\u7684\u200b\u6837\u672c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6bb5\u843d\u200b\u4f1a\u200b\u6709\u200b\u91cd\u53e0\u200b\u90e8\u5206\u200b\u3002</p> </li> <li> <p>\u200b\u5728\u200b\u9884\u6d4b\u200b\u9636\u6bb5\u200b\uff1a</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u6bb5\u843d\u200b\u548c\u200b\u95ee\u9898\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e4b\u200b\u548c\u200b\u5c0f\u4e8e\u200b 512\uff0c\u200b\u5219\u200b\u7528\u200b 0 \u200b\u5728\u200b\u672b\u5c3e\u200b\u8fdb\u884c\u200b padding \u200b\u586b\u5145\u200b\u540e\u200b\u5f97\u5230\u200b\u957f\u5ea6\u200b\u4e3a\u200b 512 \u200b\u7684\u200b \u200b\u6837\u672c\u200b\uff0c\u200b\u518d\u200b\u8f93\u5165\u200b\u5230\u200b Bert \u200b\u4e2d\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u6bb5\u843d\u200b\u548c\u200b\u95ee\u9898\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e4b\u200b\u548c\u200b\u5c0f\u4e8e\u200b 512\uff0c\u200b\u540c\u6837\u200b\u4f7f\u7528\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6cd5\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u591a\u4e2a\u200b\u7528\u4e8e\u200b\u9884\u6d4b\u200b\u7684\u200b\u6837\u672c\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b n \u200b\u4e2a\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5f97\u5230\u200b n \u200b\u4e2a\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\uff1a\u200b\u5bf9\u4e8e\u200b\u622a\u200b\u53d6\u51fa\u200b\u7684\u200b 512 \u200b\u4e2a\u200b token \u200b\u7684\u200b\u6837\u672c\u200b\uff0canswer \u200b\u7684\u200b\u6700\u200b\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u7ed3\u675f\u200b\u4f4d\u7f6e\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002\u200b\u6211\u4eec\u200b\u518d\u200b\u628a\u200b\u8fd9\u200b n \u200b\u4e2a\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u4e2d\u200b logit \u200b\u6700\u5927\u200b\u7684\u200b\u90a3\u4e2a\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u8fd4\u56de\u200b\u5373\u53ef\u200b\u3002</p> </li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u9884\u6d4b-start_pred-\u548c-end_pred-\u7684\u4f4d\u7f6e\u4e0d\u5408\u7406\u7684\u89e3\u51b3\u65b9\u6848","title":"\u9884\u6d4b\u200b start_pred \u200b\u548c\u200b end_pred \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e0d\u5408\u7406\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848","text":"<p>\u200b\u5728\u200b\u8f93\u51fa\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5206\u522b\u200b\u5bf9\u200b start_pred \u200b\u548c\u200b end_pred \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u8fdb\u884c\u200b\u9884\u4f30\u200b\uff0c\u200b\u5982\u679c\u200b end_pred&lt; start_pred\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5982\u4f55\u200b\u89e3\u51b3\u200b\u8fd9\u6837\u200b\u7684\u200b\u95ee\u9898\u200b\uff1f</p> <ol> <li>\u200b\u53ef\u4ee5\u200b\u5c06\u200b end_pred \u200b\u4e0e\u200b start_pred \u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u82e5\u200b end_pred&lt; start_pred\uff0c\u200b\u5219\u200b\u5c06\u200b end_pred \u200b\u7684\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b start_pred \u200b\u7684\u200b\u503c\u200b\u3002</li> <li>\u200b\u5f3a\u5236\u200b end_pred&gt;= start_pred\u3002\u200b\u5f53\u200b end_pred&lt; start_pred \u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u5728\u200b\u5927\u4e8e\u200b start_pred \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e2d\u200b\u627e\u5230\u200b logit \u200b\u6700\u5927\u200b\u7684\u200b\u7d22\u5f15\u200b\u4f5c\u4e3a\u200b end_pred\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#bert-\u7684\u5206\u8bcd\u65b9\u5f0f","title":"Bert \u200b\u7684\u200b\u5206\u8bcd\u200b\u65b9\u5f0f","text":"<p>Bert \u200b\u7684\u200b\u5206\u8bcd\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f\u200b\u5728\u200b\u4e2d\u6587\u200b\u4e2d\u200b\uff0c\u200b\u4f60\u200b\u89c9\u5f97\u200b\u8fd9\u6837\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f1a\u200b\u5e26\u6765\u200b\u4ec0\u4e48\u200b\u95ee\u9898\u200b\uff1f\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u5206\u8bcd\u200b\u65b9\u5f0f\u200b\u9002\u5408\u200b\u4e2d\u6587\u200b\uff1f\u200b\u5728\u200b\u4e2d\u6587\u200b\u7684\u200b\u6587\u672c\u200b\u4e0a\u200b\uff0c\u200b\u9664\u4e86\u200b\u6539\u53d8\u200b\u5206\u8bcd\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u8fd8\u6709\u200b\u54ea\u4e9b\u200b\u65b9\u5f0f\u200b\u53ef\u4ee5\u200b\u63d0\u5347\u200b\u6a21\u578b\u200b\u6548\u679c\u200b\uff1f</p> <p>\u200b\u9605\u8bfb\u200b\u8d44\u6599\u200b\uff1ahttps://github.com/ymcui/Chinese-BERT-wwm</p> <p>Bert \u200b\u7684\u200b\u5206\u8bcd\u200b\u65b9\u5f0f\u200b\u662f\u200b WordPiece\uff0c\u200b\u5373\u5c06\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u5206\u89e3\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u5b50\u8bcd\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b50\u8bcd\u200b\u90fd\u200b\u662f\u200b\u4e00\u4e2a\u200b token\u3002\u200b\u4f8b\u5982\u200b\uff0c<code>doing</code> \u200b\u53ef\u4ee5\u200b\u5206\u89e3\u200b\u4e3a\u200b <code>do</code> \u200b\u548c\u200b <code>##ing</code>\uff0c<code>unwanted</code> \u200b\u53ef\u4ee5\u200b\u5206\u89e3\u200b\u4e3a\u200b <code>un</code> \u200b\u548c\u200b <code>##want</code> \u200b\u548c\u200b <code>##ed</code>\u3002</p> <p>\u200b\u4f46\u200b\u5bf9\u4e8e\u200b\u4e2d\u6587\u200b\u6765\u8bf4\u200b\uff0cBERT \u200b\u91c7\u53d6\u200b\u7684\u200b\u662f\u200b\u201c\u200b\u5206\u5b57\u200b\u201d\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u5206\u89e3\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u5b57\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b57\u200b\u90fd\u200b\u662f\u200b\u4e00\u4e2a\u200b token\u3002\u200b\u4f8b\u5982\u200b\uff0c<code>\u200b\u505a\u4f5c\u4e1a\u200b</code> \u200b\u53ef\u4ee5\u200b\u5206\u89e3\u200b\u4e3a\u200b <code>\u200b\u505a\u200b</code> \u200b\u548c\u200b <code>\u200b\u4f5c\u200b</code> \u200b\u548c\u200b <code>\u200b\u4e1a\u200b</code>\u3002</p> <p>\u200b\u62c6\u200b\u5206\u6210\u200b\u5b57\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4e22\u5931\u200b\u67d0\u4e9b\u200b\u6c49\u5b57\u200b\u7ec4\u6210\u200b\u8bcd\u8bed\u200b\u540e\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c[<code>\u200b\u6253\u8f66\u200b</code>] \u200b\u548c\u200b [<code>\u200b\u6253\u200b</code> , <code>\u200b\u8f66\u200b</code>]\uff0c\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u62c6\u5206\u200b\u65b9\u5f0f\u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b\u6709\u200b\u533a\u522b\u200b\u7684\u200b\u3002<code>\u200b\u6253\u8f66\u200b</code> \u200b\u4f5c\u4e3a\u200b\u6574\u4f53\u200b\u65f6\u200b\uff0c\u200b\u901a\u5e38\u200b\u8868\u793a\u200b\u8868\u793a\u200b\u201c\u200b\u5bfb\u627e\u200b\u51fa\u79df\u8f66\u200b\u201d\u3002\u200b\u800c\u200b <code>\u200b\u6253\u200b</code> \u200b\u548c\u200b <code>\u200b\u8f66\u200b</code> \u200b\u5355\u72ec\u200b\u62c6\u5206\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u6ca1\u6709\u200b\u8fd9\u4e2a\u200b\u542b\u4e49\u200b\u4e86\u200b\u3002</p> <p>\u200b\u6211\u200b\u8ba4\u4e3a\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4e2d\u6587\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5e94\u8be5\u200b\u91c7\u53d6\u200b\u201c\u200b\u5206\u8bcd\u200b\u201d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002\u200b\u5728\u200b\u8bed\u6599\u5e93\u200b\u4e2d\u200b\u5f15\u5165\u200b\u5e38\u89c1\u200b\u7684\u200b\u8bcd\u8bed\u200b\uff08\u200b\u4f8b\u5982\u200b\u547d\u540d\u200b\u5b9e\u4f53\u200b\u3001\u200b\u56fa\u5b9a\u200b\u642d\u914d\u200b\u7b49\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u8bcd\u8bed\u200b\u4f5c\u4e3a\u200b token\u3002</p> <p>\u200b\u63d0\u5347\u200b\u6a21\u578b\u200b\u6548\u679c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u53ef\u80fd\u200b\u6709\u200b\uff1a</p> <ol> <li> <p>\u200b\u6269\u5145\u200b\u8bed\u6599\u5e93\u200b\u3002\u200b\u5728\u200b\u8bed\u6599\u5e93\u200b\u4e2d\u200b\u5305\u542b\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u547d\u540d\u200b\u5b9e\u4f53\u200b\u3001\u200b\u56fa\u5b9a\u200b\u642d\u914d\u200b\u7b49\u200b\u3002</p> </li> <li> <p>\u200b\u5f15\u5165\u200b\u9886\u57df\u200b\u7279\u5b9a\u200b\u77e5\u8bc6\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u7279\u5b9a\u200b\u9886\u57df\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c1d\u8bd5\u200b\u4f7f\u7528\u200b\u9886\u57df\u200b\u4e13\u4e1a\u77e5\u8bc6\u200b\u8fdb\u884c\u200b\u6a21\u578b\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u4f8b\u5982\u200b\u533b\u5b66\u200b\u3001\u200b\u6cd5\u5f8b\u200b\u3001\u200b\u91d1\u878d\u200b\u7b49\u200b\u3002</p> </li> <li> <p>\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u3002\u200b\u4f8b\u5982\u200b\u591a\u6b21\u200b\u7ffb\u8bd1\u200b\uff08\u200b\u4e2d\u8bd1\u82f1\u200b\uff0c\u200b\u518d\u200b\u82f1\u8bd1\u4e2d\u200b\uff09\u3001\u200b\u591a\u6b21\u200b\u968f\u673a\u200b\u66ff\u6362\u200b\u3001\u200b\u591a\u6b21\u200b\u968f\u673a\u200b\u63d2\u5165\u200b\u3001\u200b\u591a\u6b21\u200b\u968f\u673a\u200b\u5220\u9664\u200b\u7b49\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u751f\u6210\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u3002</p> </li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/bert-qa/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u200b\u672c\u6587\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u63d0\u4f9b\u200b\u7684\u200b\u539f\u6587\u200b\u548c\u200b\u63d0\u95ee\u200b\uff0c\u200b\u5728\u200b\u539f\u6587\u4e2d\u200b\u627e\u5230\u200b\u6700\u6709\u200b\u53ef\u80fd\u200b\u4f5c\u4e3a\u200b\u7b54\u6848\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u7684\u200b\u667a\u80fd\u200b\u6c34\u5e73\u200b\u5927\u81f4\u200b\u76f8\u5f53\u4e8e\u200b\u5c0f\u5b66\u200b\u4e09\u5e74\u7ea7\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u9605\u8bfb\u200b\u7406\u89e3\u200b\u6c34\u5e73\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u6a21\u578b\u200b\u5e76\u200b\u4e0d\u200b\u50cf\u200b\u90a3\u4e9b\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u4e00\u6837\u200b\u5177\u6709\u200b\u9769\u547d\u6027\u200b\u610f\u4e49\u200b\uff0c\u200b\u4f46\u200b\u6bd5\u7adf\u200b\u662f\u200b\u6211\u200b\u4eb2\u624b\u200b\u8bad\u7ec3\u200b\u51fa\u6765\u200b\u7684\u200b\uff0c\u200b\u5b83\u200b\u8ba9\u200b\u6211\u200b\u5b8c\u6574\u200b\u5730\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4ece\u200b\u6570\u636e\u200b\u9884\u5904\u7406\u200b\u3001\u200b\u6784\u9020\u200b\u6570\u636e\u200b\u96c6\u200b\u3001\u200b\u8bbe\u7f6e\u200b\u8bad\u7ec3\u200b\u76ee\u6807\u200b\u3001\u200b\u4f18\u5316\u200b\u65b9\u5f0f\u200b\u7b49\u200b\u6280\u672f\u7ec6\u8282\u200b\uff0c\u200b\u5728\u200b\u770b\u5230\u200b\u5b83\u200b\u80fd\u200b\u51c6\u786e\u200b\u56de\u7b54\u200b\u6211\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u95ee\u9898\u200b\u65f6\u200b\uff0c\u200b\u6211\u200b\u7684\u200b\u5185\u5fc3\u200b\u8fd8\u662f\u200b\u5f88\u200b\u6709\u200b\u6210\u5c31\u611f\u200b\u7684\u200b\u3002\u200b\u8fd9\u79cd\u200b\u611f\u89c9\u200b\u5c31\u200b\u50cf\u662f\u200b\u81ea\u5df1\u200b\u751f\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5c0f\u5b69\u200b\u4e00\u6837\u200b\uff0c\u200b\u6559\u4ed6\u200b\u6280\u80fd\u200b\u5e76\u200b\u770b\u7740\u200b\u4ed6\u200b\u9010\u6e10\u200b\u5b66\u4f1a\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/qlib/","title":"Qlib \u200b\u4f7f\u7528\u200b\u7b14\u8bb0","text":"<p>\u200b\u8bb0\u5f55\u200b\u4f7f\u7528\u200b Qlib \u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u7ecf\u9a8c\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u4e0b\u8f7d\u6570\u636e\u5230\u672c\u5730","title":"\u4e0b\u8f7d\u200b\u6570\u636e\u200b\u5230\u200b\u672c\u5730","text":"<p>\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u8fdb\u5165\u200b <code>qlib</code> \u200b\u5305\u200b\u6240\u5728\u200b\u7684\u200b\u76ee\u5f55\u200b\uff1a</p> Bash<pre><code>cd /Users/jeremy/miniconda3/lib/python3.8/site-packages/qlib\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u65e5\u9891\u6570\u636e","title":"\u65e5\u9891\u200b\u6570\u636e","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u9996\u6b21\u4e0b\u8f7d","title":"\u9996\u6b21\u200b\u4e0b\u8f7d","text":"<p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://github.com/microsoft/qlib/tree/main/scripts/data_collector/yahoo#get-qlib-databin-file</p> Bash<pre><code>python scripts/get_data.py qlib_data --target_dir ~/.qlib/qlib_data/cn_data --region cn\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u589e\u91cf\u4e0b\u8f7d\u6216\u6307\u5b9a\u4efb\u610f\u65f6\u95f4\u6bb5","title":"\u589e\u91cf\u200b\u4e0b\u8f7d\u200b\uff08\u200b\u6216\u200b\u6307\u5b9a\u200b\u4efb\u610f\u200b\u65f6\u95f4\u6bb5\u200b\uff09","text":"<p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://github.com/microsoft/qlib/tree/main/scripts/data_collector/yahoo#collector-yahoofinance-data-to-qlib</p> Bash<pre><code>python collector.py download_data --source_dir ~/.qlib/stock_data/source/cn_data --start 2020-01-01 --end 2020-12-31 --delay 1 --interval 1d --region CN\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u5206\u949f\u9891\u6570\u636e","title":"\u5206\u949f\u200b\u9891\u200b\u6570\u636e","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u9996\u6b21\u4e0b\u8f7d_1","title":"\u9996\u6b21\u200b\u4e0b\u8f7d","text":"Bash<pre><code>python scripts/get_data.py qlib_data --target_dir ~/.qlib/qlib_data/cn_data_1min --region cn --interval 1min\n</code></pre> <p>\u200b\u4f7f\u7528\u200b https://gitpod.io/ \u200b\u52a0\u901f\u200b\u4e0b\u8f7d\u200b</p> <p>\u200b\u5728\u200b\u56fd\u5185\u200b\u76f4\u63a5\u200b\u4e0b\u8f7d\u200b\u5168\u91cf\u200b\u5206\u949f\u200b\u9891\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0b\u8f7d\u901f\u5ea6\u200b\u5341\u5206\u200b\u611f\u4eba\u200b\uff0c\u200b\u81f3\u5c11\u200b\u9700\u8981\u200b 3 \u200b\u5c0f\u65f6\u200b\u624d\u80fd\u200b\u4e0b\u8f7d\u200b\u5b8c\u200b\u3002</p> <p></p> <p>\u200b\u4f7f\u7528\u200b https://gitpod.io/ \u200b\u7684\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u7b80\u5355\u200b\u5b89\u88c5\u200b <code>qlib</code> \u200b\u540e\u200b\uff0c\u200b\u518d\u200b\u4e0b\u8f7d\u200b\u5206\u949f\u200b\u9891\u200b\u6570\u636e\u200b\uff0c\u200b\u901f\u5ea6\u200b\u975e\u5e38\u200b\u5feb\u200b\uff01\u200b\u5b9e\u6d4b\u200b 1 \u200b\u5206\u591a\u949f\u200b\u5c31\u200b\u5168\u90e8\u200b\u4e0b\u8f7d\u200b\u597d\u200b\u4e86\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u538b\u7f29\u200b\u7684\u200b\u5206\u949f\u200b\u9891\u200b\u6570\u636e\u200b\u4e00\u5171\u200b 1.3 G\uff0c\u200b\u518d\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200b\u5373\u53ef\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u589e\u91cf\u4e0b\u8f7d\u6700\u591a\u4e0b\u8f7d\u6700\u8fd1\u4e00\u4e2a\u6708\u7684\u5206\u949f\u9891\u6570\u636e","title":"\u589e\u91cf\u200b\u4e0b\u8f7d\u200b\uff08\u200b\u6700\u200b\u591a\u200b\u4e0b\u8f7d\u200b\u6700\u8fd1\u200b\u4e00\u4e2a\u6708\u200b\u7684\u200b\u5206\u949f\u200b\u9891\u200b\u6570\u636e\u200b\uff09","text":"Bash<pre><code>python collector.py download_data --source_dir ~/.qlib/stock_data/source/cn_data_1min --delay 1 --interval 1min --region CN\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u5bfc\u5165\u81ea\u5b9a\u4e49\u6570\u636e","title":"\u5bfc\u5165\u200b\u81ea\u200b\u5b9a\u4e49\u6570\u636e","text":"<p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://zhuanlan.zhihu.com/p/554653707</p> Bash<pre><code>python /Users/jeremy/miniconda3/lib/python3.8/site-packages/qlib/scripts/dump_bin.py dump_all --csv_path  /Users/jeremy/Desktop/dump_to_qlib --qlib_dir ~/.qlib/qlib_data/cn_data --include_fields open,high,low,close,volume,amount --date_field_name datetime --freq 1min\n</code></pre>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/qlib/#\u83b7\u53d6\u65e5\u5386\u6570\u636e","title":"\u83b7\u53d6\u200b\u65e5\u5386\u200b\u6570\u636e","text":"Python<pre><code>from qlib.data.data import Cal\nCal.calendar(freq=\"1min\")\n</code></pre> <p>\u200b\u6216\u200b</p> Python<pre><code>from qlib.data import D\nD.calendar(start_time=\"2021-01-01\", end_time=\"2021-2-01\", freq=\"1min\")\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>freq</code> \u200b\u53c2\u6570\u200b\u7528\u200b <code>min</code>\u3001<code>day</code>\u3001<code>5min</code> \u200b\u7b49\u7b49\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/lp-dual/","title":"\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7684\u200b\u5bf9\u5076\u200b\u95ee\u9898","text":"<p>\u200b\u672c\u6587\u200b\u63a8\u5bfc\u200b\u4e86\u200b\u4e00\u822c\u200b\u7684\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7684\u200b\u5bf9\u5076\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u5e76\u200b\u8865\u5145\u200b\u4e86\u200b\u4e2a\u4eba\u200b\u5173\u4e8e\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b\u7684\u200b\u51e0\u4f55\u200b\u7406\u89e3\u200b\u3002</p> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/lp-dual/#\u95ee\u9898","title":"\u95ee\u9898","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/lp-dual/#\u63a8\u5bfc\u8fc7\u7a0b","title":"\u63a8\u5bfc\u200b\u8fc7\u7a0b","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/lp-dual/#\u51e0\u4f55\u7406\u89e3","title":"\u51e0\u4f55\u200b\u7406\u89e3","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/install-gurobi/","title":"\u5b89\u88c5\u200b Gurobi \u200b\u4f18\u5316\u200b\u5668","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b Mac \u200b\u5b89\u88c5\u200b Gurobi \u200b\u4f18\u5316\u200b\u5668\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/install-gurobi/#\u4e0b\u8f7d\u5b89\u88c5\u5305","title":"\u4e0b\u8f7d\u5b89\u88c5\u200b\u5305","text":"<p>\u200b\u5230\u200bhttps://www.gurobi.com/downloads/gurobi-software/\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u5305\u200b\uff1a</p> <p></p>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/install-gurobi/#\u7533\u8bf7\u5b66\u672f\u8bb8\u53ef","title":"\u7533\u8bf7\u200b\u5b66\u672f\u200b\u8bb8\u53ef","text":"<p>\u200b\u6839\u636e\u200bhttp://www.gurobi.cn/NewsView1.Asp?id=4\u200b\u7684\u200b\u8bf4\u660e\u200b\uff0c\u200b\u586b\u5199\u200b\u7533\u8bf7\u8868\u200b\u5e76\u200b\u7b7e\u540d\u200b\uff0c\u200b\u5e76\u200b\u540c\u5b66\u200b\u7c4d\u200b\u9a8c\u8bc1\u200b\u62a5\u544a\u200b\u4e00\u8d77\u200b\u53d1\u9001\u5230\u200b\u6307\u5b9a\u200b\u90ae\u7bb1\u200b\u3002\u200b\u6211\u200b\u662f\u200b\u665a\u4e0a\u200b\u7533\u8bf7\u200b\u7684\u200b\uff0c\u200b\u7b2c\u4e8c\u5929\u200b\u4e00\u200b\u65e9\u5c31\u200b\u6536\u5230\u200b\u4e86\u200b\u8bb8\u53ef\u8bc1\u4e66\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/install-gurobi/#\u5b89\u88c5\u5b66\u672f\u8bb8\u53ef\u8bc1\u4e66","title":"\u5b89\u88c5\u200b\u5b66\u672f\u200b\u8bb8\u53ef\u8bc1\u4e66","text":"<p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b\uff1a</p> Bash<pre><code>gurobi.sh\n</code></pre> <p>\u200b\u4f1a\u200b\u8981\u6c42\u200b\u8f93\u5165\u200b\u8bb8\u53ef\u8bc1\u4e66\u200b\uff0c\u200b\u8f93\u5165\u200b\u6b63\u786e\u200b\u540e\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>gurobi.lic</code> \u200b\u8bc1\u4e66\u200b\u6587\u4ef6\u200b\u3002\u200b\u6839\u636e\u200b\u63d0\u793a\u200b\uff0c\u200b\u5728\u200b Mac \u200b\u4e0b\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u8bc1\u4e66\u200b\u6587\u4ef6\u200b\u653e\u5728\u200b <code>/Library/gurobi/</code> \u200b\u4e0b\u200b\u3002</p> <p></p>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/install-gurobi/#\u5728-python-\u4e2d\u4f7f\u7528-gurobi","title":"\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b Gurobi","text":"<p>\u200b\u4e3a\u4e86\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b Gurobi\uff0c\u200b\u9700\u8981\u200b\u5728\u200b Conda \u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200b Gurobi \u200b\u7684\u200b\u5305\u200b\u3002\u200b\u5230\u200b\u8fd9\u91cc\u200b\u627e\u5230\u200b\u4e0e\u200b Gurobi \u200b\u7248\u672c\u200b\u548c\u200b Python \u200b\u7248\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\u5e76\u200b\u4e0b\u8f7d\u200b\u3002</p> <p>\u200b\u5efa\u8bae\u200b\u5728\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b Conda \u200b\u73af\u5883\u200b\u3002\u200b\u4f8b\u5982\u200b\u6211\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u73af\u5883\u200b\u53d6\u540d\u4e3a\u200b <code>gurobi</code>\uff0c\u200b\u5e76\u200b\u5b89\u88c5\u200b 3.9 \u200b\u7248\u672c\u200b\u7684\u200b Python\uff1a</p> Bash<pre><code>conda create -n gurobi python=3.9\n</code></pre> <p>\u200b\u518d\u200b\u5c06\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u6587\u4ef6\u200b\u5b89\u88c5\u200b\u5230\u200b\u73af\u5883\u200b\u4e2d\u200b\uff1a</p> Bash<pre><code>conda activate gurobi\nconda install ./gurobi-10.0.1-py39_0.tar.bz2\n</code></pre>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/install-gurobi/#\u6d4b\u8bd5\u662f\u5426\u5b89\u88c5\u6210\u529f","title":"\u6d4b\u8bd5\u200b\u662f\u5426\u200b\u5b89\u88c5\u200b\u6210\u529f","text":"Python<pre><code>import numpy as np\nimport gurobipy as gp\nfrom gurobipy import GRB\n</code></pre> \\[ \\begin{eqnarray} \\text{minimize}  &amp;&amp; 2x_1 &amp;+&amp; 3x_2 &amp;+&amp; 3x_3 &amp;+&amp; x_4 &amp;-&amp; 2x_5 &amp; \\\\ \\text{subject to}&amp;&amp; x_1  &amp;+&amp; 3x_2 &amp; &amp;    &amp;+&amp; 4x_4 &amp;+&amp; x_5  &amp; =2 \\\\             &amp;&amp; x_1  &amp;+&amp; 2x_2 &amp; &amp;    &amp;-&amp; 3x_4 &amp;+&amp; x_5  &amp; =2 \\\\            &amp;-&amp; x_1  &amp;-&amp; 4x_2 &amp;+&amp; 3x_3 &amp; &amp;  &amp; &amp; &amp; =1 \\\\            &amp;&amp;x_1,&amp;\\cdots,&amp;x_5&amp;\\geq 0. \\end{eqnarray} \\] Python<pre><code>c = gp.tuplelist([2, 3, 3, 1, -2])\nb = gp.tuplelist([2, 2, 1])\nA = gp.tuplelist(\n[\n[1, 3, 0, 4, 1],\n[1, 2, 0, -3, 1],\n[-1, -4, 3, 0, 0],\n],\n)\n</code></pre> Python<pre><code>m = gp.Model(\"Exercise\")\nx = m.addVars(\nrange(5),\nvtype=GRB.CONTINUOUS,\nname=\"x\",\n)\ncons = m.addConstrs(\n(x.prod(A[i]) == b[i] for i in range(len(b))), name=\"constrs\"  # &lt;= &gt;=\n)\nm.setObjective(x.prod(c), GRB.MINIMIZE)\n</code></pre> Python<pre><code>m.optimize()\n</code></pre>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/rolling-ols/","title":"Python \u200b\u6eda\u52a8\u200b\u56de\u5f52","text":"<p>\u200b\u672c\u6587\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u591a\u4e2a\u200b\u8d44\u4ea7\u200b\u5206\u522b\u200b\u5728\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u7531\u200b\u6700\u65b0\u200b\u7cfb\u6570\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u7684\u200b\u6b8b\u5dee\u200b\uff0c\u200b\u6700\u540e\u200b\u5c06\u200b\u591a\u4e2a\u200b\u8d44\u4ea7\u200b\u7684\u200b\u6b8b\u5dee\u200b\u7ed3\u679c\u200b\u91cd\u65b0\u805a\u5408\u200b\u4e3a\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\u3002</p> <p></p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-ols/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-ols/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nfrom statsmodels.regression.rolling import RollingOLS\nfrom statsmodels.tools import add_constant\nfrom tqdm import tqdm\n# \u200b\u5728\u200b apply \u200b\u65f6\u200b\u5c55\u793a\u200b\u8fdb\u5ea6\u6761\u200b\ntqdm.pandas()\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-ols/#\u67e5\u770b\u539f\u59cb\u6570\u636e","title":"\u67e5\u770b\u200b\u539f\u59cb\u6570\u636e","text":"Python<pre><code>data = pd.read_pickle(\"./demo.pkl\")\n# \u200b\u53d6\u200b 3 \u200b\u53ea\u200b\u80a1\u7968\u200b\uff0c\u200b\u51cf\u5c11\u200b\u8ba1\u7b97\u200b\u65f6\u95f4\u200b\ndata = data.loc[(slice(None), [\"000001.SZ\", \"000002.SZ\", \"000008.SZ\"]), :]\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-ols/#\u6eda\u52a8\u56de\u5f52\u7684\u6838\u5fc3\u51fd\u6570","title":"\u6eda\u52a8\u200b\u56de\u5f52\u200b\u7684\u200b\u6838\u5fc3\u200b\u51fd\u6570","text":"Python<pre><code>def rolling_ols(x, y, window=120, _add_constant=True):\ntry:\n# \u200b\u4e3a\u200b\u81ea\u53d8\u91cf\u200b\u6dfb\u52a0\u200b\u622a\u8ddd\u200b\u9879\u200b\nif _add_constant:\nx = add_constant(x)\n# \u200b\u6784\u5efa\u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\nmodel = RollingOLS(endog=y, exog=x, window=window)\n# \u200b\u4f30\u8ba1\u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5305\u62ec\u200b\u622a\u8ddd\u200b\u9879\u200b\u548c\u200b\u5404\u200b\u7279\u5f81\u200b\u7684\u200b\u56de\u5f52\u7cfb\u6570\u200b\nparams = model.fit().params\n# \u200b\u6839\u636e\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u7684\u200b\u56e0\u200b\u53d8\u91cf\u503c\u200b\ny_hat = (params * x).sum(axis=1)\n# \u200b\u8ba1\u7b97\u200b\u6b8b\u5dee\u200b\nresidual = y - y_hat\nreturn pd.DataFrame({\"residual\": residual})\n# \u200b\u5982\u679c\u200b\u62a5\u9519\u200b\uff0c\u200b\u5219\u200b\u53ef\u80fd\u200b\u662f\u200b\u6837\u672c\u91cf\u200b\u6bd4\u200b window \u200b\u5c0f\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\nexcept:\nreturn None\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-ols/#groupby\u540eapply","title":"<code>groupby</code>\u200b\u540e\u200b<code>apply</code>","text":"<p>\u200b\u4f7f\u7528\u200b <code>progress_apply</code> \u200b\u53ef\u4ee5\u200b\u5c55\u793a\u200b\u8fdb\u5ea6\u6761\u200b\u3002</p> Python<pre><code>residual = data.groupby(\"instrument\", group_keys=False).progress_apply(\nlambda group: rolling_ols(\nx=group.iloc[:, :-1],\ny=group.iloc[:, -1],\nwindow=120,\n_add_constant=True,\n)\n)\n</code></pre> <p></p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/rolling-ols/#\u67e5\u770b\u7ed3\u679c","title":"\u67e5\u770b\u200b\u7ed3\u679c","text":"","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/positional-encoding-in-transformer/","title":"Transformer \u200b\u4e2d\u200b\u7684\u200b Positional Encoding Layer","text":"<p>\u200b\u5728\u200b Transformer \u200b\u7684\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\u4e2d\u200b\uff0cPositional Encoding Layer \u200b\u662f\u200b\u5c06\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6a21\u578b\u200b\u77e5\u9053\u200b\u6bcf\u4e2a\u200b\u8bcd\u200b\u5728\u200b\u6587\u672c\u200b\u4e2d\u200b\u7684\u200b\u7edd\u5bf9\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u6709\u65f6\u200b\uff0c\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u53d1\u751f\u53d8\u5316\u200b\u540e\u200b\uff0c\u200b\u8bed\u4e49\u200b\u4f1a\u200b\u53d1\u751f\u200b\u5de8\u5927\u200b\u7684\u200b\u53d8\u5316\u200b\uff0c\u200b\u56e0\u6b64\u200b Positional Encoding Layer \u200b\u662f\u200b\u81f3\u5173\u91cd\u8981\u200b\u7684\u200b\u3002</p> <p>Transformer \u200b\u539f\u59cb\u200b\u8bba\u6587\u200b\u4e2d\u200b\u53ea\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5173\u952e\u200b\u7684\u200b\u7f16\u7801\u200b\u516c\u5f0f\u200b\uff0c\u200b\u800c\u200b\u6211\u200b\u7b2c\u4e00\u6b21\u200b\u770b\u5230\u200b\u8fd9\u4e2a\u200b\u516c\u5f0f\u200b\u65f6\u200b\u89c9\u5f97\u200b\u6666\u6da9\u200b\u96be\u61c2\u200b\u3002\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u8001\u5e08\u200b\u5728\u200b\u8bfe\u4e0a\u200b\u8bb2\u89e3\u200b\u4e86\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6211\u200b\u8fd8\u662f\u200b\u4e0d\u592a\u200b\u660e\u767d\u200b\u3002</p> \\[ \\begin{aligned} P E(p o s, 2 i+1)&amp;=\\cos \\left(\\frac{p o s}{10000^{2 i / d m o d e l}}\\right) \\\\ P E(p o s, 2 i)&amp;=\\sin \\left(\\frac{p o s}{10000^{2 i / d m o d e l}}\\right) \\end{aligned} \\] <p>\u200b\u7ec8\u4e8e\u200b\uff0c\u200b\u6211\u200b\u627e\u5230\u200b\u4e86\u200b\u5199\u200b\u5f97\u200b\u975e\u5e38\u200b\u597d\u200b\u7684\u200b\u8d44\u6599\u200b\u3002\u200b\u4f5c\u8005\u200b\u4ece\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u7edd\u5bf9\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5c06\u200b\u7b2c\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\u4e3a\u200b 1\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\u4e3a\u200b 2\uff0c\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002\u200b\u8fd9\u200b\u5f53\u7136\u200b\u662f\u200b\u6700\u200b\u5bb9\u6613\u200b\u60f3\u5230\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\uff09\u200b\u5f00\u59cb\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5f15\u5bfc\u200b\u6211\u4eec\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u7528\u200b\u4e0a\u9762\u200b\u7684\u200b\u516c\u5f0f\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/positional-encoding-in-transformer/#\u4e2a\u4eba\u7406\u89e3","title":"\u4e2a\u4eba\u200b\u7406\u89e3","text":"<p>Encoding \u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u7528\u200b\u5c3d\u91cf\u5c11\u200b\u7684\u200b\u7a7a\u95f4\u200b\u53bb\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u5927\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002\u200b\u8fd9\u200b\u8ba9\u200b\u6211\u200b\u8054\u60f3\u200b\u5230\u200b\u4e24\u4e2a\u200b\u4f8b\u5b50\u200b\uff1a</p> <ol> <li>\u200b\u53d8\u901f\u200b\u81ea\u884c\u8f66\u200b\u901a\u8fc7\u200b\u4e24\u4e2a\u200b\u53d8\u901f\u5668\u200b\u5bf9\u200b\u901f\u5ea6\u200b\u6863\u4f4d\u200b\u8fdb\u884c\u200b\u8c03\u8282\u200b\u3002\u200b\u4ee5\u200b\u6211\u200b\u7684\u200b\u81ea\u884c\u8f66\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5de6\u8fb9\u200b\u628a\u624b\u200b\u88c5\u200b\u7684\u200b\u662f\u200b\u5927\u200b\u53d8\u901f\u5668\u200b\uff0c\u200b\u4e00\u5171\u200b\u6709\u200b \\(3\\) \u200b\u4e2a\u200b\u6863\u4f4d\u200b\uff1b\u200b\u53f3\u8fb9\u200b\u628a\u624b\u200b\u88c5\u200b\u7684\u200b\u662f\u200b\u5c0f\u200b\u53d8\u901f\u5668\u200b\uff0c\u200b\u4e00\u5171\u200b\u6709\u200b \\(7\\) \u200b\u4e2a\u200b\u6863\u4f4d\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u6211\u200b\u53ea\u200b\u9700\u8981\u200b\u8c03\u8282\u200b \\(2\\) \u200b\u4e2a\u200b\u53d8\u901f\u5668\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b \\(3\\times7\\) \u200b\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u6863\u4f4d\u200b\u3002</li> <li>\u200b\u663e\u5fae\u955c\u200b\u7684\u200b\u7c97\u51c6\u200b\u7126\u200b\u87ba\u65cb\u200b\u548c\u200b\u7ec6\u51c6\u200b\u7126\u200b\u87ba\u65cb\u200b\u3002\u200b\u524d\u8005\u200b\u80fd\u591f\u200b\u4f7f\u200b\u663e\u5fae\u955c\u200b\u7684\u200b\u955c\u7b52\u200b\u5927\u5e45\u5ea6\u200b\u4f4d\u79fb\u200b\uff0c\u200b\u540e\u8005\u200b\u5219\u200b\u80fd\u591f\u200b\u4f7f\u200b\u955c\u7b52\u200b\u5c0f\u5e45\u5ea6\u200b\u7684\u200b\u4f4d\u79fb\u200b\u3002\u200b\u4e24\u4e2a\u200b\u914d\u5408\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5c31\u200b\u80fd\u591f\u200b\u53ea\u200b\u505a\u200b\u5c11\u91cf\u200b\u65cb\u8f6c\u200b\u8fbe\u5230\u200b\u5927\u5e45\u200b\u4e14\u200b\u7cbe\u51c6\u200b\u7684\u200b\u8c03\u8282\u200b\u3002</li> </ol> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b https://machinelearningmastery.com/a-gentle-introduction-to-positional-encoding-in-transformer-models-part-1/ \u200b\u7ed9\u51fa\u200b\u7684\u200b\u76f4\u89c2\u200b\u7406\u89e3\u200b\uff1a\u200b\u5c06\u200b\u4f4d\u7f6e\u200b\u5411\u91cf\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u4f4d\u7f6e\u200b\u60f3\u8c61\u200b\u6210\u200b\u4e00\u4e2a\u200b\u62e8\u53f7\u5668\u200b\u3002\u200b\u5bf9\u200b\u6700\u200b\u5de6\u4fa7\u200b\u7684\u200b\u62e8\u53f7\u5668\u200b\uff0c\u200b\u6bcf\u62e8\u200b\u4e00\u683c\u200b\uff0c\u200b\u5176\u503c\u52a0\u200b 1\uff1b\u200b\u6700\u200b\u53f3\u4fa7\u200b\u7684\u200b\u62e8\u53f7\u5668\u200b\uff0c\u200b\u6bcf\u62e8\u200b\u4e00\u683c\u200b\uff0c\u200b\u5176\u503c\u52a0\u200b 4\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u80fd\u591f\u200b\u5b9e\u73b0\u200b\uff1a\u200b\u53ea\u200b\u62e8\u52a8\u200b\u5f88\u5c11\u200b\u7684\u200b\u683c\u5b50\u200b\uff0c\u200b\u4e5f\u200b\u80fd\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u5f88\u5927\u200b\u7684\u200b\u6570\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/positional-encoding-in-transformer/#\u5982\u4f55\u8868\u793a\u76f8\u5bf9\u4f4d\u7f6e","title":"\u5982\u4f55\u200b\u8868\u793a\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e","text":"<p>\u200b\u8fd9\u6837\u200b\u7684\u200b Positional Encoding \u200b\u53ef\u4ee5\u200b\u8574\u542b\u200b\u4e24\u4e2a\u200b\u6587\u672c\u200b\u7684\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u56e0\u4e3a\u200b \\(\\cos (\\theta+\\phi)\\) \u200b\u548c\u200b \\(\\sin (\\theta+\\phi)\\) \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b \\(\\cos (\\theta)\\) \u200b\u548c\u200b \\(\\sin (\\theta)\\) \u200b\u7ed3\u5408\u200b \\(\\phi\\) \u200b\u6765\u200b\u5f97\u5230\u200b\u3002</p> \\[ \\left(\\begin{array}{c} \\cos (\\theta+\\phi) \\\\ \\sin (\\theta+\\phi) \\end{array}\\right)=\\left(\\begin{array}{cc} \\cos \\phi &amp; -\\sin \\phi \\\\ \\sin \\phi &amp; \\cos \\phi \\end{array}\\right)\\left(\\begin{array}{c} \\cos \\theta \\\\ \\sin \\theta \\end{array}\\right) \\] <p></p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/positional-encoding-in-transformer/#\u4ee3\u7801\u5b9e\u73b0","title":"\u4ee3\u7801\u200b\u5b9e\u73b0","text":"Python<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n</code></pre> Python<pre><code>def getPositionEncoding(seq_len, d, n=10000):\nP = np.zeros((seq_len, d))\nfor k in range(seq_len):\nfor i in np.arange(int(d / 2)):\ndenominator = np.power(n, 2 * i / d)\nP[k, 2 * i] = np.sin(k / denominator)\nP[k, 2 * i + 1] = np.cos(k / denominator)\nreturn P\nP = getPositionEncoding(seq_len=4, d=4, n=100)\nprint(P)\n</code></pre> Text Only<pre><code>[[ 0.          1.          0.          1.        ]\n [ 0.84147098  0.54030231  0.09983342  0.99500417]\n [ 0.90929743 -0.41614684  0.19866933  0.98006658]\n [ 0.14112001 -0.9899925   0.29552021  0.95533649]]\n</code></pre> Python<pre><code>P = getPositionEncoding(seq_len=100, d=256, n=10000)\ncax = plt.matshow(P)\nplt.gcf().colorbar(cax)\nplt.show()\n</code></pre> <p>\u200b\u770b\u56fe\u200b\u627e\u200b\u89c4\u5f8b\u200b</p> <ol> <li>\u200b\u53ea\u200b\u770b\u200b\u7b2c\u4e00\u884c\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u7b2c\u200b 0 \u200b\u4e2a\u200b\u8bcd\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u989c\u8272\u200b\u662f\u200b\u9ec4\u7eff\u200b\u4ea4\u66ff\u200b\u7684\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b 0\u30011 \u200b\u4ea4\u66ff\u200b\u7684\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u5f53\u200b pos=0 \u200b\u65f6\u200b\uff0c\\(P E(p o s, 2 i+1)\\) \u200b\u90fd\u200b\u7b49\u4e8e\u200b \\(1\\)\uff0c\\(P E(p o s, 2 i)\\) \u200b\u90fd\u200b\u7b49\u4e8e\u200b \\(0\\)\u3002</li> <li>\u200b\u8d8a\u200b\u9760\u53f3\u8fb9\u200b\uff0c\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\u7684\u200b\u6570\u503c\u200b\u5728\u200b\u7eb5\u5411\u200b\u7684\u200b\u53d8\u52a8\u200b\u8d8a\u6162\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b \\(\\sin\\) \u200b\u51fd\u6570\u200b\u4e2d\u200b \\(pos\\) \u200b\u7684\u200b\u7cfb\u6570\u200b\u662f\u200b \\(\\frac{1}{10000^{2 i / d m o d e l}}\\)\uff0c\\(i\\) \u200b\u8d8a\u6765\u8d8a\u200b\u5927\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u4e2a\u200b\u7cfb\u6570\u200b\u8d8a\u6765\u8d8a\u200b\u5c0f\u200b\uff0c\u200b\u5bfc\u81f4\u200b \\(\\sin\\) \u200b\u7684\u200b\u9891\u7387\u200b\u8d8a\u6765\u8d8a\u4f4e\u200b\u4e86\u200b\uff0c\u200b\u8981\u200b\u9694\u200b\u5f88\u200b\u4e45\u200b\u624d\u80fd\u200b\u91cd\u65b0\u200b\u5f00\u59cb\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u53f3\u4fa7\u200b\u7f16\u7801\u200b\u7406\u89e3\u200b\u4e3a\u200b\u7c97\u51c6\u200b\u7126\u200b\u87ba\u65cb\u200b\uff08\u200b\u5927\u200b\u8303\u56f4\u200b\u5730\u200b\u8c03\u8282\u200b\uff09\uff0c\u200b\u5de6\u4fa7\u200b\u7f16\u7801\u200b\u7406\u89e3\u200b\u4e3a\u200b\u7ec6\u51c6\u200b\u7126\u200b\u87ba\u65cb\u200b\uff08\u200b\u5c0f\u200b\u8303\u56f4\u200b\u5730\u200b\u8c03\u8282\u200b\uff09\u3002</li> <li>\u200b\u4e24\u4e2a\u200b\u76f8\u90bb\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u989c\u8272\u200b\u6837\u5f0f\u200b\u6bd4\u8f83\u200b\u76f8\u8fd1\u200b\uff0c\u200b\u8fd9\u200b\u8868\u793a\u200b\u5b83\u4eec\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u6bd4\u8f83\u200b\u63a5\u8fd1\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/","title":"GPT \u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u7b14\u8bb0","text":"<p>Generative Pre-trained Transformer\uff08GPT\uff09\u200b\u7cfb\u5217\u200b\u662f\u200b\u7531\u200b OpenAI \u200b\u63d0\u51fa\u200b\u7684\u200b\u975e\u5e38\u200b\u5f3a\u5927\u200b\u7684\u200b\u9884\u200b\u8bad\u7ec3\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u8fd9\u200b\u4e00\u7cfb\u5217\u200b\u7684\u200b\u6a21\u578b\u200b\u53ef\u4ee5\u200b\u5728\u200b\u975e\u5e38\u590d\u6742\u200b\u7684\u200b NLP \u200b\u4efb\u52a1\u200b\u4e2d\u200b\u53d6\u5f97\u200b\u975e\u5e38\u200b\u60ca\u8273\u200b\u7684\u200b\u6548\u679c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6587\u7ae0\u751f\u6210\u200b\uff0c\u200b\u4ee3\u7801\u751f\u6210\u200b\uff0c\u200b\u673a\u5668\u7ffb\u8bd1\u200b\uff0c\u200b\u95ee\u7b54\u200b\u7b49\u200b\uff0c\u200b\u800c\u200b\u5b8c\u6210\u200b\u8fd9\u4e9b\u200b\u4efb\u52a1\u200b\u751a\u81f3\u200b \u200b\u5e76\u4e0d\u9700\u8981\u200b\u6709\u200b\u76d1\u7763\u200b\u5b66\u4e60\u200b\u8fdb\u884c\u200b\u6a21\u578b\u200b\u5fae\u8c03\u200b \u3002</p> <p>\u200b\u672c\u6587\u200b\u68b3\u7406\u200b\u4e86\u200b GPT \u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b\u4e2d\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u7684\u200b\u5173\u952e\u6280\u672f\u200b\uff0c\u200b\u5305\u62ec\u200b\uff1a</p> <ul> <li>GPT-1 \u200b\u7684\u200b\u89e3\u7801\u5668\u200b\u3001\u200b\u5fae\u8c03\u200b\u3001\u200b\u8f93\u5165\u200b\u5f62\u5f0f\u200b\uff1b</li> <li>GPT-2 \u200b\u7684\u200b Zero-shot \u200b\u548c\u200b Prompt\uff1b</li> <li>GPT-3 \u200b\u7684\u200b Few-shot\uff1b</li> <li>Instruct GPT \u200b\u5982\u4f55\u200b\u901a\u8fc7\u200b\u57fa\u4e8e\u200b\u4eba\u7c7b\u200b\u53cd\u9988\u200b\u7684\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u751f\u6210\u200b\u6709\u200b\u5e2e\u52a9\u200b\u7684\u200b\u548c\u200b\u5b89\u5168\u200b\u7684\u200b\u6587\u672c\u200b\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#gpt-1","title":"GPT-1","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u63d0\u51fa\u52a8\u673a","title":"\u63d0\u51fa\u200b\u52a8\u673a","text":"<p>\u200b\u5728\u200b\u81ea\u7136\u8bed\u8a00\u200b\u5904\u7406\u200b\u4efb\u52a1\u200b\u4e2d\u200b\uff0c\u200b\u5b58\u5728\u200b\u5927\u91cf\u200b\u65e0\u200b\u6807\u7b7e\u200b\u7684\u200b\u8bed\u6599\u200b\u6570\u636e\u200b\uff0c\u200b\u800c\u200b\u6709\u200b\u6807\u7b7e\u200b\u7684\u200b\u8bed\u6599\u200b\u6570\u636e\u200b\u76f8\u5bf9\u200b\u8f83\u200b\u5c11\u200b\uff0c\u200b\u56e0\u6b64\u200b\u57fa\u4e8e\u200b\u6709\u200b\u76d1\u7763\u200b\u8bad\u7ec3\u200b\u7684\u200b\u6a21\u578b\u200b\u6027\u80fd\u200b\u7684\u200b\u63d0\u5347\u200b\u5927\u5927\u200b\u53d7\u9650\u4e8e\u200b\u6570\u636e\u200b\u96c6\u200b\u3002\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f5c\u8005\u200b\u63d0\u51fa\u200b\uff1a</p> <p>\u200b\u5148\u200b\u5728\u200b\u5927\u91cf\u200b\u7684\u200b\u65e0\u200b\u6807\u7b7e\u200b\u6570\u636e\u200b\u4e0a\u200b\u8bad\u7ec3\u200b\u4e00\u4e2a\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u5728\u200b\u4e0b\u6e38\u200b\u5177\u4f53\u4efb\u52a1\u200b\u7684\u200b\u6709\u200b\u6807\u7b7e\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u5fae\u8c03\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u4f7f\u7528\u6ca1\u6709\u6807\u6ce8\u7684\u6587\u672c\u8fdb\u884c\u5efa\u6a21\u7684\u56f0\u96be","title":"\u4f7f\u7528\u200b\u6ca1\u6709\u200b\u6807\u6ce8\u200b\u7684\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u5efa\u6a21\u200b\u7684\u200b\u56f0\u96be","text":"<ol> <li>\u200b\u5e94\u8be5\u200b\u8bbe\u8ba1\u200b\u4f55\u79cd\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\uff1f\u200b\u5bf9\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b50\u200b\u4efb\u52a1\u200b\u6765\u8bf4\u200b\uff0c\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u51fd\u6570\u200b\u9002\u5408\u200b\u4f5c\u4e3a\u200b\u4f18\u5316\u200b\u76ee\u6807\u200b\u3002\u200b\u4e00\u4e2a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u5728\u200b\u4e00\u4e9b\u200b\u5b50\u200b\u4efb\u52a1\u200b\u4e0a\u200b\u8868\u73b0\u200b\u8f83\u200b\u597d\u200b\uff0c\u200b\u4f46\u200b\u53ef\u80fd\u200b\u5728\u200b\u53e6\u200b\u4e00\u4e9b\u200b\u5b50\u200b\u4efb\u52a1\u200b\u4e0a\u200b\u8868\u73b0\u200b\u8f83\u5dee\u200b\uff0c\u200b\u5e76\u200b\u6ca1\u6709\u200b\u4e00\u4e2a\u200b\u901a\u7528\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u9002\u7528\u200b\u4e8e\u200b\u6240\u6709\u200b\u7684\u200b\u5b50\u200b\u4efb\u52a1\u200b\u3002</li> <li>\u200b\u5982\u4f55\u200b\u5c06\u200b\u5b66\u4e60\u200b\u5230\u200b\u7684\u200b\u6587\u672c\u200b\u8868\u793a\u200b\u8fc1\u79fb\u200b\u5230\u5b50\u200b\u4efb\u52a1\u200b\u4e0a\u200b\uff1f\u200b\u5e76\u200b\u6ca1\u6709\u200b\u4e00\u4e2a\u200b\u7edf\u4e00\u200b\u6709\u6548\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u5f97\u200b\u4e00\u79cd\u200b\u6587\u672c\u200b\u8868\u793a\u200b\u80fd\u591f\u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u8fc1\u79fb\u200b\u5230\u200b\u5404\u79cd\u200b\u5b50\u200b\u4efb\u52a1\u200b\u4e0a\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u65e0\u76d1\u7763\u5b66\u4e60\u4f7f\u7528\u7684\u8bed\u8a00\u6a21\u578b","title":"\u65e0\u200b\u76d1\u7763\u200b\u5b66\u4e60\u200b\u4f7f\u7528\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b","text":"<p>GPT-1 \u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6807\u51c6\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\uff1a\u200b\u7528\u200b\u7b2c\u200b \\(i-k\\) \u200b\u5230\u200b\u7b2c\u200b \\(i-1\\) \u200b\u7684\u200b\u4e00\u5171\u200b \\(k\\) \u200b\u4e2a\u200b\u8bcd\u200b\uff0c\u200b\u6765\u200b\u9884\u6d4b\u200b\u7b2c\u200b \\(i\\) \u200b\u4e2a\u200b\u8bcd\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u5c31\u662f\u200b \u200b\u6700\u5927\u5316\u200b\u6b63\u786e\u200b\u9884\u6d4b\u200b\u6bcf\u4e2a\u200b\u8bcd\u200b\u7684\u200b\u6982\u7387\u200b \u3002\u200b\u4e3a\u4e86\u200b\u8ba9\u200b\u6a21\u578b\u200b\u80fd\u200b\u5b66\u4e60\u200b\u5230\u200b\u6bd4\u8f83\u200b\u957f\u671f\u200b\u7684\u200b\u6587\u672c\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\uff0c\\(k\\) \u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u53d6\u200b\u51e0\u5341\u200b\u5230\u200b\u51e0\u767e\u200b\uff0c\u200b\u751a\u81f3\u200b\u4e0a\u5343\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#gpt-1-\u548c-bert-\u7684\u533a\u522b","title":"GPT-1 \u200b\u548c\u200b BERT \u200b\u7684\u200b\u533a\u522b","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#gpt-1-\u4f7f\u7528\u89e3\u7801\u5668","title":"GPT-1 \u200b\u4f7f\u7528\u200b\u89e3\u7801\u5668","text":"<p>GPT-1 \u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6807\u51c6\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u4f7f\u7528\u200b Transformer \u200b\u7684\u200b \u200b\u89e3\u7801\u5668\u200b \u3002\u200b\u5728\u200b\u89e3\u7801\u5668\u200b\u4e2d\u200b\uff0c\u200b\u4f1a\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u4e4b\u540e\u200b\u7684\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u63a9\u7801\u200b\uff0c\u200b\u56e0\u6b64\u200b\u89e3\u7801\u5668\u200b\u53ea\u80fd\u200b\u770b\u5230\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u4e4b\u524d\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u770b\u5230\u200b\u4e4b\u540e\u200b\u7684\u200b\u6587\u672c\u200b\u3002</p> <p>\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u5728\u200b\u89e3\u7801\u5668\u200b\u4e2d\u200b\u5bf9\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b Encoding \u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u8bcd\u200b\u540e\u9762\u200b\u4f4d\u7f6e\u200b\u6dfb\u52a0\u200b\\(-\\infty\\)\uff0c\u200b\u4f7f\u5f97\u200b\u5728\u200b\u5e94\u7528\u200b Softmax \u200b\u8ba1\u7b97\u200b\u6ce8\u610f\u529b\u200b\u65f6\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b 0\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://youtu.be/4Bdc55j80l8</p> <p></p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#bert-\u4f7f\u7528\u7f16\u7801\u5668","title":"BERT \u200b\u4f7f\u7528\u200b\u7f16\u7801\u5668","text":"<p>BERT \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e26\u200b\u63a9\u7801\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u5728\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u4f7f\u7528\u200b Transformer \u200b\u7684\u200b \u200b\u7f16\u7801\u5668\u200b \u3002BERT \u200b\u8981\u200b\u5b8c\u6210\u200b\u7684\u200b\u4efb\u52a1\u200b\u662f\u200b\uff1a\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b\u53e5\u5b50\u200b\uff0c\u200b\u5c06\u200b\u4e2d\u95f4\u200b\u67d0\u4e2a\u200b\u8bcd\u200b\u63a9\u76d6\u200b\uff0c\u200b\u8ba9\u200b\u6a21\u578b\u200b\u9884\u6d4b\u200b\u4e2d\u95f4\u200b\u7684\u200b\u8bcd\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0cBERT \u200b\u5728\u200b\u9884\u6d4b\u200b\u65f6\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u5f85\u200b\u9884\u6d4b\u200b\u8bcd\u200b\u7684\u200b\u524d\u9762\u200b\u7684\u200b\u8bcd\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u540e\u9762\u200b\u7684\u200b\u8bcd\u200b\u3002</p> <p>\u200b\u8bad\u7ec3\u200b GPT \u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u53ea\u80fd\u200b\u770b\u5230\u200b\u524d\u6587\u6765\u200b\u9884\u6d4b\u200b\u540e\u6587\u200b\uff0c\u200b\u800c\u200b BERT \u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u4e0a\u4e0b\u6587\u200b\u6765\u200b\u9884\u6d4b\u200b\u4e2d\u95f4\u200b\u90e8\u5206\u200b\u3002GPT \u200b\u5f97\u5230\u200b\u7684\u200b\u8f93\u5165\u200b\u4fe1\u606f\u200b\u66f4\u200b\u5c11\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u5bfc\u81f4\u200b\u8bad\u7ec3\u200b GPT \u200b\u6bd4\u200b\u8bad\u7ec3\u200b BERT \u200b\u96be\u200b\u5f88\u591a\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#gpt-1-\u5728\u5fae\u8c03\u65f6\u4f7f\u7528\u7684\u4e24\u4e2a\u76ee\u6807\u51fd\u6570","title":"GPT-1 \u200b\u5728\u200b\u5fae\u8c03\u200b\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u4e24\u4e2a\u200b\u76ee\u6807\u200b\u51fd\u6570","text":"<p>\u200b\u7b2c\u4e00\u4e2a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u662f\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u3002\u200b\u5b83\u200b\u6700\u521d\u200b\u7684\u200b\u76ee\u6807\u200b\u662f\u200b\uff1a\u200b\u901a\u8fc7\u200b\u524d\u200b\u6587\u200b\u9884\u6d4b\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\uff0c\u200b\u5e0c\u671b\u200b\u9884\u6d4b\u200b\u5f97\u200b\u8d8a\u200b\u51c6\u786e\u200b\u8d8a\u200b\u597d\u200b\u3002\uff08\u200b\u6ce8\u610f\u200b\uff1a\u200b\u5fae\u8c03\u200b\u53ea\u662f\u200b\u4e0d\u200b\u6539\u53d8\u200b Transformer \u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4f46\u4f1a\u200b\u6539\u53d8\u200b Transformer \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\uff0c\u200b\u56e0\u6b64\u200b Transformer \u200b\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u7684\u200b\u542b\u4e49\u200b\u53ef\u80fd\u200b\u5e76\u200b\u4e0d\u662f\u200b\u201c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u7684\u200b\u6982\u7387\u200b\u201d\u200b\u4e86\u200b\u3002\uff09</p> \\[ L_1(\\mathcal{U}) = \\sum_i \\log P(u_1|u_{i-k},...,u_{i-1};\\Theta) \\] <p>\u200b\u7b2c\u4e8c\u4e2a\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u662f\u200b\u6807\u51c6\u200b\u7684\u200b\u5206\u7c7b\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u76ee\u6807\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\u4e0b\u6e38\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b\u6709\u200b\u6807\u6ce8\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u6807\u6ce8\u200b\u9884\u6d4b\u200b\u5f97\u200b\u8d8a\u200b\u51c6\u786e\u200b\u8d8a\u200b\u597d\u200b\u3002</p> \\[ P(y|x^1,...,x^m) = \\text{softmax}(h_l^m W_y) \\\\ L_2(\\mathcal{C}) = \\sum_{(x,y)} \\log P(y|x^1,...,x^m) \\] <p>\u200b\u867d\u7136\u200b\u5728\u200b\u5fae\u8c03\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u5173\u5fc3\u200b\u5206\u7c7b\u200b\u7684\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0a\u8ff0\u200b\u7684\u200b \\(L_2(\\mathcal{C})\\) \uff0c\u200b\u4f46\u200b\u4f5c\u8005\u200b\u53d1\u73b0\u200b\u5c06\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b \\(L_1(\\mathcal{U})\\) \u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u8f85\u52a9\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u662f\u200b\u6709\u200b\u5e2e\u52a9\u200b\u7684\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63d0\u5347\u200b\u76d1\u7763\u200b\u6a21\u578b\u200b\u7684\u200b\u6cdb\u5316\u200b\u6027\u200b\u5e76\u200b\u52a0\u901f\u200b\u6536\u655b\u200b\u3002\u200b\u6240\u4ee5\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u4f18\u5316\u200b\u51fd\u6570\u200b\u53d8\u6210\u200b\u4e86\u200b\uff1a</p> \\[ L_3(\\mathcal{C}) = L_2(\\mathcal{C}) + \\lambda * L_1(\\mathcal{C}) \\] <p>\u200b\u5176\u4e2d\u200b \\(\\lambda\\) \u200b\u662f\u200b\u4e00\u4e2a\u200b\u8d85\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e00\u822c\u200b\u53ef\u4ee5\u200b\u8bbe\u5b9a\u200b\u4e3a\u200b \\(0.5\\)\u3002</p> <p>\u200b\u4e2a\u4eba\u200b\u7406\u89e3\u200b</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u5c06\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b \\(L_1(\\mathcal{U})\\) \u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u8f85\u52a9\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u662f\u200b\u6709\u200b\u5e2e\u52a9\u200b\u7684\u200b\uff1f</p> <p>\\(L_1(\\mathcal{U})\\) \u200b\u4f18\u5316\u200b\u7684\u200b\u76ee\u6807\u200b\u662f\u200b\uff1a\u200b\u7ed9\u5b9a\u200b\u524d\u9762\u200b\u7684\u200b\u8bcd\u200b\uff0c\u200b\u9884\u6d4b\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u662f\u5426\u200b\u51c6\u786e\u200b\u3002\u200b\u90a3\u4e48\u200b\uff0c\u200b\u5982\u679c\u200b\u201c\u200b\u9884\u6d4b\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u201d\u200b\u8fd9\u4e2a\u200b\u4efb\u52a1\u200b\u505a\u200b\u5f97\u200b\u975e\u5e38\u200b\u597d\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6a21\u578b\u200b\u5bf9\u200b\u6574\u6bb5\u200b\u6587\u5b57\u200b\u7684\u200b\u7406\u89e3\u200b\u5f88\u200b\u5230\u4f4d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u6700\u7ec8\u200b\u7684\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u4e2d\u200b\u4e5f\u200b\u80fd\u200b\u8868\u73b0\u200b\u5f97\u200b\u66f4\u597d\u200b\u3002</p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u4ee5\u4e0a\u200b\u53ea\u662f\u200b\u7b80\u5355\u200b\u7684\u200b\u76f4\u89c9\u200b\u7406\u89e3\u200b\u3002\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u5f53\u200b\u5e94\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u65f6\u200b\uff0c\u200b\u5fae\u8c03\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4f1a\u200b\u4f7f\u5f97\u200b Transformer \u200b\u4e2d\u200b\u7684\u200b\u53c2\u6570\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\uff0c\u200b\u56e0\u6b64\u200b Transformer \u200b\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u7684\u200b\u542b\u4e49\u200b\u53ef\u80fd\u200b\u5e76\u200b\u4e0d\u662f\u200b\u201c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bcd\u200b\u7684\u200b\u6982\u7387\u200b\u201d\u200b\u4e86\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u901a\u8fc7\u6784\u9020\u4e0d\u540c\u7684\u8f93\u5165\u5f62\u5f0f\u4ee5\u9002\u5e94\u4e0d\u540c\u7684\u4e0b\u6e38\u4efb\u52a1","title":"\u901a\u8fc7\u200b\u6784\u9020\u200b\u4e0d\u540c\u200b\u7684\u200b\u8f93\u5165\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u4ee5\u200b\u9002\u5e94\u200b\u4e0d\u540c\u200b\u7684\u200b\u4e0b\u6e38\u200b\u4efb\u52a1","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u8f6c\u6362\u6210\u200b\u7edf\u4e00\u200b\u7684\u200b\u5f62\u5f0f\u200b\u9001\u5165\u200b\u9884\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u518d\u63a5\u200b\u4e00\u5c42\u200b\u7ebf\u6027\u200b\u5c42\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u7b49\u200b\u3002\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u5728\u200b\u5fae\u8c03\u200b\u65f6\u200b\uff0c\u200b\u4ec5\u200b\u9700\u8981\u200b\u5bf9\u9884\u200b\u8bad\u7ec3\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u505a\u200b\u5f88\u5c0f\u200b\u7684\u200b\u7ed3\u6784\u200b\u6539\u53d8\u200b\uff0c\u200b\u5373\u52a0\u200b\u4e00\u5c42\u200b\u7ebf\u6027\u200b\u5c42\u200b\uff0c\u200b\u5373\u53ef\u200b\u65b9\u4fbf\u200b\u5730\u200b\u5e94\u7528\u200b\u4e8e\u200b\u4e0b\u6e38\u200b\u5404\u79cd\u200b\u4efb\u52a1\u200b\u3002</p> <p>\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u4e3a\u200b\u8f93\u5165\u200b\u7684\u200b\u5e8f\u5217\u200b\u6dfb\u52a0\u200b\u7279\u6b8a\u200b\u7684\u200b\u5b57\u7b26\u200b\uff1a<code>Start</code>\u3001<code>Delim</code>\u200b\u548c\u200b <code>Extract</code>\uff08\u200b\u5f53\u7136\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u76f4\u63a5\u200b\u628a\u200b\u8fd9\u200b\u51e0\u4e2a\u200b\u5b57\u7b26\u200b\u63d2\u5165\u200b\u5230\u200b\u6587\u672c\u200b\u4e2d\u200b\uff0c\u200b\u800c\u662f\u200b\u7528\u200b\u7279\u6b8a\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\u200b\u786e\u4fdd\u200b\u4e0d\u4f1a\u200b\u4e0e\u200b\u6587\u7ae0\u200b\u672c\u8eab\u200b\u53d1\u751f\u200b\u6df7\u6dc6\u200b\uff09\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u6784\u9020\u200b\u597d\u200b\u4e86\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u3002\u200b\u867d\u7136\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u6ca1\u6709\u200b\u89c1\u8fc7\u200b\u8fd9\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\uff0c\u200b\u4f46\u200b\u5fae\u8c03\u200b\u65f6\u200b\u5305\u542b\u200b\u4e86\u200b\u8fd9\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6a21\u578b\u200b\u662f\u200b\u53ef\u4ee5\u200b\u8ba4\u8bc6\u200b\u8fd9\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\u7684\u200b\u3002</p> <p></p> <p>\u200b\u5177\u4f53\u200b\u8bb2\u89e3\u200b\u53ef\u200b\u53c2\u8003\u200b\uff1ahttps://www.bilibili.com/video/BV1AF411b7xQ?t=1581.1</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#gpt-2","title":"GPT-2","text":"<p>GPT-1 \u200b\u548c\u200b BERT \u200b\u90fd\u200b\u662f\u200b\u5148\u200b\u5728\u200b\u5927\u91cf\u200b\u65e0\u200b\u6807\u7b7e\u200b\u6570\u636e\u200b\u4e0a\u9884\u200b\u8bad\u7ec3\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u6709\u200b\u76d1\u7763\u200b\u7684\u200b\u5fae\u8c03\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u6837\u200b\u4e5f\u200b\u6709\u200b\u4e24\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li>\u200b\u5bf9\u4e8e\u200b\u4e0b\u6e38\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u4efb\u52a1\u200b\uff0c\u200b\u8fd8\u662f\u200b\u8981\u200b\u91cd\u65b0\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u3002</li> <li>\u200b\u9700\u8981\u200b\u6536\u96c6\u200b\u6709\u200b\u6807\u7b7e\u200b\u7684\u200b\u6570\u636e\u200b\u3002</li> </ul> <p>\u200b\u8fd9\u6837\u200b\u5bfc\u81f4\u200b\u5728\u200b\u62d3\u5c55\u200b\u5230\u200b\u65b0\u200b\u4efb\u52a1\u200b\u4e0a\u65f6\u200b\u8fd8\u662f\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6210\u672c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0cGPT-2 \u200b\u63d0\u51fa\u200b\u5229\u7528\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u505a\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u7684\u200b\u4efb\u4f55\u200b\u6807\u6ce8\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5373\u200b <code>zero-shot</code> \u200b\u8bbe\u5b9a\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u7528\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u3002\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5b9e\u73b0\u200b\u4e00\u52b3\u6c38\u9038\u200b\uff1a\u200b\u8bad\u7ec3\u200b\u4e00\u4e2a\u200b\u6a21\u578b\u200b\uff0c\u200b\u5728\u200b\u591a\u4e2a\u200b\u4efb\u52a1\u200b\u4e0a\u200b\u90fd\u200b\u80fd\u200b\u7528\u200b\u3002\u200b\u5f53\u7136\u200b\uff0c\u200b\u8981\u200b\u5b9e\u73b0\u200b\u4e00\u52b3\u6c38\u9038\u200b\u662f\u200b\u6709\u200b\u4ee3\u4ef7\u200b\u7684\u200b\uff0cGPT-2 \u200b\u7684\u200b\u53c2\u200b\u6570\u91cf\u200b\u5c31\u200b\u8fbe\u5230\u200b\u4e86\u200b 15 \u200b\u4ebf\u4e2a\u200b\uff0c\u200b\u6bd4\u200b GPT-1 \u200b\u7684\u200b 1.17 \u200b\u4ebf\u200b \u200b\u4e2a\u200b\u591a\u200b\u4e86\u200b 10 \u200b\u51e0\u500d\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#zero-shot","title":"Zero-shot","text":"<p>Zero-shot \u200b\u662f\u200b\u6307\u200b\uff1a\u200b\u5728\u200b\u5e94\u7528\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u7684\u200b\u4efb\u4f55\u200b\u6807\u6ce8\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u5728\u4e0b\u6e38\u4efb\u52a1\u7684\u8f93\u5165\u5f62\u5f0f\u4e0agpt-2-\u4e0e-gpt-1-\u7684\u533a\u522b","title":"\u5728\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u7684\u200b\u8f93\u5165\u200b\u5f62\u5f0f\u200b\u4e0a\u200b\uff0cGPT-2 \u200b\u4e0e\u200b GPT-1 \u200b\u7684\u200b\u533a\u522b","text":"<p>GPT-1 \u200b\u5728\u200b\u505a\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u65f6\u4f1a\u200b\u5bf9\u200b\u8f93\u5165\u200b\u8fdb\u884c\u200b\u6784\u9020\u200b\uff0c\u200b\u5f15\u5165\u200b\u4e86\u200b<code>Start\u3001Delim\u3001Extract</code>\u200b\u8fd9\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\uff0c\u200b\u800c\u9884\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u89c1\u5230\u200b\u7684\u200b\u662f\u200b\u81ea\u7136\u200b\u6587\u672c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\u5728\u200b\u9884\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u662f\u200b\u4ece\u6765\u200b\u6ca1\u6709\u200b\u51fa\u73b0\u200b\u8fc7\u200b\u7684\u200b\u3002\u200b\u4f46\u200b\u56e0\u4e3a\u200b\u6709\u200b\u5fae\u8c03\u200b\u7684\u200b\u73af\u8282\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6a21\u578b\u200b\u662f\u200b\u53ef\u4ee5\u200b\u8ba4\u8bc6\u200b\u8fd9\u4e9b\u200b\u7b26\u53f7\u200b\u5230\u200b\u3002</p> <p>\u200b\u7136\u800c\u200b GPT-2 \u200b\u662f\u200b zero-shot \u200b\u7684\u200b\uff0c\u200b\u5728\u200b\u505a\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u8c03\u6574\u200b\u4e86\u200b\uff0c\u200b\u5982\u679c\u200b\u8fd8\u200b\u5f15\u5165\u200b\u4e00\u4e9b\u200b\u6a21\u578b\u200b\u4e4b\u524d\u200b\u6ca1\u89c1\u200b\u8fc7\u200b\u7684\u200b\u7b26\u53f7\u200b\u7684\u8bdd\u200b\uff0c\u200b\u6a21\u578b\u200b\u5c31\u200b\u4f1a\u200b\u611f\u5230\u200b\u5f88\u200b\u56f0\u60d1\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u6784\u9020\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u7684\u200b\u8f93\u5165\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u5f15\u5165\u200b\u6a21\u578b\u200b\u672a\u89c1\u200b\u8fc7\u200b\u7684\u200b\u7b26\u53f7\u200b\uff0c\u200b\u800c\u200b\u8981\u200b\u4f7f\u5f97\u200b\u8f93\u5165\u200b\u50cf\u200b\u6a21\u578b\u200b\u9884\u200b\u8bad\u7ec3\u200b\u65f6\u200b\u89c1\u5230\u200b\u7684\u200b\u81ea\u7136\u200b\u6587\u672c\u200b\u4e00\u6837\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <ul> <li> <p>\u200b\u673a\u5668\u7ffb\u8bd1\u200b\u4efb\u52a1\u200b\uff1a<code>translate to french, english text, french text</code>\u3002\u201ctranslate to french\u201d\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u8bcd\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u5206\u9694\u7b26\u200b\uff0c\u200b\u5373\u200b Prompt\u3002</p> </li> <li> <p>\u200b\u9605\u8bfb\u200b\u7406\u89e3\u200b\u4efb\u52a1\u200b\uff1a<code>answer the question, document, question, answer</code>\u3002</p> </li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u4e3a\u4ec0\u4e48\u52a0\u5165-prompt-\u5c31\u80fd-zero-shot-\u5730\u5b8c\u6210\u4e0b\u6e38\u4efb\u52a1","title":"\u4e3a\u4ec0\u4e48\u200b\u52a0\u5165\u200b Prompt \u200b\u5c31\u200b\u80fd\u200b Zero-shot \u200b\u5730\u200b\u5b8c\u6210\u200b\u4e0b\u6e38\u200b\u4efb\u52a1","text":"<p>\u200b\u4e00\u4e2a\u200b\u53ef\u80fd\u200b\u7684\u200b\u539f\u56e0\u200b\uff1a</p> <p>\u200b\u4f5c\u8005\u200b\u5728\u200b\u63cf\u8ff0\u200b\u6570\u636e\u200b\u65f6\u200b\u63d0\u5230\u200b\uff0c\u200b\u5728\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5c31\u200b\u5305\u62ec\u200b\u4e00\u4e9b\u200b\u548c\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b Prompt \u200b\u5f88\u200b\u50cf\u200b\u7684\u200b\u6587\u672c\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u4e2d\u6709\u200b <code>\u201c\u200b\u4f60\u597d\u200b\u201d\u200b\u7ffb\u8bd1\u6210\u200b\u82f1\u6587\u200b\u662f\u200b Hello</code>\uff0c\u200b\u90a3\u4e48\u200b\uff0c\u200b\u5728\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b Prompt \u200b\u8bbe\u200b\u4e3a\u200b\u201c\u200b\u7ffb\u8bd1\u6210\u200b\u82f1\u6587\u200b\u201d\uff0c\u200b\u6a21\u578b\u200b\u5c31\u200b\u80fd\u200b\u7406\u89e3\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u662f\u200b\u8981\u200b\u505a\u200b\u4ec0\u4e48\u200b\u4e86\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#gpt-3","title":"GPT-3","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#few-shot","title":"Few-shot","text":"<p>GPT-3 \u200b\u662f\u200b\u5229\u7528\u200b\u5c11\u91cf\u200b\u6837\u672c\u200b\u53bb\u200b\u5b66\u4e60\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b Few-shot\u3002\u200b\u56e0\u4e3a\u200b\u4eba\u7c7b\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u505a\u5230\u200b\u201c\u200b\u4e0d\u770b\u200b\u4efb\u4f55\u200b\u6837\u4f8b\u200b\u5c31\u200b\u80fd\u200b\u5b66\u4e60\u200b\u201d\u200b\u7684\u200b\uff0c\u200b\u800c\u662f\u200b\u901a\u8fc7\u200b\u5c11\u91cf\u200b\u6837\u4f8b\u200b\u624d\u80fd\u200b\u6709\u6548\u200b\u5730\u200b\u4e3e\u4e00\u53cd\u4e09\u200b\u3002</p> <p>\u200b\u4e0b\u56fe\u200b\u5bf9\u6bd4\u200b\u4e86\u200b\u4e09\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b Shot\uff08\u200b\u5de6\u8fb9\u200b\uff09\u200b\u548c\u200b\u5fae\u8c03\u200b\uff08\u200b\u53f3\u8fb9\u200b\uff09\u200b\u7684\u200b\u533a\u522b\u200b\u3002\u200b\u5fae\u8c03\u200b\u662f\u200b\u9700\u8981\u200b\u66f4\u65b0\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b Shot \u200b\u4e0d\u7528\u200b\u3002</p> <ul> <li> <p>Zero-shot \u200b\u662f\u200b\u5728\u200b\u9884\u6d4b\u200b\u65f6\u200b\u63d0\u4f9b\u200b Task description \u200b\u548c\u200b Prompt\uff0c \u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b Example \uff1b</p> </li> <li> <p>One-shot \u200b\u662f\u200b\u63d0\u4f9b\u200b Task description\u3001 \u200b\u4e00\u4e2a\u200b Example \u200b\u548c\u200b Prompt\uff1b</p> </li> <li>Few-shot \u200b\u662f\u200b\u63d0\u4f9b\u200b Task description\u3001 \u200b\u591a\u4e2a\u200b Example \u200b\u548c\u200b Prompt\u3002</li> </ul> <p></p> <p>\u200b\u7531\u4e8e\u200b GPT-3 \u200b\u5e9e\u5927\u200b\u7684\u200b\u4f53\u91cf\u200b\uff0c\u200b\u5728\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u8fdb\u884c\u200b\u5fae\u8c03\u200b\u7684\u200b\u6210\u672c\u200b\u4f1a\u200b\u5f88\u5927\u200b\u3002\u200b\u56e0\u6b64\u200b GPT-3 \u200b\u4f5c\u7528\u200b\u5230\u200b\u4e0b\u200b\u6e38\u5b50\u200b\u4efb\u52a1\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u5bf9\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u4efb\u4f55\u200b\u7684\u200b\u68af\u5ea6\u200b\u66f4\u65b0\u200b\u3002</p> <p>GPT-3 \u200b\u8bad\u7ec3\u200b\u4e86\u200b 8 \u200b\u4e2a\u200b\u4e0d\u540c\u200b\u5927\u5c0f\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6700\u5927\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u53c2\u200b\u6570\u91cf\u200b\u8fbe\u5230\u200b\u4e86\u200b 1,750 \u200b\u4ebf\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#instructgpt","title":"InstructGPT","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u8bed\u8a00\u6a21\u578b\u7684\u76ee\u6807\u51fd\u6570\u6ca1\u6709\u5bf9\u9f50aligned\u56e0\u6b64\u4f1a\u751f\u6210\u6709\u5bb3\u7684\u8a00\u8bba","title":"\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u6ca1\u6709\u200b\u5bf9\u9f50\u200b\uff08aligned\uff09\uff0c\u200b\u56e0\u6b64\u200b\u4f1a\u200b\u751f\u6210\u200b\u6709\u5bb3\u200b\u7684\u200b\u8a00\u8bba","text":"<ul> <li> <p>\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\uff1a\u200b\u7ed9\u5b9a\u200b\u4e00\u6bb5\u200b\u6587\u672c\u200b\uff0c\u200b\u9884\u6d4b\u200b\u8fd9\u200b\u6bb5\u200b\u6587\u672c\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8bcd\u200b \u3002</p> </li> <li> <p>\u200b\u4eba\u7c7b\u200b\u5e0c\u671b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\uff1a\u200b\u6839\u636e\u200b\u4eba\u200b\u7684\u200b\u6307\u793a\u200b\uff0c\u200b\u751f\u6210\u200b \u200b\u6709\u200b\u5e2e\u52a9\u200b\u7684\u200b\u548c\u200b\u5b89\u5168\u200b\u7684\u200b \u200b\u5185\u5bb9\u200b\u3002</p> </li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#instructgpt-\u7684\u6570\u636e\u6807\u6ce8\u4e0e\u8bad\u7ec3\u6b65\u9aa4","title":"InstructGPT \u200b\u7684\u200b\u6570\u636e\u200b\u6807\u6ce8\u200b\u4e0e\u200b\u8bad\u7ec3\u200b\u6b65\u9aa4","text":"<p>\u200b\u4e00\u5171\u200b\u5206\u4e09\u6b65\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\uff1a\u200b\u6709\u200b\u76d1\u7763\u200b\u7684\u200b\u5fae\u8c03\u200b\uff08Supervised Fint-tune, SFT\uff09\u3001\u200b\u5956\u52b1\u200b\u6a21\u578b\u200b\uff08Reward Model, RM\uff09\u200b\u548c\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u6709\u76d1\u7763\u7684\u5fae\u8c03supervised-fint-tune-sft","title":"\u6709\u200b\u76d1\u7763\u200b\u7684\u200b\u5fae\u8c03\u200b\uff08Supervised Fint-tune, SFT\uff09","text":"<p>\u200b\u62bd\u53d6\u200b\u4e00\u4e2a\u200b Prompt\uff0c \u200b\u4eba\u5de5\u200b\u751f\u6210\u200b\u56de\u7b54\u200b\u3002\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u548c\u200b GPT-3 \u200b\u4e2d\u200b\u7684\u200b\u5fae\u8c03\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\u3002\u200b\u5177\u4f53\u200b\u7684\u200b\u505a\u6cd5\u200b\u662f\u200b\uff1a\u200b\u5c06\u200b Prompt \u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\uff0c\u200b\u5c06\u200b\u4eba\u5de5\u200b\u751f\u6210\u200b\u7684\u200b\u56de\u7b54\u200b\u4f5c\u4e3a\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5e76\u200b\u5fae\u8c03\u200b GPT-3 \u200b\u7684\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u5956\u52b1\u6a21\u578breward-model-rm","title":"\u5956\u52b1\u200b\u6a21\u578b\u200b\uff08Reward Model, RM\uff09","text":"<p>\u200b\u62bd\u53d6\u200b\u4e00\u4e2a\u200b Prompt\uff0c\u200b\u8ba9\u200b\u6a21\u578b\u200b\u751f\u6210\u200b\u591a\u4e2a\u200b\u56de\u7b54\u200b\uff0c\u200b\u518d\u200b\u8ba9\u200b \u200b\u4eba\u5de5\u200b\u5bf9\u200b\u8fd9\u4e9b\u200b\u56de\u7b54\u200b\u7684\u200b\u8d28\u91cf\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b \u3002\u200b\u5177\u4f53\u505a\u6cd5\u200b\u662f\u200b\uff1a\u200b\u7528\u200b\u4e00\u4e2a\u200b\u66f4\u200b\u7b80\u5316\u200b\u7684\u200b GPT \u200b\u6a21\u578b\u200b\uff08\u200b\u8bba\u6587\u200b\u4e2d\u200b\u53ea\u7528\u200b\u4e86\u200b 60 \u200b\u4ebf\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u7248\u672c\u200b\uff09\u200b\u751f\u6210\u200b \\(K\\) \u200b\u4e2a\u200b\u56de\u7b54\u200b\uff0c\u200b\u5e76\u200b\u4eba\u5de5\u200b\u5bf9\u200b \\(K\\)\uff08\u200b\u8bba\u6587\u200b\u4e2d\u200b \\(K=9\\) \uff09\u200b\u4e2a\u200b\u56de\u7b54\u200b\u7684\u200b\u8d28\u91cf\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u5956\u52b1\u200b\u6a21\u578b\u200b\u9700\u8981\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u56de\u7b54\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\uff0c\u200b\u5e76\u4e14\u200b\u52aa\u529b\u200b\u4f7f\u5f97\u200b\uff1a\u200b\u82e5\u200b\u56de\u7b54\u200b A \u200b\u7684\u200b\u8d28\u91cf\u200b\u6bd4\u200b\u56de\u7b54\u200b B \u200b\u7684\u200b\u8d28\u91cf\u200b\u9ad8\u200b\uff0c\u200b\u90a3\u4e48\u200b\u56de\u7b54\u200b A \u200b\u83b7\u5f97\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u4e5f\u200b\u5e94\u8be5\u200b\u6bd4\u200b\u56de\u7b54\u200b B \u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u9ad8\u200b\u3002</p> <p>\u200b\u5956\u52b1\u200b\u6a21\u578b\u200b\u9700\u8981\u200b\u5206\u8fa8\u200b\u51fa\u200b\u201c\u200b\u54ea\u4e2a\u200b\u56de\u7b54\u200b\u7684\u200b\u8d28\u91cf\u200b\u66f4\u9ad8\u200b\u201d\uff0c\u200b\u5b83\u200b\u5c06\u200b \\(K\\) \u200b\u4e2a\u200b\u56de\u7b54\u200b\u4e4b\u95f4\u200b\u505a\u200b\u4e24\u200b\u4e24\u200b\u5bf9\u6bd4\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5982\u4e0b\u200b\u7684\u200b\u4e24\u200b\u4e24\u200b\u6392\u5e8f\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff08Pairwise Ranking Loss\uff09\uff1a</p> \\[ \\operatorname{loss}(\\theta)=-\\frac{1}{\\left(\\begin{array}{c} K \\\\ 2 \\end{array}\\right)} E_{\\left(x, y_w, y_l\\right) \\sim D}\\left[\\log \\left(\\sigma\\left({\\color{red}{r_\\theta\\left(x, y_w\\right)}}-{\\color{blue}{r_\\theta\\left(x, y_l\\right)}}\\right)\\right)\\right] \\] <ul> <li>\u200b\u7ea2\u8272\u200b\u90e8\u5206\u200b \\({\\color{red}{r_\\theta\\left(x, y_w\\right)}}\\)\u200b\u4e0b\u6807\u200b\u4e3a\u200b w\uff0cw \u200b\u610f\u5473\u7740\u200b win\uff0c\u200b\u5b83\u200b\u4ee3\u8868\u200b\uff1a\u200b\u4eba\u5de5\u200b\u66f4\u52a0\u200b\u504f\u597d\u200b\u7684\u200b\u90a3\u4e2a\u200b\u56de\u7b54\u200b\uff0c\u200b\u6240\u200b\u80fd\u200b\u5f97\u5230\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u3002</li> <li>\u200b\u84dd\u8272\u200b\u90e8\u5206\u200b \\({\\color{blue}{r_\\theta\\left(x, y_l\\right)}}\\)\u200b\u4e0b\u6807\u200b\u4e3a\u200b l\uff0cl \u200b\u610f\u5473\u7740\u200b lose\uff0c\u200b\u5b83\u200b\u4ee3\u8868\u200b\uff1a\u200b\u4eba\u5de5\u200b\u66f4\u52a0\u200b\u8ba8\u538c\u200b\u7684\u200b\u90a3\u4e2a\u200b\u56de\u7b54\u200b\uff0c\u200b\u6240\u200b\u80fd\u200b\u5f97\u5230\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u3002</li> <li>\u200b\u6211\u4eec\u200b\u5f53\u7136\u200b\u5e0c\u671b\u200b\u7ea2\u8272\u200b\u6bd4\u200b\u84dd\u8272\u200b\u9ad8\u200b\uff0c\u200b\u8fd9\u6837\u200b\u624d\u80fd\u200b\u533a\u5206\u200b\u51fa\u200b\u4e0d\u540c\u200b\u8d28\u91cf\u200b\u7684\u200b\u56de\u7b54\u200b\u3002\u200b\u5c06\u200b\u4e24\u8005\u200b\u7684\u200b\u5dee\u503c\u200b\u653e\u5230\u200b \\(\\sigma\\) \u200b\u8fd9\u4e2a\u200b Sigmoid \u200b\u51fd\u6570\u200b\u4e2d\u540e\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u5728\u200b \\(0\\) \u200b\u5230\u200b \\(1\\) \u200b\u4e4b\u95f4\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b \\(1\\)\u3002</li> <li>\u200b\u518d\u53d6\u200b \\(\\log\\)\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u5728\u200b \\(-\\infty\\) \u200b\u5230\u200b \\(0\\) \u200b\u4e4b\u95f4\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u4e8e\u200b \\(0\\)\u3002</li> <li>\u200b\u9664\u4ee5\u200b \\(\\left(\\begin{array}{c}K \\\\2\\end{array}\\right)\\) \u200b\u662f\u200b\u4e3a\u4e86\u200b\u9632\u6b62\u200b\u635f\u5931\u200b\u503c\u56e0\u200b \\(K\\) \u200b\u7684\u200b\u53d8\u5316\u200b\u800c\u200b\u53d8\u5316\u200b\u592a\u200b\u591a\u200b\u3002</li> <li>\u200b\u6700\u540e\u200b\u518d\u53d6\u200b\u76f8\u53cd\u6570\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u5728\u200b \\(0\\) \u200b\u5230\u200b \\(+\\infty\\) \u200b\u4e4b\u95f4\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u4e8e\u200b \\(0\\)\uff0c\u200b\u56e0\u6b64\u200b\u8981\u200b\u6700\u5c0f\u5316\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u7684\u200b\u503c\u200b\u3002</li> </ul> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u53d6\u200b \\(K=9\\) \uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u524d\u4eba\u200b\u4f7f\u7528\u200b\u7684\u200b \\(K=4\\) \uff1f</p> <p>\u200b\u7b2c\u4e00\u200b\uff0c\\(K\\) \u200b\u53d6\u5927\u200b\u4e00\u4e9b\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u5728\u200b\u66f4\u200b\u77ed\u200b\u7684\u200b\u65f6\u95f4\u200b\u5185\u200b\u83b7\u5f97\u200b\u66f4\u200b\u5927\u91cf\u200b\u7684\u200b\u6807\u6ce8\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u4eba\u5de5\u200b\u5bf9\u200b\u95ee\u9898\u200b\u505a\u200b\u6807\u6ce8\u200b\u65f6\u200b\uff0c\u200b\u770b\u200b\u61c2\u200b Prompt \u200b\u662f\u200b\u9700\u8981\u200b\u82b1\u200b\u5927\u91cf\u200b\u65f6\u95f4\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u770b\u200b\u61c2\u200b\u7b54\u6848\u200b\u5e76\u200b\u4e3a\u200b\u5404\u4e2a\u200b\u7b54\u6848\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u5e76\u4e0d\u9700\u8981\u200b\u82b1\u8d39\u200b\u592a\u200b\u591a\u200b\u65f6\u95f4\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a\u200b\u82e5\u200b\u770b\u200b\u61c2\u200b 1 \u200b\u4e2a\u200b Prompt \u200b\u9700\u8981\u200b 60 \u200b\u79d2\u949f\u200b\uff0c\u200b\u770b\u200b\u61c2\u200b 1 \u200b\u4e2a\u200b\u56de\u7b54\u200b\u9700\u8981\u200b 10 \u200b\u79d2\u949f\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u53d6\u200b \\(K=4\\)\uff0c\u200b\u90a3\u4e48\u200b\u9700\u8981\u200b\u82b1\u200b \\(60+10*4=100\\) \u200b\u79d2\u200b\u6765\u200b\u5f97\u5230\u200b 4 \u200b\u4e2a\u200b\u6392\u5e8f\u200b\u6807\u6ce8\u200b\u3002\u200b\u4f46\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u53d6\u200b \\(K=9\\)\uff0c\u200b\u90a3\u4e48\u200b\u53ea\u200b\u9700\u8981\u200b\u82b1\u200b \\(60+10*9=150\\) \u200b\u79d2\u200b\u5c31\u200b\u80fd\u200b\u5f97\u5230\u200b 9 \u200b\u4e2a\u200b\u6392\u5e8f\u200b\u6807\u6ce8\u200b\u3002\u200b\u540e\u8005\u200b\u80fd\u591f\u200b\u5f97\u200b\u524d\u8005\u200b\u4e24\u500d\u200b\u591a\u200b\u7684\u200b\u6807\u6ce8\u200b\u91cf\u200b\uff0c\u200b\u4f46\u200b\u540e\u8005\u200b\u82b1\u200b\u7684\u200b\u65f6\u95f4\u200b\u53ea\u200b\u6bd4\u200b\u524d\u8005\u200b\u591a\u200b\u4e86\u200b \\(50\\%\\)\u3002</p> <p>\u200b\u7b2c\u4e8c\u200b\uff0c\\(K\\) \u200b\u53d6\u5927\u200b\u4e00\u4e9b\u200b\u66f4\u80fd\u200b\u51cf\u5c11\u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\u65f6\u200b\u7684\u200b\u8ba1\u7b97\u200b\u91cf\u200b\u3002</p> <p>\u200b\u82e5\u200b \\(K=9\\)\uff0c\u200b\u5728\u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\u65f6\u200b\uff0c\u200b\u867d\u7136\u200b\u6709\u200b \\(\\left(\\begin{array}{c}9 \\\\2\\end{array}\\right) = 36\\) \u200b\u9879\u200b\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b\u53ea\u6709\u200b \\(9\\) \u200b\u9879\u662f\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b\u7684\u200b\uff0c\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u91cd\u590d\u200b\u5730\u7528\u200b\u8fd9\u200b \\(9\\) \u200b\u9879\u200b\u6570\u503c\u200b\u3002\\(K\\) \u200b\u8d8a\u5927\u200b\uff0c\u200b\u8fd9\u90e8\u5206\u200b\u8ba1\u7b97\u200b\u8282\u7ea6\u200b\u7684\u200b\u65f6\u95f4\u200b\u4e5f\u200b\u5c31\u200b\u8d8a\u200b\u591a\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/gpt/#\u5f3a\u5316\u5b66\u4e60","title":"\u5f3a\u5316\u200b\u5b66\u4e60","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u505a\u200b\u7684\u200b\u662f\u200b\uff1a\u200b\u8bad\u7ec3\u200b\u4e00\u4e2a\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u4e0e\u200b\u4eba\u200b\u7684\u200b\u504f\u597d\u200b\u6700\u200b\u63a5\u8fd1\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u7ed9\u5b9a\u200b Prompt \\(x\\)\uff0c\u200b\u6a21\u578b\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u56de\u7b54\u200b \\(y\\)\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b \\(y\\) \u200b\u6240\u200b\u80fd\u591f\u200b\u5f97\u5230\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u8d8a\u9ad8\u8d8a\u200b\u597d\u200b\u3002</p> <p>\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\uff1a</p> \\[ \\begin{aligned} \\text { objective }(\\phi)= &amp; E_{(x, y) \\sim D_\\pi^{\\mathrm{RL}}}\\left[r_\\theta(x, y)-\\beta \\log \\left(\\pi_\\phi^{\\mathrm{RL}}(y \\mid x) / \\pi^{\\mathrm{SFT}}(y \\mid x)\\right)\\right]+ \\\\ &amp; \\gamma E_{x \\sim D_{\\text {pretrain }}}\\left[\\log \\left(\\pi_\\phi^{\\mathrm{RL}}(x)\\right)\\right] \\end{aligned} \\] <p>\u200b\u7b2c\u4e00\u9879\u200b\u662f\u200b \\(r_\\theta(x, y)\\)\uff0c\u200b\u5b83\u200b\u5c31\u662f\u200b\u5c06\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u5165\u200b \\(x\\) \u200b\u548c\u200b\u8f93\u51fa\u200b \\(y\\) \u200b\u653e\u5165\u200b\u4e0a\u200b\u4e00\u8282\u200b\u7684\u200b\u5956\u52b1\u200b\u6a21\u578b\u200b RM \u200b\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u3002\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u7b26\u5408\u200b\u4eba\u200b\u7684\u200b\u504f\u597d\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5e0c\u671b\u200b\u7b2c\u4e00\u9879\u200b \u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b \u3002</p> <p>\u200b\u7b2c\u4e8c\u9879\u200b\u662f\u200b \\(-\\beta \\log \\left(\\pi_\\phi^{\\mathrm{RL}}(y \\mid x) / \\pi^{\\mathrm{SFT}}(y \\mid x)\\right)\\)\u3002\\(\\log\\) \u200b\u7684\u200b\u90e8\u5206\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\uff1a\u200b\u5f53\u524d\u200b\u8fdb\u5316\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4e0e\u200b\u6700\u521d\u200b\u7684\u200b\u6a21\u578b\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u521a\u521a\u5f00\u59cb\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u7684\u200b\u6a21\u578b\u200b\uff09\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4e24\u8005\u4e4b\u95f4\u200b\u7684\u200b KL \u200b\u6563\u5ea6\u200b\u3002\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u4e00\u81f4\u200b\uff0c\u200b\u5219\u200b\u6bd4\u503c\u200b\u4e3a\u200b \\(1\\)\uff0c\u200b\u53d6\u200b \\(\\log\\) \u200b\u540e\u200b\u4e3a\u200b \\(0\\)\u3002\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u5219\u200b KL \u200b\u6563\u5ea6\u200b\u4e00\u5b9a\u200b\u5927\u4e8e\u200b \\(0\\)\u3002</p> <p>KL \u200b\u6563\u5ea6\u200b\u662f\u200b\u4e00\u4e2a\u200b\u671f\u671b\u200b\u4e0a\u200b\u7684\u200b\u5206\u5e03\u200b\u5dee\u8ddd\u200b\uff0c\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u91cc\u200b\u5bf9\u200b \\(D_\\pi^{\\mathrm{RL}}\\) \u200b\u53d6\u200b\u671f\u671b\u200b\uff0c\u200b\u800c\u200b \\(\\pi_\\phi^{\\mathrm{RL}}(y \\mid x)\\) \u200b\u653e\u5728\u200b \\(\\log\\) \u200b\u5185\u200b\u7684\u200b\u5206\u5b50\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u200b\u5c31\u662f\u200b KL \u200b\u6563\u5ea6\u200b\u7684\u200b\u5b9a\u4e49\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ea\u200b\u77e5\u9053\u200b\u521a\u521a\u5f00\u59cb\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u968f\u540e\u200b\u6a21\u578b\u200b\u7ee7\u7eed\u200b\u8fdb\u5316\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e76\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u5b83\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u662f\u5426\u200b\u80fd\u200b\u53cd\u6620\u200b\u56de\u7b54\u200b\u7684\u200b\u8d28\u91cf\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u4e24\u4e2a\u200b\u8f93\u51fa\u200b\u7684\u200b\u6982\u7387\u5206\u5e03\u200b\u4e0d\u8981\u200b\u504f\u79bb\u200b\u592a\u8fdc\u200b\uff0c\u200b\u5426\u5219\u200b\u7b2c\u4e00\u9879\u200b\u7684\u200b\u5956\u52b1\u200b\u5206\u6570\u200b\u53ef\u80fd\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u771f\u6b63\u200b\u53cd\u6620\u200b\u51fa\u200b\u5f53\u524d\u200b\u8fdb\u5316\u200b\u7684\u200b\u6a21\u578b\u200b\u4e0e\u200b\u4eba\u200b\u7684\u200b\u504f\u597d\u200b\u7684\u200b\u63a5\u8fd1\u200b\u7a0b\u5ea6\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u7b2c\u4e8c\u9879\u200b\u7684\u200b KL \u200b\u6563\u5ea6\u200b\u8d8a\u5c0f\u8d8a\u200b\u597d\u200b\uff0c\u200b\u53d6\u200b\u76f8\u53cd\u6570\u200b\u540e\u200b \u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b \u3002</p> <p>\u200b\u4ee5\u4e0a\u200b\u4e24\u9879\u200b\u5c31\u200b\u6784\u6210\u200b\u4e86\u200b PPO\uff08Proximal Policy Optimization\uff09\u200b\u7b97\u6cd5\u200b\u3002</p> <p>\u200b\u7b2c\u4e09\u9879\u200b\u662f\u200b \\(\\gamma E_{x \\sim D_{\\text {pretrain }}}\\left[\\log \\left(\\pi_\\phi^{\\mathrm{RL}}(x)\\right)\\right]\\)\u3002\u200b\u5b83\u200b\u662f\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\uff0c\u200b\u5373\u200b\u5e0c\u671b\u200b\u591a\u200b\u504f\u5411\u200b\u4e8e\u200b\u539f\u59cb\u200b GPT-3 \u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5e0c\u671b\u200b\u5b83\u200b \u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b \u3002</p> <p>\u200b\u52a0\u4e0a\u200b\u8fd9\u200b\u4e00\u9879\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u6784\u6210\u200b\u4e86\u200b PPO-ptx \u200b\u6a21\u578b\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/proof-that-p-values-under-the-null-are-uniformly-distributed/","title":"\u4e3a\u4ec0\u4e48\u200b P \u200b\u503c\u200b\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\uff1f","text":"<p>\u200b\u5728\u200b\u5b66\u4e60\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u65f6\u200b\uff0c\u200b\u63d0\u5230\u200b\u4e86\u200b\u201cP \u200b\u503c\u200b\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u201d\u200b\u8fd9\u4e2a\u200b\u7ed3\u8bba\u200b\u3002\u200b\u672c\u6587\u200b\u5bf9\u200b\u201c\u200b\u5355\u8fb9\u200b\u68c0\u9a8c\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u53cc\u8fb9\u200b\u68c0\u9a8c\u200b\u201d\u200b\u7684\u200b\u60c5\u5f62\u200b\uff0c\u200b\u8bc1\u660e\u200b\u4e86\u200b P \u200b\u503c\u200b\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/proof-that-p-values-under-the-null-are-uniformly-distributed/#\u76f4\u89c9\u7406\u89e3","title":"\u76f4\u89c9\u200b\u7406\u89e3","text":"<p>\u200b\u76f4\u89c9\u200b\u7406\u89e3\u200b</p> <p>\u200b\u4ee5\u200b\u5355\u8fb9\u200b\u5de6\u4fa7\u200b\u68c0\u9a8c\u200b\u4e3a\u4f8b\u200b\uff08\u200b\u5355\u8fb9\u200b\u68c0\u9a8c\u200b\u6700\u597d\u200b\u7406\u89e3\u200b\uff0c\u200b\u4e0d\u7528\u200b\u8003\u8651\u200b\u4e24\u4fa7\u200b\u7684\u200b\u60c5\u51b5\u200b\uff09\uff0c\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u60f3\u200b\uff1a</p> <p>P \u200b\u503c\u200b\u5c0f\u4e8e\u200b \\(0.25\\) \u200b\u610f\u5473\u7740\u200b\u4ec0\u4e48\u200b\uff1f\u200b\u610f\u5473\u7740\u200b\u89c2\u6d4b\u200b\u5230\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u8981\u200b\u5c0f\u4e8e\u200b \\(0.25\\) \u200b\u5206\u200b\u4f4d\u6570\u200b\u3002</p> <p>\u200b\u89c2\u6d4b\u200b\u5230\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u5c0f\u4e8e\u200b \\(0.25\\) \u200b\u5206\u200b\u4f4d\u6570\u200b\u7684\u200b\u6982\u7387\u200b\u662f\u200b\u591a\u5c11\u200b\uff1f\u200b\u5c31\u662f\u200b \\(0.25\\)\u3002</p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0cP \u200b\u503c\u200b\u5c0f\u4e8e\u200b \\(0.25\\) \u200b\u7684\u200b\u6982\u7387\u200b\u5c31\u662f\u200b \\(0.25\\)\u3002</p> <p>\u200b\u628a\u200b \\(0.25\\) \u200b\u6362\u6210\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b \\(0\\) \u200b\u5230\u200b \\(1\\) \u200b\u4e4b\u95f4\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\uff1aP \u200b\u503c\u200b\u5c0f\u4e8e\u200b\u67d0\u4e2a\u200b\u6570\u200b\u7684\u200b\u6982\u7387\u200b\u5c31\u662f\u200b\u8fd9\u4e2a\u200b\u6570\u200b\u672c\u8eab\u200b\u3002\u200b\u8fd9\u200b\u5c31\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/proof-that-p-values-under-the-null-are-uniformly-distributed/#\u8bc1\u660e","title":"\u8bc1\u660e","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/proof-that-p-values-under-the-null-are-uniformly-distributed/#\u5355\u8fb9\u68c0\u9a8c","title":"\u5355\u8fb9\u200b\u68c0\u9a8c","text":"<p>https://statproofbook.github.io/P/pval-h0 \u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5355\u8fb9\u200b\u68c0\u9a8c\u200b\u65f6\u200b\u7684\u200b\u8bc1\u660e\u200b\uff1a</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/proof-that-p-values-under-the-null-are-uniformly-distributed/#\u53cc\u8fb9\u68c0\u9a8c","title":"\u53cc\u8fb9\u200b\u68c0\u9a8c","text":"<p>\u200b\u53c2\u7167\u200b\u540c\u6837\u200b\u7684\u200b\u601d\u8def\u200b\uff0c\u200b\u6211\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u53cc\u8fb9\u200b\u68c0\u9a8c\u200b\u65f6\u200b\u7684\u200b\u8bc1\u660e\u200b\uff1a</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/linear-programming-using-gurobi/","title":"Gurobi \u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898","text":"<p>\u200b\u672c\u6587\u200b\u9488\u5bf9\u200b\u94a2\u94c1\u4f01\u4e1a\u200b\u5bf9\u200b\u4f9b\u5e94\u5546\u200b\u7684\u200b\u9009\u62e9\u200b\u95ee\u9898\u200b\uff0c\u200b\u6784\u5efa\u200b\u7ebf\u6027\u89c4\u5212\u200b\u6a21\u578b\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b Gurobi \u200b\u6c42\u89e3\u200b\u5668\u200b\u8fdb\u884c\u200b\u6c42\u89e3\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u9898\u76ee\u80cc\u666f","title":"\u9898\u76ee\u200b\u80cc\u666f","text":"<p>\u200b\u8003\u8651\u200b\u4e00\u5bb6\u200b\u5c0f\u578b\u200b\u7684\u200b\u94a2\u94c1\u4f01\u4e1a\u200b\uff0c\u200b\u8be5\u200b\u4f01\u4e1a\u200b\u70bc\u94a2\u200b\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u4e3b\u8981\u200b\u539f\u6750\u6599\u200b\u662f\u200b\u70bc\u7126\u7164\u200b\uff0c\u200b\u6bcf\u5e74\u200b\u7684\u200b\u9700\u6c42\u91cf\u200b\u5728\u200b 100 \u200b\u5230\u200b 150 \u200b\u4e07\u5428\u200b\u3002\u200b\u73b0\u5728\u200b\u9700\u8981\u200b\u5e2e\u52a9\u200b\u8be5\u200b\u516c\u53f8\u200b\u5b89\u6392\u200b\u660e\u5e74\u200b\u7684\u200b\u751f\u4ea7\u200b\uff0c\u200b\u9009\u62e9\u200b\u539f\u6599\u200b\u7684\u200b\u4f9b\u5e94\u5546\u200b\u3002\u200b\u76ee\u524d\u200b\u4ed6\u4eec\u200b\u6536\u5230\u200b\u4e86\u200b 8 \u200b\u5bb6\u200b\u4f9b\u5e94\u5546\u200b\u7684\u200b\u62a5\u4ef7\u200b\uff0c\u200b\u5982\u4e0b\u200b\u8868\u200b\u3002\u200b\u8868\u683c\u200b\u4e2d\u200b\u7684\u200b\u4fe1\u606f\u200b\u5305\u62ec\u200b\u4e86\u200b\u6bcf\u5bb6\u200b\u4f9b\u5e94\u5546\u200b\u7684\u200b\u6700\u5927\u200b\u4f9b\u5e94\u91cf\u200b\u3001\u200b\u662f\u5426\u200b\u4e3a\u200b\u5de5\u4f1a\u200b\u7684\u200b\u516c\u53f8\u200b\u3001\u200b\u8fd0\u8f93\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3001\u200b\u70bc\u7126\u7164\u200b\u7684\u200b\u53ef\u71c3\u200b\u7387\u200b\u3001\u200b\u5355\u4f4d\u200b\u4ef7\u683c\u200b\u3002</p> 1 2 3 4 5 6 7 8 \u200b\u4f9b\u5e94\u91cf\u200b \uff08\u200b\u5343\u5428\u200b/\u200b\u5e74\u200b\uff09 300 600 510 655 575 680 450 490 \u200b\u5de5\u4f1a\u200b U/ \u200b\u975e\u5de5\u4f1a\u200b N U U N U N U N N \u200b\u5361\u8f66\u200b T/ \u200b\u94c1\u8def\u200b R R T R T T T R R \u200b\u53ef\u71c3\u200b\u7387\u200b\uff08%\uff09 15 16 18 20 21 22 23 25 \u200b\u4ef7\u683c\u200b (\uffe5/\u200b\u5428\u200b) 49.5 50.0 61.0 63.5 66.5 71.0 72.5 80.0 <p>\u200b\u73b0\u5728\u200b\u8be5\u200b\u516c\u53f8\u200b\u6709\u200b\u5982\u4e0b\u200b\u8003\u91cf\u200b\uff1a</p> <ol> <li> <p>\u200b\u6839\u636e\u200b\u5bf9\u200b\u672a\u6765\u200b\u7684\u200b\u5f62\u52bf\u200b\u4f30\u8ba1\u200b\u548c\u200b\u751f\u4ea7\u200b\u73b0\u72b6\u200b\u7684\u200b\u8003\u5bdf\u200b\uff0c\u200b\u8be5\u200b\u516c\u53f8\u200b\u8ba1\u5212\u200b\u660e\u5e74\u200b\u8981\u200b\u8ba2\u8d2d\u200b 122.5 \u200b\u4e07\u5428\u200b\u7684\u200b\u70bc\u7126\u7164\u200b\u3002</p> </li> <li> <p>\u200b\u8981\u6c42\u200b\u8fd9\u4e9b\u200b\u70bc\u7126\u7164\u200b\u7684\u200b\u5e73\u5747\u200b\u53ef\u71c3\u200b\u7387\u200b\u81f3\u5c11\u200b\u8981\u200b\u8fbe\u5230\u200b 19%\u3002</p> </li> <li> <p>\u200b\u4e3a\u4e86\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u52b3\u5de5\u200b\u5173\u7cfb\u200b\uff0c\u200b\u8be5\u200b\u516c\u53f8\u200b\u51b3\u5b9a\u200b\u81f3\u5c11\u200b 50% \u200b\u7684\u200b\u70bc\u7126\u7164\u200b\u8981\u200b\u6765\u81ea\u200b\u4e8e\u200b\u5de5\u4f1a\u200b\u7164\u77ff\u200b\u3002</p> </li> <li> <p>\u200b\u6bcf\u5e74\u200b\u7531\u200b\u706b\u8f66\u200b\u8fd0\u8f93\u200b\u7684\u200b\u70bc\u7126\u7164\u200b\u91cf\u200b\u81f3\u591a\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 650 \u200b\u5343\u5428\u200b\uff0c\u200b\u800c\u200b\u7531\u200b\u5361\u8f66\u200b\u8fd0\u8f93\u200b\u7684\u200b\u70bc\u7126\u7164\u200b\u91cf\u200b\u81f3\u591a\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 720 \u200b\u5343\u5428\u200b\u3002 </p> </li> </ol> <p>\u200b\u73b0\u5728\u200b\u8981\u200b\u4f7f\u200b\u8be5\u200b\u516c\u53f8\u200b\u539f\u6750\u6599\u200b\u7684\u200b\u6210\u672c\u200b\u6700\u5c0f\u200b\uff0c\u200b\u5e94\u8be5\u200b\u4ece\u200b\u5404\u4e2a\u200b\u4f9b\u5e94\u5546\u200b\u5904\u200b\u8ba2\u8d2d\u200b\u591a\u5c11\u200b\u5428\u200b\u70bc\u7126\u7164\u200b\uff1f</p> <ol> <li> <p>\u200b\u5efa\u7acb\u200b\u6a21\u578b\u200b\u5e76\u200b\u6c42\u89e3\u200b\uff08\u200b\u8f6f\u4ef6\u200b\u6c42\u89e3\u200b\uff09\uff0c\u200b\u5e2e\u52a9\u200b\u8be5\u200b\u516c\u53f8\u200b\u5236\u5b9a\u200b\u91c7\u8d2d\u200b\u65b9\u6848\u200b\u3002</p> </li> <li> <p>\u200b\u8be5\u200b\u516c\u53f8\u200b\u539f\u6750\u6599\u200b\u7684\u200b\u8fb9\u9645\u200b\u6210\u672c\u200b\u662f\u200b\u591a\u5c11\u200b\uff1f\uff08\u200b\u5373\u200b\u591a\u200b\u8ba2\u8d2d\u200b\u4e00\u5428\u200b\u70bc\u7126\u7164\u200b\u7684\u200b\u6210\u672c\u200b\uff09</p> </li> <li> <p>\u200b\u8be5\u200b\u516c\u53f8\u200b\u4f1a\u200b\u8003\u8651\u200b\u6269\u5c55\u200b\u4ed6\u4eec\u200b\u7684\u200b\u5361\u8f66\u200b\u6216\u8005\u200b\u706b\u8f66\u200b\u8fd0\u8f93\u200b\u5417\u200b\uff1f\u200b\u5982\u679c\u200b\u4f1a\u200b\u7684\u8bdd\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u4f1a\u200b\u613f\u610f\u200b\u4e3a\u200b\u6269\u5c55\u200b\u76f8\u5e94\u200b\u7684\u200b\u8fd0\u8f93\u200b\u4e1a\u52a1\u200b\u652f\u4ed8\u200b\u591a\u5c11\u200b\u5462\u200b\uff1f</p> </li> <li> <p>\u200b\u8be5\u200b\u516c\u53f8\u200b\u73b0\u6709\u200b\u7684\u200b\u5bf9\u4e8e\u200b\u5de5\u4f1a\u200b\u6216\u8005\u200b\u975e\u5de5\u4f1a\u200b\u7164\u77ff\u200b\u7684\u200b\u8ba2\u8d2d\u200b\u9650\u5236\u200b\u8981\u6c42\u200b\u662f\u5426\u200b\u589e\u52a0\u200b\u4e86\u200b\u539f\u6750\u6599\u200b\u7684\u200b\u8ba2\u8d2d\u200b\u6210\u672c\u200b\uff1f\u200b\u662f\u5426\u200b\u9700\u8981\u200b\u4fee\u8ba2\u200b\u8be5\u200b\u653f\u7b56\u200b\u5462\u200b\uff1f</p> </li> <li> <p>\u200b\u76ee\u524d\u200b\u7684\u200b\u60c5\u51b5\u200b\u6765\u770b\u200b\uff0c\u200b\u4ece\u200b\u4f9b\u5e94\u5546\u200b 6 \u200b\u5904\u200b\u8ba2\u8d2d\u200b\u662f\u5426\u200b\u7ecf\u6d4e\u200b\u5462\u200b\uff1f\u200b\u5982\u679c\u200b\u4e0d\u200b\u7ecf\u6d4e\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f9b\u5e94\u5546\u200b 6 \u200b\u9700\u8981\u200b\u5982\u4f55\u200b\u964d\u4f4e\u200b\u81ea\u8eab\u200b\u7684\u200b\u5b9a\u4ef7\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u5f97\u200b\u8be5\u200b\u516c\u53f8\u200b\u4f1a\u200b\u5411\u200b\u4ed6\u4eec\u200b\u8ba2\u8d2d\u200b\uff1f</p> </li> <li> <p>\u200b\u8be5\u200b\u516c\u53f8\u200b\u4f1a\u4e3a\u200b\u4ece\u200b\u4f9b\u5e94\u5546\u200b 2 \u200b\u5904\u591a\u200b\u8ba2\u8d2d\u200b\u70bc\u7126\u7164\u200b\u800c\u200b\u63d0\u9ad8\u200b\u5b9a\u4ef7\u200b\u5417\u200b\uff1f\u200b\u5982\u679c\u200b\u4f1a\u200b\u7684\u8bdd\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8be5\u200b\u516c\u53f8\u200b\u4f1a\u200b\u613f\u610f\u200b\u4ee5\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u4ef7\u683c\u200b\u589e\u52a0\u200b\u591a\u5c11\u200b\u7684\u200b\u8ba2\u8d2d\u200b\u91cf\u200b\uff1f\u200b\u540c\u6837\u200b\u7684\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4f9b\u5e94\u5546\u200b 7 \u200b\u5462\u200b\uff1f</p> </li> </ol>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u5efa\u6a21\u4e0e\u5206\u6790","title":"\u5efa\u6a21\u200b\u4e0e\u200b\u5206\u6790","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u4f7f\u7528-gurobi-\u6c42\u89e3","title":"\u4f7f\u7528\u200b Gurobi \u200b\u6c42\u89e3","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import numpy as np\nimport gurobipy as gp\nfrom gurobipy import GRB\nnp.set_printoptions(linewidth=np.inf)\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u8bbe\u5b9a\u7ebf\u6027\u89c4\u5212\u95ee\u9898\u7684\u53c2\u6570","title":"\u8bbe\u5b9a\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7684\u200b\u53c2\u6570","text":"Python<pre><code>c = gp.tuplelist(\n[\n-49.5,\n-50,\n-61,\n-63.5,\n-66.5,\n-71,\n-72.5,\n-80,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n]\n)\nb = gp.tuplelist(\n[\n1225000,\n1225000 * 0.19,\n1225000 * 0.5,\n650000,\n720000,\n300000,\n600000,\n510000,\n655000,\n575000,\n680000,\n450000,\n490000,\n]\n)\nA = gp.tuplelist(\n[\n[1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n[\n0.15,\n0.16,\n0.18,\n0.2,\n0.21,\n0.22,\n0.23,\n0.25,\n-1,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n0,\n],\n[1, 1, 0, 1, 0, 1, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n[1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n[0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],\n[0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],\n[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],\n[0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],\n[0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\n],\n)\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u5efa\u7acb-gurobi-\u6a21\u578b","title":"\u5efa\u7acb\u200b Gurobi \u200b\u6a21\u578b","text":"Python<pre><code>m = gp.Model(\"Exercise\")\nx = m.addVars(\nrange(20),\nvtype=GRB.CONTINUOUS,\nname=\"x\",\n)\ncons = m.addConstrs(\n(x.prod(A[i]) == b[i] for i in range(len(b))), name=\"constrs\"  # &lt;= &gt;=\n)\nm.setObjective(x.prod(c), GRB.MAXIMIZE)\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u6c42\u6700\u4f18\u89e3","title":"\u6c42\u200b\u6700\u4f18\u200b\u89e3","text":"Python<pre><code>m.optimize()\n</code></pre> Text Only<pre><code>Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (mac64[arm])\n\nCPU model: Apple M1 Pro\nThread count: 8 physical cores, 8 logical processors, using up to 8 threads\n\nOptimize a model with 13 rows, 20 columns and 48 nonzeros\nModel fingerprint: 0x22742dfc\nCoefficient statistics:\n  Matrix range     [1e-01, 1e+00]\n  Objective range  [5e+01, 8e+01]\n  Bounds range     [0e+00, 0e+00]\n  RHS range        [2e+05, 1e+06]\nPresolve removed 8 rows and 12 columns\nPresolve time: 0.00s\nPresolved: 5 rows, 8 columns, 28 nonzeros\n\nIteration    Objective       Primal Inf.    Dual Inf.      Time\n       0   -6.0637500e+07   2.120000e+05   0.000000e+00      0s\n       5   -7.3267500e+07   0.000000e+00   0.000000e+00      0s\n\nSolved in 5 iterations and 0.01 seconds (0.00 work units)\nOptimal objective -7.326750000e+07\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u83b7\u53d6\u539f\u95ee\u9898\u7684\u6700\u4f18\u89e3","title":"\u83b7\u53d6\u200b\u539f\u200b\u95ee\u9898\u200b\u7684\u200b\u6700\u4f18\u200b\u89e3","text":"Python<pre><code>for i in x.keys():\nprint(\"x[%d] = %f\" % (i, x[i].x))\n</code></pre> Text Only<pre><code>x[0] = 55000.000000\nx[1] = 600000.000000\nx[2] = 0.000000\nx[3] = 20000.000000\nx[4] = 100000.000000\nx[5] = 0.000000\nx[6] = 450000.000000\nx[7] = 0.000000\nx[8] = 0.000000\nx[9] = 62500.000000\nx[10] = 145000.000000\nx[11] = 0.000000\nx[12] = 245000.000000\nx[13] = 0.000000\nx[14] = 510000.000000\nx[15] = 635000.000000\nx[16] = 475000.000000\nx[17] = 680000.000000\nx[18] = 0.000000\nx[19] = 490000.000000\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u83b7\u53d6\u5bf9\u5076\u53d8\u91cf","title":"\u83b7\u53d6\u200b\u5bf9\u5076\u200b\u53d8\u91cf","text":"Python<pre><code>p_list = []\nfor constr in m.getConstrs():\nprint(constr.constrName, \"=\", constr.Pi)\np_list.append(constr.Pi)\n</code></pre> Text Only<pre><code>constrs[0] = -4.499999999999915\nconstrs[1] = -300.00000000000057\nconstrs[2] = -0.0\nconstrs[3] = -0.0\nconstrs[4] = 1.0000000000000338\nconstrs[5] = -0.0\nconstrs[6] = 1.4999999999999734\nconstrs[7] = -0.0\nconstrs[8] = -0.0\nconstrs[9] = -0.0\nconstrs[10] = -0.0\nconstrs[11] = 1.0000000000000426\nconstrs[12] = -0.0\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/linear-programming-using-gurobi/#\u8ba1\u7b97\u5176\u4ed6\u91cf","title":"\u8ba1\u7b97\u200b\u5176\u4ed6\u200b\u91cf","text":"Python<pre><code>A = np.array(A)\n</code></pre> Python<pre><code># \u200b\u6c42\u200b C_B \u200b\u77e9\u9635\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b C \u200b\u4e2d\u57fa\u200b\u53d8\u91cf\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5217\u200b\u5411\u91cf\u200b\u7ec4\u6210\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u7ef4\u6570\u200b\u662f\u200b 13*1\nC_B = np.array([c[i] for i in range(A.shape[1]) if x[i].x != 0])\n</code></pre> Python<pre><code>C_B\n</code></pre> Text Only<pre><code>array([-49.5, -50. , -63.5, -66.5, -72.5,   0. ,   0. ,   0. ,   0. ,   0. ,   0. ,   0. ,   0. ])\n</code></pre> Python<pre><code># \u200b\u6c42\u200b B \u200b\u77e9\u9635\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b A \u200b\u7684\u200b\u5b50\u200b\u77e9\u9635\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b A \u200b\u4e2d\u57fa\u200b\u53d8\u91cf\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5217\u200b\u5411\u91cf\u200b\u7ec4\u6210\u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u7ef4\u6570\u200b\u662f\u200b 13*13\nB = np.array([A[:, i] for i in range(A.shape[1]) if x[i].x != 0]).T\n</code></pre> Python<pre><code>A[:, 1]\n</code></pre> Text Only<pre><code>array([1.  , 0.16, 1.  , 0.  , 1.  , 0.  , 1.  , 0.  , 0.  , 0.  , 0.  , 0.  , 0.  ])\n</code></pre> Python<pre><code>c[1] - C_B.dot(np.linalg.inv(B)).dot(A[:, 1])\n</code></pre> Text Only<pre><code>-7.105427357601002e-15\n</code></pre> Python<pre><code>B_inv = np.linalg.inv(B)\n</code></pre> Python<pre><code>B_inv\n</code></pre> Text Only<pre><code>array([[   1.,    0.,    0.,    0.,   -1.,    0.,    0.,    0.,    0.,    0.,    0.,   -1.,    0.],\n       [  -0.,   -0.,   -0.,   -0.,   -0.,   -0.,    1.,   -0.,   -0.,   -0.,   -0.,   -0.,   -0.],\n       [  15., -100.,   -0.,   -0.,    6.,   -0.,   -5.,   -0.,   -0.,   -0.,   -0.,    8.,   -0.],\n       [ -15.,  100.,   -0.,   -0.,   -5.,   -0.,    4.,   -0.,   -0.,   -0.,   -0.,   -8.,   -0.],\n       [  -0.,   -0.,   -0.,   -0.,   -0.,   -0.,   -0.,   -0.,   -0.,   -0.,   -0.,    1.,   -0.],\n       [  16., -100.,   -1.,    0.,    5.,    0.,   -4.,    0.,    0.,    0.,    0.,    7.,    0.],\n       [  -1.,    0.,    0.,    1.,    1.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.],\n       [  -1.,    0.,    0.,    0.,    1.,    1.,    0.,    0.,    0.,    0.,    0.,    1.,    0.],\n       [   0.,    0.,    0.,    0.,    0.,    0.,    0.,    1.,    0.,    0.,    0.,    0.,    0.],\n       [ -15.,  100.,    0.,    0.,   -6.,    0.,    5.,    0.,    1.,    0.,    0.,   -8.,    0.],\n       [  15., -100.,   -0.,   -0.,    5.,   -0.,   -4.,   -0.,   -0.,    1.,   -0.,    8.,   -0.],\n       [   0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    1.,    0.,    0.],\n       [   0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    1.]])\n</code></pre> Python<pre><code>b\n</code></pre> Text Only<pre><code>[1225000, 232750.0, 612500.0, 650000, 720000, 300000, 600000, 510000, 655000, 575000, 680000, 450000, 490000]\n</code></pre> Python<pre><code>B_inv.dot(b)\n</code></pre> Text Only<pre><code>array([ 55000., 600000.,  20000., 100000., 450000.,  62500., 145000., 245000., 510000., 635000., 475000., 680000., 490000.])\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/solution-for-linear-programming-problem-and-its-dual/","title":"\u7ebf\u6027\u89c4\u5212\u200b\u548c\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3\u200b\u7684\u200b\u60c5\u51b5","text":"<p>\u200b\u672c\u6587\u200b\u5206\u6790\u200b\u7b80\u8ff0\u200b\u6216\u200b\u4e3e\u4f8b\u8bf4\u660e\u200b\u4e86\u200b\u7ebf\u6027\u89c4\u5212\u200b\u539f\u200b\u95ee\u9898\u200b\u548c\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b\u89e3\u200b\uff08\u200b\u552f\u4e00\u200b\u89e3\u200b\u3001\u200b\u65e0\u7a77\u200b\u591a\u4e2a\u200b\u89e3\u200b\u3001\u200b\u65e0\u200b\u6709\u9650\u200b\u6700\u4f18\u200b\u89e3\u200b\u3001\u200b\u65e0\u200b\u53ef\u884c\u200b\u89e3\u200b\uff09\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u7684\u200b\u5bf9\u5e94\u200b\u60c5\u51b5\u200b\u3002</p> <p></p> <p></p> <p></p> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/multiple-hypothesis-testing/","title":"\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b Benjamini-Hochberg Procedure \u200b\u548c\u200b Adaptive z-value Procedure \u200b\u8fdb\u884c\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u4e0a\u200b\u9a8c\u8bc1\u200b\u4e86\u200b\u540e\u8005\u200b\u7684\u200b\u4f18\u52bf\u200b\uff0c\u200b\u5e76\u200b\u5c55\u793a\u200b\u4e86\u200b\u4f30\u8ba1\u200b\u539f\u200b\u5047\u8bbe\u200b\u7684\u200b\u5206\u5e03\u200b\u53c2\u6570\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u5b9a\u4e49\u51fd\u6570\u8ba1\u7b97-false-discovery-proportion","title":"\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u8ba1\u7b97\u200b False Discovery Proportion","text":"S<pre><code># \u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u8ba1\u7b97\u200b False Discovery Proportion\ncal_fdp &lt;- function(de, true_theta) {\n# \u200b\u8ba1\u7b97\u200b\u62d2\u7edd\u200b\u7684\u200b\u5047\u8bbe\u200b\u603b\u6570\u200b\nn_rejection &lt;- sum(de)\n# \u200b\u8ba1\u7b97\u200b True Discovery Number\ntdn &lt;- sum(de * true_theta)\n# \u200b\u8ba1\u7b97\u200b False Discovery Proportion\nfdp &lt;- 1 - tdn / n_rejection\nreturn(fdp)\n}\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#bh-procedure-\u8fdb\u884c\u591a\u91cd\u5047\u8bbe\u68c0\u9a8c","title":"BH Procedure \u200b\u8fdb\u884c\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c","text":"S<pre><code>########## 1.1 BH Procedure ##########\ncat(\"########## 1.1 BH Procedure ##########\", \"\\n\")\n# \u200b\u521b\u5efa\u200b bh \u200b\u6cd5\u200b\u7684\u200b\u6cdb\u200b\u578b\u51fd\u6570\u200b\nbh &lt;- function() {\nUseMethod(\"bh\")\n}\n# \u200b\u5b9a\u4e49\u200b bh.func\nbh.func &lt;- function(pv, alpha = 0.05) {\nm &lt;- length(pv)\ni &lt;- 1:m\n# \u200b\u5c06\u200b p \u200b\u503c\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\nsorted_pv &lt;- sort(pv)\n# \u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u7684\u200b p \u200b\u503c\u200b\u90fd\u200b\u5927\u4e8e\u200b alpha / m\uff0c\u200b\u5219\u200b\u62d2\u7edd\u57df\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b 0 \u200b\u5411\u91cf\u200b\nif (sorted_pv[1] &gt; alpha / m) {\nreturn(rep(0, m))\n}\n# \u200b\u627e\u5230\u200b\u6ee1\u8db3\u200b pvalue &lt;= i/m * alpha \u200b\u7684\u200b\u6700\u5927\u200b\u7684\u200b i\nk &lt;- max(i[sorted_pv &lt;= i / m * alpha])\n# k \u200b\u5bf9\u5e94\u200b\u7684\u200b p \u200b\u503c\u200b\u5373\u200b\u4e3a\u200b\u62d2\u7edd\u57df\u200b\u7684\u200b\u8fb9\u754c\u200b\ncriterion &lt;- sorted_pv[k]\n# \u200b\u5c06\u200b p \u200b\u503c\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b k \u200b\u4e2a\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u8bbe\u200b\u4e3a\u200b 1\uff0c\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\u8bbe\u200b\u4e3a\u200b 0\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\nreturn(1 * (pv &lt;= criterion))\n}\n# \u200b\u6d4b\u8bd5\u200b BH Procedure\n# \u200b\u751f\u6210\u200b 10 \u200b\u4e2a\u200b p \u200b\u503c\u200b\npv &lt;- c(0.001, 0.005, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.1)\n# \u200b\u6253\u5370\u200b Rejection decision\ncat(\"Rejection decision is: \", bh.func(pv, alpha = 0.05), \"\\n\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#adaptive-z-value-procedure-\u8fdb\u884c\u591a\u91cd\u5047\u8bbe\u68c0\u9a8c","title":"Adaptive z-value Procedure \u200b\u8fdb\u884c\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c","text":"S<pre><code>########## 1.2 adaptive z-value procedure ##########\ncat(\"########## 1.2 adaptive z-value procedure ##########\", \"\\n\")\n# \u200b\u521b\u5efa\u200b adaptive z-value \u200b\u6cd5\u200b\u7684\u200b\u6cdb\u200b\u578b\u51fd\u6570\u200b\naz &lt;- function() {\nUseMethod(\"az\")\n}\n# \u200b\u5b9a\u4e49\u200b az.func\naz.func &lt;- function(zv, alpha = 0.05, tau = 0.5) {\nm &lt;- length(zv)\n# \u200b\u8ba1\u7b97\u200b Oracle Statistic \u200b\u7684\u200b\u5206\u5b50\u200b\n# \u200b\u5148\u200b\u8ba1\u7b97\u200b p value\npv &lt;- 2 * pnorm(-abs(zv))\n# \u200b\u518d\u200b\u8ba1\u7b97\u200b alternative hypothesis \u200b\u7684\u200b\u6982\u7387\u200b\npi &lt;- 1 - sum(pv &gt;= tau) / (m * (1 - tau))\n# \u200b\u5f97\u5230\u200b Oracle Statistic \u200b\u7684\u200b\u5206\u5b50\u200b\nnumerator &lt;- (1 - pi) * dnorm(zv)\n# \u200b\u8ba1\u7b97\u200b Oracle Statistic \u200b\u7684\u200b\u5206\u6bcd\u200b\n# \u200b\u4f7f\u7528\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u6765\u200b\u4f30\u8ba1\u200b z \u200b\u503c\u200b\u7684\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\nden &lt;- density(zv, from = min(zv) - 10, to = max(zv) + 10, n = 2000)\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b z \u200b\u503c\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\u3002\u200b\u7531\u4e8e\u200b z \u200b\u503c\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u51fa\u73b0\u200b\u5728\u200b den$x \u200b\u4e2d\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u627e\u5230\u200b\u79bb\u200b\u6bcf\u4e2a\u200b z \u200b\u503c\u200b\u6700\u8fd1\u200b\u7684\u200b\u5de6\u53f3\u4e24\u4e2a\u200b\u70b9\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\uff0c\u200b\u7136\u540e\u200b\u7ebf\u6027\u63d2\u503c\u200b\ndenominator &lt;- approx(den$x, den$y, xout = zv)$y\n# \u200b\u8ba1\u7b97\u200b Oracle Statistic\nt_or &lt;- numerator / denominator\n# \u200b\u5c06\u200b t_or \u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\nsorted_t_or &lt;- sort(t_or)\ni &lt;- 1:m\n# \u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u7684\u200b t_or \u200b\u90fd\u200b\u5927\u4e8e\u200b alpha\uff0c\u200b\u5219\u200b\u62d2\u7edd\u57df\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b 0 \u200b\u5411\u91cf\u200b\nif (sorted_t_or[1] &gt; alpha) {\nreturn(rep(0, m))\n}\n# \u200b\u627e\u5230\u200b\u6ee1\u8db3\u200b cumsum(tor_i) / i &lt;= alpha \u200b\u7684\u200b\u6700\u5927\u200b\u7684\u200b i\nk &lt;- max(i[cumsum(sorted_t_or) / i &lt;= alpha])\n# k \u200b\u5bf9\u5e94\u200b\u7684\u200b t_or \u200b\u5373\u200b\u4e3a\u200b\u62d2\u7edd\u57df\u200b\u7684\u200b\u8fb9\u754c\u200b\ncriterion &lt;- sorted_t_or[k]\n# \u200b\u5c06\u200b t_or \u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b k \u200b\u4e2a\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u8bbe\u200b\u4e3a\u200b 1\uff0c\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\u8bbe\u200b\u4e3a\u200b 0\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\nde &lt;- 1 * (t_or &lt;= criterion)\nreturn(list(\"de\" = de, \"pi\" = pi))\n}\n# \u200b\u6d4b\u8bd5\u200b adaptive z-value procedure\n# \u200b\u751f\u6210\u200b 800 \u200b\u4e2a\u200b null hypothesis \u200b\u4e0b\u200b\u7684\u200b z \u200b\u503c\u200b\uff0c\u200b\u751f\u6210\u200b 200 \u200b\u4e2a\u200b alternative hypothesis \u200b\u4e0b\u200b\u7684\u200b z \u200b\u503c\u200b\nzv &lt;- c(rnorm(800, 0, 1), rnorm(200, 4, 1))\nresult &lt;- az.func(zv, alpha = 0.05, tau = 0.5)\n# \u200b\u6253\u5370\u200b Rejection decision\ncat(\"Rejection decision is: \", result$de, \"\\n\")\n# \u200b\u6253\u5370\u200b pi\ncat(\"pi is: \", result$pi, \"\\n\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u4f30\u8ba1\u539f\u5047\u8bbe\u7684\u5206\u5e03\u53c2\u6570","title":"\u4f30\u8ba1\u200b\u539f\u200b\u5047\u8bbe\u200b\u7684\u200b\u5206\u5e03\u200b\u53c2\u6570","text":"S<pre><code>########## 1.3 Estimate Null ##########\ncat(\"########## 1.3 Estimate Null ##########\", \"\\n\")\n# \u200b\u521b\u5efa\u200b Estimate Null \u200b\u6cd5\u200b\u7684\u200b\u6cdb\u200b\u578b\u51fd\u6570\u200b\nest_null &lt;- function() {\nUseMethod(\"EstNull\")\n}\n# \u200b\u5b9a\u4e49\u200b est_null.func\nest_null.func &lt;- function(x) {\n# \u200b\u8ba1\u7b97\u200b\u6807\u51c6\u5316\u200b\u540e\u200b\u7684\u200b x\uff0c\u200b\u5f97\u5230\u200b z \u200b\u503c\u200b\nzv &lt;- scale(x)[, 1]\n# \u200b\u4f7f\u7528\u200b\u6838\u200b\u5bc6\u5ea6\u4f30\u8ba1\u200b\u6765\u200b\u4f30\u8ba1\u200b z \u200b\u503c\u200b\u7684\u200b\u5bc6\u5ea6\u200b\u51fd\u6570\u200b\nden &lt;- density(zv, from = min(zv) - 10, to = max(zv) + 10, n = 2000)\n# \u200b\u5728\u200b 0 \u200b\u9644\u8fd1\u200b\u751f\u6210\u200b\u591a\u4e2a\u200b z \u200b\u503c\u200b\uff0c\u200b\u7528\u4e8e\u200b\u62df\u5408\u200b\u56de\u5f52\u7cfb\u6570\u200b\u4ee5\u6c42\u200b\u51fa\u200b Null distribution \u200b\u7684\u200b\u53c2\u6570\u200b\nzv &lt;- runif(10000, -0.5, 0.5)\n# \u200b\u8ba1\u7b97\u200b\u5404\u200b zv \u200b\u5728\u200b f(x) \u200b\u4e0b\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6\u200b\nf_zv &lt;- approx(den$x, den$y, xout = zv)$y\n# \u200b\u5c06\u200b f_zv \u200b\u53d6\u200b\u5bf9\u6570\u200b\nlog_f_zv &lt;- log(f_zv)\n# \u200b\u5c06\u200b log_f_zv \u200b\u4e0e\u200b zv \u200b\u548c\u200b zv^2 \u200b\u8fdb\u884c\u200b\u5e26\u200b\u622a\u8ddd\u200b\u7684\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\nfit &lt;- lm(log_f_zv ~ zv + I(zv^2))\n# \u200b\u5f97\u5230\u200b\u56de\u5f52\u7cfb\u6570\u200b\nsigma &lt;- sqrt(-1 / (2 * fit$coefficients[3]))\nmu &lt;- fit$coefficients[2] * sigma^2\n# \u200b\u8fd4\u56de\u200b mu \u200b\u548c\u200b sigma\nreturn(list(\"mu\" = mu, \"sigma\" = sigma))\n}\n# \u200b\u6d4b\u8bd5\u200b Estimate Null\nx &lt;- c(-1, -0.5, -0.2, 0.01, 0.05, 0.26, 0.5, 0.6, 1.2, 2)\nresult &lt;- est_null.func(x)\n# \u200b\u6253\u5370\u200b mu \u200b\u548c\u200b sigma\ncat(\"mu is: \", result$mu, \"\\n\")\ncat(\"sigma is: \", result$sigma, \"\\n\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u4f7f\u7528\u6570\u636e\u8fdb\u884c\u68c0\u9a8c","title":"\u4f7f\u7528\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u68c0\u9a8c","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u771f\u5b9e\u6570\u636e\u670d\u4ece-theoretical-null","title":"\u771f\u5b9e\u200b\u6570\u636e\u200b\u670d\u4ece\u200b theoretical null","text":"S<pre><code>########## 1.4 hw4training theoretical null ##########\ncat(\"########## 1.4 hw4training theoretical null ##########\", \"\\n\")\nd &lt;- read.csv(\"hw4training\")\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u7684\u200b p \u200b\u503c\u200b\np &lt;- 2 * pnorm(-abs(d$x))\n# \u200b\u4f7f\u7528\u200b BH Procedure\n# \u200b\u8ba1\u7b97\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\nresult_bh &lt;- bh.func(p, alpha = 0.1)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\ncat(\"BH Procedure's FDP: \", cal_fdp(result_bh, d$theta), \"\\n\")\nn_correctly_rejected_bh &lt;- sum(result_bh * d$theta)\ncat(\n\"BH Procedure's correctly rejected alternative hypotheses: \",\nn_correctly_rejected_bh, \"\\n\"\n)\n# \u200b\u4f7f\u7528\u200b adaptive z-value procedure\n# \u200b\u8ba1\u7b97\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\nresult_az &lt;- az.func(d$x, alpha = 0.1, tau = 0.5)$de\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\ncat(\"adaptive z-value Procedure's FDP: \", cal_fdp(result_az, d$theta), \"\\n\")\nn_correctly_rejected_az &lt;- sum(result_az * d$theta)\ncat(\n\"adaptive z-value Procedure's correctly rejected alternative hypotheses: \",\nn_correctly_rejected_az, \"\\n\"\n)\ncat(\"\u200b\u7ed3\u679c\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\u3002\", \"\\n\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u771f\u5b9e\u6570\u636e\u4e0d\u670d\u4ece-theoretical-null","title":"\u771f\u5b9e\u200b\u6570\u636e\u200b\u4e0d\u200b\u670d\u4ece\u200b theoretical null","text":"S<pre><code>########## 1.5 hw4data theoretical null ##########\ncat(\"########## 1.5 hw4data theoretical null ##########\", \"\\n\")\nd &lt;- read.csv(\"hw4data\")\n# \u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u7684\u200b p \u200b\u503c\u200b\np &lt;- 2 * pnorm(-abs(d$x))\n# \u200b\u4f7f\u7528\u200b BH Procedure\n# \u200b\u8ba1\u7b97\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\nresult_bh &lt;- bh.func(p, alpha = 0.1)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\ncat(\"BH Procedure's FDP: \", cal_fdp(result_bh, d$theta), \"\\n\")\nn_correctly_rejected_bh &lt;- sum(result_bh * d$theta)\ncat(\n\"BH Procedure's correctly rejected alternative hypotheses: \",\nn_correctly_rejected_bh, \"\\n\"\n)\n# \u200b\u4f7f\u7528\u200b adaptive z-value procedure\n# \u200b\u8ba1\u7b97\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\nresult_az &lt;- az.func(d$x, alpha = 0.1, tau = 0.5)$de\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\ncat(\"adaptive z-value Procedure's FDP: \", cal_fdp(result_az, d$theta), \"\\n\")\nn_correctly_rejected_az &lt;- sum(result_az * d$theta)\ncat(\n\"adaptive z-value Procedure's correctly rejected alternative hypotheses: \",\nn_correctly_rejected_az, \"\\n\"\n)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u771f\u5b9e\u6570\u636e\u4e0d\u670d\u4ece-theoretical-null\u9700\u8981\u5148\u4f30\u8ba1\u5143\u5047\u8bbe\u7684\u5206\u5e03\u53c2\u6570","title":"\u771f\u5b9e\u200b\u6570\u636e\u200b\u4e0d\u200b\u670d\u4ece\u200b theoretical null\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u4f30\u8ba1\u200b\u5143\u200b\u5047\u8bbe\u200b\u7684\u200b\u5206\u5e03\u200b\u53c2\u6570","text":"S<pre><code>########## 1.6 hw4data est_null ##########\ncat(\"########## 1.6 hw4data est_null ##########\", \"\\n\")\nd &lt;- read.csv(\"hw4data\")\n# \u200b\u4f7f\u7528\u200b est_null.func \u200b\u4f30\u8ba1\u200b Null distribution \u200b\u7684\u200b\u53c2\u6570\u200b\nparams &lt;- est_null.func(d$x)\nmu &lt;- params$mu\nsigma &lt;- params$sigma\ncat(\"Estimated null mu is: \", mu, \"\\n\")\ncat(\"Estimated null sigma is: \", sigma, \"\\n\")\n# \u200b\u4f7f\u7528\u200b BH Procedure\n# \u200b\u5728\u200b mu \u200b\u548c\u200b sigma \u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u7684\u200b z \u200b\u503c\u200b\n# \u200b\u4e5f\u200b\u5c31\u662f\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u6807\u51c6\u5316\u200b\u5230\u200b\u5747\u503c\u200b\u4e3a\u200b mu\uff0c\u200b\u6807\u51c6\u5dee\u200b\u4e3a\u200b sigma \u200b\u7684\u200b\u6b63\u6001\u5206\u5e03\u200b\u4e0b\u200b\nz &lt;- (scale(d$x)[, 1] - mu) / sigma\np &lt;- 2 * pnorm(-abs(z))\n# \u200b\u8ba1\u7b97\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\nresult_bh &lt;- bh.func(p, alpha = 0.1)\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\ncat(\"BH Procedure's FDP: \", cal_fdp(result_bh, d$theta), \"\\n\")\nn_correctly_rejected_bh &lt;- sum(result_bh * d$theta)\ncat(\n\"BH Procedure's correctly rejected alternative hypotheses: \",\nn_correctly_rejected_bh, \"\\n\"\n)\n# \u200b\u4f7f\u7528\u200b adaptive z-value procedure\n# \u200b\u8ba1\u7b97\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u7684\u200b\u7ed3\u679c\u200b\nresult_az &lt;- az.func(z, alpha = 0.1, tau = 0.5)$de\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\ncat(\"adaptive z-value Procedure's FDP: \", cal_fdp(result_az, d$theta), \"\\n\")\nn_correctly_rejected_az &lt;- sum(result_az * d$theta)\ncat(\n\"adaptive z-value Procedure's correctly rejected alternative hypotheses: \",\nn_correctly_rejected_az, \"\\n\"\n)\ncat(\"adaptive z-value Procedure \u200b\u66f4\u200b powerful\u3002\", \"\\n\")\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/multiple-hypothesis-testing/#\u7a0b\u5e8f\u8fd0\u884c\u7ed3\u679c","title":"\u7a0b\u5e8f\u8fd0\u884c\u200b\u7ed3\u679c","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/bipartite-graph/","title":"\u4f7f\u7528\u200b Networkx \u200b\u7ed8\u5236\u200b\u4e8c\u90e8\u200b\u56fe","text":"<p>\u200b\u672c\u6587\u200b\u4ee5\u200b\u5de5\u5382\u200b - \u200b\u4ed3\u5e93\u200b\u7684\u200b\u8fd0\u8f93\u6210\u672c\u200b\u3001\u200b\u4ed3\u5e93\u200b - \u200b\u5546\u54c1\u200b\u7684\u200b\u9500\u91cf\u200b\u4e3a\u200b\u80cc\u666f\u200b\uff0c\u200b\u7ed8\u5236\u200b\u4e86\u200b\u80fd\u200b\u6e05\u6670\u200b\u53cd\u6620\u200b\u7ed3\u70b9\u200b\u4e4b\u95f4\u200b\u5173\u7cfb\u200b\u7684\u200b\u4e8c\u90e8\u200b\u56fe\u200b\u3002</p> <p></p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u6570\u636e","title":"\u6570\u636e","text":"","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u5de5\u5382---\u4ed3\u5e93\u7684\u8fd0\u8f93\u6210\u672c","title":"\u5de5\u5382\u200b - \u200b\u4ed3\u5e93\u200b\u7684\u200b\u8fd0\u8f93\u6210\u672c","text":"factory_id dc_id unit_cost F001 DC001 224 F001 DC002 198 F001 DC003 196 F001 DC004 170 F001 DC005 170 F001 DC006 212 F001 DC007 169 F001 DC008 344 F001 DC009 283 F001 DC010 518 F001 DC011 458 F001 DC012 1452 F001 DC013 499 F001 DC014 438 F001 DC015 443 F001 DC016 396 F001 DC017 260 F001 DC018 248 F002 DC001 444 F002 DC002 434 F002 DC003 356 F002 DC004 428 F002 DC005 418 F002 DC006 399 F002 DC007 439 F002 DC008 477 F002 DC009 463 F002 DC010 390 F002 DC011 397 F002 DC012 875 F002 DC013 343 F002 DC014 268 F002 DC015 361 F002 DC016 378 F002 DC017 282 F002 DC018 310","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u4ed3\u5e93---\u5546\u54c1\u7684\u9500\u91cf","title":"\u4ed3\u5e93\u200b - \u200b\u5546\u54c1\u200b\u7684\u200b\u9500\u91cf","text":"<p>\u200b\u7531\u4e8e\u200b\u6570\u636e\u91cf\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u53ea\u200b\u5c55\u793a\u200b\u4e00\u90e8\u5206\u200b\u3002</p> date dc_id sku_id idx sale 2018/5/1 DC001 SKU052 DC001_SKU052 0 2018/5/1 DC001 SKU060 DC001_SKU060 9 2018/5/1 DC001 SKU029 DC001_SKU029 589 2018/5/1 DC001 SKU036 DC001_SKU036 43 2018/5/1 DC001 SKU045 DC001_SKU045 2751 2018/5/1 DC001 SKU068 DC001_SKU068 96 2018/5/1 DC001 SKU069 DC001_SKU069 200 2018/5/1 DC001 SKU070 DC001_SKU070 42 2018/5/1 DC001 SKU071 DC001_SKU071 10 2018/5/1 DC001 SKU011 DC001_SKU011 12 2018/5/1 DC001 SKU013 DC001_SKU013 0 2018/5/1 DC001 SKU016 DC001_SKU016 19 2018/5/1 DC001 SKU046 DC001_SKU046 1417 2018/5/1 DC001 SKU047 DC001_SKU047 352 2018/5/1 DC001 SKU062 DC001_SKU062 678 2018/5/1 DC001 SKU063 DC001_SKU063 80 2018/5/1 DC001 SKU001 DC001_SKU001 0 2018/5/1 DC001 SKU002 DC001_SKU002 5 2018/5/1 DC001 SKU022 DC001_SKU022 1920","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport networkx as nx\nimport matplotlib.pyplot as plt\nfrom matplotlib_inline.backend_inline import set_matplotlib_formats\nset_matplotlib_formats(\"svg\")\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u5de5\u5382---\u4ed3\u5e93\u7684\u8fd0\u8f93\u6210\u672c_1","title":"\u5de5\u5382\u200b - \u200b\u4ed3\u5e93\u200b\u7684\u200b\u8fd0\u8f93\u6210\u672c","text":"Python<pre><code>def plot_transport_tarrif(self):\n\"\"\"\n    \u200b\u7ed8\u5236\u200b Factory-DC \u200b\u8fd0\u8f93\u6210\u672c\u200b\u7f51\u7edc\u56fe\u200b\n    \"\"\"\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\nG = nx.Graph()\n# \u200b\u5411\u200b\u56fe\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u7684\u200b\u5de5\u5382\u200b\u548c\u200b\u914d\u9001\u200b\u4e2d\u5fc3\u200b\nG.add_nodes_from(self.factory_list + self.dc_list)\n# \u200b\u5411\u200b\u56fe\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u7684\u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8fb9\u200b\u7684\u200b\u4e24\u7aef\u200b\u5206\u522b\u200b\u4e3a\u200b\u914d\u9001\u200b\u4e2d\u5fc3\u200b\nG.add_edges_from(\nlist(\nself.transport_tariff[[\"factory_id\", \"dc_id\"]]\n.drop_duplicates()\n.itertuples(index=False, name=None)\n)\n)\n# \u200b\u5b9a\u4e49\u200b\u8fb9\u200b\u7684\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u6839\u636e\u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b\u8fdb\u884c\u200b\u8bbe\u7f6e\u200b\nwidth = {}\nfor idx, row in self.transport_tariff.iterrows():\nwidth[(row[\"factory_id\"], row[\"dc_id\"])] = row[\"unit_cost\"] / 500\n# \u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u5e03\u5c40\u200b\npos = nx.bipartite_layout(G, self.factory_list)\n# \u200b\u7ed8\u5236\u200b\u56fe\u5f62\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u8fb9\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u8282\u70b9\u200b\u7684\u200b\u5927\u5c0f\u200b\nnx.draw(G, pos, width=[width[e] for e in G.edges], node_size=30)\n# \u200b\u5728\u200b\u5de6\u8fb9\u200b\u6dfb\u52a0\u200b\u201cFactory\u201d\u200b\u6807\u6ce8\u200b\nplt.text(-1.1, 0, \"Factory\", fontsize=12)\n# \u200b\u5728\u200b\u53f3\u8fb9\u200b\u6dfb\u52a0\u200b\u201cDC\u201d\u200b\u6807\u6ce8\u200b\nplt.text(0.15, 0, \"DC\", fontsize=12)\n# \u200b\u6dfb\u52a0\u200b\u6807\u9898\u200b\nplt.title(\"Transport Tariff\")\n# \u200b\u5bfc\u51fa\u200b\u56fe\u50cf\u200b\u5230\u200b\u672c\u5730\u200b\nplt.savefig(\"./image/transport_tariff.png\", dpi=300, bbox_inches=\"tight\")\n# \u200b\u663e\u793a\u200b\u56fe\u50cf\u200b\nplt.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/bipartite-graph/#\u4ed3\u5e93---\u5546\u54c1\u7684\u9500\u91cf_1","title":"\u4ed3\u5e93\u200b - \u200b\u5546\u54c1\u200b\u7684\u200b\u9500\u91cf","text":"Python<pre><code>def plot_dc_sku_network(self, date=None):\n\"\"\"\n    \u200b\u7ed8\u5236\u200b DC-SKU \u200b\u9500\u552e\u91cf\u200b\u7f51\u7edc\u56fe\u200b\n    Args:\n        date: str \u201cYYYY-MM-DD\u201d, e.g. \u201c2020-01-01\u201d\n    \"\"\"\nif date:\ndata = self.sales_data[self.sales_data.date == date]\n# \u200b\u63a7\u5236\u200b\u8fb9\u200b\u7684\u200b\u5bbd\u5ea6\u200b\nreducer = 10000\nelse:\ndata = self.sales_data\n# \u200b\u63a7\u5236\u200b\u8fb9\u200b\u7684\u200b\u5bbd\u5ea6\u200b\nreducer = 5000000\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\nG = nx.Graph()\n# \u200b\u5411\u200b\u56fe\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u7684\u200b\u914d\u9001\u200b\u4e2d\u5fc3\u200b\u548c\u200b\u5546\u54c1\u200b\nG.add_nodes_from(self.dc_list + self.sku_list)\n# \u200b\u5411\u200b\u56fe\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u6240\u6709\u200b\u7684\u200b\u9500\u552e\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8fb9\u200b\u7684\u200b\u4e24\u7aef\u200b\u5206\u522b\u200b\u4e3a\u200b\u914d\u9001\u200b\u4e2d\u5fc3\u200b\u548c\u200b\u5546\u54c1\u200b\nG.add_edges_from(\nlist(\ndata[[\"dc_id\", \"sku_id\"]]\n.drop_duplicates()\n.itertuples(index=False, name=None)\n)\n)\n# \u200b\u5b9a\u4e49\u200b\u8fb9\u200b\u7684\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u6839\u636e\u200b\u9500\u552e\u91cf\u200b\u8fdb\u884c\u200b\u8bbe\u7f6e\u200b\nwidth = {}\nfor idx, row in data.iterrows():\nwidth[(row[\"dc_id\"], row[\"sku_id\"])] = (\nwidth.get((row[\"dc_id\"], row[\"sku_id\"]), 0) + row[\"sale\"] / reducer\n)\n# \u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u5e03\u5c40\u200b\npos = nx.bipartite_layout(G, self.dc_list)\n# \u200b\u7ed8\u5236\u200b\u56fe\u5f62\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u8fb9\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u8282\u70b9\u200b\u7684\u200b\u5927\u5c0f\u200b\nnx.draw(G, pos, width=[width[e] for e in G.edges], node_size=30)\n# \u200b\u5728\u200b\u5de6\u8fb9\u200b\u6dfb\u52a0\u200b\u201cDC\u201d\u200b\u6807\u6ce8\u200b\nplt.text(-1.1, 0, \"DC\", fontsize=12)\n# \u200b\u5728\u200b\u53f3\u8fb9\u200b\u6dfb\u52a0\u200b\u201cSKU\u201d\u200b\u6807\u6ce8\u200b\nplt.text(0.3, 0, \"SKU\", fontsize=12)\n# \u200b\u6dfb\u52a0\u200b\u6807\u9898\u200b\uff0c\u200b\u5bfc\u51fa\u200b\u56fe\u50cf\u200b\u5230\u200b\u672c\u5730\u200b\nif date:\nplt.title(f\"DC-SKU Network {date}\")\nplt.savefig(f\"./image/dc_sku_network_{date}.png\", dpi=300, bbox_inches=\"tight\")\nelse:\nplt.title(\"DC-SKU Network\")\nplt.savefig(\"./image/dc_sku_network.png\", dpi=300, bbox_inches=\"tight\")\n# \u200b\u663e\u793a\u200b\u56fe\u50cf\u200b\nplt.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/conformal-learning/","title":"Conformal Learning \u200b\u6c42\u89e3\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u548c\u200b\u591a\u200b\u6807\u7b7e\u200b\u5206\u7c7b\u200b\u95ee\u9898","text":"<p>Conformal Learning \u200b\u662f\u200b\u4e00\u79cd\u200b\u975e\u200b\u53c2\u6570\u200b\u7edf\u8ba1\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5229\u7528\u200b\u201c\u200b\u6837\u672c\u200b\u5c5e\u4e8e\u200b\u67d0\u4e2a\u200b\u6807\u7b7e\u200b\u65f6\u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u201d\u200b\u6765\u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u548c\u200b\u5206\u7c7b\u200b\u3002\u200b\u672c\u6587\u200b\u5206\u522b\u200b\u4f7f\u7528\u200b\u201c\u200b\u8001\u200b\u5fe0\u5b9e\u200b\u6cc9\u200b\u7684\u200b\u7206\u53d1\u200b\u548c\u200b\u7b49\u5f85\u65f6\u95f4\u200b\u6570\u636e\u200b\u201d\u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b\uff0c\u200b\u4f7f\u7528\u200b\u201c\u200b\u73bb\u7483\u200b\u5206\u7c7b\u200b\u6570\u636e\u200b\u201d\u200b\u8fdb\u884c\u200b\u591a\u200b\u6807\u7b7e\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\u3002</p> <p>\u200b\u53c2\u8003\u6587\u732e\u200b\uff1aA Tutorial on Conformal Prediction</p> <p>\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b</p> <ol> <li> <p>\u200b\u5bf9\u4e8e\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b \\(i\\)\uff0c\u200b\u627e\u5230\u200b\u79bb\u200b\u6837\u672c\u200b \\(i\\) \u200b\u6700\u8fd1\u200b\u7684\u200b\u6837\u672c\u200b\u3002</p> <ul> <li> <p>\u200b\u82e5\u200b\u6700\u8fd1\u200b\u7684\u200b\u6837\u672c\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u8bb0\u200b\u4e3a\u200b\u6837\u672c\u200b \\(j\\)\uff0c\u200b\u5219\u200b\u8ba1\u7b97\u200b\u6837\u672c\u200b \\(i\\) \u200b\u548c\u200b \u200b\u6837\u672c\u200b \\(j\\) \u200b\u7684\u200b\u6807\u7b7e\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5dee\u503c\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\uff1b</p> </li> <li> <p>\u200b\u82e5\u200b\u6700\u8fd1\u200b\u7684\u200b\u6837\u672c\u200b\u6709\u200b\u591a\u4e2a\u200b\uff0c\u200b\u5219\u200b\u5148\u200b\u8ba1\u7b97\u200b\u8fd9\u200b\u591a\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u6807\u7b7e\u200b\u7684\u200b\u4e2d\u4f4d\u6570\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u6837\u672c\u200b \\(i\\) \u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b\u4e0e\u200b\u8be5\u200b\u4e2d\u4f4d\u6570\u200b\u505a\u5dee\u200b\u540e\u53d6\u200b\u7edd\u5bf9\u503c\u200b\u3002</p> </li> </ul> </li> <li> <p>\u200b\u6b64\u200b\u201c\u200b\u7edd\u5bf9\u503c\u200b\u201d\u200b\u5c31\u200b\u8861\u91cf\u200b\u4e86\u200b\u6837\u672c\u200b \\(i\\) \u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u3002</p> </li> <li> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6837\u672c\u200b \\(n\\)\uff0c\u200b\u540c\u6837\u200b\u627e\u5230\u200b\u79bb\u200b\u6837\u672c\u200b \\(n\\) \u200b\u6700\u8fd1\u200b\u7684\u200b\u6837\u672c\u200b\uff0c\u200b\u7528\u200b\u201c\u200b\u79bb\u200b\u6837\u672c\u200b \\(n\\) \u200b\u6700\u8fd1\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u6807\u7b7e\u200b\u7684\u200b\u4e2d\u4f4d\u6570\u200b\u201d\u200b\u4f5c\u4e3a\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b\u6807\u7b7e\u200b\u9884\u6d4b\u503c\u200b\u3002</p> </li> <li> <p>\u200b\u6839\u636e\u200b\u4fe1\u5fc3\u200b\u6c34\u5e73\u200b \\(level\\)\uff08\u200b\u4f8b\u5982\u200b \\(90\\%\\)\uff09\uff0c\u200b\u9009\u5b9a\u200b\u4e00\u4e2a\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u8be5\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u5728\u200b\u6240\u6709\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u4e2d\u200b\u7684\u200b\u5927\u5c0f\u200b\u6392\u540d\u5206\u200b\u4f4d\u6570\u200b\u662f\u200b \\(1-level\\)\uff08\u200b\u4f8b\u5982\u200b \\(10\\%\\)\uff0c\u200b\u5373\u200b100\u200b\u4e2a\u6570\u200b\u4e2d\u200b\u7b2c\u200b10\u200b\u5927\u200b\u7684\u200b\u6570\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u5728\u200b\u8be5\u200b\u9884\u6d4b\u503c\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u52a0\u51cf\u200b\u4e0a\u200b\u4e00\u6b65\u200b\u9009\u5b9a\u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\uff0c\u200b\u5c31\u200b\u5f97\u5230\u200b\u65b0\u200b\u6837\u672c\u200b\u6807\u7b7e\u200b\u503c\u200b\u7684\u200b\u9884\u6d4b\u200b\u533a\u95f4\u200b\u3002</p> </li> </ol> <p>\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</p> <ol> <li>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6837\u672c\u200b\uff0c\u200b\u4e3a\u200b\u5176\u200b\u8d4b\u4e88\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u6807\u7b7e\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u7eb3\u5165\u200b\u8bad\u7ec3\u6837\u672c\u200b\u4e2d\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b Bag\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b Bag \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6837\u672c\u200b\uff1a<ol> <li>\u200b\u5bf9\u4e8e\u200b\u4e0e\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u6807\u7b7e\u200b\u76f8\u540c\u200b\u7684\u200b\u5176\u4ed6\u200b\u6837\u672c\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5b83\u4eec\u200b\u4e0e\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u4ece\u4e2d\u200b\u9009\u62e9\u200b\u6700\u5c0f\u200b\u7684\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u5206\u5b50\u200b\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b\u4e0e\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u6807\u7b7e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5176\u4ed6\u200b\u6837\u672c\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5b83\u4eec\u200b\u4e0e\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u4ece\u4e2d\u200b\u9009\u62e9\u200b\u6700\u5c0f\u200b\u7684\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u5206\u6bcd\u200b\u3002</li> <li>\u200b\u5c06\u200b\u524d\u200b\u4e24\u6b65\u200b\u7684\u200b\u5206\u5b50\u200b\u9664\u4ee5\u200b\u5206\u6bcd\u200b\uff0c\u200b\u5373\u53ef\u200b\u8861\u91cf\u200b\u201c\u200b\u4e3a\u200b\u8be5\u200b\u6837\u672c\u200b\u8d4b\u4e88\u200b\u8be5\u200b\u6807\u7b7e\u200b\u65f6\u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u201d\u3002\u200b\u8be5\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5206\u5b50\u200b\u8d8a\u5927\u200b\u3001\u200b\u5206\u6bcd\u200b\u8d8a\u5c0f\u200b\u3002<ul> <li>\u200b\u5206\u5b50\u200b\u8d8a\u5927\u200b\uff0c\u200b\u8bf4\u660e\u200b\u867d\u7136\u200b\u6807\u7b7e\u200b\u76f8\u540c\u200b\u4f46\u200b\u8ddd\u79bb\u200b\u5f88\u200b\u8fdc\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a8\u6d4b\u200b\u8fd9\u4e2a\u200b\u6837\u672c\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5e76\u200b\u4e0d\u200b\u5c5e\u4e8e\u200b\u8fd9\u4e2a\u200b\u6807\u7b7e\u200b\u3002</li> <li>\u200b\u5206\u6bcd\u200b\u8d8a\u5927\u200b\uff0c\u200b\u8bf4\u660e\u200b\u867d\u7136\u200b\u6807\u7b7e\u200b\u4e0d\u540c\u200b\u4f46\u200b\u8ddd\u79bb\u200b\u5f88\u8fd1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a8\u6d4b\u200b\u8fd9\u4e2a\u200b\u6837\u672c\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5c5e\u4e8e\u200b\u5176\u4ed6\u200b\u6807\u7b7e\u200b\u3002</li> </ul> </li> </ol> </li> <li>\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u53ef\u80fd\u200b\u7684\u200b\u6807\u7b7e\u200b\uff0c\u200b\u6839\u636e\u200b\u4fe1\u5fc3\u200b\u6c34\u5e73\u200b \\(level\\)\uff08\u200b\u4f8b\u5982\u200b \\(90\\%\\)\uff09\uff0c\u200b\u5224\u65ad\u200b\uff1a\u200b\u5f53\u65b0\u200b\u6837\u672c\u200b\u786e\u5b9e\u200b\u5c5e\u4e8e\u200b\u8fd9\u4e2a\u200b\u6807\u7b7e\u200b\u65f6\u200b\uff0cBag \u200b\u4e2d\u6709\u200b\u591a\u5c11\u200b\u6bd4\u4f8b\u200b\u6837\u672c\u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u6bd4\u65b0\u200b\u6837\u672c\u200b\u7684\u200b\u79bb\u7fa4\u200b\u7a0b\u5ea6\u200b\u66f4\u9ad8\u200b\u3002\u200b\u5982\u679c\u200b\u8fd9\u4e2a\u200b\u6bd4\u4f8b\u200b\u8d85\u8fc7\u200b\u4e86\u200b \\(1-level\\)\uff08\u200b\u4f8b\u5982\u200b \\(10\\%\\)\uff09\uff0c\u200b\u5219\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u6807\u7b7e\u200b\u52a0\u5165\u200b\u5230\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u96c6\u4e2d\u200b\u3002</li> <li>\u200b\u8f93\u51fa\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u96c6\u200b\uff0c\u200b\u5b83\u200b\u53ef\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u9884\u6d4b\u503c\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u80fd\u200b\u662f\u200b\u7a7a\u96c6\u200b\u3002</li> </ol>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#problem-1\u4f7f\u7528-conformal-learning-\u6c42\u89e3\u56de\u5f52\u95ee\u9898","title":"Problem 1\uff1a\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u6c42\u89e3\u200b\u56de\u5f52\u200b\u95ee\u9898","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nfrom scipy.spatial.distance import cdist\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u5bfc\u5165\u6570\u636e","title":"\u5bfc\u5165\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u200b faithful.dat \u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u5206\u522b\u200b\u4e3a\u200b\u55b7\u53d1\u200b\u65f6\u95f4\u200b\u548c\u200b\u7b49\u5f85\u65f6\u95f4\u200b\ndf = pd.read_csv(\"./P1/faithful.dat\", delimiter=\"\\s+\").reset_index(drop=True)\n# \u200b\u9009\u53d6\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u524d\u200b 100 \u200b\u884c\u200b\u4f5c\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\ntrain_df = df.iloc[:100, :]\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u57fa\u4e8e-nearest-neighbor-\u8ba1\u7b97-nonconformity-score","title":"\u57fa\u4e8e\u200b nearest neighbor \u200b\u8ba1\u7b97\u200b nonconformity score","text":"Python<pre><code>def get_nonconformity_scores(train_df):\nx = train_df[\"eruptions\"].values.reshape(-1, 1)\ny = train_df[\"waiting\"].values.reshape(-1, 1)\n# \u200b\u8ba1\u7b97\u200b x \u200b\u4e4b\u95f4\u200b\u7684\u200b\u8ddd\u79bb\u200b\u77e9\u9635\u200b\ndistance = cdist(x, x, \"euclidean\")\n# \u200b\u5c06\u200b\u5bf9\u89d2\u7ebf\u200b\u5143\u7d20\u200b\u8bbe\u200b\u4e3a\u200b\u65e0\u7a77\u5927\u200b\nnp.fill_diagonal(distance, np.inf)\n# \u200b\u627e\u5230\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\nmin_distance = np.min(distance, axis=1)\n# \u200b\u627e\u5230\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u7684\u200b\u7d22\u5f15\u200b\nmin_index_row, min_index_column = np.where(distance == min_distance[:, None])\nmin_dict = {\nkey: [val for i, val in enumerate(min_index_column) if min_index_row[i] == key]\nfor key in set(min_index_row)\n}\n# \u200b\u8ba1\u7b97\u200b\u79bb\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u6700\u8fd1\u200b\u7684\u200b\u6837\u672c\u200b\u7684\u200b y \u200b\u7684\u200b\u4e2d\u4f4d\u6570\u200b\uff0c\u200b\u505a\u200b\u5dee\u540e\u200b\u8ba1\u7b97\u200b\u7edd\u5bf9\u503c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b nonconformity score\nnonconformity_scores = []\nfor i in range(train_df.shape[0]):\nnonconformity_scores.append(abs(y[i] - np.median(y[min_dict[i]]))[0])\nreturn nonconformity_scores\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u8ba1\u7b97\u6bcf\u4e2a\u65b0\u6837\u672c\u7684-prediction-interval","title":"\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b prediction interval","text":"Python<pre><code>def get_prediction_interval(train_df, new_x, level):\n# \u200b\u8ba1\u7b97\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b nonconformity score\nnonconformity_scores = get_nonconformity_scores(train_df)\n# \u200b\u8ba1\u7b97\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b\u4e0e\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b\u8ddd\u79bb\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\nmin_distance = np.min(\nabs(train_df[\"eruptions\"].values.reshape(-1, 1) - new_x), axis=0\n)\n# \u200b\u627e\u5230\u200b\u6700\u5c0f\u503c\u200b\u7684\u200b\u7d22\u5f15\u200b\nmin_index = np.where(\nabs(train_df[\"eruptions\"].values.reshape(-1, 1) - new_x) == min_distance\n)[0]\n# \u200b\u8ba1\u7b97\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u503c\u200b\nprediction = np.median(train_df[\"waiting\"].values[min_index])\n# \u200b\u8ba1\u7b97\u200b nonconformity scores \u200b\u7684\u200b level \u200b\u5206\u200b\u4f4d\u6570\u200b\uff0c\u200b\u5373\u200b\u4fdd\u8bc1\u200b\u6709\u200b 1 - level \u200b\u7684\u200b\u6837\u672c\u200b\u7684\u200b nonconformity score \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u8be5\u503c\u200b\nnonconformity_score_at_level = nonconformity_scores[\nnp.argsort(nonconformity_scores)[::-1][\nint((1 - level) * len(nonconformity_scores))\n]\n]\n# \u200b\u8ba1\u7b97\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b predition interval\nlower_bound = prediction - nonconformity_score_at_level\nupper_bound = prediction + nonconformity_score_at_level\nreturn lower_bound, upper_bound\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u8ba1\u7b97\u4e0d\u540c\u7f6e\u4fe1\u5ea6\u4e0b\u7684\u9884\u6d4b\u51c6\u786e\u7387","title":"\u8ba1\u7b97\u200b\u4e0d\u540c\u200b\u7f6e\u4fe1\u5ea6\u200b\u4e0b\u200b\u7684\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387","text":"Python<pre><code>level_list = [0.9, 0.8, 0.6]\nfor level in level_list:\ncount = 0\nfor i in range(100, df.shape[0]):\nlower_bound, upper_bound = get_prediction_interval(\ntrain_df, df[\"eruptions\"].iloc[i], level\n)\nif df[\"waiting\"].iloc[i] &gt; lower_bound and df[\"waiting\"].iloc[i] &lt; upper_bound:\ncount += 1\ncorrect_rate = count / (i - 100 + 1)\nprint(\"level: {:.2%}, correct rate: {:.2%}\".format(level, correct_rate))\n</code></pre> Text Only<pre><code>level: 90.00%, correct rate: 86.05%\nlevel: 80.00%, correct rate: 79.07%\nlevel: 60.00%, correct rate: 51.16%\n</code></pre> <p>\u200b\u5728\u200b\u4e0d\u540c\u200b\u7f6e\u4fe1\u5ea6\u200b\u4e0b\u200b\uff0c\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u5927\u81f4\u200b\u7565\u4f4e\u4e8e\u200b\u7f6e\u4fe1\u5ea6\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#problem-2\u4f7f\u7528-conformal-learning-\u6c42\u89e3\u591a\u6807\u7b7e\u5206\u7c7b\u95ee\u9898","title":"Problem 2\uff1a\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u6c42\u89e3\u200b\u591a\u200b\u6807\u7b7e\u200b\u5206\u7c7b\u200b\u95ee\u9898","text":"","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u5bfc\u5165\u5305_1","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>from sklearn.preprocessing import StandardScaler\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u5bfc\u5165\u6570\u636e_1","title":"\u5bfc\u5165\u200b\u6570\u636e","text":"Python<pre><code># \u200b\u8bfb\u53d6\u200b glass.data \u200b\u6570\u636e\u200b\u96c6\u200b\ndf = pd.read_csv(\"./P2/glass.data\", delimiter=\",\", header=None, index_col=0)\n# \u200b\u521b\u5efa\u200b\u6807\u51c6\u5316\u200b\u5668\u200b\u5bf9\u8c61\u200b\nscaler = StandardScaler()\n# \u200b\u968f\u673a\u200b\u9009\u62e9\u200b 150 \u200b\u4e2a\u200b\u6837\u672c\u200b\u4f5c\u4e3a\u200b\u8bad\u7ec3\u200b\u96c6\u200b\ntrain_df = df.sample(n=150, random_state=0)\n# \u200b\u5bf9\u200b\u81ea\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\ntrain_df.iloc[:, :-1] = scaler.fit_transform(train_df.iloc[:, :-1])\n# \u200b\u5269\u4e0b\u200b\u7684\u200b\u6837\u672c\u200b\u4f5c\u4e3a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\ntest_df = df.drop(train_df.index)\n# \u200b\u5bf9\u200b\u81ea\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\ntest_df.iloc[:, :-1] = scaler.transform(test_df.iloc[:, :-1])\n# \u200b\u91cd\u65b0\u200b\u7d22\u5f15\u200b\ntrain_df = train_df.reset_index(drop=True)\ntest_df = test_df.reset_index(drop=True)\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u57fa\u4e8e-nearest-neighbor-\u8ba1\u7b97-nonconformity-score_1","title":"\u57fa\u4e8e\u200b nearest neighbor \u200b\u8ba1\u7b97\u200b nonconformity score","text":"Python<pre><code>def get_nonconformity_scores(train_df, new_x, new_y):\nx = pd.concat([train_df.iloc[:, :-1], new_x.to_frame().T], axis=0).reset_index(\ndrop=True\n)\ny = pd.concat([train_df.iloc[:, -1], pd.Series([new_y])]).reset_index(drop=True)\n# \u200b\u8ba1\u7b97\u200b x \u200b\u4e4b\u95f4\u200b\u7684\u200b\u8ddd\u79bb\u200b\u77e9\u9635\u200b\ndistance = cdist(x, x, \"euclidean\")\n# \u200b\u5c06\u200b\u5bf9\u89d2\u7ebf\u200b\u5143\u7d20\u200b\u8bbe\u200b\u4e3a\u200b\u65e0\u7a77\u5927\u200b\nnp.fill_diagonal(distance, np.inf)\n# \u200b\u8ba1\u7b97\u200b\u76f8\u540c\u200b\u6807\u7b7e\u200b\u7684\u200b\u6700\u5c0f\u200b\u8ddd\u79bb\u200b\u548c\u200b\u4e0d\u540c\u200b\u6807\u7b7e\u200b\u7684\u200b\u6700\u5c0f\u200b\u8ddd\u79bb\u200b\u7684\u200b\u6bd4\u503c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b nonconformity score\nnonconformity_scores = []\nfor i in range(x.shape[0]):\n# \u200b\u627e\u5230\u200b\u7b2c\u200b i \u200b\u884c\u4e2d\u200b\uff0c\u200b\u4e0e\u200b\u6837\u672c\u200b i \u200b\u6807\u7b7e\u200b\u76f8\u540c\u200b\u7684\u200b\u6240\u6709\u200b\u6837\u672c\u200b\uff0c\u200b\u5e76\u6c42\u200b\u5176\u200b\u8ddd\u79bb\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\nmin_distance_with_same_label = np.min(distance[i, y == y[i]])\n# \u200b\u627e\u5230\u200b\u7b2c\u200b i \u200b\u884c\u4e2d\u200b\uff0c\u200b\u4e0e\u200b\u6837\u672c\u200b i \u200b\u6807\u7b7e\u200b\u4e0d\u540c\u200b\u7684\u200b\u6240\u6709\u200b\u6837\u672c\u200b\uff0c\u200b\u5e76\u6c42\u200b\u5176\u200b\u8ddd\u79bb\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\nmin_distance_with_different_label = np.min(distance[i, y != y[i]])\n# \u200b\u8ba1\u7b97\u200b\u7b2c\u200b i \u200b\u884c\u200b\u7684\u200b nonconformity score\nnonconformity_score = (\nmin_distance_with_same_label / min_distance_with_different_label\n)\nnonconformity_scores.append(nonconformity_score)\nreturn nonconformity_scores\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u8ba1\u7b97\u6bcf\u4e2a\u65b0\u6837\u672c\u7684-prediction-set","title":"\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b prediction set","text":"Python<pre><code>def get_prediction_set(train_df, new_x, level):\n# \u200b\u904d\u5386\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u6807\u7b7e\u200b\u503c\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u65b0\u200b\u6837\u672c\u200b\u5728\u200b\u8be5\u200b\u6807\u7b7e\u200b\u4e0b\u200b\u7684\u200b p value\np_values = []\nlabels = list(set(train_df.iloc[:, -1]))\nfor label in labels:\n# \u200b\u8ba1\u7b97\u200b\u8bad\u7ec3\u6837\u672c\u200b\u7684\u200b nonconformity scores\nnonconformity_scores = get_nonconformity_scores(train_df, new_x, label)\n# \u200b\u8ba1\u7b97\u200b\u65b0\u200b\u6837\u672c\u200b\u7684\u200b nonconformity score \u200b\u5728\u200b\u8bad\u7ec3\u6837\u672c\u200b\u4e2d\u200b\u7684\u200b\u6392\u540d\u200b\nrank = sum(nonconformity_scores &gt;= nonconformity_scores[-1])\n# \u200b\u8ba1\u7b97\u200b p value\np_value = rank / len(nonconformity_scores)\np_values.append(p_value)\n# \u200b\u627e\u5230\u200b p value \u200b\u5927\u4e8e\u200b 1 - level \u200b\u7684\u200b\u6807\u7b7e\u200b\nprediction_set = [\nlabels[i] if p_values[i] &gt; 1 - level else None for i in range(len(p_values))\n]\n# \u200b\u53bb\u6389\u200b None\nprediction_set = [i for i in prediction_set if i is not None]\nreturn prediction_set\n</code></pre>","tags":["\u7edf\u8ba1"]},{"location":"blog/conformal-learning/#\u8ba1\u7b97\u4e0d\u540c\u7f6e\u4fe1\u5ea6\u4e0b\u7684\u9884\u6d4b\u51c6\u786e\u7387_1","title":"\u8ba1\u7b97\u200b\u4e0d\u540c\u200b\u7f6e\u4fe1\u5ea6\u200b\u4e0b\u200b\u7684\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387","text":"Python<pre><code>level_list = [0.9, 0.8, 0.6]\nfor level in level_list:\ncount = 0\nfor i in range(test_df.shape[0]):\nprediction_set = get_prediction_set(train_df, test_df.iloc[i, :-1], level)\nif test_df.iloc[i, -1] in prediction_set:\ncount += 1\ncorrect_rate = count / test_df.shape[0]\nprint(\"level: {:.2%}, correct rate: {:.2%}\".format(level, correct_rate))\n</code></pre> Text Only<pre><code>level: 90.00%, correct rate: 90.62%\nlevel: 80.00%, correct rate: 76.56%\nlevel: 60.00%, correct rate: 57.81%\n</code></pre> <p>\u200b\u5728\u200b\u4e0d\u540c\u200b\u7f6e\u4fe1\u5ea6\u200b\u4e0b\u200b\uff0c\u200b\u9884\u6d4b\u200b\u51c6\u786e\u7387\u200b\u4e0e\u200b\u7f6e\u4fe1\u5ea6\u200b\u5341\u5206\u200b\u76f8\u8fd1\u200b\u3002</p>","tags":["\u7edf\u8ba1"]},{"location":"blog/dijkstra-algorithm/","title":"Dijkstra \u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b Python \u200b\u5b9e\u73b0\u200b\u4e86\u200b Dijkstra \u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898\u200b\u3002\u200b\u5728\u200b\u7b97\u6cd5\u200b\u5b9e\u73b0\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6570\u7ec4\u200b\u5b58\u50a8\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u5404\u200b\u7ed3\u70b9\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e8c\u53c9\u200b\u5806\u200b\u5b58\u50a8\u200b T \u200b\u96c6\u5408\u200b\uff0c\u200b\u5e76\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u5411\u200b\u91cf\u5316\u200b\u8ba1\u7b97\u200b\u52a0\u5feb\u200b\u8fd0\u884c\u200b\u901f\u5ea6\u200b\u3002</p> <p>\u200b\u6700\u7ec8\u200b\u5728\u200b\u4e09\u79cd\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u4e0b\u200b\u7684\u200b\u8fd0\u884c\u200b\u65f6\u95f4\u200b\u4e3a\u200b\uff1a</p> \u200b\u8f93\u5165\u200b\u6587\u4ef6\u200b grid_150_150 random_20000_40000 dense_1000 \u200b\u8fd0\u884c\u200b\u65f6\u95f4\u200b 302.93ms 292.14ms 135.29ms <p>\u200b\u4f46\u200b\u5728\u200b\u6700\u200b\u5f00\u59cb\u200b\u5b9e\u73b0\u200b Dijkstra \u200b\u7b97\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u6211\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u9700\u8981\u200b\u82b1\u200b 5 \u200b\u79d2\u200b\u624d\u80fd\u200b\u5b8c\u6210\u200b\u8ba1\u7b97\u200b\u3002\u200b\u7ecf\u8fc7\u200b\u9010\u6b65\u200b\u4f18\u5316\u200b\uff0c\u200b\u8fd0\u884c\u200b\u65f6\u95f4\u200b\u53ef\u4ee5\u200b\u964d\u200b\u4e3a\u200b 3 \u200b\u79d2\u200b\u751a\u81f3\u200b 0.13 \u200b\u79d2\u200b\u3002\u200b\u628a\u200b\u7b97\u6cd5\u200b\u6548\u7387\u200b\u4f18\u5316\u200b\u5230\u200b\u6781\u81f4\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u975e\u5e38\u200b\u6709\u200b\u6536\u83b7\u200b\u7684\u200b\uff0c\u200b\u65e2\u200b\u52a0\u6df1\u200b\u4e86\u200b\u5bf9\u200b\u7b97\u6cd5\u200b\u672c\u8eab\u200b\u7684\u200b\u7406\u89e3\u200b\uff0c\u200b\u53c8\u200b\u5b66\u4e60\u200b\u4e86\u200b\u8bb8\u591a\u200b\u4f18\u5316\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u3002</p> <p>\u200b\u4f18\u5316\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7ecf\u9a8c\u200b</p> <ol> <li>\u200b\u591a\u200b\u8003\u8651\u200b\u7528\u200b\u5411\u200b\u91cf\u5316\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5c3d\u91cf\u907f\u514d\u200b\u4f7f\u7528\u200b for \u200b\u5faa\u73af\u200b\u3002</li> <li>\u200b\u60f3\u200b\u6e05\u695a\u200b\u7b97\u6cd5\u200b\u7684\u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5728\u200b One-to-all \u200b\u95ee\u9898\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u628a\u200b\u201c\u200b\u904d\u5386\u200b\u5b8c\u200bT\u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\uff0c\u200b\u76f4\u5230\u200b T \u200b\u96c6\u5408\u200b\u4e3a\u200b\u7a7a\u96c6\u200b\u201d\u200b\u4f5c\u4e3a\u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u628a\u200b\u201c P \u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\u7b49\u4e8e\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u7ed3\u70b9\u200b\u4e2a\u6570\u200b\u201d\u200b\u4f5c\u4e3a\u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\u3002\u200b\u867d\u7136\u200b\u4e24\u8005\u200b\u90fd\u200b\u80fd\u200b\u5f97\u5230\u200b\u6b63\u786e\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4f46\u200b\u5f53\u200b P \u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\u7b49\u4e8e\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u7ed3\u70b9\u200b\u4e2a\u6570\u200b\u65f6\u200b\uff0cT \u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u662f\u200b\u4e0d\u200b\u9700\u8981\u200b\u518d\u200b\u66f4\u65b0\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u540e\u8005\u200b\u6bd4\u200b\u524d\u8005\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u8fd0\u7b97\u200b\u6b21\u6570\u200b\u5c11\u5f97\u200b\u591a\u200b\u3002</li> <li>\u200b\u719f\u6089\u200b <code>NumPy</code> \u200b\u7b49\u200b\u79d1\u5b66\u8ba1\u7b97\u200b\u5e93\u200b\u7684\u200b\u5b9e\u73b0\u200b\u7ec6\u8282\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5728\u200b <code>NumPy</code> \u200b\u4e2d\u200b\uff0c<code>np.ones</code> \u200b\u548c\u200b <code>np.empty</code> \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u521b\u5efa\u200b\u6307\u5b9a\u200b\u5f62\u72b6\u200b\u7684\u200b\u6570\u7ec4\u200b\uff0c\u200b\u5176\u4e2d\u200b <code>np.ones</code> \u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u586b\u5145\u200b 1 \u200b\u7684\u200b\u6570\u7ec4\u200b\uff0c\u200b\u800c\u200b <code>np.empty</code> \u200b\u4f1a\u200b\u5728\u200b\u4e00\u5757\u200b\u5185\u5b58\u200b\u4e0a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u6570\u7ec4\u200b\u3002\u200b\u7531\u4e8e\u200b <code>np.empty</code> \u200b\u4e0d\u4f1a\u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\uff0c\u200b\u56e0\u6b64\u200b\u751f\u6210\u200b\u901f\u5ea6\u200b\u8981\u200b\u6bd4\u200b <code>np.ones</code> \u200b\u66f4\u200b\u5feb\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u5408\u9002\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u82e5\u200b\u95ee\u9898\u200b\u4e2d\u200b\u7684\u200b\u53d8\u91cf\u200b\u53ef\u4ee5\u200b\u80af\u5b9a\u200b\u4e3a\u200b\u6574\u6570\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u7528\u200b <code>dtype=np.int32</code> \u200b\u6216\u8005\u200b <code>dtype=np.int16</code>\uff0c\u200b\u8282\u7ea6\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u3002\u200b\u4e0d\u540c\u200b\u6574\u6570\u200b\u6570\u636e\u7c7b\u578b\u200b\u6240\u200b\u80fd\u200b\u8868\u793a\u200b\u7684\u200b\u6574\u6570\u200b\u8303\u56f4\u200b\u5982\u4e0b\u200b\uff1a</li> </ol> Type Capacity Int16 (-32,768 to +32,767) Int32 (-2,147,483,648 to +2,147,483,647) Int64 (-9,223,372,036,854,775,808 to +9,223,372,036,854,775,807)","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dijkstra-algorithm/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import heapq\nimport numpy as np\nimport argparse\nimport time\n</code></pre>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dijkstra-algorithm/#\u5b9e\u73b0-dijkstra-\u7b97\u6cd5","title":"\u5b9e\u73b0\u200b Dijkstra \u200b\u7b97\u6cd5","text":"","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dijkstra-algorithm/#\u4f7f\u7528\u7684\u6570\u636e\u7ed3\u6784","title":"\u4f7f\u7528\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784","text":"<ol> <li>Forward star representation\uff1a\u200b\u4f7f\u7528\u200b <code>NumPy</code> \u200b\u4e2d\u200b\u7684\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\u5b58\u50a8\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u5404\u200b\u7ed3\u70b9\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>NumPy</code> \u200b\u4e2d\u200b\u7684\u200b\u4e00\u7ef4\u200b\u6570\u7ec4\u200b\u5b58\u50a8\u200b Point \u200b\u6570\u7ec4\u200b\u3002</li> <li>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\uff1a\u200b\u4f7f\u7528\u200b <code>NumPy</code> \u200b\u4e2d\u200b\u7684\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\u5b58\u50a8\u200b\u8d77\u59cb\u200b\u70b9\u5230\u200b\u5404\u70b9\u200b\u7684\u200b\u8ddd\u79bb\u200b\u3002</li> <li>T \u200b\u96c6\u5408\u200b\uff1a\u200b\u672c\u8d28\u200b\u4e3a\u200b <code>list</code> \u200b\u7684\u200b\u4e8c\u53c9\u200b\u5806\u200b\uff0c\u200b\u4f7f\u7528\u200b Python \u200b\u5185\u7f6e\u200b\u6807\u51c6\u200b\u5e93\u200b <code>heapq</code> \u200b\u5b9e\u73b0\u200b\u6dfb\u52a0\u200b\u3001\u200b\u5220\u9664\u200b\u3001\u200b\u63d0\u53d6\u200b\u6700\u5c0f\u200b\u5143\u7d20\u200b\u7b49\u200b\u64cd\u4f5c\u200b\u3002</li> <li>P \u200b\u96c6\u5408\u200b\uff1aPython \u200b\u5185\u7f6e\u200b\u7684\u200b <code>set</code> \u200b\u7ed3\u6784\u200b\u3002</li> </ol>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dijkstra-algorithm/#\u4f7f\u7528\u7684\u7b97\u6cd5","title":"\u4f7f\u7528\u200b\u7684\u200b\u7b97\u6cd5","text":"<p>Dijkstra \u200b\u7b97\u6cd5\u200b\uff1a</p> <ol> <li> <p>\u200b\u521d\u59cb\u5316\u200b\uff1a<code>i=origin</code>\uff0c<code>L_i = 0</code>\uff0c<code>L_j = np.iinfo(np.int32).max</code>\uff0c<code>t = [(0, i)]</code>\uff0c<code>t_set = set([i])</code>\uff0c<code>p = set()</code></p> </li> <li> <p>Node selection\uff1a\u200b\u4ece\u200b <code>t</code> \u200b\u4e2d\u200b\u53d6\u51fa\u200b\u6700\u5c0f\u200b\u7684\u200b\u5143\u7d20\u200b <code>i</code>\uff0c\u200b\u5c06\u200b\u5176\u200b\u4ece\u200b <code>t_set</code> \u200b\u4e2d\u200b\u79fb\u9664\u200b\uff0c\u200b\u5e76\u200b\u52a0\u5165\u200b\u5230\u200b <code>p</code> \u200b\u4e2d\u200b\u3002</p> </li> <li> <p>\u200b\u7b97\u6cd5\u200b\u7ec8\u6b62\u200b\u6761\u4ef6\u200b\uff1a<code>len(p)=n</code></p> </li> <li> <p>\u200b\u4ece\u200b network \u200b\u4e2d\u200b\u53d6\u51fa\u200b <code>i</code> \u200b\u7684\u200b\u6240\u6709\u200b\u90bb\u63a5\u200b\u70b9\u200b <code>j_s</code>\uff0c\u200b\u53d6\u200b <code>L_i+d_ij</code>\u200b\u548c\u200b<code>L_j</code>\u200b\u4e2d\u8f83\u200b\u5c0f\u200b\u7684\u200b\u90a3\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u4f5c\u4e3a\u200b<code>L_j</code>\u200b\u7684\u200b\u66f4\u65b0\u200b\u503c\u200b\u3002\u200b\u5982\u679c\u200b<code>j</code>\u200b\u4e0d\u200b\u5728\u200b<code>t_set</code>\u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u5176\u200b\u6dfb\u52a0\u200b\u5230\u200b<code>t_set</code>\u3002\u200b\u7ee7\u7eed\u6267\u884c\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u3002</p> </li> </ol> Python<pre><code>def solve(args):\nstart_time = time.time()\n# \u200b\u7f51\u7edc\u200b\u7c7b\u578b\u200b\nnetwork_type = args.network_type\n# \u200b\u8bfb\u53d6\u200b\u7ed3\u70b9\u200b\u6570\u91cf\u200b n \u200b\u548c\u200b\u8fb9\u200b\u7684\u200b\u6570\u91cf\u200b m\nwith open(args.network_file, \"r\") as f:\nn = int(f.readline().split(\"=\")[1].strip())\nm = int(f.readline().split(\"=\")[1].strip())\n# \u200b\u8bfb\u53d6\u200b\u8d77\u59cb\u200b\u70b9\u200b\nwith open(args.origin_file, \"r\") as f:\n# \u200b\u8df3\u8fc7\u200b\u7b2c\u4e00\u884c\u200b\nf.readline()\norigin = int(f.readline().strip())\n# \u200b\u8bfb\u53d6\u200b\u7f51\u7edc\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b Forward star representation\nnetwork = np.loadtxt(\nargs.network_file,\nskiprows=3,\ndelimiter=\",\",\ndtype=np.int32,\n)\n# \u200b\u63d0\u53d6\u200b\u6240\u6709\u200b\u7684\u200b node id\nnode_id = np.unique(network[:, 0:2])\n# \u200b\u6309\u7167\u200b network \u200b\u4e2d\u200b\u7684\u200b\u7b2c\u4e00\u5217\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5f97\u5230\u200b network\nnetwork = network[network[:, 0].argsort()]\n# \u200b\u5b9a\u4e49\u200b point \u200b\u6570\u7ec4\u200b\uff0c\u200b\u8868\u793a\u200b\u6bcf\u4e2a\u200b node \u200b\u5728\u200b network from \u200b\u4e2d\u200b\u9996\u6b21\u200b\u51fa\u73b0\u200b\u7684\u200b\u7d22\u5f15\u200b\npoint = np.empty(n + 1, dtype=np.int32)\npoint[:-1] = np.searchsorted(network[:, 0], node_id)\npoint[-1] = m\n# \u200b\u521d\u59cb\u5316\u200b\ni = origin\n# \u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b n * 3 \u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u4e09\u5217\u200b\u5206\u522b\u200b\u4e3a\u200b\uff1a\u200b\u8d77\u59cb\u200b\u70b9\u200b\u7f16\u53f7\u200b\uff0c\u200b\u7ec8\u6b62\u200b\u70b9\u200b\u7f16\u53f7\u200b\uff0c\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\noutput = np.empty((n, 3), dtype=np.int32)  # \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b n*3 \u200b\u7684\u200b\u77e9\u9635\u200b\noutput[:, 0] = origin  # \u200b\u5c06\u200b\u7b2c\u4e00\u5217\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b origin\noutput[:, 1] = np.arange(1, n + 1)  # \u200b\u5c06\u200b\u7b2c\u4e8c\u5217\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b range(1, n+1)\noutput[:, 2] = np.iinfo(np.int32).max  # \u200b\u5c06\u200b\u7b2c\u4e09\u5217\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b int32 \u200b\u7684\u200b\u6700\u5927\u503c\u200b\noutput[i - 1, 2] = 0  # \u200b\u5c06\u200b\u7b2c\u200b origin \u200b\u5230\u200b origin \u200b\u7684\u200b\u8ddd\u79bb\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\n# Temporarily labeled set\uff0c\u200b\u7528\u5c0f\u9876\u200b\u5806\u200b\u5b9e\u73b0\u200b\nt = [(0, i)]  # \u200b\u5c06\u200b (0, i) \u200b\u653e\u5165\u200b\u5c0f\u9876\u200b\u5806\u200b\u4e2d\u200b\nt_set = set([i])  # \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\uff0c\u200b\u5305\u542b\u200b t \u200b\u4e2d\u200b\u7684\u200b node\n# Permanently labeled set\np = set()  # \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7a7a\u96c6\u5408\u200b\n# \u200b\u5bf9\u4e8e\u200b one-to-all \u200b\u95ee\u9898\u200b\uff0c\u200b\u5f53\u200b Permanently labeled set \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\u7b49\u4e8e\u200b n \u200b\u65f6\u200b\uff0c\u200b\u7ed3\u675f\u200b\u5faa\u73af\u200b\nwhile len(p) != n:\n# Node selection\n# \u200b\u4ece\u200b t \u200b\u4e2d\u200b\u53d6\u51fa\u200b\u6700\u5c0f\u200b\u7684\u200b\u5143\u7d20\u200b\nd_i, i = heapq.heappop(t)\n# \u200b\u5c06\u200b i \u200b\u4ece\u200b t_set \u200b\u4e2d\u200b\u79fb\u9664\u200b\nt_set.remove(i)\n# \u200b\u5c06\u200b i \u200b\u52a0\u5165\u200b\u5230\u200b p \u200b\u4e2d\u200b\np.add(i)\n# \u200b\u4ece\u200b network \u200b\u4e2d\u200b\u53d6\u51fa\u200b i \u200b\u7684\u200b\u90bb\u63a5\u200b\u70b9\u200b\nstart_point = point[i - 1]\nend_point = point[i]\n# \u200b\u63d0\u53d6\u200b i \u200b\u7684\u200b\u6240\u6709\u200b\u90bb\u63a5\u200b\u70b9\u200b j_s\nj_s = network[start_point:end_point, 1]\n# \u200b\u63d0\u53d6\u200b i \u200b\u5230\u200b \u200b\u6240\u6709\u200b\u90bb\u63a5\u200b\u70b9\u200b j_s \u200b\u7684\u200b\u8ddd\u79bb\u200b\nd_ij_s = network[start_point:end_point, 2]\n# \u200b\u5224\u65ad\u200b d_i + d_ij_s \u200b\u662f\u5426\u200b\u5c0f\u4e8e\u200b\u5f53\u524d\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff0c\u200b\u82e5\u200b\u662f\u200b\u5219\u200b\u9700\u8981\u200b\u66f4\u65b0\u200b\u5b83\u4eec\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\nis_less = d_i + d_ij_s &lt; output[j_s - 1, 2]\n# \u200b\u5224\u65ad\u200b j_s[less] \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u662f\u5426\u200b\u5728\u200b t_set \u200b\u4e2d\u200b\nis_in_t_set = list(map(lambda x: x in t_set, j_s[is_less]))\n# \u200b\u5982\u679c\u200b j_s[less] \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u4e0d\u200b\u5728\u200b t_set \u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b j \u200b\u52a0\u5165\u200b\u5230\u200b t_set \u200b\u4e2d\u200b\nt_set.update(j_s[is_less][list(map(lambda x: not x, is_in_t_set))])\n# \u200b\u5982\u679c\u200b j_s[less] \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u5728\u200b t_set \u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u539f\u6709\u200b\u7684\u200b (d_j, j) \u200b\u79fb\u9664\u200b\nfor j in j_s[is_less][is_in_t_set]:\nt.remove((output[j - 1, 2], j))\n# \u200b\u66f4\u65b0\u200b j \u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff1ad_j = min(d_j, d_i+d_ij)\noutput[(j_s - 1)[is_less], 2] = d_i + d_ij_s[is_less]\n# \u200b\u5c06\u200b\u6240\u6709\u200b j_s[is_less] \u200b\u7684\u200b\u5143\u7d20\u200b\u53ca\u5176\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u52a0\u5165\u200b\u5230\u200b t \u200b\u4e2d\u200b\nfor j in j_s[is_less]:\nheapq.heappush(t, (output[j - 1, 2], j))\nend_time = time.time()\n# \u200b\u5c06\u200b\u7ed3\u679c\u200b\u5bfc\u51fa\u200b\u5230\u200b 22210690089_output_{args.network_type}.txt\nnp.savetxt(\nf\"22210690089_output_{args.network_type}.txt\",\noutput,\nfmt=\"%d\",\ndelimiter=\",\",\nheader=\"origin,destination,distance\",\ncomments=\"\",\n)\n# \u200b\u5c06\u200b\u8fd0\u884c\u200b\u65f6\u95f4\u200b\u5bfc\u51fa\u200b\u5230\u200b 22210690089_time_{args.network_type}.txt\nwith open(f\"22210690089_time_{args.network_type}.txt\", \"w\") as f:\nf.write(f\"{(end_time - start_time) * 1000:.2f}ms\")\n</code></pre>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dijkstra-algorithm/#\u63a5\u6536\u547d\u4ee4\u884c\u53c2\u6570\u8fd0\u884c\u4e3b\u7a0b\u5e8f","title":"\u63a5\u6536\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u8fd0\u884c\u200b\u4e3b\u7a0b\u5e8f","text":"Python<pre><code>if __name__ == \"__main__\":\nparser = argparse.ArgumentParser(\"22210690089\")\nparser.add_argument(\n\"network_type\",\ntype=str,\ndefault=\"grid\",\nchoices=[\n\"grid\",\n\"random\",\n\"dense\",\n],\n)\nparser.add_argument(\n\"network_file\",\ntype=str,\ndefault=\"grid_150_150.txt\",\n)\nparser.add_argument(\n\"origin_file\",\ntype=str,\ndefault=\"origin_grid_150_150.txt\",\n)\nargs = parser.parse_args()\nsolve(args)\n</code></pre>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dijkstra-algorithm/#\u68c0\u9a8c\u6b63\u786e\u6027","title":"\u68c0\u9a8c\u200b\u6b63\u786e\u6027","text":"Python<pre><code>import numpy as np\nfor network_file in [\n\"grid_150_150.txt\",\n\"random_20000_40000.txt\",\n\"dense_1000.txt\",\n]:\nmy_output = np.loadtxt(\nf\"22210690089_output_{network_file.split('_')[0]}.txt\",\nskiprows=1,\ndelimiter=\",\",\ndtype=np.int32,\n)\ncorrect_output = np.loadtxt(\nf\"\u200b\u7b54\u6848\u200b_Output_{network_file}\",\nskiprows=1,\ndelimiter=\",\",\ndtype=np.int32,\n)\nprint(\"\u200b\u9519\u8bef\u200b\u7684\u200b\u4e2a\u6570\u200b\u662f\u200b\uff1a\", sum((my_output != correct_output)))\n</code></pre> <p>\u200b\u6d4b\u8bd5\u200b\u6837\u4f8b\u200b\u5168\u90e8\u200b\u8ba1\u7b97\u200b\u6b63\u786e\u200b\uff1a</p> <p></p>","tags":["\u8fd0\u7b79\u5b66","Python"]},{"location":"blog/dqn-lunar-lander/","title":"\u57fa\u4e8e\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b DQN \u200b\u7b97\u6cd5\u200b\u7684\u200b\u767b\u6708\u200b\u7740\u9646\u200b\u673a\u5668\u4eba","text":"<p>\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b DQN \u200b\u7b97\u6cd5\u200b\uff0c\u200b\u8bad\u7ec3\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u767b\u6708\u200b\u7740\u9646\u200b\u673a\u5668\u4eba\u200b\u3002\u200b\u5b83\u200b\u80fd\u591f\u200b\u91c7\u53d6\u200b\u5411\u200b\u5de6\u53f3\u200b\u79fb\u52a8\u200b\u3001\u200b\u5411\u4e0b\u200b\u55b7\u5c04\u200b\u51cf\u7f13\u200b\u901f\u5ea6\u200b\u7b49\u200b\u52a8\u4f5c\u200b\uff0c\u200b\u5728\u200b\u6709\u200b\u5e72\u6270\u200b\u7684\u200b\u73af\u5883\u200b\u4e0b\u200b\u51c6\u786e\u200b\u5730\u200b\u964d\u843d\u200b\u5728\u200b\u6708\u7403\u200b\u8868\u9762\u200b\u7684\u200b\u6307\u5b9a\u200b\u533a\u57df\u200b\u3002</p>  Your browser does not support the video tag.","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#deep-q-learning---lunar-lander","title":"Deep Q-Learning - Lunar Lander","text":"<p>In this assignment, you will train an agent to land a lunar lander safely on a landing pad on the surface of the moon.</p> <p>Reference: https://www.gymlibrary.dev/environments/box2d/lunar_lander/</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#1---import-packages","title":"1 - Import Packages","text":"<p>We'll make use of the following packages:</p> <ul> <li><code>numpy</code> is a package for scientific computing in python.</li> <li><code>deque</code> will be our data structure for our memory buffer.</li> <li><code>namedtuple</code> will be used to store the experience tuples.</li> <li>The <code>gym</code> toolkit is a collection of environments that can be used to test reinforcement learning algorithms.</li> <li><code>PIL.Image</code> and <code>pyvirtualdisplay</code> are needed to render the Lunar Lander environment.</li> <li>We will use several modules from the <code>torch.nn</code> framework for building deep learning models.</li> <li><code>utils</code> is a module that contains helper functions for this assignment. You do not need to modify the code in this file.</li> </ul> <p>Run the cell below to import all the necessary packages.</p> Text Only<pre><code>!apt-get install -y x11-utils xvfb python-opengl\n</code></pre> Text Only<pre><code>Reading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\nE: Unable to locate package python-opengl\n</code></pre> Text Only<pre><code>!pip install pillow\n!pip install imageio\n!pip install matplotlib\n!pip install pandas\n!pip install statsmodels\n</code></pre> Text Only<pre><code>Requirement already satisfied: pillow in /opt/conda/lib/python3.10/site-packages (9.5.0)\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: imageio in /opt/conda/lib/python3.10/site-packages (2.28.1)\nRequirement already satisfied: numpy in /opt/conda/lib/python3.10/site-packages (from imageio) (1.23.5)\nRequirement already satisfied: pillow&gt;=8.3.2 in /opt/conda/lib/python3.10/site-packages (from imageio) (9.5.0)\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: matplotlib in /opt/conda/lib/python3.10/site-packages (3.6.3)\nRequirement already satisfied: contourpy&gt;=1.0.1 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (1.0.7)\nRequirement already satisfied: cycler&gt;=0.10 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (0.11.0)\nRequirement already satisfied: fonttools&gt;=4.22.0 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (4.39.3)\nRequirement already satisfied: kiwisolver&gt;=1.0.1 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (1.4.4)\nRequirement already satisfied: numpy&gt;=1.19 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (1.23.5)\nRequirement already satisfied: packaging&gt;=20.0 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (21.3)\nRequirement already satisfied: pillow&gt;=6.2.0 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (9.5.0)\nRequirement already satisfied: pyparsing&gt;=2.2.1 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (3.0.9)\nRequirement already satisfied: python-dateutil&gt;=2.7 in /opt/conda/lib/python3.10/site-packages (from matplotlib) (2.8.2)\nRequirement already satisfied: six&gt;=1.5 in /opt/conda/lib/python3.10/site-packages (from python-dateutil&gt;=2.7-&gt;matplotlib) (1.16.0)\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: pandas in /opt/conda/lib/python3.10/site-packages (1.5.3)\nRequirement already satisfied: python-dateutil&gt;=2.8.1 in /opt/conda/lib/python3.10/site-packages (from pandas) (2.8.2)\nRequirement already satisfied: pytz&gt;=2020.1 in /opt/conda/lib/python3.10/site-packages (from pandas) (2023.3)\nRequirement already satisfied: numpy&gt;=1.21.0 in /opt/conda/lib/python3.10/site-packages (from pandas) (1.23.5)\nRequirement already satisfied: six&gt;=1.5 in /opt/conda/lib/python3.10/site-packages (from python-dateutil&gt;=2.8.1-&gt;pandas) (1.16.0)\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: statsmodels in /opt/conda/lib/python3.10/site-packages (0.13.5)\nRequirement already satisfied: pandas&gt;=0.25 in /opt/conda/lib/python3.10/site-packages (from statsmodels) (1.5.3)\nRequirement already satisfied: patsy&gt;=0.5.2 in /opt/conda/lib/python3.10/site-packages (from statsmodels) (0.5.3)\nRequirement already satisfied: packaging&gt;=21.3 in /opt/conda/lib/python3.10/site-packages (from statsmodels) (21.3)\nRequirement already satisfied: scipy&gt;=1.3 in /opt/conda/lib/python3.10/site-packages (from statsmodels) (1.10.1)\nRequirement already satisfied: numpy&gt;=1.17 in /opt/conda/lib/python3.10/site-packages (from statsmodels) (1.23.5)\nRequirement already satisfied: pyparsing!=3.0.5,&gt;=2.0.2 in /opt/conda/lib/python3.10/site-packages (from packaging&gt;=21.3-&gt;statsmodels) (3.0.9)\nRequirement already satisfied: python-dateutil&gt;=2.8.1 in /opt/conda/lib/python3.10/site-packages (from pandas&gt;=0.25-&gt;statsmodels) (2.8.2)\nRequirement already satisfied: pytz&gt;=2020.1 in /opt/conda/lib/python3.10/site-packages (from pandas&gt;=0.25-&gt;statsmodels) (2023.3)\nRequirement already satisfied: six in /opt/conda/lib/python3.10/site-packages (from patsy&gt;=0.5.2-&gt;statsmodels) (1.16.0)\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0m\n</code></pre> Text Only<pre><code>!pip install swig\n!pip install imageio[ffmpeg]\n!pip install gym pyvirtualdisplay pyglet\n!pip install gym[box2d]\n</code></pre> Text Only<pre><code>Collecting swig\n  Downloading swig-4.1.1-py2.py3-none-manylinux_2_5_x86_64.manylinux1_x86_64.whl (1.8 MB)\n[2K     [90m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501[0m [32m1.8/1.8 MB[0m [31m30.6 MB/s[0m eta [36m0:00:00[0ma [36m0:00:01[0m\n[?25hInstalling collected packages: swig\nSuccessfully installed swig-4.1.1\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: imageio[ffmpeg] in /opt/conda/lib/python3.10/site-packages (2.28.1)\nRequirement already satisfied: numpy in /opt/conda/lib/python3.10/site-packages (from imageio[ffmpeg]) (1.23.5)\nRequirement already satisfied: pillow&gt;=8.3.2 in /opt/conda/lib/python3.10/site-packages (from imageio[ffmpeg]) (9.5.0)\nCollecting imageio-ffmpeg (from imageio[ffmpeg])\n  Downloading imageio_ffmpeg-0.4.8-py3-none-manylinux2010_x86_64.whl (26.9 MB)\n[2K     [90m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501[0m [32m26.9/26.9 MB[0m [31m48.4 MB/s[0m eta [36m0:00:00[0m00:01[0m00:01[0m\n[?25hRequirement already satisfied: psutil in /opt/conda/lib/python3.10/site-packages (from imageio[ffmpeg]) (5.9.3)\nInstalling collected packages: imageio-ffmpeg\nSuccessfully installed imageio-ffmpeg-0.4.8\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: gym in /opt/conda/lib/python3.10/site-packages (0.26.2)\nCollecting pyvirtualdisplay\n  Downloading PyVirtualDisplay-3.0-py3-none-any.whl (15 kB)\nCollecting pyglet\n  Downloading pyglet-2.0.7-py3-none-any.whl (841 kB)\n[2K     [90m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501[0m [32m841.0/841.0 kB[0m [31m19.7 MB/s[0m eta [36m0:00:00[0m00:01[0m\n[?25hRequirement already satisfied: numpy&gt;=1.18.0 in /opt/conda/lib/python3.10/site-packages (from gym) (1.23.5)\nRequirement already satisfied: cloudpickle&gt;=1.2.0 in /opt/conda/lib/python3.10/site-packages (from gym) (2.2.1)\nRequirement already satisfied: gym-notices&gt;=0.0.4 in /opt/conda/lib/python3.10/site-packages (from gym) (0.0.8)\nInstalling collected packages: pyvirtualdisplay, pyglet\nSuccessfully installed pyglet-2.0.7 pyvirtualdisplay-3.0\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0mRequirement already satisfied: gym[box2d] in /opt/conda/lib/python3.10/site-packages (0.26.2)\nRequirement already satisfied: numpy&gt;=1.18.0 in /opt/conda/lib/python3.10/site-packages (from gym[box2d]) (1.23.5)\nRequirement already satisfied: cloudpickle&gt;=1.2.0 in /opt/conda/lib/python3.10/site-packages (from gym[box2d]) (2.2.1)\nRequirement already satisfied: gym-notices&gt;=0.0.4 in /opt/conda/lib/python3.10/site-packages (from gym[box2d]) (0.0.8)\nCollecting box2d-py==2.3.5 (from gym[box2d])\n  Downloading box2d-py-2.3.5.tar.gz (374 kB)\n[2K     [90m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501[0m [32m374.4/374.4 kB[0m [31m11.5 MB/s[0m eta [36m0:00:00[0m\n[?25h  Preparing metadata (setup.py) ... [?25ldone\n[?25hCollecting pygame==2.1.0 (from gym[box2d])\n  Downloading pygame-2.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (18.3 MB)\n[2K     [90m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501[0m [32m18.3/18.3 MB[0m [31m54.2 MB/s[0m eta [36m0:00:00[0m00:01[0m00:01[0m\n[?25hRequirement already satisfied: swig==4.* in /opt/conda/lib/python3.10/site-packages (from gym[box2d]) (4.1.1)\nBuilding wheels for collected packages: box2d-py\n  Building wheel for box2d-py (setup.py) ... [?25ldone\n[?25h  Created wheel for box2d-py: filename=box2d_py-2.3.5-cp310-cp310-linux_x86_64.whl size=495297 sha256=7d15bd91da1f1b3c3325a224882cd076affce9f2463ddf06326f7343c1a31447\n  Stored in directory: /root/.cache/pip/wheels/db/8f/6a/eaaadf056fba10a98d986f6dce954e6201ba3126926fc5ad9e\nSuccessfully built box2d-py\nInstalling collected packages: box2d-py, pygame\nSuccessfully installed box2d-py-2.3.5 pygame-2.1.0\n[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m[33m\n[0m\n</code></pre> Python<pre><code>import time\nfrom collections import deque, namedtuple\nimport gym\nimport numpy as np\nimport PIL.Image\nfrom pyvirtualdisplay import Display\nimport torch\nimport torch.nn as nn\nimport torch.optim as optim\nimport torch.nn.functional as F\nimport base64\nimport random\nfrom itertools import zip_longest\nimport imageio\nimport IPython\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as mticker\nimport numpy as np\nimport pandas as pd\nimport torch\nfrom statsmodels.iolib.table import SimpleTable\nSEED = 0  # Seed for the pseudo-random number generator.\nMINIBATCH_SIZE = 64  # Mini-batch size.\nTAU = 1e-3  # Soft update parameter.\nE_DECAY = 0.995  # \u03b5-decay rate for the \u03b5-greedy policy.\nE_MIN = 0.01  # Minimum \u03b5 value for the \u03b5-greedy policy.\nrandom.seed(SEED)\ndevice = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")\ndef check_update_conditions(t, num_steps_upd, memory_buffer):\n\"\"\"\n    Determines if the conditions are met to perform a learning update.\n    Checks if the current time step t is a multiple of num_steps_upd and if the\n    memory_buffer has enough experience tuples to fill a mini-batch (for example, if the\n    mini-batch size is 64, then the memory buffer should have more than 64 experience\n    tuples in order to perform a learning update).\n    Args:\n        t (int):\n            The current time step.\n        num_steps_upd (int):\n            The number of time steps used to determine how often to perform a learning\n            update. A learning update is only performed every num_steps_upd time steps.\n        memory_buffer (deque):\n            A deque containing experiences. The experiences are stored in the memory\n            buffer as namedtuples: namedtuple(\"Experience\", field_names=[\"state\",\n            \"action\", \"reward\", \"next_state\", \"done\"]).\n    Returns:\n       A boolean that will be True if conditions are met and False otherwise.\n    \"\"\"\nif (t + 1) % num_steps_upd == 0 and len(memory_buffer) &gt; MINIBATCH_SIZE:\nreturn True\nelse:\nreturn False\ndef get_new_eps(epsilon):\n\"\"\"\n    Updates the epsilon value for the \u03b5-greedy policy.\n    Gradually decreases the value of epsilon towards a minimum value (E_MIN) using the\n    given \u03b5-decay rate (E_DECAY).\n    Args:\n        epsilon (float):\n            The current value of epsilon.\n    Returns:\n       A float with the updated value of epsilon.\n    \"\"\"\nreturn max(E_MIN, E_DECAY * epsilon)\ndef plot_history(point_history, **kwargs):\n\"\"\"\n    Plots the total number of points received by the agent after each episode together\n    with the moving average (rolling mean).\n    Args:\n        point_history (list):\n            A list containing the total number of points the agent received after each\n            episode.\n        **kwargs: optional\n            window_size (int):\n                Size of the window used to calculate the moving average (rolling mean).\n                This integer determines the fixed number of data points used for each\n                window. The default window size is set to 10% of the total number of\n                data points in point_history, i.e. if point_history has 200 data points\n                the default window size will be 20.\n            lower_limit (int):\n                The lower limit of the x-axis in data coordinates. Default value is 0.\n            upper_limit (int):\n                The upper limit of the x-axis in data coordinates. Default value is\n                len(point_history).\n            plot_rolling_mean_only (bool):\n                If True, only plots the moving average (rolling mean) without the point\n                history. Default value is False.\n            plot_data_only (bool):\n                If True, only plots the point history without the moving average.\n                Default value is False.\n    \"\"\"\nlower_limit = 0\nupper_limit = len(point_history)\nwindow_size = (upper_limit * 10) // 100\nplot_rolling_mean_only = False\nplot_data_only = False\nif kwargs:\nif \"window_size\" in kwargs:\nwindow_size = kwargs[\"window_size\"]\nif \"lower_limit\" in kwargs:\nlower_limit = kwargs[\"lower_limit\"]\nif \"upper_limit\" in kwargs:\nupper_limit = kwargs[\"upper_limit\"]\nif \"plot_rolling_mean_only\" in kwargs:\nplot_rolling_mean_only = kwargs[\"plot_rolling_mean_only\"]\nif \"plot_data_only\" in kwargs:\nplot_data_only = kwargs[\"plot_data_only\"]\npoints = point_history[lower_limit:upper_limit]\n# Generate x-axis for plotting.\nepisode_num = [x for x in range(lower_limit, upper_limit)]\n# Use Pandas to calculate the rolling mean (moving average).\nrolling_mean = pd.DataFrame(points).rolling(window_size).mean()\nplt.figure(figsize=(10, 7), facecolor=\"white\")\nif plot_data_only:\nplt.plot(episode_num, points, linewidth=1, color=\"cyan\")\nelif plot_rolling_mean_only:\nplt.plot(episode_num, rolling_mean, linewidth=2, color=\"magenta\")\nelse:\nplt.plot(episode_num, points, linewidth=1, color=\"cyan\")\nplt.plot(episode_num, rolling_mean, linewidth=2, color=\"magenta\")\ntext_color = \"black\"\nax = plt.gca()\nax.set_facecolor(\"black\")\nplt.grid()\nplt.xlabel(\"Episode\", color=text_color, fontsize=30)\nplt.ylabel(\"Total Points\", color=text_color, fontsize=30)\nyNumFmt = mticker.StrMethodFormatter(\"{x:,}\")\nax.yaxis.set_major_formatter(yNumFmt)\nax.tick_params(axis=\"x\", colors=text_color)\nax.tick_params(axis=\"y\", colors=text_color)\nplt.show()\ndef display_table(initial_state, action, next_state, reward, done):\n\"\"\"\n    Displays a table containing the initial state, action, next state, reward, and done\n    values from Gym's Lunar Lander environment.\n    All floating point numbers in the table are displayed rounded to 3 decimal places\n    and actions are displayed using their labels instead of their numerical value (i.e\n    if action = 0, the action will be printed as \"Do nothing\" instead of \"0\").\n    Args:\n        initial_state (numpy.ndarray):\n            The initial state vector returned when resetting the Lunar Lander\n            environment, i.e the value returned by the env.reset() method.\n        action (int):\n            The action taken by the agent. In the Lunar Lander environment, actions are\n            represented by integers in the closed interval [0,3] corresponding to:\n                - Do nothing = 0\n                - Fire right engine = 1\n                - Fire main engine = 2\n                - Fire left engine = 3\n        next_state (numpy.ndarray):\n            The state vector returned by the Lunar Lander environment after the agent\n            takes an action, i.e the observation returned after running a single time\n            step of the environment's dynamics using env.step(action).\n        reward (numpy.float64):\n            The reward returned by the Lunar Lander environment after the agent takes an\n            action, i.e the reward returned after running a single time step of the\n            environment's dynamics using env.step(action).\n        done (bool):\n            The done value returned by the Lunar Lander environment after the agent\n            takes an action, i.e the done value returned after running a single time\n            step of the environment's dynamics using env.step(action).\n    Returns:\n        table (statsmodels.iolib.table.SimpleTable):\n            A table object containing the initial_state, action, next_state, reward,\n            and done values. This will result in the table being displayed in the\n            Jupyter Notebook.\n    \"\"\"\naction_labels = [\n\"Do nothing\",\n\"Fire right engine\",\n\"Fire main engine\",\n\"Fire left engine\",\n]\n# Do not use column headers.\ncolumn_headers = None\n# Display all floating point numbers rounded to 3 decimal places.\nwith np.printoptions(formatter={\"float\": \"{:.3f}\".format}):\ntable_info = [\n(\"Initial State:\", [f\"{initial_state}\"]),\n(\"Action:\", [f\"{action_labels[action]}\"]),\n(\"Next State:\", [f\"{next_state}\"]),\n(\"Reward Received:\", [f\"{reward:.3f}\"]),\n(\"Episode Terminated:\", [f\"{done}\"]),\n]\n# Generate table.\nrow_labels, data = zip_longest(*table_info)\ntable = SimpleTable(data, column_headers, row_labels)\nreturn table\ndef embed_mp4(filename):\n\"\"\"\n    Embeds an MP4 video file in a Jupyter notebook.\n    Args:\n        filename (string):\n            The path to the the MP4 video file that will be embedded (i.e.\n            \"./videos/lunar_lander.mp4\").\n    Returns:\n        Returns a display object from the given video file. This will result in the\n        video being displayed in the Jupyter Notebook.\n    \"\"\"\nvideo = open(filename, \"rb\").read()\nb64 = base64.b64encode(video)\ntag = \"\"\"\n    &lt;video width=\"840\" height=\"480\" controls&gt;\n    &lt;source src=\"data:video/mp4;base64,{0}\" type=\"video/mp4\"&gt;\n    Your browser does not support the video tag.\n    &lt;/video&gt;\"\"\".format(\nb64.decode()\n)\nreturn IPython.display.HTML(tag)\ndef create_video(filename, env, q_network, fps=30):\n\"\"\"\n    Creates a video of an agent interacting with a Gym environment.\n    The agent will interact with the given env environment using the q_network to map\n    states to Q values and using a greedy policy to choose its actions (i.e it will\n    choose the actions that yield the maximum Q values).\n    The video will be saved to a file with the given filename. The video format must be\n    specified in the filename by providing a file extension (.mp4, .gif, etc..). If you\n    want to embed the video in a Jupyter notebook using the embed_mp4 function, then the\n    video must be saved as an MP4 file.\n    Args:\n        filename (string):\n            The path to the file to which the video will be saved. The video format will\n            be selected based on the filename. Therefore, the video format must be\n            specified in the filename by providing a file extension (i.e.\n            \"./videos/lunar_lander.mp4\"). To see a list of supported formats see the\n            imageio documentation: https://imageio.readthedocs.io/en/v2.8.0/formats.html\n        env (Gym Environment):\n            The Gym environment the agent will interact with.\n        q_network (torch.nn.Sequential):\n            A Torch Sequential model that maps states to Q values.\n        fps (int):\n            The number of frames per second. Specifies the frame rate of the output\n            video. The default frame rate is 30 frames per second.\n    \"\"\"\nwith imageio.get_writer(filename, fps=fps) as video:\ndone = False\nstate, info = env.reset()\nframe = env.render()\nvideo.append_data(frame)\nwhile not done:\nstate_qn = torch.from_numpy(\nnp.expand_dims(state, axis=0)\n)  # state needs to be the right shape for the q_network\nstate_qn = state_qn.to(device)\nq_values = q_network(state_qn)\naction = torch.argmax(q_values.detach()).item()\nstate, _, done, _, _ = env.step(action)\nframe = env.render()\nvideo.append_data(frame)\ndevice = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")\n</code></pre> Python<pre><code># Set up a virtual display to render the Lunar Lander environment.\n# run on linux\nDisplay(visible=0, size=(840, 480)).start()\nimport random\nrandom.seed(0)\n# Set the random seed for Torch\ntorch.manual_seed(0)\ntorch.cuda.manual_seed_all(0)\nnp.random.seed(0)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#2---hyperparameters","title":"2 - Hyperparameters","text":"<p>Run the cell below to set the hyperparameters.</p> Python<pre><code>MEMORY_SIZE = 100_000  # size of memory buffer\nGAMMA = 0.995  # discount factor\nALPHA = 1e-3  # learning rate\nNUM_STEPS_FOR_UPDATE = 4  # perform a learning update every C time steps\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#3---the-lunar-lander-environment","title":"3 - The Lunar Lander Environment","text":"<p>In this notebook we will be using OpenAI's Gym Library. The Gym library provides a wide variety of environments for reinforcement learning. To put it simply, an environment represents a problem or task to be solved. In this notebook, we will try to solve the Lunar Lander environment using reinforcement learning.</p> <p>The goal of the Lunar Lander environment is to land the lunar lander safely on the landing pad on the surface of the moon. The landing pad is designated by two flag poles and it is always at coordinates <code>(0,0)</code> but the lander is also allowed to land outside of the landing pad. The lander starts at the top center of the environment with a random initial force applied to its center of mass and has infinite fuel. The environment is considered solved if you get <code>200</code> points.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#31-action-space","title":"3.1 Action Space","text":"<p>The agent has four discrete actions available:</p> <ul> <li>Do nothing.</li> <li>Fire right engine.</li> <li>Fire main engine.</li> <li>Fire left engine.</li> </ul> <p>Each action has a corresponding numerical value:</p> Text Only<pre><code>Do nothing = 0\nFire right engine = 1\nFire main engine = 2\nFire left engine = 3\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#32-observation-space","title":"3.2 Observation Space","text":"<p>The agent's observation space consists of a state vector with 8 variables:</p> <ul> <li>Its \\((x,y)\\) coordinates. The landing pad is always at coordinates \\((0,0)\\).</li> <li>Its linear velocities \\((\\dot x,\\dot y)\\).</li> <li>Its angle \\(\\theta\\).</li> <li>Its angular velocity \\(\\dot \\theta\\).</li> <li>Two booleans, \\(l\\) and \\(r\\), that represent whether each leg is in contact with the ground or not.</li> </ul> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#33-rewards","title":"3.3 Rewards","text":"<p>The Lunar Lander environment has the following reward system:</p> <ul> <li>Landing on the landing pad and coming to rest is about 100-140 points.</li> <li>If the lander moves away from the landing pad, it loses reward.</li> <li>If the lander crashes, it receives -100 points.</li> <li>If the lander comes to rest, it receives +100 points.</li> <li>Each leg with ground contact is +10 points.</li> <li>Firing the main engine is -0.3 points each frame.</li> <li>Firing the side engine is -0.03 points each frame.</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#34-episode-termination","title":"3.4 Episode Termination","text":"<p>An episode ends (i.e the environment enters a terminal state) if:</p> <ul> <li> <p>The lunar lander crashes (i.e if the body of the lunar lander comes in contact with the surface of the moon).</p> </li> <li> <p>The absolute value of the lander's \\(x\\)-coordinate is greater than 1 (i.e. it goes beyond the left or right border)</p> </li> </ul> <p>You can check out the Open AI Gym documentation for a full description of the environment.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#4---load-the-environment","title":"4 - Load the Environment","text":"<p>We start by loading the <code>LunarLander-v2</code> environment from the <code>gym</code> library by using the <code>.make()</code> method. <code>LunarLander-v2</code> is the latest version of the Lunar Lander environment and you can read about its version history in the Open AI Gym documentation.</p> Python<pre><code>env = gym.make(\"LunarLander-v2\", render_mode=\"rgb_array\")\n</code></pre> <p>Once we load the environment we use the <code>.reset()</code> method to reset the environment to the initial state. The lander starts at the top center of the environment and we can render the first frame of the environment by using the <code>.render()</code> method.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#5---interacting-with-the-gym-environment","title":"5 - Interacting with the Gym Environment","text":"<p>The Gym library implements the standard \u201cagent-environment loop\u201d formalism:</p> <p></p> <p>In the standard \u201cagent-environment loop\u201d formalism, an agent interacts with the environment in discrete time steps \\(t=0,1,2,...\\). At each time step \\(t\\), the agent uses a policy \\(\\pi\\) to select an action \\(A_t\\) based on its observation of the environment's state \\(S_t\\). The agent receives a numerical reward \\(R_t\\) and on the next time step, moves to a new state \\(S_{t+1}\\).</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#51-exploring-the-environments-dynamics","title":"5.1 Exploring the Environment's Dynamics","text":"<p>In Open AI's Gym environments, we use the <code>.step()</code> method to run a single time step of the environment's dynamics. In the version of <code>gym</code> that we are using the <code>.step()</code> method accepts an action and returns four values:</p> <ul> <li> <p><code>observation</code> (object): an environment-specific object representing your observation of the environment. In the Lunar Lander environment this corresponds to a numpy array containing the positions and velocities of the lander as described in section 3.2 Observation Space.</p> </li> <li> <p><code>reward</code> (float): amount of reward returned as a result of taking the given action. In the Lunar Lander environment this corresponds to a float of type <code>numpy.float64</code> as described in section 3.3 Rewards.</p> </li> <li> <p><code>done</code> (boolean): When done is <code>True</code>, it indicates the episode has terminated and it\u2019s time to reset the environment.</p> </li> <li> <p><code>info</code> (dictionary): diagnostic information useful for debugging. We won't be using this variable in this notebook but it is shown here for completeness.</p> </li> </ul> <p>To begin an episode, we need to reset the environment to an initial state. We do this by using the <code>.reset()</code> method.</p> Python<pre><code>env.reset()\nPIL.Image.fromarray(env.render())\n</code></pre> <p></p> <p>In order to build our neural network later on we need to know the size of the state vector and the number of valid actions. We can get this information from our environment by using the <code>.observation_space.shape</code> and <code>action_space.n</code> methods, respectively.</p> Python<pre><code>state_size = env.observation_space.shape\nnum_actions = env.action_space.n\nprint(\"State Shape:\", state_size)\nprint(\"Number of actions:\", num_actions)\n</code></pre> Text Only<pre><code>State Shape: (8,)\nNumber of actions: 4\n</code></pre> Python<pre><code># Reset the environment and get the initial state.\ninitial_state = env.reset()\n</code></pre> <p>Once the environment is reset, the agent can start taking actions in the environment by using the <code>.step()</code> method. Note that the agent can only take one action per time step.</p> <p>In the cell below you can select different actions and see how the returned values change depending on the action taken. Remember that in this environment the agent has four discrete actions available and we specify them in code by using their corresponding numerical value:</p> Text Only<pre><code>Do nothing = 0\nFire right engine = 1\nFire main engine = 2\nFire left engine = 3\n</code></pre> Python<pre><code># Select an action\naction = 0\n# Run a single time step of the environment's dynamics with the given action.\nnext_state, reward, done, truncated, info = env.step(action)\n# Display table with values. All values are displayed to 3 decimal places.\ndisplay_table(initial_state, action, next_state, reward, done)\n</code></pre> Initial State: (array([0.002, 1.412, 0.199, 0.049, -0.002, -0.045, 0.000, 0.000],       dtype=float32), {}) Action: Do nothing Next State: [0.004 1.413 0.198 0.023 -0.004 -0.044 0.000 0.000] Reward Received: 0.211 Episode Terminated: False <p>In practice, when we train the agent we use a loop to allow the agent to take many consecutive actions during an episode.</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#6---deep-q-learning","title":"6 - Deep Q-Learning","text":"<p>In cases where both the state and action space are discrete we can estimate the action-value function iteratively by using the Bellman equation:</p> \\[ Q_{i+1}(s,a) = R + \\gamma \\max_{a'}Q_i(s',a') \\] <p>This iterative method converges to the optimal action-value function \\(Q^*(s,a)\\) as \\(i\\to\\infty\\). This means that the agent just needs to gradually explore the state-action space and keep updating the estimate of \\(Q(s,a)\\) until it converges to the optimal action-value function \\(Q^*(s,a)\\). However, in cases where the state space is continuous it becomes practically impossible to explore the entire state-action space. Consequently, this also makes it practically impossible to gradually estimate \\(Q(s,a)\\) until it converges to \\(Q^*(s,a)\\).</p> <p>In the Deep \\(Q\\)-Learning, we solve this problem by using a neural network to estimate the action-value function \\(Q(s,a)\\approx Q^*(s,a)\\). We call this neural network a \\(Q\\)-Network and it can be trained by adjusting its weights at each iteration to minimize the mean-squared error in the Bellman equation.</p> <p>Unfortunately, using neural networks in reinforcement learning to estimate action-value functions has proven to be highly unstable. Luckily, there's a couple of techniques that can be employed to avoid instabilities. These techniques consist of using a Target Network and Experience Replay. We will explore these two techniques in the following sections.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#61-target-network","title":"6.1 Target Network","text":"<p>We can train the \\(Q\\)-Network by adjusting it's weights at each iteration to minimize the mean-squared error in the Bellman equation, where the target values are given by:</p> \\[ y = R + \\gamma \\max_{a'}Q(s',a';w) \\] <p>where \\(w\\) are the weights of the \\(Q\\)-Network. This means that we are adjusting the weights \\(w\\) at each iteration to minimize the following error:</p> \\[ \\overbrace{\\underbrace{R + \\gamma \\max_{a'}Q(s',a'; w)}_{\\rm {y~target}} - Q(s,a;w)}^{\\rm {Error}} \\] <p>Notice that this forms a problem because the \\(y\\) target is changing on every iteration. Having a constantly moving target can lead to oscillations and instabilities. To avoid this, we can create a separate neural network for generating the \\(y\\) targets. We call this separate neural network the target \\(\\hat Q\\)-Network and it will have the same architecture as the original \\(Q\\)-Network. By using the target \\(\\hat Q\\)-Network, the above error becomes:</p> \\[ \\overbrace{\\underbrace{R + \\gamma \\max_{a'}\\hat{Q}(s',a'; w^-)}_{\\rm {y~target}} - Q(s,a;w)}^{\\rm {Error}} \\] <p>where \\(w^-\\) and \\(w\\) are the weights the target \\(\\hat Q\\)-Network and \\(Q\\)-Network, respectively.</p> <p>In practice, we will use the following algorithm: every \\(C\\) time steps we will use the \\(\\hat Q\\)-Network to generate the \\(y\\) targets and update the weights of the target \\(\\hat Q\\)-Network using the weights of the \\(Q\\)-Network. We will update the weights \\(w^-\\) of the the target \\(\\hat Q\\)-Network using a soft update. This means that we will update the weights \\(w^-\\) using the following rule:</p> \\[ w^-\\leftarrow \\tau w + (1 - \\tau) w^- \\] <p>where \\(\\tau\\ll 1\\). By using the soft update, we are ensuring that the target values, \\(y\\), change slowly, which greatly improves the stability of our learning algorithm.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#exercise-1","title":"Exercise 1","text":"<p>In this exercise you will create the \\(Q\\) and target \\(\\hat Q\\) networks and set the optimizer. Remember that the Deep \\(Q\\)-Network (DQN) is a neural network that approximates the action-value function \\(Q(s,a)\\approx Q^*(s,a)\\). It does this by learning how to map states to \\(Q\\) values.</p> <p>To solve the Lunar Lander environment, we are going to employ a DQN with the following architecture:</p> <ul> <li> <p>A <code>Linear</code> layer with <code>state_size[0]</code> input units, <code>64</code> output units</p> </li> <li> <p>A <code>relu</code> activation function layer.</p> </li> <li> <p>A <code>Linear</code> layer with <code>64</code> input units, <code>64</code> output units</p> </li> <li> <p>A <code>relu</code> activation function layer.</p> </li> <li> <p>A <code>Linear</code> layer with <code>64</code> input units, <code>num_actions</code> output units</p> </li> </ul> <p>In the cell below you should create the \\(Q\\)-Network and the target \\(\\hat Q\\)-Network using the model architecture described above. Remember that both the \\(Q\\)-Network and the target \\(\\hat Q\\)-Network have the same architecture.</p> <p>Lastly, you should set <code>Adam</code> as the optimizer with a learning rate equal to <code>ALPHA</code>. Recall that <code>ALPHA</code> was defined in the Hyperparameters section. We should note that for this exercise you should use the already imported packages:</p> Python<pre><code># Create the Q-Network\nq_network = nn.Sequential(\n### START CODE HERE ###\nnn.Linear(state_size[0], 64),\nnn.ReLU(),\nnn.Linear(64, 64),\nnn.ReLU(),\nnn.Linear(64, num_actions)\n### END CODE HERE ###\n)\n# Create the target Q^-Network\ntarget_q_network = nn.Sequential(\n### START CODE HERE ###\nnn.Linear(state_size[0], 64),\nnn.ReLU(),\nnn.Linear(64, 64),\nnn.ReLU(),\nnn.Linear(64, num_actions)\n### END CODE HERE ###\n)\n### START CODE HERE ###\noptimizer = optim.Adam(q_network.parameters(), lr=ALPHA)\n### END CODE HERE ###\n</code></pre> Python<pre><code># Make them have the same initial parameters.\nfor target_param, param in zip(target_q_network.parameters(), q_network.parameters()):\ntarget_param.data.copy_(param.data)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#62-experience-replay","title":"6.2 Experience Replay","text":"<p>When an agent interacts with the environment, the states, actions, and rewards the agent experiences are sequential by nature. If the agent tries to learn from these consecutive experiences it can run into problems due to the strong correlations between them. To avoid this, we employ a technique known as Experience Replay to generate uncorrelated experiences for training our agent. Experience replay consists of storing the agent's experiences (i.e the states, actions, and rewards the agent receives) in a memory buffer and then sampling a random mini-batch of experiences from the buffer to do the learning. The experience tuples \\((S_t, A_t, R_t, S_{t+1})\\) will be added to the memory buffer at each time step as the agent interacts with the environment.</p> <p>For convenience, we will store the experiences as named tuples.</p> Python<pre><code># Store experiences as named tuples\nexperience = namedtuple(\n\"Experience\", field_names=[\"state\", \"action\", \"reward\", \"next_state\", \"done\"]\n)\n</code></pre> <p>By using experience replay we avoid problematic correlations, oscillations and instabilities. In addition, experience replay also allows the agent to potentially use the same experience in multiple weight updates, which increases data efficiency.</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#7---deep-q-learning-algorithm-with-experience-replay","title":"7 - Deep Q-Learning Algorithm with Experience Replay","text":"<p>Now that we know all the techniques that we are going to use, we can put them together to arrive at the Deep Q-Learning Algorithm With Experience Replay.</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#exercise-2","title":"Exercise 2","text":"<p>In this exercise you will implement line 12 of the algorithm outlined in Fig 3 above and you will also compute the loss between the \\(y\\) targets and the \\(Q(s,a)\\) values. In the cell below, complete the <code>compute_loss</code> function by setting the \\(y\\) targets equal to:</p> \\[ \\begin{equation}     y_j =     \\begin{cases}       R_j &amp; \\text{if episode terminates at step  } j+1\\\\       R_j + \\gamma \\max_{a'}\\hat{Q}(s_{j+1},a') &amp; \\text{otherwise}\\\\     \\end{cases} \\end{equation} \\] <p>Here are a couple of things to note:</p> <ul> <li> <p>The <code>compute_loss</code> function takes in a mini-batch of experience tuples. This mini-batch of experience tuples is unpacked to extract the <code>states</code>, <code>actions</code>, <code>rewards</code>, <code>next_states</code>, and <code>done_vals</code>. You should keep in mind that these variables are Pytorch Tensors whose size will depend on the mini-batch size. For example, if the mini-batch size is <code>64</code> then both <code>rewards</code> and <code>done_vals</code> will be Pytorch Tensors with <code>64</code> elements.</p> </li> <li> <p>Using <code>if/else</code> statements to set the \\(y\\) targets will not work when the variables are tensors with many elements. However, notice that you can use the <code>done_vals</code> to implement the above in a single line of code. To do this, recall that the <code>done</code> variable is a Boolean variable that takes the value <code>True</code> when an episode terminates at step \\(j+1\\) and it is <code>False</code> otherwise. Taking into account that a Boolean value of <code>True</code> has the numerical value of <code>1</code> and a Boolean value of <code>False</code> has the numerical value of <code>0</code>, you can use the factor <code>(1 - done_vals)</code> to implement the above in a single line of code. Here's a hint: notice that <code>(1 - done_vals)</code> has a value of <code>0</code> when <code>done_vals</code> is <code>True</code> and a value of <code>1</code> when <code>done_vals</code> is <code>False</code>.</p> </li> </ul> <p>Lastly, compute the loss by calculating the Mean-Squared Error (<code>MSE</code>) between the <code>y_targets</code> and the <code>q_values</code>. To calculate the mean-squared error you should use <code>F.mse_loss</code>:</p> Python<pre><code>def compute_loss(experiences, gamma, q_network, target_q_network):\n\"\"\"\n    Calculates the loss.\n    Args:\n      experiences: (tuple) tuple of [\"state\", \"action\", \"reward\", \"next_state\", \"done\"] namedtuples\n      gamma: (float) The discount factor.\n      q_network: (torch.nn.Sequential) PyTorch model for predicting the q_values\n      target_q_network: (torch.nn.Sequential) PyTorch model for predicting the targets\n    Returns:\n      loss: (PyTorch Tensor) the Mean-Squared Error between the y targets and the Q(s,a) values.\n    \"\"\"\n# Unpack the mini-batch of experience tuples\nstates, actions, rewards, next_states, done_vals = experiences\n### START CODE HERE ###\n# Compute max Q^(s,a) using torch.max and target_q_network, pay attendion to the `dim` parameter.\nmax_qsa = torch.max(target_q_network(next_states), dim=-1)[0]\n# Set y = R if episode terminates(done_vals are the boolean values indicating if the episode ended)\n# otherwise set y = R + \u03b3 max Q^(s,a).\ny_targets = rewards + (gamma * max_qsa * (1 - done_vals))\n# Get the q_values from q_network\nq_values = q_network(states)\n# Comprehend what `gather` does in the following line.\nq_values = q_values.gather(1, actions.long().unsqueeze(1))\n# Compute the loss using F.mse_loss between q_values and y_targets. You may need to use `unsqueeze` on y_targets.\nloss = F.mse_loss(q_values, y_targets.unsqueeze(1))\n### END CODE HERE ###\nreturn loss\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#8---update-the-network-weights","title":"8 - Update the Network Weights","text":"<p>We will use the <code>agent_learn</code> function below to implement lines 12 -14 of the algorithm outlined in Fig 3. The <code>agent_learn</code> function will update the weights of the \\(Q\\) and target \\(\\hat Q\\) networks using a custom training loop.</p> <p>The last line of this function updates the weights of the target \\(\\hat Q\\)-Network using a soft update. If you want to know how this is implemented in code we encourage you to take a look at the <code>utils.update_target_network</code> function in the <code>utils</code> module.</p> Python<pre><code>def update_target_network(q_network, target_q_network):\n\"\"\"\n    Updates the weights of the target Q-Network using a soft update.\n    The weights of the target_q_network are updated using the soft update rule:\n                    w_target = (TAU * w) + (1 - TAU) * w_target\n    where w_target are the weights of the target_q_network, TAU is the soft update\n    parameter, and w are the weights of the q_network.\n    Args:\n        q_network (torch.nn.Module):\n            The Q-Network.\n        target_q_network (torch.nn.Module):\n            The Target Q-Network.\n    \"\"\"\nTAU = 1e-3  # Soft update parameter.\nfor target_param, param in zip(\ntarget_q_network.parameters(), q_network.parameters()\n):\ntarget_param.data.copy_(TAU * param.data + (1.0 - TAU) * target_param.data)\n</code></pre> Python<pre><code>MINIBATCH_SIZE = 64  # Mini-batch size.\ndef get_experiences(memory_buffer):\n\"\"\"\n    Returns a random sample of experience tuples drawn from the memory buffer.\n    Retrieves a random sample of experience tuples from the given memory_buffer and\n    returns them as PyTorch Tensors. The size of the random sample is determined by\n    the mini-batch size (MINIBATCH_SIZE).\n    Args:\n        memory_buffer (deque):\n            A deque containing experiences. The experiences are stored in the memory\n            buffer as namedtuples: namedtuple(\"Experience\", field_names=[\"state\",\n            \"action\", \"reward\", \"next_state\", \"done\"]).\n    Returns:\n        A tuple (states, actions, rewards, next_states, done_vals) where:\n            - states are the starting states of the agent.\n            - actions are the actions taken by the agent from the starting states.\n            - rewards are the rewards received by the agent after taking the actions.\n            - next_states are the new states of the agent after taking the actions.\n            - done_vals are the boolean values indicating if the episode ended.\n        All tuple elements are PyTorch Tensors whose shape is determined by the\n        mini-batch size and the given Gym environment. For the Lunar Lander environment\n        the states and next_states will have a shape of [MINIBATCH_SIZE, 8] while the\n        actions, rewards, and done_vals will have a shape of [MINIBATCH_SIZE]. All\n        PyTorch Tensors have elements with dtype=torch.float32.\n    \"\"\"\nexperiences = random.sample(memory_buffer, k=MINIBATCH_SIZE)\nstates = torch.tensor(\n[e.state for e in experiences if e is not None],\ndtype=torch.float32,\ndevice=device,\n)\nactions = torch.tensor(\n[e.action for e in experiences if e is not None],\ndtype=torch.float32,\ndevice=device,\n)\nrewards = torch.tensor(\n[e.reward for e in experiences if e is not None],\ndtype=torch.float32,\ndevice=device,\n)\nnext_states = torch.tensor(\n[e.next_state for e in experiences if e is not None],\ndtype=torch.float32,\ndevice=device,\n)\ndone_vals = torch.tensor(\n[e.done for e in experiences if e is not None],\ndtype=torch.float32,\ndevice=device,\n)\nreturn (states, actions, rewards, next_states, done_vals)\n</code></pre> Python<pre><code>def agent_learn(experiences, gamma):\n\"\"\"\n    Updates the weights of the Q networks.\n    Args:\n      experiences: (tuple) tuple of [\"state\", \"action\", \"reward\", \"next_state\", \"done\"] namedtuples\n      gamma: (float) The discount factor.\n    \"\"\"\n# Unpack the mini-batch of experience tuples\nstates, actions, rewards, next_states, done_vals = experiences\n# Calculate the loss\nloss = compute_loss(\n(states, actions, rewards, next_states, done_vals),\ngamma,\nq_network,\ntarget_q_network,\n)\n# Compute gradients and update weights of q_network\noptimizer.zero_grad()\nloss.backward()\noptimizer.step()\n# Update the weights of target_q_network\nupdate_target_network(q_network, target_q_network)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#9---train-the-agent","title":"9 - Train the Agent","text":"<p>We are now ready to train our agent to solve the Lunar Lander environment. In the cell below we will implement the algorithm in Fig 3 line by line (please note that we have included the same algorithm below for easy reference. This will prevent you from scrolling up and down the notebook):</p> <ul> <li> <p>Line 1: We initialize the <code>memory_buffer</code> with a capacity of \\(N =\\) <code>MEMORY_SIZE</code>. Notice that we are using a <code>deque</code> as the data structure for our <code>memory_buffer</code>.</p> </li> <li> <p>Line 2: We skip this line since we already initialized the <code>q_network</code> in Exercise 1.</p> </li> <li> <p>Line 3: We initialize the <code>target_q_network</code> by setting its weights to be equal to those of the <code>q_network</code>.</p> </li> <li> <p>Line 4: We start the outer loop. Notice that we have set \\(M =\\) <code>num_episodes = 2000</code>. This number is reasonable because the agent should be able to solve the Lunar Lander environment in less than <code>2000</code> episodes using this notebook's default parameters.</p> </li> <li> <p>Line 5: We use the <code>.reset()</code> method to reset the environment to the initial state and get the initial state.</p> </li> <li> <p>Line 6: We start the inner loop. Notice that we have set \\(T =\\) <code>max_num_timesteps = 1000</code>. This means that the episode will automatically terminate if the episode hasn't terminated after <code>1000</code> time steps.</p> </li> <li> <p>Line 7: The agent observes the current <code>state</code> and chooses an <code>action</code> using an \\(\\epsilon\\)-greedy policy. Our agent starts out using a value of \\(\\epsilon =\\) <code>epsilon = 1</code> which yields an \\(\\epsilon\\)-greedy policy that is equivalent to the equiprobable random policy. This means that at the beginning of our training, the agent is just going to take random actions regardless of the observed <code>state</code>. As training progresses we will decrease the value of \\(\\epsilon\\) slowly towards a minimum value using a given \\(\\epsilon\\)-decay rate. We want this minimum value to be close to zero because a value of \\(\\epsilon = 0\\) will yield an \\(\\epsilon\\)-greedy policy that is equivalent to the greedy policy. This means that towards the end of training, the agent will lean towards selecting the <code>action</code> that it believes (based on its past experiences) will maximize \\(Q(s,a)\\). We will set the minimum \\(\\epsilon\\) value to be <code>0.01</code> and not exactly 0 because we always want to keep a little bit of exploration during training. If you want to know how this is implemented in code we encourage you to take a look at the <code>utils.get_action</code> function in the <code>utils</code> module.</p> </li> <li> <p>Line 8: We use the <code>.step()</code> method to take the given <code>action</code> in the environment and get the <code>reward</code> and the <code>next_state</code>.</p> </li> <li> <p>Line 9: We store the <code>experience(state, action, reward, next_state, done)</code> tuple in our <code>memory_buffer</code>. Notice that we also store the <code>done</code> variable so that we can keep track of when an episode terminates. This allowed us to set the \\(y\\) targets in Exercise 2.</p> </li> <li> <p>Line 10: We check if the conditions are met to perform a learning update. We do this by using our custom <code>utils.check_update_conditions</code> function. This function checks if \\(C =\\) <code>NUM_STEPS_FOR_UPDATE = 4</code> time steps have occured and if our <code>memory_buffer</code> has enough experience tuples to fill a mini-batch. For example, if the mini-batch size is <code>64</code>, then our <code>memory_buffer</code> should have more than <code>64</code> experience tuples in order to pass the latter condition. If the conditions are met, then the <code>utils.check_update_conditions</code> function will return a value of <code>True</code>, otherwise it will return a value of <code>False</code>.</p> </li> <li> <p>Lines 11 - 14: If the <code>update</code> variable is <code>True</code> then we perform a learning update. The learning update consists of sampling a random mini-batch of experience tuples from our <code>memory_buffer</code>, setting the \\(y\\) targets, performing gradient descent, and updating the weights of the networks. We will use the <code>agent_learn</code> function we defined in Section 8 to perform the latter 3.</p> </li> <li> <p>Line 15: At the end of each iteration of the inner loop we set <code>next_state</code> as our new <code>state</code> so that the loop can start again from this new state. In addition, we check if the episode has reached a terminal state (i.e we check if <code>done = True</code>). If a terminal state has been reached, then we break out of the inner loop.</p> </li> <li> <p>Line 16: At the end of each iteration of the outer loop we update the value of \\(\\epsilon\\), and check if the environment has been solved. We consider that the environment has been solved if the agent receives an average of <code>200</code> points in the last <code>100</code> episodes. If the environment has not been solved we continue the outer loop and start a new episode.</p> </li> </ul> <p>Finally, we wanted to note that we have included some extra variables to keep track of the total number of points the agent received in each episode. This will help us determine if the agent has solved the environment and it will also allow us to see how our agent performed during training. We also use the <code>time</code> module to measure how long the training takes.</p> <p></p> Python<pre><code>def get_action(q_values, epsilon=0.0):\n\"\"\"\n    Returns an action using an \u03b5-greedy policy.\n    This function will return an action according to the following rules:\n        - With probability epsilon, it will return an action chosen at random.\n        - With probability (1 - epsilon), it will return the action that yields the\n        maximum Q value in q_values.\n    Args:\n        q_values (torch.Tensor):\n            The Q values returned by the Q-Network. For the Lunar Lander environment\n            this PyTorch Tensor should have a shape of [1, 4] and its elements should\n            have dtype=torch.float32.\n        epsilon (float):\n            The current value of epsilon.\n    Returns:\n        An action (numpy.int64). For the Lunar Lander environment, actions are\n        represented by integers in the closed interval [0,3].\n    \"\"\"\nif random.random() &gt; epsilon:\n### START CODE HERE ###\nreturn torch.argmax(q_values).item()\n### END CODE HERE ###\nelse:\n### START CODE HERE ###\nreturn random.randint(0, 3)\n### END CODE HERE ###\n</code></pre> Python<pre><code># %debug\nstart = time.time()\nnum_episodes = 2000\nmax_num_timesteps = 1000\ntotal_point_history = []\nnum_p_av = 100  # number of total points to use for averaging\nepsilon = 1.0  # initial \u03b5 value for \u03b5-greedy policy\n# Create a memory buffer D with capacity N\nmemory_buffer = deque(maxlen=MEMORY_SIZE)\nq_network = q_network.to(device)\ntarget_q_network = target_q_network.to(device)\n# Set the target network weights equal to the Q-Network weights\ntarget_q_network.load_state_dict(q_network.state_dict())\nfor i in range(num_episodes):\n# Reset the environment to the initial state and get the initial state\nstate, info = env.reset()\ntotal_points = 0\nfor t in range(max_num_timesteps):\n# From the current state S choose an action A using an \u03b5-greedy policy\nstate_qn = torch.from_numpy(\nnp.expand_dims(state, axis=0)\n)  # state needs to be the right shape for the q_network\nstate_qn = state_qn.to(device)\nq_values = q_network(state_qn)\naction = get_action(q_values, epsilon)\n# Take action A and receive reward R and the next state S'\nnext_state, reward, done, truncated, info = env.step(action)\n# Store experience tuple (S,A,R,S') in the memory buffer.\n# We store the done variable as well for convenience.\nmemory_buffer.append(experience(state, action, reward, next_state, done))\n# Only update the network every NUM_STEPS_FOR_UPDATE time steps.\nupdate = check_update_conditions(t, NUM_STEPS_FOR_UPDATE, memory_buffer)\nif update:\n# Sample random mini-batch of experience tuples (S,A,R,S') from D\nexperiences = get_experiences(memory_buffer)\n# Set the y targets, perform a gradient descent step,\n# and update the network weights.\nagent_learn(experiences, GAMMA)\nstate = next_state.copy()\ntotal_points += reward\nif done:\nbreak\ntotal_point_history.append(total_points)\nav_latest_points = np.mean(total_point_history[-num_p_av:])\n# Update the \u03b5 value\nepsilon = get_new_eps(epsilon)\nprint(\nf\"\\rEpisode {i+1} | Total point average of the last {num_p_av} episodes: {av_latest_points:.2f}\",\nend=\"\",\n)\nif (i + 1) % num_p_av == 0:\nprint(\nf\"\\rEpisode {i+1} | Total point average of the last {num_p_av} episodes: {av_latest_points:.2f}\"\n)\n# We will consider that the environment is solved if we get an\n# average of 200 points in the last 100 episodes.\nif av_latest_points &gt;= 200.0:\nprint(f\"\\n\\nEnvironment solved in {i+1} episodes!\")\ntorch.save(q_network, \"lunar_lander_model.pt\")\nbreak\ntot_time = time.time() - start\nprint(f\"\\nTotal Runtime: {tot_time:.2f} s ({(tot_time/60):.2f} min)\")\n</code></pre> Text Only<pre><code>Episode 100 | Total point average of the last 100 episodes: -160.81\nEpisode 200 | Total point average of the last 100 episodes: -94.379\nEpisode 300 | Total point average of the last 100 episodes: -66.97\nEpisode 400 | Total point average of the last 100 episodes: -19.23\nEpisode 500 | Total point average of the last 100 episodes: 135.43\nEpisode 600 | Total point average of the last 100 episodes: 196.77\nEpisode 607 | Total point average of the last 100 episodes: 200.16\n\nEnvironment solved in 607 episodes!\n\nTotal Runtime: 775.11 s (12.92 min)\n</code></pre> <p>We can plot the total point history along with the moving average to see how our agent improved during training. If you want to know about the different plotting options available in the <code>utils.plot_history</code> function we encourage you to take a look at the <code>utils</code> module.</p> Python<pre><code># Plot the total point history along with the moving average\nplot_history(total_point_history)\n</code></pre> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#10---see-the-trained-agent-in-action","title":"10 - See the Trained Agent In Action","text":"<p>Now that we have trained our agent, we can see it in action. We will use the <code>utils.create_video</code> function to create a video of our agent interacting with the environment using the trained \\(Q\\)-Network. The <code>utils.create_video</code> function uses the <code>imageio</code> library to create the video. This library produces some warnings that can be distracting, so, to suppress these warnings we run the code below.</p> Python<pre><code># Suppress warnings from imageio\nimport logging\nlogging.getLogger().setLevel(logging.ERROR)\n</code></pre> <p>In the cell below we create a video of our agent interacting with the Lunar Lander environment using the trained <code>q_network</code>. The video is saved to the <code>videos</code> folder with the given <code>filename</code>. We use the <code>utils.embed_mp4</code> function to embed the video in the Jupyter Notebook so that we can see it here directly without having to download it.</p> <p>We should note that since the lunar lander starts with a random initial force applied to its center of mass, every time you run the cell below you will see a different video. If the agent was trained properly, it should be able to land the lunar lander in the landing pad every time, regardless of the initial force applied to its center of mass.</p> Python<pre><code>filename = \"lunar_lander.mp4\"\ncreate_video(filename, env, q_network)\nembed_mp4(filename)\n</code></pre>  Your browser does not support the video tag.","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#11---congratulations","title":"11 - Congratulations!","text":"<p>You have successfully used Deep Q-Learning with Experience Replay to train an agent to land a lunar lander safely on a landing pad on the surface of the moon. Congratulations!</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/dqn-lunar-lander/#12---references","title":"12 - References","text":"<p>If you would like to learn more about Deep Q-Learning, we recommend you check out the following papers.</p> <ul> <li> <p>Mnih, V., Kavukcuoglu, K., Silver, D. et al. Human-level control through deep reinforcement learning. Nature 518, 529\u2013533 (2015).</p> </li> <li> <p>Lillicrap, T. P., Hunt, J. J., Pritzel, A., et al. Continuous Control with Deep Reinforcement Learning. ICLR (2016).</p> </li> <li> <p>Mnih, V., Kavukcuoglu, K., Silver, D. et al. Playing Atari with Deep Reinforcement Learning. arXiv e-prints. arXiv:1312.5602 (2013).</p> </li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/deep-learning-cheat-sheet/","title":"\u6df1\u5ea6\u200b\u5b66\u4e60\u200b Cheat Sheet","text":"<p>\u200b\u672c\u6587\u200b\u6574\u7406\u200b\u4e86\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u671f\u672b\u8003\u8bd5\u200b Cheat Sheet\u3002\u200b\u5185\u5bb9\u200b\u5305\u62ec\u200b\uff1a</p> <ul> <li>\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u57fa\u7840\u200b\uff08\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u3001\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u4f18\u5316\u200b\u65b9\u6cd5\u200b\u3001\u200b\u53c2\u6570\u200b\u521d\u59cb\u5316\u200b\uff09</li> <li>\u200b\u524d\u9988\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff08Dense NN\u3001\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b\uff09</li> <li>\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff08CNN\uff09</li> <li>\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff08RNN\u3001LSTM\u3001GRU\u3001\u200b\u968f\u200b\u65f6\u95f4\u200b\u7684\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\uff09</li> <li>\u200b\u751f\u6210\u200b\u6a21\u578b\u200b\uff08\u200b\u81ea\u200b\u7f16\u7801\u5668\u200b\u3001\u200b\u53d8\u5206\u200b\u81ea\u200b\u7f16\u7801\u5668\u200b\u3001GAN\u3001WGAN\uff09</li> <li>Transformer\uff08\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u3001\u200b\u591a\u5934\u200b\u6ce8\u610f\u529b\u200b\u3001\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\uff09</li> <li>\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u57fa\u7840\u200b\uff1a\u200b\u591a\u81c2\u200b\u8001\u864e\u673a\u200b\uff08\u200b\u9057\u61be\u200b\u503c\u200b\u3001Eoplore Then Commit\u3001Upper Confidence Bound\uff09</li> <li>\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b\u8fdb\u9636\u200b\uff1a\u200b\u9a6c\u5c14\u53ef\u592b\u200b\u51b3\u7b56\u200b\u8fc7\u7a0b\u200b\u3001\u200b\u52a8\u4f5c\u200b\u4ef7\u503c\u200b\u51fd\u6570\u200b\u3001\u200b\u8d1d\u5c14\u66fc\u200b\u65b9\u7a0b\u200b\u3001\u200b\u8ba1\u7b97\u200b\u72b6\u6001\u200b\u4ef7\u503c\u200b\u3001Q-Learning</li> </ul> <p>PDF \u200b\u7248\u200b Cheat Sheet \u200b\u5728\u200b\u8fd9\u91cc\u200b\u3002</p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/nonconformist-for-firm-loan/","title":"\u4f7f\u7528\u200b Conformal Learning \u200b\u9884\u6d4b\u200b\u4f01\u4e1a\u200b\u4fe1\u8d37\u200b\u8fdd\u7ea6\u200b\u60c5\u51b5","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b 8 \u200b\u79cd\u200b\u7ecf\u5178\u200b\u7684\u200b\u5206\u7c7b\u5668\u200b\uff0c\u200b\u57fa\u4e8e\u200b\u9006\u200b\u6982\u7387\u200b\u9519\u8bef\u200b\u8fdb\u884c\u200b Conformal Learning\u3002</p> <p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u4e86\u200b <code>nonconformist</code> \u200b\u5305\u200b\uff0c\u200b\u5b83\u200b\u5728\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b\u9884\u6d4b\u200b\u65f6\u200b\u7684\u200b\u6838\u5fc3\u200b\u6b65\u9aa4\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u5728\u200b\u8bad\u7ec3\u200b\u96c6\u4e0a\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u548c\u200b\u5e38\u89c4\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u8bad\u7ec3\u200b\u76f8\u540c\u200b\u3002</li> <li>\u200b\u5728\u200b\u6821\u51c6\u200b\u96c6\u4e0a\u200b\u6821\u51c6\u200b\uff0c\u200b\u5f97\u5230\u200b\u6bcf\u4e2a\u200b\u6821\u51c6\u200b\u96c6\u200b\u6837\u672c\u200b\u5c5e\u4e8e\u200b\u6bcf\u4e2a\u200b\u6807\u7b7e\u200b\u7684\u200b\u9884\u6d4b\u200b\u6982\u7387\u200b\u3002</li> <li>\u200b\u7528\u200b\u4e00\u4e2a\u200b ErrFunc \u200b\u8861\u91cf\u200b\u6bcf\u4e2a\u200b\u6821\u51c6\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b nonconformity score\u3002\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u662f\u200b <code>InverseProbabilityErrFunc</code>\uff0c\u200b\u5b83\u200b\u7b49\u4e8e\u200b <code>1-predict_probability[true_y]</code>\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u67d0\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u662f\u200b 1\uff0c\u200b\u800c\u200b\u6a21\u578b\u200b\u9884\u6d4b\u51fa\u200b\u8be5\u200b\u6837\u672c\u200b\u5c5e\u4e8e\u200b\u6807\u7b7e\u200b 1 \u200b\u7684\u200b\u6982\u7387\u200b\u662f\u200b 0.9\uff0c\u200b\u5219\u200b ErrFunc \u200b\u7684\u200b\u503c\u200b\u662f\u200b 1-0.9=0.1\u3002</li> <li>\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u5f97\u5230\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6837\u672c\u200b\u5c5e\u4e8e\u200b\u6bcf\u4e2a\u200b\u6807\u7b7e\u200b\u7684\u200b\u9884\u6d4b\u200b\u6982\u7387\u200b\u3002</li> <li>\u200b\u7528\u200b ErrFunc \u200b\u8861\u91cf\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u3002</li> <li>\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6837\u672c\u200b\uff0c\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u6709\u200b\u591a\u5c11\u200b\u6bd4\u4f8b\u200b\u7684\u200b\u6821\u51c6\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b nonconformity score \u200b\u5927\u4e8e\u200b\u6216\u200b\u7b49\u4e8e\u200b\u5f53\u524d\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u7684\u200b nonconformity score\uff0c\u200b\u8bb0\u200b\u4e3a\u200b p\u3002p \u200b\u8d8a\u5927\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6821\u51c6\u200b\u96c6\u4e2d\u200b\u6709\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u200b\u6837\u672c\u200b\u6bd4\u200b\u5f53\u524d\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b\u9884\u6d4b\u200b\u6548\u679c\u200b\u66f4\u5dee\u200b\uff0c\u200b\u8bf4\u660e\u200b\u7b2c\u200b j \u200b\u4e2a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u5c5e\u4e8e\u200b\u7b2c\u200b i \u200b\u4e2a\u7c7b\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\u8d8a\u5927\u200b\u3002</li> <li>\u200b\u8fd4\u56de\u200b p &gt; significance\u3002\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b N*2 \u200b\u7684\u200b True \u200b\u548c\u200b False \u200b\u7ec4\u6210\u200b\u7684\u200b\u4e8c\u7ef4\u200b\u77e9\u9635\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u884c\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\u6837\u672c\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u5217\u200b\u4ee3\u8868\u200b\u662f\u5426\u200b\u5c06\u200b\u8be5\u200b\u6807\u7b7e\u200b\u7eb3\u5165\u200b\u8be5\u200b\u6837\u672c\u200b\u7684\u200b prediction set \u200b\u4e2d\u200b\u3002</li> </ol> <p></p> <p>\u200b\u672c\u200b\u9879\u76ee\u200b\u7684\u200b\u5b8c\u6574\u200b\u5c55\u793a\u200b\u6587\u4ef6\u200b\u5728\u200b\u8fd9\u91cc\u200b\u3002</p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/nonconformist-for-firm-loan/#\u9879\u76ee\u6846\u67b6","title":"\u9879\u76ee\u200b\u6846\u67b6","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/nonconformist-for-firm-loan/#conformal-prediction-\u539f\u7406\u6d41\u7a0b","title":"Conformal Prediction \u200b\u539f\u7406\u200b\u6d41\u7a0b","text":"","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/nonconformist-for-firm-loan/#conformal-prediction-\u9884\u6d4b\u7ed3\u679c","title":"Conformal Prediction \u200b\u9884\u6d4b\u200b\u7ed3\u679c","text":"<p>\u200b\u7531\u200b\u6709\u6548\u200b\u8986\u76d6\u7387\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u8bba\u200b</p> <p>\u200b\u5f53\u200b\u7f6e\u4fe1\u5ea6\u200b\u4e3a\u200b \\(60\\%\\) \u200b\u65f6\u200b\uff0c\u200b\u6709\u6548\u200b\u8986\u76d6\u7387\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6b64\u65f6\u200b\u6a21\u578b\u200b\u7ed9\u51fa\u200b\u7684\u200b\u9884\u6d4b\u200b\u96c6\u200b\u57fa\u672c\u200b\u90fd\u200b\u662f\u200b\u7cbe\u51c6\u200b\u7684\u200b\u9884\u6d4b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5305\u542b\u200b\u4e24\u79cd\u200b\u6807\u7b7e\u200b\u7684\u200b\u6a21\u7cca\u200b\u9884\u6d4b\u200b\u3002</p> <p></p>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/nonconformist-for-firm-loan/#conformal-prediction-\u4ee3\u7801","title":"Conformal Prediction \u200b\u4ee3\u7801","text":"<p>\u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u89c1\u200b GitHub\u3002</p> Python<pre><code>def get_prediction_set(model, confidence=0.9, err_func=InverseProbabilityErrFunc()):\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b Nonconformity function\nnc = NcFactory.create_nc(model=model, err_func=err_func)\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b inductive conformal classifier\nicp = IcpClassifier(nc)\n# \u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nicp.fit(X_train, y_train)\n# \u200b\u6821\u51c6\u200b\u6a21\u578b\u200b\nicp.calibrate(X_val, y_val)\n# \u200b\u5728\u200b\u6d4b\u8bd5\u200b\u96c6\u4e0a\u200b\u8fdb\u884c\u200b\u9884\u6d4b\u200b\uff0c\u200b\u7ed9\u51fa\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u7684\u200b\u96c6\u5408\u200b\nprediction_set = icp.predict(X_test, significance=1 - confidence)\n# \u200b\u8ba1\u7b97\u200b prediction set\nprediction_set = list(\nmap(lambda row: tuple(i for i, x in enumerate(row) if x), prediction_set)\n)\nreturn prediction_set\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/nonconformist-for-firm-loan/#\u7ed8\u5236\u67f1\u72b6\u56fe\u7684\u4ee3\u7801","title":"\u7ed8\u5236\u200b\u67f1\u72b6\u56fe\u200b\u7684\u200b\u4ee3\u7801","text":"Python<pre><code>import matplotlib.pyplot as plt\nfrom matplotlib.ticker import FuncFormatter\nfrom matplotlib_inline.backend_inline import set_matplotlib_formats\nset_matplotlib_formats(\"svg\")\nplt.rcParams[\"axes.unicode_minus\"] = False\n# \u200b\u8bbe\u7f6e\u200b\u767e\u5206\u6570\u200b\u7684\u200b\u683c\u5f0f\u200b\ndef to_percent(temp, position):\nreturn \"%1.0f\" % (100 * temp) + \"%\"\n</code></pre> Python<pre><code># \u200b\u8bbe\u7f6e\u200b\u5b57\u4f53\u200b\u4e3a\u200b 14\uff0c\u200b\u7528\u4e8e\u200b\u56fe\u4f8b\u200b\u4e2d\u200b\u663e\u793a\u200b\u5206\u7c7b\u5668\u200b\u540d\u79f0\u200b\nplt.rcParams[\"font.size\"] = 14\n# \u200b\u8bbe\u7f6e\u200b\u753b\u5e03\u200b\u5927\u5c0f\u200b\nfig = plt.figure(figsize=(10, 6), dpi=300)\n# \u200b\u7ed8\u5236\u200b\u67f1\u72b6\u56fe\u200b\nfor i, model in enumerate(coverage_ratios.index):\nplt.bar(\n[x + i * 0.08 for x in range(coverage_ratios.shape[1])],\ncoverage_ratios.loc[model],\nwidth=0.08,\nlabel=model,\n)\n# \u200b\u8bbe\u7f6e\u200b\u6a2a\u5750\u6807\u200b\u523b\u5ea6\u200b\nplt.xticks(\n[x + 0.28 for x in range(coverage_ratios.shape[1])],\n[f\"{confidences[x]*100:.0f}%\" for x in range(coverage_ratios.shape[1])],\n)\n# \u200b\u8bbe\u7f6e\u200b\u7eb5\u5750\u6807\u200b\u523b\u5ea6\u200b\nplt.yticks([x / 10 for x in range(4, 11)] + [0.95])\n# \u200b\u8bbe\u7f6e\u200b\u7eb5\u8f74\u200b\u767e\u5206\u6bd4\u200b\u663e\u793a\u200b\u683c\u5f0f\u200b\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\n# \u200b\u6dfb\u52a0\u200b\u7f6e\u4fe1\u5ea6\u200b\u7684\u200b\u6c34\u5e73\u7ebf\u200b\nfor confidence in confidences:\nplt.axhline(y=confidence, color=\"gray\", linestyle=\"--\")\n# y \u200b\u8f74\u200b\u8303\u56f4\u200b\nplt.ylim(0.4, 1)\n# \u200b\u6dfb\u52a0\u200b xy \u200b\u8f74\u200b\u6807\u7b7e\u200b\u548c\u200b\u6807\u9898\u200b\nplt.xlabel(\"Confidence\")\nplt.ylabel(\"Coverage Ratio\")\nplt.title(\"Coverage Ratio by Confidence\")\n# \u200b\u6dfb\u52a0\u200b\u5206\u7c7b\u5668\u200b\u540d\u79f0\u200b\u7684\u200b\u56fe\u4f8b\u200b\nplt.legend(loc=\"upper right\")\n# \u200b\u663e\u793a\u200b\u56fe\u5f62\u200b\nplt.show()\n# \u200b\u4fdd\u5b58\u200b\u56fe\u5f62\u200b\nfig.savefig(\n\"./results/Coverage Ratio by Confidence.png\",\nformat=\"png\",\nfacecolor=\"white\",\nbbox_inches=\"tight\",\n)\n</code></pre>","tags":["\u7edf\u8ba1","\u673a\u5668\u5b66\u4e60"]},{"location":"blog/replenishment-optimization/","title":"\u996e\u6599\u200b\u4f01\u4e1a\u200b\u591a\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4f18\u5316","text":"<p>\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b\u67d0\u200b\u996e\u6599\u200b\u4f01\u4e1a\u200b\u7684\u200b\u5de5\u5382\u200b\u3001\u200b\u4ed3\u5e93\u200b\u4e0e\u200b\u5546\u54c1\u200b\u76f8\u5173\u200b\u7684\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\uff0c\u200b\u7ed3\u5408\u200b\u968f\u673a\u200b\u6a21\u62df\u200b\u7684\u200b\u552e\u4ef7\u200b\u4e0e\u200b\u6210\u672c\u200b\u6570\u636e\u200b\uff0c\u200b\u6784\u5efa\u200b\u4e86\u200b\u591a\u200b\u5de5\u5382\u200b\u3001\u200b\u591a\u200b\u4ed3\u5e93\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4f18\u5316\u200b\u6a21\u578b\u200b\u3002</p> <p>\u200b\u6570\u503c\u200b\u8bd5\u9a8c\u200b\u8868\u660e\u200b\uff0c\u200b\u672c\u6587\u200b\u6784\u5efa\u200b\u7684\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u6a21\u578b\u200b\u80fd\u591f\u200b\u6bd4\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\uff08\u200b\u7b80\u5355\u200b\u57fa\u4e8e\u200b\u5386\u53f2\u200b\u9500\u91cf\u200b\u800c\u200b\u56fa\u5b9a\u200b\u751f\u4ea7\u91cf\u200b\uff09\u200b\u591a\u200b\u83b7\u5f97\u200b\u7ea6\u200b 500 \u200b\u4e07\u5143\u200b\u7684\u200b\u5229\u6da6\u200b\uff0c\u200b\u4e14\u200b\u5728\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u4e0a\u200b\u66f4\u5177\u200b\u4f18\u52bf\u200b\u3002\u200b\u5bf9\u200b\u5de5\u5382\u200b\u548c\u200b\u4ed3\u5e93\u200b\u5bb9\u91cf\u200b\u7684\u200b\u7075\u654f\u5ea6\u200b\u5206\u6790\u8868\u660e\u200b\uff0c\u200b\u5de5\u5382\u200b 2 \u200b\u548c\u200b DC4\u30015\u30017\u300114 \u200b\u591a\u200b\u5177\u6709\u200b\u5f53\u524d\u200b\u5bb9\u91cf\u200b\u8f83\u200b\u5c0f\u200b\u3001\u200b\u8fd0\u8f93\u6210\u672c\u200b\u4f4e\u200b\u3001\u200b\u5386\u53f2\u200b\u9500\u91cf\u200b\u9ad8\u7b49\u200b\u7279\u70b9\u200b\uff0c\u200b\u5bf9\u200b\u5b83\u4eec\u200b\u8fdb\u884c\u200b\u6269\u5bb9\u200b\u80fd\u591f\u200b\u53d6\u5f97\u200b\u663e\u8457\u200b\u7684\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u3002\u200b\u5bf9\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\u7684\u200b\u677e\u5f1b\u200b\u8868\u660e\u200b\uff0c\u200b\u6574\u6258\u200b\u8fd0\u8f93\u200b\u867d\u4ee5\u200b\u8282\u7701\u200b\u8fd0\u8f93\u6210\u672c\u200b\u4e3a\u200b\u76ee\u7684\u200b\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u200b\u5374\u200b\u53ef\u80fd\u200b\u9020\u6210\u200b\u8fd0\u8f93\u200b\u8d44\u6e90\u200b\u7684\u200b\u6d6a\u8d39\u200b\uff0c\u200b\u800c\u200b\u8003\u8651\u200b\u9002\u5f53\u200b\u653e\u677e\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\u6709\u200b\u6f5c\u529b\u200b\u80fd\u591f\u200b\u63d0\u9ad8\u200b\u7ea6\u200b 100 \u200b\u4e07\u5143\u200b\u7684\u200b\u5229\u6da6\u200b\u3002</p> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u9009\u9898\u80cc\u666f","title":"\u9009\u9898\u200b\u80cc\u666f","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u95ee\u9898\u80cc\u666f","title":"\u95ee\u9898\u200b\u80cc\u666f","text":"<p>\u200b\u53e4\u8bdd\u200b\u6709\u4e91\u200b\uff0c\u200b\u5175\u9a6c\u672a\u52a8\u200b\u7cae\u8349\u5148\u884c\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u4e00\u5bb6\u200b\u5927\u578b\u200b\u4f01\u4e1a\u200b\u800c\u8a00\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u826f\u597d\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u8ba1\u5212\u200b\u72b9\u5982\u200b\u540e\u65b9\u200b\u7684\u200b\u8865\u7ed9\u7ebf\u200b\uff0c\u200b\u5728\u200b\u6574\u6761\u200b\u4f9b\u5e94\u94fe\u200b\u4e2d\u200b\u626e\u6f14\u7740\u200b\u81f3\u5173\u91cd\u8981\u200b\u7684\u200b\u89d2\u8272\u200b\u3002\u200b\u5728\u200b\u5927\u578b\u200b\u4f01\u4e1a\u200b\u4e2d\u200b\uff0c\u200b\u4e1a\u52a1\u200b\u9886\u5bfc\u8005\u200b\u901a\u5e38\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u5206\u5de5\u200b\uff0c\u200b\u5206\u7ba1\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u51b3\u7b56\u200b\u6d41\u7a0b\u200b\u4e2d\u200b\u9009\u54c1\u200b\u3001\u200b\u8865\u8d27\u200b\u3001\u200b\u4f9b\u5e94\u5546\u200b\u9009\u62e9\u200b\u7b49\u200b\u591a\u4e2a\u200b\u6a21\u5757\u200b\u3002\u200b\u5404\u200b\u6a21\u5757\u200b\u7684\u200b\u8d1f\u8d23\u4eba\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u53ca\u65f6\u200b\u7684\u200b\u4fe1\u606f\u200b\u5bf9\u9f50\u200b\uff0c\u200b\u4ee5\u200b\u505a\u51fa\u200b\u4e00\u81f4\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u51b3\u7b56\u200b\uff0c\u200b\u751f\u4ea7\u200b\u5408\u9002\u200b\u6570\u91cf\u200b\u7684\u200b\u8d27\u7269\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u5728\u200b\u5408\u9002\u200b\u7684\u200b\u65f6\u95f4\u200b\u4ece\u200b\u5408\u9002\u200b\u7684\u200b\u4f9b\u5e94\u5546\u200b\u8865\u5230\u200b\u5408\u9002\u200b\u7684\u200b\u4ed3\u5e93\u200b\u3002</p> <p>\u200b\u5728\u200b\u771f\u5b9e\u200b\u7684\u200b\u4e1a\u52a1\u200b\u573a\u666f\u200b\u4e2d\u200b\uff0c\u200b\u751f\u4ea7\u91cf\u200b\u4e0e\u200b\u8865\u8d27\u200b\u91cf\u200b\u7684\u200b\u8ba1\u7b97\u200b\u4e5f\u200b\u5927\u6709\u200b\u5b66\u95ee\u200b\u3002\u200b\u4ee5\u5feb\u200b\u6d88\u54c1\u200b\u2f8f\u200b\u4e1a\u4e3a\u4f8b\u200b\uff0c\u200b\u8003\u8651\u200b\u5230\u200b\u8be5\u200b\u2f8f\u200b\u4e1a\u200b\u5e02\u573a\u9700\u6c42\u200b\u53d8\u5316\u200b\u5feb\u200b\u3001\u200b\u9500\u552e\u200b\u6e20\u9053\u200b\u591a\u200b\u3001\u200b\u9500\u552e\u200b\u73af\u8282\u200b\u590d\u6742\u200b\u7b49\u200b\u7279\u70b9\u200b\uff0c\u200b\u5bf9\u200b\u53d8\u5316\u200b\u9700\u6c42\u200b\u7684\u200b\u54cd\u5e94\u901f\u5ea6\u200b\u53ca\u200b\u8865\u8d27\u200b\u8fd0\u8f93\u200b\u6548\u7387\u200b\u6784\u6210\u200b\u4e86\u200b\u4f01\u4e1a\u200b\u6781\u4e3a\u91cd\u8981\u200b\u7684\u200b\u7ade\u4e89\u200b\u2f12\u200b\u3002\u200b\u2f7d\u200b\u6bcf\u4e2a\u200b\u6e20\u9053\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u90fd\u200b\u53d7\u200b\u4e0d\u540c\u200b\u56e0\u7d20\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u5982\u200b\u4ea7\u54c1\u200b\u5b63\u8282\u6027\u200b\u3001\u200b\u6d88\u8d39\u8005\u200b\u504f\u597d\u200b\u3001\u200b\u5e93\u5b58\u200b\u65b0\u9c9c\u5ea6\u200b\u3001\u200b\u4f9b\u5e94\u200b\u5468\u671f\u200b\u3001\u200b\u9700\u6c42\u200b\u573a\u666f\u200b\u3001\u200b\u4ea7\u80fd\u200b\u7ea6\u675f\u200b\u3001\u200b\u5e93\u5bb9\u200b\u7ea6\u675f\u200b\u3001\u200b\u53d1\u8fd0\u200b\u8d44\u6e90\u200b\u7ea6\u675f\u200b\u7b49\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5982\u4f55\u200b\u5728\u200b\u2faf\u200b\u4e34\u200b\u8bf8\u591a\u200b\u4e0d\u786e\u5b9a\u6027\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5236\u5b9a\u200b\u6700\u4f73\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u8ba1\u5212\u200b\uff0c\u200b\u5bf9\u200b\u4f01\u4e1a\u200b\u6765\u8bf4\u200b\u5c24\u4e3a\u91cd\u8981\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>\u200b\u672c\u200b\u9879\u76ee\u200b\u65e8\u5728\u200b\u89e3\u51b3\u200b\u67d0\u200b\u996e\u6599\u200b\u516c\u53f8\u200b\u7684\u200b\u667a\u80fd\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u95ee\u9898\u200b\uff0c\u200b\u5c3d\u53ef\u80fd\u200b\u907f\u514d\u200b\u4eba\u5de5\u200b\u51b3\u7b56\u200b\u5e26\u6765\u200b\u7684\u200b SKU \u200b\u6ede\u9500\u200b\u3001\u200b\u6d6a\u8d39\u200b\u3001\u200b\u5360\u7528\u200b\u5e93\u5b58\u200b\u3001\u200b\u4f9b\u5e94\u200b\u4e0d\u8db3\u200b\u7b49\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6700\u5927\u5316\u200b\u4f01\u4e1a\u200b\u5229\u6da6\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u66f4\u597d\u200b\u7684\u200b\u4ea7\u9500\u200b\u534f\u540c\u200b\u3002</p> <p>\u200b\u8be5\u200b\u996e\u6599\u200b\u4f01\u4e1a\u200b\u8bbe\u6709\u200b 2 \u200b\u4e2a\u200b\u751f\u4ea7\u200b\u5de5\u5382\u200b\uff0c18 \u200b\u4e2a\u200b DC \u200b\u4ed3\u5e93\u200b\uff08Distribution Center\uff0c\u200b\u5373\u200b\u53d1\u8fd0\u200b\u4e2d\u5fc3\u200b\uff09\uff0c\u200b\u751f\u4ea7\u200b\u5e76\u200b\u9500\u552e\u200b 72 \u200b\u79cd\u200b SKU\uff08Stock Keeping Unit\uff0c\u200b\u5373\u200b\u6700\u5c0f\u200b\u5b58\u8d27\u200b\u5355\u5143\u200b\uff09\u3002\u200b\u6536\u5230\u200b\u6765\u81ea\u200b\u5ba2\u6237\u200b\u7684\u200b\u8ba2\u5355\u200b\u65f6\u200b\uff0cDC \u200b\u7684\u200b\u73b0\u8d27\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\u3002\u200b\u5f53\u200b DC \u200b\u5e93\u5b58\u200b\u4e0d\u8db3\u200b\u65f6\u200b\uff0c\u200b\u5219\u200b\u4ea7\u751f\u200b\u7f3a\u8d27\u200b\uff0c\u200b\u9700\u8981\u200b\u4ece\u200b\u5de5\u5382\u200b\u8865\u8d27\u200b\u3002</p> <p>\u200b\u5728\u200b\u8fc7\u53bb\u200b\uff0c\u200b\u8be5\u200b\u4f01\u4e1a\u200b\u4f9d\u9760\u200b\u8ba1\u5212\u200b\u5458\u200b\u8fc7\u5f80\u200b\u7684\u200b\u7ecf\u9a8c\u200b\u8fdb\u884c\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u8ba1\u5212\u200b\u7684\u200b\u51b3\u7b56\u200b\u3002\u200b\u5236\u5b9a\u200b\u5408\u7406\u200b\u7684\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u8ba1\u5212\u200b\u5f80\u5f80\u200b\u9700\u8981\u200b\u82b1\u8d39\u200b\u5927\u91cf\u200b\u7684\u200b\u7cbe\u529b\u200b\u8fdb\u884c\u200b\u624b\u5de5\u200b\u8c03\u6574\u200b\uff0c\u200b\u5e76\u4e14\u200b\u7ecf\u200b\u8003\u91cf\u200b\uff0c\u200b\u624b\u5de5\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u51b3\u7b56\u200b\u6b63\u200b\u9762\u4e34\u200b\u7740\u200b\u5982\u4e0b\u200b\u96be\u9898\u200b\uff1a</p> <ol> <li> <p>SKU \u200b\u79cd\u7c7b\u200b\u53ca\u200b DC \u200b\u4ed3\u5e93\u200b\u4e2a\u6570\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u6bcf\u5929\u200b\u8981\u200b\u51b3\u7b56\u200b\u7684\u200b\u8865\u8d27\u200b\u5355\u5143\u200b\u5c31\u200b\u6709\u200b SKU \u200b\u6570\u200b\u4e58\u4ee5\u200b\u4ed3\u5e93\u200b\u6570\u200b\uff0c\u200b\u5171\u200b\u6d89\u53ca\u200b\u4e0a\u200b\u5343\u4e2a\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u3002\u200b\u800c\u200b\u5458\u5de5\u200b\u7684\u200b\u65f6\u95f4\u200b\u548c\u200b\u7cbe\u529b\u200b\u90fd\u200b\u662f\u200b\u6709\u9650\u200b\u7684\u200b\uff0c\u200b\u4e00\u822c\u200b\u53ea\u80fd\u200b\u91cd\u70b9\u200b\u51b3\u7b56\u200b\u51e0\u4e2a\u200b\u4e3b\u8981\u200b\u7684\u200b SKU \u200b\u4e0e\u200b\u4ed3\u5e93\u200b\u7ec4\u5408\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5269\u4f59\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u7ec4\u5408\u200b\uff0c\u200b\u5f80\u5f80\u200b\u53ea\u80fd\u200b\u6309\u7167\u200b\u7b80\u5355\u200b\u7684\u200b\u903b\u8f91\u200b\u6765\u200b\u51b3\u7b56\u200b\uff1b</p> </li> <li> <p>\u200b\u5404\u4e2a\u200b DC \u200b\u6240\u200b\u9762\u4e34\u200b\u7684\u200b\u5404\u4e2a\u200b SKU \u200b\u7684\u200b\u9500\u552e\u200b\u6ce2\u52a8\u200b\u5927\u200b\uff0c\u200b\u5e38\u5e38\u200b\u53d7\u5230\u200b\u5929\u6c14\u72b6\u51b5\u200b\u3001\u200b\u4fc3\u9500\u200b\u6d3b\u52a8\u200b\u3001\u200b\u4f53\u80b2\u8d5b\u4e8b\u200b\u4e3e\u529e\u200b\uff08\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u589e\u52a0\u200b\u996e\u6599\u200b\u9700\u6c42\u200b\uff09\u200b\u7b49\u200b\u5f71\u54cd\u200b\uff0c\u200b\u56e0\u6b64\u200b\u96be\u4ee5\u200b\u8fc5\u901f\u200b\u5e94\u5bf9\u200b\u7531\u4e8e\u200b\u4e0d\u786e\u5b9a\u6027\u200b\u56e0\u7d20\u200b\u7684\u200b\u53d1\u751f\u200b\u800c\u200b\u5bfc\u81f4\u200b\u7684\u200b\u9700\u6c42\u200b\u53d8\u5316\u200b\uff0c\u200b\u8fdb\u800c\u200b\u65e0\u6cd5\u200b\u5bf9\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4f5c\u51fa\u200b\u6700\u4f18\u5316\u200b\u8c03\u6574\u200b\uff1b</p> </li> <li> <p>\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4e2d\u200b\u7684\u200b\u4e1a\u52a1\u200b\u89c4\u5219\u200b\u590d\u6742\u200b\uff0c\u200b\u5f80\u5f80\u200b\u4f1a\u200b\u9047\u5230\u200b\u5404\u79cd\u5404\u6837\u200b\u7684\u200b\u9650\u5236\u200b\uff0c\u200b\u5982\u200b\u5de5\u5382\u200b\u751f\u4ea7\u529b\u200b\u6709\u9650\u200b\u3001\u200b\u53ef\u200b\u53d1\u200b\u5e93\u5b58\u200b\u4e0d\u8db3\u200b\u3001DC \u200b\u5e93\u5bb9\u200b\u6709\u9650\u200b\u3001\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u6700\u5c11\u200b\u9700\u8981\u200b\u53d1\u200b\u4e00\u5b9a\u200b\u6570\u91cf\u200b\u7684\u200b\u8d27\u200b\uff1b\u200b\u518d\u200b\u6bd4\u5982\u200b\u51fa\u4e8e\u200b\u4e1a\u52a1\u200b\u64cd\u4f5c\u200b\u7684\u200b\u8981\u6c42\u200b\uff0c\u200b\u5fc5\u987b\u200b\u8981\u200b\u6574\u6258\u200b\u8865\u8d27\u200b\uff0c\u200b\u751a\u81f3\u200b\u6574\u8f66\u200b\u8865\u8d27\u200b\uff0c\u200b\u4eba\u5de5\u200b\u5f88\u96be\u200b\u7167\u987e\u200b\u5230\u200b\u5982\u6b64\u200b\u591a\u200b\u7684\u200b\u4e1a\u52a1\u200b\u7ea6\u675f\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u4e3a\u200b\u6ee1\u8db3\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\u800c\u200b\u5bfc\u81f4\u200b\u8865\u8d27\u200b\u8fc7\u91cf\u200b DC \u200b\u7206\u4ed3\u200b\u7684\u200b\u95ee\u9898\u200b\uff1b</p> </li> <li> <p>\u200b\u73b0\u5b9e\u200b\u4e1a\u52a1\u200b\u4e2d\u200b\u64cd\u4f5c\u200b\u9700\u8981\u200b\u6210\u672c\u200b\uff0c\u200b\u800c\u4e14\u200b\u4e0d\u540c\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5b58\u5728\u200b\u6210\u672c\u200b\u7684\u200b\u5dee\u5f02\u200b\uff0c\u200b\u6bd4\u5982\u200b\u67d0\u4e2a\u200b DC \u200b\u4ece\u200b\u5de5\u5382\u200b A \u200b\u8865\u8d27\u200b\u4f1a\u200b\u6bd4\u200b\u4ece\u200b\u5de5\u5382\u200b B \u200b\u8865\u8d27\u200b\u6210\u672c\u4f4e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f53\u200b\u5de5\u5382\u200b A \u200b\u7684\u200b\u5e93\u5b58\u200b\u4e0d\u8db3\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u6743\u8861\u200b\u4e0d\u200b\u8865\u8d27\u200b\u7684\u200b\u7f3a\u8d27\u200b\u635f\u5931\u200b\u548c\u200b\u4ece\u200b\u5de5\u5382\u200b B \u200b\u8865\u8d27\u200b\u7684\u200b\u591a\u4f59\u200b\u6210\u672c\u200b\u635f\u5931\u200b\u3002\u200b\u800c\u200b\u4eba\u5de5\u200b\u5904\u7406\u200b\u7cbe\u529b\u6709\u9650\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u4f1a\u200b\u7531\u4e8e\u200b\u4e0d\u5408\u7406\u200b\u51b3\u7b56\u200b\u5e26\u6765\u200b\u4e00\u4e9b\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u6210\u672c\u200b\u3002</p> </li> </ol> <p>\u200b\u4e3a\u200b\u63a2\u7d22\u200b\u4e0a\u8ff0\u200b\u95ee\u9898\u200b\u53ef\u80fd\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u6749\u6570\u200b\u79d1\u6280\u200b\u67d0\u200b\u4f9b\u5e94\u94fe\u200b\u7814\u7a76\u200b\u7ade\u8d5b\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u6784\u5efa\u200b\u6570\u5b66\u6a21\u578b\u200b\u5e76\u200b\u8bbe\u8ba1\u200b\u7b97\u6cd5\u200b\u8fdb\u884c\u200b\u6c42\u89e3\u200b\u3002\u200b\u8be5\u200b\u6570\u636e\u200b\u96c6\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u8be5\u200b\u4f01\u4e1a\u200b\u5728\u200b\u67d0\u200b\u5730\u533a\u200b\u7684\u200b\u4f9b\u5e94\u200b\u4ed3\u7f51\u200b\u7ed3\u6784\u200b\u548c\u200b\u9500\u552e\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u5728\u200b\u6570\u5b66\u6a21\u578b\u200b\u7ae0\u8282\u200b\u5bf9\u200b\u6570\u636e\u200b\u60c5\u51b5\u200b\u8fdb\u884c\u200b\u8be6\u7ec6\u200b\u4ecb\u7ecd\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u95ee\u9898\u76ee\u6807","title":"\u95ee\u9898\u200b\u76ee\u6807","text":"<p>\u200b\u672c\u200b\u9879\u76ee\u200b\u5e0c\u671b\u200b\u5728\u200b\u7ed9\u5b9a\u200b\u73b0\u6709\u200b\u4f9b\u5e94\u94fe\u200b\u7f51\u7edc\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5b89\u6392\u200b\u751f\u4ea7\u200b\u6392\u671f\u200b\u548c\u200b\u8865\u8d27\u200b\u7b56\u7565\u200b\u4ee5\u200b\u5b9e\u73b0\u200b\u5229\u6da6\u200b\u6700\u5927\u5316\u200b\u3002\u200b\u800c\u200b\u8003\u5bdf\u200b\u73b0\u6709\u200b\u7684\u200b\u4f9b\u5e94\u94fe\u200b\u7f51\u7edc\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u5728\u200b\u751f\u4ea7\u200b\u548c\u200b\u8865\u8d27\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u8be5\u200b\u996e\u6599\u200b\u516c\u53f8\u200b\u9762\u4e34\u200b\u7740\u200b\u4f17\u591a\u200b\u8fd0\u8425\u200b\u5c42\u9762\u200b\u7684\u200b\u7ea6\u675f\u200b\u3002</p> <p>\u200b\u751f\u4ea7\u200b\u65b9\u9762\u200b\u7684\u200b\u7ea6\u675f\u200b\u4e3b\u8981\u200b\u6709\u200b\u5982\u4e0b\u200b\u4e24\u4e2a\u200b\uff1a</p> <ol> <li> <p>\u200b\u5de5\u5382\u200b\u751f\u4ea7\u7ebf\u200b\u9700\u8981\u200b\u4e00\u76f4\u200b\u8fd0\u884c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b58\u5728\u200b\u6bcf\u65e5\u200b\u6700\u4f4e\u200b\u4ea7\u91cf\u200b\uff1b</p> </li> <li> <p>\u200b\u7531\u4e8e\u200b\u4eba\u5de5\u200b\u548c\u200b\u65f6\u95f4\u200b\u9650\u5236\u200b\uff0c\u200b\u6bcf\u65e5\u200b\u4ea7\u91cf\u200b\u4ea6\u200b\u5b58\u5728\u200b\u4e0a\u9650\u200b\u3002</p> </li> </ol> <p>\u200b\u8865\u8d27\u200b\u65b9\u9762\u200b\u7684\u200b\u7ea6\u675f\u200b\u4e3b\u8981\u200b\u6709\u200b\u5982\u4e0b\u200b\u56db\u4e2a\u200b\uff1a</p> <ol> <li> <p>\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u751f\u4ea7\u200b\u4f46\u200b\u672a\u200b\u53d1\u51fa\u200b\u7684\u200b\u4ea7\u54c1\u200b\u6682\u200b\u5b58\u5728\u200b\u5de5\u5382\u200b\u4ed3\u5e93\u200b\uff0c\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u53d1\u8d27\u91cf\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u8be5\u200b\u65e5\u200b\u751f\u4ea7\u91cf\u200b\u52a0\u200b\u4e4b\u524d\u200b\u5e93\u5b58\u91cf\u200b\uff1b</p> </li> <li> <p>\u200b\u8d85\u51fa\u200b\u8be5\u200b\u5de5\u5382\u200b\u53d1\u8d27\u91cf\u200b\u7684\u200b\u8ba2\u5355\u200b\u5c06\u200b\u4ece\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5de5\u5382\u200b\u8c03\u62e8\u200b\uff0c\u200b\u8d85\u51fa\u200b\u4e24\u200b\u5de5\u5382\u200b\u53d1\u8d27\u200b\u603b\u91cf\u200b\u7684\u200b\u8ba2\u5355\u200b\u9700\u8981\u200b\u7b49\u5f85\u200b\u6392\u671f\u200b\uff1b</p> </li> <li> <p>\u200b\u4ea7\u54c1\u200b\u901a\u8fc7\u200b\u6258\u8f66\u200b\u8fd0\u8f93\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8865\u8d27\u200b\u7684\u200b\u6700\u5c0f\u200b\u5355\u5143\u200b\u662f\u200b\u6258\u200b\uff1b</p> </li> <li> <p>\u200b\u5de5\u5382\u200b\u53d1\u200b\u5f80\u200b DC \u200b\u9700\u8981\u200b\u7ecf\u8fc7\u200b\u4eba\u5de5\u200b\u62e3\u9009\u200b\u3001\u200b\u88c5\u8f66\u200b\u3001\u200b\u9053\u8def\u200b\u8fd0\u8f93\u200b\u7b49\u200b\u73af\u8282\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6bcf\u5929\u200b\u53ef\u200b\u8fd0\u8f93\u200b\u603b\u91cf\u200b\u6709\u200b\u4e0a\u9650\u200b\u3002</p> </li> </ol> <p>\u200b\u672c\u200b\u9879\u76ee\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u591a\u65b9\u9762\u200b\u7ea6\u675f\u200b\u4e0b\u200b\uff0c\u200b\u5982\u4f55\u200b\u5b89\u6392\u200b\uff1a</p> <ol> <li> <p>\u200b\u5de5\u5382\u200b\u6bcf\u5929\u200b\u751f\u4ea7\u200b\u4e0d\u540c\u200b SKU \u200b\u6570\u91cf\u200b\uff082 \u200b\u5de5\u5382\u200b \u00d7 72 SKU\uff09\uff1b</p> </li> <li> <p>\u200b\u5de5\u5382\u200b\u6bcf\u5929\u200b\u8865\u8d27\u200b\u4e0d\u540c\u200b SKU \u200b\u6570\u91cf\u200b\uff082 \u200b\u5de5\u5382\u200b \u00d7 18 DC \u00d7 72 SKU\uff09\u3002</p> </li> </ol> <p>\u200b\u4f7f\u5f97\u200b\u8be5\u200b\u996e\u6599\u200b\u516c\u53f8\u200b\u5229\u6da6\u200b\u6700\u5927\u5316\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u5229\u6da6\u200b = \u200b\u6536\u76ca\u200b - \uff08\u200b\u751f\u4ea7\u6210\u672c\u200b + \u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b + \u200b\u5176\u4ed6\u8d39\u7528\u200b\uff09</p> <p>\u200b\u5373\u200b\uff1a</p> <p>\u200b\u4f18\u5316\u200b\u76ee\u6807\u200b\uff1a\u200b\u5168\u5c40\u200b\u5229\u6da6\u200b\u6700\u5927\u5316\u200b</p> <p>\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\uff1a</p> <ol> <li> <p>\u200b\u5de5\u5382\u200b\u6bcf\u5929\u200b\u751f\u4ea7\u200b\u6570\u91cf\u200b</p> </li> <li> <p>\u200b\u5de5\u5382\u200b\u6bcf\u5929\u200b\u53d1\u8d27\u200b\u6570\u91cf\u200b</p> </li> </ol> <p>\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff1a</p> <ol> <li> <p>\u200b\u5de5\u5382\u200b\u5e93\u5bb9\u200b\u7ea6\u675f\u200b\uff1a\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u53d1\u8d27\u91cf\u200b\u4e4b\u200b\u548c\u200b\u6709\u200b\u4e0b\u9650\u200b</p> </li> <li> <p>\u200b\u8fd0\u8f93\u200b\u8d44\u6e90\u200b\u7ea6\u675f\u200b\uff1a\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u53d1\u8d27\u91cf\u200b\u4e4b\u200b\u548c\u200b\u6709\u200b\u4e0a\u9650\u200b</p> </li> <li> <p>\u200b\u5de5\u5382\u200b\u8d27\u91cf\u200b\u7ea6\u675f\u200b\uff1a\u200b\u5de5\u5382\u200b\u5404\u200b SKU \u200b\u6bcf\u65e5\u200b\u53d1\u51fa\u200b\u91cf\u200b \\(\u2264\\) \u200b\u5f53\u65e5\u200b\u4ea7\u91cf\u200b \\(+\\) \u200b\u5f53\u65e5\u200b\u5e93\u5b58\u200b</p> </li> <li> <p>DC \u200b\u5e93\u5bb9\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u539f\u6709\u200b\u603b\u200b\u5e93\u5b58\u200b \\(+\\) \u200b\u5f53\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b \\(-\\) \u200b\u5f53\u65e5\u200b\u9500\u91cf\u200b \\(\u2264\\) DC \u200b\u5e93\u5bb9\u200b</p> </li> <li> <p>DC \u200b\u8d27\u91cf\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u539f\u6709\u200b\u603b\u200b\u5e93\u5b58\u200b \\(+\\) \u200b\u5f53\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b \\(\u2265\\) \u200b\u5f53\u65e5\u200b\u9500\u91cf\u200b</p> </li> <li> <p>\u200b\u6574\u6258\u200b\u8865\u8d27\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u8865\u8d27\u200b\u7684\u200b\u6700\u5c0f\u200b\u5355\u5143\u200b\u662f\u200b\u6258\u200b</p> </li> </ol> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6570\u5b66\u6a21\u578b","title":"\u6570\u5b66\u6a21\u578b","text":"<p>\u200b\u672c\u7ae0\u200b\u5c06\u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u8be6\u7ec6\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u5e76\u200b\u7ed3\u5408\u200b\u4e0a\u200b\u4e00\u7ae0\u200b\u63d0\u51fa\u200b\u7684\u200b\u95ee\u9898\u200b\u63cf\u8ff0\u200b\u548c\u200b\u95ee\u9898\u200b\u76ee\u6807\u200b\uff0c\u200b\u7efc\u5408\u200b\u5404\u7c7b\u200b\u7ea6\u675f\u200b\u548c\u200b\u76ee\u6807\u200b\u5efa\u7acb\u200b\u6570\u5b66\u6a21\u578b\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6570\u636e\u63cf\u8ff0","title":"\u6570\u636e\u200b\u63cf\u8ff0","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u5386\u53f2\u9500\u552e\u6570\u636e","title":"\u5386\u53f2\u200b\u9500\u552e\u200b\u6570\u636e","text":"<p>\u200b\u5386\u53f2\u200b\u9500\u552e\u200b\u6570\u636e\u200b\u7531\u200b 72 \u200b\u4e2a\u200b SKU \u200b\u5546\u54c1\u200b\u5728\u200b 18 \u200b\u4e2a\u200b DC \u200b\u4ed3\u5e93\u200b\u7684\u200b\u9500\u552e\u200b\u6570\u636e\u200b\u6784\u6210\u200b\uff0c\u200b\u5305\u542b\u200b\u4ece\u200b 2018 \u200b\u5e74\u200b 1 \u200b\u6708\u200b 1 \u200b\u65e5\u5230\u200b 2020 \u200b\u5e74\u200b 7 \u200b\u6708\u200b 30 \u200b\u65e5\u200b\u6bcf\u4e2a\u200b DC*SKU \u200b\u7ec4\u5408\u200b\u7684\u200b\u65e5\u200b\u9500\u552e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5171\u6709\u200b 1080 \u200b\u4e2a\u200b\u4e0d\u200b\u91cd\u590d\u200b\u7684\u200b DC*SKU \u200b\u7ec4\u5408\u200b\u5171\u200b 83 \u200b\u4f59\u4e07\u200b\u6761\u200b\u8bb0\u5f55\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u7edf\u8ba1\u200b\u4e86\u200b\u5404\u200b DC \u200b\u5728\u200b\u4e0d\u540c\u200b\u5e74\u4efd\u200b\u7684\u200b\u9500\u91cf\u200b\u6570\u636e\u200b\uff0c\u200b\u53d1\u73b0\u200b C2\u3001DC6\u3001DC5\u3001DC4 \u200b\u6240\u200b\u627f\u62c5\u200b\u7684\u200b\u9500\u552e\u91cf\u200b\u6700\u9ad8\u200b\uff0c\u200b\u6211\u4eec\u200b\u63a8\u6d4b\u200b\u53ef\u80fd\u200b\u4e0e\u5176\u200b\u4ed3\u5e93\u200b\u5bb9\u91cf\u200b\u6709\u5173\u200b\uff0c\u200b\u8fd9\u4e9b\u200b DC \u200b\u4e5f\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5728\u200b\u4f9b\u5e94\u94fe\u200b\u4e2d\u200b\u53d1\u6325\u200b\u7740\u200b\u8f83\u4e3a\u200b\u5173\u952e\u200b\u7684\u200b\u4f5c\u7528\u200b\u3002</p> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u603b\u200b\u9500\u91cf\u200b\u7684\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u9500\u91cf\u200b\u6570\u636e\u200b\u5448\u73b0\u51fa\u200b\u660e\u663e\u200b\u7684\u200b\u4ee5\u200b\u5468\u4e3a\u200b\u5355\u4f4d\u200b\u7684\u200b\u5468\u671f\u6027\u200b\u3002</p> <p></p> <p>\u200b\u9500\u91cf\u200b\u8f83\u200b\u591a\u200b\u7684\u200b\u54c1\u7c7b\u200b\u4e3b\u8981\u200b\u6709\u200b SKU023\u3001SKU045\u3001SKU022 \u200b\u7b49\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u54c1\u7c7b\u200b\u7684\u200b\u9500\u552e\u91cf\u200b\u5927\u200b\uff0c\u200b\u5176\u200b\u9500\u552e\u200b\u9ad8\u5cf0\u200b\u5bf9\u4e8e\u200b\u751f\u4ea7\u200b\u53ca\u200b\u8865\u8d27\u200b\u5f71\u54cd\u200b\u4e5f\u200b\u8f83\u5927\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u6211\u4eec\u200b\u8fdb\u4e00\u6b65\u200b\u67e5\u770b\u200b\u5404\u200b DC \u200b\u5404\u200b SKU \u200b\u7684\u200b\u603b\u200b\u9500\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u67d0\u4e9b\u200b\u54c1\u7c7b\u200b\u4ecd\u7136\u200b\u96c6\u4e2d\u5730\u200b\u8868\u73b0\u200b\u51fa\u200b\u9500\u91cf\u200b\u4f18\u52bf\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u540c\u200b DC \u200b\u5bf9\u4e8e\u200b\u5404\u4e2a\u200b SKU \u200b\u4e5f\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u4fa7\u91cd\u200b\u60c5\u51b5\u200b\u3002DC \u200b\u4e0e\u200b SKU \u200b\u7684\u200b\u4e8c\u90e8\u200b\u56fe\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u5c55\u793a\u200b\u8fd9\u79cd\u200b\u9500\u91cf\u200b\u5206\u914d\u5173\u7cfb\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u8fde\u7ebf\u200b\u7c97\u7ec6\u200b\u4ee3\u8868\u200b\u5386\u53f2\u200b\u603b\u200b\u9500\u91cf\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u5de5\u5382\u4fe1\u606f","title":"\u5de5\u5382\u200b\u4fe1\u606f","text":"<p>\u200b\u5de5\u5382\u200b\u4fe1\u606f\u200b\u5305\u62ec\u200b\u5de5\u5382\u200b\u53d1\u9001\u200b\u4e0a\u200b\u4e0b\u9650\u200b\u4ee5\u53ca\u200b\u5de5\u5382\u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0c\u200b\u5de5\u5382\u200b\u53d1\u9001\u200b\u4e0a\u200b\u4e0b\u9650\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b\u7684\u200b\u6700\u5c0f\u200b\u548c\u200b\u6700\u200b\u591a\u200b\u8865\u8d27\u200b\u91cf\u200b\u3002\u200b\u5de5\u5382\u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u5de5\u5382\u200b\u4e2d\u200b\u5404\u4e2a\u200b SKU \u200b\u7684\u200b\u8d77\u59cb\u200b\u5e93\u5b58\u200b\u3002</p> factory_id push_lb push_ub F001 159000 161000 F002 69000 71000 <p>Table: \u200b\u5de5\u5382\u200b\u53d1\u9001\u200b\u4e0a\u200b\u4e0b\u9650\u200b</p> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#dc-\u6570\u636e","title":"DC \u200b\u6570\u636e","text":"<p>DC \u200b\u6570\u636e\u200b\u5305\u62ec\u200b DC \u200b\u53ef\u7528\u200b\u5bb9\u91cf\u200b\u4ee5\u53ca\u200b DC \u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0cDC \u200b\u53ef\u7528\u200b\u5bb9\u91cf\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5404\u4e2a\u200b DC \u200b\u7684\u200b\u4ed3\u50a8\u200b\u5bb9\u91cf\u200b\u4e0a\u9650\u200b\u3002DC \u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u6bcf\u4e2a\u200b DC \u200b\u79cd\u200b\u5404\u200b SKU \u200b\u7684\u200b\u8d77\u59cb\u200b\u5e93\u5b58\u91cf\u200b\u3002</p> <p>\u200b\u4ece\u200b\u5404\u4e2a\u200b DC \u200b\u7684\u200b\u4ed3\u50a8\u200b\u5bb9\u91cf\u200b\u60c5\u51b5\u200b\u6765\u770b\u200b\uff0c\u200b\u5404\u4e2a\u200b DC \u200b\u7684\u200b\u5bb9\u91cf\u200b\u5927\u5c0f\u200b\u5dee\u5f02\u200b\u8f83\u5927\u200b\uff0cDC002 \u200b\u5bb9\u91cf\u200b\u6700\u5927\u200b\uff0cDC009 \u200b\u5bb9\u91cf\u200b\u6700\u5c0f\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200b\u521d\u59cb\u72b6\u6001\u200b\u4e0b\u200b\uff0c\u200b\u5404\u4e2a\u200b DC \u200b\u7684\u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\u548c\u200b\u5269\u4f59\u200b\u5e93\u5b58\u200b\uff08\u200b\u5269\u4f59\u200b\u5e93\u5b58\u200b=\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b - \u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\uff09\u200b\u5dee\u5f02\u200b\u8f83\u5927\u200b\u3002\u200b\u5728\u200b\u5c06\u200b\u5de5\u5382\u200b\u5e93\u5b58\u200b\u5206\u914d\u200b\u5230\u200b\u6bcf\u4e2a\u200b DC \u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u8003\u8651\u200b\u5230\u200b\u6bcf\u4e2a\u200b DC \u200b\u7684\u200b\u5269\u4f59\u200b\u5e93\u5b58\u200b\u5927\u5c0f\u200b\u6765\u200b\u8fdb\u884c\u200b\u5408\u7406\u200b\u7684\u200b\u8d44\u6e90\u914d\u7f6e\u200b\u3002</p> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u8fd0\u8f93\u4fe1\u606f","title":"\u8fd0\u8f93\u200b\u4fe1\u606f","text":"<p>\u200b\u8fd0\u8f93\u200b\u4fe1\u606f\u200b\u5305\u62ec\u200b\u5355\u7bb1\u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b\u548c\u200b\u8f6c\u5316\u7387\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0c\u200b\u5355\u7bb1\u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u4ece\u200b\u4e24\u4e2a\u200b\u5de5\u5382\u200b\u5230\u200b\u5404\u4e2a\u200b DC \u200b\u7684\u200b\u5355\u7bb1\u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b\u3002\u200b\u8f6c\u5316\u7387\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u4ea7\u54c1\u200b\u8fd0\u8f93\u200b\u8fc7\u7a0b\u200b\u79cd\u200b\u4e0d\u540c\u200b\u8ba1\u91cf\u5355\u4f4d\u200b\u7684\u200b\u8f6c\u6362\u7387\u200b\uff0c\u200b\u5373\u7bb1\u200b\u3001\u200b\u6258\u548c\u5347\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u3002</p> <p>\u200b\u8fd0\u8f93\u6210\u672c\u200b\u662f\u200b\u8865\u8d27\u200b\u4e2d\u200b\u7684\u200b\u4e3b\u8981\u200b\u6210\u672c\u200b\u3002\u200b\u6bcf\u4e2a\u200b DC \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u4efb\u4e00\u200b\u5de5\u5382\u200b\u8865\u8d27\u200b\uff0c\u200b\u4f46\u200b\u7531\u4e8e\u200b\u8ddd\u79bb\u200b\u8fdc\u8fd1\u200b\uff0c\u200b\u4e0d\u540c\u200b\u5de5\u5382\u200b\u5230\u200b DC \u200b\u4f1a\u200b\u6709\u200b\u6210\u672c\u200b\u5dee\u8ddd\u200b\u3002DC \u200b\u5e0c\u671b\u200b\u5c3d\u91cf\u200b\u4ece\u200b\u8fd0\u8f93\u6210\u672c\u200b\u66f4\u200b\u4f4e\u200b\u7684\u200b\u5de5\u5382\u200b\u8865\u8d27\u200b\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b\u4f18\u5148\u200b\u5de5\u5382\u200b\u5e93\u5b58\u200b\u4e0d\u8db3\u200b\u624d\u200b\u8003\u8651\u200b\u4ece\u200b\u975e\u200b\u4f18\u5148\u200b\u5de5\u5382\u200b\u8865\u8d27\u200b\u3002\u200b\u4e0d\u540c\u200b\u5de5\u5382\u200b\u5230\u200b DC \u200b\u4e4b\u95f4\u200b\u8fd0\u8f93\u6210\u672c\u200b\u5dee\u5f02\u200b\u8f83\u5927\u200b\uff0c\u200b\u8003\u8651\u200b\u8865\u8d27\u200b\u65f6\u200b\u9700\u8981\u200b\u91cd\u70b9\u200b\u8003\u8651\u200b\uff0c\u200b\u6bd4\u5982\u200b F001-&gt;DC012 \u200b\u548c\u200b F002-&gt;DC012 \u200b\u7684\u200b\u8865\u8d27\u200b\u6210\u672c\u200b\u6700\u9ad8\u200b\u3002</p> <p></p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6a21\u578b\u6784\u5efa","title":"\u6a21\u578b\u200b\u6784\u5efa","text":"<p>\u200b\u7efc\u5408\u200b\u5404\u79cd\u200b\u8003\u91cf\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f97\u51fa\u200b\u6700\u5927\u5316\u200b\u603b\u200b\u5229\u6da6\u200b\u7684\u200b\u4f18\u5316\u200b\u76ee\u6807\u200b\u548c\u200b\u4e00\u7cfb\u5217\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff0c\u200b\u4ece\u800c\u200b\u6784\u5efa\u200b\u4ee5\u4e0b\u200b\u5f62\u5f0f\u200b\u7684\u200b\u751f\u4ea7\u200b\u548c\u200b\u8865\u8d27\u200b\u4f18\u5316\u200b\u6a21\u578b\u200b\u3002</p> \\[ \\begin{aligned} \u200b\u6700\u5927\u5316\u200b\u603b\u200b\u5229\u6da6\u200b &amp; = \u200b\u6536\u76ca\u200b - (\u200b\u751f\u4ea7\u6210\u672c\u200b + \u200b\u8fd0\u8f93\u200b\u8d39\u7528\u200b + \u200b\u5176\u4ed6\u8d39\u7528\u200b) \\\\             &amp; = \\sum \u200b\u9500\u91cf\u200b \\times \u200b\u4ef7\u683c\u200b - ( \\sum \u200b\u751f\u4ea7\u91cf\u200b \\times \u200b\u751f\u4ea7\u6210\u672c\u200b + \\sum \u200b\u8865\u8d27\u200b\u91cf\u200b \\times \u200b\u8fd0\u8f93\u6210\u672c\u200b) \\end{aligned} \\] <ol> <li> <p>\u200b\u5de5\u5382\u200b\u5e93\u5bb9\u200b + \u200b\u8fd0\u8f93\u200b\u8d44\u6e90\u200b\u7ea6\u675f\u200b\uff1a\u200b\u5de5\u5382\u200b\u6bcf\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b\u4e4b\u200b\u548c\u200b\u6709\u200b\u4e0a\u200b\u4e0b\u9650\u200b</p> </li> <li> <p>\u200b\u5de5\u5382\u200b\u8d27\u91cf\u200b\u7ea6\u675f\u200b\uff1a\u200b\u5de5\u5382\u200b\u5404\u200b SKU \u200b\u6bcf\u65e5\u200b\u53d1\u51fa\u200b\u91cf\u200b\u2264\u200b\u5f53\u65e5\u200b\u4ea7\u91cf\u200b + \u200b\u5f53\u65e5\u200b\u5e93\u5b58\u200b</p> </li> <li> <p>DC \u200b\u5e93\u5bb9\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u539f\u6709\u200b\u603b\u200b\u5e93\u5b58\u200b - \u200b\u5f53\u65e5\u200b\u9500\u91cf\u200b + \u200b\u5f53\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b\u2264DC \u200b\u5e93\u5bb9\u200b</p> </li> <li> <p>DC \u200b\u8d27\u91cf\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u539f\u6709\u200b\u603b\u200b\u5e93\u5b58\u200b + \u200b\u5f53\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b\u2265\u200b\u5f53\u65e5\u200b\u9500\u91cf\u200b</p> </li> <li> <p>\u200b\u9700\u6c42\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u5f53\u65e5\u200b\u9500\u91cf\u200b\u2264\u200b\u5b9e\u9645\u200b\u9700\u6c42\u91cf\u200b</p> </li> <li> <p>\u200b\u6574\u6258\u200b\u8865\u8d27\u200b\u7ea6\u675f\u200b\uff1aDC \u200b\u8865\u8d27\u200b\u7684\u200b\u6700\u5c0f\u200b\u5355\u5143\u200b\u662f\u200b\u6258\u200b</p> </li> </ol> <p>\u200b\u6570\u5b66\u200b\u5f62\u5f0f\u200b\u7684\u200b\u6a21\u578b\u200b\u8868\u8ff0\u200b\u5982\u4e0b\u200b\uff1a</p> \\[ \\begin{aligned} \\underset{x_{i, k, t}, y_{i, j, k, t}, s_{j, k, t}}{max}  &amp; \\underset{j, k}{\\sum} s_{j, k, t} \\cdot p_{k}-\\underset{i, k}{\\sum} x_{i, k, t} \\cdot f_{k}-\\underset{i, j, k}{\\sum} y_{i, j, k, t} \\cdot g_{i j} \\\\ \\text { s.t. } \\quad &amp; b_{i} \\leq \\underset{j, k}{\\sum} y_{i, j, k, t} \\leq a_{i}, \\quad \\forall i, t \\\\ &amp; \\underset{j}{\\sum} y_{i, j, k, t} \\leq x_{i, k, t}+c_{i, k, t}, \\quad \\forall i, k, t \\\\ &amp; \\underset{i, k}{\\sum}\\left(d_{j, k, t}-s_{j, k, t}+y_{i, j, k, t-\\tau_{j, k}}\\right) \\leq e_{j}, \\quad \\forall j, t \\\\ &amp; \\underset{i}{\\sum} y_{i, j, k, t}+d_{j, k, t+\\tau_{j, k}} \\geq s_{j, k, t+\\tau_{j, k}}, \\quad \\forall j, k, t \\\\ &amp; 0.9 \\leq \\frac{s_{j, k, t}}{h_{j, k, t}} \\leq 1, \\quad \\forall j, k, t \\\\ &amp; \\frac{y_{i, j, k, t}}{r_{k}} \\in N, \\quad \\forall i, j, k, t \\\\ &amp; x_{i, k, t}, y_{i, j, k, t}, s_{j, k, t} \\geq 0, \\quad \\forall i, j, k, t \\\\ \\end{aligned} \\] <p>\u200b\u5176\u4e2d\u200b\u53d8\u91cf\u200b\u548c\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u5982\u8868\u200b 2 \u200b\u6240\u793a\u200b\uff1a</p> \u200b\u7c7b\u578b\u200b \u200b\u53d8\u91cf\u200b \u200b\u542b\u4e49\u200b \u200b\u5907\u6ce8\u200b \u200b\u4e0b\u6807\u200b \\(i\\) \u200b\u5de5\u5382\u200b \\(i\\in\\{1,2\\}\\) \u200b\u4e0b\u6807\u200b \\(j\\) \\(DC\\) \\(j\\in\\{1,2,...,18\\}\\) \u200b\u4e0b\u6807\u200b \\(k\\) \\(SKU\\) \\(k\\in\\{1,2,...,72\\}\\) \u200b\u4e0b\u6807\u200b \\(t\\) \u200b\u5f53\u65e5\u200b\u65e5\u671f\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(a_i\\) \u200b\u5de5\u5382\u200b\\(i\\)\u200b\u7684\u200b\u8865\u8d27\u200b\u91cf\u200b\u4e0a\u9650\u200b \u200b\u786e\u5b9a\u200b\u503c\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(b_i\\) \u200b\u5de5\u5382\u200b\\(i\\)\u200b\u7684\u200b\u8865\u8d27\u200b\u91cf\u200b\u4e0b\u9650\u200b \u200b\u786e\u5b9a\u200b\u503c\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(c_{i,k,t}\\) \u200b\u5de5\u5382\u200b i \u200b\u4e2d\u200b\\(SKU_k\\)\u200b\u5728\u200b\\(t\\)\u200b\u65e5\u200b\u7684\u200b\u5e93\u5b58\u200b \u200b\u8fed\u4ee3\u200b\u8ba1\u7b97\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(d_{j,k,t}\\) \\(DC_j\\)\u200b\u4e2d\u200b\\(SKU_k\\)\u200b\u5728\u200b\\(t\\)\u200b\u65e5\u200b\u7684\u200b\u5e93\u5b58\u200b \u200b\u8fed\u4ee3\u200b\u8ba1\u7b97\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(e_j\\) \\(DC_j\\)\u200b\u7684\u200b\u5e93\u5bb9\u200b\u4e0a\u9650\u200b \u200b\u786e\u5b9a\u200b\u503c\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(f_k\\) \\(SKU_k\\)\u200b\u7684\u200b\u5355\u4f4d\u200b\u751f\u4ea7\u6210\u672c\u200b \u200b\u6a21\u62df\u200b\u751f\u6210\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(g_{i,j}\\) \u200b\u5de5\u5382\u200b\\(i\\)\u200b\u5230\u200b\\(DC_j\\)\u200b\u7684\u200b\u5355\u4f4d\u200b\u8fd0\u8f93\u6210\u672c\u200b \u200b\u786e\u5b9a\u200b\u503c\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(h_{j,k,t}\\) \\(DC_j\\)\u200b\u4e2d\u200b\\(SKU_k\\)\u200b\u5728\u200b\\(t\\)\u200b\u65e5\u200b\u7684\u200b\u9500\u552e\u200b\u9700\u6c42\u200b \u200b\u5386\u53f2\u6570\u636e\u200b\u9884\u6d4b\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(\\tau_{j,k}\\) \\(DC_j\\)\u200b\u4e2d\u200b\\(SKU_k\\)\u200b\u7684\u200b\u8865\u8d27\u200b\u63d0\u524d\u200b\u671f\u200b \u200b\u7b80\u5316\u200b\u5904\u7406\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(p_k\\) \\(SKU_k\\)\u200b\u7684\u200b\u5355\u4f4d\u200b\u552e\u4ef7\u200b \u200b\u6a21\u62df\u200b\u751f\u6210\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b \\(r_k\\) \\(SKU_k\\)\u200b\u4ece\u200b 10L \u200b\u5230\u200b\u6258\u200b\u7684\u200b\u8f6c\u5316\u7387\u200b \u200b\u786e\u5b9a\u200b\u503c\u200b \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b \\(x_{i,k,t}\\) \u200b\u5de5\u5382\u200b\\(i\\)\u200b\u5728\u200b\\(t\\)\u200b\u65e5\u200b\u751f\u4ea7\u200b\u7684\u200b SKUk \u200b\u7684\u200b\u6570\u91cf\u200b \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b \\(y_{i,j,k,t}\\) \u200b\u5de5\u5382\u200b\\(i\\)\u200b\u5728\u200b\\(t\\)\u200b\u65e5\u5411\u200b\\(DC_j\\)\u200b\u8865\u8d27\u200b\u7684\u200b\\(SKU_k\\)\u200b\u7684\u200b\u6570\u91cf\u200b \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b \\(s_{j,k,t}\\) \\(DC_j\\)\u200b\u4e2d\u200b\\(SKU_k\\)\u200b\u5728\u200b t \u200b\u65e5\u200b\u7684\u200b\u9500\u91cf\u200b <p>Table: \u200b\u6a21\u578b\u200b\u53d8\u91cf\u200b\u548c\u200b\u53c2\u6570\u200b\u89e3\u91ca\u200b</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6a21\u578b\u7406\u8bba\u5206\u6790","title":"\u6a21\u578b\u200b\u7406\u8bba\u200b\u5206\u6790","text":"<p>\u200b\u4e0a\u200b\u4e00\u8282\u200b\u4e2d\u200b\u6784\u5efa\u200b\u7684\u200b\u6a21\u578b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7ebf\u6027\u89c4\u5212\u200b\u6a21\u578b\u200b\uff0c\u200b\u5176\u4e2d\u200b \\(y_{i,j,k,t}\\) \u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\uff0c\u200b\u5177\u6709\u200b\u6574\u6570\u200b\u89c4\u5212\u200b\u7684\u200b\u6027\u8d28\u200b\u3002\u200b\u6a21\u578b\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5e38\u89c1\u200b\u7684\u200b\u6c42\u89e3\u200b\u5668\u200b\u8fdb\u884c\u200b\u6c42\u89e3\u200b\uff0c\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u8f83\u200b\u5feb\u200b\u3002</p> <p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u628a\u200b\u9500\u91cf\u200b\u4e5f\u200b\u52a0\u5165\u200b\u4e86\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b DC \u200b\u5e93\u5bb9\u200b\u7ea6\u675f\u200b\u53d7\u5230\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u7684\u200b\u9500\u91cf\u200b\u5f71\u54cd\u200b\u8fd9\u4e00\u200b\u95ee\u9898\u200b\u3002\u200b\u5b9e\u9645\u200b\u51b3\u7b56\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u9500\u91cf\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\uff0cDC \u200b\u7ba1\u7406\u5458\u200b\u6839\u636e\u200b\u9700\u6c42\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u5e93\u5b58\u200b\u5c31\u200b\u5c3d\u53ef\u80fd\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u51b3\u7b56\u200b\u5f62\u6210\u200b\u9500\u91cf\u200b\u6570\u5b57\u200b\u3002\u200b\u4f46\u200b\u5728\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u9500\u91cf\u200b\u5bf9\u200b DC \u200b\u5e93\u5bb9\u200b\u7b49\u200b\u7ea6\u675f\u200b\u6709\u200b\u5f71\u54cd\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u66f4\u52a0\u200b\u7b26\u5408\u200b\u903b\u8f91\u200b\u548c\u200b\u589e\u52a0\u200b\u7075\u6d3b\u6027\u200b\uff0c\u200b\u6211\u4eec\u200b\u9009\u62e9\u200b\u7528\u200b\u5386\u53f2\u6570\u636e\u200b\u9884\u6d4b\u200b\u9700\u6c42\u200b\uff0c\u200b\u7528\u200b\u9700\u6c42\u200b\u7ea6\u675f\u200b\u9500\u91cf\u200b\uff0c\u200b\u5c06\u200b\u9500\u91cf\u200b\u653e\u8fdb\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u4e2d\u200b\u3002\u200b\u7531\u4e8e\u200b\u51b3\u7b56\u200b\u76ee\u6807\u200b\u662f\u200b Max \u200b\u95ee\u9898\u200b\uff0c\u200b\u4f1a\u200b\u4f7f\u200b\u6c42\u89e3\u200b\u5f97\u5230\u200b\u7684\u200b\u9500\u91cf\u200b\u5c3d\u53ef\u80fd\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\u3002</p> <p>\u200b\u6a21\u578b\u200b\u7684\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\u662f\u200b\u6574\u6570\u200b\u89c4\u5212\u200b\u4e2d\u200b\u7684\u200b\u5355\u4f4d\u200b\u6362\u7b97\u200b\u95ee\u9898\u200b\u3002\u200b\u5728\u200b\u539f\u59cb\u6570\u636e\u200b\u4e2d\u200b\uff0cDC \u200b\u5e93\u5b58\u200b\u5bb9\u91cf\u200b\u662f\u200b\u5bf9\u200b\u6240\u6709\u200b SKU \u200b\u7684\u200b\u603b\u548c\u200b\u4ee5\u200b 10L \u200b\u8ba1\u91cf\u200b\uff0c\u200b\u4e0d\u200b\u9002\u5408\u200b\u8f6c\u6362\u200b\u4e3a\u7bb1\u200b\u6216\u200b\u6258\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u5c06\u200b\u67d0\u4e2a\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6574\u6570\u200b\u3002\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u5f15\u5165\u200b\u4e86\u200b\u5404\u4e2a\u200b SKU \u200b\u7684\u200b\u7bb1\u200b/\u200b\u6258\u5230\u200b 10L \u200b\u7684\u200b\u8f6c\u5316\u7387\u200b\u53c2\u6570\u200b\uff0c\u200b\u7edf\u4e00\u200b\u7528\u200b 10L \u200b\u4f5c\u200b\u5355\u4f4d\u200b\uff0c\u200b\u5bf9\u200b\u8865\u8d27\u200b\u91cf\u200b\u4e0e\u200b\u8f6c\u5316\u7387\u200b\u7684\u200b\u6bd4\u503c\u200b\u8fdb\u884c\u200b\u6574\u6570\u200b\u7ea6\u675f\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6c42\u89e3\u7b97\u6cd5\u8bbe\u8ba1","title":"\u6c42\u89e3\u200b\u7b97\u6cd5\u200b\u8bbe\u8ba1","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6a21\u578b\u53c2\u6570\u4e0e\u51b3\u7b56\u53d8\u91cf","title":"\u6a21\u578b\u200b\u53c2\u6570\u200b\u4e0e\u200b\u51b3\u7b56\u200b\u53d8\u91cf","text":"<p>\u200b\u5728\u200b\u6574\u4e2a\u200b\u6a21\u578b\u200b\u6c42\u89e3\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4f1a\u200b\u6d89\u53ca\u200b\u6a21\u578b\u200b\u53c2\u6570\u200b\u548c\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u76f8\u5173\u200b\u7684\u200b\u4e00\u7cfb\u5217\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u548c\u200b\u4f18\u5316\u200b\u76ee\u6807\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u5bf9\u200b\u8fd9\u200b\u4e24\u8005\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\u3001\u200b\u542b\u4e49\u200b\u3001\u200b\u5355\u4f4d\u200b\u548c\u200b\u7ef4\u5ea6\u200b\u8fdb\u884c\u200b\u89e3\u91ca\u200b\u8bf4\u660e\u200b\uff0c\u200b\u5982\u8868\u200b 3 \u200b\u6240\u793a\u200b\u3002</p> \u200b\u7c7b\u578b\u200b \u200b\u53d8\u91cf\u540d\u200b \u200b\u542b\u4e49\u200b \u200b\u5355\u4f4d\u200b \u200b\u7ef4\u5ea6\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b bwy_list \u200b\u5de5\u5382\u200b\uff082\uff09 / \u200b\u5de5\u5382\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b dc_list DC\uff0818\uff09 / DC \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b SKU_list SKU\uff0872\uff09 / SKU \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b push_lb\u3001push_ub \u200b\u5de5\u5382\u200b\u53d1\u8d27\u200b\u4e0b\u9650\u200b\u3001\u200b\u5de5\u5382\u200b\u53d1\u8d27\u200b\u4e0a\u9650\u200b 10L \u200b\u5de5\u5382\u200b \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b bwy_inventory \u200b\u5de5\u5382\u200b\u539f\u6709\u200b\u5e93\u5b58\u200b \u200b\u7bb1\u200b \u200b\u5de5\u5382\u200b+SKU \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b dc_inventory DC \u200b\u539f\u6709\u200b\u5e93\u5b58\u200b \u200b\u7bb1\u200b DC+SKU \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b demand \u200b\u9700\u6c42\u200b \u200b\u7bb1\u200b DC+SKU \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b pt_box_rate \u200b\u4e00\u6258\u200b\u6240\u200b\u542b\u200b\u7bb1\u6570\u200b / SKU \u200b\u6a21\u578b\u200b\u53c2\u6570\u200b box_volume_rate \u200b\u5355\u7bb1\u200b\u4f53\u79ef\u200b / SKU \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b x_box \u200b\u8865\u200b\u8d27\u7bb1\u200b\u6570\u200b \u200b\u7bb1\u200b \u200b\u5de5\u5382\u200b+DC+SKU \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b z_pt \u200b\u8865\u8d27\u200b\u6258\u6570\u200b \u200b\u6258\u200b \u200b\u5de5\u5382\u200b+DC+SKU \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b produce \u200b\u751f\u4ea7\u91cf\u200b 10L \u200b\u5de5\u5382\u200b+SKU \u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b sales \u200b\u9500\u91cf\u200b \u200b\u7bb1\u200b DC+SKU <p>Table: \u200b\u5404\u200b\u53d8\u91cf\u200b\u7684\u200b\u542b\u4e49\u200b\u3001\u200b\u5355\u4f4d\u200b\u53ca\u200b\u7ef4\u5ea6\u200b</p> <p>\u200b\u5177\u4f53\u200b\u7684\u200b\u7b97\u6cd5\u200b\u4ee3\u7801\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e86\u200b\u4f18\u5316\u200b\u6a21\u578b\u200b\uff08replenish optimization\uff09\u200b\u548c\u200b\u6a21\u578b\u200b\u5bf9\u5e94\u200b\u7684\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\uff08x_box\uff1bz_pt\uff1bproduce\uff1bsales\uff09\uff0c\u200b\u5176\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> Python<pre><code># \u200b\u521b\u5efa\u200b\u73af\u5883\u200b\nenv = Envr()\n# \u200b\u521b\u5efa\u200b\u6a21\u578b\u200b\uff1areplenish optimization\nM = env.createModel(\"replenish optimization\")\n# \u200b\u521b\u5efa\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\n# 1. x_box\uff1a\u200b\u8865\u200b\u8d27\u7bb1\u200b\u6570\u200b\nx_box = M.addVars(\nbwy_list, dc_list, SKU_list, vtype=COPT.INTEGER, lb=0, nameprefix=\"x_box\"\n)\n# 2. z_pt\uff1a\u200b\u8865\u8d27\u200b\u6258\u6570\u200b\nz_pt = M.addVars(\nbwy_list, dc_list, SKU_list, vtype=COPT.INTEGER, lb=0, nameprefix=\"z_pt\"\n)\n# 3. produce\uff1a\u200b\u751f\u4ea7\u91cf\u200b\nproduce = M.addVars(\nbwy_list, SKU_list, vtype=COPT.CONTINUOUS, lb=0, nameprefix=\"produce\"\n)\n# 4. sales \u200b\u9500\u91cf\u200b\nsales = M.addVars(dc_list, SKU_list, vtype=COPT.INTEGER, lb=0, nameprefix=\"sales\")\n</code></pre> <p>\u200b\u6700\u7ec8\u200b\uff0c\u200b\u6211\u4eec\u200b\u6a21\u578b\u200b\u7684\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b x_box \u200b\u662f\u200b\u4e00\u4e2a\u200b 2\u00d718\u00d772 \u200b\u7684\u200b\u77e9\u9635\u200b\uff1bz_pt \u200b\u662f\u200b\u4e00\u4e2a\u200b 2\u00d718\u00d772 \u200b\u7684\u200b\u77e9\u9635\u200b\uff1bproduce \u200b\u662f\u200b\u4e00\u4e2a\u200b 2\u00d772 \u200b\u7684\u200b\u77e9\u9635\u200b\uff1bsales \u200b\u662f\u200b\u4e00\u4e2a\u200b 18\u00d772 \u200b\u7684\u200b\u77e9\u9635\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6a21\u578b\u7ea6\u675f\u6761\u4ef6","title":"\u6a21\u578b\u200b\u7ea6\u675f\u6761\u4ef6","text":"<ol> <li>\u200b\u5de5\u5382\u200b\u7ef4\u5ea6\u200b\uff1a\u200b\u5de5\u5382\u200b\u53d1\u8d27\u91cf\u200b\u603b\u548c\u200b\u4e0d\u80fd\u200b\u4f4e\u4e8e\u200b\u4e0b\u9650\u200b\u4e14\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u4e0a\u9650\u200b</li> </ol> Python<pre><code># \u200b\u5de5\u5382\u200b\u53d1\u8d27\u91cf\u200b\u4e4b\u200b\u548c\u200b\u4e0d\u80fd\u200b\u4f4e\u4e8e\u200b\u4e0b\u9650\u200b\nM.addConstrs(\n(\nquicksum(x_box[i, j, k] * box_volume_rate[k] for j in dc_list for k in SKU_list)\n&gt;= push_lb[i]\nfor i in bwy_list\n),\nnameprefix=\"push_lb\",\n)\n# \u200b\u5de5\u5382\u200b\u53d1\u8d27\u91cf\u200b\u4e4b\u200b\u548c\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u4e0a\u9650\u200b\nM.addConstrs(\n(\nquicksum(x_box[i, j, k] * box_volume_rate[k] for j in dc_list for k in SKU_list)\n&lt;= push_ub[i]\nfor i in bwy_list\n),\nnameprefix=\"push_ub\",\n)\n</code></pre> <ol> <li>\u200b\u5de5\u5382\u200b+SKU \u200b\u7ef4\u5ea6\u200b\uff1a\u200b\u5de5\u5382\u200b\u5404\u200b SKU \u200b\u6bcf\u65e5\u200b\u53d1\u8d27\u91cf\u200b\\(\u2264\\)\uff08\u200b\u5de5\u5382\u200b\u5404\u200b SKU \u200b\u5f53\u65e5\u200b\u751f\u4ea7\u91cf\u200b + \u200b\u5de5\u5382\u200b\u5404\u200b SKU \u200b\u539f\u6709\u200b\u5e93\u5b58\u200b\uff09</li> </ol> Python<pre><code>M.addConstrs(\n(\nquicksum(z_pt[i, j, k] * pt_box_rate[k] * box_volume_rate[k] for j in dc_list)\n&lt;= produce[i, k] + bwy_inventory[i, k] * box_volume_rate[k]\nfor i in bwy_list\nfor k in SKU_list\n),\nnameprefix=\"factory_limit(10L)\",\n)\n</code></pre> <ol> <li>DC \u200b\u7ef4\u5ea6\u200b\uff1a\uff08DC \u200b\u539f\u6709\u200b\u603b\u200b\u5e93\u5b58\u200b+DC \u200b\u5f53\u65e5\u200b\u603b\u200b\u8865\u8d27\u200b\u91cf\u200b-DC \u200b\u5f53\u65e5\u200b\u603b\u200b\u9500\u91cf\u200b\uff09\\(\u2264\\)DC \u200b\u5e93\u5bb9\u200b</li> </ol> Python<pre><code>M.addConstrs(\n(\nquicksum(\ndc_inventory[j, k] * box_volume_rate[k]\n- sales[j, k] * box_volume_rate[k]\n+ quicksum(z_pt[i, j, k] for i in bwy_list)\n* pt_box_rate[k]\n* box_volume_rate[k]\nfor k in SKU_list\n)\n&lt;= dc_capacity[j]\nfor j in dc_list\n),\nnameprefix=\"dc_capacity limit(10L)\",\n)\n</code></pre> <ol> <li>DC+SKU \u200b\u7ef4\u5ea6\u200b\uff1a\uff08DC \u200b\u5404\u200b SKU \u200b\u539f\u6709\u200b\u603b\u200b\u5e93\u5b58\u200b+DC \u200b\u5404\u200b SKU \u200b\u5f53\u65e5\u200b\u8865\u8d27\u200b\u91cf\u200b\uff09\\(\u2265\\)\u200b\u5f53\u65e5\u200b\u9500\u91cf\u200b</li> </ol> Python<pre><code>M.addConstrs(\n(\ndc_inventory[j, k] * box_volume_rate[k]\n+ quicksum(\nz_pt[i, j, k] * pt_box_rate[k] * box_volume_rate[k] for i in bwy_list\n)\n&gt;= sales[j, k] * box_volume_rate[k]\nfor j in dc_list\nfor k in SKU_list\n),\nnameprefix=\"dc supply limit\",\n)\n</code></pre> <ol> <li>DC+SKU \u200b\u7ef4\u5ea6\u200b\uff1aDC \u200b\u5404\u200b SKU \u200b\u9500\u91cf\u200b\\(\u2264\\)DC \u200b\u5404\u200b SKU \u200b\u9700\u6c42\u200b</li> </ol> <p>\u200b\u5728\u200b\u7ea6\u675f\u200b 5 \u200b\u4e0a\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u8fdb\u4e00\u6b65\u200b\u4f7f\u5f97\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u80fd\u591f\u200b\u66f4\u597d\u200b\u5730\u200b\u9002\u5e94\u200b\u5e02\u573a\u9700\u6c42\u200b\u5e76\u200b\u5c3d\u53ef\u80fd\u200b\u6ee1\u8db3\u200b\u591a\u6837\u5316\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f15\u5165\u200b\u4e86\u200b\u66f4\u4e3a\u200b\u4e25\u683c\u200b\u7684\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff1a0.9*DC \u200b\u5404\u200b SKU \u200b\u9700\u6c42\u200b \\(\u2264\\) DC \u200b\u5404\u200b SKU \u200b\u9500\u91cf\u200b \\(\u2264\\) DC \u200b\u5404\u200b SKU \u200b\u9700\u6c42\u200b\uff0c\u200b\u76ee\u7684\u200b\u662f\u200b\u8fdb\u4e00\u6b65\u200b\u9650\u5236\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u989d\u5916\u200b\u7684\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u65e8\u5728\u200b\u786e\u4fdd\u200b\u6a21\u578b\u200b\u66f4\u52a0\u200b\u51c6\u786e\u200b\u3001\u200b\u53ef\u9760\u200b\uff0c\u200b\u7b26\u5408\u5b9e\u9645\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\u7684\u200b\u89c4\u8303\u200b\u548c\u200b\u6807\u51c6\u200b\u3002</p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u5f15\u5165\u200b\u8fd9\u79cd\u200b\u66f4\u200b\u4e25\u683c\u200b\u7684\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u6709\u52a9\u4e8e\u200b\u63d0\u9ad8\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u5728\u200b\u6c42\u89e3\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u901f\u5ea6\u200b\uff0c\u200b\u9650\u5236\u200b\u6a21\u578b\u200b\u7684\u200b\u641c\u7d22\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u66f4\u52a0\u200b\u4e13\u6ce8\u200b\u4e8e\u200b\u89e3\u51b3\u200b\u6838\u5fc3\u200b\u95ee\u9898\u200b\uff0c\u200b\u51cf\u5c11\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u8ba1\u7b97\u200b\u5f00\u9500\u200b\uff0c\u200b\u6700\u7ec8\u200b\u63d0\u5347\u200b\u6a21\u578b\u200b\u7684\u200b\u7b97\u6cd5\u200b\u6548\u7387\u200b\u3002</p> Python<pre><code>M.addConstrs(\n(\n0.9 * demand[j, k] &lt;= sales[j, k] &lt;= demand[j, k]\nfor j in dc_list\nfor k in SKU_list\n),\nnameprefix=\"demand_limit\",\n)\n</code></pre> <ol> <li>\u200b\u5de5\u5382\u200b+DC+SKU \u200b\u7ef4\u5ea6\u200b\uff1a\u200b\u6574\u6258\u200b\u8fd0\u8f93\u200b</li> </ol> <p>\u200b\u57fa\u4e8e\u200b\u95ee\u9898\u200b\u80cc\u666f\u200b\u4e2d\u200b\u7684\u200b\u73b0\u5b9e\u60c5\u51b5\u200b\uff0c\u200b\u6211\u4eec\u200b\u8981\u6c42\u200b\u8865\u8d27\u200b\u603b\u7bb1\u6570\u200b\u9664\u4ee5\u200b\u6bcf\u6258\u200b\u7684\u200b\u7bb1\u6570\u200b\u5e94\u4e3a\u200b\u6574\u6570\u200b\uff0c\u200b\u5373\u200b\u6bcf\u6b21\u200b\u8865\u8d27\u200b\u90fd\u200b\u5fc5\u987b\u200b\u4ee5\u6ee1\u6258\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8865\u8d27\u200b\u3002</p> Python<pre><code>M.addConstrs(\n(\nx_box[i, j, k] / pt_box_rate[k] == z_pt[i, j, k]\nfor i in bwy_list\nfor j in dc_list\nfor k in SKU_list\n),\nnameprefix=\"full_pallet\",\n)\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6a21\u578b\u76ee\u6807\u51fd\u6570","title":"\u6a21\u578b\u200b\u76ee\u6807\u200b\u51fd\u6570","text":"\\[ \\begin{aligned} \u200b\u5229\u6da6\u200b&amp;=\u200b\u9500\u552e\u6536\u5165\u200b\u2013(\u200b\u8fd0\u8f93\u6210\u672c\u200b + \u200b\u751f\u4ea7\u6210\u672c\u200b)  \\\\ &amp;= \\Sigma(\u200b\u6bcf\u4e2a\u200b DC \u200b\u4e0b\u200b\u6bcf\u4e2a\u200b SKU \u200b\u7684\u200b\u9500\u91cf\u200b \\times SKU \u200b\u5bf9\u5e94\u200b\u7684\u200b\u552e\u4ef7\u200b)\\\\ &amp;- \\Sigma(\u200b\u6bcf\u4e2a\u200b\u5de5\u5382\u200b\u4e0b\u200b\u6bcf\u4e2a\u200b SKU \u200b\u7684\u200b\u751f\u4ea7\u91cf\u200b \\times SKU \u200b\u5bf9\u5e94\u200b\u7684\u200b\u751f\u4ea7\u6210\u672c\u200b)\\\\ &amp;-\\Sigma(\u200b\u6bcf\u4e2a\u200b\u5de5\u5382\u200b\u53d1\u5230\u200b\u6bcf\u4e2a\u200b DC \u200b\u7684\u200b\u6bcf\u4e2a\u200b SKU \u200b\u7684\u200b\u53d1\u8d27\u91cf\u200b \\times \u200b\u5de5\u5382\u200b\u5230\u200b DC \u200b\u7684\u200b\u8fd0\u8d39\u200b) \\end{aligned} \\] <p>\u200b\u76f8\u5e94\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code># \u200b\u8fd0\u8f93\u6210\u672c\u200b\ntrans_cost = quicksum(\nquicksum(x_box[i, j, k] * transport_tariff[i, j] for i in bwy_list for j in dc_list)\nfor k in SKU_list\n)\n# \u200b\u751f\u4ea7\u6210\u672c\u200b\ntotal_produce_cost = quicksum(\nquicksum(produce[i, k] * produce_cost[k] / box_volume_rate[k] for i in bwy_list)\nfor k in SKU_list\n)\n# \u200b\u9500\u552e\u6536\u5165\u200b\nsales_income = quicksum(\nquicksum(sales[j, k] * price[k] for j in dc_list) for k in SKU_list\n)\n# \u200b\u8bbe\u7f6e\u200b\u76ee\u6807\u200b\n# \u200b\u5229\u6da6\u200b = \u200b\u9500\u552e\u6536\u5165\u200b - \u200b\u8fd0\u8f93\u6210\u672c\u200b - \u200b\u751f\u4ea7\u6210\u672c\u200b\n# \u200b\u6700\u5927\u5316\u200b\u5229\u6da6\u200b\nM.setObjective(sales_income - trans_cost - total_produce_cost, COPT.MAXIMIZE)\n</code></pre>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u5b9e\u9a8c\u5206\u6790","title":"\u5b9e\u9a8c\u200b\u5206\u6790","text":"<p>\u200b\u672c\u7ae0\u200b\u5c06\u200b\u9488\u5bf9\u200b\u5efa\u7acb\u200b\u7684\u200b\u4f18\u5316\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u5b9e\u9a8c\u200b\u5206\u6790\u200b\u5e76\u200b\u89e3\u8bfb\u200b\u76f8\u5e94\u200b\u7ed3\u679c\u200b\uff0c\u200b\u8bf4\u660e\u200b\u6a21\u578b\u200b\u7684\u200b\u6709\u6548\u6027\u200b\u4e0e\u200b\u5408\u7406\u6027\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd8\u200b\u5c06\u200b\u6a21\u578b\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u5bf9\u6bd4\u200b\uff0c\u200b\u8fdb\u4e00\u6b65\u200b\u8bf4\u660e\u200b\u6a21\u578b\u200b\u7684\u200b\u4f18\u52bf\u200b\u3002</p> <p>\u200b\u5229\u7528\u200b COPT \u200b\u6c42\u89e3\u200b\u5668\u200b\u6c42\u5f97\u200b\u6a21\u578b\u200b\u7684\u200b\u6700\u4f18\u200b\u89e3\u4e3a\u200b\\(4.003437\\times{10^8}\\)\uff0c\u200b\u6a21\u578b\u200b\u5c06\u200b\u8f93\u51fa\u200b\u4e09\u7ec4\u200b\u51b3\u7b56\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\uff1a\u200b\u751f\u4ea7\u200b\u3001\u200b\u53d1\u8d27\u200b\u548c\u200b\u9500\u552e\u200b\u60c5\u51b5\u200b\u3002\u200b\u8fd9\u200b\u4e09\u7ec4\u200b\u53d8\u91cf\u200b\u5728\u200b\u4e00\u8d77\u200b\u5171\u540c\u200b\u6784\u6210\u200b\u4e86\u200b\u6211\u4eec\u200b\u7684\u200b\u591a\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4f18\u5316\u200b\u7b56\u7565\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u4e0b\u9762\u200b\u5c06\u200b\u5c31\u200b\u751f\u4ea7\u200b\u60c5\u51b5\u200b\u3001\u200b\u8865\u8d27\u200b\u60c5\u51b5\u200b\u4e0e\u200b\u9700\u6c42\u200b\u5206\u6790\u200b\u3001\u200b\u751f\u4ea7\u6210\u672c\u200b\u4e0e\u200b\u552e\u4ef7\u200b\u3001\u200b\u6a21\u578b\u200b\u4e0e\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u7684\u200b\u5bf9\u6bd4\u200b\u56db\u4e2a\u200b\u65b9\u9762\u200b\u5c55\u5f00\u8ba8\u8bba\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u751f\u4ea7\u60c5\u51b5","title":"\u751f\u4ea7\u200b\u60c5\u51b5","text":"<p>\u200b\u9274\u4e8e\u200b\u6a21\u578b\u200b\u7684\u200b\u4f18\u5316\u200b\u76ee\u6807\u200b\u662f\u200b\u6700\u5927\u5316\u200b\u5229\u6da6\u200b\uff0c\u200b\u4e14\u200b\u751f\u4ea7\u200b\u9700\u8981\u200b\u4e00\u5b9a\u200b\u6210\u672c\u200b\uff0c\u200b\u6545\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u5546\u54c1\u200b\u5e94\u5f53\u200b\u662f\u200b\u6709\u200b\u76ee\u7684\u6027\u200b\u7684\u200b\uff0c\u200b\u5373\u200b\u9700\u8981\u200b\u53d1\u8d27\u200b\u662f\u200b\u5546\u54c1\u200b\u624d\u200b\u9700\u8981\u200b\u751f\u4ea7\u200b\u3002\u200b\u4e3a\u4e86\u200b\u9a8c\u8bc1\u200b\u8fd9\u4e00\u200b\u731c\u60f3\u200b\uff0c\u200b\u7ed8\u5236\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b - \u200b\u8865\u8d27\u200b\u5173\u7cfb\u200b\u56fe\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> <p>\u200b\u56fe\u200b 11 \u200b\u8868\u793a\u200b\u751f\u4ea7\u200b=0 \u200b\u548c\u200b\u751f\u4ea7\u200b&gt;0 \u200b\u7684\u200b\u5546\u54c1\u200b\u7684\u200b\u8865\u8d27\u200b\u91cf\u200b\u5206\u5e03\u200b\u3002\u200b\u5176\u4e2d\u200b\u53f3\u8fb9\u200b\u7684\u200b\u67f1\u5b50\u200b\u8868\u793a\u200b\u751f\u4ea7\u200b&gt;0 \u200b\u7684\u200b\u5546\u54c1\u200b\u7684\u200b\u8865\u8d27\u200b\u91cf\u200b\u90fd\u200b\u662f\u200b&gt;0 \u200b\u7684\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u200b\u8bc1\u660e\u200b\u4e86\u200b\u6211\u4eec\u200b\u7684\u200b\u7ed3\u8bba\u200b\uff0c\u200b\u5373\u200b\u6211\u4eec\u200b\u7684\u200b\u51b3\u7b56\u200b\u7ed3\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u751f\u4ea7\u200b\u4e86\u200b\u4f46\u662f\u200b\u4e0d\u200b\u8865\u8d27\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u5728\u200b\u539f\u6709\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u751f\u4ea7\u200b\u90fd\u200b\u662f\u200b\u8d4b\u80fd\u200b\u5e02\u573a\u9700\u6c42\u200b\u7684\u200b\uff0c\u200b\u8be5\u200b\u51b3\u7b56\u200b\u6a21\u578b\u200b\u4e0d\u4f1a\u200b\u6709\u200b\u591a\u4f59\u200b\u7684\u200b\u751f\u4ea7\u200b\u884c\u4e3a\u200b\u51fa\u73b0\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u8865\u8d27\u60c5\u51b5\u4e0e\u9700\u6c42\u5206\u6790","title":"\u8865\u8d27\u200b\u60c5\u51b5\u200b\u4e0e\u200b\u9700\u6c42\u200b\u5206\u6790","text":"<p>\u200b\u8fdb\u4e00\u6b65\u200b\u5730\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5206\u6790\u200b\u6211\u4eec\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u5728\u200b\u4f55\u79cd\u200b\u7a0b\u5ea6\u200b\u4e0a\u200b\u6ee1\u8db3\u200b\u4e86\u200b\u5e02\u573a\u9700\u6c42\u200b\uff0c\u200b\u4e3a\u6b64\u200b\uff0c\u200b\u5b9a\u4e49\u200b demand gap \u200b\u5982\u4e0b\u200b\uff1a</p> \\[ \\text{demand gap} = \u200b\u9700\u6c42\u200b - \u200b\u5b9e\u9645\u200b\u9500\u91cf\u200b \\] <p></p> <p>\u200b\u9700\u6c42\u200b\u548c\u200b\u9500\u91cf\u200b\u7684\u200b\u5dee\u8ddd\u200b\u610f\u5473\u7740\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u6ee1\u8db3\u200b\u4e86\u200b\u591a\u5c11\u200b\u9700\u6c42\u200b\uff0c\u200b\u4ece\u200b\u4e0a\u200b\u56fe\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\u8865\u8d27\u200b\u91cf\u200b\u5927\u4e8e\u200b 0 \u200b\u7684\u200b\u6570\u636e\u200b\u57fa\u672c\u200b\u90fd\u200b\u80fd\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\uff08\u200b\u9664\u4e86\u200b\u5355\u72ec\u200b\u4e00\u4e2a\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5176\u4f59\u200b gap \u200b\u5747\u200b&lt;1\uff0c\u200b\u7531\u4e8e\u200b\u9700\u6c42\u200b\u6570\u636e\u200b\u5b9e\u9645\u200b\u7531\u200b\u6a21\u62df\u200b\u751f\u6210\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u80fd\u200b\u4e0d\u662f\u200b\u6574\u6570\u200b\uff0c\u200b\u800c\u200b\u9500\u552e\u200b\u4ee5\u200b\u6574\u7bb1\u200b\u5356\u51fa\u200b\uff0c\u200b\u56e0\u6b64\u200b gap&lt;1 \u200b\u5373\u53ef\u200b\u89c6\u4e3a\u200b\u5168\u90e8\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\uff09\u3002\u200b\u5176\u4e2d\u200b\u552f\u4e00\u200b\u6ca1\u6709\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u7ecf\u200b\u67e5\u770b\u200b\u6570\u636e\u200b\u53d1\u73b0\u200b\u5176\u200b DC \u200b\u5269\u4f59\u200b\u5e93\u5b58\u200b\u4e3a\u200b 0\uff0c\u200b\u8bf4\u660e\u200b\u5176\u200b\u5df2\u200b\u5c3d\u529b\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\u3002\u200b\u56e0\u6b64\u200b\u4ece\u200b\u8865\u8d27\u200b\u91cf\u200b\u5927\u4e8e\u200b 0 \u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b Demand gap \u200b\u5206\u5e03\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\u6a21\u578b\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u5c3d\u529b\u200b\u6ee1\u8db3\u200b\u4e86\u200b\u5e02\u573a\u9700\u6c42\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u751f\u4ea7\u6210\u672c\u4e0e\u552e\u4ef7","title":"\u751f\u4ea7\u6210\u672c\u200b\u4e0e\u200b\u552e\u4ef7","text":"<p>\u200b\u6211\u4eec\u200b\u7684\u200b\u4f18\u5316\u200b\u6a21\u578b\u200b\u4e2d\u200b\uff0c\u200b\u5546\u54c1\u200b\u7684\u200b\u751f\u4ea7\u6210\u672c\u200b\u548c\u200b\u552e\u4ef7\u200b\u7531\u200b\u968f\u673a\u200b\u6a21\u62df\u200b\u751f\u6210\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b 72 \u200b\u4e2a\u200b\u5546\u54c1\u200b\u5206\u4e3a\u200b\u4f4e\u4ef7\u5546\u54c1\u200b\u4e0e\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u4e24\u7c7b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4f4e\u4ef7\u5546\u54c1\u200b\u6570\u5360\u200b\\(\\frac{5}{8}\\)\uff0845 \u200b\u79cd\u200b\uff09\uff0c\u200b\u5176\u200b\u6210\u672c\u200b\u4e3a\u200b[200,500]\u200b\u95f4\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u6570\u200b\uff1b\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u6570\u5360\u200b\u6bd4\u4e3a\u200b\\(\\frac{3}{8}\\)\uff0827 \u200b\u79cd\u200b\uff09\uff0c\u200b\u5176\u200b\u6210\u672c\u200b\u4e3a\u200b[600,1000]\u200b\u95f4\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u3002\u200b\u5546\u54c1\u200b\u7684\u200b\u552e\u4ef7\u200b\u7edf\u4e00\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\u751f\u4ea7\u6210\u672c\u200b\u7684\u200b\u4e94\u500d\u200b\u3002</p> <p>\u200b\u5c06\u200b\u6a21\u62df\u200b\u7684\u200b\u5546\u54c1\u751f\u4ea7\u200b\u6210\u672c\u200b\u4e0e\u200b\u552e\u4ef7\u200b\u8f93\u5165\u200b\u6a21\u578b\u200b\uff0c\u200b\u6c42\u89e3\u200b\u7ed3\u679c\u200b\u5c55\u793a\u200b\u51fa\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u4e3a\u4e86\u200b\u83b7\u53d6\u200b\u6700\u5927\u200b\u5229\u6da6\u200b\uff0c\u200b\u5c3d\u53ef\u80fd\u200b\u5730\u200b\u6ee1\u8db3\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u7684\u200b\u8865\u8d27\u200b\u9700\u6c42\u200b\uff1a</p> <p></p> <p>\u200b\u5176\u4e2d\u200b\uff1a\u200b\u5546\u54c1\u91cf\u200b\u8868\u793a\u200b\u539f\u59cb\u200b\u7684\u200b\u5546\u54c1\u200b\u6c60\u4e2d\u200b\u7684\u200b\u5546\u54c1\u200b\u6570\u91cf\u200b\uff0c\u200b\u67d0\u4e00\u200b\u5de5\u5382\u200b\u5bf9\u4e8e\u200b\u67d0\u4e00\u200b DC \u200b\u8fdb\u884c\u200b\u67d0\u4e00\u200b SKU \u200b\u7684\u200b\u8865\u8d27\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u4e00\u6b21\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\uff0c\u200b\u8865\u8d27\u200b\u91cf\u200b\u8868\u793a\u200b\u67d0\u4e00\u200b\u5546\u54c1\u200b\u7684\u200b\u603b\u200b\u8865\u8d27\u200b\u91cf\u200b\u3002</p> <p>\u200b\u56fe\u200b 13 \u200b\u5c55\u793a\u200b\u4e86\u200b\u5c3d\u7ba1\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u7684\u200b\u79cd\u6570\u200b\u5c11\u4e8e\u200b\u4f4e\u4ef7\u5546\u54c1\u200b\uff0c\u200b\u4f46\u200b\u6700\u7ec8\u200b\u8865\u8d27\u200b\u91cf\u200b&gt;0 \u200b\u7684\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u91cf\u200b\u4e0e\u200b\u4f4e\u4ef7\u5546\u54c1\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u91cf\u200b\u76f8\u7b49\u200b\uff0c\u200b\u4e14\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u8865\u8d27\u200b\u91cf\u200b\u5927\u7ea6\u200b\u662f\u200b\u4f4e\u4ef7\u5546\u54c1\u200b\u8865\u8d27\u200b\u7684\u200b\u8865\u8d27\u200b\u91cf\u200b\u7684\u200b 2 \u200b\u500d\u200b\u3002\u200b\u8fd9\u200b\u8bf4\u660e\u200b\u4e3a\u4e86\u200b\u83b7\u53d6\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u5229\u6da6\u200b\uff0c\u200b\u6a21\u578b\u200b\u5c3d\u53ef\u80fd\u200b\u5730\u200b\u6ee1\u8db3\u200b\u9ad8\u4ef7\u200b\u5546\u54c1\u200b\u7684\u200b\u8865\u8d27\u200b\u9700\u6c42\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u4e0e\u57fa\u7ebf\u6a21\u578b\u7684\u5bf9\u6bd4","title":"\u4e0e\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u7684\u200b\u5bf9\u6bd4","text":"<p>\u200b\u6700\u540e\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u8bf4\u660e\u200b\u4f18\u5316\u200b\u6a21\u578b\u200b\u7684\u200b\u5408\u7406\u6027\u200b\u548c\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u4ef7\u503c\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u6a21\u578b\u200b\u4e0e\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u6548\u679c\u200b\u5bf9\u6bd4\u200b\u3002\u200b\u6211\u4eec\u200b\u7684\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u4e2d\u200b\u5404\u200b\u5de5\u5382\u200b\u5404\u200b SKU \u200b\u7684\u200b\u603b\u200b\u751f\u4ea7\u91cf\u200b\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b\uff0c\u200b\u5373\u200b\u5386\u53f2\u200b\u9500\u91cf\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u6839\u636e\u200b\u5404\u4e2a\u200b\u5de5\u5382\u200b\u7684\u200b\u5bb9\u91cf\u200b\u7b49\u200b\u6bd4\u4f8b\u200b\u5206\u914d\u200b\u3002\u200b\u6211\u4eec\u200b\u4ec5\u200b\u9700\u8981\u200b\u51b3\u7b56\u200b\u5404\u4e2a\u200b DC \u200b\u5404\u200b SKU \u200b\u7684\u200b\u8865\u8d27\u200b\u6570\u91cf\u200b\u548c\u200b\u9500\u552e\u200b\u6570\u91cf\u200b\uff0c\u200b\u5176\u4f59\u200b\u7ea6\u675f\u200b\u548c\u200b\u76ee\u6807\u200b\u51fd\u6570\u200b\u4e0e\u200b\u4e4b\u524d\u200b\u76f8\u540c\u200b\u3002\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> \\[ \\begin{aligned} produce(i,k) &amp;= \\text {\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u7b2c\u200b k \u200b\u4e2a\u200b SKU \u200b\u7684\u200b\u751f\u4ea7\u91cf\u200b} \\\\ &amp; = \\frac{\\text {\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u5de5\u5382\u200b\u7684\u200b\u5bb9\u91cf\u200b} }{\\text {\u200b\u6240\u6709\u200b\u5de5\u5382\u200b\u7684\u200b\u5bb9\u91cf\u200b\u603b\u548c\u200b}}\\times \\text {\u200b\u7b2c\u200b k \u200b\u4e2a\u200b SKU \u200b\u7684\u200b\u5386\u53f2\u200b\u9500\u91cf\u200b\u7684\u200b\u5747\u503c\u200b} \\\\ &amp; =\\frac{push\\_ub_{i}}{\\sum_j{push\\_ub_{j}}}\\times avg\\_sales(k) \\end{aligned} \\] <p></p> <p>\u200b\u7ed3\u679c\u663e\u793a\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u5229\u6da6\u200b\u5927\u4e8e\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u4f01\u4e1a\u200b\u83b7\u5f97\u200b\u989d\u5916\u200b 500 \u200b\u4e07\u5143\u200b\u7684\u200b\u5229\u6da6\u200b\u3002</p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u5728\u200b\u603b\u200b\u5229\u6da6\u200b\u9ad8\u4e8e\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b\uff0c\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u4e5f\u200b\u66f4\u5177\u200b\u4f18\u52bf\u200b\u3002</p> <p></p> <p>\u200b\u4ece\u56fe\u200b 15 \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u5404\u200b DC \u200b\u5404\u200b\u5546\u54c1\u200b\u7684\u200b\u9700\u6c42\u200b\u5206\u5e03\u200b\u5448\u73b0\u200b\u957f\u5c3e\u200b\u5206\u5e03\u200b\uff0c\u200b\u5373\u200b\u5f88\u5c11\u200b\u7684\u200b DC-SKU \u200b\u7ec4\u5408\u200b\u7684\u200b\u9700\u6c42\u91cf\u200b\u5f88\u5927\u200b\uff0c\u200b\u7edd\u5927\u591a\u6570\u200b\u7ec4\u5408\u200b\u7684\u200b\u9700\u6c42\u91cf\u200b\u5f88\u5c0f\u200b\u3002\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u5f88\u200b\u53ef\u80fd\u200b\u662f\u200b\u7a00\u758f\u200b\u7684\u200b\u3002\u200b\u5982\u56fe\u200b 16 \u200b\u6240\u793a\u200b\uff1a\u200b\u6a59\u8272\u200b\u7684\u200b\u67f1\u5b50\u200b\u8868\u793a\u200b\u6a21\u578b\u200b\u5bf9\u200b\u8be5\u200b\u7ec4\u5408\u200b\u8fdb\u884c\u200b\u4e86\u200b\u8865\u8d27\u200b\uff0c\u200b\u84dd\u8272\u200b\u67f1\u5b50\u200b\u5219\u200b\u8868\u793a\u200b\u672a\u200b\u8fdb\u884c\u200b\u8865\u8d27\u200b\u3002</p> <p></p> <p>\u200b\u56fe\u200b 16 \u200b\u663e\u793a\u200b\u6211\u4eec\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u8986\u76d6\u200b\u7684\u200b DC \u200b\u548c\u200b\u5546\u54c1\u200b\u7c7b\u522b\u200b\u66f4\u5e7f\u200b\uff0c\u200b\u4e14\u200b\u5177\u6709\u200b\u8f83\u200b\u597d\u200b\u7684\u200b\u957f\u5c3e\u200b\u53d1\u6398\u200b\u80fd\u529b\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u9700\u6c42\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b DC \u200b\u548c\u200b\u5546\u54c1\u200b\u7ec4\u5408\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ecd\u200b\u6709\u200b\u8f83\u200b\u591a\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\uff0c\u200b\u800c\u200b\u57fa\u7ebf\u200b\u6a21\u578b\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\u5219\u200b\u96c6\u4e2d\u200b\u5728\u200b\u9700\u6c42\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u7ec4\u5408\u200b\u4e0a\u200b\u3002\u200b\u8fd9\u200b\u4f53\u73b0\u200b\u4e86\u200b\u6211\u4eec\u200b\u7684\u200b\u8865\u8d27\u200b\u7b56\u7565\u200b\u7684\u200b\u591a\u6837\u6027\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6297\u200b\u98ce\u9669\u200b\u80fd\u529b\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u5f53\u200b\u4e00\u4e9b\u200b\u4f4e\u200b\u9700\u6c42\u200b\u7684\u200b\u7ec4\u5408\u200b\u9700\u6c42\u200b\u7a81\u7136\u200b\u53d8\u9ad8\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ecd\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u8865\u8d27\u200b\u884c\u4e3a\u200b\uff0c\u200b\u5373\u200b\u8003\u8651\u200b\u4e86\u200b\u5e02\u573a\u9700\u6c42\u200b\u7a81\u7136\u200b\u53d8\u5316\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u7ed3\u8bba\u4e0e\u5c55\u671b","title":"\u7ed3\u8bba\u200b\u4e0e\u200b\u5c55\u671b","text":"<p>\u200b\u4e3a\u4e86\u200b\u9002\u5e94\u200b\u5e02\u573a\u200b\u7684\u200b\u53d8\u5316\u200b\u4ee5\u53ca\u200b\u996e\u6599\u200b\u4f01\u4e1a\u200b\u57fa\u4e8e\u200b\u5176\u200b\u5546\u4e1a\u200b\u51b3\u7b56\u200b\u7684\u200b\u52a8\u6001\u200b\u8c03\u6574\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5bf9\u6a21\u578b\u200b\u5f00\u5c55\u200b\u7075\u654f\u5ea6\u200b\u5206\u6790\u200b\uff0c\u200b\u4ece\u800c\u200b\u5e2e\u52a9\u200b\u996e\u6599\u200b\u4f01\u4e1a\u200b\u66f4\u597d\u200b\u7684\u200b\u5e73\u8861\u200b\u5176\u200b\u6210\u672c\u200b\u3001\u200b\u6536\u76ca\u200b\u3001\u200b\u98ce\u9669\u200b\u7684\u200b\u51b3\u7b56\u200b\u548c\u200b\u5e94\u5bf9\u200b\u80fd\u529b\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u505a\u51fa\u200b\u66f4\u200b\u6709\u6548\u200b\u3001\u200b\u660e\u667a\u200b\u7684\u200b\u51b3\u7b56\u200b\u3002</p> <p>\u200b\u5728\u200b\u672c\u7ae0\u200b\u4e2d\u200b\uff0c\u200b\u7ed3\u5408\u5b9e\u9645\u200b\u53ef\u884c\u200b\u5ea6\u200b\u548c\u200b\u4f01\u4e1a\u200b\u7684\u200b\u6295\u8d44\u200b\u56de\u62a5\u7387\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u5bf9\u200b\u5de5\u5382\u200b\u53d1\u8d27\u200b\u4e0b\u9650\u200b\u7ea6\u675f\u200b\u3001DC \u200b\u5bb9\u91cf\u200b\u3001\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\u8fdb\u884c\u200b\u4e0d\u540c\u200b\u7a0b\u5ea6\u200b\u7684\u200b\u677e\u5f1b\u200b\uff0c\u200b\u6765\u200b\u89c2\u5bdf\u200b\u5173\u952e\u200b\u53c2\u6570\u200b\u7684\u200b\u53d8\u5316\u200b\u5bf9\u6a21\u578b\u200b\u8f93\u51fa\u200b\u6536\u76ca\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u4f01\u4e1a\u200b\u66f4\u597d\u200b\u7684\u200b\u7406\u89e3\u200b\u4e0d\u540c\u200b\u51b3\u7b56\u200b\u9009\u9879\u200b\u7684\u200b\u98ce\u9669\u200b\u548c\u200b\u56de\u62a5\u200b\uff0c\u200b\u6709\u52a9\u4e8e\u200b\u4f18\u5316\u200b\u6218\u7565\u89c4\u5212\u200b\u3001\u200b\u4f7f\u200b\u5176\u200b\u66f4\u52a0\u200b\u53ef\u200b\u6301\u7eed\u200b\u548c\u200b\u9002\u5e94\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u7684\u200b\u5e02\u573a\u200b\u73af\u5883\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u5de5\u5382\u6269\u5bb9\u7684\u56de\u62a5\u589e\u76ca\u5206\u6790","title":"\u5de5\u5382\u200b\u6269\u5bb9\u200b\u7684\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u5206\u6790","text":"<p>\u200b\u8003\u8651\u200b\u5bf9\u200b\u76ee\u524d\u200b\u5df2\u6709\u200b\u7684\u200b\u4e24\u4e2a\u200b\u5de5\u5382\u200b\u6269\u5bb9\u200b\uff0c\u200b\u5373\u200b\u5bf9\u200b\u5de5\u5382\u200b\u53d1\u8d27\u200b\u4e0b\u9650\u200b\u7ea6\u675f\u200b\u8fdb\u884c\u200b\u677e\u5f1b\u200b\uff0c\u200b\u5b9e\u9645\u200b\u53ef\u884c\u200b\u5ea6\u9ad8\u200b\u3002\u200b\u4e3a\u4e86\u200b\u9002\u5e94\u200b\u4e0d\u540c\u200b\u7684\u200b\u996e\u6599\u200b\u9ad8\u200b\u4f4e\u4ef7\u200b\u6df7\u5408\u200b\u573a\u666f\u200b\uff0c\u200b\u5728\u200b\u524d\u8282\u200b\u8bbe\u5b9a\u200b\u7684\u200b\u4e24\u79cd\u200b\u4ef7\u683c\u200b\u914d\u6bd4\u200b\u8bbe\u5b9a\u200b\u4e0b\u5747\u200b\u8fdb\u884c\u200b\u8bd5\u9a8c\u200b\uff0c\u200b\u53d1\u73b0\u200b\u7ed3\u679c\u200b\u4e00\u81f4\u200b\uff0c\u200b\u66f4\u200b\u8bf4\u660e\u200b\u5bf9\u6b64\u200b\u7ea6\u675f\u200b\u8fdb\u884c\u200b\u7075\u654f\u5ea6\u200b\u5206\u6790\u200b\u7684\u200b\u610f\u4e49\u200b\u53ef\u200b\u9002\u5e94\u200b\u996e\u6599\u200b\u4ef7\u683c\u200b\u53d8\u5316\u200b\u4e0e\u200b\u591a\u79cd\u200b\u9500\u552e\u200b\u51b3\u7b56\u200b\uff0c\u200b\u666e\u9002\u6027\u200b\u5f3a\u200b\u3002</p> <p>\u200b\u5206\u522b\u200b\u5728\u200b\u521d\u59cb\u200b\u7684\u200b\u5de5\u5382\u200b\u53d1\u8d27\u200b\u4e0b\u9650\u200b\u7ea6\u675f\u200b\u4e0b\u200b\uff0c\u200b\u4ee5\u200b 10000 \u200b\u4e2a\u200b\u5355\u4f4d\u200b\uff08\u200b\u5373\u200b 100 \u200b\u7acb\u65b9\u7c73\u200b\uff09\u200b\u4f9d\u6b21\u200b\u51cf\u5c11\u200b\uff0c\u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u8f93\u51fa\u200b\u6536\u76ca\u200b\u7684\u200b\u53d8\u5316\u200b\uff0c\u200b\u5982\u56fe\u200b 17 \u200b\u6240\u793a\u200b\u3002</p> <p></p> <p>\u200b\u5b9e\u9a8c\u200b\u53d1\u73b0\u200b\uff0c\u200b\u65e0\u8bba\u662f\u200b\u5728\u200b\u4f55\u79cd\u200b\u4ef7\u683c\u200b\u914d\u6bd4\u200b\u8bbe\u5b9a\u200b\u4e0b\u200b\uff0c\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u5de5\u5382\u200b\u6269\u5bb9\u200b\u5747\u200b\u53ef\u200b\u6536\u83b7\u200b\u5229\u6da6\u200b\u589e\u76ca\u200b\uff0c\u200b\u4e14\u200b\u5bf9\u200b\u5f53\u524d\u200b\u5bb9\u91cf\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b Factory2 \u200b\u800c\u8a00\u200b\uff0c\u200b\u6269\u5bb9\u200b\u5927\u7ea6\u200b 10000 \u200b\u4e2a\u200b\u5355\u4f4d\u200b\uff08\u200b\u5373\u200b 100 \u200b\u7acb\u65b9\u7c73\u200b\uff09\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u7ea6\u200b 200 \u200b\u4e07\u200b\u7684\u200b\u5229\u6da6\u200b\u3002\u200b\u7531\u56fe\u200b 17 \u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b Factory2 \u200b\u7684\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u9ad8\u4e8e\u200b Factory1\u3002\u200b\u7ed3\u5408\u200b\u76ee\u524d\u200b\u5df2\u6709\u200b\u5de5\u5382\u200b\u5bb9\u91cf\u200b\u72b6\u6001\u200b\uff0cFactory1 \u200b\u4e3a\u200b\u5927\u578b\u200b\u5de5\u5382\u200b\u800c\u200b Factory2 \u200b\u4e3a\u200b\u5c0f\u578b\u200b\u5de5\u5382\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5c0f\u578b\u200b\u5de5\u5382\u200b\u800c\u8a00\u200b\uff0c\u200b\u6269\u5bb9\u200b\u540c\u6837\u200b\u7684\u200b\u7a7a\u95f4\u200b\u3001\u200b\u6210\u672c\u200b\u76f8\u5bf9\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5bf9\u200b Factory2 \u200b\u8fdb\u884c\u200b\u6269\u5bb9\u200b\u6027\u4ef7\u6bd4\u200b\u8f83\u200b\u9ad8\u200b\u3001\u200b\u6295\u8d44\u200b\u56de\u62a5\u7387\u200b\u66f4\u9ad8\u200b\uff0c\u200b\u80fd\u200b\u83b7\u5f97\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#dc-\u6269\u5bb9\u7684\u56de\u62a5\u589e\u76ca\u5206\u6790","title":"DC \u200b\u6269\u5bb9\u200b\u7684\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u5206\u6790","text":"<p>\u200b\u8003\u8651\u200b\u5bf9\u200b DC \u200b\u8fdb\u884c\u200b\u6269\u5bb9\u200b\u53ef\u884c\u200b\u5ea6\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5b9e\u9a8c\u200b\u5c06\u200b\u6240\u6709\u200b DC \u200b\u540c\u6b65\u200b\u6269\u5bb9\u200b\u4e00\u5b9a\u200b\u500d\u6570\u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u8f93\u51fa\u200b\u7684\u200b\u53d8\u5316\u200b\u6765\u200b\u68c0\u9a8c\u200b DC \u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u6269\u5bb9\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u6269\u5bb9\u200b DC \u200b\u80fd\u5426\u200b\u5e26\u6765\u200b\u7406\u60f3\u200b\u7684\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u3002</p> <p></p> <p>\u200b\u7531\u56fe\u200b 18 \u200b\u6240\u793a\u200b\uff0cDC \u200b\u5b58\u5728\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6269\u5bb9\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u4e14\u200b\u4ece\u200b\u5b9e\u9645\u610f\u4e49\u200b\u6765\u770b\u200b\u5de5\u5382\u200b\u5230\u200b DC \u200b\u7684\u200b\u8fd0\u8f93\u6210\u672c\u200b\u76f8\u5bf9\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5f71\u54cd\u200b\u6536\u76ca\u200b\u7684\u200b\u4e3b\u8981\u200b\u6210\u672c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6269\u5bb9\u200b\u5e26\u6765\u200b\u7684\u200b\u56de\u62a5\u200b\u66f4\u6709\u610f\u4e49\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u56fe\u200b 18 \u200b\u5c55\u793a\u200b\u4e86\u200b\u968f\u7740\u200b\u6240\u6709\u200b DC \u200b\u540c\u6b65\u200b\u6269\u5bb9\u200b\u500d\u6570\u200b\u589e\u52a0\u200b\u56de\u62a5\u200b\u589e\u901f\u200b\u9010\u6b65\u200b\u53d8\u7f13\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5efa\u8bae\u200b DC \u200b\u6269\u5bb9\u200b\u5728\u200b 1.05 \u200b\u81f3\u200b 1.15 \u200b\u500d\u200b\u4e4b\u95f4\u200b\u6295\u8d44\u200b\u56de\u62a5\u7387\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u6269\u5bb9\u200b\u5230\u200b 1.15 \u200b\u500d\u200b\u4e4b\u540e\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u9884\u7b97\u200b\u914d\u7f6e\u200b\u5230\u200b\u5176\u4f59\u200b\u65b9\u9762\u200b\uff0c\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u4f1a\u200b\u66f4\u200b\u9ad8\u200b\u3002</p> <p>\u200b\u7ed3\u5408\u5b9e\u9645\u200b\u53ef\u884c\u200b\u5ea6\u200b\uff0c\u200b\u8003\u8651\u200b\u5bf9\u200b\u6240\u6709\u200b DC \u200b\u540c\u6b65\u200b\u6269\u5bb9\u200b\u662f\u200b\u4e0d\u200b\u73b0\u5b9e\u200b\u7684\u200b\u4e14\u200b\u8d44\u6e90\u200b\u6d6a\u8d39\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u5546\u4e1a\u200b\u51b3\u7b56\u200b\u4e2d\u200b\uff0c\u200b\u66f4\u200b\u503e\u5411\u200b\u4e8e\u200b\u6311\u9009\u200b\u6295\u8d44\u200b\u56de\u62a5\u7387\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u5173\u952e\u200b DC \u200b\u8fdb\u884c\u200b\u6269\u5bb9\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f00\u5c55\u200b\u5b9e\u9a8c\u200b\u5355\u72ec\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b DC \u200b\u6269\u5bb9\u200b 50%\uff08\u200b\u5373\u200b capacity \u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b 1.5 \u200b\u500d\u200b\uff09\uff0c\u200b\u53ef\u5f97\u200b\u5982\u56fe\u200b 19 \u200b\u6240\u793a\u200b\u3002</p> <p></p> <p>\u200b\u540c\u6bd4\u200b\u6269\u5bb9\u200b\u4e0b\u200b\uff0c\u200b\u80fd\u200b\u5f97\u5230\u200b\u660e\u663e\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u7684\u200b DC \u200b\u4e3a\u200b 4\u30015\u30017\u300114\uff0c\u200b\u67e5\u770b\u200b\u5e76\u200b\u603b\u7ed3\u200b\u8fd9\u4e9b\u200b DC \u200b\u7684\u200b\u7279\u70b9\u200b\u53d1\u73b0\u200b\u4ed6\u4eec\u200b\u5177\u6709\u200b\u5bb9\u91cf\u200b\u5c0f\u200b\uff08\u200b\u4ecd\u200b\u6709\u200b\u6269\u5bb9\u200b\u7a7a\u95f4\u200b\uff09\u3001\u200b\u5de5\u5382\u200b\u5230\u200b\u4ed3\u5e93\u200b\u7684\u200b\u8fd0\u8f93\u6210\u672c\u200b\u4f4e\u200b\u3001\u200b\u5386\u53f2\u200b\u9500\u91cf\u200b\u9ad8\u7b49\u200b\u7279\u70b9\u200b\uff0c\u200b\u4ef7\u503c\u200b\u7a7a\u95f4\u200b\u5927\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5efa\u8bae\u200b\u5728\u200b\u8ffd\u52a0\u9884\u7b97\u200b\u6210\u672c\u200b\u53d7\u9650\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4f18\u5148\u200b\u6311\u9009\u200b\u8fd9\u4e9b\u200b DC \u200b\u8fdb\u884c\u200b\u6269\u5bb9\u200b\u6027\u4ef7\u6bd4\u200b\u66f4\u9ad8\u200b\uff0c\u200b\u4ee5\u671f\u200b\u7528\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u6210\u672c\u200b\u5e26\u6765\u200b\u9ad8\u200b\u6536\u76ca\u200b\u56de\u62a5\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6574\u6258\u5bb9\u91cf\u56de\u62a5\u589e\u76ca\u5206\u6790","title":"\u6574\u6258\u200b\u5bb9\u91cf\u200b\u56de\u62a5\u200b\u589e\u76ca\u200b\u5206\u6790","text":"<p>\u200b\u8003\u8651\u200b\u7ea6\u675f\u200b\u7684\u200b\u5408\u7406\u6027\u200b\uff0c\u200b\u8ba4\u4e3a\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\u5728\u200b\u9500\u552e\u200b\u80fd\u529b\u200b\u8f83\u5f31\u200b\u7684\u200b DC \u200b\u4e0a\u200b\u9020\u6210\u200b\u4e86\u200b\u4e00\u5b9a\u200b\u8d44\u6e90\u200b\u6d6a\u8d39\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u8d27\u54c1\u200b\u65e0\u6cd5\u200b\u8fbe\u5230\u200b\u6700\u4f18\u200b\u7684\u200b\u8d44\u6e90\u914d\u7f6e\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u9a8c\u8bc1\u200b\u6211\u4eec\u200b\u8fd9\u4e00\u200b\u731c\u6d4b\u200b\uff0c\u200b\u5f00\u5c55\u200b\u5b9e\u9a8c\u200b\u5148\u200b\u53d6\u6d88\u200b\u6574\u6258\u200b\u7ea6\u675f\u200b\u2014\u2014\u200b\u5373\u200b\u5de5\u5382\u200b\u8c03\u6574\u200b\u8865\u8d27\u200b\u5f62\u5f0f\u200b\u7531\u200b\u6574\u6258\u200b\u8fd0\u8f93\u200b\u6539\u4e3a\u200b\u6574\u7bb1\u200b\u8fd0\u8f93\u200b\uff0c\u200b\u53ef\u200b\u5f97\u200b\u6a21\u578b\u200b\u8f93\u51fa\u200b\u7684\u200b\u5229\u6da6\u200b\u56de\u62a5\u200b\u589e\u52a0\u200b\u4e86\u200b 1400 \u200b\u4e07\u5de6\u53f3\u200b\uff0c\u200b\u80fd\u591f\u200b\u589e\u52a0\u5229\u6da6\u200b\u3002\u200b\u8fd9\u4e00\u9884\u200b\u5b9e\u9a8c\u200b\u4e0d\u4ec5\u200b\u8bc1\u5b9e\u200b\u4e86\u200b\u6211\u4eec\u200b\u7684\u200b\u731c\u6d4b\u200b\uff0c\u200b\u4e14\u200b\u8868\u660e\u200b\u4ee5\u200b\u8282\u7701\u200b\u8fd0\u8f93\u6210\u672c\u200b\u4e3a\u200b\u76ee\u7684\u200b\u7684\u200b\u6574\u6258\u200b\u8fd0\u8f93\u200b\u7ea6\u675f\u200b\u9650\u5236\u200b\u5b9e\u9645\u4e0a\u200b\u4f7f\u5f97\u200b\u8d27\u54c1\u200b\u4f9b\u7ed9\u200b\u8d85\u51fa\u200b\u4e86\u200b\u4e00\u4e9b\u200b DC \u200b\u7684\u200b\u9500\u552e\u200b\u80fd\u529b\u200b\uff0c\u200b\u4ece\u800c\u200b\u9020\u6210\u200b\u4e00\u5b9a\u200b\u7a0b\u5ea6\u200b\u4e0a\u200b\u7684\u200b\u8d44\u6e90\u200b\u6d6a\u8d39\u200b\u3002</p> <p>\u200b\u7ed3\u5408\u5b9e\u9645\u200b\u8d27\u7269\u8fd0\u8f93\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6574\u6258\u200b\u8fd0\u8f93\u200b\u76f8\u6bd4\u200b\u6574\u7bb1\u200b\u8fd0\u8f93\u200b\u7684\u200b\u4f18\u70b9\u200b\u5728\u4e8e\u200b\u5176\u200b\u51cf\u5c11\u200b\u4e86\u200b\u8d27\u54c1\u200b\u7684\u200b\u64cd\u4f5c\u200b\u548c\u200b\u7ba1\u7406\u200b\u8fc7\u7a0b\u200b\u4ece\u800c\u200b\u964d\u4f4e\u200b\u8d27\u54c1\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u3001\u200b\u63d0\u9ad8\u200b\u8d27\u54c1\u200b\u88c5\u5378\u200b\u6548\u7387\u200b\u3001\u200b\u7b80\u5316\u200b\u8d27\u54c1\u200b\u7684\u200b\u8ffd\u8e2a\u200b\u4e0e\u200b\u7ba1\u7406\u5de5\u4f5c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fdb\u4e00\u6b65\u200b\u8003\u8651\u200b\u8c03\u6574\u200b\u6574\u6258\u200b\u5bb9\u91cf\u200b\u800c\u200b\u975e\u200b\u53d6\u6d88\u200b\u6574\u6258\u200b\u8fd0\u8f93\u200b\u4e3a\u200b\u6574\u7bb1\u200b\u8fd0\u8f93\u200b\u3002</p> <p>\u200b\u4ee5\u200b\u4e00\u5b9a\u200b\u6bd4\u4f8b\u200b\u9010\u6b65\u200b\u51cf\u5c0f\u200b\u6574\u6258\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u8f93\u51fa\u200b\u6536\u76ca\u200b\u7684\u200b\u53d8\u5316\u200b\uff0c\u200b\u5982\u56fe\u200b 20 \u200b\u6240\u793a\u200b\u3002</p> <p></p> <p>\u200b\u7531\u56fe\u200b 20 \u200b\u53ef\u200b\u5f97\u200b\uff0c\u200b\u8c03\u6574\u200b\u6574\u6258\u200b\u5bb9\u91cf\u200b\u7684\u786e\u200b\u53ef\u4ee5\u200b\u589e\u5927\u200b\u56de\u62a5\u200b\u6536\u76ca\u200b\uff0c\u200b\u4f46\u662f\u200b\u968f\u7740\u200b\u5bb9\u91cf\u200b\u51cf\u5c11\u200b\u6bd4\u4f8b\u200b\u589e\u52a0\u200b\u56de\u62a5\u200b\u589e\u901f\u200b\u9010\u6b65\u200b\u53d8\u7f13\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5efa\u8bae\u200b\u7ed3\u5408\u5b9e\u9645\u200b\u9700\u6c42\u200b\u8c03\u6574\u200b\u6574\u6258\u200b\u5bb9\u91cf\u200b\u4e3a\u200b\u73b0\u6709\u200b\u5bb9\u91cf\u200b\u7684\u200b 0.125 \u200b\u81f3\u200b 0.5 \u200b\u500d\u200b\u5373\u53ef\u200b\u3002\u200b\u9002\u5f53\u200b\u51cf\u5c0f\u200b\u6574\u6258\u200b\u5bb9\u91cf\u200b\u4e0d\u4ec5\u200b\u53ef\u4ee5\u200b\u4f18\u5316\u200b\u8d27\u54c1\u200b\u8d44\u6e90\u914d\u7f6e\u200b\u3001\u200b\u63d0\u9ad8\u200b\u8d44\u6e90\u200b\u5229\u7528\u7387\u200b\uff0c\u200b\u8fd8\u200b\u80fd\u200b\u964d\u4f4e\u200b\u8fd0\u8f93\u200b\u548c\u200b\u5b58\u50a8\u200b\u6210\u672c\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u5c55\u671b","title":"\u5c55\u671b","text":"","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u76f8\u5173\u53c2\u6570\u771f\u5b9e\u6570\u636e\u7f3a\u5931","title":"\u76f8\u5173\u200b\u53c2\u6570\u200b\u771f\u5b9e\u200b\u6570\u636e\u200b\u7f3a\u5931","text":"<p>\u200b\u7531\u4e8e\u200b\u7f3a\u4e4f\u200b\u5b9e\u9645\u200b\u7684\u200b\u996e\u6599\u200b\u5e02\u573a\u200b\u4e0a\u200b\u6bcf\u4e2a\u200b SKU \u200b\u7684\u200b\u751f\u4ea7\u6210\u672c\u200b\u548c\u200b\u552e\u4ef7\u200b\u60c5\u51b5\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u51fa\u200b\u5728\u200b\u4e00\u5b9a\u200b\u7a0b\u5ea6\u200b\u4e0a\u200b\u53ef\u80fd\u200b\u7f3a\u4e4f\u200b\u771f\u5b9e\u6027\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u4eff\u771f\u200b\u6a21\u62df\u200b\u5bf9\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u65b9\u9762\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5904\u7406\u200b\uff0c\u200b\u5c06\u200b\u5b83\u4eec\u200b\u4f5c\u4e3a\u200b\u6a21\u578b\u200b\u7684\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u5f97\u200b\u6a21\u578b\u200b\u80fd\u591f\u200b\u52a8\u6001\u200b\u9002\u5e94\u200b\u5e02\u573a\u200b\u7684\u200b\u53d8\u5316\u200b\u3002\u200b\u901a\u8fc7\u200b\u5c06\u200b\u751f\u4ea7\u6210\u672c\u200b\u548c\u200b\u552e\u4ef7\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u8ba9\u200b\u6a21\u578b\u200b\u80fd\u591f\u200b\u5728\u200b\u6a21\u62df\u200b\u7684\u200b\u5e02\u573a\u200b\u73af\u5883\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u63a8\u65ad\u200b\u548c\u200b\u9884\u6d4b\u200b\u3002\u200b\u8fd9\u6837\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u5141\u8bb8\u200b\u6a21\u578b\u200b\u8003\u8651\u200b\u4e0d\u540c\u200b SKU \u200b\u7684\u200b\u6210\u672c\u200b\u548c\u200b\u552e\u4ef7\u200b\u53d8\u5316\u200b\u5bf9\u200b\u5e02\u573a\u200b\u8868\u73b0\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u8fdb\u800c\u200b\u751f\u6210\u200b\u66f4\u200b\u8d34\u8fd1\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u867d\u7136\u200b\u8fd9\u79cd\u200b\u4eff\u771f\u200b\u6a21\u62df\u200b\u65e0\u6cd5\u200b\u5b8c\u5168\u200b\u53d6\u4ee3\u200b\u771f\u5b9e\u200b\u5e02\u573a\u200b\u6570\u636e\u200b\u7684\u200b\u51c6\u786e\u6027\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u4e3a\u200b\u6211\u4eec\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u8fd1\u4f3c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6765\u200b\u8bc4\u4f30\u200b\u548c\u200b\u4f18\u5316\u200b\u4ea7\u54c1\u200b\u548c\u200b\u7b56\u7565\u200b\u3002\u200b\u8fd9\u200b\u4e5f\u200b\u6709\u5229\u4e8e\u200b\u6211\u4eec\u200b\u4e0d\u65ad\u200b\u52aa\u529b\u200b\u6539\u8fdb\u200b\u6a21\u578b\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u66f4\u597d\u200b\u5730\u200b\u53cd\u6620\u200b\u771f\u5b9e\u200b\u5e02\u573a\u200b\u7684\u200b\u590d\u6742\u6027\u200b\u548c\u200b\u53d8\u5316\u200b\u6027\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/replenishment-optimization/#\u6ed1\u52a8\u7a97\u53e3\u9884\u6d4b","title":"\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u9884\u6d4b","text":"<p>\u200b\u5728\u200b\u539f\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\uff0c\u200b\u4f9b\u5e94\u94fe\u200b\u4f18\u5316\u200b\u95ee\u9898\u200b\u4e5f\u200b\u6d89\u53ca\u200b\u5230\u200b\u5173\u4e8e\u200b\u8865\u8d27\u200b\u7684\u200b\u6ede\u540e\u200b\u671f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u52a0\u5165\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u9884\u6d4b\u200b\u5bf9\u200b\u63d0\u9ad8\u200b\u6a21\u578b\u200b\u5b9e\u7528\u6027\u200b\u4e5f\u200b\u5341\u5206\u200b\u91cd\u8981\u200b\u3002\u200b\u8fd9\u4e00\u200b\u6280\u672f\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u9884\u6d4b\u200b\u672a\u6765\u200b\u67d0\u4e2a\u200b\u65f6\u95f4\u6bb5\u200b\uff08\u200b\u5982\u200b\u4e00\u5468\u200b\u3001\u200b\u4e00\u4e2a\u6708\u200b\u7b49\u200b\uff09\u200b\u5185\u200b\u5de5\u5382\u200b\u7684\u200b\u751f\u4ea7\u200b\u8865\u8d27\u200b\u60c5\u51b5\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u76ee\u524d\u200b\u7531\u4e8e\u200b\u6a21\u578b\u200b\u548c\u200b\u73b0\u6709\u200b\u6570\u636e\u200b\u7684\u200b\u9650\u5236\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c1a\u200b\u65e0\u6cd5\u200b\u5b9e\u73b0\u200b\u6ed1\u52a8\u200b\u9884\u6d4b\u200b\u3002 \u200b\u5b9e\u65bd\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u9884\u6d4b\u200b\u9700\u8981\u200b\u5145\u8db3\u200b\u7684\u200b\u5386\u53f2\u6570\u636e\u200b\u4ee5\u53ca\u200b\u9002\u5f53\u200b\u7684\u200b\u6a21\u578b\u200b\u67b6\u6784\u200b\u548c\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u8981\u6c42\u200b\u53ef\u80fd\u200b\u8d85\u51fa\u200b\u4e86\u200b\u76ee\u524d\u200b\u7684\u200b\u6570\u636e\u200b\u8303\u56f4\u200b\u548c\u200b\u6a21\u578b\u200b\u9009\u62e9\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6536\u96c6\u200b\u5230\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u65ad\u5b8c\u5584\u200b\u6a21\u578b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u4f1a\u200b\u5728\u200b\u6709\u200b\u5145\u8db3\u200b\u6570\u636e\u200b\u7684\u200b\u524d\u63d0\u200b\u4e0b\u200b\u8fdb\u4e00\u6b65\u200b\u505a\u51fa\u200b\u5ef6\u5c55\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6a21\u578b\u200b\u80fd\u591f\u200b\u66f4\u200b\u51c6\u786e\u200b\u5730\u200b\u9884\u6d4b\u200b\u672a\u6765\u200b\u65f6\u95f4\u6bb5\u200b\u5185\u200b\u7684\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u8865\u8d27\u200b\u60c5\u51b5\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u66f4\u200b\u6709\u200b\u9488\u5bf9\u6027\u200b\u7684\u200b\u51b3\u7b56\u200b\u652f\u6301\u200b\u3002</p>","tags":["\u8fd0\u7b79\u5b66"]},{"location":"blog/plot-animation/","title":"<code>matplotlib</code> \u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\u2014\u2014\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u53ef\u89c6\u5316","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b <code>matplotlib</code> \u200b\u5b9e\u73b0\u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\u548c\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u7684\u200b\u53d8\u5316\u200b\u60c5\u51b5\u200b\u3002</p> <p></p> <p>\u200b\u672c\u6587\u200b\u90e8\u5206\u200b\u4ee3\u7801\u200b\u53c2\u8003\u200b\u4e86\u200b\u300a\u200b\u52a8\u624b\u200b\u5b66\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u300b\u200b\u7684\u200b <code>utils.py</code> \u200b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/plot-animation/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import numpy as np\nfrom IPython import display\nfrom matplotlib import pyplot as plt\nfrom matplotlib_inline import backend_inline\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/plot-animation/#\u5b9a\u4e49\u8f85\u52a9\u51fd\u6570\u548c-animator-\u7c7b","title":"\u5b9a\u4e49\u200b\u8f85\u52a9\u200b\u51fd\u6570\u200b\u548c\u200b Animator \u200b\u7c7b","text":"Python<pre><code>def use_svg_display():\n\"\"\"Use the svg format to display a plot in Jupyter.\"\"\"\nbackend_inline.set_matplotlib_formats(\"svg\")\ndef set_axes(axes, xlabel, ylabel, xlim, ylim, xscale, yscale, legend):\n\"\"\"Set the axes for matplotlib.\"\"\"\naxes.set_xlabel(xlabel), axes.set_ylabel(ylabel)\naxes.set_xscale(xscale), axes.set_yscale(yscale)\naxes.set_xlim(xlim), axes.set_ylim(ylim)\nif legend:\naxes.legend(legend)\naxes.grid()\nclass Animator:\n\"\"\"For plotting data in animation.\"\"\"\ndef __init__(\nself,\nxlabels=[None, None],\nylabels=[None, None],\nlegends=[None, None],\nxlims=[None, None],\nylims=[None, None],\nxscales=[\"linear\", \"linear\"],\nyscales=[\"linear\", \"linear\"],\nfmts=[\"c--\", \"m\", \"g--\", \"r\"],\nnrows=1,\nncols=2,\nfigsize=(10, 4),\n):\n# \u200b\u4ee5\u200b svg \u200b\u77e2\u91cf\u56fe\u200b\u683c\u5f0f\u200b\u663e\u793a\u200b\nuse_svg_display()\n# Incrementally plot multiple lines\nif legends is None:\nlegends = [[], []]\nself.fig, self.axes = plt.subplots(nrows, ncols, figsize=figsize)\n# Use a lambda function to capture arguments\nself.config_axes = lambda: (\nset_axes(\nself.axes[0],\nxlabels[0],\nylabels[0],\nxlims[0],\nylims[0],\nxscales[0],\nyscales[0],\nlegends[0],\n),\nset_axes(\nself.axes[1],\nxlabels[1],\nylabels[1],\nxlims[1],\nylims[1],\nxscales[1],\nyscales[1],\nlegends[1],\n),\n)\nself.X, self.Y, self.fmts = None, None, fmts\ndef add(self, x, y):\n# Add multiple data points into the figure\nif not hasattr(y, \"__len__\"):\ny = [y]\nn = len(y)\nif not hasattr(x, \"__len__\"):\nx = [x] * n\nif not self.X:\nself.X = [[] for _ in range(n)]\nif not self.Y:\nself.Y = [[] for _ in range(n)]\n# \u200b\u6dfb\u52a0\u200b\u65b0\u200b\u6570\u636e\u200b\nfor i, (a, b) in enumerate(zip(x, y)):\nif a is not None and b is not None:\nself.X[i].append(a)\nself.Y[i].append(b)\n# \u200b\u6e05\u9664\u200b\u5750\u6807\u8f74\u200b\u4e0a\u200b\u7684\u200b\u6240\u6709\u200b\u5185\u5bb9\u200b\nself.axes[0].cla()\nself.axes[1].cla()\n# \u200b\u7ed8\u5236\u200b\u56fe\u50cf\u200b\nfor i, (x, y, fmt) in enumerate(zip(self.X, self.Y, self.fmts)):\nif i &lt; 2:\nself.axes[0].plot(x, y, fmt)\nelse:\nself.axes[1].plot(x, y, fmt)\n# \u200b\u914d\u7f6e\u200b\u56fe\u5f62\u200b\u53c2\u6570\u200b\nself.config_axes()\n# \u200b\u663e\u793a\u200b\u56fe\u50cf\u200b\ndisplay.display(self.fig)\n# \u200b\u5f53\u200b\u8f93\u51fa\u200b\u5185\u5bb9\u200b\u6709\u200b\u66f4\u65b0\u200b\u65f6\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u65e7\u200b\u7684\u200b\u8f93\u51fa\u200b\u5185\u5bb9\u200b\u5168\u90e8\u200b\u6e05\u9664\u200b\ndisplay.clear_output(wait=True)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/plot-animation/#\u521b\u5efa\u793a\u4f8b\u6570\u636e\u6f14\u793a\u52a8\u6001\u7ed8\u56fe\u8fc7\u7a0b","title":"\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\uff0c\u200b\u6f14\u793a\u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\u8fc7\u7a0b","text":"Python<pre><code>n_epochs = 30\n# \u200b\u5b9a\u4e49\u200b\u53ef\u89c6\u5316\u200b\u5b9e\u4f8b\u200b\nanimator = Animator(\nxlabels=[\"epoch\", \"epoch\"],\nlegends=[[\"train loss\", \"valid loss\"], [\"train metric\", \"valid metric\"]],\nxlims=[[1, n_epochs], [1, n_epochs]],\nylims=[[0, 20], [0, 20]],\n)\nfor step in range(1, n_epochs + 1):\ntrain_loss, train_score = (-3 * np.log(step) + 15, 3 * np.log(step))\nval_loss, val_score = (-2 * np.log(step) + 15, 2 * np.log(step))\n# \u200b\u52a8\u6001\u200b\u5730\u200b\u7ed8\u5236\u200b\u635f\u5931\u200b\u503c\u200b\u548c\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u7684\u200b\u6298\u7ebf\u56fe\u200b\nanimator.add(step, (train_loss, val_loss, train_score, val_score))\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"blog/gru/","title":"\u6df1\u5165\u200b\u7406\u89e3\u200b GRU \u200b\u53ca\u5176\u200b PyTorch \u200b\u5b9e\u73b0","text":"<p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b GRU \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\uff0c\u200b\u68b3\u7406\u200b\u4e86\u200b GRU \u200b\u7684\u200b\u524d\u200b\u5411\u200b\u4f20\u64ad\u200b\u5173\u7cfb\u200b\uff0c\u200b\u5373\u200b \\(t-1\\) \u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b \\(h_{t-1}\\)\u3001\\(t\\) \u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u8f93\u5165\u200b \\(x_t\\)\u3001\u200b\u66f4\u65b0\u200b\u95e8\u200b \\(z_t\\)\u3001\u200b\u91cd\u7f6e\u200b\u95e8\u200b \\(r_t\\) \u200b\u548c\u200b \\(t\\) \u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b\u8f93\u51fa\u200b \\(h_t\\) \u200b\u4e4b\u95f4\u200b\u662f\u200b\u5982\u4f55\u200b\u8f6c\u6362\u200b\u7684\u200b\u3002\u200b\u4e3a\u4e86\u200b\u66f4\u597d\u200b\u5730\u200b\u7406\u89e3\u200b GRU\uff0c\u200b\u672c\u6587\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5404\u4e2a\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\u5927\u5c0f\u200b\u5173\u7cfb\u200b\u7684\u200b\u6570\u503c\u200b\u793a\u4f8b\u200b\u3002\u200b\u6700\u540e\u200b\uff0c\u200b\u672c\u6587\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4f7f\u7528\u200b PyTorch \u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b 2 \u200b\u5c42\u200b GRU \u200b\u6a21\u578b\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> <p></p> <p>Gated Recurrent Unit (GRU) \u200b\u662f\u200b\u7531\u200b Cho, et al. (2014)<sup>1</sup> \u200b\u63d0\u51fa\u200b\u7684\u200b\u4e00\u79cd\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u7f13\u89e3\u200b\u6807\u51c6\u200b\u7684\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff08RNN\uff09\u200b\u5b58\u5728\u200b\u7684\u200b\u68af\u5ea6\u200b\u6d88\u5931\u200b\u95ee\u9898\u200b\u3002GRU \u200b\u548c\u200b LSTM \u200b\u6709\u7740\u200b\u76f8\u4f3c\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u601d\u8def\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u4e00\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4e24\u8005\u200b\u786e\u5b9e\u200b\u80fd\u591f\u200b\u5f97\u5230\u200b\u540c\u6837\u200b\u597d\u200b\u7684\u200b\u6548\u679c\u200b\u3002\u200b\u672c\u6587\u200b\u5c06\u200b\u4ecb\u7ecd\u200b GRU \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784\u200b\uff0c\u200b\u5bf9\u200b RNN \u200b\u548c\u200b LSTM \u200b\u7684\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b How Recurrent Neural Networks work \u200b\u548c\u200b Understanding LSTM Networks\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#gru-\u7684\u7f51\u7edc\u7ed3\u6784","title":"GRU \u200b\u7684\u200b\u7f51\u7edc\u7ed3\u6784","text":"<p>GRU \u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u662f\u200b\u6539\u8fdb\u200b\u7248\u672c\u200b\u7684\u200b RNN\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7f13\u89e3\u200b\u6807\u51c6\u200b RNN \u200b\u5b58\u5728\u200b\u7684\u200b\u68af\u5ea6\u200b\u6d88\u5931\u200b\u95ee\u9898\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0cGRU \u200b\u662f\u200b\u901a\u8fc7\u200b\u66f4\u65b0\u200b\u95e8\u200b\uff08Update Gate\uff09\u200b\u548c\u200b\u91cd\u7f6e\u200b\u95e8\u200b\uff08Reset Gate\uff09\u200b\u6765\u200b\u8bb0\u5fc6\u200b\u957f\u671f\u200b\u4fe1\u606f\u200b\u7684\u200b\u3002\u200b\u4e0b\u56fe\u200b\u662f\u200b GRU \u200b\u7684\u200b\u6574\u4f53\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u3002</p> <p> </p> GRU \u200b\u5728\u200b\u4e0d\u540c\u200b\u65f6\u95f4\u200b\u6b65\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8f93\u5165\u200b\u4e0e\u200b\u8f93\u51fa\u200b\u6d41\u7a0b\u200b <p>GRU \u200b\u5728\u200b\u4e0d\u540c\u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u7f51\u7edc\u200b\u53c2\u6570\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b</p> <p>\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff08RNN\uff09\u200b\u4e2d\u200b\uff0c RNN \u200b\u5728\u200b\u4e0d\u540c\u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u53c2\u6570\u200b\u901a\u5e38\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\u3002\u200b\u6bcf\u4e2a\u200b RNN \u200b\u5757\u200b\u90fd\u200b\u7531\u200b\u76f8\u540c\u200b\u7684\u200b\u6743\u91cd\u200b\u77e9\u9635\u200b\u548c\u200b\u504f\u7f6e\u200b\u5411\u91cf\u200b\u7ec4\u6210\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u53c2\u6570\u200b\u5728\u200b\u6574\u4e2a\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u5171\u4eab\u200b\u3002</p> <p>RNN \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u6b65\u200b\u90fd\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u7f51\u7edc\u200b\u5728\u200b\u5904\u7406\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u65f6\u200b\u5177\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u7ed3\u6784\u200b\u548c\u200b\u53c2\u6570\u200b\u3002\u200b\u8fd9\u79cd\u200b\u5171\u4eab\u200b\u53c2\u6570\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f7f\u5f97\u200b RNN \u200b\u80fd\u591f\u200b\u5904\u7406\u200b\u4efb\u610f\u200b\u957f\u5ea6\u200b\u7684\u200b\u5e8f\u5217\u200b\uff0c\u200b\u5e76\u4e14\u200b\u80fd\u591f\u200b\u6355\u6349\u200b\u5e8f\u5217\u200b\u4e2d\u200b\u7684\u200b\u65f6\u95f4\u200b\u76f8\u5173\u6027\u200b\u3002</p> <p>\u200b\u653e\u5927\u200b\u6765\u770b\u200b\uff0c\u200b\u4e00\u4e2a\u200b GRU \u200b\u5757\u200b\u7684\u200b\u5185\u90e8\u7ed3\u6784\u200b\u4e3a\u200b\uff1a</p> <p></p> <p>\u200b\u7b26\u53f7\u200b\u8bf4\u660e\u200b</p> <p></p> <p>\u200b\u54c8\u8fbe\u200b\u59c6\u200b\u4e58\u79ef\u200b</p> <p>\\(\\odot\\) \u200b\u8868\u793a\u200b\u54c8\u8fbe\u200b\u59c6\u200b\u4e58\u79ef\u200b\uff0c\u200b\u5373\u200b\u5bf9\u5e94\u200b\u5143\u7d20\u200b\u76f8\u4e58\u200b\u3002</p> \\[ \\mathbf{a} = \\begin{bmatrix} a_1 \\\\ a_2 \\\\ a_3 \\end{bmatrix}, \\mathbf{b} = \\begin{bmatrix} b_1 \\\\ b_2 \\\\ b_3 \\end{bmatrix}\\\\ \\mathbf{c} = \\mathbf{a} \\odot \\mathbf{b} = \\begin{bmatrix} a_1 \\cdot b_1 \\\\ a_2 \\cdot b_2 \\\\ a_3 \\cdot b_3 \\end{bmatrix} \\] <p>\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u5c06\u200b GRU \u200b\u7684\u200b\u5185\u90e8\u7ed3\u6784\u200b\u8fdb\u884c\u200b\u62c6\u89e3\u200b\uff0c\u200b\u5e76\u7528\u200b\u6570\u503c\u200b\u793a\u4f8b\u200b\u7406\u89e3\u200b\u5404\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\u5927\u5c0f\u200b\u5173\u7cfb\u200b\u4e0e\u200b\u8fd0\u7b97\u200b\u5173\u7cfb\u200b\u3002\u200b\u6211\u4eec\u200b\u5047\u8bbe\u200b\u5404\u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u8f93\u5165\u200b \\(x\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u5747\u200b\u4e3a\u200b \\(30\\times1\\)\uff0c\u200b\u5404\u200b\u9690\u85cf\u200b\u5c42\u200b\u8f93\u51fa\u200b \\(h\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u5747\u200b\u4e3a\u200b \\(64\\times 1\\)\u3002</p> <p>\u200b\u5728\u200b PyTorch \u200b\u4e2d\u200b\uff0c\u200b\u8f93\u5165\u200b \\(x\\) \u200b\u7684\u200b\u7ef4\u6570\u7528\u200b <code>input_size</code> \u200b\u8868\u793a\u200b\uff0c\u200b\u9690\u85cf\u200b\u5c42\u200b\u7684\u200b\u7ef4\u6570\u7528\u200b <code>hidden_size</code> \u200b\u8868\u793a\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u66f4\u65b0\u95e8","title":"\u66f4\u65b0\u200b\u95e8","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u7ed3\u6784\u56fe","title":"\u7ed3\u6784\u56fe","text":"<p>\u200b\u66f4\u65b0\u200b\u95e8\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ed3\u6784\u200b\u662f\u200b\uff1a</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u516c\u5f0f","title":"\u516c\u5f0f","text":"<p>\u200b\u65f6\u95f4\u200b\u6b65\u200b \\(t\\) \u200b\u7684\u200b\u8f93\u5165\u200b \\(x_t\\)\uff0c\u200b\u4e0e\u200b \\(t-1\\) \u200b\u6b65\u200b\u7684\u200b\u9690\u85cf\u200b\u5c42\u200b\u8f93\u51fa\u200b \\(h_{t-1}\\)\uff0c\u200b\u5206\u522b\u200b\u4e0e\u200b\u5404\u81ea\u200b\u7684\u200b\u6743\u91cd\u200b\u77e9\u9635\u200b\u76f8\u4e58\u200b\u540e\u200b\u518d\u200b\u76f8\u52a0\u200b\uff0c\u200b\u6700\u540e\u200b\u8f93\u5165\u200b\u5230\u200b Sigmoid \u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u66f4\u65b0\u200b\u95e8\u200b\u3002</p> \\[ z_t=\\sigma\\left(W^{(z)} x_t+U^{(z)} h_{t-1}\\right)\\tag{1}\\label{1} \\] <p>\u200b\u7531\u4e8e\u200b\u540e\u7eed\u200b \\(z_t\\) \u200b\u9700\u8981\u200b\u4e0e\u200b \\(h_{t-1}\\) \u200b\u8fdb\u884c\u200b\u5bf9\u5e94\u200b\u5143\u7d20\u200b\u76f8\u4e58\u200b\uff08\u200b\u54c8\u8fbe\u200b\u59c6\u200b\u4e58\u79ef\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b \\(z_t\\) \u200b\u548c\u200b \\(h_{t-1}\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u76f8\u540c\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b \\(64\\times 1\\)\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\\(W^{(z)}\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 30\\)\uff0c\\(U^{(z)}\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 64\\)\u3002</p> <p>\u200b\u6b63\u786e\u7406\u89e3\u200b\u5404\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b</p> <p>\u200b\u5173\u4e8e\u200b GRU \u200b\u7f51\u7edc\u200b\u4e2d\u200b\u5404\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://stats.stackexchange.com/a/501784/\u3002</p> <p></p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u4f5c\u7528","title":"\u4f5c\u7528","text":"<p>\u200b\u66f4\u65b0\u200b\u95e8\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u5e2e\u52a9\u200b\u6a21\u578b\u200b\u5224\u65ad\u200b\uff1a\u200b\u5e94\u8be5\u200b\u5c06\u200b\u591a\u5c11\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\u5e26\u5230\u200b\u672a\u6765\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u5728\u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u90e8\u5206\u200b\u6df1\u5165\u200b\u7406\u89e3\u200b\u66f4\u65b0\u200b\u95e8\u200b\u7684\u200b\u4f5c\u7528\u200b\uff08\\(z_t\\) \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u4e8e\u200b 1\uff0c\u200b\u5219\u200b\u6a21\u578b\u200b\u4f1a\u200b\u503e\u5411\u200b\u4e8e\u200b\u4fdd\u7559\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b\u66f4\u200b\u5c11\u7528\u200b\u6700\u65b0\u200b\u7684\u200b\u8f93\u5165\u200b \\(x_t\\)\uff09\u3002\u200b\u73b0\u5728\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u8bb0\u4f4f\u200b\u66f4\u65b0\u200b\u95e8\u200b \\(z_t\\) \u200b\u7684\u200b\u516c\u5f0f\u200b\u5373\u53ef\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u91cd\u7f6e\u95e8","title":"\u91cd\u7f6e\u200b\u95e8","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u7ed3\u6784\u56fe_1","title":"\u7ed3\u6784\u56fe","text":"<p>\u200b\u91cd\u7f6e\u200b\u95e8\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ed3\u6784\u200b\u662f\u200b\uff1a</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u516c\u5f0f_1","title":"\u516c\u5f0f","text":"<p>\u200b\u65f6\u95f4\u200b\u6b65\u200b \\(t\\) \u200b\u7684\u200b\u8f93\u5165\u200b \\(x_t\\)\uff0c\u200b\u4e0e\u200b \\(t-1\\) \u200b\u6b65\u200b\u7684\u200b\u9690\u85cf\u200b\u5c42\u200b\u8f93\u51fa\u200b \\(h_{t-1}\\)\uff0c\u200b\u5206\u522b\u200b\u4e0e\u200b\u5404\u81ea\u200b\u7684\u200b\u6743\u91cd\u200b\u77e9\u9635\u200b\u76f8\u4e58\u200b\u540e\u200b\u518d\u200b\u76f8\u52a0\u200b\uff0c\u200b\u6700\u540e\u200b\u8f93\u5165\u200b\u5230\u200b Sigmoid \u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u91cd\u7f6e\u200b\u95e8\u200b\u3002 \u200b\u6ce8\u610f\u200b\uff0c\u200b\u867d\u7136\u200b\u8ba1\u7b97\u200b\u91cd\u7f6e\u200b\u95e8\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e0e\u200b\u8ba1\u7b97\u200b\u66f4\u65b0\u200b\u95e8\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5f88\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u4f46\u200b\u4e24\u8005\u200b\u4f7f\u7528\u200b\u7684\u200b\u6743\u91cd\u200b\u77e9\u9635\u200b\u5e76\u4e0d\u76f8\u540c\u200b\u3002</p> \\[ r_t=\\sigma\\left(W^{(r)} x_t+U^{(r)} h_{t-1}\\right)\\tag{2}\\label{2} \\] <p>\u200b\u4e0e\u200b\u4e0a\u6587\u200b\u7684\u200b\u7ef4\u6570\u200b\u5173\u7cfb\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u7531\u4e8e\u200b\u540e\u7eed\u200b \\(r_t\\) \u200b\u9700\u8981\u200b\u4e0e\u200b \\(U h_{t-1}\\) \u200b\u8fdb\u884c\u200b\u5bf9\u5e94\u200b\u5143\u7d20\u200b\u76f8\u4e58\u200b\uff08\u200b\u54c8\u8fbe\u200b\u59c6\u200b\u4e58\u79ef\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b \\(r_t\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 1\\)\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\\(W^{(r)}\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 30\\)\uff0c\\(U^{(r)}\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 64\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u4f5c\u7528_1","title":"\u4f5c\u7528","text":"<p>\u200b\u91cd\u7f6e\u200b\u95e8\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u5e2e\u52a9\u200b\u6a21\u578b\u200b\u5224\u65ad\u200b\uff1a\u200b\u5e94\u8be5\u200b\u4fdd\u7559\u200b\u591a\u5c11\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\u3002\u200b\u5728\u200b\u516c\u5f0f\u200b \\(\\eqref{3}\\) \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\\(r_t\\) \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u8d8a\u200b\u63a5\u8fd1\u200b\u4e8e\u200b 1\uff0c\u200b\u5219\u200b\u6a21\u578b\u200b\u4f1a\u200b\u503e\u5411\u200b\u4e8e\u200b\u4fdd\u7559\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u5019\u9009\u9690\u72b6\u6001","title":"\u5019\u9009\u200b\u9690\u200b\u72b6\u6001","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u7ed3\u6784\u56fe_2","title":"\u7ed3\u6784\u56fe","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u516c\u5f0f_2","title":"\u516c\u5f0f","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u5c06\u200b\u770b\u5230\u200b\u91cd\u7f6e\u200b\u95e8\u200b\u7a76\u7adf\u200b\u662f\u200b\u5982\u4f55\u200b\u5f71\u54cd\u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u7684\u200b\u3002\u200b\u5728\u200b\u5f97\u5230\u200b\u91cd\u7f6e\u200b\u95e8\u200b \\(r_t\\) \u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5229\u7528\u200b\u5982\u4e0b\u200b\u516c\u5f0f\u200b\u5f97\u5230\u200b\u5019\u9009\u200b\u9690\u200b\u72b6\u6001\u200b\uff1a</p> \\[ h_t^{\\prime}=\\tanh \\left(W x_t+r_t \\odot U h_{t-1}\\right)\\tag{3}\\label{3} \\] <p>\u200b\u5982\u679c\u200b\u6a21\u578b\u200b\u503e\u5411\u200b\u4e8e\u200b\u4fdd\u7559\u200b\u66f4\u5c11\u200b\u7684\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5c06\u200b \\(r_t\\) \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u66f4\u65b0\u200b\u4e3a\u200b\u63a5\u8fd1\u200b\u4e8e\u200b 0\u3002</p> <p>\u200b\u4e0e\u200b\u4e0a\u6587\u200b\u5206\u6790\u200b\u7c7b\u4f3c\u200b\uff0c\\(W\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 30\\)\uff0c\\(U\\) \u200b\u7684\u200b\u7ef4\u6570\u200b\u662f\u200b \\(64 \\times 64\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u4f5c\u7528_2","title":"\u4f5c\u7528","text":"<p>\u200b\u5019\u9009\u200b\u9690\u200b\u72b6\u6001\u200b\u5c06\u4f1a\u200b\u4e0e\u200b \\(1-z_t\\) \u200b\u76f8\u4e58\u200b\u540e\u200b\u4f5c\u4e3a\u200b\u6a21\u578b\u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u6700\u7ec8\u8f93\u51fa","title":"\u6700\u7ec8\u200b\u8f93\u51fa","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u7ed3\u6784\u56fe_3","title":"\u7ed3\u6784\u56fe","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u516c\u5f0f_3","title":"\u516c\u5f0f","text":"<p>\u200b\u6700\u7ec8\u200b\uff0c\u200b\u6a21\u578b\u200b\u901a\u8fc7\u200b\u66f4\u65b0\u200b\u95e8\u200b\u51b3\u5b9a\u200b\uff1a\u200b\u4ece\u200b\u5019\u9009\u200b\u9690\u200b\u72b6\u6001\u200b\u83b7\u53d6\u200b\u591a\u5c11\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4ece\u200b\u4e0a\u200b\u4e00\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b\u83b7\u53d6\u200b\u591a\u5c11\u200b\u4fe1\u606f\u200b\u3002</p> \\[ h_t=z_t \\odot h_{t-1}+\\left(1-z_t\\right) \\odot h_t^{\\prime}\\tag{4}\\label{4} \\] <ol> <li>\u200b\u66f4\u65b0\u200b\u95e8\u200b \\(z_t\\) \u200b\u9996\u5148\u200b\u4e0e\u200b\u4e0a\u200b\u4e00\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b \\(h_{t-1}\\) \u200b\u8fdb\u884c\u200b\u9010\u200b\u5143\u7d20\u200b\u76f8\u4e58\u200b\uff0c\u200b\u5373\u200b \\(z_t \\odot h_{t-1}\\)\u3002</li> <li>\\(1-z_t\\) \u200b\u4e0e\u200b\u5019\u9009\u200b\u9690\u200b\u72b6\u6001\u200b \\(h_t^{\\prime}\\) \u200b\u8fdb\u884c\u200b\u9010\u200b\u5143\u7d20\u200b\u76f8\u4e58\u200b\uff0c\u200b\u5373\u200b \\((1-z_t) \\odot h_t^{\\prime}\\)\u3002</li> <li>\u200b\u5c06\u200b\u4e0a\u8ff0\u200b\u4e24\u6b65\u200b\u7684\u200b\u7ed3\u679c\u200b\u76f8\u52a0\u200b\uff0c\u200b\u5373\u200b\u5f97\u5230\u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4f5c\u4e3a\u200b \\(t\\) \u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b\u8f93\u51fa\u200b\u3002</li> </ol> <p>\u200b\u516c\u5f0f\u200b \\(\\eqref{4}\\) \u200b\u4e2d\u200b\uff0c\u200b\u6240\u6709\u200b\u5f20\u91cf\u200b\u7684\u200b\u7ef4\u6570\u200b\u90fd\u200b\u662f\u200b \\(64\\times 64\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#\u4f5c\u7528_3","title":"\u4f5c\u7528","text":"<p>\\(t\\) \u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b\u8f93\u51fa\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b \\(t+1\\) \u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u9690\u200b\u72b6\u6001\u200b\u8f93\u5165\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/gru/#pytorch-\u5b9e\u73b0","title":"PyTorch \u200b\u5b9e\u73b0","text":"<p>\u200b\u672c\u200b\u8282\u200b\u6211\u4eec\u200b\u5c06\u200b\u7528\u200b PyTorch \u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b 2 \u200b\u5c42\u200b\u7684\u200b GRU \u200b\u6a21\u578b\u200b\uff0c\u200b\u5176\u200b\u7ed3\u6784\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b 2 \u200b\u5c42\u200b GRU \u200b\u6a21\u578b\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8f93\u5165\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b 30\uff0c\u200b\u9690\u85cf\u200b\u5c42\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b 64\uff0c\u200b\u540c\u65f6\u200b\u8bbe\u7f6e\u200b<code>batch_first=True</code>\uff1a</p> Python<pre><code>import torch\nimport torch.nn as nn\nclass GRUModel(nn.Module):\ndef __init__(\nself,\ninput_size,\nhidden_size,\nnum_layers,\noutput_size,\n):\nsuper(GRUModel, self).__init__()\nself.hidden_size = hidden_size\nself.num_layers = num_layers\nself.gru = nn.GRU(\ninput_size,\nhidden_size,\nnum_layers,  # (1)!\nbatch_first=True,  # (2)!\n)\nself.fc = nn.Linear(hidden_size, output_size)  # output_size \u200b\u4e3a\u200b\u8f93\u51fa\u200b\u7684\u200b\u7ef4\u5ea6\u200b\ndef forward(self, input):\noutput, _ = self.gru(input)\noutput = self.fc(output[:, -1, :])  # \u200b\u53d6\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u6b65\u200b\u7684\u200b\u8f93\u51fa\u200b\nreturn output\n# \u200b\u521b\u5efa\u200b\u6a21\u578b\u200b\u5b9e\u4f8b\u200b\ninput_size = 30\nhidden_size = 64\nnum_layers = 2\noutput_size = 10  # \u200b\u5047\u8bbe\u200b\u5168\u200b\u8fde\u63a5\u200b\u5c42\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ef4\u5ea6\u200b\u4e3a\u200b 10\nmodel = GRUModel(\ninput_size,\nhidden_size,\nnum_layers,\noutput_size,\n)\n</code></pre> <ol> <li> <p>\u200b\u5f53\u200b\u4f7f\u7528\u200b GRU \u200b\u6a21\u578b\u200b\u65f6\u200b\uff0c\u200b\u6709\u65f6\u5019\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u591a\u5c42\u200b\u7684\u200b GRU \u200b\u7ed3\u6784\u200b\u4ee5\u200b\u589e\u52a0\u200b\u6a21\u578b\u200b\u7684\u200b\u8868\u8fbe\u80fd\u529b\u200b\u3002\u200b\u5728\u200b PyTorch \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b<code>num_layers</code>\u200b\u53c2\u6570\u200b\u6765\u200b\u5b9e\u73b0\u200b\u591a\u5c42\u200b GRU\u3002</p> </li> <li> <p>\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b<code>batch_first=True</code>\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u4e2d\u5c06\u200b\u6279\u6b21\u200b\u7ef4\u5ea6\u200b\u653e\u5728\u200b\u7b2c\u4e00\u4e2a\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u8fd9\u6837\u200b\u66f4\u200b\u7b26\u5408\u200b\u5e38\u89c1\u200b\u7684\u200b\u6570\u636e\u200b\u5f62\u72b6\u200b\u3002\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1a</p> <p>batch_first \u2013 If <code>True</code>, then the input and output tensors are provided as (batch, seq, feature) instead of (seq, batch, feature). Note that this does not apply to hidden or cell states. See the Inputs/Outputs sections below for details. Default: <code>False</code></p> </li> </ol> <p>\u200b\u66f4\u200b\u591a\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b PyTorch GRU \u200b\u7684\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p> <ol> <li> <p>Cho K, Van Merri\u00ebnboer B, Gulcehre C, et al. Learning phrase representations using RNN encoder-decoder for statistical machine translation[J]. arXiv preprint arXiv:1406.1078, 2014.\u00a0\u21a9</p> </li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch"]},{"location":"blog/web-scraper-simuwang/","title":"\u4f7f\u7528\u200b Web Scraper \u200b\u722c\u53d6\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u200b\u7684\u200b\u57fa\u91d1\u200b\u6570\u636e","text":"<p>\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u200b\u7684\u200b\u6570\u636e\u200b\u4ec5\u200b\u9488\u5bf9\u200b\u90e8\u5206\u200b\u4eba\u7fa4\u200b\u5f00\u653e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u83b7\u53d6\u6570\u636e\u200b\u65f6\u6709\u200b\u8bf8\u591a\u4e0d\u4fbf\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u7f51\u7ad9\u200b\u9700\u8981\u200b\u7528\u6237\u200b\u767b\u5f55\u200b\u624d\u80fd\u200b\u8bbf\u95ee\u200b\u3001\u200b\u6570\u636e\u200b CSS \u200b\u6837\u5f0f\u200b\u7c7b\u522b\u200b\u540d\u79f0\u200b\u88ab\u200b\u52a0\u5bc6\u200b\u7b49\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u969c\u788d\u200b\u4f7f\u5f97\u200b\u6211\u4eec\u200b\u65e0\u6cd5\u200b\u901a\u8fc7\u200b\u5e38\u89c4\u200b\u7684\u200b\u722c\u866b\u200b\u624b\u6bb5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u83b7\u53d6\u6570\u636e\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u5c1d\u8bd5\u200b\u4e86\u200b\u591a\u79cd\u200b\u65b9\u6cd5\u200b\u722c\u53d6\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5305\u62ec\u200b <code>selenium</code>\u3001\u200b\u6d4f\u89c8\u5668\u200b\u5de5\u4f5c\u200b\u6d41\u200b\u81ea\u52a8\u5316\u200b\u7684\u200b Automa \u200b\u63d2\u4ef6\u200b\u548c\u200b\u5d4c\u5165\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u5f00\u53d1\u8005\u200b\u5de5\u5177\u200b\u7684\u200b Web Scraper \u200b\u63d2\u4ef6\u200b\u3002\u200b\u6700\u7ec8\u200b\u53ef\u884c\u200b\u4e14\u200b\u6613\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u4f7f\u7528\u200b Web Scraper \u200b\u63d2\u4ef6\u200b\uff0c\u200b\u5b83\u200b\u5728\u200b\u5236\u4f5c\u200b\u548c\u200b\u4f7f\u7528\u200b\u722c\u866b\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\u90fd\u200b\u5341\u5206\u200b\u7b80\u4fbf\u200b\u3002</p> <p></p> <p>\u200b\u6ce8\u610f\u4e8b\u9879\u200b</p> <p>\u200b\u672c\u200b\u722c\u866b\u200b\u811a\u672c\u200b\u7684\u200b\u7f16\u5199\u200b\u548c\u200b\u5206\u4eab\u200b\u4ec5\u200b\u65e8\u5728\u200b\u7b80\u5316\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\u548c\u200b\u4fc3\u8fdb\u200b\u8ba1\u7b97\u673a\u6280\u672f\u200b\u4ea4\u6d41\u200b\u3002\u200b\u8be5\u200b\u811a\u672c\u200b\u5e76\u200b\u4e0d\u200b\u5177\u5907\u200b\u5bf9\u200b\u7f51\u7ad9\u200b\u670d\u52a1\u5668\u200b\u9020\u6210\u200b\u7834\u574f\u200b\u6216\u200b\u5e72\u6270\u200b\u7684\u200b\u80fd\u529b\u200b\u3002\u200b\u4efb\u4f55\u4eba\u200b\u5728\u200b\u4f7f\u7528\u200b\u8be5\u200b\u811a\u672c\u200b\u65f6\u6240\u200b\u4ea7\u751f\u200b\u7684\u200b\u540e\u679c\u200b\u4e0e\u200b\u672c\u4eba\u200b\u65e0\u5173\u200b\u3002\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4f7f\u7528\u200b\u722c\u866b\u200b\u5de5\u5177\u200b\u53ef\u80fd\u200b\u6d89\u53ca\u200b\u6cd5\u5f8b\u200b\u98ce\u9669\u200b\u3002\u200b\u5728\u200b\u4f7f\u7528\u200b\u672c\u200b\u811a\u672c\u200b\u4e4b\u524d\u200b\uff0c\u200b\u8bf7\u200b\u786e\u4fdd\u60a8\u200b\u5df2\u7ecf\u200b\u8be6\u7ec6\u200b\u4e86\u89e3\u200b\u5e76\u200b\u9075\u5b88\u200b\u9002\u7528\u200b\u7684\u200b\u6cd5\u5f8b\u6cd5\u89c4\u200b\u548c\u200b\u76f8\u5173\u200b\u89c4\u5b9a\u200b\u3002\u200b\u60a8\u200b\u5e94\u5f53\u200b\u81ea\u884c\u200b\u627f\u62c5\u200b\u4f7f\u7528\u200b\u672c\u200b\u811a\u672c\u200b\u6240\u200b\u5e26\u6765\u200b\u7684\u200b\u4efb\u4f55\u200b\u6cd5\u5f8b\u8d23\u4efb\u200b\u548c\u200b\u98ce\u9669\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#\u5931\u8d25\u65b9\u6cd5\u7b80\u8ff0","title":"\u5931\u8d25\u200b\u65b9\u6cd5\u200b\u7b80\u8ff0","text":"","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#selenium","title":"<code>selenium</code>","text":"<p><code>selenium</code> \u200b\u53ef\u4ee5\u200b\u6a21\u62df\u200b\u4eba\u7c7b\u200b\u6d4f\u89c8\u5668\u200b\u65f6\u200b\u7684\u200b\u52a8\u4f5c\u200b\uff0c\u200b\u914d\u5408\u200b <code>BeautifulSoup</code> \u200b\u7b49\u5e93\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u7f51\u9875\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u63d0\u53d6\u200b\u548c\u200b\u89e3\u6790\u200b\u3002\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b \u200b\u66fe\u200b\u4ecb\u7ecd\u200b\u8fc7\u200b\u4f7f\u7528\u200b <code>selenium</code> \u200b\u722c\u53d6\u200b\u8c46\u74e3\u200b\u6570\u636e\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u5728\u200b\u722c\u200b\u53d6\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u65f6\u200b\uff0c\u200b\u9047\u5230\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u95ee\u9898\u200b\u5c31\u662f\u200b\u9700\u8981\u200b\u7528\u6237\u200b\u767b\u5f55\u200b\u3002\u200b\u672c\u6587\u200b\u6700\u521d\u200b\u7684\u200b\u5b9e\u73b0\u200b\u601d\u8def\u200b\u662f\u200b\uff1a\u200b\u5148\u200b\u624b\u52a8\u200b\u767b\u5f55\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5c06\u200b cookie \u200b\u4fe1\u606f\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u540e\u7eed\u200b\u5373\u200b\u4f7f\u7528\u200b\u5df2\u6709\u200b\u7684\u200b cookie \u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u767b\u5f55\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u200b\u4e5f\u8bb8\u200b\u80fd\u591f\u200b\u8bc6\u522b\u200b\u51fa\u200b\u7528\u6237\u200b\u5f53\u524d\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u5f00\u53d1\u200b\u6d4b\u8bd5\u200b\u7528\u200b\u7684\u200b <code>chromedrive</code>\uff0c\u200b\u5b83\u200b\u5e76\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u5728\u200b\u8fd9\u7c7b\u200b\u4e0d\u200b\u6b63\u5e38\u200b\u7684\u200b\u73af\u5883\u200b\u4e0b\u200b\u767b\u5f55\u200b\uff0c\u200b\u5177\u4f53\u200b\u4f53\u73b0\u200b\u4e3a\u200b\uff1a\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\u767b\u5f55\u200b\u65f6\u200b\u7684\u200b\u53f3\u200b\u6ed1\u200b\u9a8c\u8bc1\u200b\u6c38\u8fdc\u200b\u5931\u8d25\u200b\u3001\u200b\u624b\u673a\u200b\u626b\u63cf\u200b\u4e8c\u7ef4\u7801\u200b\u767b\u5f55\u200b\u65f6\u200b\u63d0\u793a\u200b\u4e8c\u7ef4\u7801\u200b\u65e0\u6548\u200b\u7b49\u7b49\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#automa","title":"Automa","text":"<p>Automa \u200b\u662f\u200b\u4e00\u6b3e\u200b\u6d4f\u89c8\u5668\u200b\u5de5\u4f5c\u200b\u6d41\u200b\u81ea\u52a8\u5316\u200b\u7684\u200b\u63d2\u4ef6\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u505a\u200b\u8bb8\u591a\u200b\u91cd\u590d\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u4e5f\u200b\u5305\u62ec\u200b\u722c\u866b\u200b\uff0c\u200b\u4f8b\u5982\u200b YouTube \u200b\u6559\u7a0b\u200b\u2014\u2014\u200b\u65b0\u624b\u200b\u5982\u4f55\u200b\u96f6\u200b\u4ee3\u7801\u200b\u722c\u53d6\u200b\u5929\u5929\u200b\u57fa\u91d1\u200b\u7f51\u200b |  AutoMa \u200b\u63d2\u4ef6\u200b\u6559\u7a0b\u200b 01\u3002</p> <p>\u200b\u6211\u200b\u6309\u7167\u200b\u8be5\u200b\u89c6\u9891\u6559\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u786e\u5b9e\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5929\u5929\u200b\u57fa\u91d1\u200b\u7f51\u4e2d\u200b\u83b7\u53d6\u200b\u5230\u200b\u5e72\u51c0\u200b\u7684\u200b\u8868\u683c\u200b\u6570\u636e\u200b\uff0c\u200b\u4f46\u200b\u5e94\u7528\u200b\u5230\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u65f6\u200b\u5c31\u200b\u5931\u6548\u200b\u4e86\u200b\u3002\u200b\u5177\u4f53\u200b\u4f53\u73b0\u200b\u4e3a\u200b\uff1a\u200b\u5728\u200b\u83b7\u53d6\u200b\u6587\u672c\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u6570\u636e\u200b\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b CSS \u200b\u6837\u5f0f\u200b\u7c7b\u522b\u200b\uff0c\u200b\u7528\u200b Automa \u200b\u83b7\u53d6\u200b\u5230\u200b\u7684\u200b CSS \u200b\u6837\u5f0f\u200b\u7c7b\u522b\u200b\u5f88\u96be\u200b\u8c03\u8bd5\u200b\u5230\u200b\u6b63\u786e\u200b\u3002\u200b\u5728\u200b\u6267\u884c\u200b\u5de5\u4f5c\u200b\u6d41\u200b\u65f6\u200b\uff0c\u200b\u603b\u4f1a\u200b\u5361\u200b\u5728\u200b\u201c\u200b\u83b7\u53d6\u200b\u6587\u672c\u200b\u201d\u200b\u8fd9\u200b\u4e00\u6b65\u200b\uff0c\u200b\u5176\u200b\u6839\u672c\u539f\u56e0\u200b\u5c31\u662f\u200b Automa \u200b\u4e0d\u200b\u77e5\u9053\u200b\u5bf9\u5e94\u200b\u5143\u7d20\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#web-scraper","title":"Web Scraper","text":"<p>Web Scraper \u200b\u662f\u200b\u4e00\u6b3e\u200b\u4e13\u95e8\u200b\u7528\u4e8e\u200b\u722c\u866b\u200b\u7684\u200b\u6d4f\u89c8\u5668\u200b\u63d2\u4ef6\u200b\u3002\u200b\u4f7f\u7528\u200b\u5b83\u200b\u65f6\u200b\u9700\u8981\u200b\u6309\u200b F12 \u200b\u6253\u5f00\u200b\u5f00\u53d1\u8005\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5728\u200b\u6700\u200b\u53f3\u4fa7\u200b\u627e\u5230\u200b\u201cWeb Scraper\u201d\u200b\u9009\u9879\u200b\u3002</p> <p></p> <p>\u200b\u8be6\u7ec6\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\uff1a</p> <ol> <li>Web Scraper \u200b\u5b98\u65b9\u200b\u793a\u4f8b\u200b\u2014\u2014\u200b\u722c\u53d6\u200b\u591a\u200b\u5143\u7d20\u200b\uff08\u200b\u5f3a\u70c8\u5efa\u8bae\u200b\u89c2\u770b\u200b\uff0c\u200b\u53ea\u6709\u200b 1 \u200b\u5206\u949f\u200b\u7684\u200b\u6559\u7a0b\u200b\uff0c\u200b\u4f46\u200b\u5173\u952e\u6b65\u9aa4\u200b\u8bb2\u89e3\u200b\u5f97\u200b\u975e\u5e38\u200b\u6e05\u695a\u200b\uff09</li> <li>Bilibili \u200b\u6559\u7a0b\u200b\u2014\u2014Web Scraper \u200b\u722c\u53d6\u200b\u6570\u636e\u200b\u6559\u7a0b\u200b\u3010\u200b\u4e0d\u7528\u200b\u5199\u200b\u4ee3\u7801\u200b\u7684\u200b\u722c\u866b\u200b\uff0c\u200b\u5feb\u901f\u200b\u83b7\u53d6\u6570\u636e\u200b\u3011</li> <li>YouTube \u200b\u6559\u7a0b\u200b\u2014\u2014\u200b\u7528\u200b\u722c\u866b\u200b\u5de5\u5177\u200b\u4ece\u200b\u7f51\u9875\u200b\u4e2d\u200b\u6252\u200b\u6570\u636e\u200b\u5e76\u200b\u5bfc\u5165\u200b Excel \u200b\u8868\u683c\u200b</li> </ol> <p>\u200b\u89c2\u770b\u200b\u5b8c\u200b\u8fd9\u4e9b\u200b\u6559\u7a0b\u200b\u540e\u200b\uff0c\u200b\u6211\u200b\u7684\u200b\u4e00\u4e9b\u200b\u7ecf\u9a8c\u200b\u662f\u200b\uff1a</p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#\u9009\u4e2d\u5927\u8868\u683c","title":"\u9009\u4e2d\u200b\u5927\u200b\u8868\u683c","text":"<p>\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u5927\u200b\u8868\u683c\u200b\uff0c\u200b\u9009\u4e2d\u200b\u5b83\u200b\u7684\u200b <code>selector</code> \u200b\u7684\u200b Type \u200b\u4e3a\u200b <code>Element</code>\uff0c\u200b\u5e76\u4e14\u200b\u8981\u200b\u52fe\u9009\u200b <code>Multiple</code>\u3002\u200b\u5047\u8bbe\u200b\u8fd9\u4e2a\u200b <code>selector</code> \u200b\u540d\u5b57\u200b\u53eb\u505a\u200b <code>fund-data</code>\uff0c\u200b\u5b83\u200b\u7684\u200b Parent Selector \u200b\u662f\u200b\u9ed8\u8ba4\u200b\u7684\u200b <code>_root</code>\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#\u9488\u5bf9\u8868\u683c\u4e2d\u7684\u6bcf\u4e00\u884c","title":"\u9488\u5bf9\u200b\u8868\u683c\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u5927\u200b\u8868\u683c\u200b\u5185\u90e8\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u5148\u200b\u8fdb\u5165\u200b <code>fund-data</code> \u200b\u8fd9\u4e2a\u200b <code>selector</code> \u200b\u5185\u90e8\u200b\uff0c\u200b\u518d\u200b\u65b0\u5efa\u200b\u5b50\u200b <code>selector</code>\u3002\u200b\u5426\u5219\u200b\uff0c\u200b\u5982\u679c\u200b\u63a5\u4e0b\u6765\u200b\u65b0\u5efa\u200b\u7684\u200b <code>selector</code> \u200b\u4e0e\u200b <code>fund-data</code> \u200b\u8fd9\u4e2a\u200b <code>selector</code> \u200b\u540c\u7ea7\u200b\u7684\u8bdd\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6700\u7ec8\u200b\u722c\u53d6\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5e76\u6392\u200b\u3001\u200b\u5e72\u51c0\u200b\u7684\u200b\u3002</p> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u9700\u8981\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u5373\u200b\u6bcf\u200b\u4e00\u5217\u200b\uff09\u200b\u5206\u522b\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b <code>selector</code>\u3002\u200b\u8fd9\u65f6\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b Type \u200b\u4e3a\u200b <code>Text</code>\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u52fe\u9009\u200b<code>Multiple</code>\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u9700\u8981\u200b\u70b9\u51fb\u200b\u5176\u4ed6\u200b\u884c\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u70b9\u51fb\u200b\u7b2c\u4e00\u884c\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u5373\u53ef\u200b\u3002</p> <p></p> <p>\u200b\u91cd\u590d\u200b\u7f16\u5199\u200b\u591a\u4e2a\u200b\u5b50\u200b <code>selector</code>\uff0c\u200b\u5c06\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u90fd\u200b\u7eb3\u5165\u200b\u3002\u200b\u8fd9\u91cc\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0cWeb Scraper \u200b\u5728\u200b\u8bc6\u522b\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u8bc6\u522b\u200b\u51fa\u9519\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6211\u200b\u9009\u4e2d\u200b\u4e86\u200b\u8868\u683c\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\uff0c\u200b\u5b83\u200b\u4f4d\u4e8e\u200b\u7b2c\u200b 3 \u200b\u5217\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5b57\u4f53\u200b\u662f\u200b\u7eff\u8272\u200b\u7684\u200b\u3002\u200b\u8d77\u521d\u200b\uff0cWeb Scraper \u200b\u4f7f\u7528\u200b <code>green</code> \u200b\u6765\u200b\u4e3a\u200b\u5143\u7d20\u200b\u5b9a\u4f4d\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u5bfc\u81f4\u200b\u540e\u7eed\u200b\u6279\u91cf\u200b\u722c\u866b\u200b\u7684\u200b\u65f6\u5019\u200b\u9519\u8bef\u200b\u5730\u200b\u5c06\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u7eff\u8272\u200b\u6587\u672c\u200b\u653e\u5165\u200b\u7b2c\u200b 3 \u200b\u5217\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u8981\u200b\u4ed4\u7ec6\u68c0\u67e5\u200b\uff0c\u200b\u51fa\u73b0\u200b\u9519\u8bef\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u624b\u52a8\u200b\u4fee\u6539\u200b <code>selector</code> \u200b\u7684\u200b\u53c2\u6570\u503c\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#\u8fd0\u884c\u722c\u866b\u7a0b\u5e8f","title":"\u8fd0\u884c\u200b\u722c\u866b\u200b\u7a0b\u5e8f","text":"<p>\u200b\u7f16\u5199\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u70b9\u51fb\u200b <code>Scrape</code> \u200b\u8fd0\u884c\u200b\u722c\u866b\u200b\u7a0b\u5e8f\u200b\u3002</p> <p></p> <p>\u200b\u8fd0\u884c\u200b\u6210\u529f\u200b\u540e\u200b\uff0c\u200b\u5237\u65b0\u200b\u5373\u53ef\u200b\u770b\u5230\u200b\u6700\u65b0\u200b\u83b7\u53d6\u200b\u7684\u200b\u8868\u683c\u200b\u6570\u636e\u200b\u3002</p> <p></p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#\u5bfc\u51fa\u6570\u636e","title":"\u5bfc\u51fa\u200b\u6570\u636e","text":"<p>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6700\u65b0\u200b\u83b7\u53d6\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u5bfc\u51fa\u200b\u4e3a\u200b <code>xlsx</code> \u200b\u6216\u200b <code>csv</code> \u200b\u8868\u683c\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/web-scraper-simuwang/#\u5206\u4eab\u4e0e\u5bfc\u5165\u722c\u866b\u7a0b\u5e8f","title":"\u5206\u4eab\u200b\u4e0e\u200b\u5bfc\u5165\u200b\u722c\u866b\u200b\u7a0b\u5e8f","text":"<p>\u200b\u6211\u4eec\u200b\u7f16\u5199\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u4e00\u6bb5\u200b <code>JSON</code> \u200b\u683c\u5f0f\u200b\u7684\u200b\u6570\u636e\u200b\u3002\uff08\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b jsoncrack \u200b\u67e5\u770b\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u7ec7\u200b\u7ed3\u6784\u200b\u3002\uff09\u200b\u5c06\u200b\u8fd9\u6bb5\u200b <code>JSON</code> \u200b\u683c\u5f0f\u200b\u7684\u200b\u6570\u636e\u200b\u5206\u4eab\u200b\u7ed9\u200b\u4ed6\u4eba\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u5206\u4eab\u200b\u722c\u866b\u200b\u7a0b\u5e8f\u200b\u4e86\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u82e5\u6709\u200b\u73b0\u6210\u200b\u7684\u200b <code>JSON</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5bfc\u5165\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76"]},{"location":"blog/chinese-text-correction/","title":"\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u8bc6\u522b\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u6a21\u578b\u200b\u603b\u7ed3","text":"<p>\u200b\u4e2d\u6587\u200b\u5199\u4f5c\u200b\u662f\u200b\u8bb8\u591a\u200b\u4eba\u200b\u5de5\u4f5c\u200b\u548c\u200b\u751f\u6d3b\u200b\u7684\u200b\u91cd\u8981\u200b\u5185\u5bb9\u200b\u4e4b\u4e00\u200b\uff0c\u200b\u5728\u200b\u5199\u4f5c\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u51c6\u786e\u200b\u7684\u200b\u7528\u8bcd\u200b\u548c\u200b\u6e05\u6670\u200b\u7684\u200b\u53e5\u6cd5\u200b\uff0c\u200b\u80fd\u591f\u200b\u5e2e\u52a9\u200b\u6587\u672c\u200b\u7684\u200b\u9605\u8bfb\u8005\u200b\u5feb\u901f\u200b\u4e14\u200b\u6b63\u786e\u200b\u5730\u200b\u7406\u89e3\u200b\u4f5c\u8005\u200b\u6240\u200b\u8868\u8fbe\u200b\u7684\u200b\u610f\u601d\u200b\u3002\u200b\u5982\u679c\u200b\u4e00\u6bb5\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u5b58\u5728\u200b\u5927\u91cf\u200b\u9519\u5b57\u200b\uff08\u200b\u4f8b\u5982\u200b\u7531\u4e8e\u200b\u4e66\u5199\u200b\u9519\u8bef\u200b\u5bfc\u81f4\u200b\u51fa\u73b0\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u6c49\u5b57\u200b\uff09\u3001\u200b\u522b\u5b57\u200b\uff08\u200b\u6bcf\u4e2a\u200b\u6c49\u5b57\u200b\u90fd\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f46\u200b\u7531\u4e8e\u200b\u5b57\u97f3\u200b\u3001\u200b\u5b57\u5f62\u200b\u76f8\u4f3c\u200b\u4f46\u200b\u610f\u4e49\u200b\u4e0d\u540c\u200b\u800c\u200b\u6df7\u6dc6\u200b\u4e86\u200b\u642d\u914d\u200b\uff09\u200b\u548c\u200b\u8bed\u6cd5\u9519\u8bef\u200b\uff0c\u200b\u8fd9\u200b\u5c06\u200b\u4f7f\u200b\u8bfb\u8005\u200b\u611f\u5230\u200b\u5341\u5206\u200b\u56f0\u60d1\u200b\uff0c\u200b\u5f71\u54cd\u200b\u9605\u8bfb\u200b\u4f53\u9a8c\u200b\u3002</p> <p>\u200b\u5728\u200b\u9519\u522b\u5b57\u200b\u5c42\u9762\u200b\uff0c\u200b\u73b0\u4ee3\u200b\u6570\u5b57\u5316\u200b\u7684\u200b\u6587\u672c\u200b\u5927\u591a\u200b\u7531\u200b\u7528\u6237\u200b\u901a\u8fc7\u200b\u8f93\u5165\u6cd5\u200b\u8fdb\u884c\u200b\u7f16\u8f91\u200b\uff0c\u200b\u8f93\u5165\u6cd5\u200b\u5185\u7f6e\u200b\u8bcd\u5178\u200b\u7684\u200b\u6b63\u786e\u6027\u200b\u4f7f\u5f97\u200b\u6587\u672c\u200b\u4e0d\u6613\u200b\u5f62\u6210\u200b\u9519\u5b57\u200b\uff0c\u200b\u4f46\u200b\u7531\u4e8e\u200b\u8f93\u5165\u200b\u65f6\u200b\u9009\u4e2d\u200b\u6587\u5b57\u200b\u7684\u200b\u758f\u5ffd\u200b\u3001\u200b\u5bf9\u200b\u8bcd\u8bed\u200b\u642d\u914d\u200b\u5177\u6709\u200b\u9519\u8bef\u200b\u7684\u200b\u8ba4\u77e5\u200b\u7b49\u200b\u539f\u56e0\u200b\uff0c\u200b\u522b\u5b57\u200b\u7684\u200b\u95ee\u9898\u200b\u4f9d\u7136\u200b\u7ecf\u5e38\u51fa\u73b0\u200b\u3002\u200b\u5728\u200b\u6b63\u5f0f\u200b\u7684\u200b\u4e66\u9762\u200b\u5199\u4f5c\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u672a\u7ecf\u200b\u7ec4\u7ec7\u200b\u7684\u200b\u3001\u200b\u53e3\u8bed\u5316\u200b\u7684\u200b\u6587\u672c\u200b\u4e5f\u200b\u7ecf\u5e38\u200b\u5bfc\u81f4\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u7684\u200b\u51fa\u73b0\u200b\u3002\u200b\u5728\u200b\u8bed\u6cd5\u200b\u5c42\u9762\u200b\uff0c\u200b\u7531\u4e8e\u200b\u7528\u6237\u200b\u5728\u200b\u6587\u672c\u200b\u8f93\u5165\u6cd5\u200b\uff0c\u200b\u8bed\u97f3\u8f93\u5165\u200b\u6cd5\u200b\u4f7f\u7528\u200b\u4e0a\u200b\u7684\u200b\u968f\u610f\u6027\u200b\uff0c\u200b\u540e\u7eed\u200b\u53c8\u200b\u7f3a\u5c11\u200b\u5ba1\u6838\u200b\uff0c\u200b\u6781\u6613\u200b\u4ea7\u751f\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u5185\u5bb9\u200b\u3002\u200b\u8fd1\u5e74\u6765\u200b\u968f\u7740\u200b\u81ea\u200b\u5a92\u4f53\u200b\u7684\u200b\u70ed\u6f6e\u200b\uff0c\u200b\u4eba\u4eba\u200b\u90fd\u200b\u662f\u200b\u4fe1\u606f\u200b\u7684\u200b\u751f\u4ea7\u8005\u200b\uff0c\u200b\u4e92\u8054\u7f51\u200b\u4e0a\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u7684\u200b\u5185\u5bb9\u200b\u66b4\u589e\u200b\uff0c\u200b\u4f46\u200b\u8bed\u6cd5\u200b\u4e0d\u200b\u901a\u987a\u200b\u7684\u200b\u6587\u672c\u200b\u6781\u5927\u200b\u5f71\u54cd\u200b\u4e86\u200b\u7528\u6237\u200b\u4f53\u9a8c\u200b\u3002</p> <p>\u200b\u4e3a\u200b\u5b9e\u73b0\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u7ea0\u9519\u200b\u3001\u200b\u63d0\u9ad8\u200b\u6c49\u8bed\u200b\u4f7f\u7528\u200b\u7684\u200b\u6b63\u786e\u6027\u200b\uff0c\u200b\u540c\u65f6\u200b\u51cf\u5c11\u200b\u4eba\u5de5\u200b\u6821\u9a8c\u200b\u7684\u200b\u6210\u672c\u200b\uff0c\u200b\u672c\u6587\u200b\u521d\u6b65\u200b\u63a2\u8ba8\u200b\u4e86\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u8bc6\u522b\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u6a21\u578b\u200b\uff0c\u200b\u5305\u62ec\u200b\u5b83\u200b\u7684\u200b\u6838\u5fc3\u200b\u76ee\u6807\u200b\u3001\u200b\u4ece\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5230\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u7684\u200b\u6d41\u7a0b\u200b\u3001\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u6765\u6e90\u200b\u3001\u200b\u4f7f\u7528\u200b\u7684\u200b\u524d\u6cbf\u200b\u6a21\u578b\u200b\u4ee5\u53ca\u200b\u73b0\u6709\u200b\u8bba\u6587\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u6548\u679c\u200b\u7b49\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u6838\u5fc3\u76ee\u6807","title":"\u6838\u5fc3\u200b\u76ee\u6807","text":"<p>\u200b\u9488\u5bf9\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u6838\u5fc3\u200b\u76ee\u6807\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u8bc6\u522b\u200b\u8f93\u5165\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u662f\u5426\u200b\u6709\u200b\u9519\u8bef\u200b\uff0c\u200b\u5373\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u76ee\u6807\u200b\uff1b</li> <li>\u200b\u82e5\u6709\u200b\u9519\u8bef\u200b\uff0c\u200b\u8fdb\u4e00\u6b65\u200b\u7ed9\u51fa\u200b\u9519\u8bef\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f8b\u5982\u200b\u9519\u522b\u5b57\u200b\u3001\u200b\u8bed\u5e8f\u200b\u4e0d\u5f53\u200b\u3001\u200b\u6210\u5206\u200b\u6b8b\u7f3a\u200b\u7b49\u200b\uff1b</li> <li>\u200b\u7ed9\u51fa\u200b\u8bc6\u522b\u200b\u51fa\u200b\u9519\u8bef\u200b\u7684\u200b\u6587\u672c\u200b\u4f4d\u7f6e\u200b\uff1b</li> <li>\u200b\u7ed9\u51fa\u200b\u7ea0\u6b63\u200b\u540e\u200b\u7684\u200b\u6b63\u786e\u200b\u6587\u672c\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u5782\u76f4\u9886\u57df\u5e94\u7528","title":"\u5782\u76f4\u200b\u9886\u57df\u200b\u5e94\u7528","text":"<p>\u200b\u73b0\u6709\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u5728\u200b\u901a\u7528\u200b\u9886\u57df\u200b\u7684\u200b\u8868\u73b0\u200b\u5df2\u7ecf\u200b\u5341\u5206\u200b\u4ee4\u4eba\u6ee1\u610f\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u9488\u5bf9\u200b\u67d0\u4e9b\u200b\u5782\u76f4\u200b\u9886\u57df\u200b\u6784\u5efa\u200b\u7279\u5b9a\u200b\u4efb\u52a1\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6cd5\u5f8b\u200b\u3001\u200b\u533b\u7597\u200b\u7b49\u200b\u4e13\u4e1a\u200b\u9886\u57df\u200b\u5177\u6709\u200b\u5927\u91cf\u200b\u7684\u200b\u8bed\u6599\u200b\u77e5\u8bc6\u5e93\u200b\uff0c\u200b\u4e14\u200b\u8fd9\u4e9b\u200b\u4e13\u4e1a\u200b\u9886\u57df\u200b\u5bf9\u200b\u6587\u672c\u200b\u6b63\u786e\u6027\u200b\u7684\u200b\u8981\u6c42\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u56e0\u6b64\u200b\u540e\u7eed\u200b\u7814\u7a76\u200b\u9002\u5408\u200b\u5bf9\u200b\u8fd9\u4e9b\u200b\u5782\u76f4\u200b\u9886\u57df\u200b\u8fdb\u884c\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u4ee5\u6c42\u200b\u4f7f\u7528\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u6a21\u578b\u200b\u3001\u200b\u66f4\u5c11\u200b\u7684\u200b\u8bad\u7ec3\u200b\u548c\u200b\u63a8\u7406\u200b\u901f\u5ea6\u200b\uff0c\u200b\u8fbe\u5230\u200b\u4e0e\u200b\u901a\u7528\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u63a5\u8fd1\u200b\u751a\u81f3\u200b\u66f4\u597d\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u5e94\u7528\u6d41\u7a0b","title":"\u5e94\u7528\u200b\u6d41\u7a0b","text":"<p>\u200b\u5f53\u200b\u6a21\u578b\u200b\u6784\u5efa\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u8f93\u5165\u200b\u4e00\u6bb5\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u4e00\u5b9a\u200b\u957f\u5ea6\u200b\u9650\u5236\u200b\uff08\u200b\u4f8b\u5982\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 512 \u200b\u4e2a\u5b57\u7b26\u200b\uff09\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\uff0c\u200b\u6a21\u578b\u200b\u5c06\u200b\u5bf9\u200b\u5b57\u7b26\u200b\u8fdb\u884c\u200b\u5d4c\u5165\u200b\u7f16\u7801\u200b\u548c\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u6df1\u5ea6\u200b\u7f51\u7edc\u200b\u6a21\u578b\u200b\u540e\u200b\u8f93\u51fa\u200b\u7ea0\u6b63\u200b\u540e\u200b\u7684\u200b\u6b63\u786e\u200b\u6587\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7f16\u7801\u200b\uff0c\u200b\u6700\u540e\u200b\u5c06\u200b\u7f16\u7801\u200b\u8f6c\u6362\u6210\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e2d\u6587\u200b\u5b57\u7b26\u200b\u3002</p> <p>\u200b\u5c06\u200b\u539f\u59cb\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u540e\u200b\u7684\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u5bf9\u6bd4\u200b\uff0c\u200b\u5373\u200b\u5b8c\u6210\u200b\u4e86\u200b\u5bf9\u200b\u6587\u672c\u200b\u7684\u200b\u9519\u8bef\u200b\u8bc6\u522b\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u3002\u200b\u5173\u4e8e\u200b\u9519\u8bef\u200b\u7c7b\u578b\u200b\u7684\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u80fd\u200b\u8fd8\u200b\u9700\u8981\u200b\u6a21\u578b\u200b\u5177\u6709\u200b\u591a\u4efb\u52a1\u200b\u5b66\u4e60\u200b\u80fd\u529b\u200b\uff0c\u200b\u5373\u200b\u540c\u65f6\u200b\u8f93\u51fa\u200b\u9519\u8bef\u200b\u7c7b\u578b\u200b\u4e2d\u200b\u7684\u200b\u4e00\u79cd\u200b\u6216\u200b\u591a\u79cd\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u6570\u636e","title":"\u6570\u636e","text":"<p>\u200b\u5728\u200b\u8bad\u7ec3\u200b\u9636\u6bb5\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6709\u200b\u6807\u6ce8\u200b\u6216\u200b\u65e0\u200b\u6807\u6ce8\u200b\u7684\u200b\u6570\u636e\u200b\u8bad\u7ec3\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u6709\u200b\u6807\u6ce8\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5176\u200b\u6570\u636e\u683c\u5f0f\u200b\u4e3a\u200b\uff1a</p> <ol> <li>\u200b\u6807\u6ce8\u200b\uff1a0 \u200b\u8868\u793a\u200b\u8be5\u200b\u8bed\u53e5\u200b\u65e0\u200b\u9519\u8bef\u200b\uff0c1 \u200b\u8868\u793a\u200b\u8be5\u200b\u8bed\u53e5\u200b\u6709\u200b\u9519\u8bef\u200b\uff1b</li> <li>\u200b\u6e90\u200b\u8bed\u53e5\u200b\uff1a\u200b\u539f\u59cb\u200b\u8bed\u53e5\u200b\uff1b</li> <li>\u200b\u76ee\u6807\u200b\u8bed\u53e5\u200b\uff1a\u200b\u6b63\u786e\u200b\u7684\u200b\u8bed\u53e5\u200b\u3002\u200b\u82e5\u200b\u6807\u6ce8\u200b\u4e3a\u200b 0\uff0c\u200b\u5219\u200b\u76ee\u6807\u200b\u8bed\u53e5\u200b\u4e0e\u6e90\u200b\u8bed\u53e5\u200b\u76f8\u540c\u200b\u3002</li> </ol> <p>\u200b\u73b0\u6709\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u6570\u636e\u200b\u96c6\u200b\u4e00\u822c\u200b\u53ea\u200b\u5305\u542b\u200b\u6570\u5343\u200b\u81f3\u200b\u6570\u4e07\u6761\u200b\u6837\u672c\u200b\uff0c\u200b\u800c\u200b\u5927\u91cf\u200b\u7684\u200b\u4e2d\u6587\u200b\u9884\u6599\u200b\u662f\u200b\u65e0\u200b\u6807\u6ce8\u200b\u7684\u200b\u3002\u200b\u5bf9\u200b\u65e0\u200b\u6807\u6ce8\u200b\u7684\u200b\u4e2d\u6587\u200b\u8bed\u6599\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u5982\u4e0b\u200b\u6570\u636e\u200b\u589e\u5f3a\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li>\u200b\u5220\u9664\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b\u6982\u7387\u200b 10%\uff1b</li> <li>\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b\u6982\u7387\u200b\u4e3a\u200b 10%\uff1b</li> <li>\u200b\u4f7f\u7528\u200b\u5b57\u5178\u200b\u4e2d\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u66ff\u6362\u200b\u5b57\u200b\u6982\u7387\u200b\u4e3a\u200b 10%\uff1b</li> <li>\u200b\u91cd\u65b0\u6392\u5217\u200b\u5b57\u200b\u7684\u200b\u987a\u5e8f\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u539f\u59cb\u200b\u5b57\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u6807\u51c6\u5dee\u200b\u4e3a\u200b 0.5 \u200b\u7684\u200b\u6b63\u6001\u5206\u5e03\u200b\u6743\u91cd\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u65b0\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\uff0c\u200b\u63d0\u53d6\u200b\u51fa\u200b\u539f\u59cb\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\u5217\u8868\u200b\u7684\u200b\u7d22\u5f15\u200b\u4f4d\u7f6e\u200b\u4f5c\u4e71\u200b\u5e8f\u540e\u200b\u7684\u200b\u5b57\u200b\u6392\u5217\u200b\u3002</li> </ol> <p>\u200b\u4f7f\u7528\u200b\u4e0a\u8ff0\u200b\u7684\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u751f\u6210\u200b\u65b9\u6cd5\u200b\u6240\u200b\u4ea7\u751f\u200b\u7684\u200b\u9519\u8bef\u200b\u53e5\u5b50\u200b\u4e0e\u200b\u539f\u200b\u53e5\u5b50\u200b\u914d\u5bf9\u200b\uff0c\u200b\u8fd9\u200b\u5728\u200b\u67d0\u79cd\u7a0b\u5ea6\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u7b97\u4f5c\u200b\u4e00\u6761\u200b\u7ea0\u9519\u200b\u8bed\u6599\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8be5\u200b\u9519\u8bef\u200b\u8bed\u53e5\u200b\u4e0e\u200b\u4eba\u4e3a\u200b\u9519\u8bef\u200b\u8bed\u53e5\u200b\u90fd\u200b\u662f\u200b\u7531\u200b\u5b57\u200b\u7684\u200b\u589e\u200b\u3001\u200b\u5220\u200b\u3001\u200b\u66ff\u6362\u200b\u548c\u200b\u91cd\u65b0\u6392\u5217\u200b\u64cd\u4f5c\u200b\u6240\u200b\u9020\u6210\u200b\u7684\u200b\u3002</p> <p>\u200b\u5df2\u6709\u200b\u6587\u732e\u200b\u4f7f\u7528\u200b\u7684\u200b\u8bad\u7ec3\u200b\u6570\u636e\u200b\u6709\u200b\uff1a</p> \u200b\u8bad\u7ec3\u200b\u8bed\u6599\u200b \u200b\u7c7b\u578b\u200b CGED(2016-2018) \u200b\u6807\u6ce8\u200b\u6570\u636e\u200b SIGHAN(2014 2015) \u200b\u6807\u6ce8\u200b\u6570\u636e\u200b NLPCC2018 \u200b\u6807\u6ce8\u200b\u6570\u636e\u200b Lang-8 \u200b\u975e\u200b\u6807\u6ce8\u200b\u6570\u636e\u200b \u200b\u4e2d\u6587\u200b\u7ef4\u57fa\u767e\u79d1\u200b \u200b\u975e\u200b\u6807\u6ce8\u200b\u6570\u636e\u200b <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e00\u4e9b\u200b\u6587\u732e\u200b\u6784\u9020\u200b\u4e86\u200b\u201c\u200b\u6613\u200b\u6df7\u6dc6\u200b\u8bcd\u8bed\u200b\u96c6\u200b\u201d\u200b\u8fdb\u884c\u200b\u7ea0\u9519\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u6a21\u578b","title":"\u6a21\u578b","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#transformer-\u6a21\u578b","title":"Transformer \u200b\u6a21\u578b","text":"<p>\u200b\u5f53\u524d\u200b\u81ea\u7136\u8bed\u8a00\u200b\u5904\u7406\u200b\u9886\u57df\u200b\u7684\u200b\u524d\u6cbf\u200b\u6a21\u578b\u200b\u662f\u200b Transformer \u200b\u6a21\u578b\u200b\uff0c\u200b\u5b83\u200b\u6452\u5f03\u200b\u4e86\u200b\u4f20\u7edf\u200b\u5e8f\u5217\u200b\u5230\u200b\u5e8f\u5217\u200b\u6a21\u578b\u200b\u4e2d\u200b CNN \u200b\u6216\u200b RNN \u200b\u7684\u200b\u65b9\u6cd5\u200b\u548c\u200b\u6a21\u5757\u200b\uff0c\u200b\u5f00\u521b\u6027\u200b\u5730\u200b\u5c06\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4f5c\u4e3a\u200b\u7f16\u89e3\u7801\u5668\u200b\u7684\u200b\u6838\u5fc3\u200b\uff0c\u200b\u4e0d\u4ec5\u200b\u8bad\u7ec3\u200b\u901f\u5ea6\u200b\u5feb\u200b\uff0c\u200b\u800c\u4e14\u200b\u89e3\u51b3\u200b\u4e86\u200b RNN \u200b\u5904\u7406\u200b\u957f\u8ddd\u79bb\u200b\u6587\u672c\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u8bed\u4e49\u200b\u4e22\u5931\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p> <p>Transformer \u200b\u6a21\u578b\u200b\u5f00\u521b\u6027\u200b\u5730\u200b\u4f7f\u7528\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u5bf9\u200b\u53e5\u5b50\u200b\u8fdb\u884c\u200b\u5efa\u6a21\u200b\u3002\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u5411\u91cf\u200b\u4e2d\u200b\u901a\u5e38\u200b\u5305\u542b\u200b\u5927\u91cf\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f46\u662f\u200b\u67d0\u4e9b\u200b\u6587\u672c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6bd4\u200b\u5176\u4ed6\u200b\u90e8\u5206\u200b\u5bf9\u200b\u51b3\u7b56\u200b\u66f4\u200b\u6709\u200b\u5e2e\u52a9\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6a21\u578b\u200b\u591a\u200b\u5173\u6ce8\u200b\u4e0e\u200b\u8be5\u200b\u5355\u8bcd\u200b\u76f8\u5173\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u200b\u5ffd\u7565\u200b\u5176\u4ed6\u200b\u4e0d\u200b\u76f8\u5173\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8ba1\u7b97\u200b\u53e5\u5b50\u200b\u4e2d\u200b\u8bcd\u8bed\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u5173\u6027\u200b\u6765\u200b\u6355\u6349\u200b\u53e5\u5b50\u200b\u5185\u90e8\u200b\u7684\u200b\u76f8\u5173\u6027\u200b\uff0c\u200b\u5e76\u200b\u89e3\u51b3\u200b\u957f\u7a0b\u200b\u4f9d\u8d56\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u7684\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\u4e3a\u200b\uff1a</p> \\[ \\operatorname{Attention}(Q, K, V)=\\operatorname{softmax}\\left(\\frac{Q K^T}{\\sqrt{d_k}}\\right) V \\] <p>\u200b\u5176\u4e2d\u200b\uff0c\\(Q\\)\u3001\\(K\\) \u200b\u548c\u200b \\(V\\)\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u67e5\u8be2\u200b\u3001\u200b\u952e\u548c\u503c\u200b\uff0c\u200b\u4e09\u8005\u200b\u5728\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u5747\u200b\u4e3a\u200b\u8f93\u5165\u200b\u53e5\u5b50\u200b\u5411\u91cf\u200b\u672c\u8eab\u200b\u3002</p> <p>Transformer \u200b\u6a21\u578b\u200b\u7531\u200b\u82e5\u5e72\u200b\u90e8\u4ef6\u200b\u7ec4\u6210\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6700\u200b\u5173\u952e\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u662f\u200b\u7f16\u7801\u5668\u200b\u548c\u200b\u89e3\u7801\u5668\u200b\u3002</p> <p></p> <p>\u200b\u9996\u5148\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200b\u6587\u672c\u200b\u5b57\u7b26\u4e32\u200b\u901a\u8fc7\u200b\u8bcd\u200b\u5d4c\u5165\u200b\uff08Embedding\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b 512 \u200b\u7ef4\u200b\u7684\u200b\u8bcd\u200b\u5411\u91cf\u200b\uff0c\u200b\u518d\u200b\u52a0\u4e0a\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\uff08\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4f4d\u7f6e\u200b\u7f16\u7801\u200b\uff09\uff0c\u200b\u5373\u53ef\u200b\u5229\u7528\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4fe1\u606f\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u7f16\u7801\u5668","title":"\u7f16\u7801\u5668","text":"<p>\u200b\u7f16\u7801\u5668\u200b\u90e8\u5206\u200b\u7531\u200b N \u200b\u4e2a\u200b\u7f16\u7801\u5668\u200b\uff08Encoder\uff09\u200b\u6784\u6210\u200b\u3002\u200b\u8fd9\u200b N \u200b\u4e2a\u200b\u7f16\u7801\u5668\u200b\u7ed3\u6784\u200b\u76f8\u540c\u200b\uff0c\u200b\u4e92\u76f8\u200b\u72ec\u7acb\u200b\uff0c\u200b\u4e0d\u200b\u5171\u4eab\u200b\u53c2\u6570\u200b\u3002\u200b\u8bcd\u200b\u5d4c\u5165\u200b\u53ea\u200b\u53d1\u751f\u200b\u5728\u200b\u5e95\u5c42\u200b\u7684\u200b\u7f16\u7801\u5668\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u53ea\u6709\u200b\u6700\u5e95\u5c42\u200b\u7f16\u7801\u5668\u200b\u63a5\u6536\u200b\u7684\u200b\u8f93\u5165\u200b\u662f\u200b\u7531\u200b\u8f93\u5165\u200b\u90e8\u5206\u200b\u4f20\u6765\u200b\u7684\u200b\u8bcd\u200b\u5411\u91cf\u200b\u5217\u8868\u200b\uff0c\u200b\u5176\u4ed6\u200b\u7f16\u7801\u5668\u200b\u7684\u200b\u8f93\u5165\u200b\u90fd\u200b\u662f\u200b\u4e0a\u200b\u4e00\u5c42\u200b\u7f16\u7801\u5668\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002\u200b\u7f16\u7801\u5668\u200b\u53ef\u200b\u5206\u4e3a\u200b\u4e24\u5c42\u200b\uff1a\u200b\u591a\u5934\u200b\u6ce8\u610f\u529b\u200b\u5c42\u200b\u548c\u200b\u524d\u9988\u200b\u7f51\u7edc\u5c42\u200b\u3002\u200b\u591a\u5934\u200b\u6ce8\u610f\u529b\u200b\u5c42\u91cc\u200b\u5305\u542b\u200b\u4e86\u200b\u591a\u5934\u200b\u6ce8\u610f\u529b\u200b\uff08Multi-Head Attention\uff09\u200b\u548c\u200b\u6c42\u548c\u200b\u4e0e\u200b\u5f52\u4e00\u5316\u200b\uff08Add&amp;Norm\uff09\uff1b\u200b\u524d\u9988\u200b\u795e\u7ecf\u200b\u7f51\u7edc\u5c42\u200b\u5305\u542b\u200b\u4e86\u200b\u524d\u9988\u200b\u795e\u7ecf\u7f51\u7edc\u200b\uff08Feed Forward\uff09\u200b\u548c\u200b\u6c42\u548c\u200b\u4e0e\u200b\u5f52\u4e00\u5316\u200b\uff08Add&amp;Norm\uff09\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u89e3\u7801\u5668","title":"\u89e3\u7801\u5668","text":"<p>\u200b\u89e3\u7801\u5668\u200b\u90e8\u5206\u200b\u7531\u200b N \u200b\u4e2a\u200b\u89e3\u7801\u5668\u200b\uff08Decoder\uff09\u200b\u5806\u53e0\u200b\u800c\u6210\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b N \u200b\u4e0e\u200b\u89e3\u7801\u5668\u200b\u90e8\u5206\u200b\u7684\u200b N \u200b\u4fdd\u6301\u4e00\u81f4\u200b\u3002\u200b\u89e3\u7801\u5668\u200b\u4e2d\u200b\u7684\u200b\u7f51\u7edc\u5c42\u200b\u4e0e\u200b\u7f16\u7801\u5668\u200b\u4e2d\u200b\u7684\u200b\u7f16\u7801\u200b\u5c42\u200b\u5927\u81f4\u76f8\u540c\u200b\uff0c\u200b\u53ea\u6709\u200b\u591a\u5934\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u5c42\u200b\u7684\u200b\u64cd\u4f5c\u200b\u65b9\u5f0f\u200b\u4e0e\u200b\u7f16\u7801\u5668\u200b\u4e2d\u200b\u7684\u200b\u591a\u5934\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u5c42\u200b\u7684\u200b\u64cd\u4f5c\u200b\u65b9\u5f0f\u200b\u4e0d\u592a\u200b\u76f8\u540c\u200b\u3002\u200b\u5728\u200b\u89e3\u7801\u5668\u200b\u4e2d\u200b\uff0c\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u5c42\u200b\u53ea\u80fd\u200b\u5904\u7406\u200b\u8f93\u51fa\u200b\u5e8f\u5217\u200b\u4e2d\u200b\u66f4\u200b\u9760\u200b\u524d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u5728\u200b softmax \u200b\u6b65\u9aa4\u200b\u524d\u4f1a\u200b\u52a0\u5165\u200b\u63a9\u7801\u200b\uff0c\u200b\u628a\u200b\u540e\u9762\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u9690\u200b\u53bb\u200b\u3002\u200b\u4e4b\u6240\u4ee5\u200b\u52a0\u5165\u200b\u63a9\u7801\u200b\u662f\u56e0\u4e3a\u200b\u5728\u200b\u4e00\u4e9b\u200b\u751f\u6210\u200b\u7684\u200b\u81ea\u200b\u6ce8\u610f\u529b\u200b\u5f20\u91cf\u200b\u4e2d\u200b\uff0c\u200b\u5f20\u91cf\u200b\u7684\u200b\u503c\u200b\u53ef\u80fd\u200b\u662f\u200b\u7531\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u3002\u200b\u672a\u6765\u200b\u4fe1\u606f\u200b\u88ab\u200b\u770b\u5230\u200b\u662f\u56e0\u4e3a\u200b\u8bad\u7ec3\u200b\u65f6\u4f1a\u200b\u628a\u200b\u6574\u4e2a\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u90fd\u200b\u4e00\u6b21\u6027\u200b\u8fdb\u884c\u200b\u5d4c\u5165\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u9884\u6d4b\u200b\u65f6\u200b\u53ea\u80fd\u200b\u770b\u5230\u200b\u51fa\u73b0\u200b\u5728\u200b\u5f53\u524d\u200b\u5b57\u7b26\u200b\u4e4b\u524d\u200b\u7684\u200b\u5386\u53f2\u200b\u4fe1\u606f\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u9884\u8bad\u7ec3\u6a21\u578b","title":"\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b","text":"<p>\u200b\u5728\u200b\u81ea\u7136\u8bed\u8a00\u200b\u5904\u7406\u200b\u4efb\u52a1\u200b\u4e2d\u200b\uff0c\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u80fd\u591f\u200b\u63d0\u5347\u200b\u4e0b\u6e38\u200b\u4efb\u52a1\u200b\u7684\u200b\u8868\u73b0\u200b\u3002\u200b\u8f83\u4e3a\u200b\u77e5\u540d\u200b\u7684\u200b\u4e2d\u6587\u200b\u9884\u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\u6709\u200bChinese-LLaMA-Alpaca\u3001ChatGLM-6B\u3001Chinese-BERT-wwm\u3001Chinese-Word-Vectors\u3001Chinese-XLNet\u200b\u7b49\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u5fae\u8c03","title":"\u5fae\u8c03","text":"<p>\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u5177\u5907\u200b\u6f5c\u5728\u200b\u7684\u200b\u901a\u7528\u200b\u4efb\u52a1\u200b\u89e3\u51b3\u200b\u80fd\u529b\u200b\uff0c\u200b\u5fae\u8c03\u200b (Fine-tuning) \u200b\u7b49\u200b\u6280\u672f\u200b\u80fd\u591f\u200b\u6316\u6398\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c\u200b\u5728\u200b\u7279\u5b9a\u200b\u4efb\u52a1\u200b\u4e0a\u200b\u62e5\u6709\u200b\u66f4\u597d\u200b\u7684\u200b\u8868\u73b0\u200b\u3002<sup>1</sup></p> <p>\u200b\u5fae\u8c03\u200b\u9636\u6bb5\u200b\u7684\u200b\u76ee\u6807\u200b\u662f\u200b\u51cf\u5c11\u200b\u8bad\u7ec3\u200b\u53c2\u6570\u200b\u7684\u200b\u89c4\u6a21\u200b\uff0c\u200b\u5e38\u89c1\u200b\u7684\u200b\u5fae\u8c03\u200b\u65b9\u6cd5\u200b\u6709\u200b\uff1a</p> <ol> <li>\u200b\u6dfb\u52a0\u200b\u65b0\u200b\u53c2\u6570\u200b\u5c42\u200b\uff0c\u200b\u4f8b\u5982\u200b Adapter \u200b\u5c42\u200b\uff1b</li> <li>\u200b\u91cd\u200b\u53c2\u6570\u200b\u5316\u200b\uff0c\u200b\u4f8b\u5982\u200b Lora\uff1b</li> <li>\u200b\u5bf9\u200b\u539f\u6709\u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b\u9009\u62e9\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/chinese-text-correction/#\u6a21\u578b\u6548\u679c\u8bc4\u4ef7","title":"\u6a21\u578b\u200b\u6548\u679c\u200b\u8bc4\u4ef7","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u8bc6\u522b\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u95ee\u9898\u200b\uff0c\u200b\u5e38\u89c1\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u5305\u62ec\u200b\u51c6\u786e\u7387\u200b\uff08Precision\uff09\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\uff08Recall\uff09\u200b\u53ca\u200b\\(F_{0.5}\\)\u3002\u200b\u5047\u8bbe\u200b \\(e\\) \u200b\u662f\u200b\u6a21\u578b\u200b\u5bf9\u200b\u9519\u8bef\u200b\u6587\u672c\u200b\u7ea0\u9519\u200b\u5efa\u8bae\u200b\u7684\u200b\u96c6\u5408\u200b\uff0c\\(ge\\) \u200b\u662f\u200b\u8be5\u200b\u9519\u8bef\u200b\u6587\u672c\u200b\u7684\u200b\u6807\u51c6\u200b\u7684\u200b\u7ea0\u9519\u200b\u5efa\u8bae\u200b\u96c6\u5408\u200b\uff0c\u200b\u5177\u4f53\u200b\u7684\u200b\u8ba1\u7b97\u200b\u65b9\u5f0f\u200b\u5982\u4e0b\u200b\uff1a</p> \\[ \\begin{gathered} \\text { Precision }=\\frac{\\sum_{i=1}^N\\left|e_i \\cap g e_i\\right|}{\\sum_{i=1}^N\\left|e_i\\right|} \\\\ \\text { Recall }=\\frac{\\sum_{i=1}^N\\left|e_i \\cap g e_i\\right|}{\\sum_{i=1}^N\\left|g_i\\right|} \\\\ F_{0.5}=\\frac{\\left(1+0.5^2\\right) \\times \\text { Recall } \\times \\text { Precision }}{0.5^2 \\times \\text { Precisioin }+ \\text { Recall }} \\end{gathered} \\] <p>\u200b\u8bed\u6cd5\u200b\u7ea0\u9519\u200b\u4efb\u52a1\u200b\u9009\u62e9\u200b \\(F_{0.5}\\) \u200b\u4f5c\u4e3a\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\u800c\u200b\u975e\u200b \\(F_{1}\\) \u200b\u503c\u200b\u7684\u200b\u539f\u56e0\u200b\u5728\u4e8e\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6a21\u578b\u200b\u7ea0\u6b63\u200b\u7684\u200b\u9519\u8bef\u200b\u4e2d\u200b\uff0c\u200b\u7ea0\u9519\u200b\u7684\u200b\u51c6\u786e\u6027\u200b\u5927\u4e8e\u200b\u7ea0\u9519\u200b\u5efa\u8bae\u200b\u6570\u91cf\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5c06\u200b\u51c6\u786e\u7387\u200b\u7684\u200b\u6743\u91cd\u200b\u5b9a\u4e3a\u200b\u53ec\u56de\u200b\u7387\u200b\u7684\u200b\u4e24\u500d\u200b\u5927\u5c0f\u200b\uff0c\u200b\u4ee5\u671f\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u66f4\u52a0\u200b\u4f18\u8d28\u200b\u7684\u200b\u7ea0\u9519\u200b\u6a21\u578b\u200b\u3002\u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6a21\u578b\u200b\u7ed9\u51fa\u200b\u7684\u200b\u7ea0\u9519\u200b\u5efa\u8bae\u200b\u786e\u5b9e\u200b\u662f\u200b\u9700\u8981\u200b\u88ab\u200b\u7ea0\u6b63\u200b\u7684\u200b\u3002</p> <p>Zhao et. al. (2022) \u200b\u6574\u7406\u200b\u4e86\u200b 2021 \u200b\u5e74\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u7ea0\u9519\u200b\u7684\u200b\u6a21\u578b\u200b\u6548\u679c\u200b\u6392\u884c\u699c\u200b\u5355\u200b\uff1ahttps://destwang.github.io/CTC2021-explorer/\uff0c\u200b\u5176\u4e2d\u200b\u6700\u4f18\u200b\u6a21\u578b\u200b\u7684\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u548c\u200b \\(F_{1}\\) \u200b\u503c\u5747\u200b\u8d85\u8fc7\u200b \\(60\\%\\)\u3002Wang et. al. (2022)<sup>2</sup> \u200b\u4f7f\u7528\u200b AxBERT \u200b\u6a21\u578b\u200b\u5728\u200b\u4e2d\u6587\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u53d6\u5f97\u200b\u4e86\u200b\u63a5\u8fd1\u200b \\(80\\%\\) \u200b\u7684\u200b\u7cbe\u786e\u200b\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u548c\u200b \\(F_{1}\\) \u200b\u503c\u200b\u3002</p> <p></p> <ol> <li> <p>Zhao W X, Zhou K, Li J, et al. A survey of large language models[J]. arXiv preprint arXiv:2303.18223, 2023.MLA\u00a0\u21a9</p> </li> <li> <p>Wang, Fanyu, Huihui Shao, and Zhenping Xie. \u201cAxBERT: An Explainable Chinese Spelling Correction Method Driven by Associative Knowledge Network,\u201d September 29, 2022. https://openreview.net/forum?id=nZGu4Ltnl5.\u00a0\u21a9</p> </li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/comment-system-with-giscus/","title":"\u57fa\u4e8e\u200b giscus \u200b\u4e3a\u200b\u7f51\u7ad9\u200b\u6dfb\u52a0\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf","text":"<p>giscus \u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u6613\u7528\u200b\u7684\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5b83\u200b\u4f7f\u7528\u200b GitHub Discussions \u200b\u7684\u200b\u4f5c\u4e3a\u200b\u5b58\u50a8\u200b\u548c\u200b\u7ba1\u7406\u200b\u8bc4\u8bba\u200b\u7684\u200b\u540e\u200b\u7aef\u200b\u3002\u200b\u7f51\u7ad9\u200b\u7684\u200b\u8bbf\u5ba2\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b GitHub \u200b\u8d26\u53f7\u200b\u767b\u5f55\u200b\u5e76\u200b\u53d1\u8868\u200b\u8bc4\u8bba\u200b\uff0c\u200b\u5f53\u6709\u200b\u65b0\u200b\u8bc4\u8bba\u200b\u65f6\u200b GitHub \u200b\u8fd8\u4f1a\u7528\u200b\u90ae\u4ef6\u200b\u901a\u77e5\u200b\u7f51\u7ad9\u200b\u7684\u200b\u4e3b\u4eba\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u57fa\u4e8e\u200b giscus \u200b\u4e3a\u200b\u7f51\u7ad9\u200b\u6dfb\u52a0\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b\u8fd8\u200b\u7b97\u200b\u6bd4\u8f83\u987a\u5229\u200b\uff0c\u200b\u4f46\u200b\u4e2d\u9014\u200b\u9047\u5230\u200b\u7684\u200b\u5173\u4e8e\u200b\u4e00\u952e\u200b\u914d\u7f6e\u200b\u591a\u4e2a\u200b\u9875\u9762\u200b\u5c55\u793a\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\u7684\u200b\u95ee\u9898\u200b\u4e5f\u200b\u56f0\u6270\u200b\u4e86\u200b\u6211\u200b\u5f88\u200b\u4e45\u200b\u3002\u200b\u5c06\u200b\u5176\u200b\u8bb0\u5f55\u200b\u4e8e\u200b\u6b64\u200b\uff0c\u200b\u5e0c\u671b\u200b\u80fd\u200b\u5e2e\u52a9\u200b\u81ea\u5df1\u200b\u548c\u200b\u4ed6\u4eba\u200b\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/comment-system-with-giscus/#\u914d\u7f6e-giscus","title":"\u914d\u7f6e\u200b giscus","text":"<p>\u200b\u6839\u636e\u200b Material for MkDocs \u200b\u5b98\u65b9\u200b\u63d0\u4f9b\u200b\u7684\u200b\u6559\u7a0b\u200b\uff0c\u200b\u5b8c\u6210\u200b\u4ee5\u4e0b\u200b\u6b65\u9aa4\u200b\uff1a</p> <ol> <li> <p>\u200b\u5b89\u88c5\u200b giscus GitHub App\u3002\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u53ea\u200b\u9700\u8981\u200b\u5728\u200b GitHub \u200b\u5b98\u200b\u7f51\u4e0a\u200b\u70b9\u51fb\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b\u3002</p> </li> <li> <p>\u200b\u8bbf\u95ee\u200b giscus \u200b\u5b98\u7f51\u200b\uff0c\u200b\u914d\u7f6e\u200b\u4e0e\u200b giscus \u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\u5173\u8054\u200b\u7684\u200b GitHub \u200b\u4ed3\u5e93\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u786e\u4fdd\u200b\uff1a</p> <ol> <li>\u200b\u8be5\u200b\u4ed3\u5e93\u200b\u662f\u200b\u516c\u5f00\u200b\u7684\u200b\uff0c\u200b\u5426\u5219\u200b\u8bbf\u5ba2\u200b\u5c06\u200b\u65e0\u6cd5\u200b\u67e5\u770b\u200b Discussions\u3002</li> <li>giscus app \u200b\u5df2\u200b\u5b89\u88c5\u200b\uff0c\u200b\u5426\u5219\u200b\u8bbf\u5ba2\u200b\u5c06\u200b\u65e0\u6cd5\u200b\u8bc4\u8bba\u200b\u548c\u200b\u56de\u5e94\u200b\u3002</li> <li>Discussions \u200b\u529f\u80fd\u200b\u5df2\u200b\u5728\u200b\u4f60\u200b\u7684\u200b\u4ed3\u5e93\u200b\u4e2d\u200b\u542f\u7528\u200b\u3002</li> </ol> <p>\u200b\u5b58\u653e\u200b\u8bc4\u8bba\u200b\u7684\u200b\u4ed3\u5e93\u200b\u4e0e\u200b\u642d\u5efa\u200b\u7f51\u7ad9\u200b\u7684\u200b\u4ed3\u5e93\u200b\u4e0d\u662f\u200b\u5fc5\u987b\u200b\u76f8\u540c\u200b\u7684\u200b</p> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5b58\u653e\u200b\u8bc4\u8bba\u200b\u7684\u200b\u4ed3\u5e93\u200b\u4e0e\u200b\u642d\u5efa\u200b\u7f51\u7ad9\u200b\u7684\u200b\u4ed3\u5e93\u200b\u4e0d\u662f\u200b\u5fc5\u987b\u200b\u76f8\u540c\u200b\u7684\u200b\u3002\u200b\u524d\u8005\u200b\u5fc5\u987b\u200b\u662f\u200b Public \u200b\u7684\u200b\u4ed3\u5e93\u200b\uff08\u200b\u5426\u5219\u200b\u7f51\u7ad9\u200b\u8bbf\u5ba2\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u770b\u5230\u200b\u8bc4\u8bba\u200b\u4fe1\u606f\u200b\uff09\uff0c\u200b\u4f46\u200b\u540e\u8005\u200b\u53ef\u4ee5\u200b\u662f\u200b Private \u200b\u7684\u200b\u4ed3\u5e93\u200b\u3002\u200b\u5f53\u7136\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u8005\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u540c\u4e00\u200b\u4ed3\u5e93\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4f1a\u200b\u5f97\u5230\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u4e0b\u9762\u200b\u8fd9\u79cd\u200b\u683c\u5f0f\u200b\u7684\u200b\u914d\u7f6e\u200b\u4ee3\u7801\u200b\uff1a</p> HTML<pre><code>&lt;script\nsrc=\"https://giscus.app/client.js\"\ndata-repo=\"&lt;username&gt;/&lt;repository&gt;\"\ndata-repo-id=\"...\"\ndata-category=\"...\"\ndata-category-id=\"...\"\ndata-mapping=\"pathname\"\ndata-reactions-enabled=\"1\"\ndata-emit-metadata=\"1\"\ndata-theme=\"light\"\ndata-lang=\"en\"\ncrossorigin=\"anonymous\"\nasync\n&gt;\n&lt;/script&gt;\n</code></pre> </li> <li> <p>\u200b\u53c2\u7167\u200b override the <code>comments.html</code> partial \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8986\u76d6\u200b\u539f\u6709\u200b\u7684\u200b\u7a7a\u767d\u200b\u7684\u200b <code>comments.html</code>\u3002\u200b\u5b83\u200b\u7684\u200b\u5c42\u7ea7\u200b\u7ed3\u6784\u200b\u4e3a\u200b\uff1a</p> <p></p> <p>\u200b\u5e76\u200b\u6dfb\u52a0\u200b\u4ee5\u4e0b\u5185\u5bb9\u200b\uff1a</p> HTML<pre><code>    {% if page.meta.comments %}\n    &lt;h2 id=\"__comments\"&gt;{{ lang.t(\"meta.comments\") }}&lt;/h2&gt;\n&lt;!-- Insert generated snippet here --&gt;\n&lt;!-- Synchronize giscus theme with palette --&gt;\n&lt;script&gt;\nvar giscus = document.querySelector(\"script[src*=giscus]\")\n/* Set palette on initial load */\nvar palette = __md_get(\"__palette\")\nif (palette &amp;&amp; typeof palette.color === \"object\") {\nvar theme = palette.color.scheme === \"slate\" ? \"dark\" : \"light\"\ngiscus.setAttribute(\"data-theme\", theme) // (1)!\n}\n/* Register event handlers after documented loaded */\ndocument.addEventListener(\"DOMContentLoaded\", function() {\nvar ref = document.querySelector(\"[data-md-component=palette]\")\nref.addEventListener(\"change\", function() {\nvar palette = __md_get(\"__palette\")\nif (palette &amp;&amp; typeof palette.color === \"object\") {\nvar theme = palette.color.scheme === \"slate\" ? \"dark\" : \"light\"\n/* Instruct giscus to change theme */\nvar frame = document.querySelector(\".giscus-frame\")\nframe.contentWindow.postMessage(\n{ giscus: { setConfig: { theme } } },\n\"https://giscus.app\"\n)\n}\n})\n})\n&lt;/script&gt;\n    {% endif %}\n</code></pre> <p>\u200b\u5c06\u200b\u9ad8\u4eae\u200b\u7684\u200b\u90a3\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u66ff\u6362\u6210\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u5f97\u5230\u200b\u7684\u200b\u914d\u7f6e\u200b\u4ee3\u7801\u200b\u3002</p> </li> <li> <p>\u200b\u5728\u200b\u9700\u8981\u200b\u5c55\u793a\u200b\u8bc4\u8bba\u200b\u7684\u200b\u6587\u6863\u200b\u7684\u200b <code>yaml</code> \u200b\u4e2d\u200b\uff0c\u200b\u6dfb\u52a0\u200b <code>comments: true</code>\uff1a</p> YAML<pre><code>---\ncomments: true\n---\n</code></pre> </li> </ol>","tags":["Computer Science"]},{"location":"blog/comment-system-with-giscus/#\u6548\u679c\u5c55\u793a","title":"\u6548\u679c\u200b\u5c55\u793a","text":"<p>\u200b\u81f3\u6b64\u200b\uff0c\u200b\u4f60\u200b\u5df2\u7ecf\u200b\u80fd\u200b\u770b\u5230\u200b\u9875\u9762\u200b\u5e95\u90e8\u200b\u5c55\u73b0\u200b\u4e86\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\uff1a</p> <p></p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u5f53\u6709\u200b\u65b0\u200b\u8bc4\u8bba\u200b\u6216\u200b\u53cd\u5e94\u200b\u65f6\u200b\uff0cGitHub \u200b\u4f1a\u200b\u53d1\u9001\u200b\u90ae\u4ef6\u200b\u901a\u77e5\u200b\uff1a</p> <p></p>","tags":["Computer Science"]},{"location":"blog/comment-system-with-giscus/#\u4e00\u952e\u914d\u7f6e\u591a\u4e2a\u9875\u9762\u5c55\u793a\u8bc4\u8bba\u7cfb\u7edf","title":"\u4e00\u952e\u200b\u914d\u7f6e\u200b\u591a\u4e2a\u200b\u9875\u9762\u200b\u5c55\u793a\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf","text":"<p>\u200b\u5b98\u65b9\u200b\u6559\u7a0b\u200b\u7684\u200b\u6700\u540e\u200b\u63d0\u5230\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b built-in meta plugin \u200b\u5b9e\u73b0\u200b\u4e00\u952e\u200b\u914d\u7f6e\u200b\u591a\u4e2a\u200b\u9875\u9762\u200b\u5c55\u793a\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u6587\u6863\u200b\u7684\u200b <code>yaml</code> \u200b\u4e2d\u200b\u6dfb\u52a0\u200b <code>comments: true</code>\u200b\u4e86\u200b\u3002</p> <p></p> <p><code>meta</code> \u200b\u63d2\u4ef6\u200b\u5728\u200b\u64b0\u5199\u200b\u672c\u6587\u200b\u65f6\u200b\u8fd8\u662f\u200b Insiders \u200b\u7248\u672c\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b Insiders \u200b\u7248\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b <code>mkdocs.yaml</code> \u200b\u4e2d\u200b\u6dfb\u52a0\u200b\uff1a</p> YAML<pre><code>plugins:\n- meta\n</code></pre> <p>\u200b\u7136\u540e\u200b\u5728\u200b\u6587\u6863\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b <code>.meta.yml</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u8fd9\u200b\u5c06\u200b\u4f7f\u5f97\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u5185\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u6863\u200b\u5bf9\u5e94\u200b\u7684\u200b\u9875\u9762\u200b\u90fd\u200b\u80fd\u200b\u5c55\u793a\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\u3002</p> <p><code>.meta.yml</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u4e0d\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b <code>---</code></p> <p>\u200b\u6211\u200b\u6700\u521d\u200b\u5728\u200b <code>.meta.yml</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u7684\u200b\u662f\u200b</p> YAML<pre><code>---\ncomments: true\n---\n</code></pre> <p>\u200b\u5b9e\u9645\u4e0a\u200b\u53ea\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\u8fd9\u200b\u4e00\u884c\u200b</p> YAML<pre><code>comments: true\n</code></pre> <p>\u200b\u5982\u679c\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u6709\u200b\u67d0\u4e9b\u200b\u9875\u9762\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c55\u793a\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u5728\u200b\u8fd9\u4e9b\u200b\u9875\u9762\u200b\u7684\u200b<code>yaml</code> \u200b\u4e2d\u200b\u6dfb\u52a0\u200b <code>comments: false</code> \u200b\u5373\u53ef\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/ruff/","title":"\u4f7f\u7528\u200b <code>Ruff</code> \u200b\u81ea\u52a8\u200b\u68c0\u67e5\u200b\u4ee3\u7801\u200b\u9519\u8bef","text":"<p>\u200b\u5728\u200b\u7f16\u5199\u200b\u5927\u578b\u9879\u76ee\u200b\u65f6\u200b\uff0c\u200b\u4e00\u4e9b\u200b\u7ec6\u8282\u200b\u4ee3\u7801\u200b\u5bb9\u6613\u200b\u5f71\u54cd\u200b\u4ee3\u7801\u200b\u7684\u200b\u6b63\u5e38\u200b\u8fd0\u884c\u200b\u3002\u200b\u82e5\u200b\u82b1\u8d39\u200b\u592a\u200b\u591a\u200b\u65f6\u95f4\u200b\u68c0\u67e5\u200b\u53d8\u91cf\u200b\u547d\u540d\u200b\u3001\u200b\u5bfc\u5165\u200b\u5305\u7b49\u200b\u7ec6\u8282\u200b\u95ee\u9898\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5927\u5e45\u200b\u5f71\u54cd\u200b\u5de5\u4f5c\u6548\u7387\u200b\u548c\u200b\u5fc3\u60c5\u200b\u3002</p> <p><code>Ruff</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u4ee3\u7801\u200b\u5206\u6790\u200b\u5de5\u5177\u200b\uff0c\u200b\u5373\u200b Linter\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u68c0\u67e5\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u3001\u200b\u7f16\u7801\u200b\u89c4\u8303\u200b\u95ee\u9898\u200b\u3001\u200b\u6f5c\u5728\u200b\u7684\u200b\u903b\u8f91\u200b\u95ee\u9898\u200b\u548c\u200b\u4ee3\u7801\u200b\u8d28\u91cf\u200b\u95ee\u9898\u200b\u7b49\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u5b9e\u65f6\u200b\u53cd\u9988\u200b\u548c\u200b\u81ea\u52a8\u200b\u4fee\u590d\u200b\u5efa\u8bae\u200b\u3002</p> <p><code>Ruff</code> \u200b\u7684\u200b\u4f18\u70b9\u200b\u662f\u200b\u901f\u5ea6\u200b\u975e\u5e38\u200b\u5feb\u200b\uff0c\u200b\u4e14\u200b\u5b89\u88c5\u200b\u548c\u200b\u4f7f\u7528\u200b\u90fd\u200b\u975e\u5e38\u7b80\u5355\u200b\u3002\u200b\u4f7f\u7528\u200b <code>Ruff</code> \u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u81ea\u52a8\u200b\u68c0\u67e5\u200b\u4ee3\u7801\u200b\u5b58\u5728\u200b\u7684\u200b\u9519\u8bef\u200b\uff08\u200b\u5982\u200b\u53d8\u91cf\u200b\u672a\u5b9a\u4e49\u200b\u3001\u200b\u7f3a\u5931\u200b\u5916\u90e8\u200b\u4f9d\u8d56\u200b\u5305\u7b49\u200b\uff09\uff0c\u200b\u8fd9\u200b\u4e00\u5207\u200b\u90fd\u200b\u4e0d\u200b\u9700\u8981\u200b\u771f\u6b63\u200b\u82b1\u200b\u65f6\u95f4\u200b\u8fd0\u884c\u200b\u4ee3\u7801\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/ruff/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"Bash<pre><code>pip install ruff\n</code></pre>","tags":["Python"]},{"location":"blog/ruff/#\u547d\u4ee4\u884c\u4f7f\u7528\u65b9\u6cd5","title":"\u547d\u4ee4\u884c\u200b\u4f7f\u7528\u200b\u65b9\u6cd5","text":"","tags":["Python"]},{"location":"blog/ruff/#\u68c0\u67e5\u9519\u8bef","title":"\u68c0\u67e5\u200b\u9519\u8bef","text":"Bash<pre><code>ruff check .                        # Lint all files in the current directory (and any subdirectories)\nruff check path/to/code/            # Lint all files in `/path/to/code` (and any subdirectories)\nruff check path/to/code/*.py        # Lint all `.py` files in `/path/to/code`\nruff check path/to/code/to/file.py  # Lint `file.py`\n</code></pre>","tags":["Python"]},{"location":"blog/ruff/#\u68c0\u67e5\u5e76\u4fee\u590d\u9519\u8bef","title":"\u68c0\u67e5\u200b\u5e76\u200b\u4fee\u590d\u200b\u9519\u8bef","text":"Bash<pre><code>ruff check --fix .\n</code></pre>","tags":["Python"]},{"location":"blog/ruff/#\u5ffd\u7565-line-too-long","title":"\u5ffd\u7565\u200b <code>Line too long</code>","text":"Bash<pre><code>ruff check --ignore E501 test.py\n</code></pre>","tags":["Python"]},{"location":"blog/ruff/#vs-code-\u63d2\u4ef6","title":"VS Code \u200b\u63d2\u4ef6","text":"<p>\u200b\u89c1\u200b Ruff VS Code \u200b\u63d2\u4ef6\u200b \u2014\u2014 GitHub \u200b\u4ed3\u5e93\u200b\u3002</p>","tags":["Python"]},{"location":"blog/ruff/#\u5bf9\u6574\u4e2a\u6587\u4ef6\u7981\u7528-ruff","title":"\u5bf9\u200b\u6574\u4e2a\u200b\u6587\u4ef6\u200b\u7981\u7528\u200b <code>ruff</code>","text":"Python<pre><code># ruff: noqa\nimport os\n</code></pre> <p>\u200b\u6216\u8005\u200b\u5728\u200b <code>pyproject.toml</code> \u200b\u4e2d\u200b\u914d\u7f6e\u200b\uff1a</p> ruff.toml<pre><code>exclude = [\"*.py\"]\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u6240\u6709\u200b\u7684\u200b <code>.py</code> \u200b\u6587\u4ef6\u200b\u7981\u7528\u200b <code>ruff</code>\u3002</p>","tags":["Python"]},{"location":"blog/ruff/#\u914d\u7f6e\u683c\u5f0f\u5316\u89c4\u5219","title":"\u914d\u7f6e\u200b\u683c\u5f0f\u5316\u200b\u89c4\u5219","text":"<p>\u200b\u4ee5\u4e0b\u200b\u90e8\u5206\u200b\u8f6c\u8f7d\u81ea\u200b \u200b\u5982\u4f55\u200b\u5199\u51fa\u200b\u201c\u200b\u9ad8\u989c\u503c\u200b\u201d\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u3002\u200b\u5df2\u200b\u83b7\u5f97\u200b\u4f5c\u8005\u200b\u6388\u6743\u200b\u3002</p> <p><code>ruff</code>\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u683c\u5f0f\u5316\u200b\u89c4\u5219\u200b\u57fa\u672c\u4e0a\u200b\u517c\u5bb9\u200b<code>black</code>\uff0c\u200b\u4f46\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u8981\u200b\u300c\u200b\u81ea\u5b9a\u4e49\u200b\u300d\u200b\u8c03\u6574\u200b\u90e8\u5206\u200b\u7684\u200b\u683c\u5f0f\u5316\u200b\u89c4\u5219\u200b\uff0c\u200b\u8b6c\u5982\u200b\u5728\u200b\u5f15\u53f7\u200b\u7684\u200b\u4f7f\u7528\u200b\u4e0a\u200b\uff0c\u200b\u4f60\u200b\u66f4\u200b\u503e\u5411\u200b\u4e8e\u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\uff0c\u200b\u5728\u200b<code>ruff</code>\u200b\u4e2d\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u8f7b\u677e\u200b\u7684\u200b\u5b9e\u73b0\u200b\u3002</p> <p><code>ruff</code>\u200b\u4e2d\u200b\u63a8\u8350\u200b\u4ee5\u200b\u5177\u4f53\u200b\u7684\u200b\u300c\u200b\u9879\u76ee\u200b\u300d\u200b\u4e3a\u200b\u63a7\u5236\u200b\u8303\u56f4\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5728\u200b\u300c\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u300d\u200b\u4e2d\u200b\u521b\u5efa\u200b<code>pyproject.toml</code>\u200b\u6216\u200b<code>ruff.toml</code>\u200b\u6765\u200b\u7f16\u5199\u200b\u5177\u4f53\u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u8b6c\u5982\u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b<code>ruff.toml</code>\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u58f0\u660e\u200b\u4e86\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\uff1a</p> ruff.toml<pre><code>[format]\n# \u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\nquote-style = \"single\"\n</code></pre> <p>\u200b\u683c\u5f0f\u5316\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u5c31\u200b\u4f1a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\u3002</p> <p>\u200b\u6216\u662f\u200b\u9650\u5236\u200b\u6bcf\u884c\u200b\u6700\u200b\u591a\u200b\u5b57\u7b26\u200b\u6570\u91cf\u200b\uff1a</p> ruff.toml<pre><code># \u200b\u9650\u5236\u200b\u6bcf\u884c\u200b\u6700\u200b\u591a\u200b 20 \u200b\u4e2a\u5b57\u7b26\u200b\nline-length = 20\n[format]\n# \u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\nquote-style = \"single\"\n</code></pre> <p>\u200b\u8bbe\u7f6e\u200b\u7f29\u8fdb\u200b\u4f7f\u7528\u200b\u5355\u4e2a\u200b<code>Tab</code>\u200b\u7b26\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b 4 \u200b\u4e2a\u200b\u7a7a\u683c\u200b\uff09\uff1a</p> ruff.toml<pre><code>[format]\n# \u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\nquote-style = \"single\"\n# \u200b\u7f29\u8fdb\u200b\u4f7f\u7528\u200b\u5355\u4e2a\u200b tab\nindent-style = \"tab\"\n</code></pre> <p>\u200b\u4e14\u200b<code>ruff</code>\u200b\u8fd8\u200b\u652f\u6301\u200b\u5bf9\u200b docstring \u200b\u6ce8\u91ca\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u8fdb\u884c\u200b\u8bc6\u522b\u200b\u5e76\u200b\u683c\u5f0f\u5316\u200b\uff1a</p> ruff.toml<pre><code>[format]\n# \u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\nquote-style = \"single\"\n# \u200b\u542f\u7528\u200b docstring \u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u683c\u5f0f\u5316\u200b\ndocstring-code-format = true\n</code></pre> <p>\u200b\u66f4\u200b\u591a\u200b\u6709\u5173\u200b<code>ruff</code>\u200b\u4ee3\u7801\u200b\u683c\u5f0f\u5316\u200b\u529f\u80fd\u200b\u7684\u200b\u7ec6\u8282\u200b\uff0c\u200b\u8bf7\u200b\u79fb\u6b65\u200b ruff \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u4e86\u89e3\u200b\u66f4\u200b\u591a\u200b\u3002</p>","tags":["Python"]},{"location":"blog/git/","title":"\u5e38\u7528\u200b\u7684\u200b Git \u200b\u4ee3\u7801","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5e38\u7528\u200b\u7684\u200b Git \u200b\u547d\u4ee4\u200b\uff0c\u200b\u5e76\u200b\u8f6c\u8f7d\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u4f18\u8d28\u200b\u535a\u6587\u200b\uff08\u200b\u89c1\u200b\u76f8\u5173\u200b\u94fe\u63a5\u200b\uff09\u200b\u4f5c\u4e3a\u200b\u8865\u5145\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5","title":"\u4e09\u4e2a\u200b\u57fa\u672c\u6982\u5ff5","text":"<ol> <li>\u200b\u5de5\u4f5c\u200b\u533a\u200b (Workspace) \u200b\u662f\u200b\u8ba1\u7b97\u673a\u200b\u4e2d\u200b\u9879\u76ee\u200b\u7684\u200b\u6839\u76ee\u5f55\u200b</li> <li>\u200b\u6682\u5b58\u533a\u200b (Index) \u200b\u50cf\u200b\u4e2a\u200b\u7f13\u5b58\u200b\u533a\u57df\u200b\uff0c\u200b\u4e34\u65f6\u200b\u4fdd\u5b58\u200b\u4f60\u200b\u7684\u200b\u6539\u52a8\u200b</li> <li>\u200b\u7248\u672c\u200b\u5e93\u200b (Repository) \u200b\u5206\u4e3a\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\uff08Local) \u200b\u548c\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b (Remote)</li> </ol>","tags":["Computer Science"]},{"location":"blog/git/#\u914d\u7f6e-git","title":"\u914d\u7f6e\u200b Git","text":"","tags":["Computer Science"]},{"location":"blog/git/#\u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u7684-gitconfig","title":"\u67e5\u770b\u200b\u5f53\u524d\u200b\u4ed3\u5e93\u200b\u7684\u200b gitconfig","text":"Bash<pre><code>git config --local --list\n\n# \u200b\u9ed8\u8ba4\u200b\u662f\u200b --local\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u7701\u53bb\u200b\uff0c\u200b\u53d8\u6210\u200b\uff1a\ngit config --list\n</code></pre> <p>\u200b\u6216\u8005\u200b</p> Bash<pre><code>cat .git/config\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u67e5\u770b\u7528\u6237\u7ea7\u522b\u7684-gitconfig","title":"\u67e5\u770b\u200b\u7528\u6237\u200b\u7ea7\u522b\u200b\u7684\u200b gitconfig","text":"Bash<pre><code>git config --global --list\n</code></pre> <p>\u200b\u6216\u8005\u200b</p> Bash<pre><code>cat ~/.gitconfig\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u914d\u7f6e\u7528\u6237\u540d\u548c\u90ae\u7bb1","title":"\u914d\u7f6e\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u90ae\u7bb1","text":"Bash<pre><code>git config --global user.name \"jeremy-feng\"\ngit config --global user.email \"jeremy-feng@qq.com\"\n</code></pre> <p>\u200b\u82e5\u200b\u4e0d\u200b\u9700\u8981\u200b\u914d\u7f6e\u200b\u5168\u5c40\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u90ae\u7bb1\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u914d\u7f6e\u200b\u5f53\u524d\u200b\u4ed3\u5e93\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u90ae\u7bb1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b <code>--global</code> \u200b\u5220\u9664\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u5220\u9664-git-\u914d\u7f6e\u9879","title":"\u5220\u9664\u200b Git \u200b\u914d\u7f6e\u200b\u9879","text":"<p>\u200b\u8981\u200b\u5220\u9664\u200b Git \u200b\u914d\u7f6e\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff1a</p> Text Only<pre><code>git config --unset &lt;key&gt;\n</code></pre> <p>\u200b\u5176\u4e2d\u200b <code>&lt;key&gt;</code> \u200b\u662f\u200b\u8981\u200b\u5220\u9664\u200b\u7684\u200b\u914d\u7f6e\u200b\u9879\u200b\u7684\u200b\u952e\u540d\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u8981\u200b\u5220\u9664\u200b\u5168\u5c40\u200b\u914d\u7f6e\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>--global</code> \u200b\u53c2\u6570\u200b\uff1a</p> Text Only<pre><code>git config --global --unset &lt;key&gt;\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u4ece\u200b\u5168\u5c40\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u5220\u9664\u200b\u6307\u5b9a\u200b\u7684\u200b\u914d\u7f6e\u200b\u9879\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u8981\u200b\u5220\u9664\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u7684\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4ed3\u5e93\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u6267\u884c\u547d\u4ee4\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b <code>--global</code> \u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u8981\u200b\u5220\u9664\u200b\u6240\u6709\u200b\u7684\u200b Git \u200b\u914d\u7f6e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5220\u9664\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u3002\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u53d6\u51b3\u4e8e\u200b\u4f60\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u548c\u200b\u5b89\u88c5\u200b\u65b9\u5f0f\u200b\u3002\u200b\u5728\u200b\u5927\u591a\u6570\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5168\u5c40\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4f4d\u4e8e\u200b\u7528\u6237\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b <code>.gitconfig</code> \u200b\u6587\u4ef6\u200b\u3002\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6587\u4ef6\u200b\u7ba1\u7406\u5668\u200b\u6216\u200b\u547d\u4ee4\u884c\u200b\u5220\u9664\u200b\u8be5\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u5728\u200b\u5220\u9664\u200b Git \u200b\u914d\u7f6e\u200b\u9879\u65f6\u200b\u9047\u5230\u200b\u8b66\u544a\u200b \"warning:  has multiple values\"\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u8be5\u200b\u914d\u7f6e\u200b\u9879\u200b\u5177\u6709\u200b\u591a\u4e2a\u200b\u503c\u200b\u3002\u200b\u5728\u200b Git \u200b\u4e2d\u200b\uff0c\u200b\u914d\u7f6e\u200b\u9879\u200b\u53ef\u4ee5\u200b\u5177\u6709\u200b\u591a\u4e2a\u200b\u503c\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u901a\u5e38\u200b\u53d1\u751f\u200b\u5728\u200b\u4f60\u200b\u591a\u6b21\u200b\u4e3a\u200b\u540c\u4e00\u4e2a\u200b\u914d\u7f6e\u200b\u9879\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u4e0d\u540c\u200b\u7684\u200b\u503c\u200b\u3002 <p>\u200b\u8981\u200b\u5220\u9664\u200b\u5177\u6709\u200b\u591a\u4e2a\u200b\u503c\u200b\u7684\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>--unset-all</code> \u200b\u53c2\u6570\u200b\u3002\u200b\u8fd9\u200b\u5c06\u200b\u5220\u9664\u200b\u6240\u6709\u200b\u4e0e\u200b\u6307\u5b9a\u200b\u952e\u540d\u200b\u76f8\u5173\u8054\u200b\u7684\u200b\u914d\u7f6e\u200b\u503c\u200b\u3002</p> Text Only<pre><code>git config --unset-all &lt;key&gt;\n</code></pre> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u8981\u200b\u5220\u9664\u200b\u5168\u5c40\u200b\u914d\u7f6e\u200b\u4e2d\u200b\u7684\u200b\u5177\u6709\u200b\u591a\u4e2a\u200b\u503c\u200b\u7684\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>--global</code> \u200b\u53c2\u6570\u200b\uff1a</p> Text Only<pre><code>git config --global --unset-all &lt;key&gt;\n</code></pre> <p>\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>--unset-all</code> \u200b\u53c2\u6570\u200b\u5c06\u200b\u5220\u9664\u200b\u6240\u6709\u200b\u4e0e\u200b\u6307\u5b9a\u200b\u952e\u540d\u200b\u76f8\u5173\u8054\u200b\u7684\u200b\u914d\u7f6e\u200b\u503c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u4ec5\u4ec5\u200b\u662f\u200b\u5220\u9664\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u6267\u884c\u200b\u6b64\u200b\u64cd\u4f5c\u200b\u4e4b\u524d\u200b\uff0c\u200b\u8bf7\u200b\u786e\u4fdd\u200b\u4f60\u200b\u4e86\u89e3\u200b\u5220\u9664\u200b\u914d\u7f6e\u200b\u9879\u200b\u7684\u200b\u540e\u679c\u200b\uff0c\u200b\u5e76\u4e14\u200b\u786e\u5b9a\u200b\u4f60\u200b\u60f3\u8981\u200b\u5220\u9664\u200b\u6240\u6709\u200b\u503c\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u514d\u5bc6\u7801\u63d0\u4ea4","title":"\u514d\u200b\u5bc6\u7801\u200b\u63d0\u4ea4","text":"<p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b\uff1a</p> Bash<pre><code>git config --local credential.helper store\n</code></pre> <p>\u200b\u518d\u6b21\u200b\u8f93\u5165\u200b\u4e00\u6b21\u200b\u5bc6\u7801\u200b\uff0c\u200b\u5373\u53ef\u200b\u4fdd\u5b58\u200b\u5bc6\u7801\u200b\uff0c\u200b\u4eca\u540e\u200b\u63d0\u4ea4\u200b\u672c\u200b\u4ed3\u5e93\u200b\u65f6\u200b\u90fd\u200b\u4e0d\u200b\u9700\u8981\u200b\u5bc6\u7801\u200b\u4e86\u200b\u3002</p> <p>\u200b\u82e5\u200b\u8981\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u7528\u6237\u200b\u8303\u56f4\u200b\u5185\u200b\u5168\u5c40\u200b\u514d\u200b\u5bc6\u7801\u200b\uff0c\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b <code>--global</code>\uff1a</p> Bash<pre><code>git config --global credential.helper store\n</code></pre> <p>\u200b\u5bc6\u7801\u200b\u5c06\u200b\u4ee5\u200b\u660e\u6587\u200b\u5f62\u5f0f\u200b\u5b58\u653e\u200b\u5728\u200b\u78c1\u76d8\u200b\uff01</p> <ul> <li> <p><code>store</code> \u200b\u6a21\u5f0f\u200b\u4f1a\u200b\u5c06\u200b\u51ed\u8bc1\u200b\u7528\u200b\u660e\u6587\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u653e\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6c38\u4e0d\u200b\u8fc7\u671f\u200b\u3002 \u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u9664\u975e\u200b\u4f60\u200b\u4fee\u6539\u200b\u4e86\u200b\u4f60\u200b\u5728\u200b Git \u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u7684\u200b\u5bc6\u7801\u200b\uff0c\u200b\u5426\u5219\u200b\u4f60\u200b\u6c38\u8fdc\u200b\u4e0d\u200b\u9700\u8981\u200b\u518d\u6b21\u200b\u8f93\u5165\u200b\u4f60\u200b\u7684\u200b\u51ed\u8bc1\u200b\u4fe1\u606f\u200b\u3002 \u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u7684\u200b\u7f3a\u70b9\u200b\u662f\u200b\u4f60\u200b\u7684\u200b\u5bc6\u7801\u200b\u662f\u200b\u7528\u200b\u660e\u6587\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5b58\u653e\u200b\u5728\u200b\u4f60\u200b\u7684\u200b home \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u3002</p> </li> <li> <p><code>cache</code> \u200b\u6a21\u5f0f\u200b\u4f1a\u200b\u5c06\u200b\u51ed\u8bc1\u200b\u5b58\u653e\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u3002 \u200b\u5bc6\u7801\u200b\u6c38\u8fdc\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b15\u200b\u5206\u949f\u200b\u540e\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u6e05\u9664\u200b\u3002\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b <code>--timeout &lt;seconds&gt;</code> \u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u540e\u53f0\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5b58\u6d3b\u200b\u65f6\u95f4\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u662f\u200b \u201c900\u201d\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b 15 \u200b\u5206\u949f\u200b\uff09\u3002</p> </li> </ul> <p>\u200b\u53c2\u8003\u200b\uff1aGit \u200b\u5de5\u5177\u200b - \u200b\u51ed\u8bc1\u200b\u5b58\u50a8\u200b</p>","tags":["Computer Science"]},{"location":"blog/git/#\u65b0\u5efa\u514b\u9686\u63a8\u9001\u5408\u5e76\u5220\u9664","title":"\u65b0\u5efa\u200b\u3001\u200b\u514b\u9686\u200b\u3001\u200b\u63a8\u9001\u200b\u3001\u200b\u5408\u5e76\u200b\u3001\u200b\u5220\u9664","text":"","tags":["Computer Science"]},{"location":"blog/git/#\u5728\u5df2\u6709\u6587\u4ef6\u5939\u4e0b\u65b0\u5efa-git-\u4ed3\u5e93","title":"\u5728\u200b\u5df2\u6709\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\u65b0\u5efa\u200b Git \u200b\u4ed3\u5e93","text":"Bash<pre><code>cd existing_folder\ngit init\ngit remote add origin git@github.com:jeremy-feng/jeremy-feng.github.io.git\ngit add .\ngit commit -m \"Initial commit\"\ngit push -u origin master\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u514b\u9686\u4ed3\u5e93","title":"\u514b\u9686\u200b\u4ed3\u5e93","text":"Bash<pre><code>git clone git@github.com:jeremy-feng/jeremy-feng.github.io.git\ncd \u200b\u9879\u76ee\u200b\u540d\u200b\ntouch README.md\ngit add README.md\ngit commit -m \"add README\"\ngit push -u origin master\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u6dfb\u52a0\u548c\u63d0\u4ea4","title":"\u6dfb\u52a0\u200b\u548c\u200b\u63d0\u4ea4","text":"Bash<pre><code>git add -A &amp;&amp; git commit -m 'update'\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u56de\u6eda\u67d0\u4e2a\u6587\u4ef6","title":"\u56de\u6eda\u200b\u67d0\u4e2a\u200b\u6587\u4ef6","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://www.cnblogs.com/acm-bingzi/p/gitCheckout.html</p> <p>\u200b\u5148\u200b\u627e\u5230\u200b\u9700\u8981\u200b\u4f1a\u200b\u6eda\u200b\u5230\u200b\u7684\u200b commit id\uff1a</p> Bash<pre><code>git log &lt;path/to/file&gt;\n</code></pre> <p>\u200b\u518d\u7528\u200b <code>git checkout</code> \u200b\u56de\u6eda\u200b\u5230\u200b\u8be5\u200b commit id</p> Bash<pre><code>git checkout &lt;commit id&gt; &lt;path/to/file&gt;\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#git-rebase","title":"<code>git rebase</code>","text":"<p>\u200b\u5982\u679c\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u4fee\u6539\u200b\u4e86\u200b A \u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f46\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u6ca1\u6709\u200b\u4fee\u6539\u200b A \u200b\u6587\u4ef6\u200b\uff0c\u200b\u800c\u662f\u200b\u4fee\u6539\u200b\u4e86\u200b B \u200b\u6587\u4ef6\u200b\uff0c\u200b\u6b64\u65f6\u200b\u76f4\u63a5\u200b\u4ece\u200b\u672c\u5730\u200b push \u200b\u5230\u200b\u8fdc\u7a0b\u200b\u65f6\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>fatal: Need to specify how to reconcile divergent branches.\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>git rebase</code> \u200b\u5148\u200b\u5c06\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u5efa\u7acb\u200b\u5728\u200b\u8fdc\u7a0b\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u3002</p> Bash<pre><code>git rebase &lt;\u200b\u8fdc\u7a0b\u200b\u7684\u200b commid id\uff0c\u200b\u524d\u200b 7 \u200b\u4f4d\u200b\u5373\u53ef\u200b\uff0c\u200b\u4f8b\u5982\u200b 42f44ae&gt;\n</code></pre> <p>\u200b\u518d\u200b <code>git push</code> \u200b\u5373\u53ef\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#git-restore","title":"<code>git restore</code>","text":"<p><code>git restore</code> \u200b\u662f\u200b Git \u200b\u7248\u672c\u200b\u63a7\u5236\u7cfb\u7edf\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8fd8\u539f\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u7684\u200b\u72b6\u6001\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u64a4\u6d88\u200b\u5bf9\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u4e2d\u200b\u6587\u4ef6\u200b\u7684\u200b\u66f4\u6539\u200b\uff0c\u200b\u6216\u8005\u200b\u5c06\u200b\u6587\u4ef6\u200b\u4ece\u200b\u6682\u5b58\u533a\u200b\u8fd8\u539f\u200b\u5230\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u3002</p> <p><code>git restore</code> \u200b\u547d\u4ee4\u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u5f0f\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>git restore &lt;file&gt;\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u5c06\u4f1a\u200b\u5c06\u200b\u6307\u5b9a\u200b\u7684\u200b\u6587\u4ef6\u200b\u8fd8\u539f\u200b\u5230\u200b\u6700\u8fd1\u200b\u7684\u200b\u63d0\u4ea4\u200b\u72b6\u6001\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u64a4\u9500\u200b\u5bf9\u200b\u6587\u4ef6\u200b\u7684\u200b\u4fee\u6539\u200b\u3002</p> <p>\u200b\u4f60\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>--staged</code> \u200b\u9009\u9879\u200b\u6765\u200b\u5c06\u200b\u6587\u4ef6\u200b\u4ece\u200b\u6682\u5b58\u533a\u200b\u8fd8\u539f\u200b\u5230\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff1a</p> Text Only<pre><code>git restore --staged &lt;file&gt;\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u5c06\u200b\u6587\u4ef6\u200b\u8fd8\u539f\u200b\u5230\u200b\u6700\u8fd1\u200b\u7684\u200b\u63d0\u4ea4\u200b\u72b6\u6001\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u4ece\u200b\u6682\u5b58\u533a\u200b\u79fb\u9664\u200b\u3002</p> <p>\u200b\u9664\u4e86\u200b\u8fd8\u539f\u200b\u6587\u4ef6\u200b\uff0c<code>git restore</code> \u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u6062\u590d\u200b\u5220\u9664\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>--source</code> \u200b\u9009\u9879\u200b\u6307\u5b9a\u200b\u8981\u200b\u6062\u590d\u200b\u7684\u200b\u6587\u4ef6\u200b\u7684\u200b\u6765\u6e90\u200b\uff1a</p> Text Only<pre><code>git restore --source=&lt;commit&gt; &lt;file&gt;\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u5c06\u200b\u6307\u5b9a\u200b\u63d0\u4ea4\u200b\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u200b\u8fd8\u539f\u200b\u5230\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u3002</p> <p>\u200b\u603b\u7684\u6765\u8bf4\u200b\uff0c<code>git restore</code> \u200b\u547d\u4ee4\u200b\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u4f60\u200b\u7ba1\u7406\u6587\u4ef6\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u64a4\u9500\u200b\u4fee\u6539\u200b\u4ee5\u53ca\u200b\u6062\u590d\u200b\u5220\u9664\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u5220\u9664git\u4ed3\u5e93","title":"\u5220\u9664\u200b<code>.git</code>\u200b\u4ed3\u5e93","text":"Bash<pre><code>rm -rf .git\n</code></pre> <ul> <li><code>-r</code>\u200b\u4ee3\u8868\u200b\u5220\u9664\u200b\u6587\u4ef6\u5939\u200b\uff1b</li> <li><code>-rf</code>\u200b\u4ee3\u8868\u200b\u5f3a\u5236\u200b\u5220\u9664\u200b\uff0c\u200b\u5373\u200b\u5220\u9664\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u53ca\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5e76\u4e14\u200b\u662f\u200b\u76f4\u63a5\u200b\u5220\u9664\u200b\uff0c\u200b\u65e0\u9700\u200b\u9010\u4e00\u200b\u786e\u8ba4\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/git/#commit-message-\u7684\u683c\u5f0f","title":"Commit message \u200b\u7684\u200b\u683c\u5f0f","text":"<p>\u200b\u6bcf\u6b21\u200b\u63d0\u4ea4\u200b\uff0cCommit message \u200b\u90fd\u200b\u5305\u62ec\u200b\u4e09\u4e2a\u200b\u90e8\u5206\u200b\uff1aHeader\uff0cBody \u200b\u548c\u200b Footer\u3002</p> Bash<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n// \u200b\u7a7a\u200b\u4e00\u884c\u200b\n&lt;body&gt;\n// \u200b\u7a7a\u200b\u4e00\u884c\u200b\n&lt;footer&gt;\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0cHeader \u200b\u662f\u200b\u5fc5\u9700\u200b\u7684\u200b\uff0cBody \u200b\u548c\u200b Footer \u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\u3002</p> <p>\u200b\u4e0d\u7ba1\u200b\u662f\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u90e8\u5206\u200b\uff0c\u200b\u4efb\u4f55\u200b\u4e00\u884c\u200b\u90fd\u200b\u4e0d\u5f97\u200b\u8d85\u8fc7\u200b 72 \u200b\u4e2a\u5b57\u7b26\u200b\uff08\u200b\u6216\u200b 100 \u200b\u4e2a\u5b57\u7b26\u200b\uff09\u3002\u200b\u8fd9\u662f\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\u5f71\u54cd\u200b\u7f8e\u89c2\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#header","title":"Header","text":"<p>Header \u200b\u90e8\u5206\u200b\u53ea\u6709\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u62ec\u200b\u4e09\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff1a<code>type</code>\uff08\u200b\u5fc5\u9700\u200b\uff09\u3001<code>scope</code>\uff08\u200b\u53ef\u200b\u9009\u200b\uff09\u200b\u548c\u200b<code>subject</code>\uff08\u200b\u5fc5\u9700\u200b\uff09\u3002</p> <p>\uff081\uff09type</p> <p><code>type</code>\u200b\u7528\u4e8e\u200b\u8bf4\u660e\u200b commit \u200b\u7684\u200b\u7c7b\u522b\u200b\uff0c\u200b\u53ea\u200b\u5141\u8bb8\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b 7 \u200b\u4e2a\u200b\u6807\u8bc6\u200b\u3002</p> <ul> <li>feat\uff1a\u200b\u65b0\u200b\u529f\u80fd\u200b\uff08feature\uff09</li> <li>fix\uff1a\u200b\u4fee\u8865\u200b bug</li> <li>docs\uff1a\u200b\u6587\u6863\u200b\uff08documentation\uff09</li> <li>style\uff1a\u200b\u683c\u5f0f\u200b\uff08\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u4ee3\u7801\u8fd0\u884c\u200b\u7684\u200b\u53d8\u52a8\u200b\uff09</li> <li>refactor\uff1a\u200b\u91cd\u6784\u200b\uff08\u200b\u5373\u200b\u4e0d\u662f\u200b\u65b0\u589e\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u662f\u200b\u4fee\u6539\u200b bug \u200b\u7684\u200b\u4ee3\u7801\u200b\u53d8\u52a8\u200b\uff09</li> <li>test\uff1a\u200b\u589e\u52a0\u200b\u6d4b\u8bd5\u200b</li> <li>chore\uff1a\u200b\u6784\u5efa\u200b\u8fc7\u7a0b\u200b\u6216\u200b\u8f85\u52a9\u5de5\u5177\u200b\u7684\u200b\u53d8\u52a8\u200b</li> </ul> <p>\u200b\u5982\u679c\u200b<code>type</code>\u200b\u4e3a\u200b<code>feat</code>\u200b\u548c\u200b<code>fix</code>\uff0c\u200b\u5219\u200b\u8be5\u200b commit \u200b\u5c06\u200b\u80af\u5b9a\u200b\u51fa\u73b0\u200b\u5728\u200b Change log \u200b\u4e4b\u4e2d\u200b\u3002\u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\uff08<code>docs</code>\u3001<code>chore</code>\u3001<code>style</code>\u3001<code>refactor</code>\u3001<code>test</code>\uff09\u200b\u7531\u200b\u4f60\u200b\u51b3\u5b9a\u200b\uff0c\u200b\u8981\u200b\u4e0d\u8981\u200b\u653e\u5165\u200b Change log\uff0c\u200b\u5efa\u8bae\u200b\u662f\u200b\u4e0d\u8981\u200b\u3002</p> <p>\uff082\uff09scope</p> <p><code>scope</code>\u200b\u7528\u4e8e\u200b\u8bf4\u660e\u200b commit \u200b\u5f71\u54cd\u200b\u7684\u200b\u8303\u56f4\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6570\u636e\u200b\u5c42\u200b\u3001\u200b\u63a7\u5236\u200b\u5c42\u200b\u3001\u200b\u89c6\u56fe\u200b\u5c42\u200b\u7b49\u7b49\u200b\uff0c\u200b\u89c6\u200b\u9879\u76ee\u200b\u4e0d\u540c\u200b\u800c\u200b\u4e0d\u540c\u200b\u3002</p> <p>\uff083\uff09subject</p> <p><code>subject</code>\u200b\u662f\u200b commit \u200b\u76ee\u7684\u200b\u7684\u200b\u7b80\u77ed\u200b\u63cf\u8ff0\u200b\uff0c\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 50 \u200b\u4e2a\u5b57\u7b26\u200b\u3002</p> <ul> <li>\u200b\u4ee5\u200b\u52a8\u8bcd\u200b\u5f00\u5934\u200b\uff0c\u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u4eba\u79f0\u200b\u73b0\u5728\u200b\u65f6\u200b\uff0c\u200b\u6bd4\u5982\u200b<code>change</code>\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b<code>changed</code>\u200b\u6216\u200b<code>changes</code></li> <li>\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u6bcd\u200b\u5c0f\u5199\u200b</li> <li>\u200b\u7ed3\u5c3e\u200b\u4e0d\u200b\u52a0\u200b\u53e5\u53f7\u200b\uff08<code>.</code>\uff09</li> </ul>","tags":["Computer Science"]},{"location":"blog/git/#body","title":"Body","text":"<p>Body \u200b\u90e8\u5206\u200b\u662f\u200b\u5bf9\u200b\u672c\u6b21\u200b commit \u200b\u7684\u200b\u8be6\u7ec6\u63cf\u8ff0\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5206\u6210\u200b\u591a\u884c\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8303\u4f8b\u200b\u3002</p> Bash<pre><code>More detailed explanatory text, if necessary.  Wrap it to about 72 characters or so. Further paragraphs come after blank lines.\n\n- Bullet points are okay, too\n- Use a hanging indent\n</code></pre> <p>\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6ce8\u610f\u200b\u70b9\u200b\u3002</p> <p>\uff081\uff09\u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u4eba\u79f0\u200b\u73b0\u5728\u200b\u65f6\u200b\uff0c\u200b\u6bd4\u5982\u200b\u4f7f\u7528\u200b<code>change</code>\u200b\u800c\u200b\u4e0d\u662f\u200b<code>changed</code>\u200b\u6216\u200b<code>changes</code>\u3002</p> <p>\uff082\uff09\u200b\u5e94\u8be5\u200b\u8bf4\u660e\u200b\u4ee3\u7801\u200b\u53d8\u52a8\u200b\u7684\u200b\u52a8\u673a\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e0e\u200b\u4ee5\u524d\u200b\u884c\u4e3a\u200b\u7684\u200b\u5bf9\u6bd4\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#footer","title":"Footer","text":"<p>Footer \u200b\u90e8\u5206\u200b\u53ea\u200b\u7528\u4e8e\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u3002</p> <p>\uff081\uff09\u200b\u4e0d\u200b\u517c\u5bb9\u200b\u53d8\u52a8\u200b</p> <p>\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4ee3\u7801\u200b\u4e0e\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u7248\u672c\u200b\u4e0d\u200b\u517c\u5bb9\u200b\uff0c\u200b\u5219\u200b Footer \u200b\u90e8\u5206\u200b\u4ee5\u200b<code>BREAKING CHANGE</code>\u200b\u5f00\u5934\u200b\uff0c\u200b\u540e\u9762\u200b\u662f\u200b\u5bf9\u200b\u53d8\u52a8\u200b\u7684\u200b\u63cf\u8ff0\u200b\u3001\u200b\u4ee5\u53ca\u200b\u53d8\u52a8\u200b\u7406\u7531\u200b\u548c\u200b\u8fc1\u79fb\u200b\u65b9\u6cd5\u200b\u3002</p> Bash<pre><code>BREAKING CHANGE: isolate scope bindings definition has changed.\n\nTo migrate the code follow the example below:\n\nBefore:\n\nscope: {\nmyAttr: 'attribute',\n    }\nAfter:\n\nscope: {\nmyAttr: '@',\n    }\nThe removed `inject` wasn't generaly useful for directives so there should be no code using it.\n</code></pre> <p>\uff082\uff09\u200b\u5173\u95ed\u200b Issue</p> <p>\u200b\u5982\u679c\u200b\u5f53\u524d\u200b commit \u200b\u9488\u5bf9\u200b\u67d0\u4e2a\u200b issue\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u5728\u200b Footer \u200b\u90e8\u5206\u200b\u5173\u95ed\u200b\u8fd9\u4e2a\u200b issue\u3002</p> Bash<pre><code>Closes #234\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e00\u6b21\u200b\u5173\u95ed\u200b\u591a\u4e2a\u200b issue\u3002</p> Bash<pre><code>Closes #123, #245, #992\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#revert","title":"Revert","text":"<p>\u200b\u8fd8\u6709\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b commit \u200b\u7528\u4e8e\u200b\u64a4\u9500\u200b\u4ee5\u524d\u200b\u7684\u200b commit\uff0c\u200b\u5219\u200b\u5fc5\u987b\u200b\u4ee5\u200b<code>revert:</code>\u200b\u5f00\u5934\u200b\uff0c\u200b\u540e\u9762\u200b\u8ddf\u7740\u200b\u88ab\u200b\u64a4\u9500\u200b Commit \u200b\u7684\u200b Header\u3002</p> Bash<pre><code>revert: feat(pencil): add 'graphiteWidth' option\n\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.\n</code></pre> <p>Body \u200b\u90e8\u5206\u200b\u7684\u200b\u683c\u5f0f\u200b\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5199\u6210\u200b<code>This reverts commit &lt;hash&gt;.</code>\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b<code>hash</code>\u200b\u662f\u200b\u88ab\u200b\u64a4\u9500\u200b commit \u200b\u7684\u200b SHA \u200b\u6807\u8bc6\u7b26\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5f53\u524d\u200b commit \u200b\u4e0e\u200b\u88ab\u200b\u64a4\u9500\u200b\u7684\u200b commit\uff0c\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u53d1\u5e03\u200b\uff08release\uff09\u200b\u91cc\u9762\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u4eec\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u5728\u200b Change log \u200b\u91cc\u9762\u200b\u3002\u200b\u5982\u679c\u200b\u4e24\u8005\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u53d1\u5e03\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u524d\u200b commit\uff0c\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u5728\u200b Change log \u200b\u7684\u200b<code>Reverts</code>\u200b\u5c0f\u6807\u9898\u200b\u4e0b\u9762\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#commitlintio-\u5728\u7ebf\u7f16\u5199\u89c4\u8303\u7684-commit-message","title":"commitlint.io \u200b\u5728\u7ebf\u200b\u7f16\u5199\u200b\u89c4\u8303\u200b\u7684\u200b Commit message","text":"<p>Commitlint.io helps your project to ensure nice and tidy commit messages without needing any downloads or installations. It's designed with your workflow in mind by using zero change to your system.</p>","tags":["Computer Science"]},{"location":"blog/git/#commitizen","title":"Commitizen","text":"<p>Commitizen\u200b\u662f\u200b\u4e00\u4e2a\u200b\u64b0\u5199\u200b\u5408\u683c\u200b Commit message \u200b\u7684\u200b\u5de5\u5177\u200b\u3002</p> <p>\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\u5982\u4e0b\u200b\u3002</p> Bash<pre><code>$ npm install -g commitizen\n</code></pre> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u5728\u200b\u9879\u76ee\u200b\u76ee\u5f55\u200b\u91cc\u200b\uff0c\u200b\u8fd0\u884c\u200b\u4e0b\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u652f\u6301\u200b Angular \u200b\u7684\u200b Commit message \u200b\u683c\u5f0f\u200b\u3002</p> Bash<pre><code>$ commitizen init cz-conventional-changelog --save --save-exact\n</code></pre> <p>\u200b\u4ee5\u540e\u200b\uff0c\u200b\u51e1\u662f\u200b\u7528\u5230\u200b<code>git commit</code>\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4e00\u5f8b\u200b\u6539\u4e3a\u200b\u4f7f\u7528\u200b<code>git cz</code>\u3002\u200b\u8fd9\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u9009\u9879\u200b\uff0c\u200b\u7528\u6765\u200b\u751f\u6210\u200b\u7b26\u5408\u200b\u683c\u5f0f\u200b\u7684\u200b Commit message\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/git/#gitignore","title":"<code>.gitignore</code>","text":"<p>\u200b\u82e5\u200b\u8981\u200b\u5ffd\u7565\u200b\u67d0\u4e9b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e0d\u8ba9\u200b<code>git</code>\u200b\u63d0\u4ea4\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b<code>.gitignore</code>\u200b\u6587\u4ef6\u200b\u8bbe\u5b9a\u200b\u89c4\u5219\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u65b0\u5efa-gitignore-\u6587\u4ef6","title":"\u65b0\u5efa\u200b <code>.gitignore</code> \u200b\u6587\u4ef6","text":"Bash<pre><code>touch .gitignore\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u6dfb\u52a0\u89c4\u5219","title":"\u6dfb\u52a0\u200b\u89c4\u5219","text":"<ul> <li>\u200b\u7981\u6b62\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u5939\u200b</li> <li>\u200b\u7981\u6b62\u200b\u4e0a\u4f20\u200b\u67d0\u4e2a\u200b\u540e\u7f00\u200b\u7684\u200b\u6587\u4ef6\u200b</li> </ul> Text Only<pre><code>#idea\n/.idea\n#__pycache__\n/__pycache__\n#\u200b\u5ffd\u7565\u200b gitignore \u200b\u81ea\u8eab\u200b\n.gitignore\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#gitignore-\u6587\u4ef6\u4e0d\u751f\u6548\u65f6\u7684\u89e3\u51b3\u65b9\u6848","title":"<code>.gitignore</code> \u200b\u6587\u4ef6\u200b\u4e0d\u200b\u751f\u6548\u200b\u65f6\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848","text":"<p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b</p> Bash<pre><code>git rm -r --cached .\n</code></pre> <p>\u200b\u628a\u200b\u672c\u5730\u200b\u7f13\u5b58\u200b\u5220\u9664\u200b\uff0c\u200b\u6539\u53d8\u200b\u6210\u672a\u200b track \u200b\u72b6\u6001\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u53ea\u60f3\u200b\u628a\u200b\u67d0\u4e9b\u200b\u6587\u4ef6\u200b\u5220\u6389\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5220\u9664\u200b <code>.xml</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> Bash<pre><code>git rm -r --cached *.xml\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u793a\u4f8b","title":"\u793a\u4f8b","text":"<p>\u200b\u76ee\u5f55\u200b\u7ed3\u6784\u200b\uff1a</p> <p></p> <p><code>.gitignore</code>\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p> Text Only<pre><code># \u200b\u4e0d\u200b\u4e0a\u4f20\u200b xml \u200b\u6587\u4ef6\u200b\n*.xml\n# \u200b\u4e0d\u200b\u4e0a\u4f20\u200b\u3002gitignore \u200b\u6587\u4ef6\u200b\n.gitignore\n</code></pre>","tags":["Computer Science"]},{"location":"blog/git/#\u5ffd\u7565gitignore\u6587\u4ef6\u672c\u8eab\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5","title":"\u5ffd\u7565\u200b<code>.gitignore</code>\u200b\u6587\u4ef6\u200b\u672c\u8eab\u200b\u7684\u200b\u53e6\u200b\u4e00\u79cd\u200b\u65b9\u6cd5","text":"<p>\u200b\u5728\u200b<code>.git/info/exclude</code>\u200b\u6dfb\u52a0\u200b<code>.gitignore</code>\uff1a</p> <p></p>","tags":["Computer Science"]},{"location":"blog/git/#\u4e0d\u5ffd\u7565\u6587\u4ef6\u548c\u6587\u4ef6\u5939","title":"\u4e0d\u200b\u5ffd\u7565\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939","text":"<p>\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u5728\u200b\u8def\u5f84\u200b\u524d\u200b\u52a0\u4e0a\u200b <code>!</code>\u3002</p> Text Only<pre><code>*\n!path/to/uploaded_file.txt\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c<code>*</code> \u200b\u8868\u793a\u200b\u5ffd\u7565\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u5939\u200b\u3002<code>!path/to/uploaded_file.txt</code> \u200b\u8868\u793a\u200b\u4e0d\u200b\u5ffd\u7565\u200b <code>path/to/uploaded_file.txt</code> \u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u6dfb\u52a0-submodule","title":"\u6dfb\u52a0\u200b <code>submodule</code>","text":"<p>\u200b\u8981\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u4ed3\u5e93\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\u6620\u5c04\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u4ed3\u5e93\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Git \u200b\u7684\u200b submodule \u200b\u529f\u80fd\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u6dfb\u52a0\u200b submodule \u200b\u7684\u200b\u57fa\u672c\u200b\u6b65\u9aa4\u200b\uff1a</p> <ol> <li> <p>\u200b\u6253\u5f00\u200b\u4f60\u200b\u60f3\u8981\u200b\u6dfb\u52a0\u200b submodule \u200b\u7684\u200b\u4ed3\u5e93\u200b\u7684\u200b\u672c\u5730\u200b\u526f\u672c\u200b\u3002</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u6dfb\u52a0\u200b submodule\uff1a    Bash<pre><code>git submodule add &lt;URL of the repository you want to add&gt; &lt;path to the directory in your repository&gt;\n</code></pre></p> </li> </ol> <p>\u200b\u4f8b\u5982\u200b\uff1a    Bash<pre><code>git submodule add https://github.com/username/another-repository.git path/to/directory\n</code></pre></p> <ol> <li> <p>\u200b\u6dfb\u52a0\u200b\u5e76\u200b\u63d0\u4ea4\u200b submodule \u200b\u66f4\u6539\u200b\uff1a    Bash<pre><code>git add .\ngit commit -m \"Add submodule: &lt;submodule name&gt;\"\n</code></pre></p> </li> <li> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u66f4\u6539\u200b\u63a8\u9001\u200b\u5230\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\uff0c\u200b\u786e\u4fdd\u200b\u5728\u200b\u63a8\u9001\u200b\u4e4b\u524d\u200b\u521d\u59cb\u5316\u200b\u5e76\u200b\u66f4\u65b0\u200b\u5b50\u200b\u6a21\u5757\u200b\uff1a    Bash<pre><code>git submodule update --init --recursive\n</code></pre></p> </li> </ol> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u4f60\u200b\u7684\u200b\u4e3b\u200b\u4ed3\u5e93\u200b\u4e2d\u200b\u7684\u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\u5e94\u8be5\u200b\u6620\u5c04\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u4ed3\u5e93\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5f53\u200b\u5176\u4ed6\u4eba\u200b\u514b\u9686\u200b\u4f60\u200b\u7684\u200b\u4ed3\u5e93\u200b\u65f6\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u9700\u8981\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u6765\u200b\u521d\u59cb\u5316\u200b\u5e76\u200b\u62c9\u200b\u53d6\u5b50\u200b\u6a21\u5757\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a Bash<pre><code>git submodule update --init --recursive\n</code></pre></p> <p>\u200b\u8fd9\u6837\u200b\u4ed6\u4eec\u200b\u624d\u80fd\u200b\u83b7\u53d6\u200b\u5230\u5b50\u200b\u6a21\u5757\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u8fde\u63a5-github-\u7684\u95ee\u9898","title":"\u8fde\u63a5\u200b GitHub \u200b\u7684\u200b\u95ee\u9898","text":"","tags":["Computer Science"]},{"location":"blog/git/#\u6d4b\u8bd5\u548c-github-\u7684\u7f51\u7edc\u901a\u4fe1\u662f\u5426\u6b63\u5e38","title":"\u6d4b\u8bd5\u200b\u548c\u200b GitHub \u200b\u7684\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u662f\u5426\u200b\u6b63\u5e38","text":"<p><code>ssh -T -p 443 git@ssh.github.com</code>\u200b\u6765\u200b\u6d4b\u8bd5\u200b\u548c\u200b GitHub \u200b\u7684\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u662f\u5426\u200b\u6b63\u5e38\u200b\uff0c\u200b\u5982\u679c\u200b\u63d0\u793a\u200b<code>Hi xxxxx! You've successfully authenticated, but GitHub does notprovide shell access.</code> \u200b\u5c31\u200b\u8868\u793a\u200b\u4e00\u5207\u6b63\u5e38\u200b\u4e86\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u62a5\u9519-the-tls-connection-was-non-properly-terminated","title":"\u62a5\u9519\u200b The TLS connection was non-properly terminated.","text":"Text Only<pre><code>git push origin master:master\nfatal: unable to access 'https://github.com/XXX.git/': gnutls_handshake() failed: The TLS connection was non-properly terminated.\n</code></pre> <p>\u200b\u4e24\u79cd\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li> <p><code>bash     git config --global http.sslVerify false</code></p> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u66fe\u7ecf\u200b\u6210\u529f\u200b\u8fc7\u200b\uff0c\u200b\u4f46\u200b\u540e\u6765\u200b\u518d\u200b\u9047\u5230\u200b\u65f6\u200b\u53c8\u200b\u62a5\u9519\u200b\u4e86\u200b\u3002</p> </li> <li> <p><code>bash     git push -u origin master --force</code></p> <p>\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\u5931\u6548\u200b\u65f6\u200b\uff0c\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u89e3\u51b3\u200b\u62a5\u9519\u200b\u3002</p> </li> </ol> <p></p>","tags":["Computer Science"]},{"location":"blog/git/#\u62a5\u9519-fatal-unable-to-access-xxx-failed-to-connect-to-githubcom-port-443-after-21072-ms-timed-out","title":"\u62a5\u9519\u200b fatal: unable to access xxx: Failed to connect to github.com port 443 after 21072 ms: Timed out","text":"<p>\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff1a</p> <p>\u200b\u5220\u9664\u200b\u539f\u6709\u200b\u7684\u200b SSH Key\uff0c\u200b\u518d\u200b\u91cd\u65b0\u200b\u751f\u6210\u200b\u4e00\u4efd\u200b SSH Key\uff0c\u200b\u4e0a\u4f20\u200b\u65b0\u200b\u7684\u200b SSH Key \u200b\u5230\u200b GitHub\u3002</p>","tags":["Computer Science"]},{"location":"blog/git/#\u4e3agit\u914d\u7f6e\u4ee3\u7406","title":"\u4e3a\u200b<code>Git</code>\u200b\u914d\u7f6e\u200b\u4ee3\u7406","text":"Bash<pre><code>git config --global http.sslverify false\ngit config --global http.https://github.com.proxy socks://127.0.0.1:10808\ngit config --global https.https://github.com.proxy socks://127.0.0.1:10808\n</code></pre> Bash<pre><code># \u200b\u5220\u9664\u200b\u91cd\u7f6e\u200b\u4e0a\u8ff0\u200b\u53c2\u6570\u200b\ngit config --global --unset http.sslverify\ngit config --global --unset http.proxy\ngit config --global --unset https.proxy\n</code></pre>","tags":["Computer Science"]},{"location":"blog/python-memory-size/","title":"Python \u200b\u5185\u5b58\u200b\u5206\u914d","text":"<p>\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u200b\u4e86\u200b \u200b\u8c4c\u8c46\u200b\u82b1\u4e0b\u200b\u732b\u200b \u200b\u7684\u200b 2019-08-31 Python \u200b\u5185\u5b58\u200b\u5206\u914d\u200b\u65f6\u200b\u7684\u200b\u5c0f\u200b\u79d8\u5bc6\u200b\u3002\u200b\u8be5\u200b\u6587\u7ae0\u200b\u5206\u6790\u200b\u4e86\u200b\u9759\u6001\u200b\u521b\u5efa\u5bf9\u8c61\u200b\u3001\u200b\u52a8\u6001\u200b\u4fee\u6539\u200b\u5bf9\u8c61\u200b\u65f6\u200b\u7684\u200b\u5185\u5b58\u200b\u6269\u5145\u200b\u673a\u5236\u200b\u3002</p> <p></p> <p>Python \u200b\u4e2d\u200b\u7684\u200b<code>sys</code> \u200b\u6a21\u5757\u200b\u6781\u4e3a\u200b\u57fa\u7840\u200b\u800c\u200b\u91cd\u8981\u200b\uff0c\u200b\u5b83\u200b\u4e3b\u8981\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u7ed9\u200b\u89e3\u91ca\u5668\u200b\u4f7f\u7528\u200b\uff08\u200b\u6216\u200b\u7531\u200b\u5b83\u200b\u7ef4\u62a4\u200b\uff09\u200b\u7684\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u4e9b\u200b\u4e0e\u200b\u89e3\u91ca\u5668\u200b\u5f3a\u200b\u4ea4\u4e92\u200b\u7684\u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u5c06\u4f1a\u200b\u9891\u7e41\u200b\u5730\u200b\u4f7f\u7528\u200b\u8be5\u200b\u6a21\u5757\u200b\u7684\u200b<code>getsizeof()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u5148\u200b\u7b80\u8981\u200b\u4ecb\u7ecd\u200b\u4e00\u4e0b\u200b\uff1a</p> <ul> <li>\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u7528\u4e8e\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b\uff08bytes\uff09</li> <li>\u200b\u5b83\u200b\u53ea\u200b\u8ba1\u7b97\u200b\u76f4\u63a5\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u8ba1\u7b97\u200b\u5bf9\u8c61\u200b\u5185\u6240\u200b\u5f15\u7528\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5185\u5b58\u200b</li> </ul> <p>\u200b\u8fd9\u91cc\u200b\u6709\u4e2a\u200b\u76f4\u89c2\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff1a</p> Python<pre><code>import sys\na = [1, 2]\nb = [a, a]  # \u200b\u5373\u200b [[1, 2], [1, 2]]\n# a\u3001b \u200b\u90fd\u200b\u53ea\u6709\u200b\u4e24\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u6240\u4ee5\u200b\u76f4\u63a5\u200b\u5360\u7528\u200b\u7684\u200b\u5927\u5c0f\u200b\u76f8\u7b49\u200b\nsys.getsizeof(a)  # \u200b\u7ed3\u679c\u200b\uff1a80\nsys.getsizeof(b)  # \u200b\u7ed3\u679c\u200b\uff1a80\n</code></pre> <p>\u200b\u4e0a\u200b\u4f8b\u200b\u8bf4\u660e\u200b\u4e86\u200b\u4e00\u4ef6\u200b\u4e8b\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u9759\u6001\u200b\u521b\u5efa\u200b\u7684\u200b\u5217\u8868\u200b\uff0c\u200b\u5982\u679c\u200b\u53ea\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u90a3\u200b\u5b83\u200b\u81ea\u8eab\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u5c31\u662f\u200b 80 \u200b\u5b57\u8282\u200b\uff0c\u200b\u4e0d\u7ba1\u200b\u5176\u200b\u5143\u7d20\u200b\u6240\u200b\u6307\u5411\u200b\u7684\u200b\u5bf9\u8c61\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-memory-size/#\u7a7a\u5bf9\u8c61\u4e0d\u662f\u7a7a\u7684","title":"\u7a7a\u200b\u5bf9\u8c61\u200b\u4e0d\u662f\u200b\u201c\u200b\u7a7a\u200b\u201d\u200b\u7684","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6211\u4eec\u200b\u719f\u77e5\u200b\u7684\u200b\u4e00\u4e9b\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4f8b\u5982\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\u3001\u200b\u7a7a\u200b\u5217\u8868\u200b\u3001\u200b\u7a7a\u200b\u5b57\u5178\u200b\u7b49\u7b49\u200b\uff0c\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5927\u5bb6\u200b\u662f\u5426\u200b\u66fe\u200b\u597d\u5947\u200b\u8fc7\u200b\uff0c\u200b\u662f\u5426\u200b\u66fe\u200b\u601d\u8003\u200b\u8fc7\u200b\u8fd9\u4e9b\u200b\u95ee\u9898\u200b\uff1a\u200b\u7a7a\u200b\u7684\u200b\u5bf9\u8c61\u200b\u662f\u4e0d\u662f\u200b\u4e0d\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u5462\u200b\uff1f\u200b\u5982\u679c\u200b\u5360\u200b\u5185\u5b58\u200b\uff0c\u200b\u90a3\u200b\u5360\u7528\u200b\u591a\u5c11\u200b\u5462\u200b\uff1f\u200b\u4e3a\u4ec0\u4e48\u200b\u662f\u200b\u8fd9\u6837\u200b\u5206\u914d\u200b\u7684\u200b\u5462\u200b\uff1f</p> <p>\u200b\u76f4\u63a5\u200b\u4e0a\u200b\u4ee3\u7801\u200b\u5427\u200b\uff0c\u200b\u4e00\u200b\u8d77\u6765\u200b\u770b\u770b\u200b\u51e0\u7c7b\u200b\u57fa\u672c\u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5927\u5c0f\u200b\uff1a</p> Python<pre><code>import sys\nsys.getsizeof(\"\")  # 49\nsys.getsizeof([])  # 64\nsys.getsizeof(())  # 48\nsys.getsizeof(set())  # 224\nsys.getsizeof(dict())  # 240\n# \u200b\u4f5c\u4e3a\u200b\u53c2\u7167\u200b\uff1a\nsys.getsizeof(1)  # 28\nsys.getsizeof(True)  # 28\n</code></pre> <p>\u200b\u53ef\u89c1\u200b\uff0c\u200b\u867d\u7136\u200b\u90fd\u200b\u662f\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u4e9b\u200b\u5bf9\u8c61\u200b\u5728\u200b\u5185\u5b58\u200b\u5206\u914d\u200b\u4e0a\u200b\u5e76\u200b\u4e0d\u200b\u4e3a\u200b\u201c\u200b\u7a7a\u200b\u201d\uff0c\u200b\u800c\u4e14\u200b\u5206\u914d\u200b\u5f97\u200b\u8fd8\u200b\u633a\u200b\u5927\u200b\uff08\u200b\u8bb0\u4f4f\u200b\u8fd9\u200b\u51e0\u4e2a\u200b\u6570\u5b57\u200b\u54e6\u200b\uff0c\u200b\u540e\u9762\u200b\u4f1a\u8003\u200b\uff09\u3002</p> <p>\u200b\u6392\u200b\u4e00\u4e0b\u200b\u5e8f\u200b\uff1a\u200b\u57fa\u7840\u200b\u6570\u5b57\u200b&lt;\u200b\u7a7a\u200b\u5143\u7ec4\u200b &lt; \u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b &lt; \u200b\u7a7a\u200b\u5217\u8868\u200b &lt; \u200b\u7a7a\u96c6\u5408\u200b &lt; \u200b\u7a7a\u200b\u5b57\u5178\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u5c0f\u200b\u79d8\u5bc6\u200b\u8be5\u200b\u600e\u4e48\u200b\u89e3\u91ca\u200b\u5462\u200b\uff1f</p> <p>\u200b\u56e0\u4e3a\u200b\u8fd9\u4e9b\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\u90fd\u200b\u662f\u200b\u5bb9\u5668\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u62bd\u8c61\u5730\u200b\u7406\u89e3\u200b\uff1a\u200b\u5b83\u4eec\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u5185\u5b58\u200b\u7528\u4e8e\u200b\u521b\u5efa\u200b\u5bb9\u5668\u200b\u7684\u200b\u9aa8\u67b6\u200b\u3001\u200b\u8bb0\u5f55\u200b\u5bb9\u5668\u200b\u7684\u200b\u4fe1\u606f\u200b\uff08\u200b\u5982\u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b\u3001\u200b\u4f7f\u7528\u91cf\u200b\u4fe1\u606f\u200b\u7b49\u7b49\u200b\uff09\u3001\u200b\u8fd8\u6709\u200b\u4e00\u90e8\u5206\u200b\u5185\u5b58\u200b\u5219\u200b\u662f\u200b\u9884\u200b\u5206\u914d\u200b\u7684\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-memory-size/#\u5185\u5b58\u6269\u5145\u4e0d\u662f\u5747\u5300\u7684","title":"\u5185\u5b58\u200b\u6269\u5145\u200b\u4e0d\u662f\u200b\u5747\u5300\u200b\u7684","text":"<p>\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\u5e76\u200b\u4e0d\u200b\u4e3a\u200b\u7a7a\u200b\uff0c\u200b\u4e00\u90e8\u5206\u200b\u539f\u56e0\u200b\u662f\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u4e3a\u200b\u5b83\u4eec\u200b\u9884\u200b\u5206\u914d\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u521d\u59cb\u200b\u7a7a\u95f4\u200b\u3002\u200b\u5728\u200b\u4e0d\u200b\u8d85\u51fa\u200b\u521d\u59cb\u200b\u5185\u5b58\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u65b0\u589e\u200b\u5143\u7d20\u200b\uff0c\u200b\u5c31\u200b\u4f7f\u7528\u200b\u5df2\u6709\u200b\u5185\u5b58\u200b\uff0c\u200b\u56e0\u800c\u200b\u907f\u514d\u200b\u4e86\u200b\u518d\u200b\u53bb\u200b\u7533\u8bf7\u200b\u65b0\u200b\u7684\u200b\u5185\u5b58\u200b\u3002</p> <p>\u200b\u90a3\u4e48\u200b\uff0c\u200b\u5982\u679c\u200b\u521d\u59cb\u200b\u5185\u5b58\u200b\u88ab\u200b\u5206\u914d\u200b\u5b8c\u200b\u4e4b\u540e\u200b\uff0c\u200b\u65b0\u200b\u7684\u200b\u5185\u5b58\u200b\u662f\u200b\u600e\u4e48\u200b\u5206\u914d\u200b\u7684\u200b\u5462\u200b\uff1f</p> Python<pre><code>import sys\nletters = \"abcdefghijklmnopqrstuvwxyz\"\na = []\nfor i in letters:\na.append(i)\nprint(f\"{len(a)}, sys.getsizeof(a) = {sys.getsizeof(a)}\")\nb = set()\nfor j in letters:\nb.add(j)\nprint(f\"{len(b)}, sys.getsizeof(b) = {sys.getsizeof(b)}\")\nc = dict()\nfor k in letters:\nc[k] = k\nprint(f\"{len(c)}, sys.getsizeof(c) = {sys.getsizeof(c)}\")\n</code></pre> <p>\u200b\u5206\u522b\u200b\u7ed9\u200b\u4e09\u7c7b\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u6dfb\u52a0\u200b 26 \u200b\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u770b\u770b\u200b\u7ed3\u679c\u200b\u5982\u4f55\u200b\uff1a</p> <p></p> <p>\u200b\u7531\u6b64\u200b\u80fd\u200b\u770b\u51fa\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u5728\u200b\u6269\u5145\u200b\u65f6\u200b\u7684\u200b\u79d8\u5bc6\u200b\uff1a</p> <ul> <li>\u200b\u8d85\u989d\u5206\u914d\u200b\u673a\u5236\u200b\uff1a \u200b\u7533\u8bf7\u200b\u65b0\u200b\u5185\u5b58\u200b\u65f6\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6309\u9700\u5206\u914d\u200b\u7684\u200b\uff0c\u200b\u800c\u662f\u200b\u591a\u200b\u5206\u914d\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f53\u200b\u518d\u200b\u6dfb\u52a0\u200b\u5c11\u91cf\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u9a6c\u4e0a\u200b\u53bb\u200b\u7533\u8bf7\u200b\u65b0\u200b\u5185\u5b58\u200b</li> <li>\u200b\u975e\u200b\u5747\u5300\u200b\u5206\u914d\u673a\u5236\u200b\uff1a \u200b\u4e09\u7c7b\u200b\u5bf9\u8c61\u200b\u7533\u8bf7\u200b\u65b0\u200b\u5185\u5b58\u200b\u7684\u200b\u9891\u7387\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\uff0c\u200b\u800c\u540c\u200b\u4e00\u7c7b\u200b\u5bf9\u8c61\u200b\u6bcf\u6b21\u200b\u8d85\u989d\u5206\u914d\u200b\u7684\u200b\u5185\u5b58\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5747\u5300\u200b\u7684\u200b\uff0c\u200b\u800c\u662f\u200b\u9010\u6e10\u200b\u6269\u5927\u200b\u7684\u200b</li> </ul>","tags":["Python"]},{"location":"blog/python-memory-size/#\u5217\u8868\u4e0d\u7b49\u4e8e\u5217\u8868","title":"\u5217\u8868\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u5217\u8868","text":"<p>\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u5728\u200b\u6269\u5145\u200b\u65f6\u200b\uff0c\u200b\u6709\u200b\u76f8\u4f3c\u200b\u7684\u200b\u5206\u914d\u673a\u5236\u200b\uff0c\u200b\u5728\u200b\u52a8\u6001\u200b\u6269\u5bb9\u200b\u65f6\u200b\u53ef\u200b\u660e\u663e\u200b\u770b\u51fa\u200b\u6548\u679c\u200b\u3002</p> <p>\u200b\u90a3\u4e48\u200b\uff0c\u200b\u9759\u6001\u200b\u521b\u5efa\u200b\u7684\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u4e5f\u200b\u6709\u200b\u8fd9\u6837\u200b\u7684\u200b\u5206\u914d\u673a\u5236\u200b\u5462\u200b\uff1f\u200b\u5b83\u200b\u8ddf\u200b\u52a8\u6001\u200b\u6269\u5bb9\u200b\u6bd4\u200b\uff0c\u200b\u662f\u5426\u200b\u6709\u6240\u533a\u522b\u200b\u5462\u200b\uff1f</p> <p>\u200b\u5148\u200b\u770b\u770b\u200b\u96c6\u5408\u200b\u4e0e\u200b\u5b57\u5178\u200b\uff1a</p> Python<pre><code># \u200b\u9759\u6001\u200b\u521b\u5efa\u5bf9\u8c61\u200b\nset_1 = {1, 2, 3, 4}\nset_2 = {1, 2, 3, 4, 5}\ndict_1 = {\"a\": 1, \"b\": 2, \"c\": 3, \"d\": 4, \"e\": 5}\ndict_2 = {\"a\": 1, \"b\": 2, \"c\": 3, \"d\": 4, \"e\": 5, \"f\": 6}\nsys.getsizeof(set_1)  # 224\nsys.getsizeof(set_2)  # 736\nsys.getsizeof(dict_1)  # 240\nsys.getsizeof(dict_2)  # 368\n</code></pre> <p>\u200b\u770b\u5230\u200b\u8fd9\u4e2a\u200b\u7ed3\u679c\u200b\uff0c\u200b\u518d\u200b\u5bf9\u6bd4\u200b\u4e0a\u200b\u4e00\u8282\u200b\u7684\u200b\u622a\u56fe\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff1a\u200b\u5728\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\u76f8\u7b49\u200b\u65f6\u200b\uff0c\u200b\u9759\u6001\u200b\u521b\u5efa\u200b\u7684\u200b\u96c6\u5408\u200b/\u200b\u5b57\u5178\u200b\u6240\u200b\u5360\u200b\u7684\u200b\u5185\u5b58\u200b\u8ddf\u200b\u52a8\u6001\u200b\u6269\u5bb9\u200b\u65f6\u200b\u5b8c\u5168\u200b\u4e00\u6837\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u7ed3\u8bba\u200b\u662f\u5426\u200b\u9002\u7528\u200b\u4e8e\u200b\u5217\u8868\u200b\u5bf9\u8c61\u200b\u5462\u200b\uff1f\u200b\u4e00\u8d77\u200b\u770b\u770b\u200b\uff1a</p> Python<pre><code>list_1 = [\"a\", \"b\"]\nlist_2 = [\"a\", \"b\", \"c\"]\nlist_3 = [\"a\", \"b\", \"c\", \"d\"]\nlist_4 = [\"a\", \"b\", \"c\", \"d\", \"e\"]\nsys.getsizeof(list_1)  # 80\nsys.getsizeof(list_2)  # 88\nsys.getsizeof(list_3)  # 96\nsys.getsizeof(list_4)  # 104\n</code></pre> <p>\u200b\u4e0a\u200b\u4e00\u8282\u200b\u7684\u200b\u622a\u56fe\u200b\u663e\u793a\u200b\uff0c\u200b\u5217\u8868\u200b\u5728\u200b\u524d\u200b 4 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u65f6\u200b\u90fd\u200b\u5360\u200b 96 \u200b\u5b57\u8282\u200b\uff0c\u200b\u5728\u200b 5 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u65f6\u200b\u5360\u200b 128 \u200b\u5b57\u8282\u200b\uff0c\u200b\u4e0e\u200b\u8fd9\u91cc\u200b\u660e\u663e\u200b\u77db\u76fe\u200b\u3002</p> <p>\u200b\u6240\u4ee5\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u79d8\u5bc6\u200b\u662d\u7136\u82e5\u63ed\u200b\uff1a\u200b\u5728\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\u76f8\u7b49\u200b\u65f6\u200b\uff0c\u200b\u9759\u6001\u200b\u521b\u5efa\u200b\u7684\u200b\u5217\u8868\u200b\u6240\u200b\u5360\u200b\u7684\u200b\u5185\u5b58\u200b\u6709\u200b\u53ef\u80fd\u200b\u5c0f\u4e8e\u200b\u52a8\u6001\u200b\u6269\u5bb9\u200b\u65f6\u200b\u7684\u200b\u5185\u5b58\u200b\uff01</p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u5217\u8868\u200b\u770b\u4f3c\u200b\u76f8\u540c\u200b\uff0c\u200b\u5b9e\u9645\u200b\u5374\u200b\u4e0d\u540c\u200b\uff01\u200b\u5217\u8868\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u5217\u8868\u200b\uff01</p>","tags":["Python"]},{"location":"blog/python-memory-size/#\u6d88\u51cf\u5143\u7d20\u5e76\u4e0d\u4f1a\u91ca\u653e\u5185\u5b58","title":"\u6d88\u51cf\u200b\u5143\u7d20\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u91ca\u653e\u200b\u5185\u5b58","text":"<p>\u200b\u524d\u9762\u200b\u63d0\u5230\u200b\u4e86\u200b\uff0c\u200b\u6269\u5145\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u7533\u8bf7\u200b\u65b0\u200b\u7684\u200b\u5185\u5b58\u200b\u3002</p> <p>\u200b\u90a3\u4e48\u200b\uff0c\u200b\u5982\u679c\u200b\u53cd\u8fc7\u6765\u200b\u7f29\u51cf\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u51cf\u6389\u200b\u4e00\u4e9b\u200b\u5143\u7d20\u200b\u540e\u200b\uff0c\u200b\u65b0\u200b\u7533\u8bf7\u200b\u7684\u200b\u5185\u5b58\u200b\u662f\u5426\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u56de\u6536\u200b\u6389\u200b\u5462\u200b\uff1f</p> Python<pre><code>import sys\na = [1, 2, 3, 4]\nsys.getsizeof(a)  # \u200b\u521d\u59cb\u503c\u200b\uff1a96\na.append(5)  # \u200b\u6269\u5145\u200b\u540e\u200b\uff1a[1, 2, 3, 4, 5]\nsys.getsizeof(a)  # \u200b\u6269\u5145\u200b\u540e\u200b\uff1a128\na.pop()  # \u200b\u7f29\u51cf\u200b\u540e\u200b\uff1a[1, 2, 3, 4]\nsys.getsizeof(a)  # \u200b\u7f29\u51cf\u200b\u540e\u200b\uff1a128\n</code></pre> <p>\u200b\u5982\u200b\u4ee3\u7801\u200b\u6240\u793a\u200b\uff0c\u200b\u5217\u8868\u200b\u5728\u200b\u4e00\u200b\u6269\u4e00\u7f29\u200b\u540e\u200b\uff0c\u200b\u867d\u7136\u200b\u56de\u5230\u200b\u4e86\u200b\u539f\u6837\u200b\uff0c\u200b\u4f46\u662f\u200b\u6240\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u53ef\u200b\u6ca1\u6709\u200b\u81ea\u52a8\u200b\u91ca\u653e\u200b\u554a\u200b\u3002\u200b\u5176\u5b83\u200b\u7684\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u540c\u7406\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u5c31\u662f\u200b Python \u200b\u7684\u200b\u5c0f\u200b\u79d8\u5bc6\u200b\u4e86\u200b\uff0c\u201c\u200b\u80d6\u5b50\u200b\u65e0\u6cd5\u200b\u51cf\u91cd\u200b\u539f\u7406\u200b\u201d \uff1a\u200b\u7626\u5b50\u200b\u53d8\u80d6\u200b\u5bb9\u6613\u200b\uff0c\u200b\u7f29\u51cf\u200b\u8eab\u578b\u200b\u4e5f\u200b\u5bb9\u6613\u200b\uff0c\u200b\u4f46\u662f\u200b\u4f53\u91cd\u200b\u51cf\u4e0d\u6389\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-memory-size/#\u7a7a\u5b57\u5178\u4e0d\u7b49\u4e8e\u7a7a\u5b57\u5178","title":"\u7a7a\u200b\u5b57\u5178\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u7a7a\u200b\u5b57\u5178","text":"<p>\u200b\u4f7f\u7528\u200b pop() \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ea\u4f1a\u200b\u7f29\u51cf\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u4f46\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u91ca\u653e\u200b\u5df2\u200b\u7533\u8bf7\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u3002</p> <p>\u200b\u8fd8\u6709\u200b\u4e2a\u200b clear() \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u6e05\u7a7a\u200b\u53ef\u53d8\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u8bd5\u8bd5\u770b\u200b\u5427\u200b\uff1a</p> Python<pre><code>import sys\na = [1, 2, 3]\nb = {1, 2, 3}\nc = {\"a\": 1, \"b\": 2, \"c\": 3}\nsys.getsizeof(a)  # 88\nsys.getsizeof(b)  # 224\nsys.getsizeof(c)  # 240\na.clear()  # \u200b\u6e05\u7a7a\u200b\u540e\u200b\uff1a[]\nb.clear()  # \u200b\u6e05\u7a7a\u200b\u540e\u200b\uff1aset()\nc.clear()  # \u200b\u6e05\u7a7a\u200b\u540e\u200b\uff1a{}\uff0c\u200b\u4e5f\u200b\u5373\u200b dict()\n</code></pre> <p>\u200b\u8c03\u7528\u200b clear() \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u83b7\u5f97\u200b\u4e86\u200b\u51e0\u4e2a\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\u3002</p> <p>\u200b\u5728\u200b\u7b2c\u4e00\u200b\u5c0f\u8282\u200b\u91cc\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u5185\u5b58\u5927\u5c0f\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u67e5\u9a8c\u200b\u8fc7\u200b\u4e86\u200b\u3002\uff08\u200b\u524d\u9762\u200b\u8bf4\u200b\u8fc7\u200b\u4f1a\u8003\u200b\u7684\u200b\uff0c\u200b\u8bf7\u200b<sub>~\u200b\u9ed8\u5199\u200b</sub>~ \u200b\u56de\u770b\u200b\u4e0b\u200b\uff09</p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u8fd9\u65f6\u200b\u518d\u200b\u53bb\u200b\u67e5\u9a8c\u200b\u7684\u8bdd\u200b\uff0c\u200b\u4f60\u200b\u4f1a\u200b\u60ca\u8bb6\u200b\u5730\u200b\u53d1\u73b0\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u7a7a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5927\u5c0f\u200b\u8ddf\u200b\u524d\u9762\u200b\u67e5\u200b\u7684\u200b\u5e76\u200b\u4e0d\u200b\u5b8c\u5168\u200b\u4e00\u6837\u200b\uff01</p> Python<pre><code># \u200b\u627f\u63a5\u200b\u524d\u9762\u200b\u7684\u200b\u6e05\u7a7a\u200b\u64cd\u4f5c\u200b\uff1a\nsys.getsizeof(a)  # 64\nsys.getsizeof(b)  # 224\nsys.getsizeof(c)  # 72\n</code></pre> <p>\u200b\u7a7a\u200b\u5217\u8868\u200b\u4e0e\u200b\u7a7a\u200b\u5143\u7ec4\u200b\u7684\u200b\u5927\u5c0f\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u7136\u800c\u200b\u7a7a\u200b\u5b57\u5178\u200b\uff0872\uff09\u200b\u7adf\u7136\u200b\u6bd4\u200b\u524d\u9762\u200b\u7684\u200b\u7a7a\u200b\u5b57\u5178\u200b\uff08240\uff09\u200b\u8981\u200b\u5c0f\u200b\u5f88\u591a\u200b\uff01</p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u5217\u8868\u200b\u4e0e\u200b\u5143\u7ec4\u200b\u5728\u200b\u6e05\u7a7a\u200b\u5143\u7d20\u200b\u540e\u200b\uff0c\u200b\u56de\u5230\u200b\u8d77\u70b9\u200b\u4e0d\u53d8\u200b\u521d\u200b\u5fc3\u200b\uff0c\u200b\u7136\u800c\u200b\uff0c\u200b\u5b57\u5178\u200b\u8fd9\u200b\u5bb6\u4f19\u200b\u5374\u662f\u200b\u201c\u200b\u8d54\u4e86\u592b\u4eba\u53c8\u6298\u5175\u200b\u201d\uff0c\u200b\u4e0d\u4ec5\u200b\u628a\u200b\u201c\u200b\u5403\u200b\u201d\u200b\u8fdb\u53bb\u200b\u7684\u200b\u5168\u200b\u5410\u51fa\u6765\u200b\u4e86\u200b\uff0c\u200b\u8fd8\u200b\u628a\u200b\u81ea\u5df1\u200b\u7684\u200b\u8001\u672c\u200b\u7ed9\u200b\u4e8f\u6389\u200b\u4e86\u200b\uff01</p>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5","text":"<p>\u200b\u5728\u200b\u6784\u5efa\u200b\u5927\u578b\u9879\u76ee\u200b\u65f6\u200b\uff0c\u200b\u4e00\u4e9b\u200b\u8fdb\u9636\u200b\u7684\u200b Python \u200b\u5f00\u53d1\u6280\u672f\u200b\u80fd\u591f\u200b\u8ba9\u200b\u6211\u4eec\u200b\u7f16\u5199\u200b\u53ef\u200b\u590d\u7528\u200b\u3001\u200b\u53ef\u200b\u62d3\u5c55\u200b\u3001\u200b\u66f4\u200b\u4f18\u96c5\u200b\u3001\u200b\u66f4\u200b\u9ad8\u6548\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u4ee3\u7801\u200b\u6e05\u6670\u200b\u3001\u200b\u6574\u6d01\u200b\u4e14\u200b\u4fbf\u4e8e\u200b\u7ef4\u62a4\u200b\u3002\u200b\u672c\u200b\u7cfb\u5217\u200b\u7b14\u8bb0\u200b\u53c2\u8003\u200b\u4e86\u200b YouTube NeuralNine \u200b\u9891\u9053\u200b \u200b\u7684\u200b Python Advanced Tutorials \u200b\u7cfb\u5217\u200b\u89c6\u9891\u200b\uff0c\u200b\u5185\u5bb9\u200b\u6db5\u76d6\u200b\u9b54\u6cd5\u200b\u51fd\u6570\u200b\u3001\u200b\u88c5\u9970\u200b\u5668\u200b\u3001\u200b\u751f\u6210\u5668\u200b\u3001\u200b\u53c2\u6570\u200b\u89e3\u6790\u200b\u7b49\u200b\u5185\u5bb9\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u7684\u200b\u4f5c\u7528\u200b\u53ca\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5305\u62ec\u200b<code>__init__</code>\u3001<code>__str__</code>\u3001<code>__len__</code>\u3001<code>__getitem__</code>\u3001<code>__add__</code>\u3001<code>__call__</code> \u200b\u548c\u200b <code>__format__</code> \u200b\u7b49\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#\u53cc\u4e0b\u5212\u7ebf-dunder","title":"\u53cc\u200b\u4e0b\u5212\u7ebf\u200b Dunder","text":"<p>\"Dunder\"\u200b\u662f\u200b\"Double Under\"\uff08\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\uff09\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7f29\u5199\u200b\u3002\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u4ee5\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u5f00\u5934\u200b\u548c\u200b\u7ed3\u5c3e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6709\u65f6\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\"Dunder Methods\"\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c<code>__init__</code>\u3001<code>__str__</code>\u3001<code>__len__</code>\u200b\u548c\u200b<code>__getitem__</code>\u200b\u7b49\u200b\u90fd\u200b\u662f\u200b Python \u200b\u4e2d\u200b\u5e38\u89c1\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5177\u6709\u200b\u7279\u6b8a\u200b\u7684\u200b\u529f\u80fd\u200b\u548c\u200b\u7528\u9014\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u65b9\u6cd5\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u4f5c\u4e3a\u200b\u524d\u7f00\u200b\u548c\u200b\u540e\u7f00\u200b\u6765\u200b\u6807\u8bc6\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u4e0e\u200b\u666e\u901a\u200b\u65b9\u6cd5\u200b\u533a\u5206\u200b\u5f00\u6765\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#\u5e38\u89c1\u7684-python-\u9b54\u6cd5\u65b9\u6cd5\u53ca\u5176\u529f\u80fd","title":"\u5e38\u89c1\u200b\u7684\u200b Python \u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u53ca\u5176\u200b\u529f\u80fd","text":"","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__init__","title":"<code>__init__</code>","text":"<p><code>__init__</code>: \u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u521b\u5efa\u5bf9\u8c61\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u5176\u200b\u521d\u59cb\u72b6\u6001\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class MyClass:\ndef __init__(self, name):\nself.name = name\nobj = MyClass(\"John\")\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__str__","title":"<code>__str__</code>","text":"<p><code>__str__</code>: \u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u8868\u793a\u200b\u5f62\u5f0f\u200b\uff0c \u200b\u53ef\u200b\u901a\u8fc7\u200b<code>str(obj)</code>\u200b\u6216\u200b<code>print(obj)</code>\u200b\u8c03\u7528\u200b \u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class MyClass:\ndef __init__(self, name):\nself.name = name\ndef __str__(self):\nreturn f\"MyClass object with name: {self.name}\"\nobj = MyClass(\"John\")\nprint(obj)  # \u200b\u8f93\u51fa\u200b\uff1aMyClass object with name: John\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__len__","title":"<code>__len__</code>","text":"<p><code>__len__</code>: \u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u7684\u200b\u957f\u5ea6\u200b\uff0c \u200b\u53ef\u200b\u901a\u8fc7\u200b<code>len(obj)</code>\u200b\u8c03\u7528\u200b \u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class MyList:\ndef __init__(self, items):\nself.items = items\ndef __len__(self):\nreturn len(self.items)\nmy_list = MyList([1, 2, 3, 4, 5])\nprint(len(my_list))  # \u200b\u8f93\u51fa\u200b\uff1a5\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__getitem__","title":"<code>__getitem__</code>","text":"<p><code>__getitem__</code>: \u200b\u83b7\u53d6\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c \u200b\u53ef\u200b\u901a\u8fc7\u200b\u7d22\u5f15\u200b\u6216\u200b\u5207\u7247\u200b\u8c03\u7528\u200b \u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class MyList:\ndef __init__(self, items):\nself.items = items\ndef __getitem__(self, index):\nreturn self.items[index]\nmy_list = MyList([1, 2, 3, 4, 5])\nprint(my_list[2])  # \u200b\u8f93\u51fa\u200b\uff1a3\nprint(my_list[1:4])  # \u200b\u8f93\u51fa\u200b\uff1a[2, 3, 4]\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__add__","title":"<code>__add__</code>","text":"<p><code>__add__</code>\uff1a\u200b\u5b9a\u4e49\u200b\u5bf9\u8c61\u200b\u4e4b\u95f4\u200b\u7684\u200b\u52a0\u6cd5\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5f53\u200b \u200b\u4f7f\u7528\u200b<code>+</code>\u200b\u8fd0\u7b97\u7b26\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b\u76f8\u52a0\u200b \u200b\u65f6\u200b\uff0c\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u5c1d\u8bd5\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\u7684\u200b<code>__add__</code>\u200b\u65b9\u6cd5\u200b\u6765\u200b\u6267\u884c\u200b\u52a0\u6cd5\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class Point:\ndef __init__(self, x, y):\nself.x = x\nself.y = y\ndef __add__(self, other):\nif isinstance(other, Point):\nreturn Point(self.x + other.x, self.y + other.y)\nelse:\nraise TypeError(\"Unsupported operand type: +\")\n# \u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b\u70b9\u200b\u5bf9\u8c61\u200b\npoint1 = Point(1, 2)\npoint2 = Point(3, 4)\n# \u200b\u4f7f\u7528\u200b\u52a0\u6cd5\u200b\u64cd\u4f5c\u7b26\u200b\u76f8\u52a0\u200b\nresult = point1 + point2\n# \u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\nprint(result.x, result.y)\n</code></pre> <p>\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b<code>+</code>\u200b\u8fd0\u7b97\u7b26\u200b\u5bf9\u200b\u4e24\u4e2a\u200b<code>Point</code>\u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b\u76f8\u52a0\u200b\uff0c\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u8c03\u7528\u200b<code>point1.__add__(point2)</code>\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u3002\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u70b9\u200b<code>(1, 2)</code>\u200b\u548c\u200b\u70b9\u200b<code>(3, 4)</code>\u200b\u76f8\u52a0\u200b\u5f97\u5230\u200b\u4e86\u200b\u65b0\u200b\u7684\u200b\u70b9\u200b<code>(4, 6)</code>\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__call__","title":"<code>__call__</code>","text":"<p><code>__call__</code>\uff1a\u200b\u7528\u4e8e\u200b\u4f7f\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u50cf\u200b\u51fd\u6570\u200b\u4e00\u6837\u200b\u88ab\u200b\u8c03\u7528\u200b\u3002\u200b\u5f53\u5bf9\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b \u200b\u4f7f\u7528\u200b\u51fd\u6570\u8c03\u7528\u200b\u8fd0\u7b97\u7b26\u200b<code>()</code> \u200b\u65f6\u200b\uff0c\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u5c1d\u8bd5\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\u7684\u200b<code>__call__</code>\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class Counter:\ndef __init__(self):\nself.count = 0\ndef __call__(self):\nself.count += 1\nprint(f\"Current count: {self.count}\")\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u8ba1\u6570\u5668\u200b\u5bf9\u8c61\u200b\ncounter = Counter()\n# \u200b\u8c03\u7528\u200b\u8ba1\u6570\u5668\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6548\u679c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u51fd\u6570\u8c03\u7528\u200b\ncounter()  # \u200b\u8f93\u51fa\u200b\uff1aCurrent count: 1\ncounter()  # \u200b\u8f93\u51fa\u200b\uff1aCurrent count: 2\ncounter()  # \u200b\u8f93\u51fa\u200b\uff1aCurrent count: 3\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b<code>Counter</code>\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u5177\u6709\u200b\u4e00\u4e2a\u200b<code>count</code>\u200b\u5c5e\u6027\u200b\u548c\u200b\u4e00\u4e2a\u200b<code>__call__</code>\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5728\u200b<code>__call__</code>\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u503c\u52a0\u200b 1\uff0c\u200b\u5e76\u6253\u5370\u200b\u5f53\u524d\u200b\u7684\u200b\u8ba1\u200b\u6570\u503c\u200b\u3002</p> <p>\u200b\u901a\u8fc7\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u5f53\u4f5c\u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u8c03\u7528\u200b\uff0c\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u8c03\u7528\u200b<code>counter.__call__()</code>\uff0c\u200b\u4ece\u800c\u200b\u6267\u884c\u200b<code>__call__</code>\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u7684\u200b\u903b\u8f91\u200b\u3002\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u591a\u6b21\u200b\u8c03\u7528\u200b<code>counter()</code>\uff0c\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u901a\u8fc7\u200b\u5b9e\u73b0\u200b<code>__call__</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u200b\u5bf9\u8c61\u200b\u5177\u6709\u200b\u51fd\u6570\u200b\u7684\u200b\u884c\u4e3a\u200b\uff0c\u200b\u8fd9\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u7528\u4f5c\u200b\u53ef\u200b\u8c03\u7528\u200b\u7684\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\u3001\u200b\u88c5\u9970\u200b\u5668\u200b\u6216\u200b\u4e0a\u4e0b\u6587\u200b\u7ba1\u7406\u5668\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#__format__","title":"<code>__format__</code>","text":"<p>\u200b\u53c2\u8003\u200b\uff1aPython\u2014\u2014\u200b\u8be6\u89e3\u200b__str__, __repr__\u200b\u548c\u200b__format__</p>","tags":["Python"]},{"location":"blog/advanced-python-1-magic-method/#\u5176\u4ed6\u9b54\u6cd5\u65b9\u6cd5","title":"\u5176\u4ed6\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5","text":"<p>\u300a\u200b\u6d41\u7545\u200b\u7684\u200b Python\u300b\u200b\u7b2c\u200b 1 \u200b\u7ae0\u4e2d\u200b\u5217\u51fa\u200b\u4e86\u200b Python \u200b\u4e2d\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\uff1a</p> <p></p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u673a\u5236\u200b\u548c\u200b\u7528\u6cd5\u200b\u3002</p> <p>Python \u200b\u662f\u200b\u4e00\u79cd\u200b\u529f\u80fd\u5f3a\u5927\u200b\u7684\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\uff0c\u200b\u5176\u200b\u7075\u6d3b\u6027\u200b\u548c\u200b\u53ef\u6269\u5c55\u6027\u200b\u4f7f\u5f97\u200b\u5f00\u53d1\u8005\u200b\u80fd\u591f\u200b\u521b\u9020\u200b\u51fa\u200b\u5404\u79cd\u200b\u5f3a\u5927\u200b\u4e14\u200b\u9ad8\u6548\u200b\u7684\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u3002\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u8ba9\u200b Python \u200b\u5982\u6b64\u200b\u53d7\u6b22\u8fce\u200b\u7684\u200b\u7279\u6027\u200b\u5c31\u662f\u200b\u88c5\u9970\u200b\u5668\u200b\uff08Decorators\uff09\u3002</p> <p>\u200b\u88c5\u9970\u200b\u5668\u662f\u200b\u4e00\u79cd\u200b\u53ef\u4ee5\u200b\u52a8\u6001\u200b\u5730\u200b\u4fee\u6539\u200b\u67d0\u4e2a\u200b\u7c7b\u200b\u6216\u200b\u51fd\u6570\u200b\u7684\u200b\u884c\u4e3a\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5728\u200b\u4e0d\u200b\u4fee\u6539\u200b\u6e90\u4ee3\u7801\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e3a\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u7684\u200b\u51fd\u6570\u200b\u6216\u7c7b\u200b\u6dfb\u52a0\u200b\u989d\u5916\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u6211\u200b\u5bf9\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u7406\u89e3\u200b\u662f\u200b\uff1a\u200b\u88c5\u9970\u200b\u5668\u5373\u200b\u4e3a\u200b\u201c\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f20\u51fa\u200b\u4e00\u4e2a\u200b\u88ab\u200b\u52a0\u5de5\u200b\u540e\u200b\u7684\u200b\u51fd\u6570\u200b\u201d\u200b\u7684\u200b\u51fd\u6570\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u88c5\u9970\u5668\u7684\u6982\u5ff5\u548c\u7528\u6cd5","title":"\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u6982\u5ff5\u200b\u548c\u200b\u7528\u6cd5","text":"<p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u6709\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u4e24\u4e2a\u200b\u6570\u5b57\u200b\u7684\u200b\u548c\u200b\uff1a</p> Python<pre><code>def add_numbers(a, b):\nreturn a + b\nresult = add_numbers(3, 5)\nprint(result)  # \u200b\u8f93\u51fa\u200b\uff1a8\n</code></pre> <p>\u200b\u73b0\u5728\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u7684\u200b\u9700\u6c42\u200b\u662f\u200b\u5728\u200b\u51fd\u6570\u200b\u6267\u884c\u200b\u524d\u540e\u200b\u6253\u5370\u200b\u51fa\u200b\u4e00\u4e9b\u200b\u989d\u5916\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5982\u200b\u53c2\u6570\u200b\u548c\u200b\u7ed3\u679c\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4fee\u6539\u200b\u539f\u59cb\u200b\u51fd\u6570\u200b\u6765\u200b\u5b9e\u73b0\u200b\u8fd9\u4e00\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u597d\u200b\u7684\u200b\u5b9e\u8df5\u200b\uff0c\u200b\u7279\u522b\u200b\u662f\u200b\u5f53\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5728\u200b\u591a\u4e2a\u200b\u51fd\u6570\u200b\u4e2d\u200b\u590d\u7528\u200b\u8be5\u200b\u529f\u80fd\u200b\u65f6\u200b\u3002</p> <p>\u200b\u8fd9\u65f6\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u88c5\u9970\u200b\u5668\u6765\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u88c5\u9970\u200b\u5668\u200b\u51fd\u6570\u200b\u7684\u200b\u7b80\u5355\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>def logger(func):\ndef wrapper(*args, **kwargs):\nprint(f\"Calling function {func.__name__} with args {args} and kwargs {kwargs}\")\nresult = func(*args, **kwargs)\nprint(f\"Function {func.__name__} returned {result}\")\nreturn result\nreturn wrapper\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>logger</code> \u200b\u7684\u200b\u88c5\u9970\u200b\u5668\u200b\u51fd\u6570\u200b\uff0c\u200b\u8be5\u200b\u51fd\u6570\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u51fd\u6570\u200b <code>wrapper</code>\u3002<code>wrapper</code> \u200b\u51fd\u6570\u200b\u5305\u88c5\u200b\u4e86\u200b\u539f\u59cb\u200b\u51fd\u6570\u200b\uff0c\u200b\u6253\u5370\u200b\u51fa\u200b\u989d\u5916\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u200b\u8c03\u7528\u200b\u539f\u59cb\u200b\u51fd\u6570\u200b\u672c\u8eab\u200b\u3002\u200b\u6700\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd4\u56de\u200b <code>wrapper</code> \u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u88c5\u9970\u200b\u5668\u200b\u5e94\u7528\u200b\u5230\u200b\u6211\u4eec\u200b\u7684\u200b <code>add_numbers</code> \u200b\u51fd\u6570\u200b\u4e0a\u200b\uff1a</p> Python<pre><code>@logger\ndef add_numbers(a, b):\nreturn a + b\nresult = add_numbers(3, 5)\nprint(result)\n</code></pre> <p></p> <p>\u200b\u901a\u8fc7\u200b\u5728\u200b <code>add_numbers</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4e4b\u524d\u200b\u6dfb\u52a0\u200b <code>@logger</code>\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b <code>add_numbers</code> \u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u4f20\u9012\u200b\u7ed9\u200b\u4e86\u200b <code>logger</code> \u200b\u88c5\u9970\u200b\u5668\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u6bcf\u5f53\u200b\u6211\u4eec\u200b\u8c03\u7528\u200b <code>add_numbers</code> \u200b\u51fd\u6570\u200b\u65f6\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u8c03\u7528\u200b\u4e86\u200b <code>logger</code> \u200b\u88c5\u9970\u200b\u5668\u200b\u8fd4\u56de\u200b\u7684\u200b <code>wrapper</code> \u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u8fd9\u6837\u200b\uff0c\u200b\u6bcf\u5f53\u200b\u6211\u4eec\u200b\u8c03\u7528\u200b <code>add_numbers</code> \u200b\u51fd\u6570\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u6253\u5370\u200b\u51fa\u200b\u5173\u4e8e\u200b\u51fd\u6570\u8c03\u7528\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u4fee\u6539\u200b <code>add_numbers</code> \u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u88c5\u9970\u200b\u5668\u6765\u200b\u5b9e\u73b0\u200b\u8fd9\u4e00\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u88c5\u9970\u200b\u5668\u662f\u200b Python \u200b\u4e2d\u200b\u4e00\u79cd\u200b\u975e\u5e38\u200b\u5f3a\u5927\u200b\u4e14\u200b\u7075\u6d3b\u200b\u7684\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u8bb8\u591a\u200b\u573a\u666f\u200b\uff0c\u200b\u5982\u200b\u65e5\u5fd7\u200b\u8bb0\u5f55\u200b\u3001\u200b\u8ba1\u65f6\u200b\u3001\u200b\u7f13\u5b58\u200b\u7b49\u200b\u3002\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u5730\u4e3a\u200b\u5df2\u200b\u5b58\u5728\u200b\u7684\u200b\u4ee3\u7801\u200b\u6dfb\u52a0\u200b\u529f\u80fd\u200b\uff0c\u200b\u800c\u200b\u65e0\u9700\u200b\u4fee\u6539\u200b\u6e90\u4ee3\u7801\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u4f7f\u7528-functoolswraps-\u4fdd\u6301\u88ab\u88c5\u9970\u51fd\u6570\u7684\u5143\u4fe1\u606f","title":"\u4f7f\u7528\u200b <code>functools.wraps()</code> \u200b\u4fdd\u6301\u200b\u88ab\u200b\u88c5\u9970\u200b\u51fd\u6570\u200b\u7684\u200b\u5143\u200b\u4fe1\u606f","text":"<p>\u200b\u88c5\u9970\u200b\u5668\u200b\u5728\u200b\u5b9e\u73b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u88ab\u200b\u88c5\u9970\u200b\u540e\u200b\u7684\u200b\u51fd\u6570\u200b\u5176\u5b9e\u200b\u5df2\u7ecf\u200b\u662f\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u4e86\u200b\uff08\u200b\u51fd\u6570\u200b\u540d\u200b\u7b49\u200b\u51fd\u6570\u200b\u5143\u200b\u4fe1\u606f\u200b\u4f1a\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\uff09\u3002\u200b\u4e3a\u4e86\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u539f\u51fd\u6570\u200b\u7684\u200b\u5143\u200b\u4fe1\u606f\u200b\uff0cPython \u200b\u7684\u200b<code>functools</code>\u200b\u5305\u4e2d\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u53eb\u200b<code>wraps</code>\u200b\u7684\u200b\u88c5\u9970\u200b\u5668\u6765\u200b\u6d88\u9664\u200b\u8fd9\u6837\u200b\u7684\u200b\u526f\u4f5c\u7528\u200b\u3002\u200b\u5199\u200b\u4e00\u4e2a\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6700\u597d\u200b\u5728\u200b <code>def wrapper</code> \u200b\u4e4b\u524d\u200b\u52a0\u4e0a\u200b <code>@functools.wraps(func)</code>\uff0c\u200b\u5b83\u200b\u80fd\u200b\u4fdd\u7559\u200b\u539f\u6709\u200b\u51fd\u6570\u200b\u7684\u200b\u5143\u200b\u4fe1\u606f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u4e0d\u52a0-functoolswrapsfunc","title":"\u4e0d\u200b\u52a0\u200b <code>@functools.wraps(func)</code>","text":"Python<pre><code>def my_decorator(func):\ndef wrapper(*args, **kwargs):\n\"\"\"decorator\"\"\"\nprint(\"Calling decorated function...\")\nreturn func(*args, **kwargs)\nreturn wrapper\n@my_decorator\ndef example():\n\"\"\"Docstring\"\"\"\nprint(\"Called example function\")\nprint(\"name: {}\".format(example.__name__))\nprint(\"docstring: {}\".format(example.__doc__))\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\uff1a</p> Text Only<pre><code>name: wrapper\ndocstring: decorator\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u52a0\u4e0a-functoolswrapsfunc","title":"\u52a0\u4e0a\u200b <code>@functools.wraps(func)</code>","text":"Python<pre><code>import functools\ndef my_decorator(func):\n@functools.wraps(func)\ndef wrapper(*args, **kwargs):\n\"\"\"decorator\"\"\"\nprint(\"Calling decorated function...\")\nreturn func(*args, **kwargs)\nreturn wrapper\n@my_decorator\ndef example():\n\"\"\"Docstring\"\"\"\nprint(\"Called example function\")\nprint(\"name: {}\".format(example.__name__))\nprint(\"docstring: {}\".format(example.__doc__))\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\uff1a</p> Text Only<pre><code>name: example\ndocstring: Docstring\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u7c7b\u88c5\u9970\u5668","title":"\u7c7b\u200b\u88c5\u9970\u200b\u5668","text":"<p>\u200b\u76f8\u6bd4\u200b\u51fd\u6570\u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u7c7b\u200b\u88c5\u9970\u200b\u66f4\u200b\u7075\u6d3b\u200b\uff0c\u200b\u4e5f\u200b\u66f4\u200b\u5f3a\u5927\u200b\u3002\u200b\u5728\u200b Python \u200b\u7c7b\u4e2d\u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200b <code>__call__</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u5728\u200b\u65e0\u9700\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u81ea\u8eab\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u8c03\u7528\u200b\uff0c\u200b\u800c\u200b\u6b64\u65f6\u200b\u5c31\u200b\u4f1a\u200b\u6267\u884c\u200b <code>__call__</code> \u200b\u5185\u90e8\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> Python<pre><code>class Log(object):\ndef __init__(self, func):\nself._func = func\ndef __call__(self):\nprint(\"before\")\nself._func()\nprint(\"after\")\n@Log\ndef hello():\nprint(\"hello world!\")\nhello()\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u88c5\u9970\u5668\u88c5\u9970\u987a\u5e8f","title":"\u88c5\u9970\u200b\u5668\u200b\u88c5\u9970\u200b\u987a\u5e8f","text":"<p>\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u5176\u5b9e\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u88ab\u200b\u591a\u4e2a\u200b\u88c5\u9970\u200b\u5668\u6240\u200b\u88c5\u9970\u200b\uff0c\u200b\u90a3\u4e48\u200b\u591a\u4e2a\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u88c5\u9970\u200b\u987a\u5e8f\u200b\u662f\u200b\u600e\u6837\u200b\u7684\u200b\u5462\u200b\uff1f\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u5c31\u200b\u6765\u200b\u63a2\u7d22\u200b\u4e00\u4e0b\u200b\u3002</p> Python<pre><code>def a(func):\ndef wrapper():\nprint(\"a before\")\nfunc()\nprint(\"a after\")\nreturn wrapper\ndef b(func):\ndef wrapper():\nprint(\"b before\")\nfunc()\nprint(\"b after\")\nreturn wrapper\ndef c(func):\ndef wrapper():\nprint(\"c before\")\nfunc()\nprint(\"c after\")\nreturn wrapper\n@a\n@b\n@c\ndef hello():\nprint(\"Hello World!\")\nhello()\n</code></pre> <p>\u200b\u4ee5\u4e0a\u200b\u4ee3\u7801\u8fd0\u884c\u200b\u7ed3\u679c\u200b\uff1a</p> Text Only<pre><code>a before\nb before\nc before\nHello World!\nc after\nb after\na after\n</code></pre> <p>\u200b\u591a\u200b\u88c5\u9970\u200b\u7684\u200b\u8bed\u6cd5\u200b\u7b49\u6548\u4e8e\u200b <code>hello = a(b(c(hello)))</code>\u3002\u200b\u6839\u636e\u200b\u6253\u5370\u200b\u7ed3\u679c\u200b\u4e0d\u96be\u200b\u53d1\u73b0\u200b\u8fd9\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u7684\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u4e86\u89e3\u200b\u8fc7\u200b Node.js \u200b\u7684\u200b <code>Koa2</code> \u200b\u6846\u67b6\u200b\u7684\u200b\u4e2d\u95f4\u4ef6\u200b\u673a\u5236\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f60\u200b\u4e00\u5b9a\u200b\u4e0d\u4f1a\u200b\u964c\u751f\u200b\u4ee5\u4e0a\u200b\u4ee3\u7801\u200b\u7684\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b Python \u200b\u88c5\u9970\u200b\u5668\u200b\u540c\u6837\u200b\u9075\u5faa\u200b <code>\u200b\u6d0b\u8471\u200b\u6a21\u578b\u200b</code>\u3002\u200b\u591a\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u4ee3\u7801\u6267\u884c\u200b\u987a\u5e8f\u200b\u5c31\u200b\u50cf\u200b\u5265\u200b\u6d0b\u8471\u200b\u4e00\u6837\u200b\uff0c\u200b\u5148\u7531\u5916\u200b\u5230\u200b\u5185\u200b\u8fdb\u5165\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u7531\u200b\u5185\u200b\u5230\u200b\u5916\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u4e00\u4e9b\u5b9e\u7528\u7684\u88c5\u9970\u5668","title":"\u4e00\u4e9b\u200b\u5b9e\u7528\u200b\u7684\u200b\u88c5\u9970\u200b\u5668","text":"","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u4ee3\u7801\u8ba1\u65f6","title":"\u4ee3\u7801\u200b\u8ba1\u65f6","text":"Python<pre><code>import time\nfrom functools import wraps\ndef timeit(func):\n@wraps(func)\ndef wrapper(*args, **kwargs):\nstart = time.perf_counter()\nresult = func(*args, **kwargs)\nend = time.perf_counter()\nprint(f\"{func.__name__} \u200b\u51fd\u6570\u8c03\u7528\u200b\u8017\u65f6\u200b\uff1a{end - start:.6f}\")\nreturn result\nreturn wrapper\n@timeit\ndef long_running_task():\ntime.sleep(1)\nlong_running_task()\n# long_running_task \u200b\u51fd\u6570\u8c03\u7528\u200b\u8017\u65f6\u200b\uff1a1.001168\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#\u8bb0\u5f55\u51fd\u6570\u8fd0\u884c\u6b21\u6570","title":"\u8bb0\u5f55\u200b\u51fd\u6570\u200b\u8fd0\u884c\u200b\u6b21\u6570","text":"<p>\u200b\u53c2\u8003\u200b\u4ee3\u7801\u200b</p>","tags":["Python"]},{"location":"blog/advanced-python-2-decorator/#ctrlc-\u7ec8\u6b62\u7a0b\u5e8f\u9700\u4e8c\u6b21\u9a8c\u8bc1","title":"Ctrl+C \u200b\u7ec8\u6b62\u200b\u7a0b\u5e8f\u200b\u9700\u200b\u4e8c\u6b21\u200b\u9a8c\u8bc1","text":"<p>\u200b\u53c2\u8003\u200b\u4ee3\u7801\u200b</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-3-generator/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u751f\u6210\u5668\u200b <code>generator</code> \u200b\u4e0e\u200b <code>yield</code> \u200b\u7684\u200b\u673a\u5236\u200b\u548c\u200b <code>next</code> \u200b\u4e0e\u200b <code>send</code> \u200b\u7684\u200b\u7528\u6cd5\u200b\uff0c\u200b\u5e76\u200b\u5c55\u793a\u200b\u4e86\u200b\u5982\u4f55\u200b\u7528\u200b <code>generator</code> \u200b\u751f\u6210\u200b\u65e0\u9650\u200b\u5e8f\u5217\u200b\u3002</p> <p>\u200b\u5728\u200b\u5faa\u73af\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u751f\u6210\u5668\u200b\u4f5c\u4e3a\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u7528\u200b\u5c06\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u904d\u5386\u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u5168\u90e8\u200b\u8ba1\u7b97\u51fa\u6765\u200b\u518d\u200b\u8fed\u4ee3\u200b\uff0c\u200b\u800c\u662f\u200b\u53ef\u4ee5\u200b\u6bcf\u200b\u8fed\u4ee3\u200b\u4e00\u6b21\u200b\u5c31\u200b\u8ba1\u7b97\u200b\u4e00\u4e2a\u200b\u9700\u8981\u200b\u904d\u5386\u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u8fd9\u79cd\u200b\u5199\u6cd5\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u51e0\u4e2a\u200b\u597d\u5904\u200b\uff1a</p> <ol> <li>\u200b\u8282\u7701\u200b\u5185\u5b58\u200b\u8d44\u6e90\u200b\uff1a\u200b\u751f\u6210\u5668\u200b\u4ee5\u200b\u5ef6\u8fdf\u200b\u8ba1\u7b97\u200b\u7684\u200b\u65b9\u5f0f\u200b\u9010\u4e2a\u200b\u751f\u6210\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u4e00\u6b21\u6027\u200b\u751f\u6210\u200b\u6240\u6709\u200b\u6570\u636e\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u5b58\u50a8\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\uff0c\u200b\u4ece\u800c\u200b\u51cf\u5c11\u200b\u5185\u5b58\u200b\u8d44\u6e90\u200b\u7684\u200b\u5360\u7528\u200b\u3002</li> <li>\u200b\u66f4\u5feb\u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\uff1a\u200b\u7531\u4e8e\u200b\u751f\u6210\u5668\u200b\u4ee5\u200b\u5ef6\u8fdf\u200b\u8ba1\u7b97\u200b\u7684\u200b\u65b9\u5f0f\u200b\u9010\u6b65\u200b\u751f\u6210\u200b\u6570\u636e\u200b\uff0c\u200b\u907f\u514d\u200b\u4e86\u200b\u4e00\u6b21\u6027\u200b\u8ba1\u7b97\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u6240\u200b\u5e26\u6765\u200b\u7684\u200b\u8d44\u6e90\u200b\u6d6a\u8d39\u200b\uff0c\u200b\u56e0\u6b64\u200b\u751f\u6210\u5668\u200b\u5f80\u5f80\u200b\u6bd4\u200b\u4e00\u6b21\u6027\u200b\u751f\u6210\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u7684\u200b\u65b9\u5f0f\u200b\u66f4\u52a0\u200b\u9ad8\u6548\u200b\u3002</li> <li>\u200b\u66f4\u200b\u7075\u6d3b\u200b\u7684\u200b\u903b\u8f91\u200b\u5904\u7406\u200b\uff1a\u200b\u751f\u6210\u5668\u200b\u53ef\u4ee5\u200b\u52a8\u6001\u200b\u5730\u200b\u751f\u6210\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u652f\u6301\u200b\u8fed\u4ee3\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u6e05\u6d17\u200b\u3001\u200b\u5904\u7406\u200b\u7b49\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4ece\u800c\u200b\u8ba9\u200b\u4ee3\u7801\u200b\u66f4\u52a0\u200b\u7075\u6d3b\u200b\u3001\u200b\u7b80\u5355\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"blog/advanced-python-3-generator/#yield-\u6784\u9020\u4e00\u4e2a\u751f\u6210\u5668","title":"<code>yield</code> \u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668","text":"<p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b Python \u200b\u793a\u4f8b\u200b\uff0c\u200b\u5c55\u793a\u200b\u4e86\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b yield \u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\uff1a</p> Python<pre><code>def even_numbers(n):\ni = 0\nwhile i &lt;= n:\nif i % 2 == 0:\nyield i\ni += 1\n# \u200b\u8c03\u7528\u200b\u751f\u6210\u5668\u200b\nfor num in even_numbers(10):\nprint(num)\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>even_numbers()</code> \u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200b n\uff0c\u200b\u8868\u793a\u200b\u6211\u4eec\u200b\u8981\u200b\u751f\u6210\u200b\u7684\u200b\u5076\u6570\u200b\u7684\u200b\u4e0b\u754c\u200b\u3002\u200b\u5728\u200b\u51fd\u6570\u200b\u4f53\u200b\u5185\u90e8\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b while \u200b\u5faa\u73af\u200b\u548c\u200b if \u200b\u8bed\u53e5\u200b\uff0c\u200b\u5224\u65ad\u200b\u6bcf\u4e2a\u200b\u6570\u5b57\u200b\u662f\u5426\u200b\u4e3a\u200b\u5076\u6570\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u200b\uff0c\u200b\u5c31\u200b\u4f7f\u7528\u200b yield \u200b\u8bed\u53e5\u200b\u5c06\u200b\u5b83\u200b\u8fd4\u56de\u200b\u3002</p> <p>\u200b\u5728\u200b\u51fd\u6570\u8c03\u7528\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b for \u200b\u5faa\u73af\u200b\u904d\u5386\u200b\u751f\u6210\u5668\u200b\uff0c\u200b\u4f9d\u6b21\u200b\u6253\u5370\u200b\u51fa\u200b\u6bcf\u4e2a\u200b\u5076\u6570\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u7531\u4e8e\u200b\u751f\u6210\u5668\u200b\u53ea\u4f1a\u200b\u5728\u200b\u9700\u8981\u200b\u65f6\u624d\u200b\u751f\u6210\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b83\u200b\u975e\u5e38\u9002\u5408\u200b\u5904\u7406\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u6216\u8005\u200b\u9700\u8981\u200b\u52a8\u6001\u200b\u4ea7\u751f\u200b\u6570\u636e\u200b\u7684\u200b\u573a\u666f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-3-generator/#next","title":"<code>next()</code>","text":"<p>\u200b\u8ba9\u200b\u6211\u4eec\u200b\u66f4\u200b\u8be6\u7ec6\u200b\u5730\u6765\u200b\u89e3\u91ca\u4e00\u4e0b\u200b\u751f\u6210\u5668\u200b\u662f\u200b\u5982\u4f55\u200b\u5de5\u4f5c\u200b\u7684\u200b\u3002</p> <p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u662f\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5176\u200b\u5b9a\u4e49\u200b\u65b9\u5f0f\u200b\u4e0e\u200b\u666e\u901a\u200b\u51fd\u6570\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u4f7f\u7528\u200b\u4e86\u200b yield \u200b\u8bed\u53e5\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b return \u200b\u8bed\u53e5\u200b\u3002yield \u200b\u8bed\u53e5\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u6682\u505c\u200b\u51fd\u6570\u200b\u7684\u200b\u6267\u884c\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u503c\u200b\u8fd4\u56de\u200b\u7ed9\u200b\u8c03\u7528\u200b\u65b9\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u4e0e\u200b\u4f7f\u7528\u200b return \u200b\u8bed\u53e5\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u51fd\u6570\u200b\u7684\u200b\u72b6\u6001\u200b\u5e76\u200b\u6ca1\u6709\u200b\u88ab\u200b\u9500\u6bc1\u200b\u3002\u200b\u76f8\u53cd\u200b\uff0c\u200b\u51fd\u6570\u200b\u7684\u200b\u72b6\u6001\u200b\u88ab\u200b\u4fdd\u5b58\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5728\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8c03\u7528\u200b yield \u200b\u65f6\u200b\u6062\u590d\u200b\u5b83\u200b\u7684\u200b\u6267\u884c\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u8c03\u7528\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\u51fd\u6570\u200b\u65f6\u200b\uff0cPython \u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u5b83\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u770b\u4f5c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b for \u200b\u5faa\u73af\u200b\u6765\u200b\u904d\u5386\u200b\u5b83\u200b\uff0c\u200b\u6216\u8005\u200b\u4f7f\u7528\u200b next() \u200b\u51fd\u6570\u8c03\u7528\u200b\u5b83\u200b\u7684\u200b next() \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u9010\u4e2a\u200b\u83b7\u53d6\u200b\u751f\u6210\u5668\u200b\u751f\u6210\u200b\u7684\u200b\u5143\u7d20\u200b\u3002</p> <p>\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b next() \u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u90fd\u200b\u4f1a\u200b\u4ece\u200b\u4e0a\u6b21\u200b\u6682\u505c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u7ee7\u7eed\u6267\u884c\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u9047\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b yield \u200b\u8bed\u53e5\u200b\u65f6\u200b\u518d\u6b21\u200b\u6682\u505c\u200b\uff0c\u200b\u5c06\u200b\u751f\u6210\u200b\u7684\u200b\u503c\u200b\u8fd4\u56de\u200b\u7ed9\u200b\u8c03\u7528\u200b\u65b9\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u6301\u7eed\u200b\uff0c\u200b\u76f4\u5230\u200b\u51fd\u6570\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u66f4\u200b\u591a\u200b\u7684\u200b yield \u200b\u8bed\u53e5\u200b\u53ef\u4f9b\u6267\u884c\u200b\u3002\u200b\u6b64\u65f6\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u4fbf\u4f1a\u200b\u81ea\u52a8\u200b\u629b\u51fa\u200b\u4e00\u4e2a\u200b StopIteration \u200b\u5f02\u5e38\u200b\uff0c\u200b\u8868\u793a\u200b\u751f\u6210\u5668\u200b\u5df2\u7ecf\u200b\u5230\u8fbe\u200b\u4e86\u200b\u672b\u5c3e\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6b63\u662f\u200b\u7531\u4e8e\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u80fd\u591f\u200b\u4fdd\u5b58\u200b\u51fd\u6570\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\u72b6\u6001\u200b\uff0c\u200b\u624d\u200b\u4f7f\u5f97\u200b\u751f\u6210\u5668\u200b\u53ef\u4ee5\u200b\u5728\u200b\u9700\u8981\u200b\u65f6\u200b\u3001\u200b\u6309\u200b\u9700\u200b\u4ea7\u751f\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u79cd\u200b\u201c\u200b\u6d41\u5f0f\u200b\u8ba1\u7b97\u200b\u201d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u53ef\u4ee5\u200b\u5927\u5927\u964d\u4f4e\u200b\u5185\u5b58\u200b\u6d88\u8017\u200b\uff0c\u200b\u7279\u522b\u200b\u9002\u5408\u200b\u5904\u7406\u200b\u6d77\u91cf\u200b\u6570\u636e\u200b\u6216\u8005\u200b\u65e0\u6cd5\u200b\u4e00\u6b21\u6027\u200b\u83b7\u53d6\u200b\u7684\u200b\u6570\u636e\u6e90\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-3-generator/#\u4f7f\u7528-next-\u65b9\u6cd5\u7684\u4ee3\u7801\u793a\u4f8b","title":"\u4f7f\u7528\u200b next() \u200b\u65b9\u6cd5\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b","text":"<p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4e00\u6b21\u200b\u53ea\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u4ece\u200b\u751f\u6210\u5668\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u503c\u200b\uff0c<code>next()</code> \u200b\u65b9\u6cd5\u200b\u4f1a\u200b\u4e00\u6b21\u200b\u6267\u884c\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\uff0c\u200b\u76f4\u5230\u200b\u9047\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b <code>yield</code> \u200b\u8bed\u53e5\u200b\uff0c\u200b\u7136\u540e\u200b\u628a\u200b\u751f\u6210\u200b\u7684\u200b\u503c\u200b\u8fd4\u56de\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5c55\u793a\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u83b7\u53d6\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u503c\u200b\uff1a</p> Python<pre><code>def counter(maximum):\ni = 0\nwhile i &lt; maximum:\nval = yield i\nif val is not None:\ni = val\nelse:\ni += 1\ng = counter(10)\nprint(next(g))  # \u200b\u8f93\u51fa\u200b 0\nprint(next(g))  # \u200b\u8f93\u51fa\u200b 1\nprint(next(g))  # \u200b\u8f93\u51fa\u200b 2\nprint(g.send(5))  # \u200b\u5c06\u200b i \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 5\uff0c\u200b\u8f93\u51fa\u200b 5\nprint(next(g))  # \u200b\u8f93\u51fa\u200b 6\n</code></pre> <p></p> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>counter</code> \u200b\u7684\u200b\u751f\u6210\u5668\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\u53c2\u6570\u200b <code>maximum</code>\uff0c\u200b\u8868\u793a\u200b\u751f\u6210\u5668\u200b\u6700\u5927\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u5728\u200b\u751f\u6210\u5668\u200b\u5185\u90e8\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u53d8\u91cf\u200b <code>i</code> \u200b\u5e76\u200b\u4f7f\u7528\u200b <code>while</code> \u200b\u5faa\u73af\u4e0d\u65ad\u200b\u751f\u6210\u200b\u503c\u200b\u3002\u200b\u6bcf\u4e2a\u200b\u751f\u6210\u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u4f1a\u200b\u4f7f\u7528\u200b <code>yield</code> \u200b\u8bed\u53e5\u200b\u8fd4\u56de\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8c03\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\u4ece\u200b\u4e0a\u200b\u4e00\u4e2a\u200b <code>yield</code> \u200b\u8bed\u53e5\u200b\u5904\u200b\u7ee7\u7eed\u6267\u884c\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\u5bf9\u8c61\u200b <code>g</code>\uff0c\u200b\u5e76\u200b\u6f14\u793a\u200b\u4e86\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u83b7\u53d6\u200b\u5b83\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b <code>print(next(g))</code> \u200b\u83b7\u53d6\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u503c\u200b\uff0c\u200b\u8f93\u51fa\u200b <code>0</code>\uff1b\u200b\u7136\u540e\u200b\u6211\u4eec\u200b\u518d\u6b21\u200b\u8c03\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u83b7\u53d6\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u503c\u200b\uff0c\u200b\u8f93\u51fa\u200b <code>1</code>\uff1b\u200b\u4f9d\u6b21\u200b\u7c7b\u63a8\u200b\uff0c\u200b\u76f4\u5230\u200b\u8f93\u51fa\u200b <code>2</code>\u3002</p> <p>\u200b\u63a5\u7740\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u751f\u6210\u5668\u200b\u7684\u200b <code>send()</code> \u200b\u65b9\u6cd5\u200b\u5c06\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u5185\u90e8\u200b\u72b6\u6001\u200b\u4fee\u6539\u200b\u4e3a\u200b 5\uff0c\u200b\u7136\u540e\u200b\u518d\u6b21\u200b\u8c03\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u83b7\u53d6\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002\u200b\u6b64\u65f6\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 5\uff0c\u200b\u7136\u540e\u200b\u6211\u4eec\u200b\u8f93\u51fa\u200b\u4e86\u200b 5\u3002</p> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u518d\u6b21\u200b\u4f7f\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u83b7\u53d6\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\u503c\u200b\uff0c\u200b\u8f93\u51fa\u200b <code>6</code>\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-3-generator/#send","title":"<code>send()</code>","text":"<p>\u200b\u5728\u200b\u521a\u624d\u200b\u63d0\u4f9b\u200b\u7684\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c<code>send()</code> \u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6765\u5f80\u200b\u751f\u6210\u5668\u200b\u5185\u90e8\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u4f5c\u7528\u200b\u5728\u4e8e\u200b\uff0c\u200b\u8ba9\u200b\u751f\u6210\u5668\u200b\u4ece\u200b\u4e0a\u200b\u4e00\u4e2a\u200b yield \u200b\u8bed\u53e5\u200b\u5904\u200b\u7ee7\u7eed\u6267\u884c\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u503c\u200b\u4f20\u9012\u200b\u7ed9\u200b\u751f\u6210\u5668\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u65b0\u200b\u7684\u200b\u503c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u751f\u6210\u5668\u200b\u5185\u90e8\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8c03\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u65f6\u200b\u8fd4\u56de\u200b\u3002</p> <p>\u200b\u5728\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ed9\u200b\u751f\u6210\u5668\u200b\u5bf9\u8c61\u200b <code>g</code> \u200b\u6267\u884c\u200b\u4e86\u200b\u4e00\u6b21\u200b <code>send(5)</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c06\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u5185\u90e8\u200b\u72b6\u6001\u200b\u4fee\u6539\u200b\u4e3a\u4e86\u200b <code>i = 5</code>\u3002\u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8c03\u7528\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u4ece\u200b <code>i = 5</code> \u200b\u5f00\u59cb\u8fd0\u884c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4ece\u200b <code>i = 3</code> \u200b\u6216\u8005\u200b <code>i = 2</code> \u200b\u5f00\u59cb\u8fd0\u884c\u200b\u3002</p> <p>\u200b\u540c\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd8\u200b\u4f7f\u7528\u200b <code>if val is not None:</code> \u200b\u5224\u65ad\u200b\u4e86\u200b <code>send()</code> \u200b\u65b9\u6cd5\u200b\u53d1\u9001\u200b\u7684\u200b\u503c\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u4e3a\u200b\u7a7a\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u5176\u200b\u8986\u76d6\u200b <code>i</code>\uff0c\u200b\u5426\u5219\u200b\u5c31\u200b\u6309\u7167\u200b\u6b63\u5e38\u200b\u903b\u8f91\u200b\u8fdb\u884c\u200b\u8fed\u4ee3\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b\u751f\u6210\u5668\u200b\u5185\u90e8\u200b\u52a8\u6001\u200b\u4fee\u6539\u200b\u72b6\u6001\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u7075\u6d3b\u200b\u7684\u200b\u6570\u636e\u200b\u751f\u6210\u200b\u548c\u200b\u6d41\u200b\u5904\u7406\u200b\u3002</p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u200b\u4f7f\u7528\u200b <code>send()</code> \u200b\u65b9\u6cd5\u200b\u4fee\u6539\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u5185\u90e8\u200b\u72b6\u6001\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f60\u200b\u5fc5\u987b\u200b\u5728\u200b\u8c03\u7528\u200b <code>send()</code> \u200b\u65b9\u6cd5\u200b\u4e4b\u524d\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b <code>next()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4ee5\u200b\u542f\u52a8\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u5426\u5219\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u65e0\u6cd5\u200b\u4ece\u200b\u5176\u200b\u4e0a\u200b\u4e00\u4e2a\u200b yield \u200b\u8bed\u53e5\u200b\u5904\u200b\u5f00\u59cb\u200b\u6267\u884c\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u6b63\u5e38\u200b\u54cd\u5e94\u200b <code>send()</code> \u200b\u65b9\u6cd5\u200b\u53d1\u9001\u200b\u7684\u200b\u503c\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-3-generator/#\u751f\u6210\u65e0\u9650\u5e8f\u5217","title":"\u751f\u6210\u200b\u65e0\u9650\u200b\u5e8f\u5217","text":"<p>\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u7279\u70b9\u200b\u662f\u200b\u5b83\u4eec\u200b\u53ef\u4ee5\u200b\u751f\u6210\u200b\u65e0\u9650\u200b\u5e8f\u5217\u200b\u3002\u200b\u901a\u5e38\u200b\uff0c\u200b\u751f\u6210\u200b\u65e0\u9650\u200b\u5e8f\u5217\u200b\u5c06\u200b\u9700\u8981\u200b\u5927\u91cf\u200b\u7684\u200b\u5185\u5b58\u200b\u548c\u200b\u65f6\u95f4\u200b\u6765\u200b\u5b58\u50a8\u200b\u548c\u200b\u8ba1\u7b97\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u4f7f\u7528\u200b\u751f\u6210\u5668\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u9010\u6b65\u200b\u751f\u6210\u200b\u5e8f\u5217\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u800c\u200b\u65e0\u9700\u200b\u4e00\u6b21\u6027\u200b\u751f\u6210\u200b\u6574\u4e2a\u200b\u5e8f\u5217\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\u51fd\u6570\u200b\u7684\u200b\u793a\u4f8b\u200b\uff0c\u200b\u5b83\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65e0\u9650\u200b\u7684\u200b\u5076\u6570\u200b\u5e8f\u5217\u200b\uff1a</p> Python<pre><code>def even_numbers():\nn = 0\nwhile True:\nyield n\nn += 2\n</code></pre> <p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u4ece\u200b<code>n=0</code>\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5e76\u200b\u901a\u8fc7\u200b\u5728\u200b\u6bcf\u6b21\u200b\u8fed\u4ee3\u200b\u4e2d\u5c06\u200b 2 \u200b\u6dfb\u52a0\u200b\u5230\u200b<code>n</code>\u200b\u6765\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65e0\u9650\u200b\u7684\u200b\u5076\u6570\u200b\u5e8f\u5217\u200b\u3002<code>yield</code>\u200b\u5173\u952e\u5b57\u200b\u8fd4\u56de\u200b<code>n</code>\u200b\u7684\u200b\u5f53\u524d\u200b\u503c\u200b\uff0c\u200b\u5e76\u200b\u6682\u505c\u200b\u51fd\u6570\u200b\uff0c\u200b\u76f4\u5230\u200b\u8bf7\u6c42\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002</p> <p>\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u751f\u6210\u5668\u200b\u6765\u200b\u751f\u6210\u200b\u4efb\u4f55\u200b\u7c7b\u578b\u200b\u6570\u636e\u200b\u7684\u200b\u65e0\u9650\u200b\u5e8f\u5217\u200b\uff0c\u200b\u5305\u62ec\u200b\u6570\u5b57\u200b\u3001\u200b\u5b57\u7b26\u4e32\u200b\u548c\u200b\u590d\u6742\u200b\u5bf9\u8c61\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u751f\u6210\u5668\u200b\u7684\u200b\u793a\u4f8b\u200b\uff0c\u200b\u5b83\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65e0\u9650\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5e8f\u5217\u200b\uff1a</p> Python<pre><code>def string_generator():\ns = \"a\"\nwhile True:\nyield s\ns += \"a\"\n</code></pre> <p>\u200b\u6b64\u200b\u51fd\u6570\u200b\u4ece\u200b<code>s='a'</code>\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5e76\u200b\u901a\u8fc7\u200b\u5728\u200b\u6bcf\u6b21\u200b\u8fed\u4ee3\u200b\u4e2d\u5c06\u200b\u53e6\u200b\u4e00\u4e2a\u200b'a'\u200b\u6dfb\u52a0\u200b\u5230\u200b<code>s</code>\u200b\u6765\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65e0\u9650\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5e8f\u5217\u200b\u3002</p> <p>\u200b\u5f53\u200b\u5904\u7406\u200b\u5927\u578b\u200b\u6570\u636e\u200b\u96c6\u200b\u6216\u200b\u9700\u8981\u200b\u5373\u65f6\u200b\u751f\u6210\u200b\u503c\u200b\u5e8f\u5217\u200b\u65f6\u200b\uff0c\u200b\u751f\u6210\u5668\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002\u200b\u5b83\u4eec\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u5c11\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u592a\u5927\u800c\u200b\u65e0\u6cd5\u200b\u9002\u5e94\u200b\u5185\u5b58\u200b\u7684\u200b\u5e8f\u5217\u200b\u3002</p> <p>\u200b\u603b\u4e4b\u200b\uff0cPython \u200b\u751f\u6210\u5668\u200b\u662f\u200b\u751f\u6210\u200b\u65e0\u9650\u200b\u6570\u636e\u200b\u5e8f\u5217\u200b\u7684\u200b\u5f3a\u5927\u200b\u5de5\u5177\u200b\u3002\u200b\u5b83\u4eec\u200b\u5141\u8bb8\u200b\u4f60\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u503c\u200b\u7684\u200b\u5e8f\u5217\u200b\uff0c\u200b\u800c\u200b\u4e0d\u5fc5\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u521b\u5efa\u200b\u6574\u4e2a\u200b\u5217\u8868\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u5904\u7406\u200b\u5927\u578b\u200b\u6570\u636e\u200b\u96c6\u200b\u6216\u200b\u5373\u65f6\u200b\u751f\u6210\u200b\u5e8f\u5217\u200b\u65f6\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u9009\u62e9\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-4-argument-parsing/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b <code>sys</code> \u200b\u548c\u200b <code>argparse</code> \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u662f\u200b\u6307\u200b\u5728\u200b\u8fd0\u884c\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\u4f20\u9012\u200b\u7ed9\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u6765\u200b\u6307\u5b9a\u200b\u8981\u200b\u5904\u7406\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u3001\u200b\u8bbe\u7f6e\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u914d\u7f6e\u200b\u9009\u9879\u200b\u7b49\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/advanced-python-4-argument-parsing/#\u4f7f\u7528-sys-\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570","title":"\u4f7f\u7528\u200b <code>sys</code> \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570","text":"<p>\u200b\u5728\u200b\u5b9e\u9645\u200b\u7684\u200b\u5e94\u7528\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u6765\u200b\u6839\u636e\u200b\u7528\u6237\u200b\u7684\u200b\u8f93\u5165\u200b\u6267\u884c\u200b\u4e0d\u540c\u200b\u7684\u200b\u903b\u8f91\u200b\u3002\u200b\u901a\u8fc7\u200b Python \u200b\u5185\u7f6e\u200b\u7684\u200b <code>sys</code> \u200b\u6a21\u5757\u200b\u6765\u200b\u89e3\u6790\u200b\u548c\u200b\u5904\u7406\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u4f7f\u200b\u6211\u4eec\u200b\u80fd\u591f\u200b\u7f16\u5199\u200b\u66f4\u52a0\u200b\u7075\u6d3b\u200b\u548c\u200b\u4ea4\u4e92\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u3002</p> <p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b<code>sys</code>\u200b\u6a21\u5757\u200b\u7684\u200b<code>argv</code>\u200b\u5c5e\u6027\u200b\u6765\u200b\u83b7\u53d6\u200b\u3002<code>argv</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5305\u542b\u200b\u4e86\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u7684\u200b\u5217\u8868\u200b\u3002\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b \u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u901a\u5e38\u200b\u662f\u200b\u811a\u672c\u200b\u7684\u200b\u540d\u79f0\u200b \uff0c\u200b\u968f\u540e\u200b\u7684\u200b\u5143\u7d20\u200b\u5219\u200b\u662f\u200b\u4f20\u9012\u200b\u7ed9\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u6309\u7167\u200b\u5b83\u4eec\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u51fa\u73b0\u200b\u7684\u200b\u987a\u5e8f\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u793a\u4f8b\u200b\uff0c\u200b\u6f14\u793a\u200b\u4e86\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b<code>sys</code>\u200b\u6a21\u5757\u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>import sys\n# \u200b\u83b7\u53d6\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\nargs = sys.argv\n# \u200b\u8f93\u51fa\u200b\u811a\u672c\u200b\u540d\u79f0\u200b\nprint(\"\u200b\u811a\u672c\u200b\u540d\u79f0\u200b\uff1a\", args[0])\n# \u200b\u8f93\u51fa\u200b\u5176\u4f59\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\nprint(\"\u200b\u5176\u4f59\u200b\u53c2\u6570\u200b\uff1a\", args[1:])\n</code></pre> <p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u5c06\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u4fdd\u5b58\u200b\u4e3a\u200b <code>test.py</code>\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff1a</p> Text Only<pre><code>python test.py hello world\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u5c06\u200b\u770b\u5230\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>\u200b\u811a\u672c\u200b\u540d\u79f0\u200b: test.py\n\u200b\u5176\u4f59\u200b\u53c2\u6570\u200b: ['hello', 'world']\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u5bfc\u5165\u200b\u4e86\u200b <code>sys</code> \u200b\u6a21\u5757\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8bbf\u95ee\u200b <code>sys.argv</code> \u200b\u5c5e\u6027\u200b\uff0c\u200b\u6211\u4eec\u200b\u83b7\u53d6\u200b\u4e86\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u3002\u200b\u7531\u4e8e\u200b <code>sys.argv</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7d22\u5f15\u200b\u8bbf\u95ee\u200b\u5176\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u3002\u200b\u6211\u4eec\u200b\u6253\u5370\u200b\u4e86\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u5373\u200b\u811a\u672c\u200b\u7684\u200b\u540d\u79f0\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5176\u4f59\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u5373\u200b\u4f20\u9012\u200b\u7ed9\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u53c2\u6570\u200b\u3002</p> <p><code>sys.argv</code> \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u90fd\u200b\u4ee5\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b</p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c<code>sys.argv</code> \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u90fd\u200b\u4ee5\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\uff0c\u200b\u5373\u4f7f\u200b\u6211\u4eec\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b\u7684\u200b\u662f\u200b\u6570\u5b57\u200b\u6216\u200b\u5176\u4ed6\u200b\u7c7b\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u53c2\u6570\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5176\u4ed6\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u76f8\u5e94\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>int()</code> \u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6574\u6570\u200b\uff0c<code>float()</code> \u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6d6e\u70b9\u6570\u200b\u3002</p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>len(sys.argv)</code> \u200b\u6765\u200b\u83b7\u53d6\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u7684\u200b\u6570\u91cf\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-4-argument-parsing/#\u4f7f\u7528-argparse-\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570","title":"\u4f7f\u7528\u200b <code>argparse</code> \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570","text":"<p>Python \u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>argparse</code> \u200b\u7684\u200b\u6807\u51c6\u200b\u5e93\u200b\uff0c\u200b\u5b83\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u7b80\u5355\u200b\u800c\u200b\u7075\u6d3b\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u3002\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b \u200b\u5c31\u200b\u4f7f\u7528\u200b\u4e86\u200b <code>argparse</code> \u200b\u5e93\u6765\u200b\u63a5\u6536\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u3002</p> <p><code>argparse</code> \u200b\u5e93\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b <code>ArgumentParser</code> \u200b\u7c7b\u6765\u200b\u5904\u7406\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b <code>ArgumentParser</code> \u200b\u7684\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b\u5b83\u200b\u7684\u200b <code>add_argument()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u5b9a\u4e49\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u6709\u200b\u5f88\u591a\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u5bf9\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b\u66f4\u200b\u8be6\u7ec6\u200b\u7684\u200b\u914d\u7f6e\u200b\u3002</p> <p>\u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u4e24\u4e2a\u200b\u6570\u5b57\u200b\u7684\u200b\u548c\u200b\u3002\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u6765\u200b\u5b9e\u73b0\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u8981\u200b\u76f8\u52a0\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u6570\u5b57\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u662f\u200b\u8981\u200b\u76f8\u52a0\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u6570\u5b57\u200b\u3002</p> Python<pre><code>import argparse\ndef sum_numbers(args):\nresult = args.a + args.b\nif args.o:\nresult *= -1\nprint(f\"The opposite value of sum of {args.a} and {args.b} is {result}\")\nelse:\nprint(f\"The sum of {args.a} and {args.b} is {result}\")\ndef main():\nparser = argparse.ArgumentParser(\ndescription=\"A simple command line tool to calculate the sum of two numbers\"\n)\nparser.add_argument(\"a\", type=int, help=\"The first number to be added\")\nparser.add_argument(\"b\", type=int, help=\"The second number to be added\")\nparser.add_argument(\n\"-o\",\naction=\"store_true\",  # (1)!\ndefault=False,\nhelp=\"Whether to take the opposite value or not\",\n)\nargs = parser.parse_args()\nsum_numbers(args)\nif __name__ == \"__main__\":\nmain()\n</code></pre> <ol> <li><code>action=\"store_true\"</code> \u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\uff1a\u200b\u5982\u679c\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b\u4e86\u200b <code>-o</code> \uff0c\u200b\u5219\u200b <code>args.o</code> \u200b\u53c2\u6570\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u7531\u200b\u9ed8\u8ba4\u503c\u200b <code>False</code> \u200b\u53d8\u4e3a\u200b <code>True</code>\u3002\u200b\u53c2\u8003\u200b\uff1aargparse \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b - action\u3002</li> </ol> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u5bfc\u5165\u200b\u4e86\u200b <code>argparse</code> \u200b\u6a21\u5757\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>sum_numbers()</code> \u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b <code>args</code> \u200b\u53c2\u6570\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u4e86\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u4f20\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u5728\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u6570\u5b57\u200b\u76f8\u52a0\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>main()</code> \u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u6211\u4eec\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u5165\u53e3\u200b\u70b9\u200b\u3002\u200b\u5728\u200b <code>main()</code> \u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b <code>ArgumentParser</code> \u200b\u7684\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u5e76\u200b\u6307\u5b9a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u63cf\u8ff0\u6027\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b <code>add_argument()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u5b9a\u4e49\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\uff1a<code>a</code> \u200b\u548c\u200b <code>b</code>\u3002\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u90fd\u200b\u662f\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5fc5\u987b\u200b\u63d0\u4f9b\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u7701\u7565\u200b\u3002\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u7c7b\u578b\u200b\u4e3a\u200b\u6574\u6570\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5e2e\u52a9\u200b\u6587\u672c\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u8fd8\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u9009\u200b\u53c2\u6570\u200b <code>-o</code>\uff0c\u200b\u5b83\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u53d6\u200b\u76f8\u53cd\u6570\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\u662f\u200b <code>False</code>\u3002\u200b\u5f97\u76ca\u4e8e\u200b <code>action=\"store_true\"</code>\uff0c\u200b\u5982\u679c\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8f93\u5165\u200b\u4e86\u200b <code>-o</code> \uff0c\u200b\u5219\u200b <code>args.o</code> \u200b\u53c2\u6570\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u7531\u200b\u9ed8\u8ba4\u503c\u200b <code>False</code> \u200b\u53d8\u4e3a\u200b <code>True</code>\u3002\u200b\u53c2\u8003\u200b\uff1aargparse \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b - action\u3002</p> <p>\u200b\u6700\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u8c03\u7528\u200b\u4e86\u200b <code>parse_args()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u4f20\u9012\u200b\u7ed9\u200b <code>sum_numbers()</code> \u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u811a\u672c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u4e24\u4e2a\u200b\u6570\u5b57\u200b\u7684\u200b\u503c\u6765\u200b\u6d4b\u8bd5\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u6765\u200b\u8ba1\u7b97\u200b 5 \u200b\u548c\u200b 3 \u200b\u7684\u200b\u548c\u200b\uff1a</p> Bash<pre><code>python test.py 5 3\npython test.py 5 3 -o\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\u5c06\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\uff1a</p> <p></p> <p>\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b <code>argparse</code> \u200b\u6765\u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u5730\u4e3a\u200b\u6211\u4eec\u200b\u7684\u200b Python \u200b\u7a0b\u5e8f\u200b\u6dfb\u52a0\u200b\u547d\u4ee4\u884c\u200b\u63a5\u53e3\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u66f4\u52a0\u200b\u7075\u6d3b\u200b\u548c\u200b\u6613\u7528\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b Python \u200b\u79c1\u6709\u5316\u200b\u53ca\u200b <code>_</code> \u200b\u4e0b\u5212\u7ebf\u200b\u547d\u540d\u200b\u7528\u9014\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4f7f\u7528\u200b <code>getter</code> \u3001 <code>setter</code> \u200b\u548c\u200b <code>property</code> \u200b\u6765\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u90e8\u5206\u200b\u8f6c\u8f7d\u200b\u4e86\u200b Python \u200b\u79c1\u6709\u5316\u200b\u53ca\u200b <code>_</code> \u200b\u4e0b\u5212\u7ebf\u200b\u547d\u540d\u200b\u7528\u9014\u200b\uff0c\u200b\u5df2\u200b\u83b7\u5f97\u200b\u539f\u4f5c\u8005\u200b\u6388\u6743\u200b\u3002</p> <p>Python \u200b\u4e2d\u200b\u6ca1\u6709\u200b\u771f\u6b63\u200b\u7684\u200b\u79c1\u6709\u200b\u5c5e\u6027\u200b\u6216\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f46\u200b\u6709\u200b\u4e00\u4e9b\u200b\u548c\u200b\u547d\u540d\u200b\u6709\u5173\u200b\u7684\u200b\u7ea6\u5b9a\u200b\uff0c\u200b\u8ba9\u200b\u7f16\u7a0b\u4eba\u5458\u200b\u5904\u7406\u200b\u4e00\u4e9b\u200b\u9700\u8981\u200b\u79c1\u6709\u5316\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u6211\u4eec\u200b\u5e38\u5e38\u200b\u9700\u8981\u200b\u533a\u5206\u200b\u79c1\u6709\u200b\u65b9\u6cd5\u200b\u3001\u200b\u5c5e\u6027\u200b\u548c\u200b\u516c\u6709\u200b\u65b9\u6cd5\u200b\u3001\u200b\u5c5e\u6027\u200b\u4ee5\u200b\u65b9\u4fbf\u7ba1\u7406\u200b\u548c\u200b\u8c03\u7528\u200b\uff0c\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u5982\u4f55\u200b\u505a\u200b\u5462\u200b\uff1f</p> <p>\u200b\u5728\u200b\u53d8\u91cf\u200b\u3001\u200b\u65b9\u6cd5\u200b\u547d\u540d\u200b\u4e2d\u6709\u200b\u4e0b\u5217\u200b\u51e0\u79cd\u200b\u60c5\u51b5\u200b\uff1a</p> <ul> <li><code>xx</code> \u200b\u516c\u6709\u200b\u53d8\u91cf\u200b/\u200b\u65b9\u6cd5\u200b</li> <li><code>_xx</code> \u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b</li> <li><code>__xx</code> \u200b\u524d\u7f6e\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b</li> <li><code>__xx__</code> \u200b\u524d\u540e\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b</li> <li><code>xx_</code> \u200b\u540e\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b</li> </ul> <p>\u200b\u63a5\u4e0b\u6765\u200b\u5206\u522b\u200b\u4ecb\u7ecd\u200b\u8fd9\u200b\u51e0\u79cd\u200b\u5e26\u200b\u4e0b\u5212\u7ebf\u200b\u547d\u540d\u200b\u7684\u200b\u7279\u6027\u200b\u4e0e\u200b\u533a\u522b\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u51e0\u79cd\u5e26\u4e0b\u5212\u7ebf\u547d\u540d\u7684\u7279\u6027\u4e0e\u533a\u522b","title":"\u51e0\u79cd\u200b\u5e26\u200b\u4e0b\u5212\u7ebf\u200b\u547d\u540d\u200b\u7684\u200b\u7279\u6027\u200b\u4e0e\u200b\u533a\u522b","text":"","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#_-\u5355\u524d\u7f6e\u4e0b\u5212\u7ebf","title":"<code>_</code> \u200b\u5355\u200b\u524d\u7f6e\u200b\u4e0b\u5212\u7ebf","text":"<p>\u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u610f\u601d\u200b\u662f\u200b \u200b\u63d0\u793a\u200b \u200b\u5176\u4ed6\u200b\u7a0b\u5e8f\u5458\u200b\uff0c\u200b\u4ee5\u5355\u200b\u4e0b\u5212\u7ebf\u200b\u5f00\u5934\u200b\u7684\u200b\u53d8\u91cf\u200b\u6216\u200b\u65b9\u6cd5\u200b\u53ea\u200b\u5728\u200b\u5185\u90e8\u200b\u4f7f\u7528\u200b\u3002<code>PEP 8</code> \u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u7ea6\u5b9a\u200b\uff08 <code>PEP 8</code> \u200b\u662f\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b <code>Python</code> \u200b\u4ee3\u7801\u200b\u98ce\u683c\u200b\u6307\u5357\u200b)\u3002</p> <p>\u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002\u200b\u5173\u4e8e\u200b Public, Protected, Private Members \u200b\u7684\u200b\u533a\u522b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b Python - Public, Protected, Private Members\u3002</p> <p>\u200b\u4e0d\u8fc7\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u7ea6\u5b9a\u200b\u5bf9\u200b Python \u200b\u89e3\u91ca\u5668\u200b\u5e76\u200b\u6ca1\u6709\u200b\u7279\u6b8a\u200b\u542b\u4e49\u200b\u3002\u200b\u4e0e\u200b Java \u200b\u4e0d\u540c\u200b\uff0cPython \u200b\u5728\u200b \u201c\u200b\u79c1\u6709\u200b\u201d \u200b\u548c\u200b \u201c\u200b\u516c\u5171\u200b\u201d \u200b\u53d8\u91cf\u200b\u4e4b\u95f4\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5f88\u5f3a\u200b\u7684\u200b\u533a\u522b\u200b\u3002\u200b\u5728\u200b\u53d8\u91cf\u540d\u200b\u4e4b\u524d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u4e0b\u5212\u7ebf\u200b\u66f4\u200b\u50cf\u662f\u200b\u6709\u4eba\u200b\u6302\u51fa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5c0f\u5c0f\u7684\u200b\u4e0b\u5212\u7ebf\u200b\u8b66\u544a\u200b\u6807\u5fd7\u200b\uff1a\u201c\u200b\u6ce8\u610f\u200b\uff0c\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u662f\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u7684\u200b\u516c\u5171\u200b\u63a5\u53e3\u200b\u3002\u200b\u6700\u597d\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u5b83\u200b\u3002\u201d</p> <p>\u200b\u4e00\u822c\u200b Python \u200b\u7ea6\u5b9a\u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b <code>_</code> \u200b\u7684\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b\u4e3a\u200b\u79c1\u6709\u200b\u65b9\u6cd5\u200b\u6216\u200b\u5c5e\u6027\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u793a\u200b\u8be5\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b \u200b\u4e0d\u200b\u5e94\u200b \u200b\u5728\u200b\u5916\u90e8\u200b\u8c03\u7528\u200b\u3002</p> <p>\u200b\u5f53\u7136\u200b\uff0c\u200b\u5728\u200b\u7c7b\u200b\u4e2d\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u5355\u200b\u4e0b\u5212\u7ebf\u200b\u5f00\u5934\u200b\u6765\u200b\u547d\u540d\u200b\u5c5e\u6027\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8fd9\u200b\u53ea\u662f\u200b\u8868\u793a\u200b\u7c7b\u200b\u7684\u200b\u5b9a\u4e49\u200b\u8005\u200b\u5e0c\u671b\u200b\u8fd9\u4e9b\u200b\u5c5e\u6027\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b\u662f\u200b \"\u200b\u79c1\u6709\u200b\u7684\u200b\"\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u8d77\u200b\u4efb\u4f55\u200b\u4f5c\u7528\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b Python \u200b\u4e2d\u200b\u7684\u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b <code>_</code> \u200b\u53ea\u662f\u200b\u4e00\u4e2a\u200b\u516c\u8ba4\u200b\u7684\u200b\u7ea6\u5b9a\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5fc5\u987b\u200b\u9075\u5b88\u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u81f3\u5c11\u200b\u5728\u200b\u6d89\u53ca\u200b\u53d8\u91cf\u540d\u200b\u548c\u200b\u65b9\u6cd5\u200b\u540d\u65f6\u200b\u662f\u200b\u8fd9\u6837\u200b\u7684\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\u524d\u7f6e\u200b\u4e0b\u5212\u7ebf\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u4ece\u200b\u6a21\u5757\u200b\u4e2d\u200b\u5bfc\u5165\u200b\u540d\u79f0\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u88ab\u200b <code>from somemodule import *</code> \u200b\u5bfc\u5165\u200b\u3002</p> Python<pre><code># demo.py\n_key = \"123\"\ndef _set_key(key):\nglobal _key\n_key = key\n</code></pre> Python<pre><code># test.py\nfrom demo import *\nprint(_key)\n_set_key(\"567\")\n</code></pre> <p>\u200b\u5bf9\u6b64\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b\uff1a<code>NameError: name '_key' is not defined</code>\u3002</p> <p>\u200b\u4f7f\u7528\u200b \u200b\u901a\u914d\u7b26\u200b\u5bfc\u5165\u200b \u200b\u4ece\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\u5bfc\u5165\u200b\u6240\u6709\u200b\u540d\u79f0\u200b\uff0cPython \u200b\u4e0d\u4f1a\u200b \u200b\u5bfc\u5165\u200b\u5e26\u6709\u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u540d\u79f0\u200b\uff08\u200b\u9664\u975e\u200b\u6a21\u5757\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u4e86\u200b<code>__all__</code> \u200b\u5217\u8868\u200b\u8986\u76d6\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u884c\u4e3a\u200b\u3002</p> <p>\u200b\u4f46\u200b\u5e76\u975e\u200b <code>demo.py</code> \u200b\u4e2d\u200b\u7684\u200b\u524d\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b\u53d8\u91cf\u200b/\u200b\u65b9\u6cd5\u200b\u5728\u200b <code>test.py</code> \u200b\u4e2d\u200b\u5c31\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5b8c\u5168\u200b\u53ef\u4ee5\u200b <code>import module</code>\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b <code>module.xxx</code> \u200b\u65b9\u5f0f\u200b\uff0c<code>test.py</code> \u200b\u4ee3\u7801\u200b\u505a\u200b\u5982\u4e0b\u200b\u8c03\u6574\u200b\uff1a</p> Python<pre><code># test.py\nimport demo\nprint(demo._key)  # \u200b\u6b63\u5e38\u200b\u4f7f\u7528\u200b\ndemo._set_key(\"789\")  # \u200b\u6b63\u5e38\u200b\u8c03\u7528\u200b\nprint(demo._key)  # \u200b\u6b63\u5e38\u200b\u4f7f\u7528\u200b\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#__-\u524d\u7f6e\u53cc\u4e0b\u5212\u7ebf","title":"<code>__</code> \u200b\u524d\u7f6e\u200b\u53cc\u200b\u4e0b\u5212\u7ebf","text":"<p>\u200b\u7528\u4e8e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6570\u636e\u200b\u5c01\u88c5\u200b\uff0c\u200b\u4ee5\u6b64\u200b\u547d\u540d\u200b\u7684\u200b\u5c5e\u6027\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b\u4e3a\u7c7b\u200b\u7684\u200b\u79c1\u6709\u200b\u5c5e\u6027\u200b\u6216\u8005\u200b\u79c1\u6709\u200b\u65b9\u6cd5\u200b\u3002</p> Python<pre><code># coding:utf8\nclass Foo(object):\ndef __init__(self):\nself__name = \"private attribute\"\ndef getname():\nreturn self.__name\ndef __method():\nprint(\"private method\")\ndef run(self):\nself.__method()\n</code></pre> <p>\u200b\u5728\u200b\u5916\u90e8\u200b\u8bbf\u95ee\u200b\u76f4\u63a5\u200b\u8bbf\u95ee\u200b\u79c1\u6709\u200b\u5c5e\u6027\u200b\u6216\u200b\u65b9\u6cd5\u200b\uff1a</p> Python Console Session<pre><code>In [1]: # coding:utf8\n   ...:\n   ...:\n   ...: class Foo(object):\n   ...:\n   ...:     def __init__(self):\n   ...:         self.__name = \"private attribute\"\n   ...:\n   ...:     def getname(self):\n   ...:         return self.__name\n   ...:\n   ...:     def __method(self):\n   ...:         print(\"private method\")\n   ...:\n   ...:     def run(self):\n   ...:         self.__method()\n   ...:\n   ...:\nIn [2]: f = Foo()\nIn [3]: f.__name\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-3-332cfd3c796d&gt; in &lt;module&gt;\n----&gt; 1 f.__name\nAttributeError: 'Foo' object has no attribute '__name'\nIn [4]: f.__method()\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-4-9cb5f81c61a6&gt; in &lt;module&gt;\n----&gt; 1 f.__method()\nAttributeError: 'Foo' object has no attribute '__method'\nIn [5]: f.getname()\nOut[5]: 'private attribute'\nIn [6]: f.run()\nprivate method\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u5728\u200b\u5916\u90e8\u200b\u8bbf\u95ee\u200b\u76f4\u63a5\u200b\u8bbf\u95ee\u200b\u79c1\u6709\u200b\u5c5e\u6027\u200b\u6216\u200b\u65b9\u6cd5\u200b\u662f\u200b\u4e0d\u200b\u53ef\u884c\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u8d77\u5230\u200b\u4e86\u200b\u5c01\u88c5\u200b\u9690\u85cf\u200b\u6570\u636e\u200b\u7684\u200b\u4f5c\u7528\u200b\u3002\u200b\u4f46\u662f\u200b\u8fd9\u79cd\u200b\u5b9e\u73b0\u200b\u673a\u5236\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5f88\u200b\u4e25\u683c\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u673a\u5236\u200b\u662f\u200b\u901a\u8fc7\u200b \u200b\u540d\u5b57\u200b\u91cd\u6574\u200b <code>name mangling</code>\u200b\u5b9e\u73b0\u200b\u7684\u200b\uff0c\u200b\u76ee\u7684\u200b\u5c31\u662f\u200b\u4ee5\u9632\u200b\u7c7b\u200b\u610f\u5916\u200b\u91cd\u5199\u200b\u57fa\u7c7b\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6216\u200b\u5c5e\u6027\u200b\u3002\u200b\u4f46\u7c7b\u200b\u4e2d\u200b\u6240\u6709\u200b\u4ee5\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u5f00\u5934\u200b\u7684\u200b\u540d\u79f0\u200b\u90fd\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u53d8\u6210\u200b <code>_Class_object</code> \u200b\u7684\u200b\u65b0\u200b\u540d\u79f0\u200b\uff0c\u200b\u5982\u200b <code>__name</code> &gt;&gt;&gt; <code>_Foo__name</code> \uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>dir()</code>\u200b\u6765\u200b\u67e5\u770b\u200b\u7c7b\u4e2d\u200b\u6210\u5458\u200b\u8be6\u60c5\u200b</p> Python Console Session<pre><code>python\nIn [7]: dir(f)\nOut[7]:\n['_Foo__method',\n '_Foo__name',\n '__class__',\n '__delattr__',\n '__dict__',\n '__dir__',\n '__doc__',\n '__eq__',\n '__format__',\n '__ge__',\n '__getattribute__',\n '__gt__',\n '__hash__',\n '__init__',\n '__init_subclass__',\n '__le__',\n '__lt__',\n '__module__',\n '__ne__',\n '__new__',\n '__reduce__',\n '__reduce_ex__',\n '__repr__',\n '__setattr__',\n '__sizeof__',\n '__str__',\n '__subclasshook__',\n '__weakref__',\n 'getname',\n 'run']\nIn [8]: f._Foo__name\nOut[8]: 'private attribute'\nIn [9]: f._Foo__method()\nprivate method\n</code></pre> <p>\u200b\u8fd9\u79cd\u200b\u673a\u5236\u200b\u53ef\u4ee5\u200b\u963b\u6b62\u200b\u7ee7\u627f\u200b\u7c7b\u200b\u91cd\u65b0\u200b\u5b9a\u4e49\u200b\u6216\u8005\u200b\u66f4\u6539\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b <code>Foo</code> \u200b\u7684\u200b\u5b57\u7c7b\u200b <code>Goo</code>\uff1a</p> Python<pre><code>class Goo(Foo):\ndef __method(self):\nprint(\"private method of Goo\")\n</code></pre> <p>\u200b\u91cd\u5199\u200b <code>__method</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8fd0\u884c\u200b\uff1a</p> Python<pre><code>In [11]: class Goo(Foo):\n...:   def __method(self):\n...:     print('private method of Goo')\n...:\nIn [12]: g = Goo()\nIn [13]: g.run() # (1)!\nprivate method\nIn [14]: dir(g)\nOut[14]:\n['_Foo__method',\n'_Foo__name',\n'_Goo__method',\n...\n...\n]\n</code></pre> <ol> <li>\u200b\u8c03\u7528\u200b <code>run()</code> \u200b\u65b9\u6cd5\u200b\u7684\u200b\u65f6\u5019\u200b\u4f9d\u7136\u200b\u6267\u884c\u200b\u7684\u200b\u662f\u200b <code>Foo</code> \u200b\u7c7b\u200b\u7684\u200b <code>__method()</code> \u200b\u65b9\u6cd5\u200b\u3002</li> </ol> <p>\u200b\u8c03\u7528\u200b <code>run()</code> \u200b\u65b9\u6cd5\u200b\u7684\u200b\u65f6\u5019\u200b\u4f9d\u7136\u200b\u6267\u884c\u200b\u7684\u200b\u662f\u200b <code>Foo</code> \u200b\u7c7b\u200b\u7684\u200b <code>__method()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b <code>run()</code> \u200b\u65b9\u6cd5\u200b\u7684\u200b\u5b9e\u73b0\u200b\u4e2d\u200b\uff0c<code>self.__method()</code> \u200b\u5df2\u200b\u81ea\u52a8\u200b\u53d8\u5f62\u200b\u4e3a\u200b <code>self._Foo__method()</code>\uff0c<code>Goo</code> \u200b\u7ee7\u627f\u200b\u7684\u200b <code>run()</code> \u200b\u65b9\u6cd5\u200b\u4e5f\u200b\u662f\u200b\u5982\u6b64\u200b\uff0c\u200b\u800c\u200b<code>Goo</code> \u200b\u7684\u200b <code>__method()</code>\u200b\u65b9\u6cd5\u200b\u5c31\u200b\u53d8\u6210\u200b\u4e86\u200b <code>_Goo__method()</code>\u3002</p> <p>\u200b\u540d\u5b57\u200b\u91cd\u6574\u200b <code>name mangling</code> \u200b\u7684\u200b\u6280\u672f\u200b\uff0c\u200b\u53c8\u200b\u53eb\u200b <code>name decoration</code>\u200b\u547d\u540d\u200b\u4fee\u9970\u200b\u3002\u200b\u5728\u200b\u5f88\u591a\u200b\u73b0\u4ee3\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u4e00\u200b\u6280\u672f\u200b\u7528\u6765\u200b\u89e3\u51b3\u200b \u200b\u9700\u8981\u200b\u552f\u4e00\u200b\u540d\u79f0\u200b\u800c\u200b\u5f15\u8d77\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u6bd4\u5982\u200b\u547d\u540d\u200b\u51b2\u7a81\u200b/\u200b\u91cd\u8f7d\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#__\u524d\u540e\u53cc\u4e0b\u5212\u7ebf__","title":"<code>__</code>\u200b\u524d\u540e\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b<code>__</code>","text":"<p>\u200b\u672c\u200b\u8282\u200b\u5185\u5bb9\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u524d\u540e\u200b\u5747\u200b\u5e26\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u547d\u540d\u200b\uff0c\u200b\u4e00\u822c\u200b\u7528\u4e8e\u200b\u7279\u6b8a\u200b\u65b9\u6cd5\u200b\u7684\u200b\u547d\u540d\u200b\uff0c\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4e00\u4e9b\u200b\u884c\u4e3a\u200b\u6216\u8005\u200b\u529f\u80fd\u200b\uff0c\u200b\u6bd4\u5982\u200b <code>__new__()</code> \u200b\u65b9\u6cd5\u200b\u7528\u6765\u200b\u521b\u5efa\u200b\u5b9e\u4f8b\u200b\uff0c<code>__init__()</code> \u200b\u65b9\u6cd5\u200b\u7528\u6765\u200b\u521d\u59cb\u5316\u200b\u5bf9\u8c61\u200b\uff0c<code>x + y</code>\u200b\u64cd\u4f5c\u200b\u88ab\u200b\u6620\u5c04\u200b\u4e3a\u200b\u65b9\u6cd5\u200b <code>x.__add__(y)</code>\uff0c\u200b\u5e8f\u5217\u200b\u6216\u8005\u200b\u5b57\u5178\u200b\u7684\u200b\u7d22\u5f15\u200b\u64cd\u4f5c\u200b <code>x[k]</code> \u200b\u6620\u5c04\u200b\u4e3a\u200b<code>x.__getitem__(k)</code>\uff0c<code>__len__()\u3001__str__()</code> \u200b\u5206\u522b\u200b\u88ab\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b <code>len()\u3001str()</code>\u200b\u8c03\u7528\u200b\u7b49\u7b49\u200b\u3002</p> Python<pre><code># coding:utf8\nclass Obj:\ndef __init__(self, num):\nself.num = num\nself.li = list()\nself.li.append(num)\ndef __add__(self, value):\nprint(\"__add__() execute\")\nreturn self.num + value\ndef __getitem__(self, index):\nprint(\"__getitem__() execute\")\nreturn self.li[index]\ndef __len__(self):\nprint(\"__len__() execute\")\nreturn len(self.li)\ndef __str__(self):\nprint(\"__str__() execute\")\nreturn \"&lt; \" + str(self.num) + \" &gt;\"\ndef main():\na = Obj(5)\na = a + 2\nprint(a)\nb = Obj(6)\nprint(b[0])\nprint(len(b))\nprint(b)\nif __name__ == \"__main__\":\nmain()\n</code></pre> <p>\u200b\u6d4b\u8bd5\u200b\u7ed3\u679c\u200b\uff1a</p> Python Console Session<pre><code>__add__() execute\n7\n__getitem__() execute\n6\n__len__() execute\n1\n__str__() execute\n&lt; 6 &gt;\n[Finished in 0.1s]\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u540e\u7f6e\u5355\u4e0b\u5212\u7ebf-_","title":"\u540e\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b <code>_</code>","text":"<p>\u200b\u540e\u7f6e\u200b\u5355\u200b\u4e0b\u5212\u7ebf\u200b\uff0c\u200b\u7528\u4e8e\u200b\u907f\u514d\u200b\u4e0e\u200b Python \u200b\u5173\u952e\u8bcd\u200b\u7684\u200b\u51b2\u7a81\u200b\u3002\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>list_ = [\"wang\", \"hui\", \"zack\"]\ndict_ = {\"name\": \"hui\", \"age\": 21}\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<ul> <li><code>_xx</code> \u200b\u7684\u200b\u53d8\u91cf\u200b\u3001\u200b\u51fd\u6570\u200b\u3001\u200b\u7c7b\u200b\u5728\u200b\u4f7f\u7528\u200b <code>from xxx import *</code> \u200b\u65f6\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u5bfc\u5165\u200b\u3002</li> <li><code>__xx</code>\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5c5e\u6027\u200b\u3001\u200b\u65b9\u6cd5\u200b\u4f1a\u200b\u88ab\u200b \u200b\u540d\u5b57\u200b\u91cd\u6574\u200b <code>name mangling &gt;&gt;&gt; _\u200b\u7c7b\u540d\u200b__\u200b\u5c5e\u6027\u200b\u540d\u200b</code> </li> <li>\u200b\u7236\u7c7b\u200b\u4e2d\u200b\u5c5e\u6027\u200b\u540d\u4e3a\u200b <code>__xx</code> \u200b\u7684\u200b\uff0c\u200b\u5b50\u7c7b\u200b\u4e0d\u200b\u7ee7\u627f\u200b\uff0c\u200b\u5b50\u7c7b\u200b\u4e0d\u80fd\u200b\u8bbf\u95ee\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u5728\u200b\u5b50\u7c7b\u200b\u4e2d\u5411\u200b <code>__xx</code> \u200b\u8d4b\u503c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b\u5728\u200b\u5b50\u7c7b\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u4e00\u4e2a\u200b\u4e0e\u200b\u7236\u7c7b\u200b\u76f8\u540c\u200b\u540d\u5b57\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002</li> <li><code>__xx__</code> \u200b\u9b54\u6cd5\u200b\u5bf9\u8c61\u200b\u6216\u200b\u5c5e\u6027\u200b\uff0c\u200b\u6709\u7740\u200b\u7279\u6b8a\u4f5c\u7528\u200b\u3002\u200b\u4e0d\u8981\u200b\u968f\u610f\u200b\u8d77\u200b\u8fd9\u79cd\u200b\u547d\u540d\u200b\u3002</li> <li><code>xx_</code> \u200b\u7528\u4e8e\u200b\u907f\u514d\u200b\u4e0e\u200b Python \u200b\u5173\u952e\u8bcd\u200b\u7684\u200b\u51b2\u7a81\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u83b7\u53d6\u548c\u4fee\u6539\u88ab\u4fdd\u62a4\u7684\u5c5e\u6027","title":"\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027","text":"","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u5b9e\u73b0-getter-\u548c-setter","title":"\u5b9e\u73b0\u200b <code>getter</code> \u200b\u548c\u200b <code>setter</code>","text":"Python<pre><code># Python program showing a use\n# of get() and set() method in\n# normal function\nclass Geek:\ndef __init__(self, age=0):\nself._age = age\n# getter method\ndef get_age(self):\nreturn self._age\n# setter method\ndef set_age(self, x):\nself._age = x\nraj = Geek()\n# setting the age using setter\nraj.set_age(21)\n# retrieving age using getter\nprint(raj.get_age())\nprint(raj._age)\n</code></pre> Text Only<pre><code>21\n21\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u4f7f\u7528-property","title":"\u4f7f\u7528\u200b <code>property</code>","text":"Python<pre><code># Python program showing a\n# use of property() function\nclass Geeks:\ndef __init__(self):\nself._age = 0\n# function to get value of _age\ndef get_age(self):\nprint(\"getter method called\")\nreturn self._age\n# function to set value of _age\ndef set_age(self, a):\nprint(\"setter method called\")\nself._age = a\n# function to delete _age attribute\ndef del_age(self):\ndel self._age\nage = property(get_age, set_age, del_age)\nmark = Geeks()\nmark.age = 10\nprint(mark.age)\n</code></pre> Text Only<pre><code>setter method called\ngetter method called\n10\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u4f7f\u7528-property_1","title":"\u4f7f\u7528\u200b <code>@property</code>","text":"<p>\u200b\u5728\u200b\u4e4b\u524d\u200b\u7684\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b <code>getter</code> \u200b\u548c\u200b <code>setter</code> \u200b\u7684\u200b\u884c\u4e3a\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e86\u200b <code>property()</code> \u200b\u51fd\u6570\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u6b63\u5982\u200b\u5728\u200b\u672c\u5e16\u200b\u4e2d\u200b\u4e4b\u524d\u200b\u63d0\u5230\u200b\u7684\u200b\uff0c<code>getter</code> \u200b\u548c\u200b <code>setter</code> \u200b\u4e5f\u200b\u7528\u4e8e\u200b\u9a8c\u8bc1\u200b\u5c5e\u6027\u200b\u503c\u200b\u7684\u200b\u83b7\u53d6\u200b\u548c\u200b\u8bbe\u7f6e\u200b\u3002\u200b\u8fd8\u6709\u200b\u4e00\u79cd\u200b\u5b9e\u73b0\u200b <code>property</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5373\u200b\u4f7f\u7528\u200b\u88c5\u9970\u200b\u5668\u200b\u3002Python \u200b\u7684\u200b <code>@property</code> \u200b\u662f\u200b\u5185\u7f6e\u200b\u7684\u200b\u88c5\u9970\u200b\u5668\u200b\u4e4b\u4e00\u200b\u3002\u200b\u4efb\u4f55\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u4e3b\u8981\u200b\u76ee\u7684\u200b\u662f\u200b\u4ee5\u200b\u4e00\u79cd\u200b\u65b9\u5f0f\u200b\u6539\u53d8\u200b\u4f60\u200b\u7684\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u6216\u200b\u5c5e\u6027\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u4f60\u200b\u7684\u200b\u7c7b\u200b\u7684\u200b\u7528\u6237\u200b\u4e0d\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u4ed6\u4eec\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002\u200b\u4f8b\u5982\u200b</p> Python<pre><code># Python program showing the use of\n# @property\nclass Geeks:\ndef __init__(self):\nself._age = 0\n# using property decorator\n# a getter function\n@property\ndef age(self):\nprint(\"getter method called\")\nreturn self._age\n# a setter function\n@age.setter\ndef age(self, a):\nif a &lt; 18:\nraise ValueError(\"Sorry you age is below eligibility criteria\")\nprint(\"setter method called\")\nself._age = a\nmark = Geeks()\nmark.age = 19\nprint(mark.age)\n</code></pre> Text Only<pre><code>setter method called\ngetter method called\n19\n</code></pre> <p>\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b <code>@property</code> \u200b\u548c\u200b <code>@abc.abstractmethod</code></p> <p>\u200b\u5982\u679c\u200b\u8981\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b <code>@property</code> \u200b\u548c\u200b <code>@abc.abstractmethod</code>\uff0c\u200b\u5fc5\u987b\u200b\u5c06\u200b <code>@property</code> \u200b\u653e\u5728\u200b\u4e0a\u65b9\u200b\uff0c\u200b\u5c06\u200b <code>@abc.abstractmethod</code> \u200b\u653e\u5728\u200b\u4e0b\u65b9\u200b\u3002\u200b\u56e0\u4e3a\u200b <code>@abstractmethod</code> \u200b\u88c5\u9970\u200b\u5668\u6765\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u6ca1\u6709\u200b\u5b9e\u73b0\u200b\u7684\u200b\u62bd\u8c61\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u200b <code>@property</code> \u200b\u4f1a\u200b\u5f15\u5165\u200b\u4e00\u4e9b\u200b\u5b9e\u73b0\u200b\u3002\u200b\u5982\u679c\u200b\u628a\u200b <code>@abc.abstractmethod</code> \u200b\u653e\u5728\u200b\u4e0a\u65b9\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a<code>AttributeError: attribute 'isabstractmethod' of 'property' objects is not writable</code>\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-5-encapsulation/#\u603b\u7ed3_1","title":"\u603b\u7ed3","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0cGetter \u200b\u548c\u200b Setter \u200b\u662f\u200b\u4e00\u79cd\u200b\u7528\u4e8e\u200b\u8bbf\u95ee\u200b\u548c\u200b\u4fee\u6539\u200b\u5bf9\u8c61\u200b\u5c5e\u6027\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5b83\u4eec\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u95f4\u63a5\u200b\u8bbf\u95ee\u200b\u5bf9\u8c61\u200b\u5c5e\u6027\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5728\u200b\u8bbf\u95ee\u200b\u6216\u200b\u4fee\u6539\u200b\u5c5e\u6027\u200b\u65f6\u200b\u6267\u884c\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u200b\u3002</p> <p>Getter \u200b\u662f\u200b\u7528\u4e8e\u200b\u83b7\u53d6\u200b\u5bf9\u8c61\u200b\u5c5e\u6027\u200b\u503c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5b83\u4eec\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u8bbf\u95ee\u200b\u79c1\u6709\u200b\u5c5e\u6027\u200b\u6216\u200b\u6267\u884c\u200b\u4e00\u4e9b\u200b\u8ba1\u7b97\u200b\u64cd\u4f5c\u200b\u540e\u200b\u8fd4\u56de\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b@property \u200b\u88c5\u9970\u200b\u5668\u6765\u200b\u5b9a\u4e49\u200b Getter \u200b\u65b9\u6cd5\u200b\u3002</p> <p>Setter \u200b\u662f\u200b\u7528\u4e8e\u200b\u8bbe\u7f6e\u200b\u5bf9\u8c61\u200b\u5c5e\u6027\u200b\u503c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5b83\u4eec\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u9a8c\u8bc1\u200b\u5c5e\u6027\u200b\u503c\u200b\u7684\u200b\u6709\u6548\u6027\u200b\u6216\u200b\u6267\u884c\u200b\u4e00\u4e9b\u200b\u989d\u5916\u200b\u7684\u200b\u64cd\u4f5c\u200b\u540e\u200b\u8bbe\u7f6e\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b@property \u200b\u88c5\u9970\u200b\u5668\u200b\u548c\u200b\u5bf9\u5e94\u200b\u7684\u200b Setter \u200b\u65b9\u6cd5\u200b\u6765\u200b\u5b9a\u4e49\u200b Setter\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b Getter \u200b\u548c\u200b Setter \u200b\u7684\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class Person:\ndef __init__(self, name):\nself._name = name\n@property\ndef name(self):\nreturn self._name\n@name.setter\ndef name(self, value):\nself._name = value\n# \u200b\u521b\u5efa\u200b Person \u200b\u5bf9\u8c61\u200b\nperson = Person(\"Alice\")\n# \u200b\u4f7f\u7528\u200b Getter \u200b\u83b7\u53d6\u200b\u5c5e\u6027\u200b\u503c\u200b\nprint(person.name)  # \u200b\u8f93\u51fa\u200b\uff1aAlice\n# \u200b\u4f7f\u7528\u200b Setter \u200b\u8bbe\u7f6e\u200b\u5c5e\u6027\u200b\u503c\u200b\nperson.name = \"Bob\"\nprint(person.name)  # \u200b\u8f93\u51fa\u200b\uff1aBob\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c<code>name</code>\u200b\u5c5e\u6027\u200b\u4f7f\u7528\u200b\u4e86\u200b Getter \u200b\u548c\u200b Setter \u200b\u65b9\u6cd5\u200b\u3002Getter \u200b\u65b9\u6cd5\u200b\u88ab\u200b<code>@property</code>\u200b\u88c5\u9970\u200b\u5668\u200b\u4fee\u9970\u200b\uff0c\u200b\u5141\u8bb8\u200b\u901a\u8fc7\u200b<code>person.name</code>\u200b\u7684\u200b\u65b9\u5f0f\u200b\u83b7\u53d6\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002Setter \u200b\u65b9\u6cd5\u200b\u88ab\u200b<code>@name.setter</code>\u200b\u88c5\u9970\u200b\u5668\u200b\u4fee\u9970\u200b\uff0c\u200b\u5141\u8bb8\u200b\u901a\u8fc7\u200b<code>person.name = value</code>\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8bbe\u7f6e\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002</p> <p>Getter \u200b\u548c\u200b Setter \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u5c01\u88c5\u200b\u5c5e\u6027\u200b\u8bbf\u95ee\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8bbf\u95ee\u200b\u6216\u200b\u4fee\u6539\u200b\u5c5e\u6027\u200b\u65f6\u200b\u6267\u884c\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u9a8c\u8bc1\u200b\u8f93\u5165\u200b\u3001\u200b\u8ba1\u7b97\u200b\u5c5e\u6027\u200b\u503c\u200b\u7b49\u200b\u3002\u200b\u8fd9\u79cd\u200b\u5c01\u88c5\u200b\u53ef\u4ee5\u200b\u589e\u52a0\u200b\u4ee3\u7801\u200b\u7684\u200b\u53ef\u7ef4\u62a4\u6027\u200b\u548c\u200b\u7075\u6d3b\u6027\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0cPython \u200b\u4e2d\u200b\u8fd8\u6709\u200b\u5176\u4ed6\u200b\u5b9e\u73b0\u200b\u5c5e\u6027\u200b\u8bbf\u95ee\u63a7\u5236\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4f7f\u7528\u200b<code>property()</code>\u200b\u51fd\u6570\u200b\u6216\u200b\u4f7f\u7528\u200b<code>__getattr__()</code>\u200b\u548c\u200b<code>__setattr__()</code>\u200b\u9b54\u672f\u200b\u65b9\u6cd5\u200b\u3002Getter \u200b\u548c\u200b Setter \u200b\u662f\u200b\u5176\u4e2d\u200b\u4e00\u79cd\u200b\u5e38\u89c1\u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f46\u200b\u5e76\u200b\u4e0d\u662f\u200b\u552f\u4e00\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-6-type-hinting/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\u3002</p> <p>Python \u200b\u662f\u200b\u4e00\u95e8\u200b\u52a8\u6001\u200b\u7c7b\u578b\u200b\u7684\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u6211\u4eec\u200b\u5728\u200b\u7f16\u5199\u200b\u4ee3\u7801\u200b\u65f6\u200b\u5e76\u4e0d\u9700\u8981\u200b\u663e\u5f0f\u200b\u5730\u200b\u58f0\u660e\u200b\u53d8\u91cf\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5927\u578b\u9879\u76ee\u200b\u6216\u200b\u9700\u8981\u200b\u548c\u200b\u4ed6\u4eba\u200b\u5408\u4f5c\u200b\u7684\u200b\u9879\u76ee\u200b\u6765\u8bf4\u200b\uff0c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u66f4\u597d\u200b\u7684\u200b\u4ee3\u7801\u200b\u5065\u58ee\u6027\u200b\u548c\u200b\u53ef\u8bfb\u6027\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\uff0cPython \u200b\u793e\u533a\u200b\u5f00\u53d1\u200b\u4e86\u200b\u8bb8\u591a\u200b\u5de5\u5177\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4e4b\u4e00\u200b\u5c31\u662f\u200b <code>mypy</code>\u3002<code>mypy</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u9759\u6001\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u5668\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u200b\u8fd0\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5206\u6790\u200b\u4ee3\u7801\u200b\u5e76\u200b\u53d1\u73b0\u200b\u6f5c\u5728\u200b\u7684\u200b\u7c7b\u578b\u200b\u9519\u8bef\u200b\u3002\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u7c7b\u578b\u200b\u6ce8\u91ca\u200b\uff0c<code>mypy</code> \u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u66f4\u597d\u200b\u7684\u200b\u4ee3\u7801\u200b\u53ef\u8bfb\u6027\u200b\u548c\u200b\u53ef\u7ef4\u62a4\u6027\u200b\uff0c\u200b\u540c\u65f6\u200b\u8fd8\u200b\u80fd\u200b\u5e2e\u52a9\u200b\u6355\u83b7\u200b\u6f5c\u5728\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-6-type-hinting/#\u5b89\u88c5-mypy","title":"\u5b89\u88c5\u200b <code>mypy</code>","text":"<p>\u200b\u5728\u200b\u5f00\u59cb\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u4e4b\u524d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u5b83\u200b\u3002\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b <code>pip</code> \u200b\u6765\u200b\u5b89\u88c5\u200b\uff0c\u200b\u547d\u4ee4\u200b\u5982\u4e0b\u200b\uff1a</p> Bash<pre><code>pip install mypy\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-6-type-hinting/#\u4f7f\u7528\u793a\u4f8b","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"","tags":["Python"]},{"location":"blog/advanced-python-6-type-hinting/#\u6dfb\u52a0\u7c7b\u578b\u6ce8\u91ca","title":"\u6dfb\u52a0\u200b\u7c7b\u578b\u200b\u6ce8\u91ca","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u4e4b\u524d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u7c7b\u578b\u200b\u6ce8\u91ca\u200b\u3002\u200b\u7c7b\u578b\u200b\u6ce8\u91ca\u200b\u662f\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7684\u200b Python \u200b\u6ce8\u91ca\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u53d8\u91cf\u200b\u3001\u200b\u51fd\u6570\u53c2\u6570\u200b\u548c\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff1a</p> Python<pre><code>def add(a: int, b: int) -&gt; int:\nreturn a + b\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u5192\u53f7\u200b (<code>:</code>) \u200b\u6765\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b\u548c\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002\u200b\u8fd9\u91cc\u200b\u7684\u200b<code>a</code>\u200b\u548c\u200b<code>b</code>\u200b\u7684\u200b\u7c7b\u578b\u200b\u90fd\u200b\u662f\u200b<code>int</code>\uff0c\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u7c7b\u578b\u200b\u4e5f\u200b\u662f\u200b<code>int</code>\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-6-type-hinting/#\u8fd0\u884c-mypy","title":"\u8fd0\u884c\u200b <code>mypy</code>","text":"<p>\u200b\u4e00\u65e6\u200b\u6211\u4eec\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u7c7b\u578b\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u4e86\u200b\u3002\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u8fd0\u884c\u200b <code>mypy</code>\uff1a</p> Bash<pre><code>mypy your_code.py\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u5bf9\u200b <code>your_code.py</code> \u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\uff0c\u200b\u5e76\u200b\u8f93\u51fa\u200b\u4efb\u4f55\u200b\u6f5c\u5728\u200b\u7684\u200b\u7c7b\u578b\u200b\u9519\u8bef\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-6-type-hinting/#\u7c7b\u578b\u9519\u8bef\u793a\u4f8b","title":"\u7c7b\u578b\u200b\u9519\u8bef\u200b\u793a\u4f8b","text":"<p>\u200b\u8ba9\u200b\u6211\u4eec\u200b\u770b\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u6f14\u793a\u200b <code>mypy</code> \u200b\u5982\u4f55\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u6355\u83b7\u200b\u7c7b\u578b\u200b\u9519\u8bef\u200b\uff1a</p> Python<pre><code>def add(a: int, b: int) -&gt; int:\nreturn a + b\nresult = add(3, \"5\")\nprint(result)\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4f20\u9012\u200b\u7ed9\u200b <code>add</code> \u200b\u51fd\u6570\u200b\u3002\u200b\u7531\u4e8e\u200b\u7c7b\u578b\u200b\u6ce8\u91ca\u200b\u6307\u5b9a\u200b\u4e86\u200b <code>a</code> \u200b\u548c\u200b <code>b</code> \u200b\u7684\u200b\u7c7b\u578b\u200b\u90fd\u200b\u662f\u200b <code>int</code>\uff0c<code>mypy</code> \u200b\u4f1a\u200b\u68c0\u6d4b\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u9519\u8bef\u200b\u5e76\u200b\u8f93\u51fa\u200b\u4ee5\u4e0b\u200b\u9519\u8bef\u4fe1\u606f\u200b\uff1a</p> Text Only<pre><code>error: Argument 2 to \"add\" has incompatible type \"str\"; expected \"int\"\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4ee3\u7801\u8fd0\u884c\u200b\u4e4b\u524d\u200b\u53d1\u73b0\u200b\u5e76\u200b\u4fee\u590d\u200b\u7c7b\u578b\u200b\u9519\u8bef\u200b\u3002</p> <p>\u200b\u867d\u7136\u200b <code>mypy</code> \u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\uff0c\u200b\u4f46\u200b\u8bf7\u200b\u6ce8\u610f\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6240\u6709\u200b\u7684\u200b\u4ee3\u7801\u200b\u90fd\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\u3002\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5bf9\u200b\u4ee3\u7801\u200b\u7684\u200b\u7b80\u6d01\u6027\u200b\u548c\u200b\u7075\u6d3b\u6027\u200b\u9020\u6210\u200b\u4e00\u5b9a\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-7-factory-design-pattern/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b Python \u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b\u3002</p> <p>\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b\u662f\u200b\u6307\u200b\u8c03\u7528\u200b\u65b9\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u51fd\u6570\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u4e0d\u540c\u200b\u7684\u200b\u5bf9\u8c61\u200b\u3002\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b\u4e00\u822c\u200b\u5305\u542b\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\u548c\u200b\u62bd\u8c61\u200b\u5de5\u5382\u200b\u4e24\u79cd\u200b\u6a21\u5f0f\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u200b\u4e86\u200b Python \u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b\uff08factory pattern\uff09\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-7-factory-design-pattern/#\u5de5\u5382\u65b9\u6cd5factory-method","title":"\u5de5\u5382\u200b\u65b9\u6cd5\u200b\uff08factory method\uff09","text":"<p>\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\u6a21\u5f0f\u200b\u662f\u200b\u6307\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\u7684\u200b\u4e0d\u540c\u200b\u8fd4\u56de\u200b\u4e0d\u540c\u200b\u5bf9\u8c61\u200b\u7684\u200b\u51fd\u6570\u200b\u3002</p> Python<pre><code>class JSONParser:\ndef parse(self, raw_data):\nreturn json.loads(raw_data)\nclass XMLParser:\ndef parse(self, raw_data):\nreturn xml2dict(raw_data)\ndef new_parser(type, **kwargs):\nif type == \"json\":\nreturn JSONParser()\nelif type == \"xml\":\nreturn XMLParser()\nparser = new_parser(\"json\")\nwith open(\"hello.json\") as fp:\ndata = parser.parse(fp.read())\nprint(data)\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-7-factory-design-pattern/#\u62bd\u8c61\u5de5\u5382abstract-factory","title":"\u62bd\u8c61\u200b\u5de5\u5382\u200b\uff08abstract factory\uff09","text":"<p>\u200b\u4e00\u7cfb\u5217\u200b\u7684\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\u7ec4\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u62bd\u8c61\u200b\u5de5\u5382\u200b\u3002</p> <p>\u200b\u8fd8\u662f\u200b\u4e0a\u9762\u200b\u90a3\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u6211\u4eec\u200b\u518d\u200b\u52a0\u200b\u4e00\u4e2a\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>class DBSaver:\ndef save(self, obj, **kwargs):\nmodel = Model(**obj)\nmodel.save()\nclass FileSaver:\ndef __init__(self, save_dir):\nself.save_dir = save_dir\ndef save(self, obj, name):\npath = os.path.join(self.save_dir, name)\nwith open(path, \"wb\") as fp:\ndata = json.dumps(obj)\nfp.write(data)\ndef new_saver(type, **kwargs):\nif type == \"db\":\nreturn DBSaver()\nelif type == \"file\":\nsave_dir = kwargs[\"save_dir\"]\nreturn FileSaver(save_dir)\nclass FileHandler:\ndef __init__(self, parse_type, save_type, **kwargs):\nself.parser = new_parser(parse_type, **kwargs)\nself.saver = new_saver(save_type, **kwargs)\ndef do(self, data, filename):\nobj = self.parser.parse(data)\nself.saver.save(obj, filename)\nhandler = FileHandler(\"json\", \"file\", save_dir=\"save\")\nwith open(\"hello.json\") as fp:\ndata = fp.read()\nhandler.do(data, \"data.json\")\n</code></pre> <p>\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\u548c\u200b\u62bd\u8c61\u200b\u5de5\u5382\u200b\u7684\u200b\u9009\u62e9\u200b\uff1a\u200b\u5148\u200b\u4f7f\u7528\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5f53\u200b\u53d1\u73b0\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u4e00\u7cfb\u5217\u200b\u5de5\u5382\u200b\u65b9\u6cd5\u200b\u6765\u200b\u521b\u5efa\u200b\u591a\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u628a\u200b\u8fd9\u4e9b\u200b\u521b\u5efa\u5bf9\u8c61\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5408\u5e76\u200b\u5230\u200b\u4e00\u4e2a\u200b\u62bd\u8c61\u200b\u5de5\u5382\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b Python \u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u4ec0\u4e48\u662f\u4ee3\u7406\u6a21\u5f0f","title":"\u4ec0\u4e48\u200b\u662f\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\uff1f","text":"<p>\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u662f\u200b\u4e00\u79cd\u200b\u7ed3\u6784\u578b\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u901a\u8fc7\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u6765\u200b\u63a7\u5236\u200b\u5bf9\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bbf\u95ee\u200b\u3002\u200b\u5728\u200b\u8f6f\u4ef6\u5f00\u53d1\u200b\u4e2d\u200b\uff0c\u200b\u4ee3\u7406\u200b\u662f\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4e00\u79cd\u200b\u5c01\u88c5\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u9690\u85cf\u200b\u5b9e\u9645\u200b\u5bf9\u8c61\u200b\u7684\u200b\u590d\u6742\u6027\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u7b80\u6d01\u200b\u7684\u200b\u63a5\u53e3\u200b\u4f9b\u200b\u5176\u4ed6\u200b\u5bf9\u8c61\u200b\u4f7f\u7528\u200b\u3002</p> <p>\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u51e0\u4e2a\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u771f\u5b9e\u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b\u5c01\u88c5\u200b\u548c\u200b\u63a7\u5236\u200b\uff0c\u200b\u4ece\u800c\u200b\u9690\u85cf\u200b\u4e86\u200b\u771f\u5b9e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u590d\u6742\u6027\u200b\u3002</li> <li>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u5b9e\u73b0\u200b\u4e00\u4e9b\u200b\u989d\u5916\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u5982\u200b\u8bb0\u5f55\u200b\u65e5\u5fd7\u200b\u3001\u200b\u7f13\u5b58\u6570\u636e\u200b\u3001\u200b\u5b9e\u73b0\u200b\u61d2\u200b\u52a0\u8f7d\u200b\u7b49\u200b\u3002</li> <li>\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u7b26\u5408\u200b\u5355\u4e00\u200b\u804c\u8d23\u200b\u539f\u5219\u200b\uff0c\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u7684\u200b\u804c\u8d23\u200b\u5206\u79bb\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6bcf\u4e2a\u200b\u5bf9\u8c61\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4e13\u6ce8\u200b\u4e8e\u200b\u81ea\u5df1\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</li> </ul> <p>\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u9002\u7528\u200b\u4e8e\u200b\u4ee5\u4e0b\u200b\u573a\u666f\u200b\uff1a</p> <ul> <li>\u200b\u8fdc\u7a0b\u200b\u8bbf\u95ee\u200b\uff1a\u200b\u5f53\u200b\u9700\u8981\u200b\u4ece\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u8bbf\u95ee\u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u3002\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u5904\u7406\u200b\u4e0e\u200b\u8fdc\u7a0b\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u901a\u4fe1\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u8fd4\u56de\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b\u3002</li> <li>\u200b\u865a\u62df\u200b\u4ee3\u7406\u200b\uff1a\u200b\u5f53\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u8017\u8d39\u200b\u8d44\u6e90\u200b\u7684\u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u3002\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u5728\u200b\u9700\u8981\u200b\u65f6\u200b\u521b\u5efa\u200b\u548c\u200b\u52a0\u8f7d\u200b\u771f\u5b9e\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4ece\u800c\u200b\u5b9e\u73b0\u200b\u5ef6\u8fdf\u200b\u52a0\u8f7d\u200b\u3002</li> <li>\u200b\u5b89\u5168\u200b\u4ee3\u7406\u200b\uff1a\u200b\u5f53\u200b\u9700\u8981\u200b\u5bf9\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bbf\u95ee\u200b\u8fdb\u884c\u200b\u5b89\u5168\u63a7\u5236\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u3002\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u9a8c\u8bc1\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\uff0c\u200b\u5e76\u200b\u6267\u884c\u200b\u76f8\u5e94\u200b\u7684\u200b\u5b89\u5168\u68c0\u67e5\u200b\u3002</li> </ul> <p>\u200b\u672c\u6587\u200b\u90e8\u5206\u200b\u8f6c\u8f7d\u200b\u4e86\u200b \u3010\u200b\u8fdb\u9636\u200b Python\u3011\u200b\u7b2c\u516b\u200b\u8bb2\u200b\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u4ee3\u7406\u6a21\u5f0f\u7684\u5b9e\u73b0\u793a\u4f8b","title":"\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u7684\u200b\u5b9e\u73b0\u200b\u793a\u4f8b","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7c7b\u6765\u200b\u5b9e\u73b0\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>class Subject:\ndef request(self):\npass\nclass RealSubject(Subject):\ndef request(self):\nprint(\"\u200b\u771f\u5b9e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bf7\u6c42\u200b...\")\nclass Proxy(Subject):\ndef __init__(self):\nself.real_subject = RealSubject()\ndef request(self):\n# \u200b\u53ef\u4ee5\u200b\u5728\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u6267\u884c\u200b\u4e00\u4e9b\u200b\u9644\u52a0\u200b\u64cd\u4f5c\u200b\nprint(\"\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bf7\u6c42\u200b...\")\nself.real_subject.request()\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c<code>Subject</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u62bd\u8c61\u7c7b\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b <code>request</code> \u200b\u65b9\u6cd5\u200b\u3002<code>RealSubject</code> \u200b\u662f\u200b <code>Subject</code> \u200b\u7684\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u771f\u5b9e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bf7\u6c42\u200b\u3002<code>Proxy</code> \u200b\u662f\u200b\u4ee3\u7406\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u901a\u8fc7\u200b\u6301\u6709\u200b\u4e00\u4e2a\u200b <code>RealSubject</code> \u200b\u5bf9\u8c61\u200b\u6765\u200b\u5b8c\u6210\u200b\u5b9e\u9645\u200b\u8bf7\u6c42\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u6765\u200b\u8c03\u7528\u200b\u5b9e\u9645\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6267\u884c\u200b\u5b9e\u9645\u200b\u8bf7\u6c42\u200b\u4e4b\u524d\u200b\u6216\u200b\u4e4b\u540e\u200b\u6267\u884c\u200b\u989d\u5916\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u8bb0\u5f55\u200b\u65e5\u5fd7\u200b\u3001\u200b\u7f13\u5b58\u6570\u636e\u200b\u6216\u200b\u8fdb\u884c\u200b\u5b89\u5168\u68c0\u67e5\u200b\u3002</p> <p>\u200b\u8ba9\u200b\u6211\u4eec\u200b\u770b\u770b\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\uff1a</p> Python<pre><code>proxy = Proxy()\nproxy.request()\n</code></pre> <p>\u200b\u4ee5\u4e0a\u200b\u4ee3\u7801\u200b\u5c06\u200b\u8f93\u51fa\u200b\uff1a</p> Text Only<pre><code>\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bf7\u6c42\u200b...\n\u200b\u771f\u5b9e\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bf7\u6c42\u200b...\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c<code>Proxy</code> \u200b\u5bf9\u8c61\u200b\u7684\u200b <code>request</code> \u200b\u65b9\u6cd5\u200b\u5148\u200b\u6253\u5370\u200b\u51fa\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u8c03\u7528\u200b\u5b9e\u9645\u200b\u5bf9\u8c61\u200b <code>RealSubject</code> \u200b\u7684\u200b <code>request</code> \u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u4f7f\u7528\u4ee3\u7406\u6a21\u5f0f\u63a7\u5236\u8bbf\u95ee\u6743\u9650","title":"\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b\u63a7\u5236\u200b\u8bbf\u95ee\u200b\u6743\u9650","text":"","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u573a\u666f\u8bbe\u5b9a","title":"\u573a\u666f\u200b\u8bbe\u5b9a","text":"<p>\u200b\u5047\u5982\u200b\uff0c\u200b\u6211\u4eec\u200b\u73b0\u5728\u200b\u60f3\u200b\u4e86\u89e3\u200b\u4e00\u4e2a\u200b\u73ed\u7ea7\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u4e3b\u8981\u200b\u5305\u62ec\u200b\u4e24\u70b9\u200b\uff1a\u200b\u4eba\u6570\u200b\u548c\u200b\u5b66\u4e60\u6210\u7ee9\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u4e86\u89e3\u200b\u8fd9\u4e2a\u200b\u73ed\u7ea7\u200b\u7684\u200b\u4eba\u6570\u200b\u65f6\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\u4e0d\u200b\u654f\u611f\u200b\uff0c\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u9690\u79c1\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8bbf\u95ee\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u60f3\u200b\u67e5\u8be2\u200b\u7279\u5b9a\u200b\u67d0\u4e2a\u200b\u5b66\u751f\u200b\u6210\u7ee9\u200b\u65f6\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u6d89\u53ca\u200b\u9690\u79c1\u200b\u4fe1\u606f\u200b\uff0c\u200b\u9700\u8981\u200b\u63d0\u4f9b\u200b\u5bf9\u5e94\u200b\u5b66\u751f\u200b\u7684\u200b\u59d3\u540d\u200b (user_name)\uff0c\u200b\u8bbf\u95ee\u200b\u7684\u200b\u5bc6\u7801\u200b (password)\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u9700\u6c42\u5206\u6790","title":"\u9700\u6c42\u200b\u5206\u6790","text":"<p>\u200b\u9488\u5bf9\u200b\u8fd9\u4e2a\u200b\u573a\u666f\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5148\u200b\u5206\u6790\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u8bbf\u95ee\u8005\u200b\u5c31\u200b\u5982\u540c\u200b\u4e0a\u8ff0\u200b\u56fe\u4e2d\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b (Client)\uff0c\u200b\u83b7\u53d6\u200b\u73ed\u7ea7\u200b\u4eba\u6570\u200b\u3001\u200b\u6210\u7ee9\u200b\u8fd9\u4e9b\u200b\u5b9e\u9645\u200b\u7684\u200b\u529f\u80fd\u200b\u662f\u200b\u7531\u200b\u5b9e\u4f53\u200b\u5bf9\u8c61\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u56fe\u4e2d\u200b\u7684\u200b RealSubject\u3002Client \u200b\u4e0e\u200b RealSubject \u200b\u4e4b\u95f4\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u901a\u4fe1\u200b\uff0c\u200b\u5b83\u4eec\u200b\u53ea\u80fd\u200b\u901a\u8fc7\u200b\u4e2d\u95f4\u200b\u7684\u200b\u4ee3\u7406\u200b (Proxy) \u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\u3002\u200b\u800c\u200b Proxy \u200b\u4e3b\u8981\u200b\u7684\u200b\u804c\u8d23\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u4e00\u4e2a\u200b\u63a7\u5236\u200b\u5f00\u5173\u200b\uff0c\u200b\u5982\u679c\u200b Client \u200b\u8981\u200b\u8bbf\u95ee\u200b\u73ed\u7ea7\u200b\u4eba\u6570\u200b\uff0cProxy \u200b\u4f1a\u200b\u68c0\u67e5\u200b\u8fd9\u9879\u200b\u6570\u636e\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u6743\u9650\u200b\uff0c\u200b\u7136\u540e\u200b\u53d1\u73b0\u200b\u73ed\u7ea7\u200b\u4eba\u6570\u200b\u662f\u975e\u200b\u654f\u611f\u6570\u636e\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u4f1a\u200b\u8c03\u7528\u200b\u5b9e\u4f53\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u3002\u200b\u5982\u679c\u200b Client \u200b\u8981\u200b\u8bbf\u95ee\u200b\u67d0\u4e2a\u200b\u5b66\u751f\u200b\u7684\u200b\u6210\u7ee9\u200b\uff0cProxy \u200b\u4f1a\u200b\u68c0\u67e5\u200b\u8fd9\u9879\u200b\u6570\u636e\u200b\u662f\u200b\u654f\u611f\u6570\u636e\u200b\uff0c\u200b\u9700\u8981\u200b\u63d0\u4f9b\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\uff0c\u200b\u5982\u679c\u200b Client \u200b\u63d0\u4f9b\u200b\u7684\u200b\u6b63\u786e\u200b\uff0c\u200b\u5219\u200b\u5141\u8bb8\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5426\u5219\u200b\u62d2\u7edd\u200b\u8bbf\u95ee\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u7f16\u7a0b\u5b9e\u8df5","title":"\u7f16\u7a0b\u200b\u5b9e\u8df5","text":"<p>\u200b\u7b2c\u4e00\u6b65\u200b\uff0c\u200b\u6211\u4eec\u200b\u81ea\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u5f02\u5e38\u200b\u5904\u7406\u200b\u7c7b\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u8981\u200b\u8bbf\u95ee\u200b\u7684\u200b\u7528\u6237\u200b\u4e0d\u200b\u5728\u200b\u73ed\u7ea7\u200b\u6210\u7ee9\u200b\u5217\u8868\u200b\u65f6\u200b\uff0c\u200b\u5219\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b\u3002</p> Python<pre><code>class NotFindError(Exception):\ndef __init__(self, msg):\nself.msg = msg\n</code></pre> <p>\u200b\u7b2c\u4e8c\u6b65\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u5b9e\u4f53\u7c7b\u200b\uff0c\u200b\u5b9e\u4f53\u7c7b\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u5177\u4f53\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u9488\u5bf9\u200b\u8fd9\u4e2a\u200b\u573a\u666f\u200b\u5c31\u200b\u4e24\u4e2a\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u83b7\u53d6\u200b\u73ed\u7ea7\u200b\u4eba\u6570\u200b\u3001\u200b\u83b7\u53d6\u200b\u6307\u5b9a\u200b\u5b66\u751f\u200b\u7684\u200b\u6210\u7ee9\u200b\u3002</p> Python<pre><code>class RealSubject(object):\ndef __init__(self):\nself.score = {\"\u200b\u5f20\u4e09\u200b\": 90, \"\u200b\u674e\u56db\u200b\": 59, \"\u200b\u738b\u4e8c\u200b\": 61}\ndef num_students(self):\nnum = len(self.score.keys())\nprint(\"The number of students is {num}\".format(num=num))\ndef get_score(self, user_name):\n_score = self.score.get(user_name)\nprint(\"The score of {user} is {score}\".format(user=user_name, score=_score))\n</code></pre> <p>\u200b\u7b2c\u4e09\u6b65\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4ee3\u7406\u200b (Proxy)\uff0c\u200b\u5b83\u200b\u901a\u8fc7\u200b\u5bf9\u5e94\u200b\u529f\u80fd\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u6765\u200b\u786e\u5b9a\u200b\u662f\u200b\u63a5\u53d7\u200b\u8fd9\u4e2a\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u8fd8\u662f\u200b\u62d2\u7edd\u200b\u8fd9\u4e2a\u200b\u8bbf\u95ee\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u200b\u628a\u200b\u5bc6\u7801\u200b\u76f4\u63a5\u200b\u5199\u200b\u5728\u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\uff0c\u200b\u5b9e\u9645\u200b\u7684\u200b\u9879\u76ee\u200b\u662f\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u8fd9\u6837\u200b\u7684\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u628a\u200b\u5bc6\u7801\u200b\u5199\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u53e6\u5916\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u660e\u6587\u200b\u5bc6\u7801\u200b\uff0c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u52a0\u5bc6\u200b\u5de5\u5177\u200b\u5bf9\u200b\u660e\u6587\u200b\u5bc6\u7801\u200b\u8fdb\u884c\u200b\u52a0\u5bc6\u200b\u3002</p> Python<pre><code>class Proxy(object):\ndef __init__(self):\nself.default_passwd = \"9l0skjlsa\"\nself.real_subject = RealSubject()\ndef num_students(self):\nself.real_subject.num_students()\ndef get_score(self, user_name):\nprint(\"You are visiting {} score ...\".format(user_name))\npasswd = input(\"Please input password : \")\nif passwd == self.default_passwd:\nif user_name in self.real_subject.score.keys():\nreturn self.real_subject.get_score(user_name)\nelse:\nraise NotFindError(\"The student you are visiting not found.\")\nelse:\nraise ValueError(\"The password you provided is wrong!\")\n</code></pre> <p>\u200b\u7136\u540e\u200b\u5c31\u662f\u200b\u5b9e\u73b0\u200b Client \u200b\u6765\u200b\u8c03\u7528\u200b\u5bf9\u5e94\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u6d4b\u8bd5\u200b\u4e0a\u8ff0\u200b\u4ee3\u7406\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f7f\u7528\u200b 3 \u200b\u4e2a\u200b\u6d4b\u8bd5\u7528\u4f8b\u200b\u3002</p> <ol> <li>\u200b\u5bc6\u7801\u200b\u9519\u8bef\u200b\uff0c\u200b\u7528\u6237\u540d\u200b\u6b63\u786e\u200b\uff1b</li> <li>\u200b\u5bc6\u7801\u200b\u6b63\u786e\u200b\uff0c\u200b\u7528\u6237\u540d\u200b\u9519\u8bef\u200b\uff1b</li> <li>\u200b\u5bc6\u7801\u200b\u6b63\u786e\u200b\uff0c\u200b\u7528\u6237\u540d\u200b\u6b63\u786e\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u6d4b\u8bd5\u7528\u4f8b","title":"\u6d4b\u8bd5\u7528\u4f8b","text":"","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u5bc6\u7801\u9519\u8bef\u7528\u6237\u540d\u6b63\u786e","title":"\u5bc6\u7801\u200b\u9519\u8bef\u200b\uff0c\u200b\u7528\u6237\u540d\u200b\u6b63\u786e","text":"Text Only<pre><code>def client():\n    proxy = Proxy()\n    proxy.get_score(\"\u200b\u5f20\u4e09\u200b\")\n\nclient()\n\n# shell\nYou are visiting \u200b\u5f20\u4e09\u200b score ...\nPlease input password : kdksla\n\n# \u200b\u8f93\u51fa\u200b\nValueError: The password you provided is wrong!\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u5bc6\u7801\u6b63\u786e\u7528\u6237\u540d\u9519\u8bef","title":"\u5bc6\u7801\u200b\u6b63\u786e\u200b\uff0c\u200b\u7528\u6237\u540d\u200b\u9519\u8bef","text":"Text Only<pre><code>def client():\n    proxy = Proxy()\n    proxy.get_score(\"\u200b\u674e\u4e09\u200b\")\n\nclient()\n\n# shell\nYou are visiting \u200b\u5f20\u4e09\u200b score ...\nPlease input password : 9l0skjlsa\n\n# \u200b\u8f93\u51fa\u200b\nNotFindError: The student you are visiting not found.\n</code></pre>","tags":["Python"]},{"location":"blog/advanced-python-8-proxy-design-pattern/#\u5bc6\u7801\u6b63\u786e\u7528\u6237\u540d\u6b63\u786e","title":"\u5bc6\u7801\u200b\u6b63\u786e\u200b\uff0c\u200b\u7528\u6237\u540d\u200b\u6b63\u786e","text":"Text Only<pre><code>def client():\n    proxy = Proxy()\n    proxy.get_score(\"\u200b\u674e\u56db\u200b\")\n\nclient()\n\n# shell\nYou are visiting \u200b\u5f20\u4e09\u200b score ...\nPlease input password : 9l0skjlsa\n\n# \u200b\u8f93\u51fa\u200b\nThe score of \u200b\u674e\u56db\u200b is 59\n</code></pre> <p>\u200b\u672c\u200b\u8bb2\u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>class NotFindError(Exception):\ndef __init__(self, msg):\nself.msg = msg\nclass RealSubject(object):\ndef __init__(self):\nself.score = {\"\u200b\u5f20\u4e09\u200b\": 90, \"\u200b\u674e\u56db\u200b\": 59, \"\u200b\u738b\u4e8c\u200b\": 61}\ndef num_students(self):\nnum = len(self.score.keys())\nprint(\"The number of students is {num}\".format(num=num))\ndef get_score(self, user_name):\n_score = self.score.get(user_name)\nprint(\"The score of {user} is {score}\".format(user=user_name, score=_score))\nclass Proxy(object):\ndef __init__(self):\nself.default_passwd = \"9l0skjlsa\"\nself.real_subject = RealSubject()\ndef num_students(self):\nself.real_subject.num_students()\ndef get_score(self, user_name):\nprint(\"You are visiting {} score ...\".format(user_name))\npasswd = input(\"Please input password : \")\nif passwd == self.default_passwd:\nif user_name in self.real_subject.score.keys():\nreturn self.real_subject.get_score(user_name)\nelse:\nraise NotFindError(\"The student you are visiting not found.\")\nelse:\nraise ValueError(\"The password you provided is wrong!\")\ndef client():\nproxy = Proxy()\nproxy.get_score(\"\u200b\u5f20\u4e09\u200b\")\nclient()\n</code></pre> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-9-singleton-design-pattern/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b Python \u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u3002</p> <p>\u200b\u5728\u200b\u8f6f\u4ef6\u5f00\u53d1\u200b\u4e2d\u200b\uff0c\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u662f\u200b\u4e00\u79cd\u200b\u5e38\u89c1\u200b\u7684\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u786e\u4fdd\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u5168\u5c40\u200b\u8bbf\u95ee\u200b\u70b9\u200b\u3002Python \u200b\u4f5c\u4e3a\u200b\u4e00\u79cd\u200b\u7075\u6d3b\u200b\u800c\u200b\u5f3a\u5927\u200b\u7684\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\uff0c\u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u591a\u79cd\u200b\u5b9e\u73b0\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u5c06\u200b\u4ecb\u7ecd\u200b Python \u200b\u4e2d\u200b\u5e38\u7528\u200b\u7684\u200b\u4e24\u79cd\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u57fa\u4e8e\u200b\u6a21\u5757\u200b\u548c\u200b\u57fa\u4e8e\u200b\u7c7b\u200b\u88c5\u9970\u200b\u5668\u200b\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-9-singleton-design-pattern/#\u57fa\u4e8e\u6a21\u5757\u7684\u5355\u4f8b\u6a21\u5f0f","title":"\u57fa\u4e8e\u200b\u6a21\u5757\u200b\u7684\u200b\u5355\u4f8b\u200b\u6a21\u5f0f","text":"<p>\u200b\u57fa\u4e8e\u200b\u6a21\u5757\u200b\u7684\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u662f\u200b Python \u200b\u4e2d\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\u4e4b\u4e00\u200b\u3002Python \u200b\u7684\u200b\u6a21\u5757\u200b\u5728\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u53ea\u4f1a\u200b\u88ab\u200b\u5bfc\u5165\u200b\u4e00\u6b21\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u5355\u4f8b\u200b\u7684\u200b\u7c7b\u200b\u5b9a\u4e49\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b\u5bfc\u5165\u200b\u8be5\u200b\u6a21\u5757\u200b\u6765\u200b\u83b7\u53d6\u200b\u5355\u4f8b\u200b\u5bf9\u8c61\u200b\u3002</p> Python<pre><code># singleton_module.py\nclass SingletonClass:\ndef __init__(self):\n# \u200b\u521d\u59cb\u5316\u200b\u64cd\u4f5c\u200b\npass\n# \u200b\u5728\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b\u5bfc\u5165\u200b\u6a21\u5757\u200b\u83b7\u53d6\u200b\u5355\u4f8b\u200b\u5bf9\u8c61\u200b\nfrom singleton_module import SingletonClass\nsingleton = SingletonClass()\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c<code>SingletonClass</code>\u200b\u662f\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u5355\u4f8b\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u53ea\u4f1a\u200b\u88ab\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e00\u6b21\u200b\u3002\u200b\u5728\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b\u5bfc\u5165\u200b<code>singleton_module</code>\u200b\u6a21\u5757\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b<code>SingletonClass</code>\u200b\u7684\u200b\u5b9e\u4f8b\u200b<code>singleton</code>\u3002</p>","tags":["Python"]},{"location":"blog/advanced-python-9-singleton-design-pattern/#\u57fa\u4e8e\u7c7b\u88c5\u9970\u5668\u7684\u5355\u4f8b\u6a21\u5f0f","title":"\u57fa\u4e8e\u200b\u7c7b\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u5355\u4f8b\u200b\u6a21\u5f0f","text":"<p>\u200b\u57fa\u4e8e\u200b\u7c7b\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u662f\u200b\u53e6\u200b\u4e00\u79cd\u200b\u5e38\u89c1\u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\u3002\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u88c5\u9970\u200b\u5668\u200b\u51fd\u6570\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u5e94\u7528\u200b\u4e8e\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u5355\u4f8b\u200b\u7684\u200b\u7c7b\u200b\u4e0a\u200b\uff0c\u200b\u4ece\u800c\u200b\u5b9e\u73b0\u200b\u7c7b\u200b\u7684\u200b\u552f\u4e00\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u3002</p> Python<pre><code>import functools\ndef singleton(cls):\n_instance = {}\n@functools.wraps(cls)\ndef _singleton(*args, **kargs):\nif cls not in _instance:\n_instance[cls] = cls(*args, **kargs)\nreturn _instance[cls]\nreturn _singleton\n@singleton\nclass A(object):\na = 1\ndef __init__(self, x=0):\nself.x = x\na1 = A(2)\na2 = A(3)\n</code></pre> Python<pre><code>print(a1.x)\nprint(a2.x)\nprint(id(a1))\nprint(id(a2))\n# 2\n# 2\n# 4398036688\n# 4398036688\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c<code>singleton</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u88c5\u9970\u200b\u5668\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5305\u88c5\u200b\u51fd\u6570\u200b<code>_singleton</code>\u3002<code>_singleton</code>\u200b\u51fd\u6570\u200b\u5728\u200b\u6bcf\u6b21\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u65f6\u4f1a\u200b\u68c0\u67e5\u200b\u8be5\u7c7b\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u6709\u200b\u5b9e\u4f8b\u200b\u5b58\u5728\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5e76\u200b\u8fd4\u56de\u200b\uff0c\u200b\u5426\u5219\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u5df2\u200b\u5b58\u5728\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b\u88c5\u9970\u200b\u5668\u200b<code>@singleton</code>\u200b\u4fee\u9970\u200b\u7c7b\u200b<code>A</code>\u200b\u540e\u200b\uff0c\u200b\u8be5\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u64cd\u4f5c\u200b\u5c06\u200b\u88ab\u200b\u88c5\u9970\u200b\u5668\u200b\u51fd\u6570\u200b\u6240\u200b\u63a7\u5236\u200b\uff0c\u200b\u786e\u4fdd\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5b9e\u4f8b\u200b\u5b58\u5728\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/advanced-python-10-composite-design-pattern/","title":"Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f","text":"<p>\u200b\u672c\u6587\u200b\u662f\u200b Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff0c\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u4e86\u200b Python \u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b\u3002</p> <p>\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b\u662f\u200b\u4e00\u79cd\u200b\u7ed3\u6784\u578b\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u6211\u4eec\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u7ec4\u5408\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u200b\u6765\u200b\u8868\u793a\u200b\u201c\u200b\u90e8\u5206\u200b - \u200b\u6574\u4f53\u200b\u201d\u200b\u7684\u200b\u5c42\u6b21\u7ed3\u6784\u200b\u3002\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b\u4f7f\u5f97\u200b\u5ba2\u6237\u7aef\u200b\u80fd\u591f\u200b\u4ee5\u200b\u76f8\u540c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5904\u7406\u200b\u5355\u4e2a\u200b\u5bf9\u8c61\u200b\u548c\u200b\u7ec4\u5408\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u5f97\u200b\u5ba2\u6237\u7aef\u200b\u4ee3\u7801\u200b\u66f4\u52a0\u200b\u7b80\u5355\u200b\u548c\u200b\u901a\u7528\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/advanced-python-10-composite-design-pattern/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u5b9e\u73b0\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u62bd\u8c61\u7c7b\u200b\u548c\u200b\u7ee7\u627f\u200b\u3002\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u62bd\u8c61\u200b\u57fa\u7c7b\u200b <code>Component</code>\uff0c\u200b\u5b83\u200b\u5305\u542b\u200b\u4e86\u200b\u7ec4\u5408\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u5bf9\u8c61\u200b\u7684\u200b\u901a\u7528\u200b\u64cd\u4f5c\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b\u5b50\u7c7b\u200b <code>Leaf</code> \u200b\u548c\u200b <code>Composite</code>\uff0c<code>Leaf</code> \u200b\u8868\u793a\u200b\u7ec4\u5408\u200b\u4e2d\u200b\u7684\u200b\u5355\u4e2a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u800c\u200b <code>Composite</code> \u200b\u8868\u793a\u200b\u7ec4\u5408\u200b\u4e2d\u200b\u7684\u200b\u7ec4\u5408\u200b\u5bf9\u8c61\u200b\u3002</p> Python<pre><code>class Component:\ndef __init__(self, name):\nself.name = name\ndef add(self, component):\npass\ndef remove(self, component):\npass\ndef display(self, depth):\npass\nclass Composite(Component):\ndef __init__(self, name):\nsuper().__init__(name)\nself.children = []\ndef add(self, component):\nself.children.append(component)\ndef remove(self, component):\nself.children.remove(component)\ndef display(self, depth):\nprint(\"-\" * depth + self.name)\nfor child in self.children:\nchild.display(depth + 2)\nclass Leaf(Component):\ndef display(self, depth):\nprint(\"-\" * depth + self.name)\n# Build a tree structure\nroot = Composite(\"root\")\nroot.add(Leaf(\"Leaf A\"))\nroot.add(Leaf(\"Leaf B\"))\ncomp = Composite(\"Composite X\")\ncomp.add(Leaf(\"Leaf XA\"))\ncomp.add(Leaf(\"Leaf XB\"))\nroot.add(comp)\nroot.add(Leaf(\"Leaf C\"))\n# Display tree\nroot.display(1)\n</code></pre> Python<pre><code># -root\n# ---Leaf A\n# ---Leaf B\n# ---Composite X\n# -----Leaf XA\n# -----Leaf XB\n# ---Leaf C\n</code></pre> <p>\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u597d\u200b\u5730\u200b\u5e94\u7528\u200b\u4e8e\u200b\u90a3\u4e9b\u200b\u9700\u8981\u200b\u5904\u7406\u200b\u6811\u5f62\u200b\u7ed3\u6784\u200b\u7684\u200b\u573a\u666f\u200b\uff0c\u200b\u4f8b\u5982\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u3001\u200b\u56fe\u5f62\u7528\u6237\u754c\u9762\u200b\u4e2d\u200b\u7684\u200b\u63a7\u4ef6\u200b\u7b49\u200b\u3002\u200b\u5b83\u200b\u5141\u8bb8\u200b\u6211\u4eec\u200b\u4ee5\u200b\u4e00\u79cd\u200b\u901a\u7528\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5904\u7406\u200b\u5355\u4e2a\u200b\u5bf9\u8c61\u200b\u548c\u200b\u7ec4\u5408\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5e76\u200b\u80fd\u591f\u200b\u7b80\u5316\u200b\u5ba2\u6237\u7aef\u200b\u4ee3\u7801\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u4ee3\u7801\u200b\u7684\u200b\u53ef\u7ef4\u62a4\u6027\u200b\u548c\u200b\u53ef\u6269\u5c55\u6027\u200b\u3002</p> <p>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b\u6587\u7ae0\u200b</p> <ul> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b <code>mypy</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</p> </li> <li> <p> Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</p> </li> </ul>","tags":["Python"]},{"location":"blog/python-classmethod-and-staticmethod/","title":"Python \u200b\u4e2d\u200b\u7684\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u548c\u200b\u9759\u6001\u65b9\u6cd5","text":"<p>Python \u200b\u4e2d\u200b\u5e38\u89c1\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5206\u200b\u4e09\u79cd\u200b\uff1a\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\u3001\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u548c\u200b\u9759\u6001\u65b9\u6cd5\u200b\u3002\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\u6700\u4e3a\u200b\u5e38\u89c1\u200b\uff0c\u200b\u4e5f\u200b\u6700\u200b\u5bb9\u6613\u200b\u7406\u89e3\u200b\uff0c\u200b\u800c\u200b\u53e6\u5916\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u5219\u200b\u7a0d\u200b\u96be\u200b\u7406\u89e3\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u548c\u200b\u9759\u6001\u65b9\u6cd5\u200b\u7684\u200b\u7528\u9014\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-classmethod-and-staticmethod/#\u5b9e\u4f8b\u65b9\u6cd5","title":"\u5b9e\u4f8b\u200b\u65b9\u6cd5","text":"<p>\u200b\u9996\u5148\u200b\u6211\u4eec\u200b\u6765\u200b\u7b80\u5355\u200b\u56de\u987e\u200b\u4e0b\u200b Python \u200b\u4e2d\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff1a</p> Python<pre><code>class Hello(object):\ndef say_hello(self, name):\nprint(\"hello\", name)\n</code></pre> <p>\u200b\u5982\u679c\u200b\u8981\u200b\u8c03\u7528\u200b <code>Hello</code> \u200b\u7c7b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b <code>say_hello</code> \u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e00\u4e2a\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b <code>Hello()</code>\uff0c\u200b\u518d\u200b\u8fdb\u884c\u200b\u8c03\u7528\u200b\uff1a</p> Python<pre><code>h = Hello()\nh.say_hello(\"world\")\n# &gt; hello world\n</code></pre>","tags":["Python"]},{"location":"blog/python-classmethod-and-staticmethod/#\u7c7b\u65b9\u6cd5","title":"\u7c7b\u200b\u65b9\u6cd5","text":"<p>\u200b\u56de\u987e\u200b\u4e86\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u518d\u200b\u6765\u770b\u200b\u4e0b\u7c7b\u200b\u65b9\u6cd5\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u3002</p> <p>\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>class Hello(object):\n@classmethod\ndef print_class_name(cls):\nprint(cls.__name__)\n</code></pre> <p>\u200b\u5bf9\u6bd4\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u5728\u200b\u5b9a\u4e49\u200b\u4e0a\u200b\u4e0e\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\u6709\u200b\u4e24\u5904\u200b\u4e0d\u540c\u200b\uff1a\u200b\u9996\u5148\u200b\u5728\u200b\u65b9\u6cd5\u200b\u4e0a\u9762\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u88c5\u9970\u200b\u5668\u200b <code>@classmethod</code> \u200b\u6807\u8bc6\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u4e3a\u7c7b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\uff1b\u200b\u7136\u540e\u200b\u662f\u200b\u65b9\u6cd5\u200b\u53c2\u6570\u200b\u7531\u200b <code>self</code> \u200b\u53d8\u6210\u200b\u4e86\u200b <code>cls</code> \u200b\u8868\u793a\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u3002</p> <p>\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8c03\u7528\u200b\u65e0\u9700\u200b\u5bf9\u7c7b\u200b\u8fdb\u884c\u200b\u5b9e\u4f8b\u200b\u5316\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u7c7b\u6765\u200b\u8c03\u7528\u200b\uff1a</p> Python<pre><code>Hello.print_class_name()\n# &gt; Hello\n</code></pre> <p>\u200b\u901a\u8fc7\u200b <code>cls.__name__</code> \u200b\u7684\u200b\u65b9\u5f0f\u200b\u6211\u4eec\u200b\u6253\u5370\u200b\u4e86\u200b <code>Hello</code> \u200b\u7c7b\u200b\u7684\u200b\u7c7b\u540d\u200b\u3002\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u4e2d\u200b <code>cls</code> \u200b\u7b49\u4ef7\u200b\u4e8e\u200b <code>Hello</code>\uff0c\u200b\u5c31\u200b\u50cf\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\u4e2d\u200b <code>self</code> \u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b <code>Hello()</code> \u200b\u4e00\u6837\u200b\u3002\u200b\u540c\u200b <code>self</code> \u200b\u4e00\u6837\u200b\uff0c<code>cls</code> \u200b\u4e5f\u200b\u662f\u200b\u7ea6\u5b9a\u4fd7\u6210\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u5199\u6210\u200b <code>cls</code> \u200b\u800c\u200b\u5199\u6210\u200b\u4efb\u4f55\u200b\u6211\u4eec\u200b\u559c\u6b22\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\u3002</p> <p>\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u5176\u5b9e\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b\u8c03\u7528\u200b\uff1a</p> Text Only<pre><code>h = Hello()\nh.print_class_name()\n# &gt; Hello\n</code></pre> <p>\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u5176\u5b9e\u200b\u5f53\u200b\u6211\u4eec\u200b\u7528\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u8c03\u7528\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u65f6\u5019\u200b\uff0cPython \u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5e2e\u200b\u6211\u4eec\u200b\u83b7\u53d6\u200b\u5230\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u6240\u5c5e\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5176\u200b\u5f53\u4f5c\u200b\u53c2\u6570\u200b\u4f20\u7ed9\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\u6211\u4eec\u200b\u4e86\u89e3\u200b\u4e86\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u5462\u200b\uff1f</p> <p>\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u4e24\u4e2a\u200b\u573a\u666f\u200b\u4e00\u4e2a\u200b\u662f\u200b\u7c7b\u200b\u7684\u200b\u7ee7\u627f\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u662f\u200b\u6784\u9020\u65b9\u6cd5\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-classmethod-and-staticmethod/#\u7c7b\u7684\u7ee7\u627f\u4e2d\u4f7f\u7528\u7c7b\u65b9\u6cd5","title":"\u7c7b\u200b\u7684\u200b\u7ee7\u627f\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u65b9\u6cd5","text":"<p>\u200b\u9996\u5148\u200b\u6765\u770b\u200b\u5982\u4f55\u200b\u5728\u200b\u7c7b\u200b\u7ee7\u627f\u200b\u4e2d\u200b\u4f7f\u7528\u200b <code>cls</code> \u200b\u6765\u200b\u505a\u200b\u5b50\u7c7b\u200b\u7684\u200b\u540d\u79f0\u200b\u7ed1\u5b9a\u200b\u3002</p> Python<pre><code>class Animal(object):\ndef __init__(self, name):\nself.name = name\n@classmethod\ndef shout(cls):\nprint(f\"{cls.__name__} shout\")\nclass Cat(Animal):\npass\nclass Dog(Animal):\npass\ncat = Cat(\"cat\")\ncat.shout()\n# &gt; Cat shout\ndog = Dog(\"dog\")\ndog.shout()\n# &gt; Dog shout\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u52a8\u7269\u7c7b\u200b <code>Animal</code>\uff0c\u200b\u5176\u6709\u200b\u4e00\u4e2a\u200b <code>shout</code> \u200b\u65b9\u6cd5\u200b\u7528\u6765\u200b\u6253\u5370\u200b\u54ea\u200b\u79cd\u200b\u52a8\u7269\u200b\u5728\u200b\u53eb\u200b\u3002<code>Cat</code> \u200b\u548c\u200b <code>Dog</code> \u200b\u7c7b\u200b\u90fd\u200b\u7ee7\u627f\u200b\u81ea\u200b <code>Animal</code> \u200b\u7c7b\u200b\uff0c\u200b\u5f53\u200b\u901a\u8fc7\u200b <code>Cat</code> \u200b\u7c7b\u200b\u6216\u200b <code>Dog</code> \u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u8c03\u7528\u200b <code>shout</code> \u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u5206\u522b\u200b\u6253\u5370\u200b\u51fa\u200b <code>Cat shout</code> \u200b\u548c\u200b <code>Dog shout</code>\u3002\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u53ea\u200b\u9700\u200b\u5728\u200b\u7236\u7c7b\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4fbf\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5b50\u7c7b\u200b\u8c03\u7528\u200b\u7236\u7c7b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u65f6\u5019\u200b\u6839\u636e\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e0d\u540c\u200b\u81ea\u52a8\u200b\u83b7\u53d6\u200b\u5b50\u7c7b\u200b\u7684\u200b\u7c7b\u578b\u200b\u540d\u79f0\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u6765\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5199\u51fa\u200b\u5982\u4e0b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class Animal(object):\ndef __init__(self, name):\nself.name = name\ndef shout(self):\nprint(\"Animal shout\")\nclass Cat(Animal):\ndef shout(self):\nprint(\"Cat shout\")\nclass Dog(Animal):\ndef shout(self):\nprint(\"Dog shout\")\ncat = Cat(\"cat\")\ncat.shout()\n# &gt; Cat shout\ndog = Dog(\"dog\")\ndog.shout()\n# &gt; Dog shout\n</code></pre> <p>\u200b\u867d\u7136\u200b\u540c\u6837\u200b\u80fd\u200b\u5b9e\u73b0\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u79cd\u200b\u5b9e\u73b0\u200b\u5927\u5927\u589e\u52a0\u200b\u4e86\u200b\u5de5\u4f5c\u91cf\u200b\uff0c\u200b\u4e00\u662f\u200b\u5b50\u7c7b\u200b\u9700\u8981\u200b\u91cd\u5199\u200b\u7236\u7c7b\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e8c\u662f\u200b\u5c06\u200b\u7c7b\u540d\u200b <code>Cat</code>\u3001<code>Dog</code> \u200b\u90fd\u200b\u8fdb\u884c\u200b\u4e86\u200b\u786c\u200b\u7f16\u7801\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u5199\u6cd5\u200b\u6781\u200b\u4e0d\u200b\u63a8\u8350\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-classmethod-and-staticmethod/#\u4f7f\u7528\u7c7b\u65b9\u6cd5\u5b9e\u73b0\u6784\u9020\u65b9\u6cd5","title":"\u4f7f\u7528\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u6784\u9020\u65b9\u6cd5","text":"<p>\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b <code>Poerson</code> \u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b <code>__init__</code> \u200b\u65b9\u6cd5\u200b\u63a5\u6536\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b <code>first</code> \u200b\u548c\u200b <code>last</code> \u200b\u5206\u522b\u200b\u7528\u6765\u200b\u63a5\u6536\u200b\u7528\u6237\u200b\u7684\u200b <code>first_name</code> \u200b\u548c\u200b <code>last_name</code>\uff0c\u200b\u5b83\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b <code>name</code> \u200b\u65b9\u6cd5\u200b\u7528\u6765\u200b\u83b7\u53d6\u200b\u7528\u6237\u200b\u7684\u200b\u5168\u540d\u200b\u3002</p> Python<pre><code>class Person(object):\ndef __init__(self, first, last):\nself.first_name = first\nself.last_name = last\ndef name(self):\nreturn self.first_name + self.last_name\np = Person(\"\u200b\u6c5f\u6e56\u200b\", \"\u200b\u5341\u5e74\u200b\")\nprint(p.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\n</code></pre> <p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u73b0\u5728\u200b\u6709\u200b\u4e00\u4e2a\u200b\u722c\u866b\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u80fd\u591f\u200b\u5728\u200b\u7f51\u7edc\u200b\u4e0a\u200b\u7684\u200b\u67d0\u4e2a\u200b\u7f51\u7ad9\u200b\u4e2d\u200b\u722c\u200b\u53d6\u5230\u200b\u5f88\u591a\u200b\u7684\u200b\u7528\u6237\u540d\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u7528\u6237\u540d\u200b\u53ef\u80fd\u200b\u662f\u200b <code>\u200b\u6c5f\u6e56\u200b-\u200b\u5341\u5e74\u200b</code>\u3001<code>\u200b\u6c5f\u6e56\u200b_\u200b\u5341\u5e74\u200b</code> \u200b\u6216\u8005\u200b <code>\u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b</code> \u200b\u8fd9\u200b\u4e09\u79cd\u200b\u5f62\u5f0f\u200b\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7528\u6237\u540d\u200b\u6211\u4eec\u200b\u90fd\u200b\u9700\u8981\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e00\u4e2a\u200b <code>Person</code> \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7531\u4e8e\u200b\u7528\u6237\u540d\u200b\u6709\u200b\u4e09\u79cd\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u6765\u200b\u5904\u7406\u200b\u4e0d\u540c\u200b\u7528\u6237\u540d\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u4f20\u7ed9\u200b <code>Person</code> \u200b\u7c7b\u6765\u200b\u751f\u6210\u200b <code>Person</code> \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5199\u51fa\u200b\u5982\u4e0b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>def generate_person(name):\nif \"-\" in name:\nfirst, last = name.split(\"-\")\nelif \"_\" in name:\nfirst, last = name.split(\"_\")\nelse:\nfirst, last = name, \"\"\nreturn Person(first, last)\np1 = generate_person(\"\u200b\u6c5f\u6e56\u200b - \u200b\u5341\u5e74\u200b\")\np2 = generate_person(\"\u200b\u6c5f\u6e56\u200b_\u200b\u5341\u5e74\u200b\")\np3 = generate_person(\"\u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\")\nprint(p1.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\nprint(p2.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\nprint(p3.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\uff0c\u200b\u4e0d\u7ba1\u200b\u6211\u4eec\u200b\u722c\u53d6\u200b\u5230\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u662f\u200b\u54ea\u79cd\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b <code>generate_person</code> \u200b\u51fd\u6570\u200b\u5148\u200b\u9884\u5904\u7406\u200b\u4e00\u4e0b\u200b\u83b7\u53d6\u200b\u5230\u200b <code>first_name</code> \u200b\u548c\u200b <code>last_name</code>\uff0c\u200b\u7136\u540e\u200b\u5b9e\u4f8b\u200b\u5316\u200b <code>Person</code> \u200b\u5bf9\u8c61\u200b\u8fdb\u884c\u200b\u8fd4\u56de\u200b\u3002</p> <p>\u200b\u5176\u5b9e\u200b\u6709\u200b\u4e00\u79cd\u200b\u66f4\u597d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5bf9\u200b\u7528\u6237\u540d\u200b\u8fdb\u884c\u200b\u9884\u5904\u7406\u200b\uff0c\u200b\u90a3\u200b\u5c31\u662f\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>class Person(object):\ndef __init__(self, first, last):\nself.first_name = first\nself.last_name = last\ndef name(self):\nreturn self.first_name + self.last_name\n@classmethod\ndef new(cls, name):\nif \"-\" in name:\nfirst, last = name.split(\"-\")\nelif \"_\" in name:\nfirst, last = name.split(\"_\")\nelse:\nfirst, last = name, \"\"\nreturn cls(first, last)\np1 = Person.new(\"\u200b\u6c5f\u6e56\u200b - \u200b\u5341\u5e74\u200b\")\np2 = Person.new(\"\u200b\u6c5f\u6e56\u200b_\u200b\u5341\u5e74\u200b\")\np3 = Person.new(\"\u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\")\nprint(p1.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\nprint(p2.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\nprint(p3.name())\n# &gt; \u200b\u6c5f\u6e56\u200b\u5341\u5e74\u200b\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u5c06\u200b <code>generate_person</code> \u200b\u51fd\u6570\u200b\u79fb\u52a8\u200b\u5230\u200b <code>Person</code> \u200b\u7c7b\u200b\u5185\u90e8\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b <code>new</code>\uff0c\u200b\u6700\u540e\u200b\u901a\u8fc7\u200b <code>return</code> \u200b\u4e00\u4e2a\u200b <code>cls</code> \u200b\u5b9e\u4f8b\u200b\u6765\u200b\u8fd4\u56de\u200b <code>Person</code> \u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u3002</p> <p>\u200b\u719f\u6089\u200b <code>Java</code> \u200b\u7b49\u200b\u9759\u6001\u200b\u8bed\u8a00\u200b\u7684\u200b\u540c\u5b66\u200b\u5e94\u8be5\u200b\u5f88\u200b\u5bb9\u6613\u200b\u60f3\u5230\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u65b9\u6cd5\u200b <code>new</code> \u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u662f\u200b\u5176\u4ed6\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b <code>\u200b\u6784\u9020\u51fd\u6570\u200b</code>\u3002\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u4e5f\u200b\u5c31\u200b\u901a\u8fc7\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u6784\u9020\u65b9\u6cd5\u200b\uff08\u200b\u51fd\u6570\u200b\uff09\u3002</p> <p>\u200b\u76f8\u6bd4\u200b\u4e8e\u200b\u4f7f\u7528\u200b <code>generate_person</code> \u200b\u51fd\u6570\u200b\u751f\u6210\u200b <code>Person</code> \u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>new</code> \u200b\u6784\u9020\u65b9\u6cd5\u200b\u7684\u200b\u597d\u5904\u200b\u662f\u200b\u4ee3\u7801\u200b\u5c01\u88c5\u200b\u6027\u200b\u66f4\u200b\u5f3a\u200b\uff0c\u200b\u4e5f\u200b\u66f4\u200b\u5bb9\u6613\u200b\u7406\u89e3\u200b\u3002\u200b\u6784\u9020\u51fd\u6570\u200b\u672c\u200b\u5c31\u200b\u5e94\u8be5\u200b\u5c5e\u4e8e\u200b\u7c7b\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5355\u72ec\u200b\u5199\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u6765\u200b\u5b9e\u73b0\u200b\u3002</p> <p>\u200b\u722c\u866b\u200b\u6846\u67b6\u200b <code>Scrapy</code> \u200b\u7684\u200b <code>Item Pipeline</code> \u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b\u53eb\u200b <code>from_crawler</code> \u200b\u7684\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u662f\u200b <code>Scrapy</code> \u200b\u63d0\u4f9b\u200b\u7ed9\u200b\u6211\u4eec\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6784\u9020\u65b9\u6cd5\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-classmethod-and-staticmethod/#\u9759\u6001\u65b9\u6cd5","title":"\u9759\u6001\u65b9\u6cd5","text":"<p>Python \u200b\u4e2d\u200b\u7684\u200b\u9759\u6001\u65b9\u6cd5\u200b\u662f\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u4e0e\u200b\u7c7b\u200b\u76f8\u5173\u8054\u200b\uff0c\u200b\u4f46\u200b\u4e0e\u200b\u5b9e\u4f8b\u200b\u65e0\u5173\u200b\u3002\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u548c\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u9700\u8981\u200b\u81f3\u5c11\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u6765\u200b\u5f15\u7528\u200b\u7c7b\u200b\u6216\u200b\u5b9e\u4f8b\u200b\u672c\u8eab\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u9759\u6001\u65b9\u6cd5\u200b\u4e0d\u200b\u9700\u8981\u200b\u5f15\u7528\u200b\u7c7b\u200b\u6216\u200b\u5b9e\u4f8b\u200b\u672c\u8eab\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b83\u200b\u5728\u200b\u4f7f\u7528\u200b\u65f6\u200b\u66f4\u52a0\u200b\u7075\u6d3b\u200b\u3002</p> <p>\u200b\u8981\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u9759\u6001\u65b9\u6cd5\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5728\u200b\u65b9\u6cd5\u200b\u4e0a\u65b9\u200b\u52a0\u4e0a\u200b<code>@staticmethod</code>\u200b\u88c5\u9970\u200b\u5668\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>class MathUtils:\n@staticmethod\ndef add(a, b):\nreturn a + b\nprint(MathUtils.add(3, 5))  # \u200b\u8f93\u51fa\u200b 8\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b MathUtils \u200b\u7c7b\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5176\u4e2d\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u9759\u6001\u65b9\u6cd5\u200b<code>add</code>\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u7c7b\u540d\u200b\u8c03\u7528\u200b\u8be5\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5148\u200b\u521b\u5efa\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u3002\u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u9759\u6001\u65b9\u6cd5\u200b\u975e\u5e38\u9002\u5408\u200b\u7528\u4e8e\u200b\u5b9e\u73b0\u200b\u901a\u7528\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u529f\u80fd\u200b\u4e0d\u200b\u4f9d\u8d56\u4e8e\u200b\u7c7b\u200b\u7684\u200b\u4efb\u4f55\u200b\u7279\u5b9a\u200b\u5b9e\u4f8b\u200b\u3002</p> <p>\u200b\u9759\u6001\u65b9\u6cd5\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5b9e\u4f8b\u200b\u4e2d\u200b\u8c03\u7528\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u8c03\u7528\u200b\u65f6\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u7c7b\u6765\u200b\u5f15\u7528\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>class MathUtils:\n@staticmethod\ndef add(a, b):\nreturn a + b\nmath = MathUtils()\nprint(math.add(3, 5))  # \u200b\u8f93\u51fa\u200b 8\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u521b\u5efa\u200b\u4e86\u200b MathUtils \u200b\u7684\u200b\u5b9e\u4f8b\u200b<code>math</code>\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u8be5\u200b\u5b9e\u4f8b\u200b\u8c03\u7528\u200b\u9759\u6001\u65b9\u6cd5\u200b<code>add</code>\u3002\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f20\u9012\u200b\u7ed9\u200b<code>add</code>\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b<code>math</code>\u200b\u7684\u200b\u7c7b\u200b<code>MathUtils</code>\u200b\u672c\u8eab\u200b\u3002</p> <p>\u200b\u603b\u7684\u6765\u8bf4\u200b\uff0c\u200b\u9759\u6001\u65b9\u6cd5\u200b\u662f\u200b\u4e00\u79cd\u200b\u975e\u5e38\u200b\u65b9\u4fbf\u200b\u7684\u200b\u65b9\u6cd5\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u4f7f\u200b\u6211\u4eec\u200b\u5728\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u5b9a\u4e49\u200b\u548c\u200b\u8c03\u7528\u200b\u65b9\u6cd5\u200b\u3002\u200b\u8fd9\u79cd\u200b\u7075\u6d3b\u6027\u200b\u4f7f\u5f97\u200b\u9759\u6001\u65b9\u6cd5\u200b\u975e\u5e38\u9002\u5408\u200b\u7528\u4e8e\u200b\u5b9e\u73b0\u200b\u901a\u7528\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u6216\u8005\u200b\u7528\u4e8e\u200b\u4e0d\u200b\u9700\u8981\u200b\u5f15\u7528\u200b\u7c7b\u200b\u6216\u200b\u5b9e\u4f8b\u200b\u672c\u8eab\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5728\u200b\u7f16\u5199\u200b Python \u200b\u4ee3\u7801\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u6839\u636e\u200b\u5b9e\u9645\u200b\u9700\u8981\u200b\u9009\u62e9\u200b\u5e76\u200b\u6070\u5f53\u200b\u4f7f\u7528\u200b\u9759\u6001\u65b9\u6cd5\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-mixin/","title":"Python \u200b\u7ee7\u627f\u200b Mixin \u200b\u4ee5\u200b\u62d3\u5c55\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u7ee7\u627f\u200b\u6765\u200b\u6784\u5efa\u200b\u7c7b\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u3002\u200b\u7ee7\u627f\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u5b50\u7c7b\u200b\u83b7\u5f97\u200b\u7236\u7c7b\u200b\u7684\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5728\u200b\u4ee3\u7801\u200b\u590d\u7528\u200b\u548c\u200b\u6269\u5c55\u200b\u529f\u80fd\u200b\u65b9\u9762\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5728\u200b\u4e00\u4e2a\u200b\u7c7b\u4e2d\u200b\u5f15\u5165\u200b\u591a\u4e2a\u200b\u4e0d\u200b\u76f8\u5173\u200b\u7684\u200b\u529f\u80fd\u200b\u65f6\u200b\uff0c\u200b\u7ee7\u627f\u200b\u7684\u200b\u65b9\u5f0f\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d8\u5f97\u590d\u6742\u200b\u548c\u200b\u6df7\u4e71\u200b\u3002\u200b\u8fd9\u65f6\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Mixin \u200b\u4ee5\u200b\u4e00\u79cd\u200b\u66f4\u200b\u7075\u6d3b\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u6269\u5c55\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-mixin/#\u4f7f\u7528-mixin-\u7684\u597d\u5904","title":"\u4f7f\u7528\u200b Mixin \u200b\u7684\u200b\u597d\u5904","text":"<ol> <li>\u200b\u7075\u6d3b\u6027\u200b\uff1a\u200b\u4f7f\u7528\u200b Mixin \u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7279\u5b9a\u200b\u529f\u80fd\u200b\u7684\u200b\u590d\u7528\u200b\u4e0e\u200b\u7c7b\u200b\u7684\u200b\u7ee7\u627f\u200b\u5206\u79bb\u200b\u5f00\u6765\u200b\uff0c\u200b\u4f7f\u200b\u4ee3\u7801\u200b\u66f4\u52a0\u200b\u7075\u6d3b\u200b\u548c\u200b\u53ef\u200b\u7ef4\u62a4\u200b\u3002</li> <li>\u200b\u53ef\u200b\u7ec4\u5408\u200b\u6027\u200b\uff1a\u200b\u901a\u8fc7\u200b\u591a\u200b\u7ee7\u627f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u591a\u4e2a\u200b Mixin \u200b\u7c7b\u200b\u7ec4\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b\uff0c\u200b\u6765\u200b\u5b9e\u73b0\u200b\u591a\u4e2a\u200b\u529f\u80fd\u200b\u7684\u200b\u590d\u7528\u200b\u3002</li> <li>\u200b\u907f\u514d\u200b\u7ee7\u627f\u200b\u5c42\u6b21\u200b\u8fc7\u6df1\u200b\uff1a\u200b\u5f53\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u591a\u4e2a\u200b\u4e0d\u200b\u76f8\u5173\u200b\u7684\u200b\u529f\u80fd\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b Mixin \u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u7ee7\u627f\u200b\u5c42\u6b21\u200b\u8fc7\u6df1\u200b\u9020\u6210\u200b\u7684\u200b\u4ee3\u7801\u200b\u590d\u6742\u6027\u200b\u548c\u200b\u6df7\u4e71\u200b\u3002</li> <li>\u200b\u589e\u5f3a\u200b\u53ef\u8bfb\u6027\u200b\uff1aMixin \u200b\u7c7b\u4e2d\u200b\u53ea\u200b\u5305\u542b\u200b\u7279\u5b9a\u200b\u529f\u80fd\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6216\u200b\u5c5e\u6027\u200b\uff0c\u200b\u4f7f\u200b\u4ee3\u7801\u200b\u66f4\u200b\u6613\u8bfb\u200b\u3001\u200b\u66f4\u200b\u6613\u200b\u7406\u89e3\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"blog/python-mixin/#\u4ec0\u4e48\u662f-mixin","title":"\u4ec0\u4e48\u200b\u662f\u200b Mixin","text":"<p>Mixin \u200b\u662f\u200b\u4e00\u79cd\u200b\u901a\u8fc7\u200b\u591a\u200b\u7ee7\u627f\u200b\u6765\u200b\u5b9e\u73b0\u200b\u529f\u80fd\u200b\u590d\u7528\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002Mixin \u200b\u7c7b\u200b\u901a\u5e38\u200b\u53ea\u200b\u5305\u542b\u200b\u4e00\u4e9b\u200b\u7279\u5b9a\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6216\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5728\u200b\u5176\u4ed6\u200b\u7c7b\u4e2d\u200b\u5f15\u5165\u200b\u5b83\u4eec\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u7279\u5b9a\u200b\u529f\u80fd\u200b\u7684\u200b\u590d\u7528\u200b\u3002Mixin \u200b\u7c7b\u200b\u81ea\u8eab\u200b\u4e0d\u80fd\u200b\u8fdb\u884c\u200b\u5b9e\u4f8b\u200b\u5316\u200b\uff0c\u200b\u4ec5\u200b\u7528\u4e8e\u200b\u88ab\u5b50\u200b\u7c7b\u200b\u7ee7\u627f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-mixin/#\u5982\u4f55\u4f7f\u7528-mixin","title":"\u5982\u4f55\u200b\u4f7f\u7528\u200b Mixin","text":"<p>\u200b\u4f7f\u7528\u200b Mixin \u200b\u975e\u5e38\u7b80\u5355\u200b\u3002\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b Mixin \u200b\u7c7b\u200b\uff0c\u200b\u5c06\u200b\u60f3\u8981\u200b\u590d\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6216\u200b\u5c5e\u6027\u200b\u653e\u5165\u200b\u5176\u4e2d\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u5728\u200b\u9700\u8981\u200b\u5f15\u5165\u200b\u8fd9\u4e9b\u200b\u529f\u80fd\u200b\u7684\u200b\u7c7b\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b Mixin \u200b\u7c7b\u200b\u4f5c\u4e3a\u200b\u7236\u7c7b\u200b\u6765\u200b\u7ee7\u627f\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u6765\u200b\u6f14\u793a\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b Mixin \u200b\u6765\u200b\u62d3\u5c55\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd\u200b\uff1a</p> Python<pre><code>class LoggingMixin:\ndef log(self, message):\nprint(f\"Logging: {message}\")\nclass DatabaseMixin:\ndef save_to_database(self):\nprint(\"Saving data to database.\")\nclass User(LoggingMixin, DatabaseMixin):\ndef __init__(self, username, password):\nself.username = username\nself.password = password\ndef display_info(self):\nself.log(f\"Username: {self.username}\")\nself.save_to_database()\nuser = User(\"JohnDoe\", \"password123\")\nuser.display_info()\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e24\u4e2a\u200b Mixin \u200b\u7c7b\u200b\uff1a<code>LoggingMixin</code>\u200b\u548c\u200b<code>DatabaseMixin</code>\u3002<code>LoggingMixin</code>\u200b\u53ea\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b<code>log()</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6253\u5370\u200b\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\u3002<code>DatabaseMixin</code>\u200b\u53ea\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b<code>save_to_database()</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c06\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6570\u636e\u5e93\u200b\u3002</p> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b<code>User</code>\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u7ee7\u627f\u200b\u4e86\u200b<code>LoggingMixin</code>\u200b\u548c\u200b<code>DatabaseMixin</code>\u3002\u200b\u5728\u200b<code>User</code>\u200b\u7c7b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd8\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b<code>display_info()</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c55\u793a\u200b\u7528\u6237\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u8c03\u7528\u200b\u4e86\u200b<code>LoggingMixin\u200b\u4e2d\u200b\u7684\u200blog()</code>\u200b\u65b9\u6cd5\u200b\u548c\u200b<code>DatabaseMixin</code>\u200b\u4e2d\u200b\u7684\u200b<code>save_to_database()</code>\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u6700\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b<code>User</code>\u200b\u7684\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u5e76\u200b\u8c03\u7528\u200b\u4e86\u200b<code>display_info()</code>\u200b\u65b9\u6cd5\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c<code>User</code>\u200b\u7c7b\u200b\u5c31\u200b\u6210\u529f\u200b\u62d3\u5c55\u200b\u4e86\u200b<code>LoggingMixin</code>\u200b\u548c\u200b<code>DatabaseMixin</code>\u200b\u4e24\u4e2a\u200b<code>Mixin</code>\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-mixin/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>Mixin \u200b\u662f\u200b\u4e00\u79cd\u200b\u901a\u8fc7\u200b\u591a\u200b\u7ee7\u627f\u200b\u6765\u200b\u5b9e\u73b0\u200b\u529f\u80fd\u200b\u590d\u7528\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b Mixin \u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u62d3\u5c55\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u907f\u514d\u200b\u7ee7\u627f\u200b\u5c42\u6b21\u200b\u8fc7\u6df1\u200b\uff0c\u200b\u589e\u5f3a\u200b\u4ee3\u7801\u200b\u7684\u200b\u53ef\u8bfb\u6027\u200b\u548c\u200b\u53ef\u7ef4\u62a4\u6027\u200b\u3002\u200b\u5c3d\u7ba1\u200b Mixin \u200b\u5728\u200b\u4e00\u4e9b\u200b\u7279\u5b9a\u200b\u573a\u666f\u200b\u4e0b\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u4f7f\u7528\u200b\u65f6\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u907f\u514d\u200b\u547d\u540d\u200b\u51b2\u7a81\u200b\u548c\u200b\u65b9\u6cd5\u200b\u91cd\u590d\u200b\u7b49\u200b\u95ee\u9898\u200b\u3002</p>","tags":["Python"]},{"location":"blog/fillna-with-next-non-nan-value/","title":"\u4f7f\u7528\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7a7a\u503c\u200b\u7684\u200b\u5e73\u644a\u200b\u503c\u200b\u586b\u5145","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u6570\u636e\u5904\u7406\u200b\u7684\u200b\u5c0f\u200b\u9879\u76ee\u200b\u3002\u200b\u9700\u6c42\u200b\u5982\u4e0b\u200b\uff1a</p> <ul> <li> <p>\u200b\u4e00\u5217\u200b\u6570\u636e\u200b\u4e2d\u200b \u200b\u5b58\u5728\u200b\u96f6\u503c\u200b \u3002</p> </li> <li> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b \u200b\u7528\u4e0b\u200b\u4e00\u4e2a\u200b\u975e\u96f6\u503c\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b \u3002</p> </li> <li>\u200b\u7528\u4e8e\u200b\u586b\u5145\u200b\u7684\u200b\u503c\u200b \u200b\u662f\u200b\u201c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u975e\u96f6\u503c\u200b\u201d\u200b\u9664\u4ee5\u200b\u201c\u200b\u8fd9\u200b\u4e00\u6bb5\u200b\u96f6\u503c\u200b\u7684\u200b\u957f\u5ea6\u200b +1\u201d\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5c06\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u975e\u96f6\u503c\u200b\u5e73\u644a\u200b\u540e\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\u3002</li> </ul> <p></p> <p></p> <p>\u200b\u672c\u6587\u200b\u8fd8\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5982\u4f55\u200b\u5411\u200b\u540c\u4e00\u4e2a\u200b\u5de5\u4f5c\u200b\u7c3f\u200b\u4e2d\u200b\u5bfc\u51fa\u200b\u591a\u4e2a\u200b\u5de5\u4f5c\u200b\u8868\u200b\u3002</p>","tags":["Python"]},{"location":"blog/fillna-with-next-non-nan-value/#\u5bfc\u5165\u5305","title":"\u5bfc\u5165\u200b\u5305","text":"Python<pre><code>import pandas as pd\nimport numpy as np\n</code></pre>","tags":["Python"]},{"location":"blog/fillna-with-next-non-nan-value/#\u8bfb\u53d6\u6570\u636e","title":"\u8bfb\u53d6\u6570\u636e","text":"<ul> <li>\u200b\u6307\u5b9a\u200b <code>sheet_name=None</code>\uff0c\u200b\u53ef\u4ee5\u200b\u8bfb\u53d6\u200b\u6240\u6709\u200b\u5de5\u4f5c\u200b\u8868\u200b\u3002</li> </ul> Python<pre><code>data = pd.read_excel(\"./data.xlsx\", sheet_name=None, index_col=0)\n</code></pre>","tags":["Python"]},{"location":"blog/fillna-with-next-non-nan-value/#\u586b\u5145\u6570\u636e","title":"\u586b\u5145\u200b\u6570\u636e","text":"<p>\u200b\u5173\u952e\u6b65\u9aa4\u200b\u4e3a\u200b\uff1a</p> <ul> <li>\u200b\u521b\u9020\u200b\u5206\u7ec4\u200b\u5217\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\uff1a\u200b\u54ea\u4e9b\u200b\u65e5\u671f\u200b\u662f\u200b\u5e94\u8be5\u200b\u88ab\u200b\u540c\u4e00\u4e2a\u200b\u503c\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\u7684\u200b\uff1f\u200b\u8fd9\u91cc\u200b\u5c06\u200b\u6570\u636e\u200b\u5012\u8f6c\u200b\u8fc7\u6765\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u662f\u5426\u200b\u4e0d\u200b\u7b49\u4e8e\u200b 0 \u200b\u5f97\u5230\u200b\u5e03\u5c14\u503c\u200b\uff0c\u200b\u518d\u6c42\u200b <code>.cumsum()</code>\uff0c\u200b\u6700\u540e\u200b\u518d\u200b\u5c06\u200b\u6570\u636e\u200b\u5012\u8f6c\u200b\u8fc7\u6765\u200b\u3002</li> <li>\u200b\u5c06\u200b 0 \u200b\u7528\u200b <code>np.NaN</code> \u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b <code>transform</code> \u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u540c\u4e00\u4e2a\u200b\u7ec4\u200b\u5e94\u8be5\u200b\u88ab\u200b\u540c\u4e00\u4e2a\u200b\u503c\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\u3002</li> <li>\u200b\u586b\u5145\u200b\u7684\u200b\u503c\u200b\u5e94\u8be5\u200b\u7528\u200b <code>x.sum() / len(x)</code>\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b <code>x.mean()</code>\uff0c\u200b\u56e0\u4e3a\u200b <code>x.mean()</code> \u200b\u4f1a\u200b\u5ffd\u7565\u200b\u7a7a\u503c\u200b\u518d\u200b\u8ba1\u7b97\u200b\u5747\u503c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u8fbe\u200b\u4e0d\u5230\u200b\u201c\u200b\u5e73\u644a\u200b\u201d\u200b\u7684\u200b\u6548\u679c\u200b\u3002</li> </ul> Python<pre><code>for fund in data:\ndf = data[fund]\n# \u200b\u521b\u5efa\u200b\u5206\u7ec4\u200b\u5217\u200b\ndf[\"\u200b\u5206\u7ec4\u200b\"] = (df[::-1][\"\u200b\u4e07\u4efd\u200b\u57fa\u91d1\u200b\u5355\u4f4d\u200b\u6536\u76ca\u200b\"] != 0).cumsum()[::-1]\n# \u200b\u628a\u200b 0 \u200b\u66ff\u6362\u200b\u4e3a\u200b NaN\ndf[\"\u200b\u4e07\u4efd\u200b\u57fa\u91d1\u200b\u5355\u4f4d\u200b\u6536\u76ca\u200b\"] = df[\"\u200b\u4e07\u4efd\u200b\u57fa\u91d1\u200b\u5355\u4f4d\u200b\u6536\u76ca\u200b\"].replace(0, np.NaN)\n# \u200b\u4f7f\u7528\u200b transform \u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u8ba1\u7b97\u200b\ndf[\"\u200b\u4e07\u4efd\u200b\u57fa\u91d1\u200b\u5355\u4f4d\u200b\u6536\u76ca\u200b\"] = df.groupby(\"\u200b\u5206\u7ec4\u200b\")[\"\u200b\u4e07\u4efd\u200b\u57fa\u91d1\u200b\u5355\u4f4d\u200b\u6536\u76ca\u200b\"].transform(lambda x: x.sum() / len(x))\n# \u200b\u5bfc\u51fa\u200b\u6570\u636e\u200b\uff0c\u200b\u5411\u200b\u540c\u4e00\u4e2a\u200b\u5de5\u4f5c\u200b\u7c3f\u200b\u4e2d\u200b\u5bfc\u51fa\u200b\u591a\u4e2a\u200b\u5de5\u4f5c\u200b\u8868\u200b\nwith pd.ExcelWriter(\n\"./data.xlsx\", mode=\"a\", engine=\"openpyxl\", if_sheet_exists=\"replace\"\n) as writer:\ndf[\"\u200b\u4e07\u4efd\u200b\u57fa\u91d1\u200b\u5355\u4f4d\u200b\u6536\u76ca\u200b\"].to_excel(writer, sheet_name=fund)\n</code></pre> <p></p> <p>\u200b\u5411\u200b\u540c\u4e00\u4e2a\u200b\u5de5\u4f5c\u200b\u7c3f\u200b\u4e2d\u200b\u5bfc\u51fa\u200b\u591a\u4e2a\u200b\u5de5\u4f5c\u200b\u8868\u200b</p> Python<pre><code>with pd.ExcelWriter(\"./data.xlsx\", mode='a', engine='openpyxl', if_sheet_exists='replace') as writer:\ndf.to_excel(writer, sheet_name='XXX')\n</code></pre> <ul> <li> <p><code>pd.ExcelWriter(\"./data.xlsx\", mode='a', engine='openpyxl', if_sheet_exists='replace')</code>\uff1a\u200b\u8fd9\u662f\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b ExcelWriter \u200b\u5bf9\u8c61\u200b\u7684\u200b\u8bed\u53e5\u200b\u3002<code>\"./data.xlsx\"</code> \u200b\u662f\u200b\u8981\u200b\u5199\u5165\u200b\u7684\u200b Excel \u200b\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\u3002<code>mode='a'</code> \u200b\u8868\u793a\u200b\u4ee5\u200b\u8ffd\u52a0\u200b\u6a21\u5f0f\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5c06\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6587\u4ef6\u200b\u3002<code>engine='openpyxl'</code> \u200b\u6307\u5b9a\u200b\u4f7f\u7528\u200b openpyxl \u200b\u5f15\u64ce\u200b\u8fdb\u884c\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\uff0copenpyxl \u200b\u662f\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u8bfb\u5199\u200b Excel \u200b\u6587\u4ef6\u200b\u7684\u200b\u5e93\u200b\u3002<code>if_sheet_exists='replace'</code> \u200b\u8868\u793a\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u7684\u200b sheet_name\uff08'XXX'\uff09\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u66ff\u6362\u200b\u8be5\u200b sheet\u3002</p> </li> <li> <p><code>with writer:</code>\uff1a\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u4e0a\u4e0b\u6587\u200b\u7ba1\u7406\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u786e\u4fdd\u200b\u5728\u200b\u4ee3\u7801\u200b\u5757\u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\u540e\u200b\u81ea\u52a8\u200b\u5173\u95ed\u200b ExcelWriter \u200b\u5bf9\u8c61\u200b\u3002\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u786e\u4fdd\u200b\u5728\u200b\u5199\u5165\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0cExcel \u200b\u6587\u4ef6\u200b\u88ab\u200b\u6b63\u786e\u200b\u4fdd\u5b58\u200b\u548c\u200b\u5173\u95ed\u200b\u3002</p> </li> <li> <p><code>df.to_excel(writer, sheet_name='XXX')</code>\uff1a\u200b\u8fd9\u200b\u662f\u200b\u5c06\u200b DataFrame \u200b\u5199\u5165\u200b Excel \u200b\u6587\u4ef6\u200b\u7684\u200b\u8bed\u53e5\u200b\u3002<code>writer</code> \u200b\u662f\u200b ExcelWriter \u200b\u5bf9\u8c61\u200b\uff0c<code>sheet_name='XXX'</code> \u200b\u662f\u200b\u8981\u200b\u5c06\u200b DataFrame \u200b\u5199\u5165\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8868\u200b\u540d\u79f0\u200b\u3002<code>to_excel()</code> \u200b\u65b9\u6cd5\u200b\u5c06\u200b DataFrame \u200b\u5199\u5165\u200b\u6307\u5b9a\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8868\u200b\u3002</p> </li> </ul> <p>\u200b\u7efc\u5408\u200b\u8d77\u6765\u200b\uff0c\u200b\u8fd9\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u5c06\u200b DataFrame\uff08df\uff09\u200b\u5199\u5165\u200b\u540d\u4e3a\u200b 'XXX' \u200b\u7684\u200b\u5de5\u4f5c\u200b\u8868\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u4fdd\u5b58\u200b\u5230\u200b Excel \u200b\u6587\u4ef6\u200b\uff08data.xlsx\uff09\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b 'XXX' \u200b\u5de5\u4f5c\u200b\u8868\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u66ff\u6362\u200b\u8be5\u200b\u5de5\u4f5c\u200b\u8868\u200b\u3002</p>","tags":["Python"]},{"location":"blog/download-model-from-huggingface/","title":"\u4ece\u200b Hugging Face \u200b\u4e0b\u8f7d\u200b\u6a21\u578b\u200b\u6587\u4ef6","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5982\u4f55\u200b\u7528\u200b\u4ee3\u7801\u200b\u4ece\u200b Hugging Face \u200b\u4e0b\u8f7d\u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/download-model-from-huggingface/#\u590d\u5236\u6a21\u578b\u540d\u79f0","title":"\u590d\u5236\u200b\u6a21\u578b\u200b\u540d\u79f0","text":"<p>\u200b\u4ee5\u200b Hello-SimpleAI/chatgpt-detector-roberta-chinese \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u627e\u5230\u200b\u590d\u5236\u200b\u7684\u200b\u56fe\u6807\u200b\uff0c\u200b\u5c06\u200b\u6a21\u578b\u200b\u540d\u79f0\u200b\u590d\u5236\u200b\u4e0b\u6765\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/download-model-from-huggingface/#\u4f7f\u7528-huggingface_hub-\u5e93\u4e0b\u8f7d\u6a21\u578b\u6587\u4ef6","title":"\u4f7f\u7528\u200b <code>huggingface_hub</code> \u200b\u5e93\u200b\u4e0b\u8f7d\u200b\u6a21\u578b\u200b\u6587\u4ef6","text":"Python<pre><code>from huggingface_hub import snapshot_download\nsnapshot_download(\nrepo_id=\"Hello-SimpleAI/chatgpt-detector-roberta-chinese\",\nlocal_dir=\"model\",\n)\n</code></pre> <p><code>local_dir</code> \u200b\u6307\u5b9a\u200b\u4e86\u200b\u4e0b\u8f7d\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u5e94\u8be5\u200b\u5b58\u653e\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u6211\u200b\u8bbe\u5b9a\u200b\u4e3a\u200b<code>\"model\"</code>\uff0c\u200b\u5b83\u200b\u5c06\u200b\u5728\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u4e0b\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b<code>model</code>\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5c06\u200b\u6240\u6709\u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b\u5b58\u653e\u200b\u5230\u200b<code>model</code>\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/download-model-from-huggingface/#\u8bbe\u7f6e\u662f\u5426\u4f7f\u7528\u5feb\u6377\u65b9\u5f0f\u6307\u5411\u7f13\u5b58\u4e2d\u7684\u5927\u578b\u6587\u4ef6","title":"\u8bbe\u7f6e\u200b\u662f\u5426\u200b\u4f7f\u7528\u200b\u5feb\u6377\u65b9\u5f0f\u200b\u6307\u5411\u200b\u7f13\u5b58\u200b\u4e2d\u200b\u7684\u200b\u5927\u578b\u200b\u6587\u4ef6","text":"<p><code>huggingface_hub</code>\u200b\u9996\u5148\u200b\u4f1a\u200b\u5c06\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u7684\u200b\u6587\u4ef6\u200b\u5b58\u653e\u200b\u5728\u200b\u7f13\u5b58\u200b\u76ee\u5f55\u200b<code>/Users/jeremy/.cache/huggingface/hub/models--Hello-SimpleAI--chatgpt-detector-roberta-chinese/blobs</code>\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u5c0f\u578b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f1a\u200b\u62f7\u8d1d\u200b\u4e00\u4efd\u200b\u5230\u200b\u4e4b\u524d\u200b\u6307\u5b9a\u200b\u7684\u200b<code>model</code>\u200b\u6587\u4ef6\u5939\u200b\u3002\u200b\u4f46\u200b\u5bf9\u4e8e\u200b\u5927\u578b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u7528\u200b\u5feb\u6377\u65b9\u5f0f\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u653e\u200b\u5230\u200b<code>model</code>\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u3002\u200b\u8fd9\u6837\u200b\u505a\u200b\u7684\u200b\u597d\u5904\u200b\u662f\u200b\uff0c\u200b\u4e0b\u6b21\u200b\u518d\u200b\u4e0b\u8f7d\u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u82e5\u200b\u68c0\u6d4b\u200b\u5230\u200b\u7f13\u5b58\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u7528\u200b\u518d\u200b\u4e0b\u8f7d\u200b\u4e00\u904d\u200b\u4e86\u200b\u3002</p> <p></p> <p>\u200b\u82e5\u200b\u4e0d\u60f3\u200b\u4ee5\u200b\u5feb\u6377\u65b9\u5f0f\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5927\u578b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u4ee5\u200b\u539f\u6587\u4ef6\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b <code>local_dir_use_symlinks=False</code>\u3002\u200b\u53c2\u8003\u200b\uff1a\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/download-model-from-huggingface/#\u4e0b\u8f7d\u6570\u636e\u96c6","title":"\u4e0b\u8f7d\u200b\u6570\u636e\u200b\u96c6","text":"<p>\u200b\u8bbe\u7f6e\u200b <code>repo_type=\"dataset\"</code>\uff1a</p> Python<pre><code>from huggingface_hub import snapshot_download\nsnapshot_download(\nrepo_id=\"Hello-SimpleAI/HC3-Chinese\",\nlocal_dir=\"data\",\nrepo_type=\"dataset\",\nlocal_dir_use_symlinks=False,\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/the-missing-semester-the-shell/","title":"\u8ba1\u7b97\u673a\u6559\u80b2\u200b\u4e2d\u200b\u7f3a\u5931\u200b\u7684\u200b\u4e00\u8bfe\u200b\uff1aThe shell","text":"<p>\u200b\u5927\u5b66\u200b\u91cc\u200b\u7684\u200b\u8ba1\u7b97\u673a\u200b\u8bfe\u7a0b\u200b\u901a\u5e38\u200b\u4e13\u6ce8\u200b\u4e8e\u200b\u8bb2\u6388\u200b\u4ece\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5230\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u8fd9\u4e9b\u200b\u5b66\u9662\u6d3e\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u6216\u200b\u4e3b\u9898\u200b\uff0c\u200b\u800c\u200b\u5bf9\u4e8e\u200b\u5982\u4f55\u200b\u7cbe\u901a\u200b\u5de5\u5177\u200b\u8fd9\u4e00\u200b\u4e3b\u9898\u200b\u5219\u200b\u5f80\u5f80\u200b\u4f1a\u200b\u7559\u7ed9\u200b\u5b66\u751f\u200b\u81ea\u884c\u200b\u63a2\u7d22\u200b\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u7cfb\u5217\u200b\u8bfe\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u8bb2\u6388\u200b\u547d\u4ee4\u884c\u200b\u3001\u200b\u5f3a\u5927\u200b\u7684\u200b\u6587\u672c\u7f16\u8f91\u200b\u5668\u200b\u7684\u200b\u4f7f\u7528\u200b\u3001\u200b\u4f7f\u7528\u200b\u7248\u672c\u200b\u63a7\u5236\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u7684\u200b\u591a\u79cd\u200b\u7279\u6027\u200b\u7b49\u7b49\u200b\u3002\u200b\u5b66\u751f\u200b\u5728\u200b\u4ed6\u4eec\u200b\u53d7\u200b\u6559\u80b2\u200b\u9636\u6bb5\u200b\u5c31\u200b\u4f1a\u200b\u548c\u200b\u8fd9\u4e9b\u200b\u5de5\u5177\u200b\u671d\u5915\u76f8\u5904\u200b\uff08\u200b\u5728\u200b\u4ed6\u4eec\u200b\u7684\u200b\u804c\u4e1a\u751f\u6daf\u200b\u4e2d\u200b\u66f4\u662f\u200b\u8fd9\u6837\u200b\uff09\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u82b1\u200b\u65f6\u95f4\u200b\u6253\u78e8\u200b\u4f7f\u7528\u200b\u8fd9\u4e9b\u200b\u5de5\u5177\u200b\u7684\u200b\u80fd\u529b\u200b\u5e76\u200b\u80fd\u591f\u200b\u6700\u7ec8\u200b\u719f\u7ec3\u5730\u200b\u3001\u200b\u6d41\u7545\u5730\u200b\u4f7f\u7528\u200b\u5b83\u4eec\u200b\u662f\u200b\u975e\u5e38\u200b\u6709\u200b\u5fc5\u8981\u200b\u7684\u200b\u3002</p> <p>\u200b\u7cbe\u901a\u200b\u8fd9\u4e9b\u200b\u5de5\u5177\u200b\u4e0d\u4ec5\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u60a8\u200b\u66f4\u200b\u5feb\u200b\u7684\u200b\u4f7f\u7528\u200b\u5de5\u5177\u200b\u5b8c\u6210\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u60a8\u200b\u89e3\u51b3\u200b\u5728\u200b\u4e4b\u524d\u200b\u770b\u6765\u200b\u4f3c\u4e4e\u200b\u65e0\u6bd4\u200b\u590d\u6742\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-the-shell/#shell-\u662f\u4ec0\u4e48","title":"shell \u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f","text":"<p>\u200b\u5982\u4eca\u200b\u7684\u200b\u8ba1\u7b97\u673a\u200b\u6709\u7740\u200b\u591a\u79cd\u591a\u6837\u200b\u7684\u200b\u4ea4\u4e92\u200b\u63a5\u53e3\u200b\u8ba9\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u6307\u4ee4\u200b\u7684\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u4ece\u200b\u70ab\u9177\u200b\u7684\u200b\u56fe\u50cf\u200b\u7528\u6237\u754c\u9762\u200b\uff08GUI\uff09\uff0c\u200b\u8bed\u97f3\u8f93\u5165\u200b\u751a\u81f3\u200b\u662f\u200b AR/VR \u200b\u90fd\u200b\u5df2\u7ecf\u200b\u65e0\u5904\u4e0d\u5728\u200b\u3002</p> <p>\u200b\u8fd9\u4e9b\u200b\u4ea4\u4e92\u200b\u63a5\u53e3\u200b\u53ef\u4ee5\u200b\u8986\u76d6\u200b 80% \u200b\u7684\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u4eec\u200b\u4e5f\u200b\u4ece\u6839\u672c\u4e0a\u200b\u9650\u5236\u200b\u4e86\u200b\u60a8\u200b\u7684\u200b\u64cd\u4f5c\u200b\u65b9\u5f0f\u200b\u2014\u2014\u200b\u4f60\u200b\u4e0d\u80fd\u200b\u70b9\u51fb\u200b\u4e00\u4e2a\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u6309\u94ae\u200b\u6216\u8005\u200b\u662f\u200b\u7528\u200b\u8bed\u97f3\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u88ab\u200b\u5f55\u5165\u200b\u7684\u200b\u6307\u4ee4\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u5145\u5206\u200b\u5229\u7528\u8ba1\u7b97\u673a\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u5f97\u4e0d\u200b\u56de\u5230\u200b\u6700\u200b\u6839\u672c\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6587\u5b57\u200b\u63a5\u53e3\u200b\uff1aShell\u3002</p> <p>\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u60a8\u200b\u80fd\u591f\u200b\u63a5\u89e6\u200b\u5230\u200b\u7684\u200b\u5e73\u53f0\u200b\u90fd\u200b\u652f\u6301\u200b\u67d0\u79cd\u200b\u5f62\u5f0f\u200b\u7684\u200b shell\uff0c\u200b\u6709\u4e9b\u200b\u751a\u81f3\u200b\u8fd8\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u591a\u79cd\u200b shell \u200b\u4f9b\u200b\u60a8\u200b\u9009\u62e9\u200b\u3002\u200b\u867d\u7136\u200b\u5b83\u4eec\u200b\u4e4b\u95f4\u200b\u6709\u4e9b\u200b\u7ec6\u8282\u200b\u4e0a\u200b\u7684\u200b\u5dee\u5f02\u200b\uff0c\u200b\u4f46\u662f\u200b\u5176\u200b\u6838\u5fc3\u200b\u529f\u80fd\u200b\u90fd\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff1a\u200b\u5b83\u200b\u5141\u8bb8\u200b\u4f60\u200b\u6267\u884c\u7a0b\u5e8f\u200b\uff0c\u200b\u8f93\u5165\u200b\u5e76\u200b\u83b7\u53d6\u200b\u67d0\u79cd\u200b\u534a\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002</p> <p>\u200b\u672c\u8282\u200b\u8bfe\u200b\u6211\u4eec\u200b\u4f1a\u200b\u4f7f\u7528\u200b Bourne Again SHell, \u200b\u7b80\u79f0\u200b \"bash\" \u3002</p> <p>\u200b\u8fd9\u200b\u662f\u200b\u88ab\u200b\u6700\u200b\u5e7f\u6cdb\u200b\u4f7f\u7528\u200b\u7684\u200b\u4e00\u79cd\u200b shell\uff0c\u200b\u5b83\u200b\u7684\u200b\u8bed\u6cd5\u200b\u548c\u200b\u5176\u4ed6\u200b\u7684\u200b shell \u200b\u90fd\u200b\u662f\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u3002\u200b\u6253\u5f00\u200b shell \u200b\u63d0\u793a\u7b26\u200b\uff08\u200b\u60a8\u200b\u8f93\u5165\u200b\u6307\u4ee4\u200b\u7684\u200b\u5730\u65b9\u200b\uff09\uff0c\u200b\u60a8\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u6253\u5f00\u200b \u200b\u7ec8\u7aef\u200b\u3002\u200b\u60a8\u200b\u7684\u200b\u8bbe\u5907\u200b\u901a\u5e38\u200b\u90fd\u200b\u5df2\u7ecf\u200b\u5185\u7f6e\u200b\u4e86\u200b\u7ec8\u7aef\u200b\uff0c\u200b\u6216\u8005\u200b\u60a8\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5b89\u88c5\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u975e\u5e38\u7b80\u5355\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-the-shell/#\u4f7f\u7528-shell","title":"\u4f7f\u7528\u200b shell","text":"<p>\u200b\u5f53\u200b\u60a8\u200b\u6253\u5f00\u200b\u7ec8\u7aef\u200b\u65f6\u200b\uff0c\u200b\u60a8\u200b\u4f1a\u200b\u770b\u5230\u200b\u4e00\u4e2a\u200b\u63d0\u793a\u7b26\u200b\uff0c\u200b\u5b83\u200b\u770b\u8d77\u6765\u200b\u4e00\u822c\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u6837\u5b50\u200b\u7684\u200b\uff1a</p> Bash<pre><code>missing:~$\n</code></pre> <p>\u200b\u8fd9\u662f\u200b shell \u200b\u6700\u200b\u4e3b\u8981\u200b\u7684\u200b\u6587\u672c\u200b\u63a5\u53e3\u200b\u3002\u200b\u5b83\u200b\u544a\u8bc9\u200b\u4f60\u200b\uff0c\u200b\u4f60\u200b\u7684\u200b\u4e3b\u673a\u540d\u200b\u662f\u200b <code>missing</code> \u200b\u5e76\u4e14\u200b\u60a8\u200b\u5f53\u524d\u200b\u7684\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff08\"current working directory\"\uff09\u200b\u6216\u8005\u8bf4\u200b\u60a8\u200b\u5f53\u524d\u200b\u6240\u5728\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u662f\u200b <code>~</code> \uff08\u200b\u8868\u793a\u200b \"home\")\u3002 <code>$</code> \u200b\u7b26\u53f7\u200b\u8868\u793a\u200b\u60a8\u200b\u73b0\u5728\u200b\u7684\u200b\u8eab\u4efd\u200b\u4e0d\u662f\u200b root \u200b\u7528\u6237\u200b\uff08\u200b\u7a0d\u540e\u200b\u4f1a\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u5982\u679c\u200b\u73b0\u5728\u200b\u7684\u200b\u8eab\u4efd\u200b\u662f\u200b root \u200b\u7528\u6237\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u7528\u200b <code>#</code> \u200b\u4f5c\u4e3a\u200b\u547d\u4ee4\u63d0\u793a\u7b26\u200b\uff09\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u63d0\u793a\u7b26\u200b\u4e2d\u200b\uff0c\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u8f93\u5165\u200b \u200b\u547d\u4ee4\u200b\uff0c\u200b\u547d\u4ee4\u200b\u6700\u7ec8\u200b\u4f1a\u200b\u88ab\u200b shell \u200b\u89e3\u6790\u200b\u3002\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u547d\u4ee4\u200b\u662f\u200b\u6267\u884c\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\uff1a</p> Bash<pre><code>missing:~$ date\nFri 10 Jan 2020 11:49:31 AM EST\nmissing:~$\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\uff0c\u200b\u6211\u4eec\u200b\u6267\u884c\u200b\u4e86\u200b <code>date</code> \u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u4e0d\u200b\u51fa\u200b\u610f\u6599\u200b\u5730\u200b\uff0c\u200b\u5b83\u200b\u6253\u5370\u200b\u51fa\u200b\u4e86\u200b\u5f53\u524d\u200b\u7684\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\u3002\u200b\u7136\u540e\u200b\uff0cshell \u200b\u7b49\u5f85\u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u5176\u4ed6\u200b\u547d\u4ee4\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6267\u884c\u547d\u4ee4\u200b\u7684\u200b\u540c\u65f6\u200b\u5411\u200b\u7a0b\u5e8f\u200b\u4f20\u9012\u200b \u200b\u53c2\u6570\u200b\uff1a</p> Bash<pre><code>missing:~$ echo hello\nhello\n</code></pre> <p>\u200b\u4e0a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u8ba9\u200b shell \u200b\u6267\u884c\u200b <code>echo</code> \uff0c\u200b\u540c\u65f6\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b <code>hello</code>\u3002<code>echo</code> \u200b\u7a0b\u5e8f\u200b\u5c06\u200b\u8be5\u200b\u53c2\u6570\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\u3002 shell \u200b\u57fa\u4e8e\u200b\u7a7a\u683c\u200b\u5206\u5272\u200b\u547d\u4ee4\u200b\u5e76\u200b\u8fdb\u884c\u200b\u89e3\u6790\u200b\uff0c\u200b\u7136\u540e\u200b\u6267\u884c\u200b\u7b2c\u4e00\u4e2a\u200b\u5355\u8bcd\u200b\u4ee3\u8868\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u540e\u7eed\u200b\u7684\u200b\u5355\u8bcd\u200b\u4f5c\u4e3a\u200b\u7a0b\u5e8f\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u5982\u679c\u200b\u60a8\u200b\u5e0c\u671b\u200b\u4f20\u9012\u200b\u7684\u200b\u53c2\u6570\u200b\u4e2d\u200b\u5305\u542b\u200b\u7a7a\u683c\u200b\uff08\u200b\u4f8b\u5982\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b My Photos \u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\uff09\uff0c\u200b\u60a8\u200b\u8981\u4e48\u200b\u7528\u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b\uff0c\u200b\u53cc\u5f15\u53f7\u200b\u5c06\u200b\u5176\u200b\u5305\u88f9\u200b\u8d77\u6765\u200b\uff0c\u200b\u8981\u4e48\u200b\u4f7f\u7528\u200b\u8f6c\u4e49\u200b\u7b26\u53f7\u200b <code>\\</code> \u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff08<code>My\\ Photos</code>\uff09\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0cshell \u200b\u662f\u200b\u5982\u4f55\u200b\u77e5\u9053\u200b\u53bb\u200b\u54ea\u91cc\u200b\u5bfb\u627e\u200b <code>date</code> \u200b\u6216\u200b <code>echo</code> \u200b\u7684\u200b\u5462\u200b\uff1f\u200b\u5176\u5b9e\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b Python \u200b\u6216\u200b Ruby\uff0cshell \u200b\u662f\u200b\u4e00\u4e2a\u200b\u7f16\u7a0b\u200b\u73af\u5883\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5b83\u200b\u5177\u5907\u200b\u53d8\u91cf\u200b\u3001\u200b\u6761\u4ef6\u200b\u3001\u200b\u5faa\u73af\u200b\u548c\u200b\u51fd\u6570\u200b\uff08\u200b\u4e0b\u4e00\u8bfe\u200b\u8fdb\u884c\u200b\u8bb2\u89e3\u200b\uff09\u3002\u200b\u5f53\u200b\u4f60\u200b\u5728\u200b shell \u200b\u4e2d\u200b\u6267\u884c\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u60a8\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u5728\u200b\u6267\u884c\u200b\u4e00\u6bb5\u200b shell \u200b\u53ef\u4ee5\u200b\u89e3\u91ca\u200b\u6267\u884c\u200b\u7684\u200b\u7b80\u77ed\u200b\u4ee3\u7801\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u8981\u6c42\u200b shell \u200b\u6267\u884c\u200b\u67d0\u4e2a\u200b\u6307\u4ee4\u200b\uff0c\u200b\u4f46\u662f\u200b\u8be5\u200b\u6307\u4ee4\u200b\u5e76\u200b\u4e0d\u662f\u200b shell \u200b\u6240\u200b\u4e86\u89e3\u200b\u7684\u200b\u7f16\u7a0b\u200b\u5173\u952e\u5b57\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u4f1a\u200b\u53bb\u200b\u54a8\u8be2\u200b \u200b\u73af\u5883\u53d8\u91cf\u200b <code>$PATH</code>\uff0c\u200b\u5b83\u4f1a\u200b\u5217\u51fa\u200b\u5f53\u200b shell \u200b\u63a5\u5230\u200b\u67d0\u6761\u200b\u6307\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u8fdb\u884c\u200b\u7a0b\u5e8f\u200b\u641c\u7d22\u200b\u7684\u200b\u8def\u5f84\u200b\uff1a</p> Bash<pre><code>missing:~$ echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nmissing:~$ which echo\n/bin/echo\nmissing:~$ /bin/echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n</code></pre> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u6267\u884c\u200b <code>echo</code> \u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0cshell \u200b\u4e86\u89e3\u200b\u5230\u200b\u9700\u8981\u200b\u6267\u884c\u200b <code>echo</code> \u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u968f\u540e\u200b\u5b83\u200b\u4fbf\u200b\u4f1a\u200b\u5728\u200b <code>$PATH</code> \u200b\u4e2d\u200b\u641c\u7d22\u200b\u7531\u200b <code>:</code> \u200b\u6240\u200b\u5206\u5272\u200b\u7684\u200b\u4e00\u7cfb\u5217\u200b\u76ee\u5f55\u200b\uff0c\u200b\u57fa\u4e8e\u200b\u540d\u5b57\u200b\u641c\u7d22\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u3002\u200b\u5f53\u200b\u627e\u5230\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\u4fbf\u200b\u6267\u884c\u200b\uff08\u200b\u5047\u5b9a\u200b\u8be5\u200b\u6587\u4ef6\u200b\u662f\u200b \u200b\u53ef\u6267\u884c\u7a0b\u5e8f\u200b\uff0c\u200b\u540e\u7eed\u200b\u8bfe\u7a0b\u200b\u5c06\u200b\u8be6\u7ec6\u200b\u8bb2\u89e3\u200b\uff09\u3002\u200b\u786e\u5b9a\u200b\u67d0\u4e2a\u200b\u7a0b\u5e8f\u200b\u540d\u200b\u4ee3\u8868\u200b\u7684\u200b\u662f\u200b\u54ea\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>which</code> \u200b\u7a0b\u5e8f\u200b\u3002\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7ed5\u8fc7\u200b <code>$PATH</code>\uff0c\u200b\u901a\u8fc7\u200b\u76f4\u63a5\u200b\u6307\u5b9a\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8def\u5f84\u200b\u6765\u200b\u6267\u884c\u200b\u8be5\u200b\u7a0b\u5e8f\u200b</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-the-shell/#\u5728-shell-\u4e2d\u5bfc\u822a","title":"\u5728\u200b shell \u200b\u4e2d\u200b\u5bfc\u822a","text":"<p>shell \u200b\u4e2d\u200b\u7684\u200b\u8def\u5f84\u200b\u662f\u200b\u4e00\u7ec4\u200b\u88ab\u200b\u5206\u5272\u200b\u7684\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5728\u200b Linux \u200b\u548c\u200b macOS \u200b\u4e0a\u200b\u4f7f\u7528\u200b <code>/</code> \u200b\u5206\u5272\u200b\uff0c\u200b\u800c\u200b\u5728\u200b Windows \u200b\u4e0a\u200b\u662f\u200b <code>\\</code>\u3002\u200b\u8def\u5f84\u200b <code>/</code> \u200b\u4ee3\u8868\u200b\u7684\u200b\u662f\u200b\u7cfb\u7edf\u200b\u7684\u200b\u6839\u76ee\u5f55\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u90fd\u200b\u5305\u62ec\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u8def\u5f84\u200b\u4e4b\u4e0b\u200b\uff0c\u200b\u5728\u200b Windows \u200b\u4e0a\u200b\u6bcf\u4e2a\u200b\u76d8\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6839\u76ee\u5f55\u200b\uff08\u200b\u4f8b\u5982\u200b\uff1a <code>C:\\</code>\uff09\u3002\u200b\u6211\u4eec\u200b\u5047\u8bbe\u200b\u60a8\u200b\u5728\u200b\u5b66\u4e60\u200b\u672c\u200b\u8bfe\u7a0b\u200b\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b Linux \u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u3002\u200b\u5982\u679c\u200b\u67d0\u4e2a\u200b\u8def\u5f84\u200b\u4ee5\u200b <code>/</code> \u200b\u5f00\u5934\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b \u200b\u7edd\u5bf9\u8def\u5f84\u200b\uff0c\u200b\u5176\u4ed6\u200b\u7684\u200b\u90fd\u200b\u662f\u200b \u200b\u76f8\u5bf9\u8def\u5f84\u200b\u3002\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u662f\u200b\u6307\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>pwd</code> \u200b\u547d\u4ee4\u200b\u6765\u200b\u83b7\u53d6\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u5207\u6362\u200b\u76ee\u5f55\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b <code>cd</code> \u200b\u547d\u4ee4\u200b\u3002\u200b\u5728\u200b\u8def\u5f84\u200b\u4e2d\u200b\uff0c<code>.</code> \u200b\u8868\u793a\u200b\u7684\u200b\u662f\u200b\u5f53\u524d\u76ee\u5f55\u200b\uff0c\u200b\u800c\u200b <code>..</code> \u200b\u8868\u793a\u200b\u4e0a\u7ea7\u200b\u76ee\u5f55\u200b\uff1a</p> Bash<pre><code>missing:~$ pwd\n/home/missing\nmissing:~$ cd /home\nmissing:/home$ pwd\n/home\nmissing:/home$ cd ..\nmissing:/$ pwd\n/\nmissing:/$ cd ./home\nmissing:/home$ pwd\n/home\nmissing:/home$ cd missing\nmissing:~$ pwd\n/home/missing\nmissing:~$ ../../bin/echo hello\nhello\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0cshell \u200b\u4f1a\u200b\u5b9e\u65f6\u200b\u663e\u793a\u200b\u5f53\u524d\u200b\u7684\u200b\u8def\u5f84\u200b\u4fe1\u606f\u200b\u3002\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u914d\u7f6e\u200b shell \u200b\u63d0\u793a\u7b26\u200b\u6765\u200b\u663e\u793a\u200b\u5404\u79cd\u200b\u6709\u7528\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u8fd9\u4e00\u200b\u5185\u5bb9\u200b\u6211\u4eec\u200b\u4f1a\u200b\u5728\u200b\u540e\u9762\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u8ba8\u8bba\u200b\u3002</p> <p>\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u8def\u5f84\u200b\uff0c\u200b\u5219\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u6267\u884c\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e38\u5e38\u200b\u4f1a\u200b\u641c\u7d22\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u9700\u8981\u200b\u65f6\u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u67e5\u770b\u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u5305\u542b\u200b\u54ea\u4e9b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b <code>ls</code> \u200b\u547d\u4ee4\u200b\uff1a</p> Bash<pre><code>missing:~$ ls\nmissing:~$ cd ..\nmissing:/home$ ls\nmissing\nmissing:/home$ cd ..\nmissing:/$ ls\nbin\nboot\ndev\netc\nhome\n...\n</code></pre> <p>\u200b\u9664\u975e\u200b\u6211\u4eec\u200b\u5229\u7528\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5426\u5219\u200b <code>ls</code> \u200b\u4f1a\u200b\u6253\u5370\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002\u200b\u5927\u591a\u6570\u200b\u7684\u200b\u547d\u4ee4\u200b\u63a5\u53d7\u200b\u6807\u8bb0\u200b\u548c\u200b\u9009\u9879\u200b\uff08\u200b\u5e26\u6709\u200b\u503c\u200b\u7684\u200b\u6807\u8bb0\u200b\uff09\uff0c\u200b\u5b83\u4eec\u200b\u4ee5\u200b <code>-</code> \u200b\u5f00\u5934\u200b\uff0c\u200b\u5e76\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u7a0b\u5e8f\u200b\u7684\u200b\u884c\u4e3a\u200b\u3002\u200b\u901a\u5e38\u200b\uff0c\u200b\u5728\u200b\u6267\u884c\u7a0b\u5e8f\u200b\u65f6\u200b\u4f7f\u7528\u200b <code>-h</code> \u200b\u6216\u200b <code>--help</code> \u200b\u6807\u8bb0\u200b\u53ef\u4ee5\u200b\u6253\u5370\u200b\u5e2e\u52a9\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u4e86\u89e3\u200b\u6709\u200b\u54ea\u4e9b\u200b\u53ef\u7528\u200b\u7684\u200b\u6807\u8bb0\u200b\u6216\u200b\u9009\u9879\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c<code>ls --help</code> \u200b\u7684\u200b\u8f93\u51fa\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>  -l                         use a long listing format\n</code></pre> Bash<pre><code>missing:~$ ls -l /home\ndrwxr-xr-x 1 missing  users  4096 Jun 15  2019 missing\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u66f4\u52a0\u200b\u8be6\u7ec6\u200b\u5730\u200b\u5217\u51fa\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u6587\u4ef6\u200b\u6216\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u9996\u5148\u200b\uff0c\u200b\u672c\u884c\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b <code>d</code> \u200b\u8868\u793a\u200b <code>missing</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\u3002\u200b\u7136\u540e\u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u4e5d\u4e2a\u200b\u5b57\u7b26\u200b\uff0c\u200b\u6bcf\u200b\u4e09\u4e2a\u200b\u5b57\u7b26\u200b\u6784\u6210\u200b\u4e00\u7ec4\u200b\u3002</p> <p>\uff08<code>rwx</code>\uff09. \u200b\u5b83\u4eec\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u4e86\u200b\u6587\u4ef6\u200b\u6240\u6709\u8005\u200b\uff08<code>missing</code>\uff09\uff0c\u200b\u7528\u6237\u7ec4\u200b\uff08<code>users</code>\uff09\u200b\u4ee5\u53ca\u200b\u5176\u4ed6\u200b\u6240\u6709\u4eba\u200b\u5177\u6709\u200b\u7684\u200b\u6743\u9650\u200b\u3002\u200b\u5176\u4e2d\u200b <code>-</code> \u200b\u8868\u793a\u200b\u8be5\u200b\u7528\u6237\u200b\u4e0d\u200b\u5177\u5907\u200b\u76f8\u5e94\u200b\u7684\u200b\u6743\u9650\u200b\u3002\u200b\u4ece\u200b\u4e0a\u9762\u200b\u7684\u200b\u4fe1\u606f\u200b\u6765\u770b\u200b\uff0c\u200b\u53ea\u6709\u200b\u6587\u4ef6\u200b\u6240\u6709\u8005\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\uff08<code>w</code>\uff09\uff0c<code>missing</code> \u200b\u6587\u4ef6\u5939\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6dfb\u52a0\u200b\u6216\u200b\u5220\u9664\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u200b\uff09\u3002\u200b\u4e3a\u4e86\u200b\u8fdb\u5165\u200b\u67d0\u4e2a\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u5177\u5907\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u4ee5\u53ca\u200b\u5176\u7236\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u201c\u200b\u641c\u7d22\u200b\u201d\u200b\u6743\u9650\u200b\uff08\u200b\u4ee5\u200b\u201c\u200b\u53ef\u200b\u6267\u884c\u200b\u201d\uff1a<code>x</code>\uff09\u200b\u6743\u9650\u200b\u8868\u793a\u200b\u3002\u200b\u4e3a\u4e86\u200b\u5217\u51fa\u200b\u5b83\u200b\u7684\u200b\u5305\u542b\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u7528\u6237\u200b\u5fc5\u987b\u200b\u5bf9\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u5177\u5907\u200b\u8bfb\u200b\u6743\u9650\u200b\uff08<code>r</code>\uff09\u3002\u200b\u5bf9\u4e8e\u200b\u6587\u4ef6\u200b\u6765\u8bf4\u200b\uff0c\u200b\u6743\u9650\u200b\u7684\u200b\u610f\u4e49\u200b\u4e5f\u200b\u662f\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c<code>/bin</code> \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u5728\u200b\u6700\u540e\u200b\u4e00\u7ec4\u200b\uff0c\u200b\u5373\u200b\u8868\u793a\u200b\u6240\u6709\u4eba\u200b\u7684\u200b\u7528\u6237\u7ec4\u200b\u4e2d\u200b\uff0c\u200b\u5747\u200b\u5305\u542b\u200b <code>x</code> \u200b\u6743\u9650\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u4efb\u4f55\u4eba\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\u8fd9\u4e9b\u200b\u7a0b\u5e8f\u200b\u3002</p> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u9636\u6bb5\u200b\uff0c\u200b\u8fd8\u6709\u200b\u51e0\u4e2a\u200b\u8d81\u624b\u200b\u7684\u200b\u547d\u4ee4\u200b\u662f\u200b\u60a8\u200b\u9700\u8981\u200b\u638c\u63e1\u200b\u7684\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>mv</code>\uff08\u200b\u7528\u4e8e\u200b\u91cd\u547d\u540d\u200b\u6216\u200b\u79fb\u52a8\u200b\u6587\u4ef6\u200b\uff09\u3001 <code>cp</code>\uff08\u200b\u62f7\u8d1d\u200b\u6587\u4ef6\u200b\uff09\u200b\u4ee5\u53ca\u200b <code>mkdir</code>\uff08\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u5939\u200b\uff09\u3002</p> <p>\u200b\u5982\u679c\u200b\u60a8\u200b\u60f3\u8981\u200b\u77e5\u9053\u200b\u5173\u4e8e\u200b\u7a0b\u5e8f\u200b\u53c2\u6570\u200b\u3001\u200b\u8f93\u5165\u8f93\u51fa\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4ea6\u200b\u6216\u662f\u200b\u60f3\u8981\u200b\u4e86\u89e3\u200b\u5b83\u4eec\u200b\u7684\u200b\u5de5\u4f5c\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u8bf7\u200b\u8bd5\u8bd5\u200b <code>man</code> \u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\u3002\u200b\u5b83\u4f1a\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u540d\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5b83\u200b\u7684\u200b\u6587\u6863\u200b\uff08\u200b\u7528\u6237\u624b\u518c\u200b\uff09\u200b\u5c55\u73b0\u200b\u7ed9\u200b\u60a8\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>q</code> \u200b\u53ef\u4ee5\u200b\u9000\u51fa\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u3002</p> Bash<pre><code>missing:~$ man ls\n</code></pre>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-the-shell/#\u5728\u7a0b\u5e8f\u95f4\u521b\u5efa\u8fde\u63a5","title":"\u5728\u200b\u7a0b\u5e8f\u200b\u95f4\u200b\u521b\u5efa\u200b\u8fde\u63a5","text":"<p>\u200b\u5728\u200b shell \u200b\u4e2d\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u6709\u200b\u4e24\u4e2a\u200b\u4e3b\u8981\u200b\u7684\u200b\u201c\u200b\u6d41\u200b\u201d\uff1a\u200b\u5b83\u4eec\u200b\u7684\u200b\u8f93\u5165\u200b\u6d41\u200b\u548c\u200b\u8f93\u51fa\u200b\u6d41\u200b\u3002</p> <p>\u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u5c1d\u8bd5\u200b\u8bfb\u53d6\u200b\u4fe1\u606f\u200b\u65f6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u4f1a\u200b\u4ece\u200b\u8f93\u5165\u200b\u6d41\u4e2d\u200b\u8fdb\u884c\u200b\u8bfb\u53d6\u200b\uff0c\u200b\u5f53\u200b\u7a0b\u5e8f\u200b\u6253\u5370\u4fe1\u606f\u200b\u65f6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u4f1a\u200b\u5c06\u200b\u4fe1\u606f\u200b\u8f93\u51fa\u200b\u5230\u200b\u8f93\u51fa\u200b\u6d41\u4e2d\u200b\u3002</p> <p>\u200b\u901a\u5e38\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u6d41\u90fd\u200b\u662f\u200b\u60a8\u200b\u7684\u200b\u7ec8\u7aef\u200b\u3002\u200b\u4e5f\u200b\u5c31\u662f\u200b\uff0c\u200b\u60a8\u200b\u7684\u200b\u952e\u76d8\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\uff0c\u200b\u663e\u793a\u5668\u200b\u4f5c\u4e3a\u200b\u8f93\u51fa\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u91cd\u5b9a\u5411\u200b\u8fd9\u4e9b\u200b\u6d41\u200b\uff01</p> <p>\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u91cd\u5b9a\u5411\u200b\u662f\u200b <code>&lt; file</code> \u200b\u548c\u200b <code>&gt; file</code>\u3002\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u547d\u4ee4\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u6d41\u200b\u5206\u522b\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200b\u6587\u4ef6\u200b\uff1a</p> Bash<pre><code>missing:~$ echo hello &gt; hello.txt\nmissing:~$ cat hello.txt\nhello\nmissing:~$ cat &lt; hello.txt\nhello\nmissing:~$ cat &lt; hello.txt &gt; hello2.txt\nmissing:~$ cat hello2.txt\nhello\n</code></pre> <p>\u200b\u60a8\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>&gt;&gt;</code> \u200b\u6765\u200b\u5411\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u8ffd\u52a0\u200b\u5185\u5bb9\u200b\u3002\u200b\u4f7f\u7528\u200b\u7ba1\u9053\u200b\uff08pipes\uff09\uff0c\u200b\u6211\u4eec\u200b\u80fd\u591f\u200b\u66f4\u597d\u200b\u7684\u200b\u5229\u7528\u200b\u6587\u4ef6\u200b\u91cd\u5b9a\u5411\u200b\u3002</p> <p><code>|</code> \u200b\u64cd\u4f5c\u7b26\u200b\u5141\u8bb8\u200b\u6211\u4eec\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8f93\u51fa\u200b\u548c\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8f93\u5165\u200b\u8fde\u63a5\u8d77\u6765\u200b\uff1a</p> <p><code>tail -n1</code> \u200b\u4f1a\u200b\u663e\u793a\u200b\u5c3e\u90e8\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u3002</p> Bash<pre><code>missing:~$ ls -l / | tail -n1\ndrwxr-xr-x 1 root  root  4096 Jun 20  2019 var\nmissing:~$ curl --head --silent google.com | grep --ignore-case content-length | cut --delimiter=' ' -f2\n219\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u4f1a\u200b\u5728\u200b\u6570\u636e\u200b\u6e05\u7406\u200b\u4e00\u7ae0\u200b\u4e2d\u200b\u66f4\u52a0\u200b\u8be6\u7ec6\u200b\u7684\u200b\u63a2\u8ba8\u200b\u5982\u4f55\u200b\u66f4\u597d\u200b\u7684\u200b\u5229\u7528\u200b\u7ba1\u9053\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-the-shell/#\u5207\u6362\u5230-root-\u7528\u6237","title":"\u5207\u6362\u200b\u5230\u200b root \u200b\u7528\u6237","text":"<p>\u200b\u5bf9\u4e8e\u200b\u5927\u591a\u6570\u200b\u7684\u200b\u7c7b\u200b Unix \u200b\u7cfb\u7edf\u200b\uff0c\u200b\u6709\u200b\u4e00\u7c7b\u200b\u7528\u6237\u200b\u662f\u200b\u975e\u5e38\u200b\u7279\u6b8a\u200b\u7684\u200b\uff0c\u200b\u90a3\u200b\u5c31\u662f\u200b\uff1a\u200b\u6839\u200b\u7528\u6237\u200b\uff08root user\uff09\u3002 \u200b\u60a8\u200b\u5e94\u8be5\u200b\u5df2\u7ecf\u200b\u6ce8\u610f\u200b\u5230\u200b\u4e86\u200b\uff0c\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u6839\u200b\u7528\u6237\u200b\u51e0\u4e4e\u200b\u4e0d\u200b\u53d7\u200b\u4efb\u4f55\u200b\u9650\u5236\u200b\uff0c\u200b\u4ed6\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u3001\u200b\u8bfb\u53d6\u200b\u3001\u200b\u66f4\u65b0\u200b\u548c\u200b\u5220\u9664\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u7684\u200b\u4efb\u4f55\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u901a\u5e38\u200b\u5728\u200b\u6211\u4eec\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u4ee5\u6839\u200b\u7528\u6237\u200b\u7684\u200b\u8eab\u4efd\u200b\u76f4\u63a5\u200b\u767b\u5f55\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u6837\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u56e0\u4e3a\u200b\u67d0\u4e9b\u200b\u9519\u8bef\u200b\u7684\u200b\u64cd\u4f5c\u200b\u800c\u200b\u7834\u574f\u200b\u7cfb\u7edf\u200b\u3002</p> <p>\u200b\u53d6\u800c\u4ee3\u4e4b\u200b\u7684\u200b\u662f\u200b\u6211\u4eec\u200b\u4f1a\u200b\u5728\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u5019\u200b\u4f7f\u7528\u200b <code>sudo</code> \u200b\u547d\u4ee4\u200b\u3002\u200b\u987e\u540d\u601d\u4e49\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u8ba9\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u4ee5\u200b su\uff08super user \u200b\u6216\u200b root \u200b\u7684\u200b\u7b80\u5199\u200b\uff09\u200b\u7684\u200b\u8eab\u4efd\u200b\u6267\u884c\u200b\u4e00\u4e9b\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u5f53\u200b\u60a8\u200b\u9047\u5230\u200b\u62d2\u7edd\u200b\u8bbf\u95ee\u200b\uff08permission denied\uff09\u200b\u7684\u200b\u9519\u8bef\u200b\u65f6\u200b\uff0c\u200b\u901a\u5e38\u200b\u662f\u56e0\u4e3a\u200b\u6b64\u65f6\u200b\u60a8\u200b\u5fc5\u987b\u200b\u662f\u200b\u6839\u200b\u7528\u6237\u200b\u624d\u80fd\u200b\u64cd\u4f5c\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u8bf7\u200b\u518d\u6b21\u200b\u786e\u8ba4\u200b\u60a8\u200b\u662f\u200b\u771f\u7684\u200b\u8981\u200b\u6267\u884c\u200b\u6b64\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u6709\u200b\u4e00\u4ef6\u200b\u4e8b\u60c5\u200b\u662f\u200b\u60a8\u200b\u5fc5\u987b\u200b\u4f5c\u4e3a\u200b\u6839\u200b\u7528\u6237\u200b\u624d\u80fd\u200b\u505a\u200b\u7684\u200b\uff0c\u200b\u90a3\u200b\u5c31\u662f\u200b\u5411\u200b <code>sysfs</code> \u200b\u6587\u4ef6\u200b\u5199\u5165\u200b\u5185\u5bb9\u200b\u3002\u200b\u7cfb\u7edf\u200b\u88ab\u200b\u6302\u8f7d\u200b\u5728\u200b <code>/sys</code> \u200b\u4e0b\u200b\uff0c<code>sysfs</code> \u200b\u6587\u4ef6\u200b\u5219\u200b\u66b4\u9732\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u5185\u6838\u200b\uff08kernel\uff09\u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u60a8\u200b\u4e0d\u200b\u9700\u8981\u200b\u501f\u52a9\u200b\u4efb\u4f55\u200b\u4e13\u7528\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u5730\u200b\u5728\u200b\u8fd0\u884c\u200b\u671f\u95f4\u200b\u914d\u7f6e\u200b\u7cfb\u7edf\u200b\u5185\u6838\u200b\u3002\u200b\u6ce8\u610f\u200b Windows \u200b\u548c\u200b macOS \u200b\u6ca1\u6709\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u60a8\u200b\u7b14\u8bb0\u672c\u7535\u8111\u200b\u7684\u200b\u5c4f\u5e55\u200b\u4eae\u5ea6\u200b\u5199\u200b\u5728\u200b <code>brightness</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u5b83\u200b\u4f4d\u4e8e\u200b</p> Text Only<pre><code>/sys/class/backlight\n</code></pre> <p>\u200b\u901a\u8fc7\u200b\u5c06\u200b\u6570\u503c\u200b\u5199\u5165\u200b\u8be5\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200b\u5c4f\u5e55\u200b\u7684\u200b\u4eae\u5ea6\u200b\u3002\u200b\u73b0\u5728\u200b\uff0c\u200b\u8e66\u200b\u5230\u200b\u60a8\u200b\u8111\u888b\u200b\u91cc\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u60f3\u6cd5\u200b\u53ef\u80fd\u200b\u662f\u200b\uff1a</p> Bash<pre><code>$ sudo find -L /sys/class/backlight -maxdepth 2 -name '*brightness*'\n/sys/class/backlight/thinkpad_screen/brightness\n$ cd /sys/class/backlight/thinkpad_screen\n$ sudo echo 3 &gt; brightness\nAn error occurred while redirecting file 'brightness'\nopen: Permission denied\n</code></pre> <p>\u200b\u51fa\u4e4e\u610f\u6599\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd8\u662f\u200b\u5f97\u5230\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002\u200b\u6bd5\u7adf\u200b\uff0c\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u4f7f\u7528\u200b\u4e86\u200b <code>sudo</code> \u200b\u547d\u4ee4\u200b\uff01\u200b\u5173\u4e8e\u200b shell\uff0c\u200b\u6709\u4ef6\u4e8b\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u8981\u200b\u77e5\u9053\u200b\u3002<code>|</code>\u3001<code>&gt;</code>\u3001\u200b\u548c\u200b <code>&lt;</code> \u200b\u662f\u200b\u901a\u8fc7\u200b shell \u200b\u6267\u884c\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u88ab\u200b\u5404\u4e2a\u200b\u7a0b\u5e8f\u200b\u5355\u72ec\u200b\u6267\u884c\u200b\u3002</p> <p><code>echo</code> \u200b\u7b49\u200b\u7a0b\u5e8f\u200b\u5e76\u4e0d\u77e5\u9053\u200b <code>|</code> \u200b\u7684\u200b\u5b58\u5728\u200b\uff0c\u200b\u5b83\u4eec\u200b\u53ea\u200b\u77e5\u9053\u200b\u4ece\u200b\u81ea\u5df1\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u6d41\u4e2d\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e0a\u9762\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\uff0cshell\uff08\u200b\u6743\u9650\u200b\u4e3a\u200b\u60a8\u200b\u7684\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\uff09\u200b\u5728\u200b\u8bbe\u7f6e\u200b <code>sudo echo</code> \u200b\u524d\u200b\u5c1d\u8bd5\u200b\u6253\u5f00\u200b brightness \u200b\u6587\u4ef6\u200b\u5e76\u200b\u5199\u5165\u200b\uff0c\u200b\u4f46\u662f\u200b\u7cfb\u7edf\u200b\u62d2\u7edd\u200b\u4e86\u200b shell \u200b\u7684\u200b\u64cd\u4f5c\u200b\u56e0\u4e3a\u200b\u6b64\u65f6\u200b shell \u200b\u4e0d\u662f\u200b\u6839\u200b\u7528\u6237\u200b\u3002</p> <p>\u200b\u660e\u767d\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u64cd\u4f5c\u200b\uff1a</p> Bash<pre><code>$ echo 3 | sudo tee brightness\n</code></pre> <p>\u200b\u56e0\u4e3a\u200b\u6253\u5f00\u200b <code>/sys</code> \u200b\u6587\u4ef6\u200b\u7684\u200b\u662f\u200b <code>tee</code> \u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u4ee5\u200b <code>root</code> \u200b\u6743\u9650\u200b\u5728\u200b\u8fd0\u884c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u64cd\u4f5c\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u3002</p> <p>\u200b\u8fd9\u6837\u200b\u60a8\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b <code>/sys</code> \u200b\u4e2d\u200b\u6109\u5feb\u200b\u5730\u200b\u73a9\u800d\u200b\u4e86\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4fee\u6539\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u5404\u79cd\u200b LED \u200b\u7684\u200b\u72b6\u6001\u200b\uff08\u200b\u8def\u5f84\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u6240\u4e0d\u540c\u200b\uff09\uff1a</p> Bash<pre><code>$ echo 1 | sudo tee /sys/class/leds/input6::scrolllock/brightness\n</code></pre>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-the-shell/#sudo-\u548c-su","title":"<code>sudo</code> \u200b\u548c\u200b <code>su</code>","text":"<p>\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u6709\u200b\u4e24\u4e2a\u200b\u975e\u5e38\u200b\u5e38\u7528\u200b\u7684\u200b\u547d\u4ee4\u200b\uff1a<code>sudo</code> \u200b\u548c\u200b <code>su</code>\u3002\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u547d\u4ee4\u200b\u90fd\u200b\u7528\u4e8e\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u5207\u6362\u200b\u6210\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5207\u6362\u200b\u540e\u200b\u6267\u884c\u200b\u7279\u5b9a\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002</p> <p>\u200b\u9996\u5148\u200b\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u6765\u200b\u8ba8\u8bba\u4e00\u4e0b\u200b <code>sudo</code> \u200b\u547d\u4ee4\u200b\u3002<code>sudo</code> \u200b\u662f\u200b \"Super User Do\" \u200b\u7684\u200b\u7f29\u5199\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u666e\u901a\u7528\u6237\u200b\u4ee5\u200b\u8d85\u7ea7\u200b\u7ba1\u7406\u5458\u200b\u7684\u200b\u6743\u9650\u200b\u6267\u884c\u547d\u4ee4\u200b\u3002\u200b\u901a\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u666e\u901a\u7528\u6237\u200b\u6ca1\u6709\u200b\u6743\u9650\u200b\u6267\u884c\u200b\u4e00\u4e9b\u200b\u9700\u8981\u200b\u7ba1\u7406\u5458\u200b\u6743\u9650\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5b89\u88c5\u200b\u8f6f\u4ef6\u200b\u3001\u200b\u4fee\u6539\u200b\u7cfb\u7edf\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7b49\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b <code>sudo</code> \u200b\u547d\u4ee4\u200b\uff0c\u200b\u666e\u901a\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4e34\u65f6\u200b\u5730\u200b\u83b7\u5f97\u200b\u8fd9\u4e9b\u200b\u6743\u9650\u200b\uff0c\u200b\u4ece\u800c\u200b\u6267\u884c\u200b\u8fd9\u4e9b\u200b\u9700\u8981\u200b\u7ba1\u7406\u5458\u200b\u6743\u9650\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002\u200b\u8981\u200b\u4f7f\u7528\u200b <code>sudo</code> \u200b\u547d\u4ee4\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u5728\u200b\u547d\u4ee4\u200b\u524d\u200b\u52a0\u4e0a\u200b <code>sudo</code> \u200b\u5373\u53ef\u200b\uff0c\u200b\u7136\u540e\u200b\u8f93\u5165\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\u7684\u200b\u5bc6\u7801\u200b\u8fdb\u884c\u200b\u8eab\u4efd\u9a8c\u8bc1\u200b\u3002\u200b\u5982\u679c\u200b\u9a8c\u8bc1\u200b\u6210\u529f\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4ee5\u200b\u8d85\u7ea7\u200b\u7ba1\u7406\u5458\u200b\u7684\u200b\u6743\u9650\u200b\u6267\u884c\u200b\u8be5\u200b\u547d\u4ee4\u200b\u4e86\u200b\u3002</p> <p>\u200b\u4e3e\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u4e00\u4e2a\u200b\u8f6f\u4ef6\u5305\u200b\u3002\u200b\u5982\u679c\u200b\u4ee5\u200b\u666e\u901a\u7528\u6237\u200b\u8eab\u4efd\u200b\u6267\u884c\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4f1a\u200b\u63d0\u793a\u200b\u6743\u9650\u200b\u4e0d\u8db3\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5728\u200b\u547d\u4ee4\u200b\u524d\u200b\u52a0\u4e0a\u200b <code>sudo</code>\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e34\u65f6\u200b\u83b7\u5f97\u200b\u7ba1\u7406\u5458\u200b\u6743\u9650\u200b\uff0c\u200b\u6267\u884c\u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\uff0c\u200b\u800c\u200b\u65e0\u9700\u200b\u5207\u6362\u200b\u5230\u200b\u7ba1\u7406\u5458\u200b\u8d26\u6237\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u200b\u7834\u574f\u200b\u7cfb\u7edf\u6587\u4ef6\u200b\u6743\u9650\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5b8c\u6210\u200b\u5b89\u88c5\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u6765\u200b\u8c08\u8c08\u200b <code>su</code> \u200b\u547d\u4ee4\u200b\u3002<code>su</code> \u200b\u662f\u200b \"Switch User\" \u200b\u7684\u200b\u7f29\u5199\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\u5207\u6362\u200b\u5230\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u8d26\u6237\u200b\u3002\u200b\u4e0e\u200b <code>sudo</code> \u200b\u547d\u4ee4\u200b\u4e0d\u540c\u200b\uff0c<code>su</code> \u200b\u547d\u4ee4\u200b\u4e0d\u200b\u9700\u8981\u200b\u7ba1\u7406\u5458\u200b\u5bc6\u7801\u200b\uff0c\u200b\u800c\u662f\u200b\u9700\u8981\u200b\u8f93\u5165\u200b\u76ee\u6807\u200b\u7528\u6237\u200b\u7684\u200b\u5bc6\u7801\u200b\u3002<code>su</code> \u200b\u547d\u4ee4\u200b\u5728\u200b\u5207\u6362\u200b\u7528\u6237\u200b\u8eab\u4efd\u200b\u540e\u200b\uff0c\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u7ec8\u7aef\u200b\u7a97\u53e3\u200b\uff0c\u200b\u4ee5\u65b0\u200b\u7528\u6237\u200b\u7684\u200b\u8eab\u4efd\u200b\u6267\u884c\u547d\u4ee4\u200b\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u76ee\u6807\u200b\u7528\u6237\u200b\uff0c<code>su</code> \u200b\u547d\u4ee4\u200b\u9ed8\u8ba4\u200b\u5207\u6362\u200b\u5230\u200b <code>root</code> \u200b\u7528\u6237\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b <code>su</code> \u200b\u547d\u4ee4\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u5728\u200b\u547d\u4ee4\u200b\u540e\u200b\u52a0\u4e0a\u200b\u76ee\u6807\u200b\u7528\u6237\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u5373\u53ef\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u8981\u200b\u5207\u6362\u200b\u5230\u200b <code>root</code> \u200b\u7528\u6237\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8f93\u5165\u200b <code>su</code>\uff0c\u200b\u7136\u540e\u200b\u8f93\u5165\u200b <code>root</code> \u200b\u7528\u6237\u200b\u7684\u200b\u5bc6\u7801\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c<code>su</code> \u200b\u547d\u4ee4\u200b\u5207\u6362\u200b\u7528\u6237\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u73af\u5883\u53d8\u91cf\u200b\u548c\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u7684\u200b\u6539\u53d8\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u5207\u6362\u200b\u7528\u6237\u200b\u540e\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b\u548c\u200b\u5207\u6362\u200b\u5230\u200b\u5408\u9002\u200b\u7684\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u3002\u200b\u53e6\u5916\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u5b89\u5168\u200b\u8d77\u200b\u89c1\u200b\uff0c\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u957f\u65f6\u95f4\u200b\u4ee5\u200b <code>root</code> \u200b\u7528\u6237\u200b\u8eab\u4efd\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u4f1a\u200b\u66b4\u9732\u200b\u7cfb\u7edf\u200b\u9762\u4e34\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u98ce\u9669\u200b\u3002</p> <p>\u200b\u603b\u7ed3\u200b\u8d77\u6765\u200b\uff0c<code>sudo</code> \u200b\u548c\u200b <code>su</code> \u200b\u547d\u4ee4\u200b\u90fd\u200b\u662f\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u5207\u6362\u200b\u7528\u6237\u200b\u8eab\u4efd\u200b\u548c\u200b\u6267\u884c\u200b\u7279\u5b9a\u200b\u547d\u4ee4\u200b\u7684\u200b\u91cd\u8981\u200b\u5de5\u5177\u200b\u3002<code>sudo</code> \u200b\u547d\u4ee4\u200b\u5141\u8bb8\u200b\u666e\u901a\u7528\u6237\u200b\u4ee5\u200b\u7ba1\u7406\u5458\u200b\u6743\u9650\u200b\u6267\u884c\u547d\u4ee4\u200b\uff0c\u200b\u800c\u200b <code>su</code> \u200b\u547d\u4ee4\u200b\u5219\u200b\u662f\u200b\u7528\u4e8e\u200b\u5207\u6362\u200b\u5230\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u8d26\u6237\u200b\u3002\u200b\u5728\u200b\u4f7f\u7528\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u8c28\u614e\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5e76\u4e14\u200b\u9075\u5faa\u200b\u5b89\u5168\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/pandas-forward-and-center-rolling/","title":"Pandas \u200b\u5411\u524d\u200b\u4e0e\u200b\u5c45\u4e2d\u200b\u6eda\u52a8\u200b\u8ba1\u7b97","text":"<p>Pandas \u200b\u4e2d\u200b\u7684\u200b <code>rolling</code> \u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5411\u200b\u540e\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5411\u4e0a\u200b\uff09\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5411\u524d\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5411\u4e0b\u200b\uff09\u200b\u6216\u8005\u200b\u5c45\u4e2d\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u540c\u65f6\u200b\u5411\u4e0a\u200b\u548c\u200b\u5411\u4e0b\u200b\uff09\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5206\u522b\u200b\u4f7f\u7528\u200b <code>pd.api.indexers.FixedForwardWindowIndexer</code> \u200b\u548c\u200b <code>center=True</code> \u200b\u6765\u200b\u5b9e\u73b0\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u8fd8\u200b\u4f7f\u7528\u200b\u4e86\u200b <code>.shift(-1)</code> \u200b\u5b9e\u73b0\u200b\u5411\u524d\u200b\u6216\u8005\u200b\u5c45\u4e2d\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u6bd4\u200b\u4e86\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u4e0e\u200b\u4e0a\u8ff0\u200b\u65b9\u6cd5\u200b\u6240\u5f97\u200b\u7ed3\u679c\u200b\u7684\u200b\u5dee\u5f02\u200b\u3002</p> data forward_using_FixedForwardWindowIndexer forward_using_shift center_using_center center_using_shift 0 1.0 3.0 3.0 3.0 3.0 1 2.0 2.0 2.0 3.0 3.0 2 NaN 4.0 4.0 6.0 6.0 3 4.0 9.0 9.0 9.0 9.0 4 5.0 5.0 NaN 9.0 NaN","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-forward-and-center-rolling/#\u6784\u9020\u6d4b\u8bd5\u6570\u636e","title":"\u6784\u9020\u200b\u6d4b\u8bd5\u6570\u636e","text":"<p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6d4b\u8bd5\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u200b\u5b83\u200b\u8fdb\u884c\u200b\u5411\u524d\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5411\u4e0b\u200b\uff09\u200b\u6216\u8005\u200b\u5c45\u4e2d\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u540c\u65f6\u200b\u5411\u4e0a\u200b\u548c\u200b\u5411\u4e0b\u200b\uff09\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u518d\u6c42\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u4e4b\u200b\u548c\u200b\u3002</p> Python<pre><code>import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\"data\": [1, 2, np.nan, 4, 5]})\ndf\n</code></pre> data 0 1.0 1 2.0 2 NaN 3 4.0 4 5.0","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-forward-and-center-rolling/#\u4f7f\u7528-pdapiindexersfixedforwardwindowindexer-\u5b9e\u73b0\u5411\u524d\u83b7\u53d6\u6eda\u52a8\u7a97\u53e3","title":"\u4f7f\u7528\u200b <code>pd.api.indexers.FixedForwardWindowIndexer</code> \u200b\u5b9e\u73b0\u200b\u5411\u524d\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3","text":"<p>\u200b\u53c2\u8003\u200b\uff1astackoverflow - Left-align a pandas rolling object</p> Python<pre><code>indexer = pd.api.indexers.FixedForwardWindowIndexer(window_size=2)\ndf[\"forward_using_FixedForwardWindowIndexer\"] = (\ndf[\"data\"].rolling(window=indexer, min_periods=1).sum()\n)\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-forward-and-center-rolling/#\u4f7f\u7528-shift-1-\u5b9e\u73b0\u5411\u524d\u83b7\u53d6\u6eda\u52a8\u7a97\u53e3","title":"\u4f7f\u7528\u200b <code>.shift(-1)</code> \u200b\u5b9e\u73b0\u200b\u5411\u524d\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3","text":"Python<pre><code>df[\"forward_using_shift\"] = df[\"data\"].rolling(window=2, min_periods=1).sum().shift(-1)\n</code></pre> data forward_using_FixedForwardWindowIndexer forward_using_shift 0 1.0 3.0 3.0 1 2.0 2.0 2.0 2 NaN 4.0 4.0 3 4.0 9.0 9.0 4 5.0 5.0 NaN <p>\u200b\u5bf9\u6bd4\u200b <code>pd.api.indexers.FixedForwardWindowIndexer</code> \u200b\u548c\u200b <code>.shift(-1)</code></p> <p><code>pd.api.indexers.FixedForwardWindowIndexer</code> \u200b\u6784\u9020\u200b\u7684\u200b <code>indexer</code> \u200b\u5bf9\u4e8e\u200b\u5c3e\u90e8\u200b\u7684\u200b\u6570\u636e\u200b\u4e5f\u200b\u80fd\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u800c\u200b <code>.shift()</code> \u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u5148\u200b\u505a\u200b\u5e38\u89c4\u200b\u7684\u200b\u5411\u200b\u540e\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5411\u4e0a\u200b\uff09\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u6240\u5f97\u200b\u7ed3\u679c\u200b\u5411\u4e0a\u200b\u79fb\u52a8\u200b <code>window -1</code> \u200b\u884c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c<code>.shift(-1)</code> \u200b\u6240\u5f97\u200b\u7ed3\u679c\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5fc5\u7136\u200b\u662f\u200b <code>NaN</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6700\u540e\u200b\u51e0\u4e2a\u200b\u503c\u200b\u4e5f\u200b\u80fd\u200b\u7528\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5219\u200b\u5efa\u8bae\u200b\u7528\u200b <code>pd.api.indexers.FixedForwardWindowIndexer</code> \u200b\u5b9e\u73b0\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-forward-and-center-rolling/#\u4f7f\u7528-centertrue-\u5b9e\u73b0\u5c45\u4e2d\u83b7\u53d6\u6eda\u52a8\u7a97\u53e3","title":"\u4f7f\u7528\u200b <code>center=True</code> \u200b\u5b9e\u73b0\u200b\u5c45\u4e2d\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3","text":"<p>\u200b\u53c2\u8003\u200b\uff1apandas.DataFrame.rolling</p> Python<pre><code>df[\"center_using_center\"] = (\ndf[\"data\"].rolling(window=3, center=True, min_periods=1).sum()\n)\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-forward-and-center-rolling/#\u4f7f\u7528-shift-1-\u5b9e\u73b0\u5c45\u4e2d\u83b7\u53d6\u6eda\u52a8\u7a97\u53e3","title":"\u4f7f\u7528\u200b <code>.shift(-1)</code> \u200b\u5b9e\u73b0\u200b\u5c45\u4e2d\u200b\u83b7\u53d6\u200b\u6eda\u52a8\u200b\u7a97\u53e3","text":"Python<pre><code>df[\"center_using_shift\"] = df[\"data\"].rolling(window=3, min_periods=1).sum().shift(-1)\n</code></pre> data center_using_center center_using_shift 0 1.0 3.0 3.0 1 2.0 3.0 3.0 2 NaN 6.0 6.0 3 4.0 9.0 9.0 4 5.0 9.0 NaN <p>\u200b\u5bf9\u6bd4\u200b <code>center=True</code> \u200b\u548c\u200b <code>.shift(-1)</code></p> <p><code>center=True</code> \u200b\u6784\u9020\u200b\u7684\u200b <code>indexer</code> \u200b\u5bf9\u4e8e\u200b\u5c3e\u90e8\u200b\u7684\u200b\u6570\u636e\u200b\u4e5f\u200b\u80fd\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u800c\u200b <code>.shift()</code> \u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u5148\u200b\u505a\u200b\u5e38\u89c4\u200b\u7684\u200b\u5411\u200b\u540e\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5411\u4e0a\u200b\uff09\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u6240\u5f97\u200b\u7ed3\u679c\u200b\u5411\u4e0a\u200b\u79fb\u52a8\u200b <code>(window - 1) / 2</code> \u200b\u884c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c<code>.shift(-1)</code> \u200b\u6240\u5f97\u200b\u7ed3\u679c\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5fc5\u7136\u200b\u662f\u200b <code>NaN</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6700\u540e\u200b\u51e0\u4e2a\u200b\u503c\u200b\u4e5f\u200b\u80fd\u200b\u7528\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5219\u200b\u5efa\u8bae\u200b\u7528\u200b <code>center=True</code> \u200b\u5b9e\u73b0\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/lru-cache/","title":"Python <code>@lru_cache</code> \u200b\u5185\u7f6e\u200b LRU \u200b\u7f13\u5b58","text":"<p>Python \u200b\u5185\u7f6e\u200b\u6a21\u5757\u200b <code>functools</code> \u200b\u7684\u200b\u4e00\u4e2a\u200b\u9ad8\u9636\u200b\u51fd\u6570\u200b <code>@lru_cache</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e3a\u200b\u51fd\u6570\u200b\u63d0\u4f9b\u200b\u7f13\u5b58\u200b\u529f\u80fd\u200b\u7684\u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u7f13\u5b58\u200b <code>maxsize</code> \u200b\u7ec4\u200b\u4f20\u5165\u200b\u53c2\u6570\u200b\uff0c\u200b\u5728\u200b\u4e0b\u6b21\u200b\u4ee5\u200b\u76f8\u540c\u200b\u53c2\u6570\u200b\u8c03\u7528\u200b\u65f6\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u4e0a\u200b\u4e00\u6b21\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u7528\u4ee5\u200b\u8282\u7ea6\u200b\u9ad8\u200b\u5f00\u9500\u200b\u6216\u200b I/O \u200b\u51fd\u6570\u200b\u7684\u200b\u8c03\u7528\u200b\u65f6\u95f4\u200b\u3002</p> <p>\u200b\u5728\u200b\u9012\u5f52\u8ba1\u7b97\u200b\u6590\u6ce2\u200b\u90a3\u5951\u200b\u6570\u5217\u200b\u7684\u200b\u7b2c\u200b 30 \u200b\u9879\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>@lru_cache</code> \u200b\u53ef\u200b\u4f7f\u200b\u901f\u5ea6\u200b\u63d0\u5347\u200b\u7ea6\u200b 400 \u200b\u4e07\u500d\u200b\u3002</p> <p></p> <p>\u200b\u76f8\u5173\u200b\u6559\u7a0b\u200b\u89c6\u9891\u200b\uff1a</p>","tags":["Python"]},{"location":"blog/lru-cache/#\u8bed\u6cd5\u89e3\u6790","title":"\u8bed\u6cd5\u200b\u89e3\u6790","text":"<p><code>@lru_cache</code> \u200b\u7684\u200b\u7528\u6cd5\u200b\u6709\u200b\u4e24\u79cd\u200b\u5f62\u5f0f\u200b\uff1a</p> Python<pre><code>from functools import lru_cache\nlru_cache(user_function)\n@lru_cache(maxsize=128, typed=False)\ndef user_function(x):\npass\n</code></pre> <p>\u200b\u5b83\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u4f7f\u7528\u200b\uff08Least-recently-used\uff09\u200b\u7f13\u5b58\u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u7f13\u5b58\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u5fc5\u987b\u200b\u662f\u200b\u53ef\u200b\u54c8\u5e0c\u200b\u7684\u200b\u3002\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u4f7f\u7528\u200b\u7684\u200b\u673a\u5236\u200b\u662f\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5728\u200b\u6700\u8fd1\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u6ca1\u6709\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u5230\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u5c06\u6765\u200b\u5b83\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\u4e5f\u200b\u5f88\u5c0f\u200b\uff0cLRU \u200b\u7b97\u6cd5\u200b\u9009\u62e9\u200b\u5c06\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u4f7f\u7528\u200b\u7684\u200b\u6570\u636e\u200b\u6dd8\u6c70\u200b\uff0c\u200b\u4fdd\u7559\u200b\u90a3\u4e9b\u200b\u7ecf\u5e38\u200b\u88ab\u200b\u547d\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p>","tags":["Python"]},{"location":"blog/lru-cache/#\u53c2\u6570\u89e3\u91ca","title":"\u53c2\u6570\u200b\u89e3\u91ca","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5b83\u200b\u7684\u200b\u51e0\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u8bf4\u660e\u200b\uff1a</p> <ul> <li><code>user_function</code>\uff1a\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5b83\u200b\u5fc5\u987b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\u3002</li> <li><code>maxsize</code>\uff1a\u200b\u5b58\u50a8\u200b\u5728\u200b\u7f13\u5b58\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 128 \u200b\u4e2a\u200b\uff0c\u200b\u5982\u679c\u200b\u8bbe\u200b\u4e3a\u200b <code>None</code>\uff0cLRU \u200b\u7279\u6027\u200b\u5c06\u200b\u88ab\u200b\u7981\u7528\u200b\u4e14\u200b\u7f13\u5b58\u200b\u53ef\u200b\u65e0\u9650\u200b\u589e\u957f\u200b\u3002</li> <li><code>typed</code>\uff1a\u200b\u5e03\u5c14\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b <code>Flase</code>\u3002<ul> <li>\u200b\u5982\u679c\u200b <code>typed</code> \u200b\u88ab\u200b\u8bbe\u4e3a\u200b <code>True</code>\uff0c\u200b\u5219\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u51fd\u6570\u53c2\u6570\u200b\u5c06\u200b\u88ab\u200b\u5206\u522b\u200b\u7f13\u5b58\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c<code>f(3)</code> \u200b\u548c\u200b <code>f(3.0)</code> \u200b\u5c06\u200b\u603b\u662f\u200b\u4f1a\u200b\u88ab\u200b\u5f53\u4f5c\u200b\u5177\u6709\u200b \u200b\u4e0d\u540c\u200b\u7ed3\u679c\u200b\u7684\u200b\u4e0d\u540c\u200b\u8c03\u7528\u200b \u3002</li> <li>\u200b\u5982\u679c\u200b <code>typed</code> \u200b\u4e3a\u200b <code>False</code>\uff0c\u200b\u5219\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u901a\u5e38\u200b\u4f1a\u200b\u628a\u200b\u5b83\u4eec\u200b\u5f53\u4f5c\u200b \u200b\u76f8\u540c\u200b\u8c03\u7528\u200b\u5e76\u4e14\u200b\u53ea\u200b\u7f13\u5b58\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\uff0c\u200b\u867d\u7136\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u603b\u662f\u200b\u4f1a\u200b\u8fd9\u6837\u200b\u505a\u200b\u3002</li> </ul> </li> </ul>","tags":["Python"]},{"location":"blog/lru-cache/#\u5c5e\u6027\u65b9\u6cd5","title":"\u5c5e\u6027\u200b\u65b9\u6cd5","text":"<p>\u200b\u88ab\u200b\u88c5\u9970\u200b\u7684\u200b\u51fd\u6570\u200b\u4f1a\u200b\u6210\u4e3a\u200b <code>functools._lru_cache_wrapper</code> \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5b83\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li><code>f.cache_parameters()</code>\uff1a\u200b\u7f13\u5b58\u200b\u53c2\u6570\u200b\u3002</li> <li><code>f.cache_info()</code>\uff1a\u200b\u5f53\u524d\u200b\u7f13\u5b58\u200b\u60c5\u51b5\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b <code>namedtuple</code>\uff0c\u200b\u5305\u542b\u200b\u7f13\u5b58\u200b\u4f7f\u7528\u200b\u3001\u200b\u672a\u200b\u4f7f\u7528\u200b\u3001\u200b\u957f\u5ea6\u200b\u3001\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\uff0c\u200b\u5982\u200b <code>CacheInfo(hits=2, misses=1, maxsize=128, currsize=1)</code>\u3002</li> <li><code>f.cache_clear()</code>\uff1a\u200b\u6e05\u9664\u200b\u7f13\u5b58\u200b\u3002</li> <li><code>f.__wrapped__()</code>\uff1a\u200b\u672a\u200b\u88ab\u200b\u88c5\u9970\u200b\u7684\u200b\u53c2\u6570\u200b\u3002</li> </ul> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u4f7f\u7528\u200b\u672a\u200b\u88ab\u200b\u88c5\u9970\u200b\u7684\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>f.__wrapped__()</code>\u3002</p>","tags":["Python"]},{"location":"blog/lru-cache/#\u7f13\u5b58\u673a\u5236","title":"\u7f13\u5b58\u200b\u673a\u5236","text":"","tags":["Python"]},{"location":"blog/lru-cache/#\u7f13\u5b58\u903b\u8f91","title":"\u7f13\u5b58\u200b\u903b\u8f91","text":"<ul> <li> <p>LRU\uff08\u200b\u6700\u4e45\u200b\u672a\u200b\u4f7f\u7528\u200b\u7b97\u6cd5\u200b\uff09\u200b\u7f13\u5b58\u200b\u5728\u200b\u6700\u8fd1\u200b\u7684\u200b\u8c03\u7528\u200b\u662f\u200b\u5373\u5c06\u200b\u5230\u6765\u200b\u7684\u200b\u8c03\u7528\u200b\u7684\u200b\u6700\u4f73\u200b\u9884\u6d4b\u503c\u200b\u65f6\u200b\u6027\u80fd\u200b\u6700\u597d\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u65b0\u95fb\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u6700\u200b\u70ed\u95e8\u200b\u6587\u7ae0\u200b\u503e\u5411\u200b\u4e8e\u200b\u6bcf\u5929\u200b\u66f4\u6539\u200b\uff09\u3002\u200b\u7f13\u5b58\u200b\u7684\u200b\u5927\u5c0f\u200b\u9650\u5236\u200b\u53ef\u200b\u786e\u4fdd\u200b\u7f13\u5b58\u200b\u4e0d\u4f1a\u200b\u5728\u200b\u957f\u671f\u200b\u8fd0\u884c\u200b\u8fdb\u7a0b\u200b\u5982\u200b\u7f51\u7ad9\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u65e0\u200b\u9650\u5236\u200b\u5730\u200b\u589e\u957f\u200b\u3002</p> </li> <li> <p>\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0cLRU \u200b\u7f13\u5b58\u200b\u53ea\u200b\u5728\u200b\u5f53\u200b\u4f60\u200b\u60f3\u8981\u200b\u91cd\u7528\u200b\u4e4b\u524d\u200b\u8ba1\u7b97\u200b\u7684\u200b\u7ed3\u679c\u200b\u65f6\u200b\u4f7f\u7528\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u7528\u200b\u5b83\u200b\u7f13\u5b58\u200b\u5177\u6709\u200b\u526f\u4f5c\u7528\u200b\u7684\u200b\u51fd\u6570\u200b\u3001\u200b\u9700\u8981\u200b\u5728\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b\u65f6\u200b\u521b\u5efa\u200b\u4e0d\u540c\u200b\u3001\u200b\u6613\u53d8\u200b\u7684\u200b\u5bf9\u8c61\u200b\u7684\u200b\u51fd\u6570\u200b\u6216\u8005\u200b\u8bf8\u5982\u200b <code>time()</code> \u200b\u6216\u200b <code>random()</code> \u200b\u4e4b\u7c7b\u200b\u7684\u200b\u4e0d\u7eaf\u200b\u51fd\u6570\u200b\u662f\u200b\u6ca1\u6709\u200b\u610f\u4e49\u200b\u7684\u200b\u3002</p> </li> <li> <p>\u200b\u7531\u4e8e\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5b57\u5178\u200b\u5b58\u50a8\u200b\u7f13\u5b58\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8be5\u200b\u51fd\u6570\u200b\u7684\u200b\u56fa\u5b9a\u200b\u53c2\u6570\u200b\u548c\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b\u5fc5\u987b\u200b\u662f\u200b\u53ef\u200b\u54c8\u5e0c\u200b\u7684\u200b\uff0c\u200b\u9488\u5bf9\u200b\u4e8e\u200b\u5217\u8868\u200b\u7b49\u200b\u4e0d\u53ef\u200b\u54c8\u5e0c\u200b\u7684\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u200b\u4e0d\u53ef\u200b\u7528\u200b\u7684\u200b\u3002</p> </li> <li> <p>\u200b\u7f13\u5b58\u200b\u4f1a\u200b\u4fdd\u6301\u200b\u5bf9\u200b\u53c2\u6570\u200b\u7684\u200b\u5f15\u7528\u200b\u5e76\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u76f4\u5230\u200b\u5b83\u4eec\u200b\u7ed3\u675f\u200b\u751f\u547d\u671f\u200b\u9000\u51fa\u200b\u7f13\u5b58\u200b\u6216\u8005\u200b\u76f4\u5230\u200b\u7f13\u5b58\u200b\u88ab\u200b\u6e05\u7a7a\u200b\u3002</p> </li> <li> <p>\u200b\u4e0d\u540c\u200b\u6a21\u5f0f\u200b\u7684\u200b\u53c2\u6570\u200b\u53ef\u80fd\u200b\u88ab\u200b\u89c6\u4e3a\u200b\u4e0d\u540c\u200b\u4ece\u800c\u200b\u4ea7\u751f\u200b\u591a\u4e2a\u200b\u7f13\u5b58\u200b\u9879\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c<code>f(a=1, b=2)</code> \u200b\u548c\u200b <code>f(b=2, a=1)</code> \u200b\u56e0\u200b\u5176\u200b\u53c2\u6570\u200b\u987a\u5e8f\u200b\u4e0d\u540c\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u88ab\u200b\u7f13\u5b58\u200b\u4e24\u6b21\u200b\u3002</p> </li> </ul>","tags":["Python"]},{"location":"blog/lru-cache/#\u76f8\u5173\u529f\u80fd","title":"\u76f8\u5173\u200b\u529f\u80fd","text":"<p>\u200b\u5141\u8bb8\u200b <code>lru_cache</code> \u200b\u88c5\u9970\u200b\u5668\u200b\u88ab\u200b\u76f4\u63a5\u200b\u5e94\u7528\u200b\u4e8e\u200b\u4e00\u4e2a\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u8ba9\u200b <code>maxsize</code> \u200b\u4fdd\u6301\u200b\u5176\u200b\u9ed8\u8ba4\u503c\u200b 128 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u3002</p> <p>\u200b\u88ab\u200b\u5305\u88c5\u200b\u7684\u200b\u51fd\u6570\u200b\u914d\u6709\u200b\u4e00\u4e2a\u200b <code>cache_parameters()</code> \u200b\u51fd\u6570\u200b\uff0c\u200b\u8be5\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b <code>dict</code> \u200b\u7528\u6765\u200b\u663e\u793a\u200b <code>maxsize</code> \u200b\u548c\u200b <code>typed</code> \u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u8fd9\u200b\u53ea\u662f\u200b\u51fa\u4e8e\u200b\u663e\u793a\u4fe1\u606f\u200b\u7684\u200b\u76ee\u7684\u200b\uff0c\u200b\u5bf9\u200b\u7f13\u5b58\u200b\u529f\u80fd\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u5f71\u54cd\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u5e2e\u52a9\u200b\u8861\u91cf\u200b\u7f13\u5b58\u200b\u7684\u200b\u6709\u6548\u6027\u200b\u4ee5\u53ca\u200b\u8c03\u6574\u200b <code>maxsize</code> \u200b\u5f62\u53c2\u200b\uff0c\u200b\u88ab\u200b\u5305\u88c5\u200b\u7684\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5e26\u6709\u200b\u4e00\u4e2a\u200b <code>cache_info()</code> \u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b <code>named tuple</code> \u200b\u4ee5\u200b\u663e\u793a\u200b <code>hits</code>, <code>misses</code>, <code>maxsize</code> \u200b\u548c\u200b <code>currsize</code>\u3002</p> <p>\u200b\u8be5\u200b\u88c5\u9970\u200b\u5668\u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u6e05\u7406\u200b/\u200b\u4f7f\u200b\u7f13\u5b58\u200b\u5931\u6548\u200b\u7684\u200b\u51fd\u6570\u200b <code>cache_clear()</code>\u3002</p> <p>\u200b\u539f\u59cb\u200b\u7684\u200b\u672a\u7ecf\u200b\u88c5\u9970\u200b\u7684\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b <code>__wrapped__</code> \u200b\u5c5e\u6027\u200b\u8bbf\u95ee\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u68c0\u67e5\u200b\u3001\u200b\u7ed5\u8fc7\u200b\u7f13\u5b58\u200b\uff0c\u200b\u6216\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u7f13\u5b58\u200b\u518d\u6b21\u200b\u88c5\u9970\u200b\u539f\u59cb\u200b\u51fd\u6570\u200b\u3002</p>","tags":["Python"]},{"location":"blog/lru-cache/#\u6848\u4f8b","title":"\u6848\u4f8b","text":"","tags":["Python"]},{"location":"blog/lru-cache/#\u8ba1\u7b97\u5143\u97f3\u5b57\u6bcd\u6570\u91cf","title":"\u8ba1\u7b97\u200b\u5143\u97f3\u200b\u5b57\u6bcd\u200b\u6570\u91cf","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8ba1\u7b97\u200b\u82f1\u6587\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u5143\u97f3\u200b\u5b57\u6bcd\u200b\u7684\u200b\u6570\u91cf\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7531\u4e8e\u200b\u4f1a\u200b\u9891\u7387\u200b\u8c03\u7528\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8fdb\u884c\u200b\u7f13\u5b58\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4e4b\u524d\u200b\u8ba1\u7b97\u200b\u8fc7\u200b\u7684\u200b\u76f4\u63a5\u200b\u4ece\u200b\u7f13\u5b58\u200b\u8bfb\u53d6\u200b\u3002\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>from functools import lru_cache\n@lru_cache\ndef count_vowels(sentence):\nreturn sum(sentence.count(vowel) for vowel in \"AEIOUaeiou\")\ncount_vowels(\"hello\")\ncount_vowels(\"hello\")\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/lru-cache/#\u6590\u6ce2\u90a3\u5951\u6570\u5217","title":"\u6590\u6ce2\u200b\u90a3\u5951\u200b\u6570\u5217","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\u901a\u8fc7\u200b\u52a8\u6001\u200b\u89c4\u5212\u200b\u8ba1\u7b97\u200b\u6590\u6ce2\u200b\u90a3\u5951\u200b\u6570\u5217\u200b\u7684\u200b\u4f8b\u5b50\u200b\u3002</p> Python Console Session<pre><code>@lru_cache(maxsize=None)\ndef fib(n):\n    if n &lt; 2:\n        return n\n    return fib(n-1) + fib(n-2)\n&gt;&gt;&gt; [fib(n) for n in range(16)]\n[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610]\n&gt;&gt;&gt; fib.cache_info()\nCacheInfo(hits=28, misses=16, maxsize=None, currsize=16)\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/lru-cache/#\u5c5e\u6027\u65b9\u6cd5_1","title":"\u5c5e\u6027\u200b\u65b9\u6cd5","text":"<p>\u200b\u88ab\u200b\u88c5\u9970\u200b\u7684\u200b\u51fd\u6570\u200b\u4f1a\u200b\u6709\u200b\u51e0\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4ee5\u4e0a\u200b\u4f8b\u200b\u6211\u4eec\u200b\u8fdb\u884c\u200b\u67e5\u770b\u200b\uff1a</p> Python<pre><code>from functools import lru_cache\n@lru_cache\ndef count_vowels(sentence):\nreturn sum(sentence.count(vowel) for vowel in \"AEIOUaeiou\")\ncount_vowels\n# &lt;functools._lru_cache_wrapper at 0x7fdb30de8300&gt;\n# \u200b\u7f13\u5b58\u200b\u53c2\u6570\u200b\n# \u200b\u6ce8\u610f\u200b\uff1aPython 3.9 \u200b\u65b0\u7248\u200b\u529f\u80fd\u200b\uff1a\u200b\u65b0\u589e\u200b\u51fd\u6570\u200b cache_parameters()\ncount_vowels.cache_parameters()\n# {'maxsize': 128, 'typed': False}\n# \u200b\u7f13\u5b58\u200b\u4fe1\u606f\u200b\u521d\u59cb\u200b\u91cf\u200b\ncount_vowels.cache_info()\n# CacheInfo(hits=0, misses=0, maxsize=128, currsize=0)\n# \u200b\u6267\u884c\u200b 3 \u200b\u6b21\u200b\ncount_vowels(\"hello\")\n# 2\n# \u200b\u4f7f\u7528\u200b\u672a\u200b\u88ab\u200b\u5c01\u88c5\u200b\u7684\u200b\u539f\u51fd\u6570\u200b\uff08\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u7f13\u5b58\u200b\uff09\ncount_vowels.__wrapped__(\"hello\")\n# 2\n# \u200b\u7f13\u5b58\u200b\u88ab\u200b\u4f7f\u7528\u200b\u4e24\u6b21\u200b\uff0c\u200b\u4e00\u6b21\u200b\u6ca1\u7528\u200b\uff08\u200b\u7b2c\u4e00\u6b21\u200b\u6267\u884c\u200b\u65f6\u200b\uff09\uff0c\u200b\u5927\u5c0f\u200b\u4e3a\u200b 1\ncount_vowels.cache_info()\n# CacheInfo(hits=2, misses=1, maxsize=128, currsize=1)\n# \u200b\u6e05\u9664\u200b\u7f13\u5b58\u200b\ncount_vowels.cache_clear()\n# \u200b\u65e0\u200b\u8fd4\u56de\u200b None\n# \u200b\u518d\u200b\u770b\u770b\u200b\u7f13\u5b58\u200b\u60c5\u51b5\u200b\ncount_vowels.cache_info()\n# CacheInfo(hits=0, misses=0, maxsize=128, currsize=0)\n</code></pre>","tags":["Python"]},{"location":"blog/pyflyby/","title":"\u4f7f\u7528\u200b <code>pyflyby</code> \u200b\u81ea\u52a8\u200b\u7ba1\u7406\u200b\u5bfc\u5165\u200b\u5305","text":"<p>\u200b\u5728\u200b\u7f16\u5199\u200b <code>Python</code> \u200b\u4ee3\u7801\u200b\u65f6\u200b\uff0c\u200b\u5c24\u5176\u200b\u662f\u200b\u5728\u200b\u6784\u5efa\u200b\u590d\u6742\u200b\u7684\u200b\u9879\u76ee\u200b\u65f6\u200b\uff0c\u200b\u4f60\u200b\u662f\u5426\u200b\u9047\u5230\u200b\u8fc7\u200b\u8fd9\u4e9b\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li> <p>\u200b\u5fd8\u8bb0\u200b <code>import</code> \u200b\u67d0\u4e2a\u200b\u5305\u4e86\u200b\uff1b</p> </li> <li> <p><code>import</code> \u200b\u4e86\u200b\u5f88\u591a\u200b\u5305\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u77e5\u9053\u200b\u54ea\u4e9b\u200b\u662f\u200b\u53ef\u4ee5\u200b\u5220\u6389\u200b\u7684\u200b\uff1f</p> </li> </ul> <p>\u200b\u5728\u200b <code>Python</code> \u200b\u5f00\u53d1\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5bfc\u5165\u200b\u4e00\u4e9b\u200b\u7b2c\u4e09\u65b9\u200b\u5305\u200b\u6216\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6a21\u5757\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u624b\u52a8\u200b\u5bfc\u5165\u200b\u8fd9\u4e9b\u200b\u5305\u200b\u548c\u200b\u6a21\u5757\u200b\u6709\u65f6\u5019\u200b\u4f1a\u200b\u53d8\u5f97\u200b\u975e\u5e38\u200b\u7e41\u7410\u200b\u548c\u200b\u5197\u957f\u200b\u3002\u200b\u7531\u200b D. E. Shaw group \u200b\u8d21\u732e\u200b\u7684\u200b\u5f00\u6e90\u200b\u5de5\u5177\u200b <code>pyflyby</code> \u200b\u53ef\u4ee5\u200b\u81ea\u52a8\u200b\u4e3a\u200b\u6211\u4eec\u200b\u7ba1\u7406\u200b\u8fd9\u4e9b\u200b\u5bfc\u5165\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u8f7b\u677e\u200b\u89e3\u51b3\u200b\u8fd9\u4e9b\u200b\u95ee\u9898\u200b\uff01</p> <p></p>","tags":["Python"]},{"location":"blog/pyflyby/#\u5b89\u88c5-pyflyby","title":"\u5b89\u88c5\u200b <code>pyflyby</code>","text":"Bash<pre><code>pip install pyflyby\n</code></pre> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u5b89\u88c5\u200b\u8fc7\u200b <code>ipython</code>\uff0c\u200b\u90a3\u4e48\u200b\u4e5f\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u5b83\u200b\uff1a</p> Bash<pre><code>pip install ipython\n</code></pre>","tags":["Python"]},{"location":"blog/pyflyby/#\u5728-ipythonjupyter-notebook-\u4e2d\u4f7f\u7528","title":"\u5728\u200b <code>IPython/Jupyter Notebook</code> \u200b\u4e2d\u200b\u4f7f\u7528","text":"<p>\u200b\u5982\u679c\u200b\u53ea\u662f\u200b\u5bf9\u200b\u5355\u4e2a\u200b\u6587\u4ef6\u200b\u4f7f\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u8fd0\u884c\u200b\uff1a</p> Text Only<pre><code>%load_ext pyflyby\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5bf9\u200b\u4eca\u540e\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u4f7f\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8f93\u5165\u200b\u4e0b\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\uff1a</p> Bash<pre><code>py pyflyby.install_in_ipython_config_file\n</code></pre>","tags":["Python"]},{"location":"blog/pyflyby/#autoimporter--ipython","title":"<code>Autoimporter + IPython</code>","text":"<p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4f9d\u8d56\u4e8e\u200b <code>numpy</code>\u3001<code>matplotlib</code> \u200b\u548c\u200b <code>scipy</code>\uff0c\u200b\u6211\u4eec\u200b\u5728\u200b\u6ca1\u6709\u200b\u5bfc\u5165\u200b\u4efb\u4f55\u200b\u4f9d\u8d56\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u8fd0\u884c\u200b\u5b83\u200b\uff1a</p> Python<pre><code>plot(scipy.stats.norm.pdf(linspace(-5, 5), 0, 1))\n</code></pre> <p></p> <p><code>pyflyby</code> \u200b\u81ea\u52a8\u200b\u4e3a\u200b\u6211\u4eec\u200b\u68c0\u67e5\u200b\u51fa\u200b\u4e86\u200b\u9700\u8981\u200b\u5bfc\u5165\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u5e76\u200b\u5e2e\u200b\u6211\u4eec\u200b\u5bfc\u5165\u200b\uff0c\u200b\u7136\u540e\u200b\u6210\u529f\u200b\u8fd0\u884c\u200b\u4e86\u200b\u4ee3\u7801\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7ea2\u6846\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u590d\u5236\u5230\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\uff08\u200b\u8bb0\u5f97\u200b\u628a\u200b <code>[PYFLYBY]</code> \u200b\u5220\u53bb\u200b\uff09\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8865\u5145\u200b\u5bfc\u5165\u200b\u5305\u200b\u7684\u200b\u4f9d\u8d56\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u4f7f\u7528\u200b JupyterLab\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u914d\u5408\u200b jupyterlab-pyflyby \u200b\u81ea\u52a8\u200b\u5728\u200b\u7b2c\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\u63d2\u5165\u200b\u5e94\u8be5\u200b\u8865\u5168\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002\u200b\u7531\u4e8e\u200b\u6211\u200b\u4e0d\u200b\u4f7f\u7528\u200b JupyterLab\uff0c\u200b\u56e0\u6b64\u200b\u6211\u200b\u6ca1\u6709\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\u3002\u200b\u4e0b\u9762\u200b\u7684\u200b\u52a8\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u4f7f\u7528\u200b\u6548\u679c\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/pyflyby/#tidy-imports","title":"<code>tidy-imports</code>","text":"<p>\u200b\u5bf9\u4e8e\u200b <code>.py</code> \u200b\u811a\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u884c\u200b\uff1a</p> Bash<pre><code>tidy-imports test.py\n</code></pre> <p></p> <p><code>pyflyby</code> \u200b\u4f1a\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u663e\u793a\u200b\u5e94\u8be5\u200b\u8865\u5145\u200b\u7684\u200b\u5bfc\u5165\u200b\u8bed\u53e5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8f93\u5165\u200b <code>y</code> \u200b\u6216\u200b <code>N</code> \u200b\u6765\u200b\u9009\u62e9\u200b\u662f\u5426\u200b\u5bf9\u200b\u6e90\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\u3002\u200b\u5982\u679c\u200b\u9009\u62e9\u200b <code>y</code>\uff0c\u200b\u5219\u200b <code>pyflyby</code> \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u4e3a\u200b\u6211\u4eec\u200b\u5728\u200b\u6e90\u4ee3\u7801\u200b\u4e2d\u200b\u8865\u5145\u200b\u5bfc\u5165\u200b\u8bed\u53e5\u200b\u3002</p> <p><code>pyflyby</code> \u200b\u5e76\u200b\u4e0d\u80fd\u200b\u5b8c\u5168\u200b\u51c6\u786e\u200b\u8bc6\u522b\u200b\u5e94\u8be5\u200b\u5bfc\u5165\u200b\u7684\u200b\u5305\u200b</p> <p>\u200b\u67d0\u4e9b\u200b\u5bfc\u5165\u200b\u7684\u200b\u5305\u200b\u5e76\u200b\u4e0d\u200b\u5e38\u89c1\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u6b63\u786e\u200b\u8bc6\u522b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u518d\u200b\u624b\u52a8\u200b\u5bfc\u5165\u200b\u3002\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u5e94\u8be5\u200b\u662f\u200b\u51fa\u73b0\u200b\u5728\u200b\u4e00\u4e9b\u200b\u5c0f\u200b\u4f17\u200b\u3001\u200b\u4e0d\u200b\u5e38\u7528\u200b\u7684\u200b\u5305\u4e0a\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u5e38\u7528\u200b\u7684\u200b <code>pd</code>\u3001<code>np</code> \u200b\u7b49\u200b\u6570\u636e\u5206\u6790\u200b\u5305\u200b\uff0c\u200b\u5e94\u8be5\u200b\u90fd\u200b\u662f\u200b\u652f\u6301\u200b\u7684\u200b\u3002\u200b\u6bd5\u7adf\u200b D. E. Shaw \u200b\u4e5f\u200b\u662f\u200b\u9876\u5c16\u200b\u91cf\u5316\u200b\u5bf9\u51b2\u200b\u57fa\u91d1\u200b\uff0c\u200b\u60f3\u5fc5\u200b\u4e5f\u200b\u7ecf\u5e38\u200b\u4f7f\u7528\u200b\u6570\u636e\u5206\u6790\u200b\u548c\u200b\u79d1\u5b66\u8ba1\u7b97\u200b\u5de5\u5177\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/","title":"\u8ba1\u7b97\u673a\u6559\u80b2\u200b\u4e2d\u200b\u7f3a\u5931\u200b\u7684\u200b\u4e00\u8bfe\u200b\uff1aShell \u200b\u5de5\u5177\u200b\u548c\u200b\u811a\u672c","text":"<p>\u200b\u5728\u200b\u8fd9\u8282\u200b\u8bfe\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u4f1a\u200b\u5c55\u793a\u200b Bash \u200b\u4f5c\u4e3a\u200b\u811a\u672c\u8bed\u8a00\u200b\u7684\u200b\u4e00\u4e9b\u200b\u57fa\u7840\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u51e0\u79cd\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b Shell \u200b\u5de5\u5177\u200b\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#shell-\u811a\u672c","title":"Shell \u200b\u811a\u672c","text":"<p>\u200b\u5230\u200b\u76ee\u524d\u4e3a\u6b62\u200b\uff0c\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u5b66\u4e60\u200b\u6765\u200b\u5982\u4f55\u200b\u5728\u200b Shell \u200b\u4e2d\u200b\u6267\u884c\u547d\u4ee4\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b\u7ba1\u9053\u200b\u5c06\u200b\u547d\u4ee4\u200b\u7ec4\u5408\u200b\u4f7f\u7528\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5f88\u591a\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u4e00\u7cfb\u5217\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5e76\u200b\u4f7f\u7528\u200b\u6761\u4ef6\u200b\u6216\u200b\u5faa\u73af\u200b\u8fd9\u6837\u200b\u7684\u200b\u63a7\u5236\u6d41\u200b\u3002</p> <p>Shell \u200b\u811a\u672c\u200b\u662f\u200b\u4e00\u79cd\u200b\u66f4\u52a0\u200b\u590d\u6742\u5ea6\u200b\u7684\u200b\u5de5\u5177\u200b\u3002</p> <p>\u200b\u5927\u591a\u6570\u200b Shell \u200b\u90fd\u200b\u6709\u200b\u81ea\u5df1\u200b\u7684\u200b\u4e00\u5957\u200b\u811a\u672c\u8bed\u8a00\u200b\uff0c\u200b\u5305\u62ec\u200b\u53d8\u91cf\u200b\u3001\u200b\u63a7\u5236\u6d41\u200b\u548c\u200b\u81ea\u5df1\u200b\u7684\u200b\u8bed\u6cd5\u200b\u3002Shell \u200b\u811a\u672c\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u811a\u672c\u8bed\u8a00\u200b\u4e0d\u540c\u4e4b\u5904\u200b\u5728\u4e8e\u200b\uff0cShell \u200b\u811a\u672c\u200b\u9488\u5bf9\u200b Shell \u200b\u6240\u200b\u4ece\u4e8b\u200b\u7684\u200b\u76f8\u5173\u200b\u5de5\u4f5c\u200b\u8fdb\u884c\u200b\u6765\u200b\u4f18\u5316\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u521b\u5efa\u200b\u547d\u4ee4\u200b\u6d41\u7a0b\u200b\uff08pipelines\uff09\u3001\u200b\u5c06\u200b\u7ed3\u679c\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6587\u4ef6\u200b\u3001\u200b\u4ece\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u8f93\u5165\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u90fd\u200b\u662f\u200b Shell \u200b\u811a\u672c\u200b\u4e2d\u200b\u7684\u200b\u539f\u751f\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fd9\u200b\u8ba9\u200b\u5b83\u200b\u6bd4\u200b\u901a\u7528\u200b\u7684\u200b\u811a\u672c\u8bed\u8a00\u200b\u66f4\u200b\u6613\u7528\u200b\u3002\u200b\u672c\u8282\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u200b\u4e13\u6ce8\u200b\u4e8e\u200b Bash \u200b\u811a\u672c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u6700\u200b\u6d41\u884c\u200b\uff0c\u200b\u5e94\u7528\u200b\u66f4\u4e3a\u200b\u5e7f\u6cdb\u200b\u3002</p> <p>\u200b\u5728\u200b Bash \u200b\u4e2d\u4e3a\u200b\u53d8\u91cf\u200b\u8d4b\u503c\u200b\u7684\u200b\u8bed\u6cd5\u200b\u662f\u200b<code>foo=bar</code>\uff0c\u200b\u8bbf\u95ee\u200b\u53d8\u91cf\u200b\u4e2d\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u503c\u200b\uff0c\u200b\u5176\u200b\u8bed\u6cd5\u200b\u4e3a\u200b <code>$foo</code>\u3002 \u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c<code>foo = bar</code> \uff08\u200b\u4f7f\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff09\u200b\u662f\u200b\u4e0d\u80fd\u200b\u6b63\u786e\u200b\u5de5\u4f5c\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u8c03\u7528\u200b\u7a0b\u5e8f\u200b<code>foo</code> \u200b\u5e76\u200b\u5c06\u200b <code>=</code> \u200b\u548c\u200b <code>bar</code>\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u3002 \u200b\u603b\u7684\u6765\u8bf4\u200b\uff0c\u200b\u5728\u200b Shell \u200b\u811a\u672c\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7a7a\u683c\u200b\u4f1a\u200b\u8d77\u5230\u200b\u5206\u5272\u200b\u53c2\u6570\u200b\u7684\u200b\u4f5c\u7528\u200b \uff0c\u200b\u6709\u65f6\u5019\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9020\u6210\u200b\u6df7\u6dc6\u200b\uff0c\u200b\u8bf7\u200b\u52a1\u5fc5\u200b\u591a\u52a0\u200b\u68c0\u67e5\u200b\u3002</p> <p>Bash \u200b\u4e2d\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u901a\u8fc7\u200b<code>'</code> \u200b\u548c\u200b <code>\"</code>\u200b\u5206\u9694\u7b26\u200b\u6765\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u4eec\u200b\u7684\u200b\u542b\u4e49\u200b\u5e76\u4e0d\u76f8\u540c\u200b\u3002\u200b\u4ee5\u200b<code>'</code>\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u4e3a\u200b\u539f\u4e49\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u53d8\u91cf\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u8f6c\u4e49\u200b\uff0c\u200b\u800c\u200b <code>\"</code>\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u4f1a\u200b\u5c06\u200b\u53d8\u91cf\u503c\u200b\u8fdb\u884c\u200b\u66ff\u6362\u200b\u3002</p> Bash<pre><code>foo=bar\necho \"$foo\"\n# \u200b\u6253\u5370\u200b bar\necho '$foo'\n# \u200b\u6253\u5370\u200b $foo\n</code></pre> <p>\u200b\u548c\u200b\u5176\u4ed6\u200b\u5927\u591a\u6570\u200b\u7684\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e00\u6837\u200b\uff0c<code>Bash</code>\u200b\u4e5f\u200b\u652f\u6301\u200b<code>if</code>, <code>case</code>, <code>while</code> \u200b\u548c\u200b <code>for</code> \u200b\u8fd9\u4e9b\u200b\u63a7\u5236\u6d41\u200b\u5173\u952e\u5b57\u200b\u3002\u200b\u540c\u6837\u200b\u5730\u200b\uff0c<code>Bash</code> \u200b\u4e5f\u200b\u652f\u6301\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u53c2\u6570\u200b\u5e76\u200b\u57fa\u4e8e\u200b\u53c2\u6570\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u3002\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u5e76\u200b\u4f7f\u7528\u200b<code>cd</code>\u200b\u8fdb\u5165\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u3002</p> Bash<pre><code>mcd () {\nmkdir -p \"$1\"\ncd \"$1\"\n}\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b <code>$1</code> \u200b\u662f\u200b\u811a\u672c\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u3002\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u811a\u672c\u8bed\u8a00\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0cBash \u200b\u4f7f\u7528\u200b\u4e86\u200b\u5f88\u591a\u200b\u7279\u6b8a\u200b\u7684\u200b\u53d8\u91cf\u200b\u6765\u200b\u8868\u793a\u200b\u53c2\u6570\u200b\u3001\u200b\u9519\u8bef\u4ee3\u7801\u200b\u548c\u200b\u76f8\u5173\u200b\u53d8\u91cf\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u5217\u4e3e\u200b\u6765\u200b\u5176\u4e2d\u200b\u4e00\u4e9b\u200b\u53d8\u91cf\u200b\uff0c\u200b\u66f4\u200b\u5b8c\u6574\u200b\u7684\u200b\u5217\u8868\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b \u200b\u8fd9\u91cc\u200b\u3002 - <code>$0</code> - \u200b\u811a\u672c\u200b\u540d\u200b\u3002 - <code>$1</code> \u200b\u5230\u200b <code>$9</code> - \u200b\u811a\u672c\u200b\u7684\u200b\u53c2\u6570\u200b\u3002 <code>$1</code> \u200b\u662f\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u4f9d\u6b64\u7c7b\u63a8\u200b\u3002 - <code>$@</code> - \u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u3002 - <code>$#</code> - \u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b\u3002 - <code>$?</code> - \u200b\u524d\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u3002 - <code>$$</code> - \u200b\u5f53\u524d\u200b\u811a\u672c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u8bc6\u522b\u7801\u200b\u3002 - <code>!!</code> - \u200b\u5b8c\u6574\u200b\u7684\u200b\u4e0a\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5305\u62ec\u200b\u53c2\u6570\u200b\u3002\u200b\u5e38\u89c1\u200b\u5e94\u7528\u200b\uff1a\u200b\u5f53\u200b\u4f60\u200b\u56e0\u4e3a\u200b\u6743\u9650\u200b\u4e0d\u8db3\u200b\u6267\u884c\u547d\u4ee4\u200b\u5931\u8d25\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>sudo !!</code>\u200b\u518d\u200b\u5c1d\u8bd5\u200b\u4e00\u6b21\u200b\u3002 - <code>$_</code> - \u200b\u4e0a\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u6b63\u5728\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u4ea4\u4e92\u5f0f\u200b Shell\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6309\u4e0b\u200b <code>Esc</code> \u200b\u4e4b\u540e\u200b\u952e\u5165\u200b . \u200b\u6765\u200b\u83b7\u53d6\u200b\u8fd9\u4e2a\u200b\u503c\u200b\u3002</p> <p>\u200b\u547d\u4ee4\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b <code>STDOUT</code>\u200b\u6765\u200b\u8fd4\u56de\u200b\u8f93\u51fa\u200b\u503c\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>STDERR</code> \u200b\u6765\u200b\u8fd4\u56de\u200b\u9519\u8bef\u200b\u53ca\u200b\u9519\u8bef\u7801\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u811a\u672c\u200b\u4ee5\u200b\u66f4\u52a0\u200b\u53cb\u597d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u62a5\u544a\u200b\u9519\u8bef\u200b\u3002</p> <p>\u200b\u8fd4\u56de\u200b\u7801\u200b\u6216\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u662f\u200b\u811a\u672c\u200b/\u200b\u547d\u4ee4\u200b\u4e4b\u95f4\u200b\u4ea4\u6d41\u200b\u6267\u884c\u200b\u72b6\u6001\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002\u200b\u8fd4\u56de\u503c\u200b 0 \u200b\u8868\u793a\u200b\u6b63\u5e38\u200b\u6267\u884c\u200b\uff0c\u200b\u5176\u4ed6\u200b\u6240\u6709\u200b\u975e\u200b 0 \u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u90fd\u200b\u8868\u793a\u200b\u6709\u200b\u9519\u8bef\u200b\u53d1\u751f\u200b\u3002</p> <p>\u200b\u9000\u51fa\u200b\u7801\u200b\u53ef\u4ee5\u200b\u642d\u914d\u200b <code>&amp;&amp;</code>\uff08\u200b\u4e0e\u200b\u64cd\u4f5c\u7b26\u200b\uff09\u200b\u548c\u200b <code>||</code>\uff08\u200b\u6216\u200b\u64cd\u4f5c\u7b26\u200b\uff09\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7528\u6765\u200b\u8fdb\u884c\u200b\u6761\u4ef6\u200b\u5224\u65ad\u200b\uff0c\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u6267\u884c\u200b\u5176\u4ed6\u200b\u7a0b\u5e8f\u200b\u3002\u200b\u5b83\u4eec\u200b\u90fd\u200b\u5c5e\u4e8e\u200b\u77ed\u8def\u200b\u8fd0\u7b97\u7b26\u200b\uff08short-circuiting\uff09\u200b\u540c\u4e00\u200b\u884c\u200b\u7684\u200b\u591a\u4e2a\u200b\u547d\u4ee4\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>;</code>\u200b\u5206\u9694\u200b\u3002\u200b\u7a0b\u5e8f\u200b <code>true</code> \u200b\u7684\u200b\u8fd4\u56de\u200b\u7801\u200b\u6c38\u8fdc\u200b\u662f\u200b<code>0</code>\uff0c<code>false</code> \u200b\u7684\u200b\u8fd4\u56de\u200b\u7801\u200b\u6c38\u8fdc\u200b\u662f\u200b<code>1</code>\u3002\u200b\u8ba9\u200b\u6211\u4eec\u200b\u770b\u200b\u51e0\u4e2a\u200b\u4f8b\u5b50\u200b</p> Bash<pre><code>false || echo \"Oops, fail\"\n# Oops, fail\ntrue || echo \"Will not be printed\"\n#\ntrue &amp;&amp; echo \"Things went well\"\n# Things went well\nfalse &amp;&amp; echo \"Will not be printed\"\n#\nfalse ; echo \"This will always run\"\n# This will always run\n</code></pre> <p>\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5e38\u89c1\u200b\u7684\u200b\u6a21\u5f0f\u200b\u662f\u200b\u4ee5\u200b\u53d8\u91cf\u200b\u7684\u200b\u5f62\u5f0f\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b \u200b\u547d\u4ee4\u200b\u66ff\u6362\u200b\uff08command substitution\uff09\u200b\u5b9e\u73b0\u200b\u3002</p> <p>\u200b\u5f53\u200b\u60a8\u200b\u901a\u8fc7\u200b <code>$( CMD )</code> \u200b\u8fd9\u6837\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u6267\u884c\u200b<code>CMD</code> \u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4f1a\u200b\u66ff\u6362\u200b\u6389\u200b <code>$( CMD )</code> \u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u6267\u884c\u200b <code>for file in $(ls)</code> \uff0cShell \u200b\u9996\u5148\u200b\u5c06\u200b\u8c03\u7528\u200b<code>ls</code> \uff0c\u200b\u7136\u540e\u200b\u904d\u5386\u200b\u5f97\u5230\u200b\u7684\u200b\u8fd9\u4e9b\u200b\u8fd4\u56de\u503c\u200b\u3002\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u51b7\u95e8\u200b\u7684\u200b\u7c7b\u4f3c\u200b\u7279\u6027\u200b\u662f\u200b \u200b\u8fdb\u7a0b\u200b\u66ff\u6362\u200b\uff08process substitution\uff09\uff0c <code>&lt;( CMD )</code> \u200b\u4f1a\u200b\u6267\u884c\u200b <code>CMD</code> \u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u8f93\u51fa\u200b\u5230\u200b\u4e00\u4e2a\u200b \u200b\u4e34\u65f6\u6587\u4ef6\u200b \u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b <code>&lt;( CMD )</code> \u200b\u66ff\u6362\u6210\u200b\u4e34\u65f6\u200b\u6587\u4ef6\u540d\u200b\u3002\u200b\u8fd9\u200b\u5728\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u8fd4\u56de\u503c\u200b\u901a\u8fc7\u200b\u6587\u4ef6\u200b\u800c\u200b\u4e0d\u662f\u200b STDIN \u200b\u4f20\u9012\u200b\u65f6\u200b\u5f88\u200b\u6709\u7528\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c <code>diff &lt;(ls foo) &lt;(ls bar)</code> \u200b\u4f1a\u200b\u663e\u793a\u200b\u6587\u4ef6\u5939\u200b <code>foo</code> \u200b\u548c\u200b <code>bar</code> \u200b\u4e2d\u200b\u6587\u4ef6\u200b\u7684\u200b\u533a\u522b\u200b\u3002</p> <p>\u200b\u8bf4\u200b\u4e86\u200b\u5f88\u591a\u200b\uff0c\u200b\u73b0\u5728\u200b\u8be5\u200b\u770b\u200b\u4f8b\u5b50\u200b\u4e86\u200b\uff0c\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u5c55\u793a\u200b\u4e86\u200b\u4e00\u90e8\u5206\u200b\u4e0a\u9762\u200b\u63d0\u5230\u200b\u7684\u200b\u7279\u6027\u200b\u3002\u200b\u8fd9\u200b\u6bb5\u200b\u811a\u672c\u200b\u4f1a\u200b\u904d\u5386\u200b\u6211\u4eec\u200b\u63d0\u4f9b\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>grep</code> \u200b\u641c\u7d22\u200b\u5b57\u7b26\u4e32\u200b <code>foobar</code>\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u627e\u5230\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u5176\u200b\u4f5c\u4e3a\u200b\u6ce8\u91ca\u200b\u8ffd\u52a0\u200b\u5230\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u3002</p> Bash<pre><code>#!/bin/Bash\necho \"Starting program at $(date)\" # date\u200b\u4f1a\u200b\u88ab\u200b\u66ff\u6362\u6210\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\necho \"Running program $0 with $# arguments with pid $$\"\nfor file in \"$@\"; do\ngrep foobar \"$file\" &gt; /dev/null 2&gt; /dev/null\n    # \u200b\u5982\u679c\u200b\u6a21\u5f0f\u200b\u6ca1\u6709\u200b\u627e\u5230\u200b\uff0c\u200b\u5219\u200bgrep\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u4e3a\u200b 1\n# \u200b\u6211\u4eec\u200b\u5c06\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u6d41\u200b\u548c\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b\u6d41\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200bNull\uff0c\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u5e76\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b\nif [[ $? -ne 0 ]]; then\necho \"File $file does not have any foobar, adding one\"\necho \"# foobar\" &gt;&gt; \"$file\"\nfi\ndone\n</code></pre> <p>\u200b\u5728\u200b\u6761\u4ef6\u200b\u8bed\u53e5\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6bd4\u8f83\u200b <code>$?</code> \u200b\u662f\u5426\u200b\u7b49\u4e8e\u200b 0\u3002</p> <p>Bash \u200b\u5b9e\u73b0\u200b\u4e86\u200b\u8bb8\u591a\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u6bd4\u8f83\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b <code>test \u200b\u624b\u518c\u200b</code>\u3002</p> <p>\u200b\u5728\u200b Bash \u200b\u4e2d\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u65f6\u200b\uff0c\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u53cc\u65b9\u200b\u62ec\u53f7\u200b <code>[[ ]]</code> \u200b\u800c\u200b\u4e0d\u662f\u200b\u5355\u200b\u65b9\u62ec\u53f7\u200b <code>[ ]</code>\uff0c\u200b\u8fd9\u6837\u200b\u4f1a\u200b\u964d\u4f4e\u200b\u72af\u9519\u200b\u7684\u200b\u51e0\u7387\u200b\uff0c\u200b\u5c3d\u7ba1\u200b\u8fd9\u6837\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u517c\u5bb9\u200b <code>sh</code>\u3002\u200b\u66f4\u200b\u8be6\u7ec6\u200b\u7684\u200b\u8bf4\u660e\u200b\u53c2\u89c1\u200b\u8fd9\u91cc\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6267\u884c\u200b\u811a\u672c\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u63d0\u4f9b\u200b\u5f62\u5f0f\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u53c2\u6570\u200b\u3002Bash \u200b\u4f7f\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u7684\u200b\u5b9e\u73b0\u200b\u8fd9\u4e00\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u57fa\u4e8e\u200b\u6587\u4ef6\u200b\u6269\u5c55\u540d\u200b\u5c55\u5f00\u200b\u8868\u8fbe\u5f0f\u200b\u3002\u200b\u8fd9\u4e00\u200b\u6280\u672f\u200b\u88ab\u200b\u79f0\u4e3a\u200b Shell \u200b\u7684\u200b \u200b\u901a\u914d\u200b\uff08globbing\uff09</p> <ul> <li>\u200b\u901a\u914d\u7b26\u200b - \u200b\u5f53\u200b\u4f60\u200b\u60f3\u8981\u200b\u5229\u7528\u200b\u901a\u914d\u7b26\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b\u65f6\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5206\u522b\u200b\u4f7f\u7528\u200b <code>?</code> \u200b\u548c\u200b <code>*</code> \u200b\u6765\u200b\u5339\u914d\u200b\u4e00\u4e2a\u200b\u6216\u200b\u4efb\u610f\u200b\u4e2a\u5b57\u7b26\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6587\u4ef6\u200b<code>foo</code>, <code>foo1</code>, <code>foo2</code>, <code>foo10</code> \u200b\u548c\u200b <code>bar</code>, <code>rm foo?</code>\u200b\u8fd9\u200b\u6761\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u5220\u9664\u200b<code>foo1</code> \u200b\u548c\u200b <code>foo2</code> \uff0c\u200b\u800c\u200b<code>rm foo*</code> \u200b\u5219\u200b\u4f1a\u200b\u5220\u9664\u200b\u9664\u4e86\u200b<code>bar</code>\u200b\u4e4b\u5916\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u3002</li> <li>\u200b\u82b1\u200b\u62ec\u53f7\u200b<code>{}</code> - \u200b\u5f53\u200b\u4f60\u200b\u6709\u200b\u4e00\u7cfb\u5217\u200b\u7684\u200b\u6307\u4ee4\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u4e00\u6bb5\u200b\u516c\u5171\u200b\u5b50\u4e32\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u82b1\u200b\u62ec\u53f7\u200b\u6765\u200b\u81ea\u52a8\u200b\u5c55\u5f00\u200b\u8fd9\u4e9b\u200b\u547d\u4ee4\u200b\u3002\u200b\u8fd9\u200b\u5728\u200b\u6279\u91cf\u200b\u79fb\u52a8\u200b\u6216\u200b\u8f6c\u6362\u200b\u6587\u4ef6\u200b\u65f6\u200b\u975e\u5e38\u200b\u65b9\u4fbf\u200b\u3002</li> </ul> Bash<pre><code>convert image.{png,jpg}\n# \u200b\u4f1a\u200b\u5c55\u5f00\u200b\u4e3a\u200b\nconvert image.png image.jpg\n\ncp /path/to/project/{foo,bar,baz}.sh /newpath\n# \u200b\u4f1a\u200b\u5c55\u5f00\u200b\u4e3a\u200b\ncp /path/to/project/foo.sh /path/to/project/bar.sh /path/to/project/baz.sh /newpath\n\n# \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7ed3\u5408\u200b\u901a\u914d\u200b\u4f7f\u7528\u200b\nmv *{.py,.sh} folder\n# \u200b\u4f1a\u200b\u79fb\u52a8\u200b\u6240\u6709\u200b *.py \u200b\u548c\u200b *.sh \u200b\u6587\u4ef6\u200b\nmkdir foo bar\n\n# \u200b\u4e0b\u9762\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u521b\u5efa\u200bfoo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\ntouch {foo,bar}/{a..h}\ntouch foo/x bar/y\n# \u200b\u6bd4\u8f83\u200b\u6587\u4ef6\u5939\u200b foo \u200b\u548c\u200b bar \u200b\u4e2d\u200b\u5305\u542b\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e0d\u540c\u200b\ndiff &lt;(ls foo) &lt;(ls bar)\n# \u200b\u8f93\u51fa\u200b\n# &lt; x\n# ---\n# &gt; y\n</code></pre> <p>\u200b\u7f16\u5199\u200b Bash \u200b\u811a\u672c\u200b\u6709\u65f6\u5019\u200b\u4f1a\u200b\u5f88\u200b\u522b\u626d\u200b\u548c\u200b\u53cd\u200b\u76f4\u89c9\u200b\u3002\u200b\u4f8b\u5982\u200b Shellcheck \u200b\u8fd9\u6837\u200b\u7684\u200b\u5de5\u5177\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u4f60\u200b\u5b9a\u4f4d\u200b sh/Bash \u200b\u811a\u672c\u200b\u4e2d\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u811a\u672c\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u53ea\u6709\u200b\u7528\u200b Bash \u200b\u5199\u200b\u624d\u80fd\u200b\u5728\u200b\u7ec8\u7aef\u200b\u91cc\u200b\u8c03\u7528\u200b\u3002\u200b\u6bd4\u5982\u8bf4\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u6bb5\u200b Python \u200b\u811a\u672c\u200b\uff0c\u200b\u4f5c\u7528\u200b\u662f\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u5012\u5e8f\u200b\u8f93\u51fa\u200b\uff1a</p> Python<pre><code>#!/usr/local/bin/python\nimport sys\nfor arg in reversed(sys.argv[1:]):\nprint(arg)\n</code></pre> <p>\u200b\u5185\u6838\u200b\u77e5\u9053\u200b\u53bb\u200b\u7528\u200b python \u200b\u89e3\u91ca\u5668\u200b\u800c\u200b\u4e0d\u662f\u200b Shell \u200b\u547d\u4ee4\u200b\u6765\u200b\u8fd0\u884c\u200b\u8fd9\u200b\u6bb5\u200b\u811a\u672c\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u811a\u672c\u200b\u7684\u200b\u5f00\u5934\u200b\u7b2c\u4e00\u884c\u200b\u7684\u200b shebang\u3002</p> <p>\u200b\u5728\u200b <code>shebang</code> \u200b\u884c\u4e2d\u200b\u4f7f\u7528\u200b <code>env</code> \u200b\u547d\u4ee4\u200b\u662f\u200b\u4e00\u79cd\u200b\u597d\u200b\u7684\u200b\u5b9e\u8df5\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5229\u7528\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u6765\u200b\u89e3\u6790\u200b\u8be5\u200b\u811a\u672c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u63d0\u9ad8\u200b\u6765\u200b\u60a8\u200b\u7684\u200b\u811a\u672c\u200b\u7684\u200b\u53ef\u79fb\u690d\u6027\u200b\u3002<code>env</code> \u200b\u4f1a\u200b\u5229\u7528\u200b\u6211\u4eec\u200b\u7b2c\u4e00\u8282\u200b\u8bb2\u5ea7\u200b\u4e2d\u200b\u4ecb\u7ecd\u200b\u8fc7\u200b\u7684\u200b<code>PATH</code> \u200b\u73af\u5883\u53d8\u91cf\u200b\u6765\u200b\u8fdb\u884c\u200b\u5b9a\u4f4d\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e86\u200b<code>env</code>\u200b\u7684\u200b shebang \u200b\u770b\u4e0a\u53bb\u200b\u662f\u200b\u8fd9\u6837\u200b\u7684\u200b<code>#!/usr/bin/env python</code>\u3002</p> <p>Shell \u200b\u51fd\u6570\u200b\u548c\u200b\u811a\u672c\u200b\u6709\u200b\u5982\u4e0b\u200b\u4e00\u4e9b\u200b\u4e0d\u540c\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u51fd\u6570\u200b\u53ea\u80fd\u200b\u4e0e\u200b Shell \u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u8bed\u8a00\u200b\uff0c\u200b\u811a\u672c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4efb\u610f\u200b\u8bed\u8a00\u200b\u3002\u200b\u56e0\u6b64\u200b\u5728\u200b\u811a\u672c\u200b\u4e2d\u200b\u5305\u542b\u200b <code>shebang</code> \u200b\u662f\u200b\u5f88\u200b\u91cd\u8981\u200b\u7684\u200b\u3002</li> <li>\u200b\u51fd\u6570\u200b\u4ec5\u200b\u5728\u200b\u5b9a\u4e49\u200b\u65f6\u200b\u88ab\u200b\u52a0\u8f7d\u200b\uff0c\u200b\u811a\u672c\u200b\u4f1a\u200b\u5728\u200b\u6bcf\u6b21\u200b\u88ab\u200b\u6267\u884c\u200b\u65f6\u200b\u52a0\u8f7d\u200b\u3002\u200b\u8fd9\u200b\u8ba9\u200b\u51fd\u6570\u200b\u7684\u200b\u52a0\u8f7d\u200b\u6bd4\u200b\u811a\u672c\u200b\u7565\u200b\u5feb\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u4f46\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u51fd\u6570\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u90fd\u200b\u8981\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u4e00\u6b21\u200b\u3002</li> <li>\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5728\u200b\u5f53\u524d\u200b\u7684\u200b Shell \u200b\u73af\u5883\u200b\u4e2d\u200b\u6267\u884c\u200b\uff0c\u200b\u811a\u672c\u200b\u4f1a\u200b\u5728\u200b\u5355\u72ec\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u6267\u884c\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u73af\u5883\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u66f4\u6539\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6539\u53d8\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff0c\u200b\u811a\u672c\u200b\u5219\u200b\u4e0d\u884c\u200b\u3002\u200b\u811a\u672c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b <code>export</code> \u200b\u5c06\u200b\u73af\u5883\u53d8\u91cf\u200b\u5bfc\u51fa\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u503c\u200b\u4f20\u9012\u200b\u7ed9\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002</li> <li>\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u7a0b\u5e8f\u8bed\u8a00\u200b\u4e00\u6837\u200b\uff0c\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u4ee3\u7801\u200b\u6a21\u5757\u6027\u200b\u3001\u200b\u4ee3\u7801\u200b\u590d\u7528\u200b\u6027\u200b\u5e76\u200b\u521b\u5efa\u200b\u6e05\u6670\u6027\u200b\u7684\u200b\u7ed3\u6784\u200b\u3002Shell \u200b\u811a\u672c\u200b\u4e2d\u200b\u5f80\u5f80\u200b\u4e5f\u200b\u4f1a\u200b\u5305\u542b\u200b\u5b83\u4eec\u200b\u81ea\u5df1\u200b\u7684\u200b\u51fd\u6570\u200b\u5b9a\u4e49\u200b\u3002</li> </ul>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#shell-\u5de5\u5177","title":"Shell \u200b\u5de5\u5177","text":"","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#\u67e5\u770b\u547d\u4ee4\u5982\u4f55\u4f7f\u7528","title":"\u67e5\u770b\u200b\u547d\u4ee4\u200b\u5982\u4f55\u200b\u4f7f\u7528","text":"<p>\u200b\u770b\u5230\u200b\u8fd9\u91cc\u200b\uff0c\u200b\u60a8\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u7591\u95ee\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e94\u8be5\u200b\u5982\u4f55\u200b\u4e3a\u200b\u7279\u5b9a\u200b\u7684\u200b\u547d\u4ee4\u200b\u627e\u5230\u200b\u5408\u9002\u200b\u7684\u200b\u6807\u8bb0\u200b\u5462\u200b\uff1f\u200b\u4f8b\u5982\u200b <code>ls -l</code>, <code>mv -i</code> \u200b\u548c\u200b <code>mkdir -p</code>\u3002\u200b\u66f4\u200b\u666e\u904d\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u7ed9\u200b\u60a8\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u884c\u200b\uff0c\u200b\u60a8\u200b\u5e94\u8be5\u200b\u600e\u6837\u200b\u4e86\u89e3\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u5e76\u200b\u627e\u51fa\u200b\u5b83\u200b\u7684\u200b\u4e0d\u540c\u200b\u7684\u200b\u9009\u9879\u200b\u5462\u200b\uff1f</p> <p>\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0c\u200b\u60a8\u200b\u53ef\u80fd\u200b\u4f1a\u5148\u200b\u53bb\u200b\u7f51\u4e0a\u200b\u641c\u7d22\u200b\u7b54\u6848\u200b\uff0c\u200b\u4f46\u662f\u200b\uff0cUNIX \u200b\u53ef\u6bd4\u200b StackOverflow \u200b\u51fa\u73b0\u200b\u7684\u200b\u65e9\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u7684\u200b\u7cfb\u7edf\u200b\u91cc\u200b\u5176\u5b9e\u200b\u65e9\u5c31\u200b\u5305\u542b\u200b\u4e86\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u5728\u200b\u4e0a\u200b\u4e00\u8282\u200b\u4e2d\u200b\u6211\u4eec\u200b\u4ecb\u7ecd\u200b\u8fc7\u200b\uff0c\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u4e3a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u6dfb\u52a0\u200b<code>-h</code> \u200b\u6216\u200b <code>--help</code> \u200b\u6807\u8bb0\u200b\u3002\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u66f4\u200b\u8be6\u7ec6\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5219\u200b\u662f\u200b\u4f7f\u7528\u200b<code>man</code> \u200b\u547d\u4ee4\u200b\u3002<code>man</code> \u200b\u547d\u4ee4\u200b\u662f\u200b\u624b\u518c\u200b\uff08manual\uff09\u200b\u7684\u200b\u7f29\u5199\u200b\uff0c\u200b\u5b83\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u547d\u4ee4\u200b\u7684\u200b\u7528\u6237\u624b\u518c\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c<code>man rm</code> \u200b\u4f1a\u200b\u8f93\u51fa\u200b\u547d\u4ee4\u200b <code>rm</code> \u200b\u7684\u200b\u8bf4\u660e\u200b\uff0c\u200b\u540c\u65f6\u200b\u8fd8\u6709\u200b\u5176\u200b\u6807\u8bb0\u200b\u5217\u8868\u200b\uff0c\u200b\u5305\u62ec\u200b\u4e4b\u524d\u200b\u6211\u4eec\u200b\u4ecb\u7ecd\u200b\u8fc7\u200b\u7684\u200b<code>-i</code>\u3002 \u200b\u4e8b\u5b9e\u4e0a\u200b\uff0c\u200b\u76ee\u524d\u200b\u6211\u4eec\u200b\u7ed9\u51fa\u200b\u7684\u200b\u6240\u6709\u200b\u547d\u4ee4\u200b\u7684\u200b\u8bf4\u660e\u200b\u94fe\u63a5\u200b\uff0c\u200b\u90fd\u200b\u662f\u200b\u7f51\u9875\u200b\u7248\u200b\u7684\u200b Linux \u200b\u547d\u4ee4\u200b\u624b\u518c\u200b\u3002\u200b\u5373\u4f7f\u200b\u662f\u200b\u60a8\u200b\u5b89\u88c5\u200b\u7684\u200b\u7b2c\u4e09\u65b9\u200b\u547d\u4ee4\u200b\uff0c\u200b\u524d\u63d0\u200b\u662f\u200b\u5f00\u53d1\u8005\u200b\u7f16\u5199\u200b\u4e86\u200b\u624b\u518c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u5305\u542b\u200b\u5728\u200b\u4e86\u200b\u5b89\u88c5\u5305\u200b\u4e2d\u200b\u3002\u200b\u5728\u200b\u4ea4\u4e92\u5f0f\u200b\u7684\u200b\u3001\u200b\u57fa\u4e8e\u200b\u5b57\u7b26\u200b\u5904\u7406\u200b\u7684\u200b\u7ec8\u7aef\u200b\u7a97\u53e3\u200b\u4e2d\u200b\uff0c\u200b\u4e00\u822c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b <code>:help</code> \u200b\u547d\u4ee4\u200b\u6216\u200b\u952e\u5165\u200b <code>?</code> \u200b\u6765\u200b\u83b7\u53d6\u200b\u5e2e\u52a9\u200b\u3002</p> <p>\u200b\u6709\u65f6\u5019\u200b\u624b\u518c\u200b\u5185\u5bb9\u200b\u592a\u8fc7\u200b\u8be6\u5b9e\u200b\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u96be\u4ee5\u200b\u5728\u200b\u5176\u4e2d\u200b\u67e5\u627e\u200b\u54ea\u4e9b\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u6807\u8bb0\u200b\u548c\u200b\u8bed\u6cd5\u200b\u3002 TLDR pages \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u4e0d\u9519\u200b\u7684\u200b\u66ff\u4ee3\u54c1\u200b\uff0c\u200b\u5b83\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u6848\u4f8b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u60a8\u200b\u5feb\u901f\u200b\u627e\u5230\u200b\u6b63\u786e\u200b\u7684\u200b\u9009\u9879\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#\u67e5\u627e\u6587\u4ef6","title":"\u67e5\u627e\u6587\u4ef6","text":"<p>\u200b\u7a0b\u5e8f\u5458\u200b\u4eec\u200b\u9762\u5bf9\u200b\u7684\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u91cd\u590d\u200b\u4efb\u52a1\u200b\u5c31\u662f\u200b\u67e5\u627e\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u3002\u200b\u6240\u6709\u200b\u7684\u200b\u7c7b\u200b UNIX \u200b\u7cfb\u7edf\u200b\u90fd\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>find</code> \u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b Shell \u200b\u4e0a\u200b\u7528\u4e8e\u200b\u67e5\u627e\u6587\u4ef6\u200b\u7684\u200b\u7edd\u4f73\u200b\u5de5\u5177\u200b\u3002<code>find</code>\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u9012\u5f52\u200b\u5730\u200b\u641c\u7d22\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <p>Bash<pre><code># \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u540d\u79f0\u200b\u4e3a\u200bsrc\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\nfind . -name src -type d\n# \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\u4e2d\u200b\u5305\u542b\u200btest\u200b\u7684\u200bpython\u200b\u6587\u4ef6\u200b\nfind . -path '*/test/*.py' -type f\n# \u200b\u67e5\u627e\u200b\u524d\u4e00\u5929\u200b\u4fee\u6539\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\nfind . -mtime -1\n# \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u5927\u5c0f\u200b\u5728\u200b500k\u200b\u81f3\u200b10M\u200b\u7684\u200btar.gz\u200b\u6587\u4ef6\u200b\nfind . -size +500k -size -10M -name '*.tar.gz'\n</code></pre> \u200b\u9664\u4e86\u200b\u5217\u51fa\u200b\u6240\u200b\u5bfb\u627e\u200b\u7684\u200b\u6587\u4ef6\u200b\u4e4b\u5916\u200b\uff0cfind \u200b\u8fd8\u200b\u80fd\u200b\u5bf9\u200b\u6240\u6709\u200b\u67e5\u627e\u200b\u5230\u200b\u7684\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u3002\u200b\u8fd9\u80fd\u200b\u6781\u5927\u200b\u5730\u200b\u7b80\u5316\u200b\u4e00\u4e9b\u200b\u5355\u8c03\u200b\u7684\u200b\u4efb\u52a1\u200b\u3002</p> Bash<pre><code># \u200b\u5220\u9664\u200b\u5168\u90e8\u200b\u6269\u5c55\u200b\u540d\u4e3a\u200b.tmp \u200b\u7684\u200b\u6587\u4ef6\u200b\nfind . -name '*.tmp' -exec rm {} \\;\n# \u200b\u67e5\u627e\u200b\u5168\u90e8\u200b\u7684\u200b PNG \u200b\u6587\u4ef6\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u8f6c\u6362\u200b\u4e3a\u200b JPG\nfind . -name '*.png' -exec convert {} {}.jpg \\;\n</code></pre> <p>\u200b\u5c3d\u7ba1\u200b <code>find</code> \u200b\u7528\u9014\u200b\u5e7f\u6cdb\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u8bed\u6cd5\u200b\u5374\u200b\u6bd4\u8f83\u200b\u96be\u4ee5\u200b\u8bb0\u5fc6\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u67e5\u627e\u200b\u6ee1\u8db3\u200b\u6a21\u5f0f\u200b <code>PATTERN</code> \u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u60a8\u200b\u9700\u8981\u200b\u6267\u884c\u200b <code>find -name '*PATTERN*'</code> (\u200b\u5982\u679c\u200b\u60a8\u200b\u5e0c\u671b\u200b\u6a21\u5f0f\u5339\u914d\u200b\u65f6\u200b\u662f\u200b\u4e0d\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>-iname</code>\u200b\u9009\u9879\u200b\uff09</p> <p>\u200b\u60a8\u200b\u5f53\u7136\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b alias \u200b\u8bbe\u7f6e\u200b\u522b\u540d\u200b\u6765\u200b\u7b80\u5316\u200b\u4e0a\u8ff0\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f46\u200b Shell \u200b\u7684\u200b\u54f2\u5b66\u200b\u4e4b\u4e00\u200b\u4fbf\u662f\u200b\u5bfb\u627e\u200b\uff08\u200b\u66f4\u597d\u200b\u7528\u200b\u7684\u200b\uff09\u200b\u66ff\u4ee3\u200b\u65b9\u6848\u200b\u3002</p> <p>\u200b\u8bb0\u4f4f\u200b\uff0cShell \u200b\u6700\u597d\u200b\u7684\u200b\u7279\u6027\u200b\u5c31\u662f\u200b\u60a8\u200b\u53ea\u662f\u200b\u5728\u200b\u8c03\u7528\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u60a8\u200b\u53ea\u8981\u200b\u627e\u5230\u200b\u5408\u9002\u200b\u7684\u200b\u66ff\u4ee3\u200b\u7a0b\u5e8f\u200b\u5373\u53ef\u200b\uff08\u200b\u751a\u81f3\u200b\u81ea\u5df1\u200b\u7f16\u5199\u200b\uff09\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c<code>fd</code> \u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u66f4\u200b\u7b80\u5355\u200b\u3001\u200b\u66f4\u200b\u5feb\u901f\u200b\u3001\u200b\u66f4\u200b\u53cb\u597d\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u4f5c\u4e3a\u200b<code>find</code>\u200b\u7684\u200b\u66ff\u4ee3\u54c1\u200b\u3002\u200b\u5b83\u200b\u6709\u200b\u5f88\u591a\u200b\u4e0d\u9519\u200b\u7684\u200b\u9ed8\u8ba4\u8bbe\u7f6e\u200b\uff0c\u200b\u4f8b\u5982\u200b\u8f93\u51fa\u200b\u7740\u8272\u200b\u3001\u200b\u9ed8\u8ba4\u200b\u652f\u6301\u200b\u6b63\u5219\u200b\u5339\u914d\u200b\u3001\u200b\u652f\u6301\u200b unicode \u200b\u5e76\u4e14\u200b\u6211\u200b\u8ba4\u4e3a\u200b\u5b83\u200b\u7684\u200b\u8bed\u6cd5\u200b\u66f4\u200b\u7b26\u5408\u200b\u76f4\u89c9\u200b\u3002\u200b\u4ee5\u200b\u6a21\u5f0f\u200b<code>PATTERN</code> \u200b\u641c\u7d22\u200b\u7684\u200b\u8bed\u6cd5\u200b\u662f\u200b <code>fd PATTERN</code>\u3002</p> <p>\u200b\u5927\u591a\u6570\u200b\u4eba\u200b\u90fd\u200b\u8ba4\u4e3a\u200b <code>find</code> \u200b\u548c\u200b <code>fd</code> \u200b\u5df2\u7ecf\u200b\u5f88\u200b\u597d\u200b\u7528\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u6709\u200b\u7684\u200b\u4eba\u200b\u53ef\u80fd\u200b\u60f3\u200b\u77e5\u9053\u200b\uff0c\u200b\u6211\u4eec\u200b\u662f\u4e0d\u662f\u200b\u53ef\u4ee5\u200b\u6709\u200b\u66f4\u200b\u9ad8\u6548\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4e0d\u8981\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u641c\u7d22\u200b\u6587\u4ef6\u200b\u800c\u662f\u200b\u901a\u8fc7\u200b\u7f16\u8bd1\u200b\u7d22\u5f15\u200b\u6216\u200b\u5efa\u7acb\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u5b9e\u73b0\u200b\u66f4\u52a0\u200b\u5feb\u901f\u200b\u5730\u200b\u641c\u7d22\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u5c31\u8981\u200b\u9760\u200b <code>locate</code> \u200b\u4e86\u200b\u3002<code>locate</code> \u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u7531\u200b <code>updatedb</code>\u200b\u8d1f\u8d23\u200b\u66f4\u65b0\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5728\u200b\u5927\u591a\u6570\u200b\u7cfb\u7edf\u200b\u4e2d\u200b <code>updatedb</code> \u200b\u90fd\u200b\u4f1a\u200b\u901a\u8fc7\u200b <code>cron</code> \u200b\u6bcf\u65e5\u200b\u66f4\u65b0\u200b\u3002\u200b\u8fd9\u200b\u4fbf\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u5728\u200b\u901f\u5ea6\u200b\u548c\u200b\u65f6\u6548\u6027\u200b\u4e4b\u95f4\u200b\u4f5c\u51fa\u200b\u6743\u8861\u200b\u3002\u200b\u800c\u4e14\u200b\uff0c<code>find</code> \u200b\u548c\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u5de5\u5177\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u522b\u7684\u200b\u5c5e\u6027\u200b\u6bd4\u5982\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u3001\u200b\u4fee\u6539\u200b\u65f6\u95f4\u200b\u6216\u662f\u200b\u6743\u9650\u200b\u6765\u200b\u67e5\u627e\u6587\u4ef6\u200b\uff0c<code>locate</code>\u200b\u5219\u200b\u53ea\u80fd\u200b\u901a\u8fc7\u200b\u6587\u4ef6\u540d\u200b\u3002 \u200b\u8fd9\u91cc\u200b\u6709\u200b\u4e00\u4e2a\u200b\u66f4\u200b\u8be6\u7ec6\u200b\u7684\u200b\u5bf9\u6bd4\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#\u67e5\u627e\u4ee3\u7801","title":"\u67e5\u627e\u200b\u4ee3\u7801","text":"<p>\u200b\u67e5\u627e\u6587\u4ef6\u200b\u662f\u200b\u5f88\u200b\u6709\u7528\u200b\u7684\u200b\u6280\u80fd\u200b\uff0c\u200b\u4f46\u662f\u200b\u5f88\u591a\u200b\u65f6\u5019\u200b\u60a8\u200b\u7684\u200b\u76ee\u6807\u200b\u5176\u5b9e\u200b\u662f\u200b\u67e5\u770b\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002\u200b\u4e00\u4e2a\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u573a\u666f\u200b\u662f\u200b\u60a8\u200b\u5e0c\u671b\u200b\u67e5\u627e\u200b\u5177\u6709\u200b\u67d0\u79cd\u200b\u6a21\u5f0f\u200b\u7684\u200b\u5168\u90e8\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u627e\u200b\u5b83\u4eec\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u8fd9\u200b\u4e00\u70b9\u200b\uff0c\u200b\u5f88\u591a\u7c7b\u200b UNIX \u200b\u7684\u200b\u7cfb\u7edf\u200b\u90fd\u200b\u63d0\u4f9b\u200b\u4e86\u200b<code>grep</code>\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b\u7684\u200b\u901a\u7528\u200b\u5de5\u5177\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b\u7684\u200b Shell \u200b\u5de5\u5177\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u200b\u5728\u200b\u540e\u7eed\u200b\u7684\u200b\u6570\u636e\u200b\u6e05\u7406\u200b\u8bfe\u7a0b\u200b\u4e2d\u200b\u6df1\u5165\u200b\u7684\u200b\u63a2\u8ba8\u200b\u5b83\u200b\u3002</p> <p><code>grep</code> \u200b\u6709\u200b\u5f88\u591a\u200b\u9009\u9879\u200b\uff0c\u200b\u8fd9\u200b\u4e5f\u200b\u4f7f\u200b\u5b83\u200b\u6210\u4e3a\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u5168\u80fd\u200b\u7684\u200b\u5de5\u5177\u200b\u3002\u200b\u5176\u4e2d\u200b\u6211\u200b\u7ecf\u5e38\u200b\u4f7f\u7528\u200b\u7684\u200b\u6709\u200b <code>-C</code> \uff1a\u200b\u83b7\u53d6\u200b\u67e5\u627e\u200b\u7ed3\u679c\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\uff08Context\uff09\uff1b<code>-v</code> \u200b\u5c06\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u53cd\u9009\u200b\uff08Invert\uff09\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8f93\u51fa\u200b\u4e0d\u200b\u5339\u914d\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u4e3e\u4f8b\u6765\u8bf4\u200b\uff0c <code>grep -C 5</code> \u200b\u4f1a\u200b\u8f93\u51fa\u200b\u5339\u914d\u200b\u7ed3\u679c\u200b\u524d\u540e\u200b\u4e94\u884c\u200b\u3002\u200b\u5f53\u200b\u9700\u8981\u200b\u641c\u7d22\u200b\u5927\u91cf\u6587\u4ef6\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>-R</code> \u200b\u4f1a\u200b\u9012\u5f52\u200b\u5730\u200b\u8fdb\u5165\u200b\u5b50\u76ee\u5f55\u200b\u5e76\u200b\u641c\u7d22\u200b\u6240\u6709\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u6709\u200b\u5f88\u591a\u200b\u529e\u6cd5\u200b\u53ef\u4ee5\u200b\u5bf9\u200b <code>grep -R</code> \u200b\u8fdb\u884c\u200b\u6539\u8fdb\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4f7f\u200b\u5176\u200b\u5ffd\u7565\u200b<code>.git</code> \u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u4f7f\u7528\u200b\u591a\u200b CPU \u200b\u7b49\u7b49\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\u4e5f\u200b\u51fa\u73b0\u200b\u4e86\u200b\u5f88\u591a\u200b\u5b83\u200b\u7684\u200b\u66ff\u4ee3\u54c1\u200b\uff0c\u200b\u5305\u62ec\u200b ack, ag \u200b\u548c\u200b rg\u3002\u200b\u5b83\u4eec\u200b\u90fd\u200b\u7279\u522b\u200b\u597d\u7528\u200b\uff0c\u200b\u4f46\u662f\u200b\u529f\u80fd\u200b\u4e5f\u200b\u90fd\u200b\u5dee\u4e0d\u591a\u200b\uff0c\u200b\u6211\u200b\u6bd4\u8f83\u200b\u5e38\u7528\u200b\u7684\u200b\u662f\u200b ripgrep (<code>rg</code>) \uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u901f\u5ea6\u200b\u5feb\u200b\uff0c\u200b\u800c\u4e14\u200b\u7528\u6cd5\u200b\u975e\u5e38\u200b\u7b26\u5408\u200b\u76f4\u89c9\u200b\u3002\u200b\u4f8b\u5b50\u200b\u5982\u4e0b\u200b\uff1a</p> Bash<pre><code># \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u4f7f\u7528\u200b\u4e86\u200b requests \u200b\u5e93\u200b\u7684\u200b .py \u200b\u6587\u4ef6\u200b\nrg -t py 'import requests'\n# \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u4f7f\u7528\u200b\u4e86\u200b pandas \u200b\u5e93\u200b\u7684\u200b .ipynb \u200b\u548c\u200b .py \u200b\u6587\u4ef6\u200b\nrg -t jupyter -t py 'import pandas'\n# \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u6ca1\u6709\u200b\u5199\u200b shebang \u200b\u7684\u200b\u6587\u4ef6\u200b\uff08\u200b\u5305\u542b\u200b\u9690\u85cf\u200b\u6587\u4ef6\u200b\uff09\nrg -u --files-without-match \"^#!\"\n# \u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u7684\u200bfoo\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5e76\u6253\u5370\u200b\u5176\u200b\u4e4b\u540e\u200b\u7684\u200b5\u200b\u884c\u200b\nrg foo -A 5\n# \u200b\u6253\u5370\u200b\u5339\u914d\u200b\u7684\u200b\u7edf\u8ba1\u200b\u4fe1\u606f\u200b\uff08\u200b\u5339\u914d\u200b\u7684\u200b\u884c\u200b\u548c\u200b\u6587\u4ef6\u200b\u7684\u200b\u6570\u91cf\u200b\uff09\nrg --stats PATTERN\n</code></pre> <p></p> <p>\u200b\u4e0e\u200b <code>find</code>/<code>fd</code> \u200b\u4e00\u6837\u200b\uff0c\u200b\u91cd\u8981\u200b\u7684\u200b\u662f\u200b\u4f60\u200b\u8981\u200b\u77e5\u9053\u200b\u6709\u4e9b\u200b\u95ee\u9898\u200b\u4f7f\u7528\u200b\u5408\u9002\u200b\u7684\u200b\u5de5\u5177\u200b\u5c31\u200b\u4f1a\u200b\u8fce\u5203\u800c\u89e3\u200b\uff0c\u200b\u800c\u200b\u5177\u4f53\u200b\u9009\u62e9\u200b\u54ea\u4e2a\u200b\u5de5\u5177\u200b\u5219\u200b\u4e0d\u662f\u200b\u90a3\u4e48\u200b\u91cd\u8981\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#\u67e5\u627e-shell-\u547d\u4ee4","title":"\u67e5\u627e\u200b Shell \u200b\u547d\u4ee4","text":"<p>\u200b\u76ee\u524d\u4e3a\u6b62\u200b\uff0c\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u5b66\u4e60\u200b\u4e86\u200b\u5982\u4f55\u200b\u67e5\u627e\u6587\u4ef6\u200b\u548c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f46\u200b\u968f\u7740\u200b\u4f60\u200b\u4f7f\u7528\u200b Shell \u200b\u7684\u200b\u65f6\u95f4\u200b\u8d8a\u6765\u8d8a\u200b\u4e45\u200b\uff0c\u200b\u60a8\u200b\u53ef\u80fd\u200b\u60f3\u8981\u200b\u627e\u5230\u200b\u4e4b\u524d\u200b\u8f93\u5165\u200b\u8fc7\u200b\u7684\u200b\u67d0\u6761\u200b\u547d\u4ee4\u200b\u3002\u200b\u9996\u5148\u200b\uff0c\u200b\u6309\u200b\u5411\u4e0a\u200b\u7684\u200b\u65b9\u5411\u952e\u200b\u4f1a\u200b\u663e\u793a\u200b\u4f60\u200b\u4f7f\u7528\u200b\u8fc7\u200b\u7684\u200b\u4e0a\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7ee7\u7eed\u200b\u6309\u200b\u4e0a\u952e\u200b\u5219\u200b\u4f1a\u200b\u904d\u5386\u200b\u6574\u4e2a\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u3002</p> <p><code>history</code> \u200b\u547d\u4ee4\u200b\u5141\u8bb8\u200b\u60a8\u200b\u4ee5\u200b\u7a0b\u5e8f\u5458\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u8bbf\u95ee\u200b Shell \u200b\u4e2d\u200b\u8f93\u5165\u200b\u7684\u200b\u5386\u53f2\u200b\u547d\u4ee4\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u5728\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u4e2d\u200b\u6253\u5370\u200b Shell \u200b\u4e2d\u200b\u7684\u200b\u91cc\u9762\u200b\u547d\u4ee4\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8981\u200b\u641c\u7d22\u200b\u5386\u53f2\u8bb0\u5f55\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u7ba1\u9053\u200b\u5c06\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4f20\u9012\u200b\u7ed9\u200b <code>grep</code> \u200b\u8fdb\u884c\u200b\u6a21\u5f0f\u200b\u641c\u7d22\u200b\u3002</p> <p><code>history | grep find</code> \u200b\u4f1a\u200b\u6253\u5370\u200b\u5305\u542b\u200b find \u200b\u5b50\u4e32\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u5927\u591a\u6570\u200b\u7684\u200b Shell \u200b\u6765\u8bf4\u200b\uff0c\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Ctrl+R \u200b\u5bf9\u200b\u547d\u4ee4\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u8fdb\u884c\u200b\u56de\u6eaf\u200b\u641c\u7d22\u200b\u3002\u200b\u6572\u200b Ctrl+R \u200b\u540e\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u8f93\u5165\u200b\u5b50\u4e32\u200b\u6765\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b\uff0c\u200b\u67e5\u627e\u200b\u5386\u53f2\u200b\u547d\u4ee4\u884c\u200b\u3002</p> <p>\u200b\u53cd\u590d\u200b\u6309\u4e0b\u200b\u5c31\u200b\u4f1a\u200b\u5728\u200b\u6240\u6709\u200b\u641c\u7d22\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u5faa\u73af\u200b\u3002\u200b\u5728\u200b zsh \u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u65b9\u5411\u952e\u200b\u4e0a\u200b\u6216\u200b\u4e0b\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5b8c\u6210\u200b\u8fd9\u9879\u200b\u5de5\u4f5c\u200b\u3002</p> <p>Ctrl+R \u200b\u53ef\u4ee5\u200b\u914d\u5408\u200b fzf \u200b\u4f7f\u7528\u200b\u3002<code>fzf</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u901a\u7528\u200b\u5bf9\u200b\u6a21\u7cca\u200b\u67e5\u627e\u200b\u5de5\u5177\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u548c\u200b\u5f88\u591a\u200b\u547d\u4ee4\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u3002\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5386\u53f2\u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u6a21\u7cca\u200b\u67e5\u627e\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u4ee5\u200b\u8d4f\u5fc3\u60a6\u76ee\u200b\u7684\u200b\u683c\u5f0f\u200b\u8f93\u51fa\u200b\u3002</p> <p>\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u548c\u200b\u5386\u53f2\u200b\u547d\u4ee4\u200b\u76f8\u5173\u200b\u7684\u200b\u6280\u5de7\u200b\u6211\u200b\u559c\u6b22\u200b\u79f0\u4e4b\u4e3a\u200b\u57fa\u4e8e\u200b\u5386\u53f2\u200b\u7684\u200b\u81ea\u52a8\u200b\u8865\u5168\u200b\u3002\u200b\u8fd9\u4e00\u200b\u7279\u6027\u200b\u6700\u521d\u200b\u662f\u200b\u7531\u200b fish Shell \u200b\u521b\u5efa\u200b\u7684\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u60a8\u200b\u6700\u8fd1\u200b\u4f7f\u7528\u200b\u8fc7\u200b\u7684\u200b\u5f00\u5934\u200b\u76f8\u540c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u52a8\u6001\u200b\u5730\u200b\u5bf9\u200b\u5f53\u524d\u200b\u5bf9\u200b Shell \u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u8865\u5168\u200b\u3002\u200b\u8fd9\u4e00\u200b\u529f\u80fd\u200b\u5728\u200b zsh \u200b\u4e2d\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6781\u5927\u200b\u7684\u200b\u63d0\u9ad8\u200b\u7528\u6237\u200b\u4f53\u9a8c\u200b\u3002</p> <p>\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b Shell history \u200b\u7684\u200b\u884c\u4e3a\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u547d\u4ee4\u200b\u7684\u200b\u5f00\u5934\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\uff0c\u200b\u5b83\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u52a0\u8fdb\u200b Shell \u200b\u8bb0\u5f55\u200b\u4e2d\u200b\u3002\u200b\u5f53\u200b\u4f60\u200b\u8f93\u5165\u200b\u5305\u542b\u200b\u5bc6\u7801\u200b\u6216\u662f\u200b\u5176\u4ed6\u200b\u654f\u611f\u200b\u4fe1\u606f\u200b\u7684\u200b\u547d\u4ee4\u200b\u65f6\u4f1a\u200b\u7528\u5230\u200b\u8fd9\u4e00\u200b\u7279\u6027\u200b\u3002 \u200b\u4e3a\u6b64\u200b\u4f60\u200b\u9700\u8981\u200b\u5728\u200b<code>.Bashrc</code>\u200b\u4e2d\u200b\u6dfb\u52a0\u200b<code>HISTCONTROL=ignorespace</code>\u200b\u6216\u8005\u200b\u5411\u200b<code>.zshrc</code> \u200b\u6dfb\u52a0\u200b <code>setopt HIST_IGNORE_SPACE</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u4e0d\u200b\u5c0f\u5fc3\u200b\u5fd8\u200b\u4e86\u200b\u5728\u200b\u524d\u9762\u200b\u52a0\u200b\u7a7a\u683c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u7f16\u8f91\u200b\u3002<code>Bash_history</code>\u200b\u6216\u200b <code>.zhistory</code> \u200b\u6765\u200b\u624b\u52a8\u200b\u5730\u200b\u4ece\u200b\u5386\u53f2\u8bb0\u5f55\u200b\u4e2d\u200b\u79fb\u9664\u200b\u90a3\u200b\u4e00\u9879\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/the-missing-semester-Shell-tools-and-scripting/#\u6587\u4ef6\u5939\u5bfc\u822a","title":"\u6587\u4ef6\u5939\u200b\u5bfc\u822a","text":"<p>\u200b\u4e4b\u524d\u200b\u5bf9\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u6211\u4eec\u200b\u90fd\u200b\u9ed8\u8ba4\u200b\u4e00\u4e2a\u200b\u524d\u63d0\u200b\uff0c\u200b\u5373\u200b\u60a8\u200b\u5df2\u7ecf\u200b\u4f4d\u4e8e\u200b\u60f3\u8981\u200b\u6267\u884c\u547d\u4ee4\u200b\u7684\u200b\u76ee\u5f55\u200b\u4e0b\u200b\uff0c\u200b\u4f46\u662f\u200b\u5982\u4f55\u200b\u624d\u80fd\u200b\u9ad8\u6548\u200b\u5730\u200b\u5728\u200b\u76ee\u5f55\u200b\u95f4\u200b\u968f\u610f\u200b\u5207\u6362\u200b\u5462\u200b\uff1f\u200b\u6709\u200b\u5f88\u591a\u200b\u7b80\u4fbf\u200b\u7684\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u505a\u5230\u200b\uff0c\u200b\u6bd4\u5982\u200b\u8bbe\u7f6e\u200b alias\uff0c\u200b\u4f7f\u7528\u200b ln -s \u200b\u521b\u5efa\u200b\u7b26\u53f7\u200b\u8fde\u63a5\u200b\u7b49\u200b\u3002\u200b\u800c\u200b\u5f00\u53d1\u8005\u200b\u4eec\u200b\u5df2\u7ecf\u200b\u60f3\u5230\u200b\u4e86\u200b\u5f88\u591a\u200b\u66f4\u4e3a\u200b\u7cbe\u5999\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u672c\u200b\u8bfe\u7a0b\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u5c3d\u53ef\u80fd\u200b\u5bf9\u200b\u4f60\u200b\u7684\u200b\u65e5\u5e38\u200b\u4e60\u60ef\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>fasd</code>\u200b\u548c\u200b autojump \u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u5de5\u5177\u200b\u6765\u200b\u67e5\u627e\u200b\u6700\u200b\u5e38\u7528\u200b\u6216\u200b\u6700\u8fd1\u200b\u4f7f\u7528\u200b\u7684\u200b\u6587\u4ef6\u200b\u548c\u200b\u76ee\u5f55\u200b\u3002</p> <p>Fasd \u200b\u57fa\u4e8e\u200b frecency  \u200b\u5bf9\u200b\u6587\u4ef6\u200b\u548c\u200b\u6587\u4ef6\u200b\u6392\u5e8f\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u5b83\u4f1a\u200b\u540c\u65f6\u200b\u9488\u5bf9\u200b\u9891\u7387\u200b\uff08frequency\uff09\u200b\u548c\u200b\u65f6\u6548\u200b\uff08recency\uff09\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c<code>fasd</code>\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u200b <code>z</code> \u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u5feb\u901f\u200b\u5207\u6362\u200b\u5230\u200b\u6700\u5e38\u200b\u8bbf\u95ee\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u60a8\u200b\u7ecf\u5e38\u200b\u8bbf\u95ee\u200b<code>/home/user/files/cool_project</code> \u200b\u76ee\u5f55\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b <code>z cool</code> \u200b\u8df3\u8f6c\u200b\u5230\u200b\u8be5\u200b\u76ee\u5f55\u200b\u3002\u200b\u5bf9\u4e8e\u200b autojump\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b<code>j cool</code>\u200b\u4ee3\u66ff\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u8fd8\u6709\u200b\u4e00\u4e9b\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u5de5\u5177\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u6982\u89c8\u200b\u76ee\u5f55\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>tree</code>, <code>broot</code> \u200b\u6216\u200b\u66f4\u52a0\u200b\u5b8c\u6574\u200b\u7684\u200b\u6587\u4ef6\u200b\u7ba1\u7406\u5668\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>nnn</code> \u200b\u6216\u200b <code>ranger</code>\u3002</p>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/","title":"\u8bbf\u95ee\u200b\u670d\u52a1\u5668\u200b\u7684\u200b Jupyter Notebook","text":"<p>\u200b\u672c\u6587\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u8fd0\u884c\u200b Jupyter Notebook\uff0c\u200b\u5e76\u200b\u5728\u200b\u4efb\u4f55\u200b\u7535\u8111\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8bbf\u95ee\u200b\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/#\u8bbe\u7f6e\u5bc6\u7801","title":"\u8bbe\u7f6e\u200b\u5bc6\u7801","text":"<p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b</p> Bash<pre><code>jupyter notebook password\n</code></pre> <p>\u200b\u6309\u7167\u200b\u63d0\u793a\u200b\u8f93\u5165\u200b\u4e24\u6b21\u200b\u5bc6\u7801\u200b\u5373\u53ef\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/#\u5141\u8bb8\u4efb\u610f-ip-\u8bbf\u95ee","title":"\u5141\u8bb8\u200b\u4efb\u610f\u200b IP \u200b\u8bbf\u95ee","text":"<p>\u200b\u9ed8\u8ba4\u200b\u7684\u200b <code>jupyter notebook</code> \u200b\u547d\u4ee4\u200b\u53ea\u662f\u200b\u5f00\u653e\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5f00\u653e\u200b\u7ed9\u200b\u516c\u7f51\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u6709\u200b\u4e24\u79cd\u200b\u8bbe\u7f6e\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/#\u65b9\u6cd5\u4e00\u5728\u547d\u4ee4\u884c\u4e2d\u6dfb\u52a0\u53c2\u6570---ip0000","title":"\u65b9\u6cd5\u200b\u4e00\u200b\uff1a\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u53c2\u6570\u200b <code>--ip=0.0.0.0</code>","text":"Bash<pre><code>jupyter-notebook --no-browser --ip=0.0.0.0\n</code></pre> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u5728\u200b\u6bcf\u6b21\u200b\u542f\u52a8\u200b <code>jupyter notebook</code> \u200b\u90fd\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b <code>--ip=0.0.0.0</code> \u200b\u53c2\u6570\u200b\uff0c\u200b\u5426\u5219\u200b\u65e0\u6cd5\u200b\u5728\u200b\u516c\u7f51\u200b\u8bbf\u95ee\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/#\u65b9\u6cd5\u4e8c\u6539\u914d\u7f6e\u6587\u4ef6","title":"\u65b9\u6cd5\u200b\u4e8c\u200b\uff1a\u200b\u6539\u200b\u914d\u7f6e\u6587\u4ef6","text":"Bash<pre><code>vim ~/.jupyter/jupyter_notebook_config.py\n</code></pre> <p>\u200b\u6dfb\u52a0\u200b\uff1a</p> Python<pre><code># \u200b\u5141\u8bb8\u200b\u4efb\u610f\u200b\u7684\u200b\u7535\u8111\u200b\u8bbf\u95ee\u200b\u8fd9\u4e2a\u200b notebook\nc.NotebookApp.ip = \"0.0.0.0\"\n</code></pre> <p>\u200b\u5173\u4e8e\u200b ip \u200b\u7684\u200b\u914d\u7f6e\u200b</p> <p>\u200b\u6709\u200b\u7684\u200b\u6559\u7a0b\u200b\u8bf4\u200b\u4e0b\u9762\u200b\u7684\u200b\u914d\u7f6e\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u6211\u8bd5\u200b\u4e86\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u53d1\u73b0\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\u3002</p> Python<pre><code># \u200b\u5141\u8bb8\u200b\u4efb\u610f\u200b\u7684\u200b\u7535\u8111\u200b\u8bbf\u95ee\u200b\u8fd9\u4e2a\u200b notebook\nc.NotebookApp.ip = '*'\n</code></pre> <p>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\uff1a</p> Python<pre><code># \u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u6253\u5f00\u200b\u6d4f\u89c8\u5668\u200b\nc.NotebookApp.open_browser = False\n# \u200b\u6307\u5b9a\u200b\u8bbf\u95ee\u200b\u7684\u200b\u7aef\u53e3\u200b\nc.NotebookApp.port = 8888\n</code></pre>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/#\u5728\u670d\u52a1\u5668\u7684\u9632\u706b\u5899\u4e2d\u5f00\u653e-8888-\u7aef\u53e3","title":"\u5728\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u9632\u706b\u5899\u200b\u4e2d\u200b\u5f00\u653e\u200b 8888 \u200b\u7aef\u53e3","text":"<p>\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4e5f\u200b\u5f88\u200b\u91cd\u8981\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5f00\u653e\u200b\u7aef\u53e3\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4e5f\u200b\u65e0\u6cd5\u200b\u901a\u8fc7\u200b\u516c\u7f51\u200b\u8bbf\u95ee\u200b\u3002</p> <p></p>","tags":["Computer Science"]},{"location":"blog/access-jupyter-notebook-on-server/#\u67e5\u770b\u6548\u679c","title":"\u67e5\u770b\u200b\u6548\u679c","text":"<p>\u200b\u4e3a\u4e86\u200b\u68c0\u9a8c\u200b\u4ece\u200b\u516c\u7f51\u200b\u8bbf\u95ee\u200b\u7684\u200b\u6548\u679c\u200b\uff0c\u200b\u6211\u200b\u4f7f\u7528\u200b\u624b\u673a\u200b\u8fdb\u884c\u200b\u8bbf\u95ee\u200b\uff1a</p> <p></p> <p></p>","tags":["Computer Science"]},{"location":"blog/python-keyward-only-argument/","title":"Python \u200b\u4f7f\u7528\u200b <code>*</code> \u200b\u4ee5\u200b\u5f3a\u5236\u200b\u8c03\u7528\u8005\u200b\u4f7f\u7528\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5305\u62ec\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b\u548c\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b\u3002\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b\u5fc5\u987b\u200b\u6309\u7167\u200b\u7279\u5b9a\u200b\u7684\u200b\u987a\u5e8f\u200b\u4f20\u9012\u200b\u7ed9\u200b\u51fd\u6570\u200b\uff0c\u200b\u800c\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u53c2\u6570\u200b\u540d\u200b\u6307\u5b9a\u200b\u3002</p> <p>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u5e0c\u671b\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4e00\u90e8\u5206\u200b\u53c2\u6570\u200b\u53ea\u80fd\u200b\u4ee5\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b\u6307\u5b9a\u200b\u3002\u200b\u4e3a\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u72ec\u7acb\u200b\u7684\u200b <code>*</code> \u200b\u53f7\u200b\u6765\u200b\u5206\u9694\u200b\u8fd9\u4e9b\u200b\u53c2\u6570\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u51fd\u6570\u200b\uff0c\u200b\u5176\u4e2d\u200b\u53c2\u6570\u200b <code>a</code> \u200b\u5219\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4f4d\u7f6e\u200b\u6216\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b\u6307\u5b9a\u200b\uff0c\u200b\u800c\u200b\u53c2\u6570\u200b <code>b</code> \u200b\u548c\u200b <code>c</code> \u200b\u53ea\u80fd\u200b\u4ee5\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b\u6307\u5b9a\u200b\uff1a</p> Python<pre><code>def example(a, *, b, c):\nprint(f\"a: {a}, b: {b}, c: {c}\")\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c<code>*</code> \u200b\u53f7\u200b\u4e4b\u524d\u200b\u7684\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u7528\u200b \u200b\u4f4d\u7f6e\u200b\u6216\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b \u200b\u6307\u5b9a\u200b\uff0c\u200b\u800c\u200b<code>*</code>\u200b\u53f7\u200b\u4e4b\u540e\u200b\u7684\u200b\u53c2\u6570\u200b \u200b\u53ea\u80fd\u200b\u4ee5\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b \u200b\u6307\u5b9a\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ee5\u4e0b\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u8c03\u7528\u200b\u4e0a\u8ff0\u200b\u51fd\u6570\u200b\uff1a</p> <ol> <li> <p>\u200b\u4f7f\u7528\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b\u6307\u5b9a\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>example(a=1, b=2, c=3)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a<code>a: 1, b: 2, c: 3</code></p> </li> <li> <p>\u200b\u4f7f\u7528\u200b\u4f4d\u7f6e\u200b\u5f62\u5f0f\u200b\u548c\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b\u5206\u522b\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>example(1, b=2, c=3)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a<code>a: 1, b: 2, c: 3</code></p> </li> <li> <p>\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u5c1d\u8bd5\u200b\u4f7f\u7528\u200b\u4f4d\u7f6e\u200b\u5f62\u5f0f\u200b\u6307\u5b9a\u200b <code>b</code> \u200b\u53c2\u6570\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u51fa\u73b0\u200b\u9519\u8bef\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>example(1, 2, c=3)\n</code></pre> <p>\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b <code>TypeError: example() takes 1 positional argument but 2 positional arguments (and 1 keyword-only argument) were given</code> \u200b\u9519\u8bef\u200b\u3002</p> </li> </ol> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u6709\u52a9\u4e8e\u200b\u63d0\u9ad8\u200b\u51fd\u6570\u200b\u7684\u200b\u53ef\u8bfb\u6027\u200b\u548c\u200b\u53ef\u7ef4\u62a4\u6027\u200b\u3002\u200b\u901a\u8fc7\u200b\u5f3a\u5236\u200b\u4f7f\u7528\u200b\u5173\u952e\u5b57\u200b\u5f62\u5f0f\u200b\u6307\u5b9a\u200b\u67d0\u4e9b\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b\u8c03\u7528\u8005\u200b\u6e05\u695a\u200b\u5730\u200b\u8868\u8fbe\u200b\u51fd\u6570\u200b\u7684\u200b\u610f\u56fe\u200b\u3002</p>","tags":["Python"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/","title":"Pandas \u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4","text":"<p>\u200b\u95ee\u9898\u200b\u80cc\u666f\u200b\uff1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5206\u949f\u200b\u7ea7\u522b\u200b\u7d22\u5f15\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u805a\u5408\u200b\u8ba1\u7b97\u200b\u3002</p> <ol> <li>\u200b\u7b80\u5355\u200b\u7684\u200b <code>.groupby('datetime')</code> \u200b\u65e0\u6cd5\u200b\u5b9e\u73b0\u200b\u6309\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u3002</li> <li><code>.groupby(pd.Grouper(level='datetime', freq='D'))</code> \u200b\u4f1a\u4e3a\u200b\u539f\u59cb\u6570\u636e\u200b\u4e2d\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u65e5\u671f\u200b\u586b\u5145\u200b\u7a7a\u503c\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5728\u200b\u80a1\u7968\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c\u200b\u5468\u672b\u200b\u3001\u200b\u8282\u5047\u65e5\u200b\u7b49\u200b\u975e\u200b\u4ea4\u6613\u65e5\u200b\u4f1a\u200b\u88ab\u200b\u586b\u5145\u200b\u4e3a\u200b\u7a7a\u503c\u200b\uff09\u3002<ul> <li>\u200b\u5982\u679c\u200b\u5206\u7ec4\u200b\u540e\u200b\u8c03\u7528\u200b\u7684\u200b\u662f\u200b <code>.mean()</code>\uff0c\u200b\u5219\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u5206\u7ec4\u200b\u540e\u200b\u8c03\u7528\u200b\u7684\u200b\u662f\u200b <code>.transform('mean')</code>\uff0c\u200b\u5219\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002</li> </ul> </li> </ol> <p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u53ef\u4ee5\u200b\u6b63\u786e\u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p></p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#\u793a\u4f8b\u6570\u636e","title":"\u793a\u4f8b\u200b\u6570\u636e","text":"Python<pre><code>import pandas as pd\nimport numpy as np\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\u96c6\u200b\ndata = pd.DataFrame(\nindex=np.concatenate(\n(\npd.date_range(\nstart=\"2023-01-01 00:00:00\", end=\"2023-01-01 23:59:59\", freq=\"12H\"\n),\npd.date_range(\nstart=\"2023-01-03 00:00:00\", end=\"2023-01-03 23:59:59\", freq=\"12H\"\n),\n),\naxis=None,\n),\ndata={\n\"value\": [1, 2, 3, 4],\n},\n)\ndata.index.name = \"datetime\"\nprint(data)\n</code></pre> Text Only<pre><code>                     value\ndatetime                  \n2023-01-01 00:00:00      1\n2023-01-01 12:00:00      2\n2023-01-03 00:00:00      3\n2023-01-03 12:00:00      4\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#\u7b80\u5355\u7684-groupbydatetime-\u65e0\u6cd5\u5b9e\u73b0\u6309\u65e5\u671f\u5206\u7ec4","title":"\u7b80\u5355\u200b\u7684\u200b <code>.groupby('datetime')</code> \u200b\u65e0\u6cd5\u200b\u5b9e\u73b0\u200b\u6309\u200b\u65e5\u671f\u200b\u5206\u7ec4","text":"<p><code>.groupby('datetime')</code> \u200b\u53ea\u662f\u200b\u6839\u636e\u200b\u539f\u59cb\u200b\u5206\u949f\u200b\u7ea7\u522b\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\uff0c\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5b9e\u73b0\u200b\u6309\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p> Python<pre><code>data.groupby(\"datetime\").mean()\n</code></pre> Text Only<pre><code>                     value\ndatetime                  \n2023-01-01 00:00:00    1.0\n2023-01-01 12:00:00    2.0\n2023-01-03 00:00:00    3.0\n2023-01-03 12:00:00    4.0\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#groupbypdgrouperleveldatetime-freqd-\u4f1a\u4e3a\u539f\u59cb\u6570\u636e\u4e2d\u4e0d\u5b58\u5728\u7684\u65e5\u671f\u586b\u5145\u7a7a\u503c","title":"<code>.groupby(pd.Grouper(level='datetime', freq='D'))</code> \u200b\u4f1a\u4e3a\u200b\u539f\u59cb\u6570\u636e\u200b\u4e2d\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u65e5\u671f\u200b\u586b\u5145\u200b\u7a7a\u503c","text":"<p><code>2023-01-02</code> \u200b\u672c\u6765\u200b\u662f\u200b\u6ca1\u6709\u200b\u6570\u636e\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u88ab\u200b\u586b\u5145\u200b\u4e3a\u4e86\u200b\u7a7a\u503c\u200b\u3002</p> Python<pre><code>data.groupby(pd.Grouper(level=\"datetime\", freq=\"D\")).mean()\n</code></pre> Text Only<pre><code>            value\ndatetime         \n2023-01-01    1.5\n2023-01-02    NaN\n2023-01-03    3.5\n</code></pre> <p><code>.transform()</code> \u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u586b\u5145\u200b\u7a7a\u503c\u200b\u7684\u200b\u95ee\u9898\u200b</p> <p>\u200b\u5982\u679c\u200b\u5206\u7ec4\u200b\u540e\u200b\u8c03\u7528\u200b\u7684\u200b\u662f\u200b <code>.transform('mean')</code>\uff0c\u200b\u5219\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002</p> Python<pre><code>data.groupby(pd.Grouper(level='datetime', freq='D')).transform('mean')\n</code></pre> Text Only<pre><code>                     value\ndatetime                  \n2023-01-01 00:00:00    1.5\n2023-01-01 12:00:00    1.5\n2023-01-03 00:00:00    3.5\n2023-01-03 12:00:00    3.5\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#\u4f7f\u7528-date-\u6216-floord-\u63d0\u53d6\u65e5\u671f","title":"\u4f7f\u7528\u200b <code>.date</code> \u200b\u6216\u200b <code>.floor('D')</code> \u200b\u63d0\u53d6\u200b\u65e5\u671f","text":"","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#date","title":"<code>.date</code>","text":"Python<pre><code>data.groupby(data.index.date).mean()\n</code></pre> Text Only<pre><code>            value\n2023-01-01    1.5\n2023-01-03    3.5\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#floord","title":"<code>.floor('D')</code>","text":"<p>\u200b\u53c2\u8003\u200b\uff1aStackOverflow: In pandas, group by date from DatetimeIndex\u3002</p> <p><code>D</code> \u200b\u4ee3\u8868\u200b\u65e5\u9891\u200b\u3002\u200b\u66f4\u200b\u591a\u200b\u6570\u636e\u200b\u9891\u7387\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b offset-aliases\u3002</p> Python<pre><code>data.groupby(data.index.floor(\"D\")).mean()\n</code></pre> Text Only<pre><code>            value\ndatetime         \n2023-01-01    1.5\n2023-01-03    3.5\n</code></pre> <p><code>.date</code> \u200b\u548c\u200b <code>.floor('D')</code> \u200b\u7684\u200b\u533a\u522b\u200b</p> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\uff0c\u200b\u4e0a\u8ff0\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u7565\u5fae\u200b\u6709\u200b\u4e0d\u540c\u200b\uff1a</p> <ul> <li><code>.date</code> \u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u7d22\u5f15\u200b\u662f\u200b\u6ca1\u6709\u200b\u540d\u79f0\u200b\u7684\u200b\u3002</li> <li><code>.floor('D')</code> \u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u7d22\u5f15\u200b\u7684\u200b\u540d\u79f0\u200b\u4ecd\u7136\u200b\u662f\u200b <code>datetime</code>\u3002</li> </ul>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-group-by-date-from-datetimeindex/#date-\u548c-floord-\u7684\u8fd0\u884c\u901f\u5ea6","title":"<code>.date</code> \u200b\u548c\u200b <code>.floor('D')</code> \u200b\u7684\u200b\u8fd0\u884c\u200b\u901f\u5ea6","text":"<p>StackOverflow: In pandas, group by date from DatetimeIndex \u200b\u56de\u7b54\u200b\u7684\u200b\u8bc4\u8bba\u200b\u8bf4\u200b <code>.floor('D')</code> \u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b\u81ea\u5df1\u200b\u5b9e\u9a8c\u200b\u540e\u200b\u53d1\u73b0\u200b\u6709\u65f6\u200b <code>.date</code> \u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u6709\u65f6\u200b\u4e24\u8005\u200b\u8017\u65f6\u200b\u5341\u5206\u200b\u63a5\u8fd1\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/python-3-12-ovverride-decorator/","title":"Python 3.12 \u200b\u65b0\u200b\u7279\u6027\u200b\uff1a<code>@override</code> \u200b\u88c5\u9970\u200b\u5668","text":"<p>Python 3.12 \u200b\u5f15\u5165\u200b\u4e86\u200b <code>@override</code> \u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u6307\u5b9a\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7528\u6765\u200b\u8986\u76d6\u200b\u57fa\u7c7b\u200b\u65b9\u6cd5\u200b\u7684\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-3-12-ovverride-decorator/#\u65b0\u7279\u6027\u7b80\u4ecb","title":"\u65b0\u200b\u7279\u6027\u200b\u7b80\u4ecb","text":"<p>\u200b\u5728\u200b\u7ee7\u627f\u200b\u57fa\u7c7b\u200b\u540e\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u60f3\u200b\u8986\u76d6\u200b\u57fa\u7c7b\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u65b9\u6cd5\u200b <code>original()</code>\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6539\u5199\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5c0f\u5fc3\u200b\u5c06\u200b\u65b9\u6cd5\u200b\u540d\u200b\u62fc\u5199\u9519\u8bef\u200b\u4e3a\u200b <code>ooooriginal()</code>\uff0c\u200b\u5373\u200b\u4e00\u4e2a\u200b\u57fa\u7c7b\u200b\u4e2d\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u200b\u8c03\u7528\u200b\u5b50\u7c7b\u200b\u7684\u200b <code>original()</code> \u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u4f1a\u200b\u8c03\u7528\u200b\u57fa\u7c7b\u200b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u4e14\u200b\u7a0b\u5e8f\u200b\u4e0d\u4f1a\u200b\u4ea7\u751f\u200b\u9519\u8bef\u200b\u3002\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u65e0\u6cd5\u200b\u5bdf\u89c9\u5230\u200b\u95ee\u9898\u200b\u7684\u200b\u5b58\u5728\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>@override</code> \u200b\u6ce8\u89e3\u200b\u6765\u200b\u660e\u786e\u200b\u8868\u793a\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8986\u76d6\u200b\u5173\u7cfb\u200b\u3002\u200b\u8fd9\u6837\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u68c0\u67e5\u200b <code>ooooriginal()</code> \u200b\u65b9\u6cd5\u200b\u662f\u5426\u200b\u5728\u200b\u57fa\u7c7b\u200b\u4e2d\u200b\u5b58\u5728\u200b\u3002\u200b\u7531\u4e8e\u200b <code>ooooriginal()</code> \u200b\u65b9\u6cd5\u200b\u5e76\u672a\u200b\u5728\u200b\u57fa\u7c7b\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4ece\u800c\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u53d1\u73b0\u9519\u8bef\u200b\u3002</p> <p>\u200b\u7b80\u800c\u8a00\u4e4b\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>@override</code> \u200b\u6ce8\u89e3\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u68c0\u6d4b\u200b\u8986\u76d6\u200b\u65b9\u6cd5\u200b\u662f\u5426\u200b\u6b63\u786e\u200b\uff0c\u200b\u907f\u514d\u200b\u6f5c\u5728\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p>","tags":["Python"]},{"location":"blog/python-3-12-ovverride-decorator/#\u89c6\u9891\u4ecb\u7ecd","title":"\u89c6\u9891\u200b\u4ecb\u7ecd","text":"","tags":["Python"]},{"location":"blog/python-3-12-ovverride-decorator/#\u5b98\u65b9\u6587\u6863\u4ee3\u7801\u793a\u4f8b","title":"\u5b98\u65b9\u200b\u6587\u6863\u200b\u4ee3\u7801\u200b\u793a\u4f8b","text":"Python<pre><code>from typing import override\nclass Base:\ndef log_status(self) -&gt; None:\n...\nclass Sub(Base):\n@override\ndef log_status(self) -&gt; None:  # Okay: overrides Base.log_status\n...\n@override\ndef done(self) -&gt; None:  # Error reported by type checker\n...\n</code></pre>","tags":["Python"]},{"location":"blog/calculate-subset-of-correlation-matrix/","title":"\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635","text":"<p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b\u76f8\u5173\u7cfb\u6570\u200b\u7684\u200b\u77e9\u9635\u200b\u8868\u8fbe\u5f62\u5f0f\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\u7684\u200b\u52a0\u901f\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5e76\u200b\u5b9e\u8bc1\u200b\u68c0\u9a8c\u200b\u4e86\u200b\u4e09\u79cd\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8fd0\u884c\u200b\u901f\u5ea6\u200b\u3002</p> <ul> <li>\u200b\u5728\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\u65f6\u200b\uff0c\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u52a0\u901f\u200b\u7b97\u6cd5\u200b \u200b\u76f8\u6bd4\u200b Pandas <code>.corr()</code> \u200b\u65b9\u6cd5\u200b\u63d0\u901f\u200b\u7ea6\u200b 2180 \u200b\u500d\u200b\uff0c\u200b\u6bd4\u200b Numpy <code>.corrcoef()</code> \u200b\u65b9\u6cd5\u200b\u63d0\u901f\u200b\u7ea6\u200b  115 \u200b\u500d\u200b\u3002</li> <li>\u200b\u5728\u200b\u8ba1\u7b97\u200b\u5168\u90e8\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\u65f6\u200b\uff0cNumpy <code>.corrcoef()</code> \u200b\u65b9\u6cd5\u200b\u6bd4\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u52a0\u901f\u200b\u7b97\u6cd5\u200b\u7565\u200b\u5feb\u200b \\(10\\%\\)\uff0c\u200b\u6bd4\u200b Pandas <code>.corr()</code> \u200b\u65b9\u6cd5\u200b\u5feb\u7ea6\u200b 20 \u200b\u500d\u200b\u3002</li> </ul>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u95ee\u9898\u63cf\u8ff0","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b\u82e5\u5e72\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u539f\u59cb\u6570\u636e\u200b\u6709\u200b 10000 \u200b\u5217\u200b\u3001100 \u200b\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u76f4\u63a5\u200b\u5bf9\u200b\u8fd9\u200b 10000 \u200b\u5217\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b \\(10000 \\times 10000\\) \u200b\u7684\u200b\u77e9\u9635\u200b\uff0c\u200b\u4f46\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b\u67d0\u200b 10 \u200b\u5217\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5f97\u5230\u200b \\(10000 \\times 10\\) \u200b\u7684\u200b\u77e9\u9635\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff0c\u200b\u5148\u200b\u8ba1\u7b97\u200b\u51fa\u200b \\(10000 \\times 10000\\) \u200b\u7684\u200b\u77e9\u9635\u200b\uff08\u200b\u8fd9\u7528\u200b Pandas \u200b\u7684\u200b <code>.corr()</code> \u200b\u5f88\u200b\u5bb9\u6613\u200b\u5b9e\u73b0\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u53d6\u51fa\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b \\(10000 \\times 10\\) \u200b\u7684\u200b\u77e9\u9635\u200b\u3002\u200b\u4f46\u200b\u8fd9\u6837\u200b\u505a\u200b\u7684\u200b\u95ee\u9898\u200b\u662f\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b \\(10000 \\times 10000\\) \u200b\u7684\u200b\u77e9\u9635\u200b\u7684\u200b\u8fd0\u7b97\u91cf\u200b\u975e\u5e38\u200b\u5927\u200b\uff0c\u200b\u8fd9\u200b\u5176\u4e2d\u200b\u6709\u200b\u5f88\u591a\u200b\u503c\u200b\u662f\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u5f88\u200b\u6162\u200b\u3002\u200b\u867d\u7136\u200b Numpy \u200b\u4e2d\u200b\u7684\u200b <code>.corrcoef()</code> \u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u6bd4\u200b Pandas \u200b\u4e2d\u200b\u7684\u200b <code>.corr()</code> \u200b\u5feb\u200b\u5f88\u591a\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u200b\u4ecd\u7136\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5f88\u591a\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u8fd0\u7b97\u200b\u3002</p> <p>\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff0c\u200b\u4ece\u200b\u76f8\u5173\u7cfb\u6570\u200b\u7684\u200b\u77e9\u9635\u200b\u8868\u8fbe\u5f62\u5f0f\u200b\u8fdb\u884c\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u624b\u200b\u52a8\u7528\u200b\u5411\u200b\u91cf\u5316\u200b\u8fd0\u7b97\u200b\u5f97\u5230\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b 10000x10 \u200b\u7684\u200b\u77e9\u9635\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u7ed3\u679c\u200b\u4fdd\u8bc1\u200b\u51c6\u786e\u200b\uff0c\u200b\u4e14\u200b\u4e0d\u4f1a\u200b\u8fdb\u884c\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u8ba1\u7b97\u200b\u3002</p>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u751f\u6210\u6570\u636e","title":"\u751f\u6210\u200b\u6570\u636e","text":"<p>\u200b\u672c\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b 100 * 10000 \u200b\u7684\u200b Pandas \u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6bd4\u8f83\u200b\u5404\u79cd\u200b\u8ba1\u7b97\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u65b9\u6cd5\u200b\u7684\u200b\u901f\u5ea6\u200b\u3002</p> Python<pre><code>import pandas as pd\nimport numpy as np\n</code></pre> Python<pre><code>np.random.seed(0)\ndf = pd.DataFrame(np.random.rand(100, 10000))\ndf\n</code></pre> <p></p>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u4f7f\u7528\u4e0d\u540c\u65b9\u6cd5\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\u77e9\u9635","title":"\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635","text":"","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u4f7f\u7528-pandas-\u7684-corr-\u65b9\u6cd5\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\u77e9\u9635","title":"\u4f7f\u7528\u200b Pandas \u200b\u7684\u200b <code>.corr()</code> \u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635","text":"Python<pre><code>df.corr()\n</code></pre> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5f97\u5230\u200b\u67d0\u200b 10 \u200b\u5217\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u53d6\u51fa\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u8fd9\u200b 10 \u200b\u5217\u200b\u5373\u53ef\u200b\u3002</p> Python<pre><code>result_pd = df.corr()[range(10)]\nresult_pd\n</code></pre> <p></p>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u4f7f\u7528-numpy-\u7684-corrcoef-\u65b9\u6cd5\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\u77e9\u9635","title":"\u4f7f\u7528\u200b Numpy \u200b\u7684\u200b <code>.corrcoef()</code> \u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635","text":"<p>Numpy \u200b\u7684\u200b <code>.corrcoef()</code> \u200b\u65b9\u6cd5\u200b\u7684\u200b\u8c03\u7528\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u5c06\u200b <code>rowvar</code> \u200b\u53c2\u6570\u8bbe\u7f6e\u200b\u4e3a\u200b <code>False</code>\uff0c\u200b\u8868\u793a\u200b\u6bcf\u4e00\u200b\u5217\u4e3a\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u6bcf\u4e00\u200b\u884c\u4e3a\u200b\u4e00\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u3002</p> Python<pre><code>result_np = pd.DataFrame(np.corrcoef(df.values, rowvar=False)[:, :10])\nresult_np\n</code></pre> <p></p>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u4f7f\u7528\u77e9\u9635\u8868\u8fbe\u5f0f\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\u77e9\u9635","title":"\u4f7f\u7528\u200b\u77e9\u9635\u200b\u8868\u8fbe\u5f0f\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635","text":"<p>\u200b\u76f8\u5173\u7cfb\u6570\u200b\u7684\u200b\u77e9\u9635\u200b\u8868\u8fbe\u5f62\u5f0f\u200b\u7684\u200b\u6570\u5b66\u539f\u7406\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b Quickest way to calculate subset of correlation matrix - stackoverflow\u3002</p> <p></p> Python<pre><code>def cal_corr(x, select_cols):\nn = x.shape[0]\nxsum = np.sum(x, 0, keepdims=True)\nxstd = np.std(x, 0, keepdims=True)\nreturn (\nnp.dot(x.T, x[:, select_cols]) - np.dot(xsum.T, xsum[:, select_cols]) / n\n) / (np.dot(xstd.T, xstd[:, select_cols]) * n)\n</code></pre> Python<pre><code>result_cal_corr = pd.DataFrame(cal_corr(df.values, range(10)))\nresult_cal_corr\n</code></pre> <p></p>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u68c0\u9a8c\u5404\u65b9\u6cd5\u8ba1\u7b97\u7ed3\u679c\u7684\u4e00\u81f4\u6027","title":"\u68c0\u9a8c\u200b\u5404\u200b\u65b9\u6cd5\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u7684\u200b\u4e00\u81f4\u6027","text":"Python<pre><code>np.isclose(result_pd, result_np).all()\n</code></pre> Text Only<pre><code>True\n</code></pre> Python<pre><code>np.isclose(result_pd, result_cal_corr).all()\n</code></pre> Text Only<pre><code>True\n</code></pre>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/calculate-subset-of-correlation-matrix/#\u6bd4\u8f83\u5404\u65b9\u6cd5\u7684\u8ba1\u7b97\u901f\u5ea6","title":"\u6bd4\u8f83\u200b\u5404\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6","text":"<p>\u200b\u82e5\u200b\u53ea\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b\u67d0\u200b 10 \u200b\u5217\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\uff1a</p> <ul> <li>\u200b\u4f7f\u7528\u200b\u77e9\u9635\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u6700\u5feb\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u4e0d\u4f1a\u200b\u8fdb\u884c\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u8ba1\u7b97\u200b\u3002</li> <li>\u200b\u5176\u6b21\u200b\u662f\u200b Numpy \u200b\u7684\u200b <code>.corrcoef()</code> \u200b\u65b9\u6cd5\u200b\u3002</li> <li>\u200b\u6700\u6162\u200b\u7684\u200b\u662f\u200b Pandas \u200b\u7684\u200b <code>.corr()</code> \u200b\u65b9\u6cd5\u200b\u3002</li> </ul> Text Only<pre><code>%%timeit\ndf.corr()[range(10)]\n</code></pre> Text Only<pre><code>10.9 s \u00b1 85.5 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre> Text Only<pre><code>%%timeit\npd.DataFrame(np.corrcoef(df.values, rowvar=False)[:, :10])\n</code></pre> Text Only<pre><code>587 ms \u00b1 22.2 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre> Text Only<pre><code>%%timeit\npd.DataFrame(cal_corr(df.values, range(10)))\n</code></pre> Text Only<pre><code>5.08 ms \u00b1 334 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre> <p>\u200b\u82e5\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b\u6240\u6709\u200b\u5217\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\uff1a</p> <ul> <li>Numpy \u200b\u7684\u200b <code>.corrcoef()</code> \u200b\u65b9\u6cd5\u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u6700\u5feb\u200b\u3002</li> <li>\u200b\u5176\u6b21\u200b\u662f\u200b\u77e9\u9635\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</li> <li>\u200b\u6700\u6162\u200b\u7684\u200b\u662f\u200b Pandas \u200b\u7684\u200b <code>.corr()</code> \u200b\u65b9\u6cd5\u200b\u3002</li> </ul> Text Only<pre><code>%%timeit\ndf.corr()\n</code></pre> Text Only<pre><code>11 s \u00b1 92.2 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre> Text Only<pre><code>%%timeit\npd.DataFrame(np.corrcoef(df.values, rowvar=False))\n</code></pre> Text Only<pre><code>576 ms \u00b1 14.1 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre> Text Only<pre><code>%%timeit\npd.DataFrame(cal_corr(df.values, range(10000)))\n</code></pre> Text Only<pre><code>674 ms \u00b1 50.1 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>","tags":["Python","\u7edf\u8ba1","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/install-tree-on-macos/","title":"\u5728\u200b MacOS \u200b\u4e2d\u200b\u5b89\u88c5\u200b tree \u200b\u547d\u4ee4","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5728\u200b MacOS \u200b\u4e2d\u200b\u5b89\u88c5\u200b tree \u200b\u547d\u4ee4\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u4e3b\u8981\u200b\u6d89\u53ca\u200b\u4e86\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u4e34\u65f6\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u5728\u200b Linux \u200b\u548c\u200b Wndows \u200b\u4e0a\u200b\u4f7f\u7528\u200b <code>tree</code> \u200b\u547d\u4ee4\u200b\u663e\u793a\u76ee\u5f55\u200b\u7ed3\u6784\u200b\u3002\u200b\u4f46\u662f\u200b\uff0cMacOS \u200b\u4e0a\u200b\u6ca1\u6709\u200b\u81ea\u5e26\u200b <code>tree</code> \u200b\u547d\u4ee4\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/install-tree-on-macos/#\u5b89\u88c5\u547d\u4ee4","title":"\u5b89\u88c5\u200b\u547d\u4ee4","text":"<p>\u200b\u5b89\u8f6c\u200b\u65b9\u6cd5\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u7528\u200b</p> Bash<pre><code>brew install tree\n</code></pre> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u6211\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u65f6\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>Failed to connect to raw.githubusercontent.com:443\n</code></pre>","tags":["Computer Science"]},{"location":"blog/install-tree-on-macos/#\u5728\u7ec8\u7aef\u4e2d\u4e34\u65f6\u4f7f\u7528\u4ee3\u7406","title":"\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u4e34\u65f6\u200b\u4f7f\u7528\u200b\u4ee3\u7406","text":"<p>\u200b\u53c2\u8003\u200b \u200b\u77e5\u4e4e\u200b-Failed to connect to raw.githubusercontent.com:443\uff0c\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200b\uff087890 \u200b\u9700\u8981\u200b\u6362\u6210\u200b\u4f60\u200b\u81ea\u5df1\u200b\u7684\u200b\u7aef\u53e3\u200b\uff09\uff1a</p> Bash<pre><code>export HTTP_PROXY=\"http://127.0.0.1:7890\"\nexport HTTPS_PROXY=\"http://127.0.0.1:7890\"\nexport ALL_PROXY=\"socks5://127.0.0.1:7890\"\n</code></pre> <p></p> <p>\u200b\u5373\u53ef\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u4e34\u65f6\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u3002</p> <p>\u200b\u518d\u200b\u8fd0\u884c\u200b <code>brew install tree</code> \u200b\u5373\u53ef\u200b\u6210\u529f\u200b\u5b89\u88c5\u200b <code>tree</code> \u200b\u547d\u4ee4\u200b\u3002</p> <p></p> <p></p>","tags":["Computer Science"]},{"location":"blog/call-llm-api-in-python/","title":"\u5728\u200b Python \u200b\u4e2d\u200b\u8c03\u7528\u200b\u5728\u7ebf\u200b\u5927\u200b\u6a21\u578b\u200b API","text":"<p>\u200b\u8bb8\u591a\u200b\u5927\u200b\u6a21\u578b\u200b\u90fd\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5728\u7ebf\u200b API \u200b\u63a5\u53e3\u200b\u670d\u52a1\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u8c03\u7528\u200b\u5b83\u4eec\u200b\u3002\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b <code>openai</code>\u3001<code>chatllm</code>\u3001<code>dashscope</code> \u200b\u7b49\u200b\u5305\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u5bf9\u200b OpenAI\u3001\u200b\u8baf\u200b\u98de\u200b\u661f\u706b\u200b\u3001\u200b\u667a\u8c31\u200b AI\u3001\u200b\u767e\u5ea6\u200b\u3001\u200b\u963f\u91cc\u200b\u901a\u4e49\u200b\u5343\u95ee\u200b\u7684\u200b\u8c03\u7528\u200b\u3002\u200b\u7528\u6237\u200b\u53ea\u200b\u9700\u200b\u5728\u200b\u672c\u5730\u200b\u7528\u200b <code>.env</code> \u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b API Key \u200b\u5373\u53ef\u200b\u5feb\u901f\u200b\u8c03\u7528\u200b\u8fd9\u4e9b\u200b\u5927\u200b\u6a21\u578b\u200b\u3002</p> <p></p>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u5bfc\u5165\u5fc5\u8981\u7684\u5305","title":"\u5bfc\u5165\u200b\u5fc5\u8981\u200b\u7684\u200b\u5305","text":"Python<pre><code>import os\nimport dashscope\nimport openai\nfrom chatllm.llmchain.llms import ChatGLM, ErnieBot, SparkBot\nfrom dashscope import Generation\nfrom dotenv import load_dotenv\nfrom langchain.chains import LLMChain\nfrom langchain.prompts import ChatPromptTemplate\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u914d\u7f6e\u6a21\u578b-api-key","title":"\u914d\u7f6e\u200b\u6a21\u578b\u200b API Key","text":"<p>\u200b\u6211\u4eec\u200b\u4e00\u5171\u200b\u4f7f\u7528\u200b 5 \u200b\u4e2a\u200b\u5728\u7ebf\u200b\u5927\u200b\u6a21\u578b\u200b API\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\uff1a</p> <ul> <li>OpenAI API\uff0c\u200b\u8be6\u89c1\u200b https://api.nextweb.fun/ \u200b\u548c\u200b https://flowus.cn/yifei/share/7c1ff13b-277d-40da-8c04-ebf770ea46ea</li> <li>\u200b\u8baf\u200b\u98de\u200b\u661f\u706b\u200b API\uff0c\u200b\u8be6\u89c1\u200b https://console.xfyun.cn/services/cbm</li> <li>\u200b\u667a\u8c31\u200b AI API\uff0c\u200b\u8be6\u89c1\u200b https://open.bigmodel.cn/usercenter/apikeys</li> <li>\u200b\u767e\u5ea6\u200b API\uff0c\u200b\u8be6\u89c1\u200b https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application</li> <li>\u200b\u963f\u91cc\u200b\u901a\u4e49\u200b\u5343\u95ee\u200b API\uff0c\u200b\u8be6\u89c1\u200b https://dashscope.console.aliyun.com/apiKey</li> </ul> <p>\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u7f51\u5740\u200b\u4e2d\u200b\u6ce8\u518c\u200b\u8d26\u53f7\u200b\u5e76\u200b\u7533\u8bf7\u200b API Key\uff0c\u200b\u5927\u90e8\u5206\u200b\u6a21\u578b\u200b\u5bf9\u4e8e\u200b\u65b0\u200b\u7528\u6237\u200b\u90fd\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u514d\u8d39\u200b\u989d\u5ea6\u200b\uff0c\u200b\u5c11\u90e8\u5206\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u9884\u4ed8\u8d39\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u5c06\u200b API Key \u200b\u66b4\u9732\u200b\u5728\u200b\u516c\u5f00\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b API Key \u200b\u4fdd\u5b58\u200b\u5728\u200b <code>.env</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b <code>dotenv</code> \u200b\u5305\u200b\u7684\u200b <code>load_dotenv()</code> \u200b\u65b9\u6cd5\u200b\u8bfb\u53d6\u200b\u5230\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b <code>.env</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c42\u7ea7\u200b\u7ed3\u6784\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>.\n\u251c\u2500\u2500 .env\n\u2514\u2500\u2500 call-api.ipynb\n</code></pre> <p><code>.env</code> \u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>OPENAI_API_BASE=https://api.nextweb.fun/openai/v1\nOPENAI_API_KEY=ak-XXXXXX\nSPARK_API_KEY={APP Id}:{API Key}:{Secret Key}\nCHATGLM_API_KEY={API Key}\nERNIE_API_KEY={API Key}:{Secret Key}\nDASHSCOPE_API_KEY=sk-XXXXXX\n</code></pre> Python<pre><code># \u200b\u901a\u8fc7\u200b `dotenv` \u200b\u5305\u200b\u7684\u200b `load_dotenv()` \u200b\u65b9\u6cd5\u200b\u8bfb\u53d6\u200b\u5230\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\nload_dotenv()\n# \u200b\u4e0b\u9762\u200b\u7684\u200b\u4e09\u4e2a\u200b\u53d8\u91cf\u200b\u8f83\u4e3a\u200b\u7279\u6b8a\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u5426\u5219\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u9519\u8bef\u200b\nopenai.api_base = os.environ[\"OPENAI_API_BASE\"]\nopenai.api_key = os.environ[\"OPENAI_API_KEY\"]\ndashscope.api_key = os.environ[\"DASHSCOPE_API_KEY\"]\n</code></pre> Text Only<pre><code>True\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u8bbe\u7f6e\u5404\u4e2a\u6a21\u578b\u7684\u5bf9\u8bdd\u673a\u5668\u4eba\u5b9e\u4f8b","title":"\u8bbe\u7f6e\u200b\u5404\u4e2a\u200b\u6a21\u578b\u200b\u7684\u200b\u5bf9\u8bdd\u200b\u673a\u5668\u4eba\u200b\u5b9e\u4f8b","text":"Python<pre><code># \u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u200b\u63d0\u793a\u200b\u8bcd\u200b\nprompt = ChatPromptTemplate.from_template(\"{question}\")\n# \u200b\u8bbe\u7f6e\u200b\u5404\u4e2a\u200b\u6a21\u578b\u200b\u7684\u200b\u5bf9\u8bdd\u200b\u673a\u5668\u4eba\u200b\u5b9e\u4f8b\u200b\nllm_spark = SparkBot()\nllm_zhipuai = ChatGLM()\nllm_ernie = ErnieBot()\nchat_spark = LLMChain(llm=llm_spark, prompt=prompt)\nchat_zhipuai = LLMChain(llm=llm_zhipuai, prompt=prompt)\nchat_ernie = LLMChain(llm=llm_ernie, prompt=prompt)\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u6d4b\u8bd5\u5bf9\u8bdd\u6548\u679c","title":"\u6d4b\u8bd5\u200b\u5bf9\u8bdd\u200b\u6548\u679c","text":"Python<pre><code>prompt = \"\u200b\u4f60\u200b\u662f\u200b\u8c01\u200b\uff1f\"\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#openai","title":"OpenAI","text":"Python<pre><code>openai.ChatCompletion.create(\nmodel=\"gpt-3.5-turbo\",\nmessages=[{\"role\": \"user\", \"content\": prompt}],\n).choices[0].message.content\n</code></pre> Text Only<pre><code>'\u200b\u6211\u200b\u662f\u200b\u4e00\u4e2a\u200bAI\u200b\u52a9\u624b\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5b9e\u4f53\u200b\u8eab\u4efd\u200b\u3002\u200b\u6211\u200b\u53ef\u4ee5\u200b\u56de\u7b54\u200b\u4e00\u4e9b\u200b\u95ee\u9898\u200b\u548c\u200b\u63d0\u4f9b\u200b\u4e00\u4e9b\u200b\u5efa\u8bae\u200b\u3002'\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u8baf\u98de\u661f\u706b","title":"\u8baf\u200b\u98de\u200b\u661f\u706b","text":"Python<pre><code>chat_spark.run(prompt)\n</code></pre> Text Only<pre><code>'\u200b\u60a8\u597d\u200b\uff0c\u200b\u6211\u200b\u662f\u200b\u79d1\u5927\u200b\u8baf\u200b\u98de\u200b\u7814\u53d1\u200b\u7684\u200b\u8ba4\u77e5\u200b\u667a\u80fd\u200b\u5927\u200b\u6a21\u578b\u200b\uff0c\u200b\u6211\u200b\u7684\u200b\u540d\u5b57\u200b\u53eb\u200b\u8baf\u200b\u98de\u200b\u661f\u706b\u200b\u8ba4\u77e5\u200b\u5927\u200b\u6a21\u578b\u200b\u3002\u200b\u6211\u200b\u53ef\u4ee5\u200b\u548c\u200b\u4eba\u7c7b\u200b\u8fdb\u884c\u200b\u81ea\u7136\u200b\u4ea4\u6d41\u200b\uff0c\u200b\u89e3\u7b54\u200b\u95ee\u9898\u200b\uff0c\u200b\u9ad8\u6548\u200b\u5b8c\u6210\u200b\u5404\u200b\u9886\u57df\u200b\u8ba4\u77e5\u200b\u667a\u80fd\u200b\u9700\u6c42\u200b\u3002'\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u667a\u8c31-ai","title":"\u667a\u8c31\u200b AI","text":"Python<pre><code>chat_zhipuai.run(prompt)[1:-1].strip()\n</code></pre> Text Only<pre><code>'\u200b\u6211\u200b\u662f\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b ChatGLM2-12B \u200b\u7684\u200b\u4eba\u5de5\u667a\u80fd\u200b\u52a9\u624b\u200b\uff0c\u200b\u662f\u200b\u57fa\u4e8e\u200b\u6e05\u534e\u5927\u5b66\u200b KEG \u200b\u5b9e\u9a8c\u5ba4\u200b\u548c\u200b\u667a\u8c31\u200b AI \u200b\u516c\u53f8\u200b\u4e8e\u200b 2023 \u200b\u5e74\u200b\u5171\u540c\u200b\u8bad\u7ec3\u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u5f00\u53d1\u200b\u7684\u200b\u3002\u200b\u6211\u200b\u7684\u200b\u4efb\u52a1\u200b\u662f\u200b\u9488\u5bf9\u200b\u7528\u6237\u200b\u7684\u200b\u95ee\u9898\u200b\u548c\u200b\u8981\u6c42\u200b\u63d0\u4f9b\u200b\u9002\u5f53\u200b\u7684\u200b\u7b54\u590d\u200b\u548c\u200b\u652f\u6301\u200b\u3002'\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u767e\u5ea6","title":"\u767e\u5ea6","text":"Python<pre><code>chat_ernie.run(prompt)\n</code></pre> Text Only<pre><code>'\u200b\u60a8\u597d\u200b\uff0c\u200b\u6211\u200b\u662f\u200b\u767e\u5ea6\u200b\u7814\u53d1\u200b\u7684\u200b\u77e5\u8bc6\u200b\u589e\u5f3a\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u4e2d\u6587\u540d\u200b\u662f\u200b\u6587\u5fc3\u200b\u4e00\u200b\u8a00\u200b\uff0c\u200b\u82f1\u6587\u540d\u200b\u662f\u200bERNIE Bot\u3002\u200b\u6211\u200b\u80fd\u591f\u200b\u4e0e\u200b\u4eba\u200b\u5bf9\u8bdd\u200b\u4e92\u52a8\u200b\uff0c\u200b\u56de\u7b54\u200b\u95ee\u9898\u200b\uff0c\u200b\u534f\u52a9\u200b\u521b\u4f5c\u200b\uff0c\u200b\u9ad8\u6548\u200b\u4fbf\u6377\u200b\u5730\u200b\u5e2e\u52a9\u200b\u4eba\u4eec\u200b\u83b7\u53d6\u4fe1\u606f\u200b\u3001\u200b\u77e5\u8bc6\u200b\u548c\u200b\u7075\u611f\u200b\u3002\\n\\n\u200b\u5982\u679c\u200b\u60a8\u200b\u6709\u200b\u4efb\u4f55\u200b\u95ee\u9898\u200b\uff0c\u200b\u8bf7\u200b\u968f\u65f6\u200b\u544a\u8bc9\u200b\u6211\u200b\u3002'\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/call-llm-api-in-python/#\u963f\u91cc\u901a\u4e49\u5343\u95ee","title":"\u963f\u91cc\u200b\u901a\u4e49\u200b\u5343\u95ee","text":"Python<pre><code>Generation.call(model=\"qwen-turbo\", prompt=prompt).output.text\n</code></pre> Text Only<pre><code>'\u200b\u6211\u200b\u662f\u200b\u6765\u81ea\u200b\u963f\u91cc\u200b\u4e91\u200b\u7684\u200b\u5927\u89c4\u6a21\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\uff0c\u200b\u6211\u200b\u53eb\u200b\u901a\u4e49\u200b\u5343\u95ee\u200b\u3002'\n</code></pre>","tags":["Python","LLM"]},{"location":"blog/jupyter-notebook-store-result/","title":"Jupyter Notebook \u200b\u6062\u590d\u200b\u5386\u53f2\u200b\u6267\u884c\u200b\u4fe1\u606f\u200b\u4e0e\u200b\u5b58\u50a8\u200b\u6267\u884c\u200b\u7ed3\u679c","text":"","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u83b7\u53d6\u5386\u53f2\u6267\u884c\u4fe1\u606f","title":"\u83b7\u53d6\u200b\u5386\u53f2\u200b\u6267\u884c\u200b\u4fe1\u606f","text":"","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u95ee\u9898","title":"\u95ee\u9898","text":"<p>\u200b\u5047\u5982\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u5728\u200b <code>Jupyter</code> \u200b\u4e2d\u200b\u7f16\u5199\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u8ba1\u7b97\u200b\u540e\u200b\u53d1\u73b0\u200b\u5fd8\u8bb0\u200b\u5c06\u200b\u7ed3\u679c\u200b\u8d4b\u503c\u200b\u4e86\u200b\u3002\u200b\u4e00\u822c\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u200b\u518d\u6b21\u200b\u6267\u884c\u200b\u8be5\u200b\u5355\u5143\u200b\u5e76\u200b\u751f\u6210\u200b\u7ed3\u679c\u200b\u5b8c\u6210\u200b\u8d4b\u503c\u200b\u3002</p> <p>\u200b\u90a3\u4e48\u200b\u5982\u4f55\u200b\u4e0d\u200b\u91cd\u65b0\u200b\u8fd0\u884c\u200b\u800c\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u7ed3\u679c\u200b\u5462\u200b\uff1f</p>","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u89e3\u51b3\u65b9\u6cd5","title":"\u89e3\u51b3\u200b\u65b9\u6cd5","text":"","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u65b9\u6cd5\u4e00_-\u53d8\u91cf","title":"\u65b9\u6cd5\u200b\u4e00\u200b\uff1a<code>_</code> \u200b\u53d8\u91cf","text":"<p>\u200b\u5728\u200b Python \u200b\u4ea4\u4e92\u5f0f\u200b\u547d\u4ee4\u884c\u200b (\u200b\u76f4\u63a5\u200b\u6267\u884c\u200b python \u200b\u547d\u4ee4\u200b\u8fdb\u5165\u200b\u7684\u200b\u4ea4\u4e92\u200b\u73af\u5883\u200b) \u200b\u91cc\u200b\uff0c<code>_</code> \u200b\u53d8\u91cf\u200b\u6709\u200b\u4e00\u5c42\u200b\u7279\u6b8a\u200b\u542b\u4e49\u200b\uff1a\u200b\u9ed8\u8ba4\u200b\u4fdd\u5b58\u200b\u6211\u4eec\u200b\u4e0a\u200b\u4e00\u6b21\u200b\u8f93\u5165\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u8fd4\u56de\u200b\u7684\u200b\u503c\u200b\uff1a</p> <p></p> <p>\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>_</code> \u200b\u53d8\u91cf\u200b\u67e5\u770b\u200b\u4e0a\u200b\u4e00\u6b21\u200b\u8f93\u5165\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u8fd4\u56de\u200b\u7684\u200b\u503c\u200b\u3002</p>","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u65b9\u6cd5\u4e8cout-\u53d8\u91cf","title":"\u65b9\u6cd5\u200b\u4e8c\u200b\uff1a<code>Out</code> \u200b\u53d8\u91cf","text":"<p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u5728\u200b <code>Jupyter</code> \u200b\u4e2d\u200b\u6267\u884c\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u770b\u5230\u200b\u5355\u5143\u683c\u200b\u4e4b\u5916\u200b\u7684\u200b <code>In[2]:</code>\uff0c\u200b\u7ed3\u679c\u200b\u8f93\u51fa\u200b\u4ee5\u540e\u200b\u5355\u5143\u200b\u683c\u5916\u200b\u4e5f\u200b\u4f1a\u200b\u51fa\u73b0\u200b <code>Out[2]:</code>\uff0c\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200b IPython \u200b\u4e2d\u200b\uff1a</p> <p><code>Out</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6807\u51c6\u200b\u7684\u200b Python \u200b\u5b57\u5178\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u5355\u5143\u200b\u683c\u200b\u8f93\u51fa\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u6b64\u65f6\u200b\u7684\u200b\u5b57\u5178\u200b\u4e2d\u200b\uff0c\u200b\u952e\u200b (key) \u200b\u5c31\u662f\u200b<code>2</code>\uff0c\u200b\u5373\u200b\u5355\u5143\u683c\u200b\u6267\u884c\u200b\u6b21\u6570\u200b\u7684\u200b id\uff08id \u200b\u53ea\u4f1a\u200b\u6309\u200b 1,2,..,n \u200b\u7684\u200b\u987a\u5e8f\u200b\u4f9d\u6b21\u200b\u589e\u52a0\u200b\uff0c\u200b\u65e0\u8bba\u200b\u6267\u884c\u200b\u4ec0\u4e48\u200b\u5355\u5143\u683c\u200b\uff09\uff0c\u200b\u800c\u503c\u200b (value) \u200b\u5219\u200b\u4e3a\u200b\u5355\u5143\u683c\u200b\u7684\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\u3002</p> <p><code>In</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b Python \u200b\u5217\u8868\u200b\uff0c\u200b\u5b58\u50a8\u200b\u7740\u200b\u6309\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u518d\u6b21\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u53d1\u73b0\u200b\u6267\u884c\u200b\u4ee3\u7801\u200b\u548c\u200b\u7ed3\u679c\u200b\u7adf\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u590d\u73b0\u200b\u3002</p> <p></p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u6211\u4eec\u200b\u505a\u200b\u7684\u200b\u4efb\u4f55\u200b\u64cd\u4f5c\u200b\u4ee5\u53ca\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0cJupyter \u200b\u90fd\u200b\u5728\u200b\u505a\u200b\u7740\u200b\u7b14\u8bb0\u200b\u548c\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u800c\u4e14\u200b\u6bcf\u4e2a\u200b\u8bb0\u5f55\u200b\u90fd\u200b\u662f\u200b\u72ec\u7acb\u200b\u5b58\u5728\u200b\uff0cid \u200b\u4f9d\u6b21\u200b\u589e\u52a0\u200b\u4fdd\u8bc1\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u8986\u76d6\u200b\u3002\u200b\u6240\u4ee5\u200b\u5f53\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5c0f\u5fc3\u200b\u72af\u9519\u200b\u6216\u8005\u200b\u627e\u200b\u4e0d\u5230\u200b\u4e4b\u524d\u200b\u7ed3\u679c\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5c31\u200b\u90fd\u200b\u53ef\u200b\u6709\u8ff9\u53ef\u5faa\u200b\u4e86\u200b\u3002</p>","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u5b58\u50a8\u6267\u884c\u7ed3\u679c","title":"\u5b58\u50a8\u200b\u6267\u884c\u200b\u7ed3\u679c","text":"","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u95ee\u9898_1","title":"\u95ee\u9898","text":"<p>\u200b\u5728\u200b\u7528\u200b Jupyter \u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u7531\u4e8e\u200b\u67d0\u79cd\u539f\u56e0\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u542f\u52a8\u200b\u5185\u6838\u200b\u3002\u200b\u4f46\u200b\u4e00\u822c\u200b\u5728\u200b\u91cd\u65b0\u542f\u52a8\u200b\u4e4b\u524d\u200b\uff0c\u200b\u4f1a\u200b\u5c06\u200b\u6570\u636e\u200b\u5bf9\u8c61\u200b\u4fdd\u5b58\u200b\u4e0b\u6765\u200b\uff0c\u200b\u4ee5\u514d\u200b\u518d\u6b21\u200b\u8fd0\u884c\u200b\u540e\u200b\u91cd\u65b0\u200b\u518d\u200b\u8dd1\u200b\u4e00\u904d\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4ee3\u7801\u200b\u6bd4\u8f83\u200b\u591a\u200b\uff0c\u200b\u6570\u636e\u91cf\u200b\u6bd4\u8f83\u200b\u5927\u200b\uff0c\u200b\u90a3\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u8017\u65f6\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u800c\u4e14\u200b\u5355\u72ec\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200b\u91cd\u8981\u200b\u7684\u200b\u6570\u636e\u200b\u5bf9\u8c61\u200b\u4e5f\u200b\u662f\u200b\u6bd4\u8f83\u200b\u9ebb\u70e6\u200b\u7684\u200b\u3002</p>","tags":["Python"]},{"location":"blog/jupyter-notebook-store-result/#\u89e3\u51b3\u65b9\u6cd5\u9b54\u6cd5\u547d\u4ee4-store","title":"\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u9b54\u6cd5\u200b\u547d\u4ee4\u200b store","text":"<p>magic \u200b\u9b54\u6cd5\u200b\u547d\u4ee4\u200b\u4e2d\u200b\u7684\u200b<code>store</code>\u200b\u53ef\u4ee5\u200b\u5b8c\u7f8e\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u6211\u4eec\u200b\u5728\u200b\u5373\u4f7f\u200b\u91cd\u65b0\u542f\u52a8\u200b\u5185\u6838\u200b\u540e\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u91cd\u542f\u200b\u4e4b\u524d\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u7684\u200b\u5bf9\u8c61\u200b\u548c\u200b\u7ed3\u679c\u200b\u3002\u200b\u8fd9\u200b\u5c31\u200b\u907f\u514d\u200b\u4e86\u200b\u6211\u4eec\u200b\u53cd\u590d\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u8f6c\u50a8\u200b\u5230\u200b\u78c1\u76d8\u200b\u7684\u200b\u9ebb\u70e6\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6f14\u793a\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b<code>store</code>\u200b\u547d\u4ee4\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b dataframe \u200b\u5bf9\u8c61\u200b\u5e76\u200b\u8d4b\u200b\u7ed9\u200b df\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b df \u200b\u7528\u200b<code>store</code>\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u5f53\u200b\u91cd\u542f\u200b\u5185\u6838\u200b\u540e\u200b\uff0c\u200b\u518d\u200b\u901a\u8fc7\u200b<code>store</code>\u200b\u547d\u4ee4\u200b\u91cd\u65b0\u200b\u83b7\u53d6\u200b\u3002</p> <p><code>store</code>\u200b\u547d\u4ee4\u200b\u7684\u200b\u5177\u4f53\u64cd\u4f5c\u200b\u5982\u4e0b\u200b\u3002</p> Text Only<pre><code># \u200b\u5b58\u50a8\u200b\u53d8\u91cf\u200b\n%store value\n# \u200b\u5b58\u50a8\u200b\u591a\u4e2a\u200b\u53d8\u91cf\u200b\n%store var1 var2\n# \u200b\u83b7\u53d6\u200b\u53d8\u91cf\u200b\n%store -r value\n</code></pre>","tags":["Python"]},{"location":"blog/chat-data/","title":"chat-data: \u200b\u57fa\u4e8e\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5e94\u7528","text":"<p>\u200b\u5728\u200b\u6570\u636e\u5206\u6790\u200b\u9886\u57df\u200b\uff0c<code>Pandas</code> \u200b\u662f\u200b\u6700\u200b\u53d7\u6b22\u8fce\u200b\u7684\u200b Python \u200b\u5e93\u200b\u4e4b\u4e00\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u8bb8\u591a\u200b\u6570\u636e\u5206\u6790\u200b\u4efb\u52a1\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u4eba\u5de5\u667a\u80fd\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u81ea\u52a8\u5316\u200b\u3002<code>PandasAI</code> \u200b\u5e93\u4e3a\u200b\u6d41\u884c\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u548c\u200b\u5904\u7406\u200b\u5de5\u5177\u200b Pandas \u200b\u6dfb\u52a0\u200b\u4e86\u200b\u751f\u6210\u5f0f\u200b\u4eba\u5de5\u667a\u80fd\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4e0e\u200b <code>DataFrame</code> \u200b\u8fdb\u884c\u200b\u5bf9\u8bdd\u200b\uff0c\u200b\u5e76\u200b\u5f97\u5230\u200b\u60f3\u8981\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4f7f\u7528\u200b <code>Streamlit</code> \u200b\u6784\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5728\u7ebf\u200b\u5e94\u7528\u200b\uff0c\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b Excel/CSV \u200b\u6570\u636e\u200b\uff0c\u200b\u5728\u200b\u8f93\u5165\u200b\u60f3\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u4efb\u52a1\u200b\u540e\u200b\uff0c\u200b\u4fbf\u200b\u53ef\u200b\u5f97\u5230\u200b\u56fe\u8868\u200b\u7b49\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u751f\u6210\u200b\u8be5\u200b\u7ed3\u679c\u200b\u7684\u200b\u76f8\u5e94\u200b\u4ee3\u7801\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/chat-data/#\u9879\u76ee\u52a8\u673a","title":"\u9879\u76ee\u200b\u52a8\u673a","text":"<p><code>Pandas</code> \u200b\u662f\u200b Python \u200b\u4e2d\u200b\u6700\u200b\u6d41\u884c\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5e93\u200b\uff0c\u200b\u4f46\u200b\u5bf9\u4e8e\u200b\u975e\u200b\u6280\u672f\u4eba\u5458\u200b\u6765\u8bf4\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>Pandas</code> \u200b\u8fdb\u884c\u200b\u6570\u636e\u5206\u6790\u200b\u53ef\u80fd\u200b\u6709\u4e9b\u200b\u56f0\u96be\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u5de5\u5177\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u7528\u6237\u200b\u8fdb\u884c\u200b\u65e5\u5e38\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5de5\u4f5c\u200b\u3002</p> <p>\u200b\u5728\u200b\u6700\u7ec8\u200b\u7684\u200b\u5e94\u7528\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5b83\u200b\u53ef\u4ee5\u200b\uff1a</p> <ul> <li>\u200b\u8ba9\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u81ea\u5df1\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u65e0\u8bba\u662f\u200b Excel \u200b\u8fd8\u662f\u200b CSV \u200b\u683c\u5f0f\u200b\uff08\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u683c\u5f0f\u200b\u5728\u200b\u5546\u4e1a\u200b\u9886\u57df\u200b\u662f\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\uff09\u3002</li> <li>\u200b\u663e\u793a\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u601d\u8003\u200b\u4ed6\u4eec\u200b\u60f3\u8981\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u54ea\u4e9b\u200b\u64cd\u4f5c\u200b\u3002</li> <li>\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u60f3\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u4efb\u52a1\u200b\u3002</li> <li>\u200b\u8f93\u51fa\u200b\u7528\u6237\u200b\u60f3\u8981\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5305\u62ec\u200b\u6570\u5b57\u200b\u3001\u200b\u8868\u683c\u200b\u548c\u200b\u56fe\u8868\u200b\u7b49\u200b\u3002</li> <li>\u200b\u663e\u793a\u200b\u4e0e\u200b\u4efb\u52a1\u200b\u76f8\u5bf9\u200b\u5e94\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u81ea\u884c\u200b\u6267\u884c\u200b\u6216\u200b\u4fee\u6539\u200b\u4ee3\u7801\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/chat-data/#\u6548\u679c\u5c55\u793a","title":"\u6548\u679c\u200b\u5c55\u793a","text":"<p>\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5728\u200b https://chat-data.streamlit.app/ \u200b\u4e0a\u200b\u4f53\u9a8c\u200b\u5728\u7ebf\u200b\u6f14\u793a\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u5206\u6790\u6570\u636e\u6846","title":"\u5206\u6790\u200b\u6570\u636e\u200b\u6846","text":"<p>\u200b\u8f93\u5165\u200b\u95ee\u9898\u200b\uff1a</p> Text Only<pre><code>What is the total profit for each country? Round the result to two decimals.\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/chat-data/#\u7ed8\u5236\u56fe\u7247","title":"\u7ed8\u5236\u200b\u56fe\u7247","text":"<p>\u200b\u8f93\u5165\u200b\u95ee\u9898\u200b\uff1a</p> Text Only<pre><code>Plot a line chart  to show the trend of interest expense, interest income, and net interest income.\n</code></pre> <p></p> <p></p>","tags":["Python"]},{"location":"blog/chat-data/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"<p>GitHub \u200b\u4ed3\u5e93\u200b\u4e0a\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5b8c\u6574\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u5c06\u8981\u200b\u6784\u5efa\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4f7f\u7528\u200b Streamlit \u200b\u6784\u5efa\u200b\u7684\u200b\u4ea4\u4e92\u5f0f\u200b\u6570\u636e\u5206\u6790\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u4e0a\u4f20\u200b Excel \u200b\u6216\u200b CSV \u200b\u6587\u4ef6\u200b\uff0c\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b OpenAI \u200b\u7684\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u4e0e\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u5e76\u200b\u83b7\u5f97\u200b\u9488\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u81ea\u7136\u8bed\u8a00\u200b\u54cd\u5e94\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u5bfc\u5165\u6a21\u5757","title":"\u5bfc\u5165\u200b\u6a21\u5757","text":"<p>Python<pre><code>import os\nfrom dotenv import load_dotenv\nimport pandas as pd\nimport streamlit as st\nfrom pandasai import SmartDatalake\nfrom pandasai.llm.openai import OpenAI\nfrom pandasai.middlewares import StreamlitMiddleware\nfrom pandasai.responses.streamlit_response import StreamlitResponse\n</code></pre> \u200b\u8fd9\u90e8\u5206\u200b\u4ee3\u7801\u200b\u5bfc\u5165\u200b\u4e86\u200b\u6240\u200b\u9700\u200b\u7684\u200b Python \u200b\u6a21\u5757\u200b\u3002<code>os</code> \u200b\u7528\u4e8e\u200b\u4e0e\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4ea4\u4e92\u200b\uff0c<code>dotenv</code> \u200b\u7528\u4e8e\u200b\u52a0\u8f7d\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c<code>pandas</code> \u200b\u7528\u4e8e\u200b\u6570\u636e\u5904\u7406\u200b\uff0c<code>streamlit</code> \u200b\u7528\u4e8e\u200b\u6784\u5efa\u200b\u4ea4\u4e92\u5f0f\u200b\u5e94\u7528\u200b\uff0c\u200b\u800c\u200b <code>pandasai</code> \u200b\u5219\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e0e\u200b\u6570\u636e\u200b\u76f8\u5173\u200b\u7684\u200b\u667a\u80fd\u200b\u529f\u80fd\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u52a0\u8f7d\u73af\u5883\u53d8\u91cf","title":"\u52a0\u8f7d\u200b\u73af\u5883\u53d8\u91cf","text":"<p>Python<pre><code>load_dotenv()\n</code></pre> \u200b\u8fd9\u200b\u884c\u200b\u4ee3\u7801\u200b\u4f7f\u7528\u200b <code>dotenv</code> \u200b\u6a21\u5757\u200b\u6765\u200b\u52a0\u8f7d\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u8bbe\u7f6e\u9875\u9762\u914d\u7f6e","title":"\u8bbe\u7f6e\u200b\u9875\u9762\u200b\u914d\u7f6e","text":"<p>Python<pre><code>if __name__ == \"__main__\":\nst.set_page_config(\nlayout=\"wide\",\npage_icon=\"./image/logo.svg\",\npage_title=\"Chat with Excel / CSV Data\",\n)\nst.title(\"Chat with Excel / CSV Data\")\n</code></pre> \u200b\u5728\u200b\u8fd9\u91cc\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>st.set_page_config</code> \u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u9875\u9762\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u3001\u200b\u56fe\u6807\u200b\u548c\u200b\u6807\u9898\u200b\u3002\u200b\u63a5\u7740\u200b\u4f7f\u7528\u200b <code>st.title</code> \u200b\u6dfb\u52a0\u200b\u4e86\u200b\u9875\u9762\u200b\u7684\u200b\u6807\u9898\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u4fa7\u8fb9\u680f\u8bbe\u7f6e","title":"\u4fa7\u8fb9\u200b\u680f\u200b\u8bbe\u7f6e","text":"<p>Python<pre><code>with st.sidebar:\nst.header(\n\"Set your API Key\",\nhelp=\"You can get it from [OpenAI](https://platform.openai.com/account/api-keys/), or buy it conveniently from [here](https://api.nextweb.fun/).\",\n)\n</code></pre> \u200b\u8fd9\u200b\u4e00\u90e8\u5206\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u4fa7\u8fb9\u200b\u680f\u200b\uff0c\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u8bbe\u7f6e\u200b\u4ed6\u4eec\u200b\u7684\u200b OpenAI API \u200b\u5bc6\u94a5\u200b\u3002\u200b\u540c\u65f6\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u94fe\u63a5\u200b\u5230\u200b OpenAI \u200b\u5b98\u7f51\u200b\u83b7\u53d6\u200b API \u200b\u5bc6\u94a5\u200b\u7684\u200b\u5e2e\u52a9\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u4e3b\u5185\u5bb9\u533a\u57df","title":"\u4e3b\u200b\u5185\u5bb9\u200b\u533a\u57df","text":"<p>Python<pre><code>with st.container():\npass\n</code></pre> \u200b\u8fd9\u200b\u4e00\u90e8\u5206\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e3b\u8981\u200b\u7684\u200b\u5185\u5bb9\u200b\u533a\u57df\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u5e76\u200b\u8fdb\u884c\u200b\u6570\u636e\u5206\u6790\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u6587\u4ef6\u4e0a\u4f20\u548c\u6570\u636e\u52a0\u8f7d","title":"\u6587\u4ef6\u200b\u4e0a\u4f20\u200b\u548c\u200b\u6570\u636e\u200b\u52a0\u8f7d","text":"<p>Python<pre><code>input_files = st.file_uploader(\n\"Upload files\", type=[\"xlsx\", \"csv\"], accept_multiple_files=True\n)\n# \u200b\u5982\u679c\u200b\u7528\u6237\u200b\u4e0a\u4f20\u200b\u4e86\u200b\u6587\u4ef6\u200b\uff0c\u200b\u52a0\u8f7d\u200b\u5b83\u4eec\u200b\nif len(input_files) &gt; 0:\ndata_list = []\nfor input_file in input_files:\nif input_file.name.lower().endswith(\".csv\"):\ndata = pd.read_csv(input_file)\nelse:\ndata = pd.read_excel(input_file)\nst.dataframe(data, use_container_width=True)\ndata_list.append(data)\n# \u200b\u5426\u5219\u200b\u52a0\u8f7d\u200b\u9ed8\u8ba4\u200b\u6587\u4ef6\u200b\nelse:\nst.header(\"Example Data\")\ndata = pd.read_excel(\"./Sample.xlsx\")\nst.dataframe(data, use_container_width=True)\ndata_list = [data]\n</code></pre> \u200b\u8fd9\u90e8\u5206\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u4e0a\u4f20\u200b\u591a\u4e2a\u200b Excel \u200b\u6216\u200b CSV \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u6839\u636e\u200b\u6587\u4ef6\u7c7b\u578b\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u4e0a\u4f20\u200b\u4e86\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5219\u200b\u52a0\u8f7d\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5426\u5219\u200b\u52a0\u8f7d\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u793a\u4f8b\u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u521b\u5efa-smartdatalake-\u5b9e\u4f8b","title":"\u521b\u5efa\u200b SmartDatalake \u200b\u5b9e\u4f8b","text":"<p>Python<pre><code>df = SmartDatalake(\ndfs=data_list,\nconfig={\n\"llm\": llm,\n\"verbose\": True,\n\"response_parser\": StreamlitResponse,\n\"middlewares\": [StreamlitMiddleware()],\n},\n)\n</code></pre> \u200b\u8fd9\u91cc\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b <code>SmartDatalake</code> \u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5904\u7406\u200b\u7528\u6237\u200b\u4e0a\u4f20\u200b\u7684\u200b\u6570\u636e\u200b\u3002<code>SmartDatalake</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b\u6570\u636e\u5206\u6790\u200b\u548c\u200b\u4ea4\u4e92\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u5b83\u200b\u63a5\u53d7\u200b\u6570\u636e\u200b\u6846\u200b\u5217\u8868\u200b\u548c\u200b\u914d\u7f6e\u200b\u53c2\u6570\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u62ec\u200b\u4e0e\u200b OpenAI \u200b\u4ea4\u4e92\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u53c2\u6570\u200b\u3002</p>","tags":["Python"]},{"location":"blog/chat-data/#\u8f93\u5165\u6587\u672c\u548c\u6267\u884c\u4ea4\u4e92","title":"\u8f93\u5165\u200b\u6587\u672c\u200b\u548c\u200b\u6267\u884c\u200b\u4ea4\u4e92","text":"<p>Python<pre><code>st.header(\"Ask anything!\")\ninput_text = st.text_area(\n\"Enter your question\", value=\"What is the total profit for each country?\"\n)\nif input_text is not None:\nif st.button(\"Start Execution\"):\nresult = df.chat(input_text)\n# \u200b\u663e\u793a\u200b\u7ed3\u679c\u200b\u548c\u200b\u4ee3\u7801\u200b\ncol1, col2 = st.columns(2)\nwith col1:\n# \u200b\u663e\u793a\u200b\u7ed3\u679c\u200b\nst.header(\"Answer\")\nst.write(result)\nwith col2:\n# \u200b\u663e\u793a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4ee3\u7801\u200b\nst.header(\"The corresponding code\")\nst.code(df.last_code_executed, language=\"python\", line_numbers=True)\n</code></pre> \u200b\u8fd9\u90e8\u5206\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\u5e76\u200b\u6267\u884c\u200b\u4ea4\u4e92\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5f53\u200b\u7528\u6237\u200b\u70b9\u51fb\u200b \"Start Execution\" \u200b\u6309\u94ae\u200b\u65f6\u200b\uff0c\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u7528\u6237\u200b\u63d0\u4f9b\u200b\u7684\u200b\u6587\u672c\u200b\u4e0e\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u5e76\u200b\u663e\u793a\u200b\u4ea4\u4e92\u200b\u7ed3\u679c\u200b\u4ee5\u53ca\u200b\u6267\u884c\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p>","tags":["Python"]},{"location":"blog/argparse-bool-type/","title":"Python <code>argparse</code> \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u4e3a\u200b\u5e03\u5c14\u503c","text":"<p>\u200b\u5728\u200b Python \u200b\u5f00\u53d1\u200b\u4e2d\u200b\uff0c\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u89e3\u6790\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u89c1\u200b\u7684\u200b\u9700\u6c42\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u6211\u4eec\u200b\u4ee5\u200b\u547d\u4ee4\u884c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5411\u200b\u7a0b\u5e8f\u200b\u4f20\u9012\u200b\u53c2\u6570\u200b\uff0c\u200b\u4ece\u800c\u200b\u5b9e\u73b0\u200b\u66f4\u200b\u7075\u6d3b\u200b\u548c\u200b\u53ef\u200b\u914d\u7f6e\u200b\u7684\u200b\u7a0b\u5e8f\u8bbe\u8ba1\u200b\u3002Python \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5185\u7f6e\u200b\u5e93\u200b <code>argparse</code>\uff0c\u200b\u5b83\u200b\u7b80\u5316\u200b\u4e86\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u89e3\u6790\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p>\u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b\u4ecb\u7ecd\u200b\u8fc7\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b <code>argparse</code> \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff0c\u200b\u672c\u6587\u200b\u5c06\u200b\u4ecb\u7ecd\u200b\u5982\u4f55\u200b\u6307\u5b9a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u4e3a\u200b\u5e03\u5c14\u503c\u200b\u7c7b\u578b\u200b\u3002\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b <code>type=bool</code> \u200b\u662f\u200b\u65e0\u6cd5\u200b\u5b9e\u73b0\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u9700\u8981\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b <code>callable</code> \u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5728\u200b\u5176\u4e2d\u200b\u7f16\u5199\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e03\u5c14\u503c\u200b\u7684\u200b\u903b\u8f91\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/argparse-bool-type/#\u5c1d\u8bd5\u6307\u5b9a-typebool","title":"\u5c1d\u8bd5\u200b\u6307\u5b9a\u200b <code>type=bool</code>","text":"<p>\u200b\u9996\u5148\u200b\u6211\u4eec\u200b\u5c1d\u8bd5\u200b\u6307\u5b9a\u200b <code>type=bool</code>\uff1a</p> Python<pre><code>import argparse\nparser = argparse.ArgumentParser(\"test\")\nparser.add_argument(\"--yesorno\", type=bool, default=True)\nargs = parser.parse_args()\nyesorno = args.yesorno\nprint(type(yesorno))\nprint(yesorno)\n</code></pre> <p>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8fd0\u884c\u200b\uff1a</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5373\u4f7f\u200b\u63d0\u4f9b\u200b\u7684\u200b\u53c2\u6570\u200b\u4e3a\u200b <code>False</code>\uff0c\u200b\u4f46\u200b\u7a0b\u5e8f\u200b\u4ecd\u7136\u200b\u89e3\u6790\u200b\u4e3a\u4e86\u200b <code>True</code>\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b <code>argparse</code> \u200b\u4f1a\u200b\u5c06\u200b\u6211\u4eec\u200b\u63d0\u4f9b\u200b\u7684\u200b <code>False</code> \u200b\u5f53\u4f5c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u518d\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b <code>True</code>\uff0c\u200b\u800c\u200b\u5b57\u7b26\u4e32\u200b <code>bool(\"False\")</code> \u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b <code>True</code>\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/argparse-bool-type/#\u4f7f\u7528-typelambda-x-strxlower--true","title":"\u4f7f\u7528\u200b <code>type=lambda x: (str(x).lower() == 'true')</code>","text":"<p>\u200b\u53c2\u8003\u200b Stackoverflow \u200b\u7684\u200b\u56de\u7b54\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5bf9\u200b <code>type</code> \u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b <code>callable</code> \u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5728\u200b\u5176\u4e2d\u200b\u7f16\u5199\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e03\u5c14\u503c\u200b\u7684\u200b\u903b\u8f91\u200b\u3002</p> Python<pre><code>import argparse\nparser = argparse.ArgumentParser(\"test\")\nparser.add_argument(\n\"--yesorno\", type=lambda x: (str(x).lower() == \"true\"), default=True\n)\nargs = parser.parse_args()\nyesorno = args.yesorno\nprint(type(yesorno))\nprint(yesorno)\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/argparse-bool-type/#\u8003\u8651\u66f4\u5168\u9762\u7684\u5199\u6cd5","title":"\u8003\u8651\u200b\u66f4\u200b\u5168\u9762\u200b\u7684\u200b\u5199\u6cd5","text":"<p>\u200b\u6709\u65f6\u200b\u7528\u6237\u200b\u5e76\u200b\u4e0d\u200b\u53ea\u662f\u200b\u63d0\u4f9b\u200b <code>True</code> \u200b\u8fd9\u6837\u200b\u6807\u51c6\u200b\u7684\u200b\u5199\u6cd5\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>yes</code>\u3001<code>y</code>\u3001<code>t</code> \u200b\u7b49\u7b49\u200b\u53ef\u80fd\u200b\u90fd\u200b\u4ee3\u8868\u200b\u771f\u503c\u200b\u542b\u4e49\u200b\u3002\u200b\u53c2\u8003\u200b Stackoverflow \u200b\u7684\u200b\u56de\u7b54\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200b\u66f4\u200b\u5168\u9762\u200b\u7684\u200b\u5224\u65ad\u200b\u903b\u8f91\u200b\uff1a</p> Python<pre><code>def str2bool(v):\nif isinstance(v, bool):\nreturn v\nif v.lower() in (\"yes\", \"true\", \"t\", \"y\", \"1\"):\nreturn True\nelif v.lower() in (\"no\", \"false\", \"f\", \"n\", \"0\"):\nreturn False\nelse:\nraise argparse.ArgumentTypeError(\"Boolean value expected.\")\n</code></pre> <p>\u200b\u6216\u8005\u200b\u53c2\u8003\u200b Stackoverflow \u200b\u7684\u200b\u56de\u7b54\u200b\u7684\u200b\u8bc4\u8bba\u200b\u533a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5185\u7f6e\u200b\u7684\u200b <code>distutils.util.strtobool</code>\uff0c\u200b\u81ea\u52a8\u200b\u5224\u65ad\u200b\u591a\u79cd\u200b\u8868\u8fbe\u200b\u771f\u503c\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff1a</p> Python<pre><code>import argparse\nfrom distutils.util import strtobool\nparser = argparse.ArgumentParser(\"test\")\nparser.add_argument(\"--yesorno\", type=lambda x: bool(strtobool(str(x))), default=True)\nargs = parser.parse_args()\nyesorno = args.yesorno\nprint(type(yesorno))\nprint(yesorno)\n</code></pre> <p></p> distutils.util.strtobool \u200b\u7684\u200b\u5b9e\u73b0\u200b Python<pre><code>def strtobool(val):\n\"\"\"Convert a string representation of truth to true (1) or false (0).\n    True values are 'y', 'yes', 't', 'true', 'on', and '1'; false values\n    are 'n', 'no', 'f', 'false', 'off', and '0'.  Raises ValueError if\n    'val' is anything else.\n    \"\"\"\nval = val.lower()\nif val in ('y', 'yes', 't', 'true', 'on', '1'):\nreturn 1\nelif val in ('n', 'no', 'f', 'false', 'off', '0'):\nreturn 0\nelse:\nraise ValueError(\"invalid truth value {!r}\".format(val))\n</code></pre>","tags":["Python"]},{"location":"blog/nbformat/","title":"\u6279\u91cf\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9","text":"<p>\u200b\u6709\u65f6\u200b\u9700\u8981\u200b\u6279\u91cf\u200b\u66ff\u6362\u200b\u8bb8\u591a\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u7531\u4e8e\u200b Jupyter Notebook \u200b\u5e76\u200b\u4e0d\u662f\u200b\u7b80\u5355\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\uff0c\u200b\u5728\u200b\u8bfb\u53d6\u200b\u548c\u200b\u66ff\u6362\u200b\u65f6\u200b\u5e76\u200b\u4e0d\u200b\u50cf\u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Python \u200b\u811a\u672c\u200b\u90a3\u6837\u200b\u65b9\u4fbf\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4f7f\u7528\u200b <code>nbformat</code> \u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/nbformat/#\u5f85\u4fee\u6539\u7684\u6587\u4ef6","title":"\u5f85\u200b\u4fee\u6539\u200b\u7684\u200b\u6587\u4ef6","text":"<p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u6709\u200b\u4e00\u4e2a\u200b Jupyter Notebook\uff0c\u200b\u5b83\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\u7684\u200b\u5185\u5bb9\u200b\u662f\u200b\uff1a</p> Python<pre><code>a = 1\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u628a\u200b\u6240\u6709\u200b\u7684\u200b <code>a = 1</code> \u200b\u7684\u200b\u4ee3\u7801\u200b\u66ff\u6362\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>a = 1\nb = 2\n</code></pre>","tags":["Python"]},{"location":"blog/nbformat/#\u6279\u91cf\u4fee\u6539-jupyter-notebook-\u7684\u5185\u5bb9\u7684\u4ee3\u7801","title":"\u6279\u91cf\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9\u200b\u7684\u200b\u4ee3\u7801","text":"<p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p> Python<pre><code># \u200b\u5bfc\u5165\u200b glob \u200b\u6a21\u5757\u200b\u7528\u4e8e\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u5339\u914d\u200b\nimport glob\n# \u200b\u5bfc\u5165\u200b nbformat \u200b\u6a21\u5757\u200b\u7528\u4e8e\u200b\u8bfb\u53d6\u200b\u548c\u200b\u5199\u5165\u200b Jupyter Notebook \u200b\u6587\u4ef6\u200b\nimport nbformat\n# \u200b\u5b9a\u4e49\u200b\u8981\u200b\u88ab\u200b\u66ff\u6362\u200b\u7684\u200b\u65e7\u200b\u4ee3\u7801\u200b\nold_code = \"\"\"a = 1\"\"\"\n# \u200b\u5b9a\u4e49\u65b0\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5c06\u200b\u66ff\u6362\u200b\u65e7\u200b\u4ee3\u7801\u200b\nnew_code = \"\"\"a = 1\nb = 2\"\"\"\n# \u200b\u904d\u5386\u200b\u5f53\u524d\u76ee\u5f55\u200b\u53ca\u5176\u200b\u6240\u6709\u200b\u5b50\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b.ipynb \u200b\u6587\u4ef6\u200b\nfor filename in glob.iglob(\"./**/*.ipynb\", recursive=True):\n# \u200b\u6392\u9664\u200b\u5f53\u524d\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\nif filename != \".\\\\edit-notebook-cell.ipynb\":  # (1)\n# \u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u5e76\u200b\u8bfb\u53d6\u200b\u5176\u200b\u5185\u5bb9\u200b\nwith open(filename, \"r\", encoding=\"utf-8\") as f:\nnb = nbformat.read(f, as_version=4)\n# \u200b\u904d\u5386\u200b notebook \u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u4ee3\u7801\u200b\u5355\u5143\u683c\u200b\nfor cell in nb.cells:\n# \u200b\u5982\u679c\u200b\u4ee3\u7801\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u5305\u542b\u200b\"source\"\u200b\u5c5e\u6027\u200b\uff0c\u200b\u4e14\u200b\u5176\u200b\u6e90\u4ee3\u7801\u200b\u4e2d\u200b\u5305\u542b\u200b\u65e7\u200b\u4ee3\u7801\u200b\nif \"source\" in cell and old_code in cell.source:\n# \u200b\u5c06\u200b\u65e7\u200b\u4ee3\u7801\u200b\u66ff\u6362\u200b\u4e3a\u200b\u65b0\u200b\u4ee3\u7801\u200b\ncell.source = cell.source.replace(old_code, new_code)\n# \u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u5e76\u200b\u5199\u5165\u200b\u65b0\u200b\u7684\u200b\u5185\u5bb9\u200b\nwith open(filename, \"w\", encoding=\"utf-8\") as f:\nnbformat.write(nb, f)\n</code></pre> <ol> <li>\u200b\u5f53\u524d\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u662f\u200b <code>edit-notebook-cell.ipynb</code>\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u6392\u9664\u200b\u3002</li> </ol> <p></p>","tags":["Python"]},{"location":"blog/randomness-when-convert-set-to-list/","title":"Python \u200b\u4e2d\u200b\u7684\u200b set \u200b\u548c\u200b list \u200b\u8f6c\u6362\u200b\u65f6\u200b\u7684\u200b\u968f\u673a\u6027","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0cset \u200b\u548c\u200b list \u200b\u662f\u200b\u4e24\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5728\u200b\u4f7f\u7528\u200b\u548c\u200b\u529f\u80fd\u200b\u4e0a\u200b\u6709\u200b\u5f88\u5927\u200b\u7684\u200b\u4e0d\u540c\u200b\u3002set \u200b\u662f\u200b\u4e00\u4e2a\u200b\u65e0\u5e8f\u200b\u7684\u200b\u3001\u200b\u4e0d\u200b\u91cd\u590d\u200b\u7684\u200b\u5143\u7d20\u200b\u96c6\u5408\u200b\uff0c\u200b\u800c\u200b list \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6709\u5e8f\u200b\u7684\u200b\u3001\u200b\u53ef\u200b\u91cd\u590d\u200b\u7684\u200b\u5143\u7d20\u200b\u96c6\u5408\u200b\u3002</p> <p>\u200b\u7136\u800c\u200b\uff0c\u200b\u4ece\u200b set \u200b\u5230\u200b list \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u8f6c\u6362\u200b\uff0c\u200b\u56e0\u4e3a\u200b set \u200b\u672c\u8eab\u200b\u5c31\u662f\u200b\u65e0\u5e8f\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4ece\u200b set \u200b\u5230\u200b list \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5e76\u200b\u6ca1\u6709\u200b\u56fa\u5b9a\u200b\u7684\u200b\u987a\u5e8f\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u6bcf\u6b21\u200b\u8f6c\u6362\u200b\u5f97\u5230\u200b\u7684\u200b list \u200b\u7684\u200b\u5143\u7d20\u200b\u987a\u5e8f\u200b\u53ef\u80fd\u200b\u90fd\u200b\u4f1a\u200b\u4e0d\u540c\u200b\u3002</p> <p>\u200b\u5728\u200b\u4e00\u4e9b\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u7ed3\u679c\u200b\u53ef\u200b\u91cd\u73b0\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u786e\u4fdd\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u7684\u200b\u7ed3\u679c\u200b\u90fd\u200b\u6ca1\u6709\u200b\u968f\u673a\u6027\u200b\u3002\u200b\u8bb8\u591a\u200b\u968f\u673a\u6027\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b\u6765\u200b\u63a7\u5236\u200b\uff0c\u200b\u4f46\u200b\u4ece\u200b set \u200b\u5230\u200b list \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u968f\u673a\u200b\u79cd\u5b50\u200b\u63a7\u5236\u200b\u4f4f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4ecd\u7136\u200b\u5b58\u5728\u200b\u968f\u673a\u6027\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u63a2\u8ba8\u200b\u4e86\u200b\u4ece\u200b set \u200b\u5230\u200b list \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u968f\u673a\u6027\u200b\uff0c\u200b\u4ea6\u200b\u4f5c\u4e3a\u200b\u6392\u67e5\u200b\u968f\u673a\u6027\u200b\u6765\u6e90\u200b\u7684\u200b\u4e00\u6b21\u200b\u8bb0\u5f55\u200b\u3002</p>","tags":["Python"]},{"location":"blog/randomness-when-convert-set-to-list/#set-\u5230-list-\u7684\u4ee3\u7801","title":"set \u200b\u5230\u200b list \u200b\u7684\u200b\u4ee3\u7801","text":"Python<pre><code>list({\"foo\", \"bar\", \"baz\", \"qux\"})\n</code></pre>","tags":["Python"]},{"location":"blog/randomness-when-convert-set-to-list/#\u7b2c\u4e00\u6b21\u8fd0\u884c\u7684\u7ed3\u679c","title":"\u7b2c\u4e00\u6b21\u200b\u8fd0\u884c\u200b\u7684\u200b\u7ed3\u679c","text":"<p>\u200b\u5728\u200b Jupyter Notebook \u200b\u6ca1\u6709\u200b\u88ab\u200b\u91cd\u542f\u200b\u524d\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u770b\u8d77\u6765\u200b\u4ece\u200b set \u200b\u5230\u200b list \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u6ca1\u6709\u200b\u968f\u673a\u6027\u200b\u3002</p>","tags":["Python"]},{"location":"blog/randomness-when-convert-set-to-list/#\u91cd\u542f-kernel-\u518d\u6b21\u8fd0\u884c\u7684\u7ed3\u679c","title":"\u91cd\u542f\u200b Kernel \u200b\u518d\u6b21\u200b\u8fd0\u884c\u200b\u7684\u200b\u7ed3\u679c","text":"<p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u540c\u6837\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5728\u200b\u91cd\u542f\u200b Kernel \u200b\u518d\u6b21\u200b\u8fd0\u884c\u200b\u65f6\u4f1a\u200b\u5f97\u5230\u200b\u4e0d\u200b\u4e00\u6837\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p>","tags":["Python"]},{"location":"blog/randomness-when-convert-set-to-list/#\u89e3\u51b3\u65b9\u6848","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u200b\u5982\u679c\u200b\u60f3\u200b\u56fa\u5b9a\u200b\u5f97\u5230\u200b\u7684\u200b list \u200b\u7684\u200b\u987a\u5e8f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u628a\u200b\u5f97\u5230\u200b\u7684\u200b list \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff1a</p> Python<pre><code>sorted(list({\"foo\", \"bar\", \"baz\", \"qux\"}))\n</code></pre>","tags":["Python"]},{"location":"blog/pytorch-to-device/","title":"PyTorch \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u4e0e\u200b\u6a21\u578b\u200b\u8fc1\u79fb\u200b\uff1a\u200b\u7406\u89e3\u200b <code>.to(device)</code> \u200b\u7684\u200b\u4f7f\u7528","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b PyTorch \u200b\u6846\u67b6\u200b\u8fdb\u884c\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u6a21\u578b\u200b\u8bad\u7ec3\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5c06\u200b\u6a21\u578b\u200b\u4ece\u200b CPU \u200b\u8fc1\u79fb\u200b\u5230\u200b GPU \u200b\u4e0a\u4ee5\u200b\u52a0\u901f\u200b\u8ba1\u7b97\u200b\u3002PyTorch \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7b80\u6d01\u200b\u7684\u200b API <code>model.to(device)</code> \u200b\u6765\u200b\u5b9e\u73b0\u200b\u8fd9\u4e00\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5728\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b API \u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9047\u5230\u200b\u4e24\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u5199\u6cd5\u200b\uff1a<code>model.to(device)</code> \u200b\u548c\u200b <code>model = model.to(device)</code>\u3002\u200b\u90a3\u4e48\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u5199\u6cd5\u200b\u6709\u200b\u4ec0\u4e48\u200b\u533a\u522b\u200b\u5462\u200b\uff1f</p>","tags":["PyTorch"]},{"location":"blog/pytorch-to-device/#\u5f20\u91cftensors\u7684todevice\u4e0exx--xxtodevice\u7684\u533a\u522b","title":"\u5f20\u91cf\u200b\uff08Tensors\uff09\u200b\u7684\u200b<code>.to(device)</code>\u200b\u4e0e\u200b<code>XX = XX.to(device)</code>\u200b\u7684\u200b\u533a\u522b","text":"<p>\u200b\u5f53\u200b\u5904\u7406\u200b PyTorch \u200b\u5f20\u91cf\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>to(device)</code> \u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5f20\u91cf\u200b\u79fb\u52a8\u200b\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b\u8bbe\u5907\u200b\uff08\u200b\u5982\u200b GPU\uff09\u3002\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u5f20\u91cf\u200b\u5728\u200b\u65b0\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u7684\u200b\u526f\u672c\u200b\uff0c\u200b\u800c\u200b\u539f\u59cb\u200b\u5f20\u91cf\u200b\u4e0d\u4f1a\u200b\u6539\u53d8\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5c06\u200b\u8fd4\u56de\u503c\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u53d8\u91cf\u200b\u6216\u8005\u200b\u8986\u76d6\u200b\u539f\u59cb\u200b\u53d8\u91cf\u200b\uff0c\u200b\u90a3\u4e48\u200b\u539f\u59cb\u200b\u5f20\u91cf\u200b\u4ecd\u7136\u200b\u4fdd\u7559\u200b\u5728\u200b\u539f\u6765\u200b\u7684\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code># \u200b\u5047\u8bbe\u200b\u5f20\u91cf\u200b a \u200b\u5728\u200b CPU \u200b\u4e0a\u200b\ndevice = torch.device(\"cuda:0\")\nb = a.to(device)\n# a \u200b\u4ecd\u7136\u200b\u5728\u200b CPU \u200b\u4e0a\u200b\uff0cb \u200b\u662f\u200b a \u200b\u5728\u200b GPU \u200b\u4e0a\u200b\u7684\u200b\u526f\u672c\u200b\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\uff0c<code>a</code> \u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u4ecd\u7136\u200b\u5728\u200b CPU \u200b\u4e0a\u200b\uff0c\u200b\u800c\u200b<code>b</code>\u200b\u662f\u200b<code>a</code>\u200b\u5728\u200b GPU \u200b\u4e0a\u200b\u7684\u200b\u526f\u672c\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u66f4\u65b0\u200b<code>a</code>\u200b\u5230\u200b GPU \u200b\u4e0a\u200b\uff0c\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u663e\u5f0f\u200b\u5730\u200b\u8d4b\u503c\u200b\uff1a</p> Python<pre><code>a = a.to(device)\n# \u200b\u73b0\u5728\u200b a \u200b\u5728\u200b GPU \u200b\u4e0a\u200b\n</code></pre>","tags":["PyTorch"]},{"location":"blog/pytorch-to-device/#\u6a21\u578bmodels\u7684todevice\u4e0exx--xxtodevice\u7684\u533a\u522b","title":"\u6a21\u578b\u200b\uff08Models\uff09\u200b\u7684\u200b<code>.to(device)</code>\u200b\u4e0e\u200b<code>XX = XX.to(device)</code>\u200b\u7684\u200b\u533a\u522b","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6a21\u578b\u200b\u5bf9\u8c61\u200b\uff0c<code>to(device)</code> \u200b\u65b9\u6cd5\u200b\u4f1a\u200b\u5c06\u200b\u6a21\u578b\u200b\u53ca\u5176\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u79fb\u52a8\u200b\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u3002\u200b\u4e0e\u200b\u5f20\u91cf\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u5bf9\u6a21\u578b\u200b\u4f7f\u7528\u200b <code>to(device)</code> \u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u6a21\u578b\u200b\u5bf9\u8c61\u200b\u4f1a\u200b\u5c31\u200b\u5730\u200b\uff08in-place\uff09\u200b\u66f4\u65b0\u200b\uff0c\u200b\u5373\u4f7f\u200b\u6211\u4eec\u200b\u6ca1\u6709\u200b\u5c06\u200b\u8fd4\u56de\u503c\u200b\u8d4b\u7ed9\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u53d8\u91cf\u200b\u6216\u8005\u200b\u8986\u76d6\u200b\u539f\u59cb\u200b\u53d8\u91cf\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5199\u6cd5\u200b <code>model.to(device)</code> \u200b\u548c\u200b <code>model = model.to(device)</code> \u200b\u5728\u200b\u8bed\u4e49\u4e0a\u200b\u6ca1\u6709\u200b\u533a\u522b\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code># \u200b\u5047\u8bbe\u200b\u6a21\u578b\u200b model \u200b\u5728\u200b CPU \u200b\u4e0a\u200b\ndevice = torch.device(\"cuda:0\")\nmodel.to(device)\n# \u200b\u6216\u8005\u200b\nmodel = model.to(device)\n# model \u200b\u73b0\u5728\u200b\u5728\u200b GPU \u200b\u4e0a\u200b\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c<code>model</code> \u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u79fb\u52a8\u200b\u5230\u200b GPU \u200b\u4e0a\u200b\u3002</p>","tags":["PyTorch"]},{"location":"blog/pytorch-to-device/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u200b\u7efc\u4e0a\u6240\u8ff0\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5f20\u91cf\u200b\uff0c\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u4fdd\u5b58\u200b<code>.to(device)</code>\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u5f20\u91cf\u200b\u5728\u200b\u65b0\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u7684\u200b\u526f\u672c\u200b\u3002\u200b\u800c\u200b\u5bf9\u4e8e\u200b\u6a21\u578b\u200b\u5bf9\u8c61\u200b\uff0c<code>to(device)</code>\u200b\u7684\u200b\u4f7f\u7528\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u66f4\u65b0\u200b\u6a21\u578b\u200b\u5bf9\u8c61\u200b\u672c\u8eab\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4fdd\u5b58\u200b\u8fd4\u56de\u503c\u200b\u4e0e\u5426\u200b\u5e76\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u7ed3\u679c\u200b\u3002</p>","tags":["PyTorch"]},{"location":"blog/pytorch-cross-entropy-loss/","title":"\u7406\u89e3\u200b PyTorch \u200b\u4e2d\u200b\u7684\u200b <code>CrossEntropyLoss</code>","text":"<p>\u200b\u5728\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u4e2d\u200b\uff0c\u200b\u7279\u522b\u200b\u662f\u200b\u5904\u7406\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u65f6\u200b\uff0c\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u662f\u200b\u8861\u91cf\u200b\u6a21\u578b\u200b\u9884\u6d4b\u200b\u4e0e\u200b\u5b9e\u9645\u200b\u6807\u7b7e\u200b\u5dee\u5f02\u200b\u7684\u200b\u5173\u952e\u200b\u3002\u200b\u5728\u200b PyTorch \u200b\u4e2d\u200b\uff0c<code>CrossEntropyLoss</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u7528\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\u3002\u200b\u5b83\u200b\u9996\u5148\u200b\u901a\u8fc7\u200b Softmax \u200b\u51fd\u6570\u200b\u8ba1\u7b97\u200b\u5bf9\u5e94\u200b\u7c7b\u522b\u200b\u7684\u200b\u6982\u7387\u200b\u503c\u200b\uff0c\u200b\u7136\u540e\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u8d1f\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u635f\u5931\u200b\uff0c\u200b\u6700\u540e\u200b\u5bf9\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u6c42\u200b\u5e73\u5747\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u5c06\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u4f8b\u5b50\u200b\u6765\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b<code>CrossEntropyLoss</code>\uff0c\u200b\u5e76\u200b\u5c55\u793a\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b PyTorch \u200b\u5b9e\u73b0\u200b\u8fd9\u4e00\u200b\u8fc7\u7a0b\u200b\u3002</p>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-cross-entropy-loss/#\u521b\u5efa\u6837\u672c\u548c\u6807\u7b7e","title":"\u521b\u5efa\u200b\u6837\u672c\u200b\u548c\u200b\u6807\u7b7e","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u4e09\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6837\u672c\u200b\u7684\u200b logits \u200b\u503c\u200b\u548c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6807\u7b7e\u200b\uff1a</p> Python<pre><code>import torch\n# \u200b\u521b\u5efa\u200b logits\uff08\u200b\u6a21\u578b\u200b\u8f93\u51fa\u200b\u7684\u200b\u539f\u59cb\u200b\u5206\u6570\u200b\uff09\nlogits = torch.tensor([[0.3, 0.1], [-0.4, 0.7], [-0.1, 0.8]])\nprint(\"\u200b\u539f\u59cb\u200b logits:\")\nprint(logits)\n# \u200b\u521b\u5efa\u200b\u6807\u7b7e\u200b\nlabels = torch.tensor([0, 0, 1])\nprint(\"labels:\")\nprint(labels)\n</code></pre> Text Only<pre><code>\u200b\u539f\u59cb\u200blogits:\ntensor([[ 0.3000,  0.1000],\n        [-0.4000,  0.7000],\n        [-0.1000,  0.8000]])\n\nlabels:\ntensor([0, 0, 1])\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6709\u200b\u4e09\u4e2a\u200b\u6837\u672c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u5bf9\u5e94\u200b\u4e24\u4e2a\u200b\u7c7b\u522b\u200b\u7684\u200b\u5f97\u5206\u200b\u3002\u200b\u6807\u7b7e\u200b\u8868\u793a\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u771f\u5b9e\u200b\u7c7b\u522b\u200b\u3002</p>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-cross-entropy-loss/#\u624b\u52a8\u5b9e\u73b0-softmax-\u548c\u8d1f\u5bf9\u6570\u4f3c\u7136\u635f\u5931","title":"\u624b\u52a8\u200b\u5b9e\u73b0\u200b Softmax \u200b\u548c\u200b\u8d1f\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u635f\u5931","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u624b\u52a8\u200b\u5b9e\u73b0\u200b Softmax \u200b\u51fd\u6570\u200b\u548c\u200b\u8d1f\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u635f\u5931\u200b\u7684\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\uff1a</p> Python<pre><code># \u200b\u5e94\u7528\u200b Softmax \u200b\u51fd\u6570\u200b\nexp_logits = torch.exp(logits)\nsum_exp_logits = torch.sum(exp_logits, axis=1, keepdim=True)\nprobabilities = exp_logits / sum_exp_logits\n# \u200b\u6253\u5370\u200b Softmax \u200b\u6982\u7387\u200b\nprint(\"\\nSoftmax \u200b\u6982\u7387\u200b\uff1a\")\nprint(probabilities)\n</code></pre> Text Only<pre><code>Softmax\u200b\u6982\u7387\u200b:\ntensor([[0.5498, 0.4502],\n        [0.2497, 0.7503],\n        [0.2891, 0.7109]])\n</code></pre> Python<pre><code># \u200b\u521d\u59cb\u5316\u200b\u635f\u5931\u200b\u503c\u200b\u7d2f\u52a0\u5668\u200b\nloss_accumulator = 0.0\n# \u200b\u7528\u200b for \u200b\u5faa\u73af\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u635f\u5931\u200b\nfor i in range(len(labels)):\n# \u200b\u83b7\u53d6\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u771f\u5b9e\u200b\u7c7b\u522b\u200b\u7684\u200b\u6982\u7387\u200b\nprob = probabilities[i, labels[i]]\n# \u200b\u8ba1\u7b97\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u8d1f\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u635f\u5931\u200b\nloss = -torch.log(prob)\n# \u200b\u6253\u5370\u200b\u7b2c\u200b i \u200b\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u635f\u5931\u200b\nprint(f\"\\n\u200b\u6837\u672c\u200b{i}\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\uff1a\")\nprint(loss)\n# \u200b\u7d2f\u52a0\u200b\u635f\u5931\u200b\nloss_accumulator += loss\n# \u200b\u8ba1\u7b97\u200b\u5e73\u5747\u200b\u635f\u5931\u200b\nloss = loss_accumulator / len(labels)\n# \u200b\u6253\u5370\u200b\u5e73\u5747\u200b\u635f\u5931\u200b\u503c\u200b\nprint(\"\\n\u200b\u5e73\u5747\u200b\u635f\u5931\u200b\u503c\u200b\uff1a\")\nprint(loss)\n</code></pre> Text Only<pre><code>\u200b\u6837\u672c\u200b0\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b:\ntensor(0.5981)\n\n\u200b\u6837\u672c\u200b1\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b:\ntensor(1.3873)\n\n\u200b\u6837\u672c\u200b2\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b:\ntensor(0.3412)\n\n\u200b\u5e73\u5747\u200b\u635f\u5931\u200b\u503c\u200b:\ntensor(0.7755)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-cross-entropy-loss/#\u4f7f\u7528-pytorch-\u7684-crossentropyloss","title":"\u4f7f\u7528\u200b PyTorch \u200b\u7684\u200b <code>CrossEntropyLoss</code>","text":"<p>\u200b\u4e3a\u4e86\u200b\u9a8c\u8bc1\u200b\u6211\u4eec\u200b\u7684\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b PyTorch \u200b\u7684\u200b<code>CrossEntropyLoss</code>\u200b\u6765\u200b\u8ba1\u7b97\u200b\u635f\u5931\u200b\u503c\u200b\uff0c\u200b\u5e76\u200b\u4e0e\u200b\u6211\u4eec\u200b\u7684\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\uff1a</p> Python<pre><code># \u200b\u4f7f\u7528\u200b PyTorch \u200b\u7684\u200b CrossEntropyLoss\ncriterion = torch.nn.CrossEntropyLoss()\ntorch_loss = criterion(logits, labels)\nprint(f\"PyTorch \u200b\u8ba1\u7b97\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b\uff1a{torch_loss}\")\n</code></pre> Text Only<pre><code>PyTorch\u200b\u8ba1\u7b97\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u200b: 0.775542676448822\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u4e0e\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e00\u81f4\u200b\u3002</p>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/pytorch-cross-entropy-loss/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>PyTorch \u200b\u7684\u200b<code>CrossEntropyLoss</code>\u200b\u9996\u5148\u200b\u901a\u8fc7\u200b Softmax \u200b\u51fd\u6570\u200b\u8ba1\u7b97\u200b\u5bf9\u5e94\u200b\u7c7b\u522b\u200b\u7684\u200b\u6982\u7387\u200b\u503c\u200b\uff0c\u200b\u7136\u540e\u200b\u8ba1\u7b97\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u8d1f\u200b\u5bf9\u6570\u200b\u4f3c\u7136\u200b\u635f\u5931\u200b\uff0c\u200b\u6700\u540e\u200b\u5bf9\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u7684\u200b\u635f\u5931\u200b\u503c\u6c42\u200b\u5e73\u5747\u200b\u3002</p>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/display-dataframe-in-a-row/","title":"Jupyter Notebook \u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u591a\u4e2a\u200b Pandas DataFrame","text":"<p>\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b HTML \u200b\u529f\u80fd\u200b\u6765\u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u4e24\u4e2a\u200b Pandas DataFrame\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u66f4\u200b\u65b9\u4fbf\u200b\u5730\u200b\u67e5\u770b\u200b\u548c\u200b\u5bf9\u6bd4\u200b\u591a\u4e2a\u200b\u8868\u683c\u200b\u3002\u200b\u672c\u6587\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u5c55\u793a\u200b\u4e86\u200b\u5982\u4f55\u200b\u505a\u5230\u200b\u8fd9\u200b\u4e00\u70b9\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/display-dataframe-in-a-row/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u786e\u4fdd\u200b\u4f60\u200b\u5df2\u7ecf\u200b\u5bfc\u5165\u200b\u4e86\u200b\u5fc5\u8981\u200b\u7684\u200b\u5e93\u200b\uff1a</p> Python<pre><code>import pandas as pd\nfrom IPython.display import display_html\n</code></pre> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u6765\u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u4e24\u4e2a\u200b DataFrames\uff1a</p> Python<pre><code>def display_side_by_side(*args):\nhtml_str = \"\"\nfor df in args:\nhtml_str += df.to_html()\ndisplay_html(\nhtml_str.replace(\"table\", 'table style=\"display:inline;margin-right:20px;\"'),\nraw=True,\n)\n</code></pre> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b DataFrame \u200b\u4f5c\u4e3a\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>df1 = pd.DataFrame({\"A\": [1, 2, 3], \"B\": [4, 5, 6]})\ndf2 = pd.DataFrame({\"C\": [7, 8, 9], \"D\": [10, 11, 12]})\n</code></pre> <p>\u200b\u6700\u540e\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e4b\u524d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u51fd\u6570\u200b\u6765\u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u5b83\u4eec\u200b\uff1a</p> Python<pre><code>display_side_by_side(df1, df2)\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u5e76\u6392\u200b\u663e\u793a\u200b<code>df1</code>\u200b\u548c\u200b<code>df2</code>\u3002</p> <p></p> <p>\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8c03\u6574\u200b<code>style=\"display:inline;margin-right:20px;\"</code>\u200b\u4e2d\u200b\u7684\u200b CSS \u200b\u6837\u5f0f\u200b\u6765\u200b\u4fee\u6539\u200b\u8868\u683c\u200b\u7684\u200b\u5916\u89c2\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6539\u53d8\u200b\u95f4\u8ddd\u200b\u3001\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"blog/display-dataframe-in-a-row/#\u5c45\u4e2d\u5e76\u6392\u663e\u793a","title":"\u5c45\u4e2d\u200b\u5e76\u6392\u200b\u663e\u793a","text":"<p>\u200b\u8981\u200b\u4f7f\u200b\u6574\u4f53\u200b\u7684\u200b HTML \u200b\u5185\u5bb9\u200b\u5c45\u4e2d\u200b\u663e\u793a\u200b\uff0c\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u5305\u542b\u200b\u5c45\u4e2d\u200b\u6837\u5f0f\u200b\u7684\u200b\u5916\u90e8\u200b\u5bb9\u5668\u200b\u6765\u200b\u5b9e\u73b0\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4fee\u6539\u200b\u540e\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import pandas as pd\nfrom IPython.display import display_html\ndef display_side_by_side(*args):\nhtml_str = '&lt;div style=\"text-align:center;\"&gt;'\nfor df in args:\nhtml_str += df.to_html().replace(\n\"table\", 'table style=\"display:inline;margin-right:20px;\"'\n)\nhtml_str += \"&lt;/div&gt;\"\ndisplay_html(html_str, raw=True)\n# \u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b\u793a\u4f8b\u200b DataFrame\ndf1 = pd.DataFrame({\"A\": [1, 2, 3], \"B\": [4, 5, 6]})\ndf2 = pd.DataFrame({\"C\": [7, 8, 9], \"D\": [10, 11, 12]})\n# \u200b\u5e76\u6392\u200b\u663e\u793a\u200b DataFrames\ndisplay_side_by_side(df1, df2)\n</code></pre> <p>\u200b\u8fd9\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u5c06\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u7684\u200b DataFrame \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5916\u90e8\u200b\u7684\u200b<code>&lt;div&gt;</code>\u200b\u5143\u7d20\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u8be5\u200b\u5143\u7d20\u200b\u7684\u200b<code>text-align</code>\u200b\u5c5e\u6027\u200b\u4e3a\u200b<code>center</code>\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u5f53\u200b\u663e\u793a\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u65f6\u200b\uff0c\u200b\u6574\u4e2a\u200b HTML \u200b\u5185\u5bb9\u200b\uff08\u200b\u5305\u62ec\u200b\u4e24\u4e2a\u200b DataFrame\uff09\u200b\u4f1a\u200b\u5c45\u4e2d\u200b\u663e\u793a\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6bcf\u4e2a\u200b DataFrame \u200b\u4ecd\u7136\u200b\u662f\u200b\u5185\u8054\u200b\u663e\u793a\u200b\u7684\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5b83\u4eec\u200b\u4e4b\u95f4\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u53f3\u4fa7\u200b\u8fb9\u8ddd\u200b\u4ee5\u200b\u5206\u9694\u200b\u5b83\u4eec\u200b\u3002</p> <p></p> <p>\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6839\u636e\u200b Jupyter Notebook \u200b\u7684\u200b\u6837\u5f0f\u200b\u548c\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u6d4f\u89c8\u5668\u200b\uff0c\u200b\u5c45\u4e2d\u200b\u663e\u793a\u200b\u6548\u679c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u6240\u4e0d\u540c\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u8fdb\u4e00\u6b65\u200b\u8c03\u6574\u200b\u6837\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b<code>style</code>\u200b\u5c5e\u6027\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u989d\u5916\u200b\u7684\u200b CSS \u200b\u89c4\u5219\u200b\u3002</p>","tags":["Python"]},{"location":"blog/botanical-garden-in-winter/","title":"\u51ac\u65e5\u200b\u7684\u200b\u690d\u7269\u56ed","text":"<p>\u200b\u5728\u200b\u51ac\u65e5\u200b\u7684\u200b\u51b7\u98ce\u200b\u4e2d\u200b\u611f\u53d7\u200b\u5230\u200b\u4e86\u200b\u9633\u5149\u200b\uff0c\u200b\u8ba9\u200b\u4eba\u200b\u4e0d\u7981\u200b\u66f4\u52a0\u200b\u671f\u76fc\u200b\u6625\u5929\u200b\u7684\u200b\u5230\u6765\u200b\u3002</p> <p> </p> \u200b\u5c0f\u732b\u200b\u662f\u4e0d\u662f\u200b\u4e5f\u200b\u5728\u200b\u671f\u76fc\u200b\u6625\u5929\u200b\u5462\u200b <p>\u200b\u4ee5\u524d\u200b\u5728\u200b\u95f2\u6687\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u200b\u603b\u4f1a\u200b\u60f3\u5b66\u70b9\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u89c9\u5f97\u200b\u53ea\u8981\u200b\u5728\u200b\u5b66\u65b0\u200b\u7684\u200b\u4e1c\u897f\u200b\uff0c\u200b\u5c31\u662f\u200b\u5728\u200b\u4e0d\u65ad\u200b\u63d0\u9ad8\u200b\u81ea\u5df1\u200b\u3002</p> <p>\u200b\u6700\u8fd1\u200b\u611f\u5230\u200b\u751f\u6d3b\u200b\u53d8\u5f97\u200b\u81ea\u7531\u200b\u3001\u200b\u7a7a\u95f2\u200b\u4e86\u200b\u8bb8\u591a\u200b\uff0c\u200b\u8fd9\u200b\u662f\u200b\u6211\u200b\u5b66\u751f\u200b\u65f6\u671f\u200b\u65e0\u6bd4\u200b\u671f\u671b\u200b\u80fd\u200b\u5904\u4e8e\u200b\u7684\u200b\u72b6\u6001\u200b\u3002\u200b\u5ff5\u4e66\u200b\u7684\u200b\u65f6\u5019\u200b\u603b\u662f\u200b\u5f88\u5fd9\u200b\u5f88\u200b\u5145\u5b9e\u200b\uff0c\u200b\u6709\u200b\u505a\u200b\u4e0d\u200b\u5b8c\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u3001\u200b\u8d76\u4e0d\u5b8c\u200b\u7684\u200b due\uff0c\u200b\u90a3\u65f6\u200b\u7684\u200b\u6211\u4f1a\u200b\u60f3\u200b\uff0c\u201c\u200b\u5982\u679c\u200b\u518d\u200b\u591a\u200b\u7ed9\u200b\u6211\u200b\u4e00\u4e9b\u200b\u65f6\u95f4\u200b\u5c31\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u6211\u200b\u5c31\u200b\u80fd\u200b...\u201d\u3002\u200b\u73b0\u5728\u200b\u7684\u200b\u6211\u200b\u786e\u5b9e\u200b\u6709\u200b\u6761\u4ef6\u200b\u5b9e\u73b0\u200b\u90a3\u65f6\u200b\u7684\u200b\u61a7\u61ac\u200b\uff0c\u200b\u5e0c\u671b\u200b\u81ea\u5df1\u200b\u80fd\u591f\u200b\u5b8c\u6210\u200b\u90a3\u4e9b\u200b\u613f\u671b\u200b\u5427\u200b\u3002</p> <p>\u200b\u613f\u200b\u81ea\u5df1\u200b\u4fdd\u6301\u200b\u4e13\u6ce8\u200b\uff0c\u200b\u7ee7\u7eed\u200b\u6210\u957f\u200b\u3002</p> <p></p>","tags":["\u751f\u6d3b"]},{"location":"blog/jupyterlite/","title":"JupyterLite\uff1a\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b Python","text":"<p>JupyterLite \u200b\u662f\u200b\u4e00\u4e2a\u200b\u8f7b\u91cf\u7ea7\u200b\u7684\u200b Jupyter \u200b\u7b14\u8bb0\u672c\u200b\u73af\u5883\u200b\uff0c\u200b\u65e8\u5728\u200b\u4e3a\u200b\u7528\u6237\u200b\u63d0\u4f9b\u200b\u5feb\u901f\u200b\u3001\u200b\u4fbf\u6377\u200b\u7684\u200b\u4ea4\u4e92\u5f0f\u200b\u8ba1\u7b97\u200b\u4f53\u9a8c\u200b\u3002\u200b\u4e0e\u200b\u4f20\u7edf\u200b\u7684\u200b Jupyter \u200b\u73af\u5883\u200b\u4e0d\u540c\u200b\uff0cJupyterLite \u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u4efb\u4f55\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u76f4\u63a5\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u3002</p> <p>\u200b\u6709\u65f6\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5feb\u901f\u200b\u6d4b\u8bd5\u200b\u4e00\u4e9b\u200b\u7b80\u5355\u200b\u7684\u200b\u4ee3\u7801\u200b\uff08\u200b\u4f8b\u5982\u200b\u5f97\u5230\u200b ChatGPT \u200b\u7ed9\u51fa\u200b\u7684\u200b\u4ee3\u7801\u200b\u540e\u200b\uff09\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u200b JupyterLite \u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u5feb\u901f\u200b\u8fd0\u884c\u200b\u4ee3\u7801\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5982\u4f55\u200b\u90e8\u7f72\u200b JupyterLite \u200b\u7ad9\u70b9\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u53c2\u4e0e\u200b\u5f00\u6e90\u200b\u9879\u76ee\u200b\u8d21\u732e\u200b\u7684\u200b\u5fc3\u5f97\u200b\u3002</p> <p></p>","tags":["Python","Computer Science"]},{"location":"blog/jupyterlite/#\u90e8\u7f72\u5230-github-pages","title":"\u90e8\u7f72\u200b\u5230\u200b GitHub Pages","text":"<p>\u200b\u6309\u7167\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u5373\u53ef\u200b\u5feb\u901f\u200b\u90e8\u7f72\u200b\u5230\u200b GitHub Pages\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8fd9\u4e2a\u200b\u89c6\u9891\u200b\u3002</p> \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u6b65\u9aa4\u200b\u9700\u8981\u200b\u5feb\u901f\u200b\u5b8c\u6210\u200b\u4fee\u6539\u200b\uff0c\u200b\u5426\u5219\u200b\u7b49\u200b\u90e8\u7f72\u200b\u5931\u8d25\u200b\u540e\u200b\u518d\u200b\u5b8c\u6210\u200b\u4fee\u6539\u200b\u5c31\u200b\u4f1a\u200b\u6bd4\u8f83\u200b\u9ebb\u70e6\u200b <p>If the deployment failed, go to \u201cSettings - Actions - General\u201d, in the \u201cWorkflow permissions\u201d section, check \u201cRead and write permissions\u201d. Check that you have Github Pages enabled for your repository: from your repository Settings tab, select the Pages menu item and ensure that the source is set to <code>GitHub Actions</code>:</p> <p></p>","tags":["Python","Computer Science"]},{"location":"blog/jupyterlite/#\u90e8\u7f72\u5230-vercel","title":"\u90e8\u7f72\u200b\u5230\u200b Vercel","text":"<p>\u200b\u6309\u7167\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1a</p> <ol> <li> <p>\u200b\u65b0\u5efa\u200b <code>requirements-deploy.txt</code> \u200b\u5e76\u200b\u586b\u5165\u200b\u9700\u8981\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> Text Only<pre><code>jupyterlab\njupyterlite-core\njupyterlite-pyodide-kernel\nnotebook\njupyterlab-language-pack-zh-CN\njupyterlab-night\nipywidgets\nnbformat\nplotly\n</code></pre> </li> <li> <p>\u200b\u65b0\u5efa\u200b <code>deploy.sh</code>  \u200b\u5e76\u200b\u586b\u5165\u200b\uff1a</p> Bash<pre><code>#!/bin/bash\nyum install wget\n\nwget -qO- https://micromamba.snakepit.net/api/micromamba/linux-64/latest | tar -xvj bin/micromamba\n\n./bin/micromamba shell init -s bash -p ~/micromamba\nsource ~/.bashrc\n\n# activate the environment and install a new version of Python\nmicromamba activate\nmicromamba install python=3.9 -c conda-forge -y # (1)!\n# install the dependencies\npython -m pip install -r requirements-deploy.txt\n\n# build the JupyterLite site\njupyter lite --version\njupyter lite build --contents content --output-dir dist # (2)!\n</code></pre> <ol> <li>\u200b\u6307\u5b9a\u200b Python \u200b\u7248\u672c\u200b\u3002</li> <li>\u200b\u6253\u5f00\u200b\u9996\u9875\u200b\u5373\u80fd\u200b\u8bbf\u95ee\u200b <code>content</code> \u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5728\u200b <code>content</code> \u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u653e\u7f6e\u200b\u4ee3\u7801\u200b\u6587\u4ef6\u200b\u4f5c\u4e3a\u200b\u6a21\u677f\u200b\u3002</li> </ol> </li> <li> <p>\u200b\u6700\u540e\u200b\u586b\u5199\u200b <code>BUILD COMMAND</code> \u200b\u65f6\u200b\u6ce8\u610f\u200b\u662f\u200b\uff1a</p> Bash<pre><code>bash ./deploy.sh\n</code></pre> <p></p> </li> </ol> JupyterLite 0.2.2 \u200b\u7248\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200b stable \u200b\u7248\u200b\u6587\u6863\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u9875\u200b\u4e0d\u4f1a\u200b\u5305\u542b\u200b <code>content</code> \u200b\u6587\u4ef6\u5939\u200b <p>\u200b\u8be6\u89c1\u200b GitHub Issue\u3002</p> <p></p> <p>\u200b\u6211\u200b\u63d0\u51fa\u200b\u4e86\u200b\u8fd9\u4e2a\u200b Issue\uff0c\u200b\u5e76\u200b\u4f18\u5316\u200b\u4e86\u200b\u76f8\u5173\u200b\u6587\u6863\u200b\uff0c\u200b\u5df2\u200b\u5408\u5e76\u200b PR\u3002</p>","tags":["Python","Computer Science"]},{"location":"blog/jupyterlite/#\u90e8\u7f72\u540e\u7684-jupyterlite-\u7ad9\u70b9","title":"\u90e8\u7f72\u200b\u540e\u200b\u7684\u200b JupyterLite \u200b\u7ad9\u70b9","text":"<p>\u200b\u5728\u200b Vercel \u200b\u4e2d\u200b\u914d\u7f6e\u200b\u57df\u540d\u200b\u540e\u200b\uff0c\u200b\u53ef\u200b\u8bbf\u95ee\u200b\uff1ahttps://lab.fengchao.pro/</p> <p></p>","tags":["Python","Computer Science"]},{"location":"blog/jupyterlite/#repl","title":"REPL","text":"<p>REPL \u200b\u662f\u200b\u201cRead-Eval-Print Loop\u201d\u200b\u7684\u200b\u7f29\u5199\u200b\uff0c\u200b\u610f\u200b\u4e3a\u200b\u201c\u200b\u8bfb\u53d6\u200b - \u200b\u6c42\u503c\u200b - \u200b\u6253\u5370\u200b\u5faa\u73af\u200b\u201d\u3002</p> \u200b\u4ec0\u4e48\u200b\u662f\u200b REPL <p>REPL \u200b\u662f\u200b\u4e00\u79cd\u200b\u4ea4\u4e92\u5f0f\u200b\u7f16\u7a0b\u200b\u73af\u5883\u200b\uff0c\u200b\u5e38\u7528\u200b\u4e8e\u200b\u89e3\u91ca\u200b\u578b\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e2d\u200b\uff0c\u200b\u5982\u200b Python\u3001Ruby \u200b\u548c\u200b JavaScript \u200b\u7b49\u200b\u3002REPL \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u754c\u9762\u200b\uff0c\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u5e76\u200b\u7acb\u5373\u200b\u6267\u884c\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u7ed3\u679c\u200b\u8f93\u51fa\u200b\u5230\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u3002</p> <ol> <li>\u200b\u8bfb\u53d6\u200b\uff08Read\uff09\uff1a\u200b\u7528\u6237\u200b\u5728\u200b REPL \u200b\u4e2d\u200b\u8f93\u5165\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\uff0cREPL \u200b\u4f1a\u200b\u5c06\u200b\u5176\u200b\u8bfb\u53d6\u200b\u5e76\u200b\u89e3\u6790\u200b\u4e3a\u200b\u8bed\u6cd5\u200b\u6811\u200b\u6216\u200b\u8868\u8fbe\u5f0f\u200b\u3002</li> <li>\u200b\u6c42\u503c\u200b\uff08Eval\uff09\uff1aREPL \u200b\u4f1a\u200b\u5bf9\u200b\u89e3\u6790\u200b\u7684\u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u6c42\u503c\u200b\uff0c\u200b\u6267\u884c\u200b\u76f8\u5e94\u200b\u7684\u200b\u64cd\u4f5c\u200b\u6216\u200b\u8ba1\u7b97\u200b\u3002</li> <li>\u200b\u6253\u5370\u200b\uff08Print\uff09\uff1aREPL \u200b\u5c06\u200b\u6c42\u503c\u200b\u7ed3\u679c\u200b\u8f93\u51fa\u200b\u5230\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\uff0c\u200b\u4f9b\u200b\u7528\u6237\u200b\u67e5\u770b\u200b\u3002</li> <li>\u200b\u5faa\u73af\u200b\uff08Loop\uff09\uff1a\u200b\u4e00\u6b21\u200b\u4ea4\u4e92\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0cREPL \u200b\u4f1a\u200b\u7b49\u5f85\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\uff0c\u200b\u7136\u540e\u200b\u7ee7\u7eed\u200b\u8bfb\u53d6\u200b\u3001\u200b\u6c42\u503c\u200b\u548c\u200b\u6253\u5370\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u3002</li> </ol> <p>REPL \u200b\u7684\u200b\u4f18\u70b9\u200b\u5728\u4e8e\u200b\u5b83\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5b9e\u65f6\u200b\u53cd\u9988\u200b\u548c\u200b\u5feb\u901f\u200b\u8fed\u4ee3\u200b\u7684\u200b\u5f00\u53d1\u200b\u4f53\u9a8c\u200b\u3002\u200b\u5f00\u53d1\u8005\u200b\u53ef\u4ee5\u200b\u9010\u884c\u200b\u7f16\u5199\u200b\u548c\u200b\u6d4b\u8bd5\u4ee3\u7801\u200b\uff0c\u200b\u7acb\u5373\u200b\u770b\u5230\u200b\u7ed3\u679c\u200b\uff0c\u200b\u8fd9\u200b\u6709\u52a9\u4e8e\u200b\u8c03\u8bd5\u200b\u548c\u200b\u7406\u89e3\u200b\u7a0b\u5e8f\u200b\u884c\u4e3a\u200b\u3002REPL \u200b\u4e5f\u200b\u5e38\u7528\u200b\u4e8e\u200b\u6559\u5b66\u200b\u548c\u200b\u5b66\u4e60\u200b\u7f16\u7a0b\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u80fd\u591f\u200b\u63d0\u4f9b\u200b\u5373\u65f6\u200b\u7684\u200b\u53cd\u9988\u200b\u548c\u200b\u5b9e\u9a8c\u200b\u73af\u5883\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u521d\u5b66\u8005\u200b\u66f4\u597d\u200b\u5730\u200b\u7406\u89e3\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u548c\u200b\u6982\u5ff5\u200b\u3002</p> <p>JupyterLite \u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u4e86\u200b REPL\u3002\u200b\u53c2\u8003\u200b\uff1aEmbed a live REPL on a website</p> HTML<pre><code>&lt;iframe\nsrc=\"https://jupyterlite.github.io/demo/repl/index.html?kernel=python&amp;code=print('Hello, world!')\"\nwidth=\"100%\"\nheight=\"600px\"\n&gt;&lt;/iframe&gt;\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6362\u6210\u200b\u81ea\u5df1\u200b\u90e8\u7f72\u200b\u7684\u200b\u7ad9\u70b9\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>src=\"https://lab.fengchao.pro/repl/index.html?kernel=python&amp;code=print('Hello, world!')\"</code></p> <p> </p>","tags":["Python","Computer Science"]},{"location":"blog/jupyterlite/#\u53c2\u4e0e\u5f00\u6e90\u9879\u76ee\u8d21\u732e\u7684\u5fc3\u5f97","title":"\u53c2\u4e0e\u200b\u5f00\u6e90\u200b\u9879\u76ee\u200b\u8d21\u732e\u200b\u7684\u200b\u5fc3\u5f97","text":"<p>\u200b\u6211\u200b\u5341\u5206\u200b\u4f69\u670d\u200b\u7a0b\u5e8f\u5458\u200b\u7684\u200b\u5f00\u6e90\u200b\u7cbe\u795e\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u4e16\u754c\u200b\u4e0a\u200b\u6709\u200b\u8bb8\u8bb8\u591a\u591a\u200b\u65b9\u4fbf\u200b\u6613\u7528\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u6781\u5927\u5730\u63d0\u9ad8\u200b\u4e86\u200b\u4eba\u4eec\u200b\u7684\u200b\u751f\u4ea7\u200b\u6548\u7387\u200b\uff0c\u200b\u800c\u200b\u8fd9\u200b\u4e00\u5207\u200b\u56e0\u4e3a\u200b\u5f00\u6e90\u200b\u53d8\u5f97\u200b\u514d\u8d39\u200b\u6613\u5f97\u200b\u3002</p> <p>\u200b\u4e0b\u5348\u200b\u63d0\u200b\u7684\u200b\u4e00\u4e2a\u200b GitHub Issue\uff0c\u200b\u4e00\u200b\u5c0f\u65f6\u200b\u540e\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u539f\u4f5c\u8005\u200b\u7684\u200b\u56de\u590d\u200b\uff0c\u200b\u5f88\u5feb\u200b\u89e3\u51b3\u200b\u4e86\u200b\u6211\u200b\u7684\u200b\u95ee\u9898\u200b\u3002\u200b\u6211\u200b\u5f88\u200b\u5f00\u5fc3\u200b\u80fd\u200b\u548c\u200b\u6280\u672f\u200b\u5927\u725b\u200b\u8fdb\u884c\u200b\u5bf9\u8bdd\u200b\uff0c\u200b\u81ea\u7136\u200b\u4e5f\u200b\u662f\u200b\u5f88\u200b\u5f00\u5fc3\u200b\u80fd\u200b\u6709\u200b\u673a\u4f1a\u200b\u53c2\u4e0e\u200b\u5f00\u6e90\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u5b83\u200b\u53d8\u5f97\u200b\u66f4\u597d\u200b\u3002\u200b\u867d\u7136\u200b\u6211\u200b\u53ea\u662f\u200b\u6539\u52a8\u200b\u4e86\u200b\u51e0\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b\u8fd8\u662f\u200b\u8d85\u7ea7\u200b\u5174\u594b\u200b\u3002</p> <p></p>","tags":["Python","Computer Science"]},{"location":"blog/isinstance-and-type-in-python/","title":"Python \u200b\u4e2d\u200b\u7684\u200b <code>isinstance</code> \u200b\u548c\u200b <code>type</code> \u200b\u7684\u200b\u533a\u522b","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\uff0c<code>isinstance</code> \u200b\u548c\u200b <code>type</code> \u200b\u90fd\u200b\u662f\u200b\u7528\u4e8e\u200b\u68c0\u67e5\u200b\u5bf9\u8c61\u200b\u7c7b\u578b\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f46\u200b\u5b83\u4eec\u200b\u7684\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b\u548c\u200b\u7ed3\u679c\u200b\u6709\u6240\u4e0d\u540c\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b Python \u200b\u4e2d\u200b\u7684\u200b <code>isinstance</code> \u200b\u548c\u200b <code>type</code> \u200b\u7684\u200b\u533a\u522b\u200b\u3002</p>","tags":["Python"]},{"location":"blog/isinstance-and-type-in-python/#isinstance","title":"<code>isinstance</code>","text":"<p><code>isinstance</code> \u200b\u51fd\u6570\u200b\u7528\u4e8e\u200b\u68c0\u67e5\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u662f\u200b\u67d0\u4e2a\u200b\u7c7b\u200b\u6216\u200b\u5176\u5b50\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u8bed\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>isinstance(object, classinfo)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>object</code> \u200b\u662f\u200b\u8981\u200b\u68c0\u67e5\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c<code>classinfo</code> \u200b\u662f\u200b\u7c7b\u540d\u200b\u6216\u200b\u7c7b\u540d\u200b\u5143\u7ec4\u200b\u3002\u200b\u5982\u679c\u200b <code>object</code> \u200b\u662f\u200b <code>classinfo</code> \u200b\u7684\u200b \u200b\u5b9e\u4f8b\u200b\u6216\u200b\u5176\u5b50\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b \uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b <code>True</code>\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b <code>False</code>\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>class A:\npass\nclass B(A):\npass\na = A()\nb = B()\nprint(isinstance(a, A))  # True\nprint(isinstance(b, A))  # True\nprint(isinstance(a, B))  # False\nprint(isinstance(b, B))  # True\n</code></pre>","tags":["Python"]},{"location":"blog/isinstance-and-type-in-python/#type","title":"<code>type</code>","text":"<p><code>type</code> \u200b\u51fd\u6570\u200b\u7528\u4e8e\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u8bed\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>type(object)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>object</code> \u200b\u662f\u200b\u8981\u200b\u83b7\u53d6\u200b\u7c7b\u578b\u200b\u7684\u200b\u5bf9\u8c61\u200b\u3002<code>type</code> \u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5b9e\u9645\u200b\u7c7b\u578b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5176\u7236\u200b\u7c7b\u200b\u6216\u200b\u5b50\u7c7b\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>class A:\npass\nclass B(A):\npass\na = A()\nb = B()\nprint(type(a))  # &lt;class '__main__.A'&gt;\nprint(type(b))  # &lt;class '__main__.B'&gt;\n</code></pre>","tags":["Python"]},{"location":"blog/isinstance-and-type-in-python/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p><code>isinstance</code> \u200b\u548c\u200b <code>type</code> \u200b\u7684\u200b\u4e3b\u8981\u200b\u533a\u522b\u200b\u5728\u4e8e\u200b\uff0c<code>isinstance</code> \u200b\u68c0\u67e5\u200b\u7684\u200b\u662f\u200b\u5bf9\u8c61\u200b\u7684\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b\uff0c\u200b\u800c\u200b <code>type</code> \u200b\u53ea\u200b\u68c0\u67e5\u200b\u5bf9\u8c61\u200b\u7684\u200b\u76f4\u63a5\u200b\u7c7b\u578b\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u9700\u8981\u200b\u68c0\u67e5\u200b\u5bf9\u8c61\u200b\u7684\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b <code>isinstance</code>\uff0c\u200b\u800c\u200b\u5728\u200b\u53ea\u200b\u9700\u8981\u200b\u83b7\u53d6\u200b\u5bf9\u8c61\u200b\u7684\u200b\u76f4\u63a5\u200b\u7c7b\u578b\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b <code>type</code>\u3002</p>","tags":["Python"]},{"location":"blog/ln-command-in-linux/","title":"\u5728\u200b Linux \u200b\u4e2d\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u81f3\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55","text":"<p>\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6709\u65f6\u5019\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u6216\u8005\u200b\u76ee\u5f55\u200b\u7684\u200b\u5feb\u6377\u65b9\u5f0f\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u5728\u200b Linux \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u884c\u200b\u521b\u5efa\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u3002</p> <p></p>","tags":["Linux"]},{"location":"blog/ln-command-in-linux/#\u521b\u5efa\u8f6f\u94fe\u63a5","title":"\u521b\u5efa\u200b\u8f6f\u200b\u94fe\u63a5","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u6253\u5f00\u200b\u4f60\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b\uff0c\u200b\u7136\u540e\u200b\u8fdb\u5165\u200b\u5230\u200b\u4f60\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u94fe\u63a5\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u76ee\u5f55\u200b\u4e2d\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>ln</code> \u200b\u547d\u4ee4\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u94fe\u63a5\u200b\u5230\u200b <code>/root/test</code> \u200b\u7684\u200b\u94fe\u63a5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u65b0\u5efa\u200b\u7684\u200b\u5feb\u6377\u65b9\u5f0f\u200b\u6587\u4ef6\u5939\u200b\u4e5f\u200b\u53eb\u200b <code>test</code>\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff1a</p> Bash<pre><code>ln -s /root/test test\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4e2d\u200b\uff0c<code>-s</code> \u200b\u9009\u9879\u200b\u6307\u793a\u200b <code>ln</code> \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u3002<code>/root/test</code> \u200b\u662f\u200b\u4f60\u200b\u8981\u200b\u94fe\u63a5\u200b\u7684\u200b\u76ee\u6807\u76ee\u5f55\u200b\uff0c<code>test</code> \u200b\u662f\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b\u7684\u200b\u94fe\u63a5\u200b\u7684\u200b\u540d\u79f0\u200b\u3002</p> <p>\u200b\u8fd0\u884c\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u540e\u200b\uff0c\u200b\u4f60\u200b\u5e94\u8be5\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u770b\u5230\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b <code>test</code> \u200b\u7684\u200b\u94fe\u63a5\u200b\uff0c\u200b\u5b83\u200b\u6307\u5411\u200b <code>/root/test</code>\u3002</p>","tags":["Linux"]},{"location":"blog/ln-command-in-linux/#\u67e5\u770b\u8f6f\u94fe\u63a5\u6240\u6307\u5411\u7684\u76ee\u5f55","title":"\u67e5\u770b\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u6240\u200b\u6307\u5411\u200b\u7684\u200b\u76ee\u5f55","text":"<p>\u200b\u4f7f\u7528\u200b <code>ls -l</code> \u200b\u67e5\u770b\u200b\u6587\u4ef6\u200b\u7684\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\uff0c\u200b\u5373\u53ef\u200b\u5c55\u793a\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u6240\u200b\u6307\u5411\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/ln-command-in-linux/#\u4f7f\u7528\u793a\u4f8b","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"<p>\u200b\u6ce8\u610f\u200b\u5230\u200b\uff0c\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u6307\u5411\u200b\u7684\u200b\u6587\u4ef6\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5360\u7528\u200b\u78c1\u76d8\u7a7a\u95f4\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/","title":"\u65ad\u5f00\u200b SSH \u200b\u8fde\u63a5\u200b\u540e\u200b\u7ee7\u7eed\u6267\u884c\u200b\u4efb\u52a1","text":"<p>\u200b\u6211\u4eec\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b SSH \u200b\u8fde\u63a5\u200b\u5230\u200b\u8fdc\u7a0b\u200b Linux \u200b\u670d\u52a1\u5668\u200b\u6765\u200b\u6267\u884c\u200b\u5404\u79cd\u200b\u4efb\u52a1\u200b\u3002\u200b\u4f46\u200b\u6709\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5373\u4f7f\u200b\u5728\u200b\u65ad\u5f00\u200b SSH \u200b\u8fde\u63a5\u200b\u540e\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4efb\u52a1\u200b\u4e5f\u200b\u80fd\u200b\u7ee7\u7eed\u200b\u8fd0\u884c\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u5c06\u200b\u4efb\u52a1\u200b\u653e\u5165\u200b\u540e\u53f0\u200b\u5e76\u200b\u4f7f\u7528\u200b <code>disown</code> \u200b\u547d\u4ee4\u200b\u4f7f\u200b\u5176\u200b\u5728\u200b\u5f53\u524d\u200b Shell \u200b\u7ec8\u7aef\u200b\u7a97\u53e3\u200b\u5173\u95ed\u200b\u540e\u200b\u4f9d\u7136\u200b\u4e0d\u4f1a\u200b\u7ed3\u675f\u200b\u3002</p> <p></p>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u4e8b\u524d\u4f7f\u7528-nohup-\u547d\u4ee4","title":"\u4e8b\u524d\u200b\u4f7f\u7528\u200b <code>nohup</code> \u200b\u547d\u4ee4","text":"<p><code>nohup</code>\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\u5ffd\u7565\u200b SIGHUP \u200b\u4fe1\u53f7\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5373\u4f7f\u200b\u9000\u51fa\u200b\u767b\u5f55\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u4ecd\u65e7\u4f1a\u200b\u7ee7\u7eed\u6267\u884c\u200b\u3002\u200b\u901a\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5728\u200b <code>nohup</code> \u200b\u547d\u4ee4\u200b\u5c3e\u90e8\u200b\u52a0\u4e0a\u200b <code>&amp;</code> \u200b\u5b57\u7b26\u200b\uff0c\u200b\u624d\u80fd\u200b\u5c06\u200b\u547d\u4ee4\u200b\u653e\u81f3\u200b\u540e\u53f0\u200b\u6267\u884c\u200b\u3002\u200b\u5177\u4f53\u200b\u793a\u4f8b\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> Bash<pre><code>nohup python hello.py &gt; nohup.out &amp;\n</code></pre> <p>\u200b\u5728\u200b\u547d\u4ee4\u200b\u5934\u5c3e\u200b\u5206\u522b\u200b\u52a0\u4e0a\u200b <code>nohup</code> \u200b\u548c\u200b <code>&amp;</code> \u200b\u540e\u200b\u56de\u8f66\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b <code>nohup</code> \u200b\u8f93\u51fa\u200b\u4e86\u200b\u4e00\u884c\u200b\u4fe1\u606f\u200b\uff0c\u200b\u518d\u200b Enter \u200b\u952e\u200b\u5c31\u200b\u8df3\u200b\u56de\u200b\u4e86\u200b Shell \u200b\u547d\u4ee4\u884c\u200b\uff0c\u200b\u6b64\u65f6\u200b\u547d\u4ee4\u200b\u5df2\u7ecf\u200b\u5728\u200b\u540e\u53f0\u200b\u6267\u884c\u200b\u4e86\u200b\uff0c<code>nohup</code> \u200b\u5c06\u200b\u547d\u4ee4\u200b\u7684\u200b\u8f93\u51fa\u200b\u91cd\u5b9a\u5411\u200b\u81f3\u200b\u5f53\u524d\u76ee\u5f55\u200b\u7684\u200b <code>nohup.out</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c<code>nohup</code> \u200b\u4f1a\u200b\u5c06\u200b\u5bf9\u5e94\u200b\u7a0b\u5e8f\u200b\u7684\u200b PID \u200b\u8f93\u51fa\u200b\uff0cPID \u200b\u53ef\u200b\u7528\u4e8e\u200b\u9700\u8981\u200b\u4e2d\u65ad\u200b\u8fdb\u7a0b\u200b\u65f6\u200b\u7ed3\u675f\u200b\u8fdb\u7a0b\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u7a0b\u5e8f\u76d1\u63a7","title":"\u7a0b\u5e8f\u200b\u76d1\u63a7","text":"<p>\u200b\u6267\u884c\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6301\u7eed\u200b\u7684\u200b\u67e5\u770b\u200b <code>nohup.out</code> \u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u8fbe\u5230\u200b\u76d1\u63a7\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p> Bash<pre><code>tail -f nohup.out\n</code></pre>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u67e5\u770b-pid","title":"\u67e5\u770b\u200b PID","text":"<p>\u200b\u4f7f\u7528\u200b ps \u200b\u547d\u4ee4\u200b\u67e5\u627e\u200b\u8be5\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u8fdb\u7a0b\u200b ID\uff08PID\uff09\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u8fd0\u884c\u200b\u4e2d\u200b\u7684\u200b Python \u200b\u8fdb\u7a0b\u200b\uff1a</p> Bash<pre><code>ps -ef | grep python\n</code></pre>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u7ed3\u675f\u8fdb\u7a0b","title":"\u7ed3\u675f\u200b\u8fdb\u7a0b","text":"<p>\u200b\u7ed3\u675f\u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b kill \u200b\u547d\u4ee4\u200b\uff0c\u200b\u5176\u200b\u8bed\u6cd5\u200b\u683c\u5f0f\u200b\u5982\u4e0b\u200b\uff1a</p> Bash<pre><code>kill [signal] PID\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0csignal \u200b\u8868\u793a\u200b\u8981\u200b\u53d1\u9001\u200b\u7684\u200b\u4fe1\u53f7\u200b\u7c7b\u578b\u200b\uff0cPID \u200b\u8868\u793a\u200b\u8981\u200b\u7ed3\u675f\u200b\u7684\u200b\u8fdb\u7a0b\u200b ID\u3002</p> <p>\u200b\u5e38\u7528\u200b\u7684\u200b\u4fe1\u53f7\u200b\u7c7b\u578b\u200b\u5305\u62ec\u200b\uff1a</p> <ul> <li>15(SIGTERM)\uff1a\u200b\u9ed8\u8ba4\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u8868\u793a\u200b\u7ec8\u6b62\u200b\u8fdb\u7a0b\u200b\u3002</li> <li>9(SIGKILL)\uff1a\u200b\u5f3a\u5236\u200b\u7ec8\u6b62\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u8fdb\u7a0b\u200b\u5ffd\u7565\u200b\u6216\u200b\u6355\u83b7\u200b\u3002</li> </ul> <p>\u200b\u6211\u4eec\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u5373\u53ef\u200b\uff1a</p> Bash<pre><code>kill -9 PID\n</code></pre>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u7f3a\u70b9","title":"\u7f3a\u70b9","text":"<p>\u200b\u4f7f\u7528\u200b <code>nohup</code> \u200b\u547d\u4ee4\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7f3a\u70b9\u200b\u5c31\u662f\u200b\u4e0d\u200b\u65b9\u4fbf\u200b\u8fdb\u884c\u200b\u7a0b\u5e8f\u200b\u76d1\u63a7\u200b\uff0c\u200b\u53ea\u80fd\u200b\u901a\u8fc7\u200b\u5199\u5165\u200b\u5230\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u201d\u200b\u66f2\u7ebf\u6551\u56fd\u200b\u201c\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u5199\u5165\u200b\u7684\u200b\u6587\u4ef6\u200b\u975e\u5e38\u200b\u5927\u200b\uff0c\u200b\u5360\u636e\u200b\u5927\u91cf\u200b\u78c1\u76d8\u200b\u8d44\u6e90\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u4e8b\u540e\u4f7f\u7528-disown-\u547d\u4ee4","title":"\u4e8b\u540e\u200b\u4f7f\u7528\u200b <code>disown</code> \u200b\u547d\u4ee4","text":"","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u5c06\u6b63\u5728\u8fd0\u884c\u4e2d\u7684\u4efb\u52a1\u653e\u5165\u540e\u53f0","title":"\u5c06\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u4e2d\u200b\u7684\u200b\u4efb\u52a1\u200b\u653e\u5165\u200b\u540e\u53f0","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u5982\u679c\u200b\u4efb\u52a1\u200b\u5df2\u7ecf\u200b\u5728\u200b\u524d\u53f0\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6309\u4e0b\u200b Ctrl+Z \u200b\u6765\u200b\u6682\u505c\u200b\u5b83\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u8f93\u5165\u200b <code>bg</code> \u200b\u547d\u4ee4\u200b\u5c06\u200b\u6682\u505c\u200b\u7684\u200b\u4efb\u52a1\u200b\u653e\u5165\u200b\u540e\u53f0\u200b\u7ee7\u7eed\u200b\u8fd0\u884c\u200b\u3002</p> Bash<pre><code>Ctrl + Z\nbg\n</code></pre>","tags":["Linux"]},{"location":"blog/prevent-a-background-process-from-being-stopped-after-closing-ssh-client/#\u5c06\u4efb\u52a1\u4ece\u5f53\u524d\u4f1a\u8bdd\u4e2d\u79fb\u9664","title":"\u5c06\u200b\u4efb\u52a1\u200b\u4ece\u200b\u5f53\u524d\u200b\u4f1a\u8bdd\u200b\u4e2d\u200b\u79fb\u9664","text":"<p>\u200b\u4e3a\u4e86\u200b\u786e\u4fdd\u200b\u4efb\u52a1\u200b\u5728\u200b SSH \u200b\u4f1a\u8bdd\u200b\u5173\u95ed\u200b\u540e\u200b\u4ecd\u7136\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>disown</code> \u200b\u547d\u4ee4\u200b\u3002\u200b\u9996\u5148\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>jobs</code> \u200b\u547d\u4ee4\u200b\u67e5\u770b\u200b\u540e\u53f0\u4efb\u52a1\u200b\u7684\u200b\u7f16\u53f7\u200b\uff0c\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b <code>disown</code> \u200b\u547d\u4ee4\u200b\u5c06\u200b\u5176\u200b\u4ece\u200b\u5f53\u524d\u200b\u4f1a\u8bdd\u200b\u4e2d\u200b\u79fb\u9664\u200b\u3002</p> Bash<pre><code>jobs\ndisown -h %jobid # \u200b\u4f8b\u5982\u200b disown -h %1\n</code></pre> <p>\u200b\u5176\u4e2d\u200b <code>jobid</code> \u200b\u662f\u200b\u901a\u8fc7\u200b <code>jobs</code> \u200b\u547d\u4ee4\u200b\u67e5\u770b\u200b\u5230\u200b\u7684\u200b\u540e\u53f0\u4efb\u52a1\u200b\u7f16\u53f7\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u5373\u4f7f\u200b SSH \u200b\u4f1a\u8bdd\u200b\u5173\u95ed\u200b\uff0c\u200b\u4efb\u52a1\u200b\u4e5f\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u5728\u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b\u3002</p>","tags":["Linux"]},{"location":"blog/text-classification-using-llm-with-marvin/","title":"\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u6587\u672c\u200b\u5206\u7c7b","text":"<p>\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u53ef\u4ee5\u200b\u505a\u200b\u5f88\u591a\u200b\u4e8b\u60c5\u200b\uff1a\u200b\u7ed9\u200b\u5b83\u200b\u4e00\u4e2a\u200b\u63d0\u793a\u200b\u8bcd\u200b\uff0c\u200b\u5b83\u200b\u5c31\u200b\u80fd\u200b\u7ed9\u51fa\u200b\u806a\u660e\u200b\u7684\u200b\u56de\u590d\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u6709\u65f6\u200b\u9700\u8981\u200b\u5f97\u5230\u200b\u7ed3\u6784\u5316\u200b\u7684\u200b\u3001\u200b\u5177\u6709\u200b\u4e25\u683c\u200b\u7c7b\u578b\u200b\u8981\u6c42\u200b\u7684\u200b\u56de\u7b54\u200b\u3002\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5224\u65ad\u200b\u4e00\u53e5\u200b\u8bdd\u200b\u7684\u200b\u60c5\u611f\u200b\u5f97\u5206\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u6570\u503c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u7684\u200b\u5143\u7d20\u200b\u3002\u200b\u5373\u4f7f\u200b\u6211\u4eec\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u5728\u200b\u63d0\u793a\u200b\u8bcd\u4e2d\u200b\u5199\u200b\u4e0a\u200b\u201c\u200b\u8bf7\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6570\u503c\u200b\uff0c\u200b\u4f8b\u5982\u200b 1.0\u3002\u200b\u4e0d\u8981\u200b\u5305\u542b\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u5143\u7d20\u200b\uff0c\u200b\u53ea\u8981\u200b\u4e00\u4e2a\u200b\u6570\u503c\u200b\uff0c\u200b\u6c42\u200b\u4f60\u200b\u4e86\u200b\u201d\uff0c\u200b\u6a21\u578b\u200b\u4ecd\u7136\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u5404\u79cd\u200b\u5947\u602a\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6587\u672c\u200b\u5728\u200b\u540e\u7eed\u200b\u4ee3\u7801\u200b\u4e2d\u6781\u200b\u6709\u200b\u53ef\u80fd\u200b\u51fa\u9519\u200b\u3002</p> <p><code>marvin</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u5b9e\u7528\u200b\u7684\u200b Python \u200b\u5305\u200b\uff0c\u200b\u5b83\u200b\u4f7f\u7528\u200b\u7b80\u5355\u200b\u7684\u200b\u4ee3\u7801\u200b\u548c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\u5c31\u200b\u80fd\u200b\u83b7\u53d6\u200b\u7279\u5b9a\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\u8fd4\u56de\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u5b98\u7f51\u200b\u4ecb\u7ecd\u200b\u8bf4\u200b\uff1a</p> <p>This lets you focus on what you've always focused on: writing clean, versioned, reusable code and data models, and not scrutinizing whether you begged your LLM hard enough to output JSON or needed to offer it a bigger tip for the right answer.</p> <p>\u200b\u672c\u6587\u200b\u501f\u52a9\u200b <code>marvin</code> \u200b\u7528\u200b <code>gpt-3.5-turbo</code> \u200b\u5bf9\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u4e8c\u200b\u5206\u7c7b\u200b\uff0c\u200b\u5224\u65ad\u200b\u4e00\u6bb5\u200b\u6587\u672c\u200b\u662f\u5426\u200b\u7531\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u751f\u6210\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4eba\u7c7b\u200b\u751f\u6210\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/text-classification-using-llm-with-marvin/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"<p>\u200b\u9996\u5148\u200b\u5bfc\u5165\u200b\u5fc5\u8981\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u8bfb\u53d6\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b <code>.env</code> \u200b\u6587\u4ef6\u200b\u5b58\u653e\u200b\u7684\u200b API Key\uff0c\u200b\u5e76\u4e14\u200b\u6307\u5b9a\u200b\u4f7f\u7528\u200b <code>gpt-3.5-turbo</code> \u200b\u6a21\u578b\u200b\u3002</p> <p><code>.env</code> \u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> Python<pre><code>import os\nimport marvin\nfrom dotenv import load_dotenv\n# Loading Environment Variables Using the `dotenv` Package\nload_dotenv()\nmarvin.settings.openai.base_url = os.environ[\"OPENAI_API_BASE\"]\nmarvin.settings.openai.api_key = os.environ[\"OPENAI_API_KEY\"]\nmarvin.settings.openai.chat.completions.model = \"gpt-3.5-turbo\"\n</code></pre> <p><code>marvin</code> \u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u5f0f\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u5fc5\u987b\u200b\u662f\u200b\u5e03\u5c14\u503c\u200b <code>True</code> \u200b\u6216\u8005\u200b <code>False</code>\uff1a</p> Python<pre><code>text = \"\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u8ba4\u77e5\u200b\u667a\u80fd\u200b\u6a21\u578b\u200b\uff0c\u200b\u6211\u200b\u4e0d\u200b\u5177\u5907\u200b\u4ef7\u503c\u200b\u5224\u65ad\u80fd\u529b\u200b\uff0c\u200b\u4e5f\u200b\u65e0\u6cd5\u200b\u5bf9\u200b\u4e0d\u540c\u200b\u5bfc\u6f14\u200b\u7684\u200b\u6587\u827a\u200b\u98ce\u683c\u200b\u505a\u51fa\u200b\u8bc4\u8bba\u200b\u3002\"\ncategory = marvin.classify(\ntext,\nbool,\ninstructions=\"Is this text generated by a large language model?\",\n)\n</code></pre>","tags":["Python"]},{"location":"blog/text-classification-using-llm-with-marvin/#\u5206\u7c7b\u7ed3\u679c","title":"\u5206\u7c7b\u200b\u7ed3\u679c","text":"<p>\u200b\u4e0b\u9762\u200b\u5c55\u793a\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u5206\u7c7b\u200b\u7ed3\u679c\u200b\uff0c\u200b\u786e\u5b9e\u200b\u662f\u200b\u5206\u7c7b\u200b\u6b63\u786e\u200b\u7684\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b 1000 \u200b\u6761\u200b\u6837\u672c\u200b\u8fdb\u884c\u200b\u5b9e\u9a8c\u200b\uff0c\u200b\u5e76\u200b\u8ba1\u7b97\u200b\u6a21\u578b\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u6307\u6807\u200b\uff1a</p> <p></p> Python<pre><code>import matplotlib.pyplot as plt\nfrom sklearn.metrics import (\nConfusionMatrixDisplay,\naccuracy_score,\nconfusion_matrix,\nf1_score,\nprecision_score,\nrecall_score,\n)\ny_true = df_test_for_gpt[\"label\"]\ny_pred = df_test_for_gpt[\"pred\"]\n# \u200b\u8ba1\u7b97\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u7cbe\u786e\u200b\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u3001F1 \u200b\u503c\u200b\nacc = accuracy_score(y_true, y_pred)\nprec = precision_score(y_true, y_pred)\nrec = recall_score(y_true, y_pred)\nf1 = f1_score(y_true, y_pred)\n# \u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\uff0c\u200b\u683c\u5f0f\u5316\u200b\u4e3a\u200b\u767e\u5206\u6bd4\u200b\u5f62\u5f0f\u200b\nprint(\"\u200b\u51c6\u786e\u7387\u200b\uff1a{:.2%}\".format(acc))\nprint(\"\u200b\u7cbe\u786e\u200b\u7387\u200b\uff1a{:.2%}\".format(prec))\nprint(\"\u200b\u53ec\u56de\u200b\u7387\u200b\uff1a{:.2%}\".format(rec))\nprint(\"F1 \u200b\u503c\u200b\uff1a{:.2%}\".format(f1))\ncm = confusion_matrix(y_true, y_pred, normalize=\"true\")\nlabels = [\"Human\", \"Machine\"]\ndisplay = ConfusionMatrixDisplay(confusion_matrix=cm, display_labels=labels)\ndisplay.plot(\ninclude_values=True,\ncmap=\"Blues\",\nax=None,\nxticks_rotation=\"horizontal\",\nvalues_format=\".2%\",\n)\nplt.show()\n</code></pre> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0cGPT \u200b\u7684\u200b\u5206\u7c7b\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u5bb9\u6613\u200b\u628a\u200b\u4eba\u7c7b\u200b\u751f\u6210\u200b\u7684\u200b\u6587\u5b57\u200b\u8bc6\u522b\u200b\u4e3a\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u7684\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5047\u9633\u7387\u200b\uff08False positive rate\uff09\u200b\u8f83\u200b\u9ad8\u200b\u3002</p>","tags":["Python"]},{"location":"blog/text-classification-using-llm-with-marvin/#\u540e\u8bb0","title":"\u540e\u8bb0","text":"<p><code>marvin</code> \u200b\u8ba9\u200b\u6211\u200b\u770b\u5230\u200b\u4e86\u200b GPT \u200b\u5e94\u7528\u200b\u7684\u200b\u66f4\u200b\u591a\u200b\u53ef\u80fd\u6027\u200b\uff1a\u200b\u7c7b\u578b\u200b\u548c\u200b\u7ed3\u6784\u200b\u89c4\u6574\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u5b8c\u5168\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u67d0\u4e9b\u200b\u670d\u52a1\u200b\u7684\u200b API \u200b\u4e86\u200b\u3002</p> <p>\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u5de5\u5177\u200b\u8fd8\u6709\u200b <code>instructor</code>\u3002\u200b\u5b83\u4eec\u200b\u76ee\u524d\u200b\u90fd\u200b\u4e0d\u200b\u652f\u6301\u200b Python3.8 \u200b\u53ca\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u5982\u679c\u200b\u7531\u4e8e\u200b Python \u200b\u7248\u672c\u200b\u95ee\u9898\u200b\u800c\u200b\u65e0\u6cd5\u200b\u5b89\u88c5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u865a\u62df\u73af\u5883\u200b\u6765\u200b\u5b89\u88c5\u200b\u4f7f\u7528\u200b\u3002</p>","tags":["Python"]},{"location":"blog/migrate-conda-environment/","title":"\u8fc1\u79fb\u200b Conda \u200b\u865a\u62df\u73af\u5883","text":"<p>\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u642d\u5efa\u200b\u4e86\u200b Conda \u200b\u865a\u62df\u73af\u5883\u200b\u540e\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5728\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u73af\u5883\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5236\u4f5c\u200b <code>environment.yml</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u5feb\u901f\u200b\u5730\u200b\u8fc1\u79fb\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u518d\u6b21\u200b\u624b\u52a8\u200b\u5b89\u88c5\u5305\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5c06\u200b macOS \u200b\u7684\u200b Conda \u200b\u865a\u62df\u73af\u5883\u200b\u8fc1\u79fb\u200b\u5230\u200b Linux \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/migrate-conda-environment/#\u5236\u4f5c-environmentyml-\u6587\u4ef6","title":"\u5236\u4f5c\u200b <code>environment.yml</code> \u200b\u6587\u4ef6","text":"<p>\u200b\u53c2\u8003\u200b\uff1aAnaconda \u200b\u4e0d\u540c\u200b\u5e73\u53f0\u200b\uff0c\u200b\u4e0d\u540c\u200b\u7535\u8111\u200b\u4e4b\u95f4\u200b\u7684\u200b\u73af\u5883\u200b\u540c\u6b65\u200b\u3002</p> <p>\u200b\u5728\u200b macOS \u200b\u4e0a\u200b\u8f93\u5165\u200b\uff1a</p> \u200b\u5236\u4f5c\u200b environment.yml \u200b\u6587\u4ef6\u200b<pre><code>conda activate py310 # py310 \u200b\u662f\u200b\u5df2\u7ecf\u200b\u642d\u5efa\u200b\u597d\u200b\u7684\u200b\u73af\u5883\u200b\u540d\u79f0\u200b\nconda env export &gt; environment.yml\n</code></pre> <p>\u200b\u5bfc\u51fa\u200b\u7684\u200b<code>environment.yml</code>\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p> environment.yml<pre><code>name: py310\nchannels:\n- conda-forge\n- bioconda\n- defaults\ndependencies:\n- appnope=0.1.3=pyhd8ed1ab_0\n- asttokens=2.4.1=pyhd8ed1ab_0\n- bzip2=1.0.8=h93a5062_5\n- ca-certificates=2023.11.17=hf0a4a13_0\n- comm=0.2.1=pyhd8ed1ab_0\n- debugpy=1.8.0=py310h1253130_1\n- decorator=5.1.1=pyhd8ed1ab_0\n- exceptiongroup=1.2.0=pyhd8ed1ab_2\n- executing=2.0.1=pyhd8ed1ab_0\n- importlib-metadata=7.0.1=pyha770c72_0\n- importlib_metadata=7.0.1=hd8ed1ab_0\n- ipykernel=6.29.0=pyh3cd1d5f_0\n- ipython=8.20.0=pyh707e725_0\n- jedi=0.19.1=pyhd8ed1ab_0\n- jupyter_client=8.6.0=pyhd8ed1ab_0\n- jupyter_core=5.7.1=py310hbe9552e_0\n- libcxx=16.0.6=h4653b0c_0\n- libffi=3.4.2=h3422bc3_5\n- libsodium=1.0.18=h27ca646_1\n- libsqlite=3.44.2=h091b4b1_0\n- libzlib=1.2.13=h53f4e23_5\n- matplotlib-inline=0.1.6=pyhd8ed1ab_0\n- ncurses=6.4=h463b476_2\n- nest-asyncio=1.5.9=pyhd8ed1ab_0\n- openssl=3.2.0=h0d3ecfb_1\n- packaging=23.2=pyhd8ed1ab_0\n- parso=0.8.3=pyhd8ed1ab_0\n- pexpect=4.8.0=pyh1a96a4e_2\n- pickleshare=0.7.5=py_1003\n- pip=23.3.2=pyhd8ed1ab_0\n- platformdirs=4.1.0=pyhd8ed1ab_0\n- prompt-toolkit=3.0.42=pyha770c72_0\n- psutil=5.9.8=py310hd125d64_0\n- ptyprocess=0.7.0=pyhd3deb0d_0\n- pure_eval=0.2.2=pyhd8ed1ab_0\n- pygments=2.17.2=pyhd8ed1ab_0\n- python=3.10.13=h2469fbe_1_cpython\n- python-dateutil=2.8.2=pyhd8ed1ab_0\n- python_abi=3.10=4_cp310\n- pyzmq=25.1.2=py310hbb13138_0\n- readline=8.2=h92ec313_1\n- setuptools=69.0.3=pyhd8ed1ab_0\n- six=1.16.0=pyh6c4a22f_0\n- stack_data=0.6.2=pyhd8ed1ab_0\n- tk=8.6.13=h5083fa2_1\n- tornado=6.3.3=py310h2aa6e3c_1\n- traitlets=5.14.1=pyhd8ed1ab_0\n- typing_extensions=4.9.0=pyha770c72_0\n- wcwidth=0.2.13=pyhd8ed1ab_0\n- wheel=0.42.0=pyhd8ed1ab_0\n- xz=5.2.6=h57fd34a_0\n- zeromq=4.3.5=h965bd2d_0\n- zipp=3.17.0=pyhd8ed1ab_0\n- pip:\n- annotated-types==0.6.0\n- anyio==4.2.0\n- cachetools==5.3.2\n- certifi==2023.11.17\n- charset-normalizer==3.3.2\n- click==8.1.7\n- colorama==0.4.6\n- conda-pack==0.7.1\n- contourpy==1.2.0\n- cycler==0.12.1\n- distro==1.9.0\n- fastapi==0.109.0\n- fonttools==4.47.2\n- h11==0.14.0\n- httpcore==1.0.2\n- httpx==0.26.0\n- idna==3.6\n- ipywidgets==8.1.1\n- jinja2==3.1.3\n- joblib==1.3.2\n- jsonpatch==1.33\n- jsonpointer==2.4\n- jupyterlab-widgets==3.0.9\n- kiwisolver==1.4.5\n- markdown-it-py==3.0.0\n- markupsafe==2.1.4\n- marvin==2.1.2\n- matplotlib==3.8.2\n- mdurl==0.1.2\n- numpy==1.26.3\n- openai==1.8.0\n- pandas==1.5.3\n- pillow==10.2.0\n- pretty-errors==1.2.25\n- pydantic==2.5.3\n- pydantic-core==2.14.6\n- pydantic-settings==2.1.0\n- pyparsing==3.1.1\n- python-dotenv==1.0.0\n- pytz==2023.3.post1\n- regex==2023.12.25\n- requests==2.31.0\n- rich==13.7.0\n- scikit-learn==1.4.0\n- scipy==1.11.4\n- sniffio==1.3.0\n- starlette==0.35.1\n- threadpoolctl==3.2.0\n- tiktoken==0.5.2\n- tqdm==4.66.1\n- typer==0.9.0\n- tzdata==2023.4\n- urllib3==2.1.0\n- uvicorn==0.26.0\n- widgetsnbextension==4.0.9\nprefix: /Users/jeremy/miniconda3/envs/py310\n</code></pre> <p>Note</p> <ol> <li> <p>\u200b\u6211\u200b\u5728\u200b <code>channels</code>\u200b\u4e2d\u200b\u624b\u52a8\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u6e05\u534e\u200b\u6e90\u200b\uff0c\u200b\u5e0c\u671b\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u5feb\u901f\u200b\u5730\u200b\u4e0b\u8f7d\u200b\u5305\u200b\u3002</p> </li> <li> <p>\u200b\u6211\u200b\u5c06\u200b\u6700\u540e\u200b\u4e00\u884c\u200b <code>prefix</code> \u200b\u5220\u9664\u200b\u4e86\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u89c9\u5f97\u200b\u5b83\u200b\u53ef\u80fd\u200b\u6ca1\u4ec0\u4e48\u200b\u7528\u200b\u3002</p> </li> </ol>","tags":["Python"]},{"location":"blog/migrate-conda-environment/#\u89e3\u51b3-resolvepackagenotfound-\u62a5\u9519","title":"\u89e3\u51b3\u200b <code>ResolvePackageNotFound</code> \u200b\u62a5\u9519","text":"<p>\u200b\u5982\u679c\u200b\u9047\u5230\u200b <code>ResolvePackageNotFound</code> \u200b\u62a5\u9519\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200bConda \u200b\u5bfc\u5165\u200b\u73af\u5883\u200b\u65f6\u200b ResolvePackageNotFound \u200b\u9519\u8bef\u200b\uff0c\u200b\u5c06\u200b\u201c\u200b\u5305\u200b\u540d\u79f0\u200b\u7b2c\u4e8c\u4e2a\u200b\u7b49\u200b\u53f7\u200b\u53ca\u200b\u540e\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\u201d\u200b\u5220\u9664\u200b\u3002</p> <p>\u200b\u6700\u7ec8\u200b\u653e\u5230\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e0a\u200b\u7684\u200b <code>environment.yml</code> \u200b\u6587\u4ef6\u200b\u4e3a\u200b\uff1a</p> environment.yml<pre><code>name: py310\nchannels:\n- conda-forge\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro\n- https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\n- bioconda\n- defaults\ndependencies:\n- appnope=0.1.3\n- asttokens=2.4.1\n- bzip2=1.0.8\n- ca-certificates=2023.11.17\n- comm=0.2.1\n- debugpy=1.8.0\n- decorator=5.1.1\n- exceptiongroup=1.2.0\n- executing=2.0.1\n- importlib-metadata=7.0.1\n- importlib_metadata=7.0.1\n- ipykernel=6.29.0\n- ipython=8.20.0\n- jedi=0.19.1\n- jupyter_client=8.6.0\n- jupyter_core=5.7.1\n- libcxx=16.0.6\n- libffi=3.4.2\n- libsodium=1.0.18\n- libsqlite=3.44.2\n- libzlib=1.2.13\n- matplotlib-inline=0.1.6\n- ncurses=6.4\n- nest-asyncio=1.5.9\n- openssl=3.2.0\n- packaging=23.2\n- parso=0.8.3\n- pexpect=4.8.0\n- pickleshare=0.7.5\n- pip=23.3.2\n- platformdirs=4.1.0\n- prompt-toolkit=3.0.42\n- psutil=5.9.8\n- ptyprocess=0.7.0\n- pure_eval=0.2.2\n- pygments=2.17.2\n- python=3.10.13\n- python-dateutil=2.8.2\n- python_abi=3.10=4_cp310\n- pyzmq=25.1.2\n- readline=8.2\n- setuptools=69.0.3\n- six=1.16.0\n- stack_data=0.6.2\n- tk=8.6.13\n- tornado=6.3.3\n- traitlets=5.14.1\n- typing_extensions=4.9.0\n- wcwidth=0.2.13\n- wheel=0.42.0\n- xz=5.2.6\n- zeromq=4.3.5\n- zipp=3.17.0\n- pip:\n- annotated-types==0.6.0\n- anyio==4.2.0\n- cachetools==5.3.2\n- certifi==2023.11.17\n- charset-normalizer==3.3.2\n- click==8.1.7\n- colorama==0.4.6\n- conda-pack==0.7.1\n- contourpy==1.2.0\n- cycler==0.12.1\n- distro==1.9.0\n- fastapi==0.109.0\n- fonttools==4.47.2\n- h11==0.14.0\n- httpcore==1.0.2\n- httpx==0.26.0\n- idna==3.6\n- ipywidgets==8.1.1\n- jinja2==3.1.3\n- joblib==1.3.2\n- jsonpatch==1.33\n- jsonpointer==2.4\n- jupyterlab-widgets==3.0.9\n- kiwisolver==1.4.5\n- markdown-it-py==3.0.0\n- markupsafe==2.1.4\n- marvin==2.1.2\n- matplotlib==3.8.2\n- mdurl==0.1.2\n- numpy==1.26.3\n- openai==1.8.0\n- pandas==1.5.3\n- pillow==10.2.0\n- pretty-errors==1.2.25\n- pydantic==2.5.3\n- pydantic-core==2.14.6\n- pydantic-settings==2.1.0\n- pyparsing==3.1.1\n- python-dotenv==1.0.0\n- pytz==2023.3.post1\n- regex==2023.12.25\n- requests==2.31.0\n- rich==13.7.0\n- scikit-learn==1.4.0\n- scipy==1.11.4\n- sniffio==1.3.0\n- starlette==0.35.1\n- threadpoolctl==3.2.0\n- tiktoken==0.5.2\n- tqdm==4.66.1\n- typer==0.9.0\n- tzdata==2023.4\n- urllib3==2.1.0\n- uvicorn==0.26.0\n- widgetsnbextension==4.0.9\n</code></pre> <p>\u200b\u5728\u200b Linux \u200b\u7cfb\u7edf\u200b\u4e0a\u200b\u8f93\u5165\u200b\uff1a</p> Bash<pre><code>conda env create -f environment.yml\n</code></pre> <p>\u200b\u7b49\u5f85\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b\u3002</p>","tags":["Python"]},{"location":"blog/migrate-conda-environment/#\u9a8c\u8bc1\u865a\u62df\u73af\u5883","title":"\u9a8c\u8bc1\u200b\u865a\u62df\u73af\u5883","text":"<p>\u200b\u672c\u6b21\u200b\u8fc1\u79fb\u200b\u865a\u62df\u73af\u5883\u200b\u662f\u200b\u4e3a\u4e86\u200b\u4f7f\u7528\u200b Python 3.10 \u200b\u4e0b\u200b\u7684\u200b <code>marvin</code> \u200b\u5305\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u65b0\u5efa\u200b\u7684\u200b <code>py310</code> \u200b\u73af\u5883\u200b\u4e2d\u200b\u5bfc\u5165\u200b\u5b83\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/","title":"\u5bf9\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\u4f7f\u7528\u200b <code>np.corrcoef</code> \u200b\u8ba1\u7b97\u200b Pearson \u200b\u548c\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570","text":"<p>\u200b\u672c\u6587\u200b\u5b9e\u9a8c\u200b\u63a2\u7a76\u200b\u4e86\u200b <code>np.corrcoef</code> \u200b\u5728\u200b\u5bf9\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b Pearson \u200b\u76f8\u5173\u7cfb\u6570\u200b\u548c\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b\u65f6\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p> <ul> <li><code>np.corrcoef</code> \u200b\u5728\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u6570\u636e\u200b\u4e2d\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u7a7a\u503c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7a7a\u503c\u200b\u6240\u5728\u200b\u5217\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u4e5f\u200b\u4f1a\u200b\u4e3a\u200b\u7a7a\u503c\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5ffd\u7565\u200b\u7a7a\u503c\u200b\u540e\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>np.ma.corrcoef</code>\uff0c\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b <code>allow_masked</code> \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b <code>True</code>\u3002\u200b\u5f53\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b <code>MaskedArray</code> \u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c<code>np.ma.corrcoef</code> \u200b\u4f1a\u200b\u5ffd\u7565\u200b\u6389\u200b\u5176\u4e2d\u200b\u7684\u200b\u7a7a\u503c\u200b\u3002</li> <li>\u200b\u5728\u200b\u5bf9\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\u4f7f\u7528\u200b <code>argsort().argsort()</code> \u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u540e\u200b\uff0c\u200b\u7a7a\u503c\u200b\u4f1a\u200b\u88ab\u200b\u5f53\u505a\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u5b83\u200b\u4e5f\u200b\u4f1a\u200b\u83b7\u5f97\u200b\u4e00\u4e2a\u200b\u6392\u5e8f\u200b\u503c\u200b\uff0c\u200b\u7a7a\u503c\u200b\u5185\u90e8\u200b\u7684\u200b\u6392\u5e8f\u200b\u503c\u200b\u5927\u5c0f\u200b\u53d6\u51b3\u4e8e\u200b\u8be5\u200b\u7a7a\u503c\u200b\u6240\u5728\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u8ba1\u7b97\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u624b\u52a8\u200b\u5220\u9664\u200b\u7a7a\u503c\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/#\u4e00\u5217\u6570\u636e\u5168\u4e3a\u7a7a\u503c","title":"\u4e00\u5217\u200b\u6570\u636e\u200b\u5168\u4e3a\u200b\u7a7a\u503c","text":"","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/#pearson-\u76f8\u5173\u7cfb\u6570","title":"Pearson \u200b\u76f8\u5173\u7cfb\u6570","text":"Python<pre><code>import numpy as np\nimport pandas as pd\nnp.random.seed(42)\n</code></pre> Python<pre><code># \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b DataFrame\uff0c\u200b\u5176\u4e2d\u200b\u4e00\u5217\u200b\u5168\u662f\u200b NaN\ndf = pd.DataFrame({\"A\": np.random.rand(10), \"B\": np.full(10, np.nan)})\ndf\n</code></pre> Text Only<pre><code>          A   B\n0  0.374540 NaN\n1  0.950714 NaN\n2  0.731994 NaN\n3  0.598658 NaN\n4  0.156019 NaN\n5  0.155995 NaN\n6  0.058084 NaN\n7  0.866176 NaN\n8  0.601115 NaN\n9  0.708073 NaN\n</code></pre> <p>\u200b\u82e5\u200b\u67d0\u200b\u4e00\u5217\u200b\u5168\u662f\u200b\u7a7a\u503c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u200b\u4e00\u5217\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u5217\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u4e5f\u200b\u4e3a\u200b\u7a7a\u503c\u200b\u3002</p> Python<pre><code>np.corrcoef(df.values, rowvar=False)\n</code></pre> Text Only<pre><code>array([[ 1., nan],\n       [nan, nan]])\n</code></pre>","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/#spearman-\u76f8\u5173\u7cfb\u6570","title":"Spearman \u200b\u76f8\u5173\u7cfb\u6570","text":"<p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u5728\u200b\u5bf9\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u540e\u200b\uff0c\u200b\u7a7a\u503c\u200b\u4e5f\u200b\u4f1a\u200b\u83b7\u5f97\u200b\u4e00\u4e2a\u200b\u6392\u5e8f\u200b\u503c\u200b \uff0c\u200b\u8fd9\u4e9b\u200b\u6392\u5e8f\u200b\u503c\u200b\u7684\u200b\u5927\u5c0f\u200b\u53d6\u51b3\u4e8e\u200b\u8be5\u200b\u7a7a\u503c\u200b\u6240\u5728\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b <code>B</code> \u200b\u5217\u4e2d\u200b\uff0c\u200b\u539f\u672c\u200b\u7a7a\u503c\u200b\u7684\u200b\u6392\u5e8f\u200b\u53d8\u6210\u200b\u4e86\u200b <code>0, 1, 2, ..., 9</code>\u3002</p> Python<pre><code># \u200b\u4f7f\u7528\u200b argsort().argsort() \u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\ndf_ranks = df.apply(lambda x: x.argsort().argsort())\ndf_ranks\n</code></pre> Text Only<pre><code>   A  B\n0  3  0\n1  9  1\n2  7  2\n3  4  3\n4  2  4\n5  1  5\n6  0  6\n7  8  7\n8  5  8\n9  6  9\n</code></pre> <p>\u200b\u518d\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u65f6\u200b\uff0c\u200b\u7a7a\u503c\u200b\u7684\u200b\u6392\u5e8f\u200b\u503c\u4f1a\u200b\u88ab\u200b\u5f53\u4f5c\u200b\u5b9e\u9645\u200b\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u6700\u7ec8\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u3002</p> Python<pre><code># \u200b\u8ba1\u7b97\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b\ncorr_matrix = np.corrcoef(df_ranks.values, rowvar=False)\nprint(corr_matrix)\n</code></pre> Text Only<pre><code>[[ 1.         -0.05454545]\n [-0.05454545  1.        ]]\n</code></pre>","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/#\u4e00\u5217\u6570\u636e\u90e8\u5206\u4e3a\u7a7a\u503c","title":"\u4e00\u5217\u200b\u6570\u636e\u200b\u90e8\u5206\u200b\u4e3a\u200b\u7a7a\u503c","text":"","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/#pearson-\u76f8\u5173\u7cfb\u6570_1","title":"Pearson \u200b\u76f8\u5173\u7cfb\u6570","text":"Python<pre><code># \u200b\u521b\u5efa\u200b\u4e24\u5217\u200b\u968f\u673a\u6570\u200b\ndf = pd.DataFrame({\"A\": np.random.rand(10), \"B\": np.random.rand(10)})\n# \u200b\u5c06\u200b 'B' \u200b\u5217\u200b\u7684\u200b\u90e8\u5206\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b NaN\ndf.loc[[0, 1], \"B\"] = np.nan\ndf\n</code></pre> Text Only<pre><code>          A         B\n0  0.020584       NaN\n1  0.969910       NaN\n2  0.832443  0.292145\n3  0.212339  0.366362\n4  0.181825  0.456070\n5  0.183405  0.785176\n6  0.304242  0.199674\n7  0.524756  0.514234\n8  0.431945  0.592415\n9  0.291229  0.046450\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u90e8\u5206\u200b\u4e3a\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\uff0c<code>np.corrcoef</code> \u200b\u7684\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u662f\u200b <code>nan</code>\u3002</p> Python<pre><code>np.corrcoef(df.values, rowvar=False)\n</code></pre> Text Only<pre><code>array([[ 1., nan],\n       [nan, nan]])\n</code></pre> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5ffd\u7565\u200b\u7a7a\u503c\u200b\u540e\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>np.ma.corrcoef</code>\uff0c\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b <code>allow_masked</code> \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b <code>True</code>\u3002\u200b\u5f53\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b <code>MaskedArray</code> \u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c<code>np.ma.corrcoef</code> \u200b\u4f1a\u200b\u5ffd\u7565\u200b\u6389\u200b\u5176\u4e2d\u200b\u7684\u200b\u7a7a\u503c\u200b\u3002\u200b\u5982\u679c\u200b\u67d0\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b\u89c2\u6d4b\u200b\u503c\u200b\u5168\u4e3a\u200b\u7a7a\u503c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7ed3\u679c\u200b\u4e3a\u200b 0\u3002</p> <p>np.ma.corrcoef \u200b\u7684\u200b allow_masked \u200b\u53c2\u6570\u200b</p> <p>If True, masked values are propagated pair-wise: if a value is masked in x, the corresponding value is masked in y. If False, raises an exception. Because bias is deprecated, this argument needs to be treated as keyword only to avoid a warning.</p> Python<pre><code>masked_data = np.ma.masked_invalid(df.values)\nprint(masked_data)\nprint(\"type: \", type(masked_data))\n</code></pre> Text Only<pre><code>[[0.020584494295802447 --]\n [0.9699098521619943 --]\n [0.8324426408004217 0.29214464853521815]\n [0.21233911067827616 0.3663618432936917]\n [0.18182496720710062 0.45606998421703593]\n [0.18340450985343382 0.7851759613930136]\n [0.3042422429595377 0.19967378215835974]\n [0.5247564316322378 0.5142344384136116]\n [0.43194501864211576 0.5924145688620425]\n [0.2912291401980419 0.046450412719997725]]\ntype:  &lt;class 'numpy.ma.core.MaskedArray'&gt;\n</code></pre> <p><code>masked_data</code> \u200b\u4e2d\u200b \u200b\u7b2c\u200b 1 \u200b\u884c\u200b\u548c\u200b\u7b2c\u200b 2 \u200b\u884c\u6709\u200b\u7a7a\u503c\u200b\uff0c<code>np.ma.corrcoef</code> \u200b\u4f1a\u200b\u5ffd\u7565\u200b\u6389\u200b\u7a7a\u503c\u200b\u6240\u5728\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u518d\u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u3002</p> Python<pre><code># \u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\ncorrcoef = np.ma.corrcoef(masked_data, rowvar=False)\nprint(corrcoef)\n</code></pre> Text Only<pre><code>[[1.0 -0.15541564545580966]\n [-0.15541564545580966 1.0]]\n</code></pre> <p>\u200b\u4e0b\u9762\u200b\uff0c\u200b\u6211\u4eec\u200b\u624b\u52a8\u200b\u5c06\u200b\u524d\u200b 2 \u200b\u884c\u200b\u5220\u53bb\u200b\uff0c\u200b\u518d\u7528\u200b <code>np.corrcoef</code> \u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u7ed3\u679c\u200b\u4e0e\u200b <code>np.ma.corrcoef</code> \u200b\u7684\u200b\u7ed3\u679c\u200b\u4e00\u81f4\u200b\u3002</p> Python<pre><code>print(np.corrcoef(df.values[2:], rowvar=False))\n</code></pre> Text Only<pre><code>[[ 1.         -0.15541565]\n [-0.15541565  1.        ]]\n</code></pre>","tags":["Python"]},{"location":"blog/nan-in-np-corrcoef/#spearman-\u76f8\u5173\u7cfb\u6570_1","title":"Spearman \u200b\u76f8\u5173\u7cfb\u6570","text":"Python<pre><code># \u200b\u4f7f\u7528\u200b argsort().argsort() \u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\ndf_ranks = df.apply(lambda x: x.argsort().argsort())\ndf_ranks\n</code></pre> Text Only<pre><code>   A  B\n0  0  0\n1  9  1\n2  8  4\n3  3  5\n4  1  6\n5  2  9\n6  5  3\n7  7  7\n8  6  8\n9  4  2\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u7a7a\u503c\u200b\u4f1a\u200b\u88ab\u200b\u5f53\u505a\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u5e76\u4e14\u200b\u540c\u200b\u4e3a\u200b\u7a7a\u503c\u200b\u7684\u200b\u6392\u5e8f\u200b\u53d6\u51b3\u4e8e\u200b\u7a7a\u503c\u200b\u6240\u5728\u200b\u7684\u200b\u884c\u53f7\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e0d\u200b\u51c6\u786e\u200b\u7684\u200b\u3002</p> Python<pre><code># \u200b\u8ba1\u7b97\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b\ncorr_matrix = np.corrcoef(df_ranks.values, rowvar=False)\nprint(corr_matrix)\n</code></pre> Text Only<pre><code>[[ 1.         -0.03030303]\n [-0.03030303  1.        ]]\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u5ffd\u7565\u200b\u7a7a\u503c\u200b\u540e\u200b\u518d\u200b\u8ba1\u7b97\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u5148\u200b\u5c06\u200b\u7a7a\u503c\u200b\u5220\u9664\u200b\uff1a</p> Python<pre><code>df_no_nan = df.dropna()\nprint(df_no_nan)\n</code></pre> Text Only<pre><code>          A         B\n2  0.832443  0.292145\n3  0.212339  0.366362\n4  0.181825  0.456070\n5  0.183405  0.785176\n6  0.304242  0.199674\n7  0.524756  0.514234\n8  0.431945  0.592415\n9  0.291229  0.046450\n</code></pre> Python<pre><code>df_no_nan_ranks = df_no_nan.apply(lambda x: x.argsort().argsort())\nprint(df_no_nan_ranks)\n</code></pre> Text Only<pre><code>   A  B\n2  7  2\n3  2  3\n4  0  4\n5  1  7\n6  4  1\n7  6  5\n8  5  6\n9  3  0\n</code></pre> Python<pre><code># \u200b\u8ba1\u7b97\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b\ncorr_matrix = np.corrcoef(df_no_nan_ranks.values, rowvar=False)\nprint(corr_matrix)\n</code></pre> Text Only<pre><code>[[ 1.         -0.16666667]\n [-0.16666667  1.        ]]\n</code></pre>","tags":["Python"]},{"location":"blog/pathvalidate/","title":"\u4f7f\u7528\u200b <code>pathvalidate</code> \u200b\u5904\u7406\u200b\u4e0d\u200b\u5408\u6cd5\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u8def\u5f84\u540d\u200b\u5b57\u7b26\u4e32","text":"<p>\u200b\u5728\u200b\u7f16\u7a0b\u200b\u65f6\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5904\u7406\u200b\u6587\u4ef6\u200b\u548c\u200b\u76ee\u5f55\u200b\u7684\u200b\u547d\u540d\u200b\uff0c\u200b\u7136\u800c\u200b\u76f4\u63a5\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u7528\u4f5c\u200b\u6587\u4ef6\u540d\u200b\u6216\u200b\u8def\u5f84\u540d\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9047\u5230\u200b\u4e00\u4e2a\u200b\u5e38\u89c1\u95ee\u9898\u200b\uff1a\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u542b\u6709\u200b\u7279\u6b8a\u5b57\u7b26\u200b\u6216\u200b\u4fdd\u7559\u5b57\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u5728\u200b\u5c1d\u8bd5\u200b\u4fdd\u5b58\u200b\u6587\u4ef6\u200b\u65f6\u200b\u51fa\u73b0\u5f02\u5e38\u200b\uff0c\u200b\u5982\u200b\u65e0\u6cd5\u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\u3001\u200b\u8def\u5f84\u200b\u89e3\u6790\u200b\u9519\u8bef\u200b\u7b49\u200b\u95ee\u9898\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0cWindows \u200b\u7cfb\u7edf\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u6587\u4ef6\u540d\u200b\u5305\u542b\u200b\u5b57\u7b26\u200b\u5982\u200b <code>\\</code>\u3001<code>/</code>\u3001<code>:</code>\u3001<code>*</code>\u3001<code>?</code>\u3001<code>\"</code>\u3001<code>&lt;</code>\u3001<code>&gt;</code> \u200b\u548c\u200b <code>|</code>\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b <code>pathvalidate</code> \u200b\u5e93\u200b\uff0c\u200b\u5b83\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u7cfb\u5217\u200b\u5b9e\u7528\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u9a8c\u8bc1\u200b\u548c\u200b\u6e05\u7406\u200b\u6587\u4ef6\u540d\u200b\u548c\u200b\u8def\u5f84\u540d\u200b\u4e2d\u200b\u7684\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\u3002\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u4e0d\u5fc5\u200b\u91cd\u590d\u200b\u9020\u200b\u8f6e\u5b50\u200b\u6765\u200b\u5904\u7406\u200b\u8fd9\u4e9b\u200b\u7279\u6b8a\u5b57\u7b26\u200b\u4e86\u200b\u3002</p>","tags":["Python"]},{"location":"blog/pathvalidate/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b <code>pathvalidate</code>\u3002\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff1a</p> Bash<pre><code>pip install pathvalidate\n</code></pre>","tags":["Python"]},{"location":"blog/pathvalidate/#\u4f7f\u7528\u793a\u4f8b","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"","tags":["Python"]},{"location":"blog/pathvalidate/#\u5904\u7406\u975e\u6cd5\u5b57\u7b26","title":"\u5904\u7406\u200b\u975e\u6cd5\u200b\u5b57\u7b26","text":"<p>\u200b\u5bfc\u5165\u200b <code>pathvalidate</code> \u200b\u540e\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5176\u200b\u63d0\u4f9b\u200b\u7684\u200b\u51fd\u6570\u200b\u6765\u200b\u9a8c\u8bc1\u200b\u6216\u200b\u6e05\u7406\u200b\u5b57\u7b26\u4e32\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e9b\u200b\u57fa\u672c\u200b\u7684\u200b\u4f7f\u7528\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>from pathvalidate import sanitize_filename, sanitize_filepath\n# \u200b\u6e05\u7406\u200b\u6587\u4ef6\u540d\u200b\u4e2d\u200b\u7684\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\nfilename = \"\u200b\u65e0\u6548\u200b/\u200b\u6587\u4ef6\u200b*\u200b\u540d\u200b\uff1f.txt\"\nclean_filename = sanitize_filename(filename)\nprint(clean_filename)  # \u200b\u8f93\u51fa\u200b\u6e05\u7406\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\n# \u200b\u6e05\u7406\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u4e2d\u200b\u7684\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\nfilepath = \"\u200b\u8def\u5f84\u200b/\u200b\u5230\u200b/\u200b\u65e0\u6548\u200b*\u200b\u76ee\u5f55\u200b\uff1f\"\nclean_filepath = sanitize_filepath(filepath)\nprint(clean_filepath)  # \u200b\u8f93\u51fa\u200b\u6e05\u7406\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\n</code></pre> Text Only<pre><code>\u200b\u65e0\u6548\u200b\u6587\u4ef6\u540d\u200b.txt\n\u200b\u8def\u5f84\u200b/\u200b\u5230\u200b/\u200b\u65e0\u6548\u200b\u76ee\u5f55\u200b\n</code></pre>","tags":["Python"]},{"location":"blog/pathvalidate/#\u6307\u5b9a\u66ff\u6362\u975e\u6cd5\u5b57\u7b26\u7684\u5b57\u7b26\u4e32","title":"\u6307\u5b9a\u200b\u66ff\u6362\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\u7684\u200b\u5b57\u7b26\u4e32","text":"<p><code>pathvalidate</code> \u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u5c06\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\u66ff\u6362\u200b\u4e3a\u7a7a\u200b\u5b57\u7b26\u4e32\u200b <code>\"\"</code>\uff0c\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u7528\u200b <code>_</code> \u200b\u7b49\u200b\u5b57\u7b26\u200b\u8fdb\u884c\u200b\u66ff\u6362\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b <code>replacement_text='_'</code>\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>from pathvalidate import sanitize_filename, sanitize_filepath\n# \u200b\u6e05\u7406\u200b\u6587\u4ef6\u540d\u200b\u4e2d\u200b\u7684\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\nfilename = \"\u200b\u65e0\u6548\u200b/\u200b\u6587\u4ef6\u200b*\u200b\u540d\u200b\uff1f.txt\"\nclean_filename = sanitize_filename(filename, replacement_text=\"_\")\nprint(clean_filename)  # \u200b\u8f93\u51fa\u200b\u6e05\u7406\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\n# \u200b\u6e05\u7406\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u4e2d\u200b\u7684\u200b\u975e\u6cd5\u200b\u5b57\u7b26\u200b\nfilepath = \"\u200b\u8def\u5f84\u200b/\u200b\u5230\u200b/\u200b\u65e0\u6548\u200b*\u200b\u76ee\u5f55\u200b\uff1f\"\nclean_filepath = sanitize_filepath(filepath, replacement_text=\"_\")\nprint(clean_filepath)  # \u200b\u8f93\u51fa\u200b\u6e05\u7406\u200b\u540e\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\n</code></pre> Text Only<pre><code>\u200b\u65e0\u6548\u200b_\u200b\u6587\u4ef6\u200b_\u200b\u540d\u200b_.txt\n\u200b\u8def\u5f84\u200b/\u200b\u5230\u200b/\u200b\u65e0\u6548\u200b_\u200b\u76ee\u5f55\u200b_\n</code></pre>","tags":["Python"]},{"location":"blog/latex-font-does-not-contain-requested-fontspec-script-cjk/","title":"\\(\\LaTeX\\) \u200b\u6291\u5236\u200b\u7f3a\u5931\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u7684\u200b\u8b66\u544a","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5982\u4f55\u200b\u6291\u5236\u200b\u7531\u4e8e\u200b\u7f3a\u5931\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u5bfc\u81f4\u200b\u7684\u200b\u5b8f\u5305\u200b\u8b66\u544a\u200b\u3002</p> <p></p> Text Only<pre><code>Font \"STHeitiSC-Medium\" does not contain requested\n(fontspec)  Script \"CJK\".\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u8b66\u544a\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5f71\u54cd\u200b\u7f16\u8bd1\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4f46\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\u7684\u200b\u8b66\u544a\u200b\u6807\u8bc6\u200b\u8ba9\u200b\u4eba\u200b\u770b\u7740\u200b\u6709\u70b9\u513f\u200b\u4e0d\u200b\u8212\u670d\u200b\u3002</p> <p>\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u5728\u200b <code>\\documentclass</code> \u200b\u8fd9\u200b\u4e00\u884c\u200b\u8bed\u53e5\u200b\u7684\u200b\u524d\u9762\u200b\u6dfb\u52a0\u200b\uff1a</p> TeX<pre><code>\\PassOptionsToPackage{quiet}{xeCJK}\n</code></pre> <p>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6291\u5236\u200b <code>xeCJK</code> \u200b\u5b8f\u5305\u200b\u53d1\u51fa\u200b\u7684\u200b\u8b66\u544a\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1a[LaTeX \u200b\u4e2d\u6587\u200b\u4f7f\u7528\u200b] \u200b\u6291\u5236\u200b xeCJK/fontspec \u200b\u8b66\u544a\u200b no-script CJK \u200b\u7684\u200b\u8bc4\u8bba\u200b\u533a\u200b\u3002</p>","tags":["LaTeX"]},{"location":"blog/machine-generated-text-detection-streamlit-app/","title":"\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668","text":"","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/machine-generated-text-detection-streamlit-app/#\u7b80\u4ecb","title":"\u7b80\u4ecb","text":"<p>\u200b\u672c\u200b\u5e94\u7528\u200b\u4f7f\u7528\u200b BERT \u200b\u6a21\u578b\u200b\u548c\u200b SHAP \u200b\u89e3\u91ca\u6027\u200b\u5206\u6790\u200b\u6280\u672f\u200b\uff0c\u200b\u65e8\u5728\u200b\u5e2e\u52a9\u200b\u7528\u6237\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b\u6587\u672c\u200b\u662f\u5426\u200b\u53ef\u80fd\u200b\u7531\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u3002\u200b\u5e94\u7528\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u6587\u672c\u200b\uff0c\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b\u9884\u5148\u200b\u8bad\u7ec3\u200b\u597d\u200b\u7684\u200b BERT \u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\uff0c\u200b\u6700\u540e\u200b\u901a\u8fc7\u200b SHAP \u200b\u63d0\u4f9b\u200b\u6587\u672c\u200b\u7684\u200b\u53ef\u200b\u89e3\u91ca\u6027\u200b\u5206\u6790\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u7406\u89e3\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u5728\u7ebf\u200b\u4f53\u9a8c\u200b\u5730\u5740\u200b\uff1ahttps://machine-generated-text-detection.streamlit.app</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/machine-generated-text-detection-streamlit-app/#\u529f\u80fd","title":"\u529f\u80fd","text":"<ul> <li>\u200b\u6587\u672c\u200b\u8f93\u5165\u200b\uff1a\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u9884\u8bbe\u200b\u7684\u200b\u6587\u672c\u200b\u793a\u4f8b\u200b\u4e2d\u200b\u9009\u62e9\u200b\uff0c\u200b\u6216\u8005\u200b\u8f93\u5165\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6587\u672c\u200b\u8fdb\u884c\u200b\u68c0\u6d4b\u200b\u3002</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u6982\u7387\u200b\u8bc4\u4f30\u200b\uff1a\u200b\u5e94\u7528\u200b\u5c06\u200b\u663e\u793a\u200b\u6587\u672c\u200b\u88ab\u200b\u5224\u65ad\u200b\u4e3a\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u7684\u200b\u6982\u7387\u200b\u3002</li> <li>SHAP \u200b\u5206\u53e5\u200b\u53ef\u200b\u89e3\u91ca\u6027\u200b\u5206\u6790\u200b\uff1a\u200b\u5bf9\u4e8e\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u5e94\u7528\u200b\u5c06\u200b\u5c55\u793a\u200b\u54ea\u4e9b\u200b\u90e8\u5206\u200b\u5bf9\u6a21\u578b\u200b\u7684\u200b\u5224\u65ad\u200b\u8d77\u5230\u200b\u4e86\u200b\u51b3\u5b9a\u6027\u200b\u4f5c\u7528\u200b\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/machine-generated-text-detection-streamlit-app/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"<ol> <li> <p>\u200b\u514b\u9686\u200b\u4ed3\u5e93\u200b\u6216\u200b\u4e0b\u8f7d\u200b\u4ee3\u7801\u200b\u5230\u200b\u672c\u5730\u200b\u3002</p> </li> <li> <p>\u200b\u672c\u200b\u9879\u76ee\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u4f9d\u8d56\u200b\uff1a</p> </li> </ol> Text Only<pre><code> matplotlib==3.8.3\n shap==0.44.1\n streamlit==1.31.1\n torch==2.2.0\n transformers==4.38.1\n</code></pre> <ol> <li>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8fd0\u884c\u200b <code>streamlit run app.py</code> \u200b\u542f\u52a8\u200b\u5e94\u7528\u200b\u3002</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/machine-generated-text-detection-streamlit-app/#\u6ce8\u610f\u4e8b\u9879","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u200b\u5e94\u7528\u200b\u9700\u8981\u200b\u4e00\u5b9a\u200b\u65f6\u95f4\u200b\u6765\u200b\u52a0\u8f7d\u200b\u6a21\u578b\u200b\u548c\u200b\u5206\u6790\u200b\u6587\u672c\u200b\uff0c\u200b\u8bf7\u200b\u8010\u5fc3\u200b\u7b49\u5f85\u200b\u3002</li> <li>SHAP \u200b\u53ef\u200b\u89e3\u91ca\u6027\u200b\u5206\u6790\u200b\u9700\u8981\u200b\u81f3\u5c11\u200b 2 \u200b\u53e5\u200b\u8bdd\u200b\uff08\u200b\u4ee5\u200b\u53e5\u53f7\u200b\u3001\u200b\u95ee\u53f7\u200b\u3001\u200b\u611f\u53f9\u53f7\u200b\u4e3a\u200b\u5212\u5206\u200b\uff09\uff0c\u200b\u8fc7\u200b\u77ed\u200b\u7684\u200b\u6587\u672c\u200b\u53ef\u80fd\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\u3002</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/machine-generated-text-detection-streamlit-app/#\u81f4\u8c22","title":"\u81f4\u8c22","text":"<ul> <li>shap</li> <li>streamlit</li> <li>streamlit-shap</li> <li>huggingface</li> </ul>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","LLM"]},{"location":"blog/publish-finetuned-model-to-huggingface/","title":"\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face","text":"<p>\u200b\u53d1\u5e03\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b BERT \u200b\u6a21\u578b\u200b\u5230\u200b Hugging Face \u200b\u6a21\u578b\u5e93\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u793e\u533a\u200b\u6210\u5458\u200b\u5171\u4eab\u200b\u548c\u200b\u4f7f\u7528\u200b\u4f60\u200b\u7684\u200b\u5de5\u4f5c\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u51c6\u5907\u200b\u548c\u200b\u53d1\u5e03\u200b\u4f60\u200b\u7684\u200b\u6a21\u578b\u200b\u5230\u200b Hugging Face\u3002</p> <p></p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","Python"]},{"location":"blog/publish-finetuned-model-to-huggingface/#save_pretrained","title":"<code>save_pretrained</code>","text":"<p>\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\uff1a</p> Python<pre><code># \u200b\u5047\u8bbe\u200b model \u200b\u662f\u200b\u4f60\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\uff0ctokenizer \u200b\u662f\u200b\u5bf9\u5e94\u200b\u7684\u200b tokenizer\nmodel.save_pretrained(\"your_model_directory\")\ntokenizer.save_pretrained(\"your_model_directory\")\n</code></pre> <p><code>model.save_pretrained('your_model_directory')</code> \u200b\u4f1a\u200b\u751f\u6210\u200b</p> Text Only<pre><code>config.json\nmodel.safetensors\n</code></pre> <p><code>safetensors</code> \u200b\u662f\u200b Hugging Face \u200b\u63a8\u51fa\u200b\u7684\u200b\u4e00\u79cd\u200b\u65b0\u200b\u7684\u200b\u6a21\u578b\u200b\u5b58\u50a8\u200b\u683c\u5f0f\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u5f97\u5230\u200b\u4f20\u7edf\u200b\u7684\u200b <code>pytorch_model.bin</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200bhttps://github.com/huggingface/transformers/issues/28863\uff0c\u200b\u4f7f\u7528\u200b</p> Python<pre><code>model.save_pretrained(\"your_model_directory\", safe_serialization=False)\n</code></pre> <p><code>tokenizer.save_pretrained('your_model_directory')</code> \u200b\u4f1a\u200b\u751f\u6210\u200b</p> Text Only<pre><code>tokenizer_config.json\nspecial_tokens_map.json\nvocab.txt\ntokenizer.json\n</code></pre> <p>\u200b\u6700\u7ec8\u200b\u5f97\u5230\u200b\uff1a</p> <p></p> <p>\u200b\u751f\u6210\u200b\u9002\u7528\u200b\u4e8e\u200b\u591a\u4e2a\u200b\u6846\u67b6\u200b\u7684\u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u4f7f\u200b PyTorch \u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b\u4e5f\u200b\u80fd\u200b\u88ab\u200b TensorFlow \u200b\u4f7f\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://huggingface.co/docs/transformers/v4.15.0/model_sharing#make-your-model-work-on-all-frameworks</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","Python"]},{"location":"blog/publish-finetuned-model-to-huggingface/#\u5728-hugging-face-\u65b0\u5efa-model","title":"\u5728\u200b Hugging Face \u200b\u65b0\u5efa\u200b Model","text":"<p>\u200b\u6700\u540e\u200b\uff0c\u200b\u5728\u200b https://huggingface.co/new \u200b\u4e0a\u200b\u65b0\u5efa\u200b Model\uff0c\u200b\u518d\u200b\u70b9\u51fb\u200b Add File \u200b\u5373\u53ef\u200b\u5c06\u200b\u6587\u4ef6\u200b\u62d6\u62fd\u200b\u4e0a\u4f20\u200b\u3002</p> <p></p> <p>\u200b\u8fd9\u6837\u200b\u4ee5\u540e\u200b\uff0c\u200b\u6240\u6709\u4eba\u200b\u90fd\u200b\u80fd\u200b\u901a\u8fc7\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u5bfc\u5165\u200b\u8be5\u200b\u6a21\u578b\u200b\uff1a</p> Python<pre><code># Load model directly\nfrom transformers import AutoTokenizer, AutoModelForSequenceClassification\ntokenizer = AutoTokenizer.from_pretrained(\"JeremyFeng/machine-generated-text-detection\")\nmodel = AutoModelForSequenceClassification.from_pretrained(\n\"JeremyFeng/machine-generated-text-detection\"\n)\n</code></pre>","tags":["\u6df1\u5ea6\u5b66\u4e60","PyTorch","Python"]},{"location":"blog/latex-breakable-algorithm/","title":"\\(\\LaTeX\\) \u200b\u53ef\u200b\u8de8\u9875\u200b\u7684\u200b\u7b97\u6cd5\u200b\u73af\u5883","text":"<p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5728\u200b \\(\\LaTeX\\) \u200b\u4e2d\u200b\u751f\u6210\u200b\u53ef\u200b\u8de8\u9875\u200b\u7684\u200b\u7b97\u6cd5\u200b\u73af\u5883\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p>","tags":["LaTeX"]},{"location":"blog/latex-breakable-algorithm/#\u6548\u679c","title":"\u6548\u679c","text":"","tags":["LaTeX"]},{"location":"blog/latex-breakable-algorithm/#\u4ee3\u7801","title":"\u4ee3\u7801","text":"TeX<pre><code>\\documentclass{article}\n\\usepackage{amsmath,amssymb,amsfonts}\n\\usepackage{graphicx}\n\\usepackage{algorithm}\n\\usepackage{algorithmic}\n% numbers with circle\n% ------------------------------------------------------\n\\makeatletter\n\\newenvironment{breakablealgorithm}\n{% \\begin{breakablealgorithm}\n\\begin{center} %\n\\refstepcounter{algorithm}% New algorithm\n%\\hrule height.8pt depth0pt \\kern2pt% \\@fs@pre for \\@fs@ruled\n\\hrule height.8pt depth0pt \\kern2pt% \\@fs@pre for \\@fs@ruled\n\\renewcommand{\\caption}[2][\\relax]{% Make a new \\caption\n{\\raggedright\\textbf{\\ALG@name~\\thealgorithm} ##2\\par}\n\\ifx\\relax##1\\relax\n\\addcontentsline{loa}{algorithm}{\\protect\\numberline{\\thealgorithm}##2}%\n\\else\n\\addcontentsline{loa}{algorithm}{\\protect\\numberline{\\thealgorithm}##1}%\n\\fi\n\\kern2pt\\hrule\\kern2pt\n\n}\n}{% \\end{breakablealgorithm}\n\\kern2pt\\hrule\\relax% \\@fs@post for \\@fs@ruled\n\\end{center} %\n}\n\\makeatother\n% ------------------------------------------------------\n\\begin{document}\n\\section{This example of algorithm break}\nThis example is formulated as Algorithm~\\ref{alg:csmr}.\n\n% Algorithmic modifications\n\\makeatletter\n% Renewcommand -----------------------------------------\n\\renewcommand{\\algorithmicrequire}{\\textbf{Input:}}\n\\renewcommand{\\algorithmicensure}{\\textbf{Output:}}\n\\newcommand{\\algorithmicbreak}{\\textbf{break}}\n\\newcommand{\\BREAK}{\\STATE \\algorithmicbreak}\n\\newcommand{\\algorithmiccontinue}{\\textbf{continue}}\n\\newcommand{\\CONTINUE}{\\STATE \\algorithmiccontinue}\n\\makeatother\n%\\begin{algorithm}[htb]\n\\begin{breakablealgorithm}\n\\caption{Algorithm to Calculate the TDR}\n\\label{alg:csmr}\n\\begin{algorithmic}[1] %[1] denotes show line numbers\n\\REQUIRE A tolerance $\\delta &gt;$ 0 and a given base point\n       (${\\bf p}, {\\bf q}$).\n\n\\ENSURE Set $R({\\bf p}, {\\bf q}) = +\\infty ,$\n        and choose a very large enough set new TDR $W^{\\rm B}=\\{\\Delta {\\bf w}|{\\bf H}\n\\Delta{\\bf w}\\geq {\\bf h}\\}$.\n\n\\STATE  ($R({\\bf p},{\\bf q}) &gt;\\delta )$  \\textbf{do}:\n         solve the following mixed integer linear program (MILP) and then attain the\n          optimal solution ${\\bf u}^{*}, \\Delta \\bf w^{*}$ and optimal value ${R}({\\bf p}, {\\bf q})$\n\\STATE $x \\leftarrow 1$\n\\IF{$n &lt; 0$}\n\\STATE $y \\leftarrow 1 / x$\n\\STATE $M \\leftarrow -n$\n\\ELSE\n\\STATE $Y \\leftarrow x$\n\\STATE $M \\leftarrow n$\n\\ENDIF\n\\WHILE{$M \\neq 0$}\n\\IF{$N$ is even}\n\\STATE $Y \\leftarrow X \\times X$\n\\STATE $M \\leftarrow N / 2$\n\\ELSE[$N$ is odd]\n\\STATE $x \\leftarrow Y \\times X$\n\\STATE $M \\leftarrow N - 1$\n\\ENDIF\n\\ENDWHILE\n\\ENSURE $y = x^n$\n\\STATE $y \\leftarrow 1$\n\\STATE $X \\leftarrow x$\n\\STATE $N \\leftarrow n$\n\\WHILE{$N \\neq 0$}\n\\IF{$N$ is even}\n\\STATE $X \\leftarrow X \\times X$\n\\STATE $N \\leftarrow N / 2$\n\\ELSE[$N$ is odd]\n\\STATE $y \\leftarrow y \\times X$\n\\STATE $N \\leftarrow N - 1$\n\\ENDIF\n\\STATE Compute the starting indexes $s_x$ and $s_y$ for the $j$-th image patch, i.e., $s_x = ceil(x_j/33)$ and $s_y = ceil(y_j/33)$;\\\\\n\\STATE $a \\leftarrow 1$\n\\STATE Compute the ending indexes $e_x$ and $e_y$ for the $j$-th image patch, i.e., $e_x = ceil((x_j+w_j)/33)$ and $e_y = ceil((y_j+h_j)/33)$;\\\\\n\\STATE $i \\leftarrow 10$\n\\RETURN $i$\n\\WHILE{$s&gt;=s_x$ and $s&lt;=e_x$}\n\\WHILE{$t&gt;=s_y$ and $t&lt;=e_y$}\n\\STATE $p_{st} = 1$;\n          \\STATE $t = t+1$;\n          \\ENDWHILE\n\\STATE $s = s+1$;\n          \\ENDWHILE\n\\STATE j=j+1;\n          \\ENDWHILE\n\\WHILE{There are channels to be sampled, i.e., $i&lt;=c$}\n% \\STATE $//$ Sample image patches in the $i$-th channel.\n\\WHILE {$L_{s}^{dn} \\leq \\alpha \\cdot L (t)$ and $i\\leq \\alpha \\cdot Num\\_u$ \\textbf{do}}\n\\WHILE{ $i=i+1\n    L_{s}^{dn} =L_{s}^{dn} +\\bf{P}_{\\bf{\\min}} ({\\rm {\\bf u\\_index}} (i))$}\n\\STATE $L_{s}^{up} =L_{s}^{up} +\\bf{P}_{\\bf{\\min}} ({\\rm {\\bf u\\_index}} (i))$\n\\IF{$p_{st} = 1$}\n\\STATE $\\bf{T}^{\\textbf{dn}} (l, t)=\\bf{T}^{\\textbf{dn}} (l, t)+\\bf{P}_{\\bf{\\min}} ({\\rm {\\bf u\\_index}} (i))\\cdot \\bf{G} (l, {\\rm {\\bf u\\_index}} (i))$\n\\ELSE\n\\STATE Sample the image patch $\\textbf{x}_{ist}$ with $\\boldsymbol{\\Phi}_l$, i.e., $\\textbf{y}_{ilst}= \\boldsymbol{\\Phi}_l \\textbf{x}_{ist}$;\n\n\\ENDIF\n\\STATE $\\bf{T}^{\\textbf{up}} (l, t)=\\bf{T}^{\\textbf{up}} (l, t)+\\bf{P}_{\\bf{\\min}} ({\\rm {\\bf u\\_index}} (i))\\cdot \\bf{G} (l, {\\rm {\\bf u\\_index}} (i))$\n\\ENDWHILE\n\\STATE $\\bf{P}^{\\textbf{dn}} ({\\rm {\\bf u\\_index}} (i), t)=\\bf{P}^{\\textbf{dn}} ({\\rm {\\bf u\\_index}} (i), t)+\\bf{P}_{\\bf{\\min}} ({\\rm {\\bf u\\_index}} (i))$ \n\\ENDWHILE\n\\STATE Concatenate all CS measurements sampled with $\\boldsymbol{\\Phi}_h$ and $\\boldsymbol{\\Phi}_l$ respectively, represent the values with 16-bit half-precision floats, and then obtain the half-precision CS measurement $\\textbf{y}_{i} = [\\textbf{y}_{ih}]_{\\textbf{FP16}} \\cup [\\textbf{y}_{il}]_{\\textbf{FP16}}$ for the $i$-th channel;\n\n\\STATE $i=i+1$;\n\n\\ENDWHILE\n\\STATE Combine $\\textbf{y}_{i}$ sampled with multiple MRs in each channel and then obtain the final half-precision CS measurement $\\textbf{y}$.\n\n% Combine $\\textbf{y}_{i}$ in each channel and get the sampled CS measurement $\\textbf{y}$ for the given image with the measurement matrices $\\boldsymbol{\\Phi}_h$ and $\\boldsymbol{\\Phi}_l$.\n\\end{algorithmic}\n%\\end{algorithm}\n\\end{breakablealgorithm}\n$\\textbf{u\\_index}$ is the unit index, which is ordered\naccording to the generation cost; $\\bf{P}_{\\bf{\\min}} $ and\n$\\bf{P}_{\\bf{\\max}} $ are the minimum and maximum generation\nlevels, respectively; $f (\\cdot) $ is the variable cost function; $Num\\_l$ is\nthe number of transmission lines; $\\bf{G}$ is the PTDF matrix; $l$ is\nthe transmission line index; $t$ is the period index; $\\bf{G}_{\n\\bf{l}}^{\\textbf{dn}} \\textbf{\\_order}$ and $\\bf{G}_{\n\\bf{l}}^{\\textbf{up}} \\textbf{\\_order}$ are the PTDF of lines $l$\nfrom low to high and from high to low, respectively; $\\bf{G}_{\n\\bf{l}}^{\\textbf{dn}} \\textbf{\\_index}$ is the unit index, which is\nordered according to the PTDF of line $l$ from low to high; $\\bf{G}_{\\bf{l}}^{\\textbf{up}}$\nAfter obtaining the results of half-precision CS measurement with Algorithm~\\ref{alg:csmr}, they are transmitted to high-performance servers for reconstructing CS images with the DNN-based CS method.\n\n\\end{document} \n</code></pre>","tags":["LaTeX"]},{"location":"blog/pre-commit/","title":"\u4f7f\u7528\u200b pre-commit \u200b\u4e3a\u200b Git \u200b\u4ed3\u5e93\u200b\u8bbe\u7f6e\u200b\u81ea\u52a8\u200b\u4efb\u52a1","text":"<p>pre-commit \u200b\u53ef\u4ee5\u200b\u5728\u200b\u63d0\u4ea4\u200b\u4ee3\u7801\u200b\u524d\u200b\u81ea\u52a8\u200b\u5b8c\u6210\u200b\u4ee3\u7801\u200b\u683c\u5f0f\u5316\u200b\u3001commit message \u200b\u683c\u5f0f\u200b\u6821\u9a8c\u200b\u7b49\u200b\u4efb\u52a1\u200b\u3002\u200b\u5728\u200b\u8054\u7f51\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u76f4\u63a5\u200b\u586b\u5199\u200b GitHub \u200b\u4e2d\u200b\u7684\u200b pre-commit hook \u200b\u914d\u7f6e\u200b\u5373\u53ef\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u672c\u6587\u200b\u8fd8\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u5728\u200b\u79bb\u7ebf\u200b\u73af\u5883\u200b\u4e0b\u200b\u914d\u7f6e\u200b pre-commit\u3002</p>","tags":["Computer Science"]},{"location":"blog/pre-commit/#\u8054\u7f51\u73af\u5883","title":"\u8054\u7f51\u200b\u73af\u5883","text":"<p>\u200b\u9996\u5148\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u200b <code>pip install pre-commit</code> \u200b\u5728\u200b\u9879\u76ee\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u7528\u4e8e\u200b pre-commit \u200b\u7684\u200b\u5305\u200b\u7ba1\u7406\u5668\u200b\u3002</p> <p>\u200b\u7136\u540e\u200b\u521b\u5efa\u200b <code>.pre-commit-config.yaml</code> \u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\uff1a</p> YAML<pre><code>repos:\n- repo: https://github.com/astral-sh/ruff-pre-commit\n# Ruff version.\nrev: v0.3.3\nhooks:\n# Run the linter.\n- id: ruff\ntypes_or: [ python, pyi, jupyter ]\nargs: [ --fix ]\n# Run the formatter.\n- id: ruff-format\ntypes_or: [ python, pyi, jupyter ]\n</code></pre> <p>\u200b\u6700\u540e\u200b\u5b89\u88c5\u200b\u8fd9\u4e9b\u200b hook\uff1a</p> Bash<pre><code>pre-commit install\n</code></pre> <p>\u200b\u5b83\u200b\u7684\u200b\u57fa\u672c\u200b\u4f5c\u7528\u200b\u662f\u200b\uff0c\u200b\u5728\u200b\u9879\u76ee\u200b\u7684\u200b <code>.git/hooks</code> \u200b\u5185\u200b\u521b\u5efa\u200b <code>pre-commit</code> \u200b\u6587\u4ef6\u200b\uff08\u200b\u5982\u679c\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\uff09\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6bcf\u5f53\u200b\u66f4\u6539\u200b\u4efb\u4f55\u200b\u914d\u7f6e\u200b\u65f6\u200b\u90fd\u200b\u9700\u8981\u200b\u8fd0\u884c\u200b <code>pre-commit install</code> \u3002</p>","tags":["Computer Science"]},{"location":"blog/pre-commit/#\u79bb\u7ebf\u73af\u5883","title":"\u79bb\u7ebf\u200b\u73af\u5883","text":"<p>\u200b\u4e0a\u8ff0\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u5305\u542b\u200b GitHub \u200b\u4ed3\u5e93\u200b\u94fe\u63a5\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4f1a\u200b\u8bbf\u95ee\u200b <code>.pre-commit-hooks.yaml</code>\u3002 </p> <p>\u200b\u5982\u679c\u200b\u73af\u5883\u200b\u65e0\u6cd5\u200b\u8054\u7f51\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8fd9\u6837\u200b\u914d\u7f6e\u200b\uff1a</p> YAML<pre><code>repos:\n- repo: local\nhooks:\n- id: ruff\nname: ruff\nentry: ruff check --force-exclude\nlanguage: system\ntypes: [python]\n- id: ruff-format\nname: ruff-format\nentry: ruff format --force-exclude\nlanguage: system\ntypes: [python]\n- id: docformatter\nname: docformatter\nentry: docformatter\nlanguage: python\nargs: [--in-place]\n- id: commitizen\nname: commitizen-check\nentry: cz check\nlanguage: python\nargs: [--allow-abort, --commit-msg-file]\nstages: [commit-msg]\n</code></pre> <p>\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b <code>commitizen</code> \u200b\u6bd4\u8f83\u200b\u7279\u522b\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u9488\u5bf9\u200b commit message \u200b\u672c\u8eab\u200b\u8fdb\u884c\u200b\u6821\u9a8c\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>pip install commitizen</code> \u200b\u5b89\u88c5\u200b\u5b83\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u786e\u4fdd\u200b commit message \u200b\u7b26\u5408\u200bAngularJS commit message format \u200b\u89c4\u8303\u200b\u3002</p> <p>\u200b\u540c\u65f6\u200b\u8fd8\u200b\u9700\u8981\u200b\u6267\u884c\u200b\uff1a</p> Bash<pre><code>pre-commit install --hook-type commit-msg\n</code></pre> <p>\u200b\u624d\u80fd\u200b\u5b9e\u73b0\u200b\u9488\u5bf9\u200b commit message \u200b\u672c\u8eab\u200b\u8fdb\u884c\u200b\u6821\u9a8c\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u5177\u4f53\u64cd\u4f5c\u200b\u8fc7\u7a0b\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\uff1aHow to setup git hooks(pre-commit, commit-msg) in my project?</p> <p>\u200b\u6392\u9664\u200b\u68c0\u67e5\u200b\u67d0\u4e9b\u200b\u6587\u4ef6\u200b</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u8981\u200b\u6392\u9664\u200b\u68c0\u67e5\u200b site \u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b pre-commit \u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u4f7f\u7528\u200b <code>exclude</code> \u200b\u9009\u9879\u200b\u6765\u200b\u6307\u5b9a\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u4ee5\u200b\u6392\u9664\u200b\u7279\u5b9a\u200b\u7684\u200b\u76ee\u5f55\u200b\u6216\u200b\u6587\u4ef6\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u914d\u7f6e\u200b\uff1a</p> YAML<pre><code>repos:\n- repo: local\nhooks:\n- id: docformatter\nname: docformatter\nentry: docformatter\nlanguage: python\nargs: [--in-place]\nexclude: ^site/\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u914d\u7f6e\u200b\u4f7f\u7528\u200b <code>exclude</code> \u200b\u9009\u9879\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b <code>^site/</code>\uff0c\u200b\u8fd9\u200b\u5c06\u200b\u6392\u9664\u200b\u6240\u6709\u200b\u4f4d\u4e8e\u200b site \u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002</p> <p>language \u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6ce8\u610f\u4e8b\u9879\u200b</p> <p>\u200b\u5982\u679c\u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\u662f\u200b\u4e00\u4e2a\u200b\u672c\u5730\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>autocorrect</code>\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u628a\u200b <code>language</code> \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b <code>system</code>\u3002\u200b\u8be6\u89c1\u200b https://github.com/huacnlee/autocorrect/issues/23 \u200b\u7684\u200b\u8ba8\u8bba\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/blacken-docs/","title":"\u4f7f\u7528\u200b <code>blacken-docs</code> \u200b\u5bf9\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u683c\u5f0f\u5316","text":"<p><code>ruff</code> \u200b\u7b49\u200b\u4ee3\u7801\u200b\u683c\u5f0f\u5316\u200b\u5de5\u5177\u200b\u53ef\u4ee5\u200b\u7f8e\u5316\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u200b\u65b9\u4fbf\u200b\u7f8e\u5316\u200b\u6587\u6863\u200b\u6587\u672c\u200b\u4e2d\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u683c\u5f0f\u5316\u200b markdown\u3001\u200b\u5b57\u7b26\u4e32\u200b\u6587\u6863\u200b\u7b49\u200b\u4e2d\u95f4\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u5730\u53bb\u200b\u7edf\u4e00\u200b\u683c\u5f0f\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b <code>blacken-docs</code> \u200b\u8fd9\u200b\u6b3e\u200b\u5de5\u5177\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u8f7b\u677e\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u683c\u5f0f\u5316\u200b\u3002</p>","tags":["Python"]},{"location":"blog/blacken-docs/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"Text Only<pre><code>python -m pip install blacken-docs\n</code></pre>","tags":["Python"]},{"location":"blog/blacken-docs/#\u683c\u5f0f\u5316\u67d0\u4e2a\u6587\u6863","title":"\u683c\u5f0f\u5316\u200b\u67d0\u4e2a\u200b\u6587\u6863","text":"<p>\u200b\u4ee5\u672c\u200b\u535a\u5ba2\u200b\u4e2d\u200b\u7684\u200b\u6587\u6863\u200b\u4e3a\u4f8b\u200b\uff1a</p> Text Only<pre><code>blacken-docs ./docs/code/pandas.md\n</code></pre> <p>\u200b\u5982\u679c\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u6709\u200b\u9519\u8bef\u200b\uff08\u200b\u800c\u200b\u4e0d\u4ec5\u4ec5\u200b\u662f\u200b\u683c\u5f0f\u200b\u7684\u200b\u95ee\u9898\u200b\uff09\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u4f1a\u200b\u63d0\u793a\u200b <code>code block parse error Cannot parse:</code>\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <p></p> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u4fee\u590d\u200b\u8fd9\u4e9b\u200b\u9519\u8bef\u200b\u3002\uff08\u200b\u611f\u8c22\u200b <code>blacken-docs</code>\uff0c\u200b\u4e0d\u7136\u200b\u6211\u200b\u81ea\u5df1\u200b\u4e5f\u200b\u4e0d\u200b\u77e5\u9053\u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b\u4ee3\u7801\u200b\u662f\u200b\u6709\u200b\u9519\u8bef\u200b\u7684\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u683c\u5f0f\u5316\u200b\u6587\u6863\u200b\u4e86\u200b\uff1a</p> <p></p> <p>\u200b\u6548\u679c\u200b\u8fd8\u662f\u200b\u5f88\u68d2\u200b\u7684\u200b\uff0c\u200b\u5e38\u89c1\u200b\u7684\u200b\u683c\u5f0f\u5316\u200b\u95ee\u9898\u200b\u90fd\u200b\u80fd\u200b\u81ea\u52a8\u200b\u4fee\u590d\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"blog/blacken-docs/#\u8bbe\u7f6e-pre-commit","title":"\u8bbe\u7f6e\u200b pre-commit","text":"<p><code>.pre-commit-config.yaml</code> \u200b\u4e3a\u200b\uff1a</p> YAML<pre><code>repos:\n- repo: local\nhooks:\n- id: blacken-docs\nname: blacken-docs\ndescription: Run `black` on python code blocks in documentation files\nentry: blacken-docs\nlanguage: python\nfiles: '\\.(rst|md|markdown|py|tex)$'\n</code></pre> <p>\u200b\u4e4b\u540e\u200b\u6bcf\u6b21\u200b\u63d0\u4ea4\u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c<code>blacken-docs</code> \u200b\u90fd\u200b\u4f1a\u200b\u5e2e\u200b\u6211\u4eec\u200b\u683c\u5f0f\u5316\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p>","tags":["Python"]},{"location":"blog/blacken-docs/#\u683c\u5f0f\u5316\u6240\u6709\u6587\u6863","title":"\u683c\u5f0f\u5316\u200b\u6240\u6709\u200b\u6587\u6863","text":"Bash<pre><code>pre-commit run blacken-docs --all-files\n</code></pre> <p>\u200b\u5982\u679c\u200b\u6587\u6863\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u51fa\u73b0\u200b\u89e3\u6790\u200b\u9519\u8bef\u200b\u95ee\u9898\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6240\u6709\u200b\u6587\u6863\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u81ea\u52a8\u200b\u683c\u5f0f\u5316\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/debug-multiple-n-jobs/","title":"\u591a\u7ebf\u7a0b\u200b\u4e0b\u200b\u8c03\u8bd5\u200b Python \u200b\u4ee3\u7801","text":"<p>\u200b\u5f53\u200b\u542f\u7528\u200b <code>n_jobs</code> \u200b\u8d85\u8fc7\u200b 1 \u200b\u65f6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8c03\u8bd5\u200b Python \u200b\u4ee3\u7801\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b <code>\"Couldn't find a debug adapter descriptor for debug type 'Python Kernel Debug Adapter' (extension might have failed to activate)\"</code>\u3002</p> <p></p> <p>\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b <code>n_jobs</code> \u200b\u8d85\u8fc7\u200b 1 \u200b\u7684\u200b\u591a\u7ebf\u7a0b\u200b\u73af\u5883\u200b\u4e0b\u200b\u8c03\u8bd5\u200b Python \u200b\u4ee3\u7801\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b https://github.com/microsoft/debugpy/issues/1168#issuecomment-1377998813 \u200b\u7684\u200b\u56de\u7b54\u200b\uff0c\u200b\u9996\u5148\u200b\u8fd0\u884c\u200b\uff1a</p> Python<pre><code>sys.modules[\"debugpy\"].__file__\n</code></pre> <p>\u200b\u627e\u5230\u200b <code>debugpy</code> \u200b\u7684\u200b\u8def\u5f84\u200b\u3002</p> <p>\u200b\u5728\u200b <code>debugpy/server/api.py</code> \u200b\u4e2d\u200b\uff0c\u200b\u5728\u200b\u4ee3\u7801\u200b\u7684\u200b\u5f00\u5934\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5c31\u200b\u6709\u200b\uff1a</p> Python<pre><code>_config = {\n\"qt\": \"none\",\n\"subProcess\": True,\n\"python\": sys.executable,\n}\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>_config = {\n\"qt\": \"none\",\n\"subProcess\": False,\n\"python\": sys.executable,\n}\n</code></pre> <p></p>","tags":["Python"]},{"location":"blog/beartype/","title":"Python \u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u5de5\u5177\u200b <code>beartype</code>","text":"<p>Python \u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\u5e76\u200b\u4e0d\u662f\u200b\u9700\u8981\u200b\u5f3a\u5236\u200b\u6ee1\u8db3\u200b\u7684\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u4ee3\u7801\u200b\u4f7f\u7528\u8005\u200b\u4e25\u683c\u200b\u9075\u5faa\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\uff0c\u200b\u5728\u200b\u7c7b\u578b\u200b\u4e0d\u7b26\u200b\u65f6\u200b\u629b\u51fa\u200b\u9519\u8bef\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>beartype</code> \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u3002</p> <p>\u200b\u9759\u6001\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b <code>pyright</code></p> <p><code>beartype</code> \u200b\u7684\u200b\u529f\u80fd\u200b\u662f\u200b\uff1a\u200b\u5f53\u200b\u4f60\u200b\u771f\u6b63\u200b\u8c03\u7528\u51fd\u6570\u200b\u65f6\u200b\uff0c\u200b\u624d\u200b\u8fdb\u884c\u200b\u53c2\u6570\u200b\u548c\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u3002\u200b\u82e5\u200b\u6211\u4eec\u200b\u4e0d\u60f3\u200b\u771f\u6b63\u200b\u8fd0\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u800c\u200b\u53ea\u200b\u5e0c\u671b\u200b\u8fdb\u884c\u200b\u9759\u6001\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>pyright</code>\u3002</p>","tags":["Python"]},{"location":"blog/beartype/#\u5b89\u88c5","title":"\u5b89\u88c5","text":"Bash<pre><code>pip install beartype\n</code></pre>","tags":["Python"]},{"location":"blog/beartype/#\u4f7f\u7528","title":"\u4f7f\u7528","text":"","tags":["Python"]},{"location":"blog/beartype/#\u4ec5\u9488\u5bf9\u81ea\u5df1\u7f16\u5199\u7684\u4ee3\u7801","title":"\u4ec5\u200b\u9488\u5bf9\u200b\u81ea\u5df1\u200b\u7f16\u5199\u200b\u7684\u200b\u4ee3\u7801","text":"<p>\u200b\u82e5\u200b\u6211\u4eec\u200b\u6b63\u5728\u200b\u5f00\u53d1\u200b\u4e00\u4e2a\u200b Python \u200b\u5305\u200b\uff0c\u200b\u5e76\u200b\u9700\u8981\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u5305\u5185\u200b\u7684\u200b\u6240\u6709\u200b\u4ee3\u7801\u200b\u6dfb\u52a0\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5305\u200b\u7684\u200b <code>__init__.py</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\uff1a</p> Python<pre><code>from beartype.claw import beartype_this_package\nbeartype_this_package()\n</code></pre>","tags":["Python"]},{"location":"blog/beartype/#\u9488\u5bf9\u4f9d\u8d56\u7684\u5916\u90e8\u4ee3\u7801","title":"\u9488\u5bf9\u200b\u4f9d\u8d56\u200b\u7684\u200b\u5916\u90e8\u200b\u4ee3\u7801","text":"<p>\u200b\u82e5\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5bf9\u200b\u4f9d\u8d56\u200b\u7684\u200b\u5916\u90e8\u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u9700\u8981\u200b\u629b\u51fa\u200b\u9519\u8bef\u200b\uff0c\u200b\u800c\u662f\u200b\u8b66\u544a\u200b\u7528\u6237\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\uff1a</p> Python<pre><code># ....................{ BIG BEAR                        }....................\n# Warn about type hint violations in *OTHER* packages outside your control;\n# only raise exceptions from violations in your package under your control.\n# Again, at the very top of your \"{your_package}.__init__\" submodule:\nfrom beartype import BeartypeConf  # &lt;-- this isn't your fault\nfrom beartype.claw import (\nbeartype_all,\nbeartype_this_package,\n)  # &lt;-- you didn't sign up for this\nbeartype_this_package()  # &lt;-- raise exceptions in your code\nbeartype_all(\nconf=BeartypeConf(violation_type=UserWarning)\n)  # &lt;-- emit warnings from other code\n</code></pre>","tags":["Python"]},{"location":"blog/beartype/#\u9488\u5bf9\u5355\u4e2a\u51fd\u6570","title":"\u9488\u5bf9\u200b\u5355\u4e2a\u200b\u51fd\u6570","text":"<p>\u200b\u82e5\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5bf9\u200b\u67d0\u4e2a\u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u88c5\u9970\u200b\u5668\u200b\uff1a</p> Python<pre><code>from beartype import beartype\n# Annotate @beartype-decorated classes and callables with type hints.\n@beartype  # &lt;-- you too will believe in magic\ndef quote_wiggum(lines: list[str]) -&gt; None:\nprint(\"\u201c{}\u201d\\n\\t\u2014 Police Chief Wiggum\".format(\"\\n \".join(lines)))\n</code></pre> <p>\u200b\u66f4\u200b\u591a\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p>","tags":["Python"]},{"location":"blog/beartype/#\u4e0d\u5bf9\u67d0\u4e9b\u5185\u5bb9\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5","title":"\u4e0d\u200b\u5bf9\u200b\u67d0\u4e9b\u200b\u5185\u5bb9\u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u68c0\u67e5","text":"<p>\u200b\u53c2\u8003\u200b\uff1aHow do I NOT type-check something?</p> <p>\u200b\u65b9\u6cd5\u200b 1\uff1a</p> Python<pre><code># Import the requisite machinery.\nfrom beartype import beartype, BeartypeConf, BeartypeStrategy\n# Dynamically create a new @nobeartype decorator disabling type-checking.\nnobeartype = beartype(conf=BeartypeConf(strategy=BeartypeStrategy.O0))\n# Avoid type-checking *ANY* methods or attributes of this class.\n@nobeartype\nclass UncheckedDangerClassIsDangerous(object):\n# This method raises *NO* type-checking violation despite returning a\n# non-\"None\" value.\ndef unchecked_danger_method_is_dangerous(self) -&gt; None:\nreturn 'This string is not \"None\". Sadly, nobody cares anymore.'\n</code></pre> <p>\u200b\u65b9\u6cd5\u200b 2\uff1a</p> Python<pre><code># Import more requisite machinery. It is requisite.\nfrom beartype import beartype\nfrom typing import no_type_check\n# Avoid type-checking *ANY* methods or attributes of this class.\n@no_type_check\nclass UncheckedRiskyClassRisksOurEntireHistoricalTimeline(object):\n# This method raises *NO* type-checking violation despite returning a\n# non-\"None\" value.\ndef unchecked_risky_method_which_i_am_squinting_at(self) -&gt; None:\nreturn 'This string is not \"None\". Why does nobody care? Why?'\n</code></pre>","tags":["Python"]},{"location":"blog/makefile/","title":"\u4f7f\u7528\u200b Makefile \u200b\u7b80\u5316\u200b\u5de5\u4f5c\u200b\u6d41","text":"<p>\u200b\u672c\u6587\u200b\u8f6c\u8f7d\u200b\u4e86\u200b\u962e\u200b\u4e00\u5cf0\u200b\u7684\u200b Make \u200b\u547d\u4ee4\u200b\u6559\u7a0b\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b Makefile\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u590d\u6742\u200b\u7684\u200b\u547d\u4ee4\u200b\u3001\u200b\u811a\u672c\u200b\u6253\u5305\u200b\u6210\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4ece\u800c\u200b\u7b80\u5316\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\u3002</p> <p>\u200b\u4ee3\u7801\u200b\u53d8\u6210\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\uff0c\u200b\u53eb\u505a\u200b\u7f16\u8bd1\u200b\uff08compile\uff09\uff1b\u200b\u5148\u200b\u7f16\u8bd1\u200b\u8fd9\u4e2a\u200b\uff0c\u200b\u8fd8\u662f\u200b\u5148\u200b\u7f16\u8bd1\u200b\u90a3\u4e2a\u200b\uff08\u200b\u5373\u200b\u7f16\u8bd1\u200b\u7684\u200b\u5b89\u6392\u200b\uff09\uff0c\u200b\u53eb\u505a\u200b\u6784\u5efa\u200b\uff08build\uff09\u3002</p> <p>Make\u200b\u662f\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u6784\u5efa\u200b\u5de5\u5177\u200b\uff0c\u200b\u8bde\u751f\u200b\u4e8e\u200b 1977 \u200b\u5e74\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b C \u200b\u8bed\u8a00\u200b\u7684\u200b\u9879\u76ee\u200b\u3002\u200b\u4f46\u662f\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u4efb\u4f55\u200b\u53ea\u8981\u200b\u67d0\u4e2a\u200b\u6587\u4ef6\u200b\u6709\u200b\u53d8\u5316\u200b\uff0c\u200b\u5c31\u8981\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u7684\u200b\u9879\u76ee\u200b\uff0c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u7528\u200b Make \u200b\u6784\u5efa\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b Make \u200b\u547d\u4ee4\u200b\u7684\u200b\u7528\u6cd5\u200b\uff0c\u200b\u4ece\u200b\u7b80\u5355\u200b\u7684\u200b\u8bb2\u200b\u8d77\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4efb\u4f55\u200b\u57fa\u7840\u200b\uff0c\u200b\u53ea\u8981\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u884c\u200b\uff0c\u200b\u5c31\u200b\u80fd\u770b\u61c2\u200b\u3002\u200b\u6211\u200b\u7684\u200b\u53c2\u8003\u8d44\u6599\u200b\u4e3b\u8981\u200b\u662f\u200b Isaac Schlueter \u200b\u7684\u200b\u300aMakefile \u200b\u6587\u4ef6\u200b\u6559\u7a0b\u200b\u300b\u200b\u548c\u200b\u300aGNU Make \u200b\u624b\u518c\u200b\u300b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#make-\u7684\u6982\u5ff5","title":"Make \u200b\u7684\u200b\u6982\u5ff5","text":"<p>Make \u200b\u8fd9\u4e2a\u200b\u8bcd\u200b\uff0c\u200b\u82f1\u8bed\u200b\u7684\u200b\u610f\u601d\u200b\u662f\u200b\"\u200b\u5236\u4f5c\u200b\"\u3002Make \u200b\u547d\u4ee4\u200b\u76f4\u63a5\u200b\u7528\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u610f\u601d\u200b\uff0c\u200b\u5c31\u662f\u200b\u8981\u200b\u505a\u51fa\u200b\u67d0\u4e2a\u200b\u6587\u4ef6\u200b\u3002\u200b\u6bd4\u5982\u200b\uff0c\u200b\u8981\u200b\u505a\u51fa\u200b\u6587\u4ef6\u200b a.txt\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\u4e0b\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002</p> Bash<pre><code>$ make a.txt\n</code></pre> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u771f\u7684\u200b\u8f93\u5165\u200b\u8fd9\u200b\u6761\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5b83\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u8d77\u200b\u4f5c\u7528\u200b\u3002\u200b\u56e0\u4e3a\u200b Make \u200b\u547d\u4ee4\u200b\u672c\u8eab\u200b\u5e76\u4e0d\u77e5\u9053\u200b\uff0c\u200b\u5982\u4f55\u200b\u505a\u51fa\u200b a.txt\uff0c\u200b\u9700\u8981\u200b\u6709\u4eba\u200b\u544a\u8bc9\u200b\u5b83\u200b\uff0c\u200b\u5982\u4f55\u200b\u8c03\u7528\u200b\u5176\u4ed6\u200b\u547d\u4ee4\u200b\u5b8c\u6210\u200b\u8fd9\u4e2a\u200b\u76ee\u6807\u200b\u3002</p> <p>\u200b\u6bd4\u5982\u200b\uff0c\u200b\u5047\u8bbe\u200b\u6587\u4ef6\u200b a.txt \u200b\u4f9d\u8d56\u4e8e\u200b b.txt \u200b\u548c\u200b c.txt\uff0c\u200b\u662f\u200b\u540e\u9762\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\u8fde\u63a5\u200b\uff08cat \u200b\u547d\u4ee4\u200b\uff09\u200b\u7684\u200b\u4ea7\u7269\u200b\u3002\u200b\u90a3\u4e48\u200b\uff0cmake \u200b\u9700\u8981\u200b\u77e5\u9053\u200b\u4e0b\u9762\u200b\u7684\u200b\u89c4\u5219\u200b\u3002</p> Bash<pre><code>a.txt: b.txt c.txt\n    cat b.txt c.txt &gt; a.txt\n</code></pre> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0cmake a.txt \u200b\u8fd9\u200b\u6761\u200b\u547d\u4ee4\u200b\u7684\u200b\u80cc\u540e\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u5206\u6210\u200b\u4e24\u6b65\u200b\uff1a\u200b\u7b2c\u4e00\u6b65\u200b\uff0c\u200b\u786e\u8ba4\u200b b.txt \u200b\u548c\u200b c.txt \u200b\u5fc5\u987b\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u7b2c\u4e8c\u6b65\u200b\u4f7f\u7528\u200b cat \u200b\u547d\u4ee4\u200b \u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\u5408\u5e76\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e3a\u200b\u65b0\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u50cf\u200b\u8fd9\u6837\u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u90fd\u200b\u5199\u200b\u5728\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b Makefile \u200b\u7684\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0cMake \u200b\u547d\u4ee4\u200b\u4f9d\u8d56\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u6784\u5efa\u200b\u3002Makefile \u200b\u6587\u4ef6\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5199\u4e3a\u200b makefile\uff0c\u200b\u6216\u8005\u200b\u7528\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u4e3a\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u540d\u200b\u3002</p> Bash<pre><code>$ make -f rules.txt\n# \u200b\u6216\u8005\u200b\n$ make --file=rules.txt\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u6307\u5b9a\u200b make \u200b\u547d\u4ee4\u200b\u4f9d\u636e\u200b rules.txt \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u8fdb\u884c\u200b\u6784\u5efa\u200b\u3002</p> <p>\u200b\u603b\u4e4b\u200b\uff0cmake \u200b\u53ea\u662f\u200b\u4e00\u4e2a\u200b\u6839\u636e\u200b\u6307\u5b9a\u200b\u7684\u200b Shell \u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u6784\u5efa\u200b\u7684\u200b\u5de5\u5177\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u89c4\u5219\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u4f60\u200b\u89c4\u5b9a\u200b\u8981\u200b\u6784\u5efa\u200b\u54ea\u4e2a\u200b\u6587\u4ef6\u200b\u3001\u200b\u5b83\u200b\u4f9d\u8d56\u200b\u54ea\u4e9b\u200b\u6e90\u6587\u4ef6\u200b\uff0c\u200b\u5f53\u200b\u90a3\u4e9b\u200b\u6587\u4ef6\u200b\u6709\u200b\u53d8\u52a8\u200b\u65f6\u200b\uff0c\u200b\u5982\u4f55\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u5b83\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#makefile-\u6587\u4ef6\u7684\u683c\u5f0f","title":"Makefile \u200b\u6587\u4ef6\u200b\u7684\u200b\u683c\u5f0f","text":"<p>\u200b\u6784\u5efa\u200b\u89c4\u5219\u200b\u90fd\u200b\u5199\u200b\u5728\u200b Makefile \u200b\u6587\u4ef6\u200b\u91cc\u9762\u200b\uff0c\u200b\u8981\u200b\u5b66\u4f1a\u200b\u5982\u4f55\u200b Make \u200b\u547d\u4ee4\u200b\uff0c\u200b\u5c31\u200b\u5fc5\u987b\u200b\u5b66\u4f1a\u200b\u5982\u4f55\u200b\u7f16\u5199\u200b Makefile \u200b\u6587\u4ef6\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#\u6982\u8ff0","title":"\u6982\u8ff0","text":"<p>Makefile \u200b\u6587\u4ef6\u200b\u7531\u200b\u4e00\u7cfb\u5217\u200b\u89c4\u5219\u200b\uff08rules\uff09\u200b\u6784\u6210\u200b\u3002\u200b\u6bcf\u6761\u200b\u89c4\u5219\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5982\u4e0b\u200b\u3002</p> Bash<pre><code>&lt;target&gt; : &lt;prerequisites&gt; [tab]  &lt;commands&gt;\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7b2c\u4e00\u884c\u200b\u5192\u53f7\u200b\u524d\u9762\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u53eb\u505a\u200b\"\u200b\u76ee\u6807\u200b\"\uff08target\uff09\uff0c\u200b\u5192\u53f7\u200b\u540e\u9762\u200b\u7684\u200b\u90e8\u5206\u200b\u53eb\u505a\u200b\"\u200b\u524d\u7f6e\u6761\u4ef6\u200b\"\uff08prerequisites\uff09\uff1b\u200b\u7b2c\u4e8c\u884c\u200b\u5fc5\u987b\u200b\u7531\u200b\u4e00\u4e2a\u200b tab \u200b\u952e\u200b\u8d77\u9996\u200b\uff0c\u200b\u540e\u9762\u200b\u8ddf\u7740\u200b\"\u200b\u547d\u4ee4\u200b\"\uff08commands\uff09\u3002</p> <p>\"\u200b\u76ee\u6807\u200b\"\u200b\u662f\u200b\u5fc5\u9700\u200b\u7684\u200b\uff0c\u200b\u4e0d\u53ef\u200b\u7701\u7565\u200b\uff1b\"\u200b\u524d\u7f6e\u6761\u4ef6\u200b\"\u200b\u548c\u200b\"\u200b\u547d\u4ee4\u200b\"\u200b\u90fd\u200b\u662f\u200b\u53ef\u9009\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e24\u8005\u200b\u4e4b\u4e2d\u200b\u5fc5\u987b\u200b\u81f3\u5c11\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u3002</p> <p>\u200b\u6bcf\u6761\u200b\u89c4\u5219\u200b\u5c31\u200b\u660e\u786e\u200b\u4e24\u4ef6\u4e8b\u200b\uff1a\u200b\u6784\u5efa\u200b\u76ee\u6807\u200b\u7684\u200b\u524d\u7f6e\u6761\u4ef6\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5982\u4f55\u200b\u6784\u5efa\u200b\u3002\u200b\u4e0b\u9762\u200b\u5c31\u200b\u8be6\u7ec6\u200b\u8bb2\u89e3\u200b\uff0c\u200b\u6bcf\u6761\u200b\u89c4\u5219\u200b\u7684\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u7ec4\u6210\u90e8\u5206\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#\u76ee\u6807target","title":"\u76ee\u6807\u200b\uff08target\uff09","text":"<p>\u200b\u4e00\u4e2a\u200b\u76ee\u6807\u200b\uff08target\uff09\u200b\u5c31\u200b\u6784\u6210\u200b\u4e00\u6761\u200b\u89c4\u5219\u200b\u3002\u200b\u76ee\u6807\u200b\u901a\u5e38\u200b\u662f\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u6307\u660e\u200b Make \u200b\u547d\u4ee4\u200b\u6240\u200b\u8981\u200b\u6784\u5efa\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6bd4\u5982\u200b\u4e0a\u6587\u200b\u7684\u200b a.txt\u3002\u200b\u76ee\u6807\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u4e4b\u95f4\u200b\u7528\u200b\u7a7a\u683c\u200b\u5206\u9694\u200b\u3002</p> <p>\u200b\u9664\u4e86\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u76ee\u6807\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u662f\u200b\u67d0\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u8fd9\u200b\u79f0\u4e3a\u200b\"\u200b\u4f2a\u200b\u76ee\u6807\u200b\"\uff08phony target\uff09\u3002</p> Bash<pre><code>clean:\n      rm *.o\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u7684\u200b\u76ee\u6807\u200b\u662f\u200b clean\uff0c\u200b\u5b83\u200b\u4e0d\u662f\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u800c\u662f\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u5c5e\u4e8e\u200b\"\u200b\u4f2a\u200b\u76ee\u6807\u200b \"\uff0c\u200b\u4f5c\u7528\u200b\u662f\u200b\u5220\u9664\u200b\u5bf9\u8c61\u200b\u6587\u4ef6\u200b\u3002</p> Bash<pre><code>$ make clean\n</code></pre> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e2d\u200b\uff0c\u200b\u6b63\u597d\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u53eb\u505a\u200b clean\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\u3002\u200b\u56e0\u4e3a\u200b Make \u200b\u53d1\u73b0\u200b clean \u200b\u6587\u4ef6\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5c31\u200b\u8ba4\u4e3a\u200b\u6ca1\u6709\u200b\u5fc5\u8981\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u4e86\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\u6307\u5b9a\u200b\u7684\u200b rm \u200b\u547d\u4ee4\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u660e\u786e\u200b\u58f0\u660e\u200b clean \u200b\u662f\u200b\"\u200b\u4f2a\u200b\u76ee\u6807\u200b\"\uff0c\u200b\u5199\u6cd5\u200b\u5982\u4e0b\u200b\u3002</p> Bash<pre><code>.PHONY: clean\nclean:\n        rm *.o temp\n</code></pre> <p>\u200b\u58f0\u660e\u200b clean \u200b\u662f\u200b\"\u200b\u4f2a\u200b\u76ee\u6807\u200b\"\u200b\u4e4b\u540e\u200b\uff0cmake \u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u53bb\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b clean \u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u800c\u662f\u200b\u6bcf\u6b21\u200b\u8fd0\u884c\u200b\u90fd\u200b\u6267\u884c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002\u200b\u50cf\u200b.PHONY \u200b\u8fd9\u6837\u200b\u7684\u200b\u5185\u7f6e\u200b\u76ee\u6807\u200b\u540d\u200b\u8fd8\u6709\u200b\u4e0d\u5c11\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u624b\u518c\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b Make \u200b\u547d\u4ee4\u200b\u8fd0\u884c\u200b\u65f6\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u76ee\u6807\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u6267\u884c\u200b Makefile \u200b\u6587\u4ef6\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u76ee\u6807\u200b\u3002</p> Bash<pre><code>$ make\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u6267\u884c\u200b Makefile \u200b\u6587\u4ef6\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u76ee\u6807\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#\u524d\u7f6e\u6761\u4ef6prerequisites","title":"\u524d\u7f6e\u6761\u4ef6\u200b\uff08prerequisites\uff09","text":"<p>\u200b\u524d\u7f6e\u6761\u4ef6\u200b\u901a\u5e38\u200b\u662f\u200b\u4e00\u7ec4\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u4e4b\u95f4\u200b\u7528\u200b\u7a7a\u683c\u200b\u5206\u9694\u200b\u3002\u200b\u5b83\u200b\u6307\u5b9a\u200b\u4e86\u200b\"\u200b\u76ee\u6807\u200b\"\u200b\u662f\u5426\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u7684\u200b\u5224\u65ad\u200b\u6807\u51c6\u200b\uff1a\u200b\u53ea\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u524d\u7f6e\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u6216\u8005\u200b\u6709\u8fc7\u200b\u66f4\u65b0\u200b\uff08\u200b\u524d\u7f6e\u200b\u6587\u4ef6\u200b\u7684\u200b last-modification \u200b\u65f6\u95f4\u200b\u6233\u200b\u6bd4\u200b\u76ee\u6807\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\u65b0\u200b\uff09\uff0c\"\u200b\u76ee\u6807\u200b\"\u200b\u5c31\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u3002</p> Bash<pre><code>result.txt: source.txt\n    cp source.txt result.txt\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6784\u5efa\u200b result.txt \u200b\u7684\u200b\u524d\u7f6e\u6761\u4ef6\u200b\u662f\u200b source.txt\u3002\u200b\u5982\u679c\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e2d\u200b\uff0csource.txt \u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u90a3\u4e48\u200b<code>make result.txt</code>\u200b\u53ef\u4ee5\u200b\u6b63\u5e38\u200b\u8fd0\u884c\u200b\uff0c\u200b\u5426\u5219\u200b\u5fc5\u987b\u200b\u518d\u200b\u5199\u200b\u4e00\u6761\u200b\u89c4\u5219\u200b\uff0c\u200b\u6765\u200b\u751f\u6210\u200b source.txt\u3002</p> Bash<pre><code>source.txt:\n    echo \"this is the source\" &gt; source.txt\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0csource.txt \u200b\u540e\u9762\u200b\u6ca1\u6709\u200b\u524d\u7f6e\u6761\u4ef6\u200b\uff0c\u200b\u5c31\u200b\u610f\u5473\u7740\u200b\u5b83\u200b\u8ddf\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u90fd\u200b\u65e0\u5173\u200b\uff0c\u200b\u53ea\u8981\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u8fd8\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b<code>make source.txt</code>\uff0c\u200b\u5b83\u200b\u90fd\u200b\u4f1a\u200b\u751f\u6210\u200b\u3002</p> Bash<pre><code>$ make result.txt\n$ make result.txt\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u547d\u4ee4\u200b\u8fde\u7eed\u200b\u6267\u884c\u200b\u4e24\u6b21\u200b<code>make result.txt</code>\u3002\u200b\u7b2c\u4e00\u6b21\u200b\u6267\u884c\u200b\u4f1a\u5148\u200b\u65b0\u5efa\u200b source.txt\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u65b0\u5efa\u200b result.txt\u3002\u200b\u7b2c\u4e8c\u6b21\u200b\u6267\u884c\u200b\uff0cMake \u200b\u53d1\u73b0\u200b source.txt \u200b\u6ca1\u6709\u200b\u53d8\u52a8\u200b\uff08\u200b\u65f6\u95f4\u200b\u6233\u200b\u665a\u4e8e\u200b result.txt\uff09\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\u4efb\u4f55\u200b\u64cd\u4f5c\u200b\uff0cresult.txt \u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u91cd\u65b0\u200b\u751f\u6210\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u751f\u6210\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5f80\u5f80\u200b\u91c7\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u5199\u6cd5\u200b\u3002</p> Bash<pre><code>source: file1 file2 file3\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0csource \u200b\u662f\u200b\u4e00\u4e2a\u200b\u4f2a\u200b\u76ee\u6807\u200b\uff0c\u200b\u53ea\u6709\u200b\u4e09\u4e2a\u200b\u524d\u7f6e\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u5bf9\u5e94\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002</p> Bash<pre><code>$ make source\n</code></pre> <p>\u200b\u6267\u884c\u200b<code>make source</code>\u200b\u547d\u4ee4\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4e00\u6b21\u6027\u200b\u751f\u6210\u200b file1\uff0cfile2\uff0cfile3 \u200b\u4e09\u4e2a\u200b\u6587\u4ef6\u200b\u3002\u200b\u8fd9\u6bd4\u200b\u4e0b\u9762\u200b\u7684\u200b\u5199\u6cd5\u200b\u8981\u200b\u65b9\u4fbf\u200b\u5f88\u591a\u200b\u3002</p> Bash<pre><code>$ make file1 $ make file2 $ make file3\n</code></pre>","tags":["Computer Science"]},{"location":"blog/makefile/#\u547d\u4ee4commands","title":"\u547d\u4ee4\u200b\uff08commands\uff09","text":"<p>\u200b\u547d\u4ee4\u200b\uff08commands\uff09\u200b\u8868\u793a\u200b\u5982\u4f55\u200b\u66f4\u65b0\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7531\u200b\u4e00\u884c\u200b\u6216\u200b\u591a\u884c\u200b\u7684\u200b Shell \u200b\u547d\u4ee4\u200b\u7ec4\u6210\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u6784\u5efa\u200b\"\u200b\u76ee\u6807\u200b\"\u200b\u7684\u200b\u5177\u4f53\u200b\u6307\u4ee4\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\u901a\u5e38\u200b\u5c31\u662f\u200b\u751f\u6210\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u6bcf\u884c\u200b\u547d\u4ee4\u200b\u4e4b\u524d\u200b\u5fc5\u987b\u200b\u6709\u200b\u4e00\u4e2a\u200b tab \u200b\u952e\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u200b\u7528\u200b\u5176\u4ed6\u200b\u952e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5185\u7f6e\u200b\u53d8\u91cf\u200b.RECIPEPREFIX \u200b\u58f0\u660e\u200b\u3002</p> Bash<pre><code>.RECIPEPREFIX = &gt;\nall:\n&gt; echo Hello, world\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u7528\u200b.RECIPEPREFIX \u200b\u6307\u5b9a\u200b\uff0c\u200b\u5927\u4e8e\u53f7\u200b\uff08&gt;\uff09\u200b\u66ff\u4ee3\u200b tab \u200b\u952e\u200b\u3002\u200b\u6240\u4ee5\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u884c\u200b\u547d\u4ee4\u200b\u7684\u200b\u8d77\u9996\u200b\u53d8\u6210\u200b\u4e86\u200b\u5927\u4e8e\u53f7\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b tab \u200b\u952e\u200b\u3002</p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6bcf\u884c\u200b\u547d\u4ee4\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b shell \u200b\u4e2d\u200b\u6267\u884c\u200b\u3002\u200b\u8fd9\u4e9b\u200b Shell \u200b\u4e4b\u95f4\u200b\u6ca1\u6709\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b\u3002</p> Bash<pre><code>var-lost:\n    export foo=bar\n    echo \"foo=[$$foo]\"\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u6267\u884c\u200b\u540e\u200b\uff08<code>make var-lost</code>\uff09\uff0c\u200b\u53d6\u200b\u4e0d\u5230\u200b foo \u200b\u7684\u200b\u503c\u200b\u3002\u200b\u56e0\u4e3a\u200b\u4e24\u884c\u200b\u547d\u4ee4\u200b\u5728\u200b\u4e24\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u3002\u200b\u4e00\u4e2a\u200b\u89e3\u51b3\u529e\u6cd5\u200b\u662f\u200b\u5c06\u200b\u4e24\u884c\u200b\u547d\u4ee4\u200b\u5199\u200b\u5728\u200b\u4e00\u884c\u200b\uff0c\u200b\u4e2d\u95f4\u200b\u7528\u5206\u200b\u53f7\u200b\u5206\u9694\u200b\u3002</p> Bash<pre><code>var-kept:\n    export foo=bar; echo \"foo=[$$foo]\"\n</code></pre> <p>\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u89e3\u51b3\u529e\u6cd5\u200b\u662f\u200b\u5728\u200b\u6362\u884c\u7b26\u200b\u524d\u52a0\u200b\u53cd\u200b\u659c\u6760\u200b\u8f6c\u4e49\u200b\u3002</p> Bash<pre><code>var-kept:\n    export foo=bar; \\\necho \"foo=[$$foo]\"\n</code></pre> <p>\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\u662f\u200b\u52a0\u4e0a\u200b<code>.ONESHELL:</code>\u200b\u547d\u4ee4\u200b\u3002</p> Bash<pre><code>.ONESHELL:\nvar-kept:\n    export foo=bar; echo \"foo=[$$foo]\"\n</code></pre>","tags":["Computer Science"]},{"location":"blog/makefile/#makefile-\u6587\u4ef6\u7684\u8bed\u6cd5","title":"Makefile \u200b\u6587\u4ef6\u200b\u7684\u200b\u8bed\u6cd5","text":"","tags":["Computer Science"]},{"location":"blog/makefile/#\u6ce8\u91ca","title":"\u6ce8\u91ca","text":"<p>\u200b\u4e95\u53f7\u200b\uff08#\uff09\u200b\u5728\u200b Makefile \u200b\u4e2d\u200b\u8868\u793a\u200b\u6ce8\u91ca\u200b\u3002</p> Bash<pre><code># \u200b\u8fd9\u662f\u200b\u6ce8\u91ca\u200b\nresult.txt: source.txt\n    # \u200b\u8fd9\u662f\u200b\u6ce8\u91ca\u200b\ncp source.txt result.txt # \u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u6ce8\u91ca\u200b\n</code></pre>","tags":["Computer Science"]},{"location":"blog/makefile/#\u56de\u58f0echoing","title":"\u56de\u58f0\u200b\uff08echoing\uff09","text":"<p>\u200b\u6b63\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cmake \u200b\u4f1a\u200b\u6253\u5370\u200b\u6bcf\u6761\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u6267\u884c\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u53eb\u505a\u200b\u56de\u58f0\u200b\uff08echoing\uff09\u3002</p> Bash<pre><code>test:\n    # \u200b\u8fd9\u662f\u200b\u6d4b\u8bd5\u200b\n</code></pre> <p>\u200b\u6267\u884c\u200b\u4e0a\u9762\u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u4f1a\u200b\u5f97\u5230\u200b\u4e0b\u9762\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p> Bash<pre><code>$ make test\n# \u200b\u8fd9\u662f\u200b\u6d4b\u8bd5\u200b\n</code></pre> <p>\u200b\u5728\u200b\u547d\u4ee4\u200b\u7684\u200b\u524d\u9762\u200b\u52a0\u4e0a\u200b@\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5173\u95ed\u200b\u56de\u58f0\u200b\u3002</p> Bash<pre><code>test:\n    @# \u200b\u8fd9\u662f\u200b\u6d4b\u8bd5\u200b\n</code></pre> <p>\u200b\u73b0\u5728\u200b\u518d\u200b\u6267\u884c\u200b<code>make test</code>\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u6709\u200b\u4efb\u4f55\u200b\u8f93\u51fa\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u5728\u200b\u6784\u5efa\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u4e86\u89e3\u200b\u5f53\u524d\u200b\u5728\u200b\u6267\u884c\u200b\u54ea\u6761\u200b\u547d\u4ee4\u200b\uff0c\u200b\u6240\u4ee5\u200b\u901a\u5e38\u200b\u53ea\u200b\u5728\u200b\u6ce8\u91ca\u200b\u548c\u200b\u7eaf\u200b\u663e\u793a\u200b\u7684\u200b echo \u200b\u547d\u4ee4\u200b\u524d\u9762\u200b\u52a0\u4e0a\u200b@\u3002</p> Bash<pre><code>test:\n    @# \u200b\u8fd9\u662f\u200b\u6d4b\u8bd5\u200b\n    @echo TODO\n</code></pre>","tags":["Computer Science"]},{"location":"blog/makefile/#\u901a\u914d\u7b26","title":"\u901a\u914d\u7b26","text":"<p>\u200b\u901a\u914d\u7b26\u200b\uff08wildcard\uff09\u200b\u7528\u6765\u200b\u6307\u5b9a\u200b\u4e00\u7ec4\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u3002Makefile \u200b\u7684\u200b\u901a\u914d\u7b26\u200b\u4e0e\u200b Bash \u200b\u4e00\u81f4\u200b\uff0c\u200b\u4e3b\u8981\u200b\u6709\u200b\u661f\u53f7\u200b\uff08*\uff09\u3001\u200b\u95ee\u53f7\u200b\uff08\uff1f\uff09\u200b\u548c\u200b [...] \u3002\u200b\u6bd4\u5982\u200b\uff0c *.o \u200b\u8868\u793a\u200b\u6240\u6709\u200b\u540e\u7f00\u540d\u200b\u4e3a\u200b o \u200b\u7684\u200b\u6587\u4ef6\u200b\u3002</p> Bash<pre><code>clean:\n        rm -f *.o\n</code></pre>","tags":["Computer Science"]},{"location":"blog/makefile/#\u6a21\u5f0f\u5339\u914d","title":"\u6a21\u5f0f\u5339\u914d","text":"<p>Make \u200b\u547d\u4ee4\u200b\u5141\u8bb8\u200b\u5bf9\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u8fdb\u884c\u200b\u7c7b\u4f3c\u200b\u6b63\u5219\u200b\u8fd0\u7b97\u200b\u7684\u200b\u5339\u914d\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u5230\u200b\u7684\u200b\u5339\u914d\u200b\u7b26\u662f\u200b%\u3002\u200b\u6bd4\u5982\u200b\uff0c\u200b\u5047\u5b9a\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u6709\u200b f1.c \u200b\u548c\u200b f2.c \u200b\u4e24\u4e2a\u200b\u6e90\u7801\u200b\u6587\u4ef6\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u5b83\u4eec\u200b\u7f16\u8bd1\u200b\u4e3a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5bf9\u8c61\u200b\u6587\u4ef6\u200b\u3002</p> Bash<pre><code>%.o: %.c\n</code></pre> <p>\u200b\u7b49\u540c\u4e8e\u200b\u4e0b\u9762\u200b\u7684\u200b\u5199\u6cd5\u200b\u3002</p> Bash<pre><code>f1.o: f1.c\nf2.o: f2.c\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u5339\u914d\u200b\u7b26\u200b%\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5927\u91cf\u200b\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ea\u7528\u200b\u4e00\u6761\u200b\u89c4\u5219\u200b\u5c31\u200b\u5b8c\u6210\u200b\u6784\u5efa\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#\u53d8\u91cf\u548c\u8d4b\u503c\u7b26","title":"\u53d8\u91cf\u200b\u548c\u200b\u8d4b\u503c\u200b\u7b26","text":"<p>Makefile \u200b\u5141\u8bb8\u200b\u4f7f\u7528\u200b\u7b49\u200b\u53f7\u200b\u81ea\u5b9a\u4e49\u200b\u53d8\u91cf\u200b\u3002</p> Bash<pre><code>txt = Hello World\ntest:\n    @echo $(txt)\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u53d8\u91cf\u200b txt \u200b\u7b49\u4e8e\u200b Hello World\u3002\u200b\u8c03\u7528\u200b\u65f6\u200b\uff0c\u200b\u53d8\u91cf\u200b\u9700\u8981\u200b\u653e\u5728\u200b $( ) \u200b\u4e4b\u4e2d\u200b\u3002</p> <p>\u200b\u8c03\u7528\u200b Shell \u200b\u53d8\u91cf\u200b\uff0c\u200b\u9700\u8981\u200b\u5728\u200b\u7f8e\u5143\u200b\u7b26\u53f7\u200b\u524d\u200b\uff0c\u200b\u518d\u200b\u52a0\u200b\u4e00\u4e2a\u200b\u7f8e\u5143\u200b\u7b26\u53f7\u200b\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b Make \u200b\u547d\u4ee4\u200b\u4f1a\u200b\u5bf9\u200b\u7f8e\u5143\u200b\u7b26\u53f7\u200b\u8f6c\u4e49\u200b\u3002</p> Bash<pre><code>test:\n    @echo $$HOME\n</code></pre> <p>\u200b\u6709\u65f6\u200b\uff0c\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u53ef\u80fd\u200b\u6307\u5411\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\u3002</p> Bash<pre><code>v1 = $(v2)\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u53d8\u91cf\u200b v1 \u200b\u7684\u200b\u503c\u200b\u662f\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b v2\u3002\u200b\u8fd9\u65f6\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\uff0cv1 \u200b\u7684\u200b\u503c\u200b\u5230\u5e95\u200b\u5728\u200b\u5b9a\u4e49\u200b\u65f6\u200b\u6269\u5c55\u200b\uff08\u200b\u9759\u6001\u200b\u6269\u5c55\u200b\uff09\uff0c\u200b\u8fd8\u662f\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\u6269\u5c55\u200b\uff08\u200b\u52a8\u6001\u200b\u6269\u5c55\u200b\uff09\uff1f\u200b\u5982\u679c\u200b v2 \u200b\u7684\u200b\u503c\u200b\u662f\u200b\u52a8\u6001\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u6269\u5c55\u200b\u65b9\u5f0f\u200b\u7684\u200b\u7ed3\u679c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5dee\u5f02\u200b\u5f88\u5927\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u7c7b\u4f3c\u200b\u95ee\u9898\u200b\uff0cMakefile \u200b\u4e00\u5171\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u56db\u4e2a\u200b\u8d4b\u503c\u200b\u8fd0\u7b97\u7b26\u200b\uff08=\u3001:=\u3001\uff1f=\u3001+=\uff09\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u533a\u522b\u200b\u8bf7\u200b\u770b\u200bStackOverflow\u3002</p> Bash<pre><code>VARIABLE = value\n# \u200b\u5728\u200b\u6267\u884c\u200b\u65f6\u200b\u6269\u5c55\u200b\uff0c\u200b\u5141\u8bb8\u200b\u9012\u5f52\u200b\u6269\u5c55\u200b\u3002\nVARIABLE := value\n# \u200b\u5728\u200b\u5b9a\u4e49\u200b\u65f6\u200b\u6269\u5c55\u200b\u3002\nVARIABLE ?= value\n# \u200b\u53ea\u6709\u200b\u5728\u200b\u8be5\u200b\u53d8\u91cf\u200b\u4e3a\u200b\u7a7a\u65f6\u200b\u624d\u200b\u8bbe\u7f6e\u200b\u503c\u200b\u3002\nVARIABLE += value\n# \u200b\u5c06\u503c\u200b\u8ffd\u52a0\u200b\u5230\u200b\u53d8\u91cf\u200b\u7684\u200b\u5c3e\u7aef\u200b\u3002\n</code></pre> <p>\u200b\u66f4\u200b\u591a\u200b\u8fdb\u9636\u200b\u5185\u5bb9\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\uff1a\u200b\u962e\u200b\u4e00\u5cf0\u200b - Make \u200b\u547d\u4ee4\u200b\u6559\u7a0b\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#\u5373\u4f7f\u67d0\u884c\u8bed\u53e5\u62a5\u9519\u4e5f\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u8bed\u53e5","title":"\u5373\u4f7f\u200b\u67d0\u200b\u884c\u200b\u8bed\u53e5\u200b\u62a5\u9519\u200b\uff0c\u200b\u4e5f\u200b\u7ee7\u7eed\u6267\u884c\u200b\u540e\u7eed\u200b\u8bed\u53e5","text":"<p>\u200b\u5728\u200b Makefile \u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>-</code> \u200b\u524d\u7f00\u200b\u6765\u200b\u5ffd\u7565\u200b\u547d\u4ee4\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p> Makefile<pre><code>-pytest --doctest-modules --accept\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\uff0c\u200b\u5373\u4f7f\u200b <code>pytest</code> \u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\uff0cMakefile \u200b\u4e5f\u200b\u4f1a\u200b\u7ee7\u7eed\u6267\u884c\u200b\u540e\u7eed\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002</p> <p>\u200b\u6216\u8005\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>|| true</code> \u200b\u540e\u7f00\u200b\u6765\u200b\u786e\u4fdd\u200b\u5373\u4f7f\u200b\u547d\u4ee4\u200b\u5931\u8d25\u200b\uff0c\u200b\u6574\u4e2a\u200b\u8bed\u53e5\u200b\u4e5f\u200b\u8fd4\u56de\u200b\u771f\u503c\u200b\uff1a</p> Makefile<pre><code>pytest --doctest-modules --accept || true\n</code></pre> <p>\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u8fbe\u5230\u200b\u76ee\u7684\u200b\uff0c\u200b\u9009\u62e9\u200b\u54ea\u200b\u4e00\u79cd\u200b\u53d6\u51b3\u4e8e\u200b\u4e2a\u4eba\u200b\u504f\u597d\u200b\u3002 <code>-</code> \u200b\u66f4\u200b\u7b80\u6d01\u200b\uff0c<code>|| true</code> \u200b\u66f4\u200b\u6e05\u6670\u200b\u5730\u200b\u8868\u8fbe\u200b\u4e86\u200b\u201c\u200b\u5373\u4f7f\u200b\u5931\u8d25\u200b\u4e5f\u200b\u7ee7\u7eed\u200b\u201d\u200b\u7684\u200b\u610f\u56fe\u200b\u3002</p>","tags":["Computer Science"]},{"location":"blog/makefile/#\u4f7f\u7528\u793a\u4f8b","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b <code>Makefile</code> \u200b\u793a\u4f8b\u200b\u3002\u200b\u5728\u200b\u9879\u76ee\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u672c\u200b\u6587\u4ef6\u200b\u540e\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b <code>make lint</code> \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>autocorrect</code> \u200b\u6765\u200b\u8fdb\u884c\u200b\u6587\u672c\u200b\u68c0\u67e5\u200b\uff0c<code>make all</code> \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e00\u952e\u200b\u66f4\u65b0\u200b\u535a\u5ba2\u200b\u3002</p> Makefile<pre><code>.PHONY: all lint fix serve push deploy\nall: lint fix push deploy\nlint:\nautocorrect --lint ./\nfix:\nautocorrect --fix ./\nserve:\nmkdocs serve\npush:\ngit add . ;\\\ngit commit -m \":sparkles: docs: update\" ;\\\ngit push\ndeploy:\nmkdocs gh-deploy --force\n</code></pre>","tags":["Computer Science"]},{"location":"blog/spring-in-2024/","title":"\u6625\u65e5\u200b\u65f6\u5149","text":"\u91c7\u8336\u200b\u4eba\u200b \u200b\u7ea2\u5c71\u200b\u68ee\u6797\u200b\u52a8\u7269\u56ed\u200b \u200b\u590d\u65e6\u5927\u5b66\u200b\u7684\u200b\u6a31\u82b1\u200b \u200b\u540c\u6d4e\u5927\u5b66\u200b\u7684\u200b\u6a31\u82b1\u200b \u200b\u4e16\u7eaa\u200b\u516c\u56ed\u200b\u7684\u200b\u82b1\u200b\u4e0e\u200b\u9732\u8425\u200b\u7684\u200b\u4eba\u4eec\u200b \u200b\u4e58\u5750\u200b\u6e38\u8239\u200b\u7684\u200b\u4eba\u4eec\u200b \u200b\u6d66\u4e1c\u200b\u6ee8\u6c5f\u200b \u200b\u6625\u65e5\u200b\u7684\u200b\u7eff\u8272","tags":["\u751f\u6d3b"]},{"location":"blog/manage-memory-in-python/","title":"Python \u200b\u5185\u5b58\u200b\u5256\u6790\u200b\u4e0e\u200b\u4f18\u5316","text":"<p>\u200b\u672c\u6587\u200b\u4ee5\u200b\u4e00\u4e2a\u200b\u77e9\u9635\u200b\u76f8\u4e58\u200b\u7684\u200b\u573a\u666f\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u4ecb\u7ecd\u200b\u4e86\u200b <code>memory_profiler</code> \u200b\u548c\u200b <code>memray</code> \u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u5256\u6790\u200b Python \u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u7684\u200b\u5de5\u5177\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#\u6570\u636e","title":"\u6570\u636e","text":"<p>\u200b\u77e9\u9635\u200b\u76f8\u4e58\u200b\u6d89\u53ca\u200b\u4e24\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b <code>data_1</code> \u200b\u548c\u200b <code>data_2</code>\u3002\u200b\u751f\u6210\u200b\u5b83\u4eec\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u200b\uff1a</p> Python<pre><code>class TestMemory:\ndef __init__(self):\ndates = pd.date_range(start=\"2023-01-01\", end=\"2023-12-31\", freq=\"D\")\nitems_data1 = list(range(1, 501))\nitems_data2 = list(range(201, 1001))\nindex_data2 = pd.MultiIndex.from_product(\n[dates, items_data2], names=[\"date\", \"item\"]\n)\nself.data_1 = pd.DataFrame(\nnp.random.rand(len(dates), 500), index=dates, columns=items_data1\n)\nself.data_1.index.name = \"date\"\nself.data_2 = pd.DataFrame(\nnp.random.rand(len(index_data2), 800),\nindex=index_data2,\ncolumns=items_data2,\n)\n</code></pre> <p><code>data_1</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b 365 \u200b\u884c\u200b\u3001500 \u200b\u5217\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u7d22\u5f15\u200b\u4e3a\u200b 2023 \u200b\u5e74\u200b\u7684\u200b\u65e5\u9891\u200b\u65e5\u671f\u200b\uff0c\u200b\u5217\u540d\u200b\u4e3a\u200b 1 \u200b\u5230\u200b 500\u3002</p> <p></p> <p><code>data_2</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b 365*800=292000 \u200b\u884c\u200b\u3001800 \u200b\u5217\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u7d22\u5f15\u200b\u662f\u200b\u4e00\u4e2a\u200b <code>MultiIndex</code> \u200b\u7c7b\u578b\u200b\uff0c\u200b\u5176\u4e2d\u200b\u4e24\u5c42\u200b\u7d22\u5f15\u200b\u5206\u522b\u200b\u4e3a\u200b <code>date</code> \u200b\u548c\u200b <code>item</code>\u3002\u200b\u5b83\u200b\u7684\u200b\u5217\u540d\u200b\u4e3a\u200b 201 \u200b\u5230\u200b 1000\uff0c\u200b\u4e0e\u200b <code>data_1</code> \u200b\u7684\u200b\u5217\u540d\u200b\u5b58\u5728\u200b\u4ea4\u96c6\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#\u4f7f\u7528-pandas-\u76f4\u63a5\u76f8\u4e58","title":"\u4f7f\u7528\u200b <code>pandas</code> \u200b\u76f4\u63a5\u200b\u76f8\u4e58","text":"Python<pre><code>def multiply_and_sum_data_pd(self):\nresult = (self.data_1 * self.data_2).sum(axis=1)\nreturn result\n</code></pre> <p>\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u4f1a\u200b\u5c06\u200b <code>data_1</code> \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u4e0e\u200b <code>data_2</code> \u200b\u4e2d\u200b\u76f8\u5e94\u200b\u65e5\u671f\u200b\u7684\u200b\u4e00\u4e2a\u200b\u77e9\u9635\u200b\u76f8\u4e58\u200b\u3002\u200b\u5e76\u4e14\u200b\uff0c\u200b\u867d\u7136\u200b <code>data_1</code> \u200b\u548c\u200b <code>data_2</code> \u200b\u7684\u200b\u5217\u540d\u200b\u5e76\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c<code>pandas</code> \u200b\u4e5f\u200b\u80fd\u200b\u81ea\u52a8\u200b\u5c06\u200b\u76f8\u540c\u200b\u7684\u200b\u5217\u540d\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u5143\u7d20\u200b\u76f8\u4e58\u200b\uff08\u200b\u5373\u200b 201 \u200b\u5230\u200b 500\uff09\u3002\u200b\u82e5\u200b\u6ca1\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u5217\u540d\u200b\uff08\u200b\u5373\u200b 1 \u200b\u5230\u200b 200 \u200b\u548c\u200b 501 \u200b\u5230\u200b 1000\uff09\uff0c\u200b\u5219\u200b\u7ed3\u679c\u200b\u4e3a\u200b <code>NaN</code>\u3002</p> <p></p> <p>\u200b\u8fd9\u6837\u200b\u7684\u200b\u5199\u6cd5\u200b\u5341\u5206\u200b\u7b80\u6d01\u200b\uff0c\u200b\u9605\u8bfb\u200b\u8d77\u6765\u200b\u4e5f\u200b\u5bb9\u6613\u200b\u7406\u89e3\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5f53\u200b <code>data_1</code> \u200b\u548c\u200b <code>data_2</code> \u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u8f83\u5927\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9047\u5230\u200b\u6027\u80fd\u200b\u74f6\u9888\u200b\uff0c\u200b\u4f8b\u5982\u200b\u8fd0\u7b97\u200b\u65f6\u95f4\u200b\u592a\u200b\u957f\u200b\u3001\u200b\u6d88\u8017\u200b\u5185\u5b58\u200b\u592a\u5927\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#\u4f7f\u7528-numpy--\u8f6c\u6362\u4e3a-numpyarray-\u540e\u76f8\u4e58","title":"\u4f7f\u7528\u200b <code>numpy</code>  \u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>numpy.array</code> \u200b\u540e\u200b\u76f8\u4e58","text":"<p>\u200b\u6211\u4eec\u200b\u63d0\u53d6\u200b <code>data_2</code> \u200b\u7684\u200b <code>index</code> \u200b\u548c\u200b <code>columns</code>\uff0c\u200b\u5c06\u200b\u5f85\u200b\u8ba1\u7b97\u200b\u7684\u200b\u6570\u636e\u200b\u7528\u200b <code>to_numpy</code> \uff08\u200b\u5b98\u65b9\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b <code>.values</code>\uff0c\u200b\u8be6\u89c1\u200b pandas.DataFrame.values \u200b\u6587\u6863\u200b\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>numpy.array</code> \u200b\u540e\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002\u200b\u6539\u5199\u200b\u540e\u200b\u7684\u200b\u4ee3\u7801\u200b\u66f4\u957f\u200b\uff0c\u200b\u4f46\u200b\u8ba1\u7b97\u200b\u903b\u8f91\u200b\u4e0e\u200b\u4e0a\u6587\u200b\u4f7f\u7528\u200b <code>pandas</code> \u200b\u76f4\u63a5\u200b\u76f8\u4e58\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b\u3002</p> Python<pre><code>def multiply_and_sum_data_np(self):\nindex = self.data_2.index\ncolumns = self.data_2.columns\nself.data_2 = self.data_2.to_numpy().reshape(\nindex.get_level_values(\"date\").nunique(),\nindex.get_level_values(\"item\").nunique(),\n-1,\n)\nresult = pd.Series(\nnp.nansum(\nnp.vstack(\n(self.data_1.reindex(columns=columns).to_numpy()[:, np.newaxis, :])\n* self.data_2\n),\naxis=1,\n),\nindex=index,\n)\nreturn result\n</code></pre> <p>\u200b\u6700\u7ec8\u200b\u7684\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> manage-memory.py<pre><code>import numpy as np\nimport pandas as pd\nnp.random.seed(0)\nclass TestMemory:\ndef __init__(self):\ndates = pd.date_range(start=\"2023-01-01\", end=\"2023-12-31\", freq=\"D\")\nitems_data1 = list(range(1, 501))\nitems_data2 = list(range(201, 1001))\nindex_data2 = pd.MultiIndex.from_product(\n[dates, items_data2], names=[\"date\", \"item\"]\n)\nself.data_1 = pd.DataFrame(\nnp.random.rand(len(dates), 500), index=dates, columns=items_data1\n)\nself.data_1.index.name = \"date\"\nself.data_2 = pd.DataFrame(\nnp.random.rand(len(index_data2), 800),\nindex=index_data2,\ncolumns=items_data2,\n)\ndef multiply_and_sum_data_pd(self):\nresult = (self.data_1 * self.data_2).sum(axis=1)\nreturn result\ndef multiply_and_sum_data_np(self):\nindex = self.data_2.index\ncolumns = self.data_2.columns\nself.data_2 = self.data_2.to_numpy().reshape(\nindex.get_level_values(\"date\").nunique(),\nindex.get_level_values(\"item\").nunique(),\n-1,\n)\nresult = pd.Series(\nnp.nansum(\nnp.vstack(\n(self.data_1.reindex(columns=columns).to_numpy()[:, np.newaxis, :])\n* self.data_2\n),\naxis=1,\n),\nindex=index,\n)\nreturn result\ntest_memory = TestMemory()\nprint(test_memory.multiply_and_sum_data_pd())\nprint(test_memory.multiply_and_sum_data_np())\n</code></pre> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u4ecb\u7ecd\u200b\u82e5\u5e72\u200b\u5256\u6790\u200b Python \u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u7684\u200b\u5de5\u5177\u200b\u3002</p>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#memory_profiler","title":"<code>memory_profiler</code>","text":"<p>\u200b\u5b89\u88c5\u200b <code>memory_profiler</code>\uff1a</p> Bash<pre><code>pip install -U memory_profiler\n</code></pre>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#\u5b9a\u65f6\u8bb0\u5f55\u5185\u5b58\u4f7f\u7528\u60c5\u51b5","title":"\u5b9a\u65f6\u200b\u8bb0\u5f55\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5","text":"<p>\u200b\u65e0\u9700\u200b\u6539\u52a8\u200b\u4ee3\u7801\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u8fd0\u884c\u200b\uff1a</p> Bash<pre><code>mprof run manage-memory.py # (1)\n</code></pre> <ol> <li><code>manage-memory.py</code> \u200b\u662f\u200b\u5f85\u200b\u5256\u6790\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u6587\u4ef6\u200b\u3002</li> </ol> <p>\u200b\u8fd9\u4f1a\u200b\u5b9a\u65f6\u200b\u8bb0\u5f55\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u65f6\u6240\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b <code>mprofile_xxxxx.dat</code> \u200b\u7684\u200b\u6587\u4ef6\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u4f7f\u7528\u200b\uff1a</p> Bash<pre><code>mprof plot\n</code></pre> <p>\u200b\u5c06\u200b\u7ed8\u5236\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u3002</p> <p></p> <p>\u200b\u4e0a\u56fe\u200b\u662f\u200b\u8fd0\u884c\u200b <code>print(test_memory.multiply_and_sum_data_pd())</code> \u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5b83\u200b\u8868\u660e\u200b\u4f7f\u7528\u200b <code>pandas</code> \u200b\u76f4\u63a5\u200b\u76f8\u4e58\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u8017\u65f6\u200b\u7ea6\u200b 8 \u200b\u79d2\u200b\uff0c\u200b\u5185\u5b58\u200b\u5360\u7528\u200b\u5cf0\u503c\u200b\u7ea6\u200b\u4e3a\u200b 5400 MB\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u8fd0\u884c\u200b <code>print(test_memory.multiply_and_sum_data_np())</code>\uff0c\u200b\u540c\u6837\u200b\u4f7f\u7528\u200b\uff1a</p> Bash<pre><code>mprof run manage-memory.py\nmprof plot\n</code></pre> <p></p> <p>\u200b\u4e0a\u200b\u56fe\u200b\u8868\u660e\u200b\u4f7f\u7528\u200b <code>numpy</code> \u200b\u7684\u200b\u65b9\u6cd5\u200b\u8017\u65f6\u200b\u4ec5\u200b 3 \u200b\u79d2\u200b\u591a\u200b\uff0c\u200b\u5185\u5b58\u200b\u5360\u7528\u200b\u4e5f\u200b\u5feb\u901f\u200b\u4e0b\u964d\u200b\u3002</p>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#\u8bb0\u5f55\u90e8\u5206\u4ee3\u7801\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5","title":"\u8bb0\u5f55\u200b\u90e8\u5206\u200b\u4ee3\u7801\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5","text":"<p>\u200b\u82e5\u4ec5\u200b\u9700\u8981\u200b\u8bb0\u5f55\u200b\u90e8\u5206\u200b\u4ee3\u7801\u200b\uff08\u200b\u4f8b\u5982\u200b\u51fd\u6570\u200b\u3001\u200b\u65b9\u6cd5\u200b\u7b49\u200b\uff09\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u51fd\u6570\u200b\u6dfb\u52a0\u200b <code>@profile</code> \u200b\u88c5\u9970\u200b\u5668\u200b\uff1a</p> Python<pre><code>from memory_profiler import profile\nclass TestMemory:\ndef __init__(self):\npass\n@profile\ndef multiply_and_sum_data_np(self):\nindex = self.data_2.index\ncolumns = self.data_2.columns\nself.data_2 = self.data_2.to_numpy().reshape(\nindex.get_level_values(\"date\").nunique(),\nindex.get_level_values(\"item\").nunique(),\n-1,\n)\nresult = pd.Series(\nnp.nansum(\nnp.vstack(\n(self.data_1.reindex(columns=columns).to_numpy()[:, np.newaxis, :])\n* self.data_2\n),\naxis=1,\n),\nindex=index,\n)\nreturn result\n</code></pre> <p>\u200b\u518d\u200b\u8fd0\u884c\u200b <code>python manage-memory.py</code> \u200b\u5373\u53ef\u200b\u5256\u6790\u200b\u8fd9\u200b\u6bb5\u200b\u51fd\u6570\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u3002</p> Text Only<pre><code>Filename: manage-memory.py\n\nLine #    Mem usage    Increment  Occurrences   Line Contents\n=============================================================\n    34   1886.9 MiB   1886.9 MiB           1       @profile\n    35                                             def multiply_and_sum_data_np(self):\n    36   1886.9 MiB      0.0 MiB           1           index = self.data_2.index\n    37   1886.9 MiB      0.0 MiB           1           columns = self.data_2.columns\n    38   1918.9 MiB      0.0 MiB           2           self.data_2 = self.data_2.to_numpy().reshape(\n    39   1902.4 MiB     15.5 MiB           1               index.get_level_values(\"date\").nunique(),\n    40   1918.9 MiB     16.5 MiB           1               index.get_level_values(\"item\").nunique(),\n    41   1918.9 MiB      0.0 MiB           1               -1,\n    42                                                 )\n    43   1918.9 MiB      3.9 MiB           2           result = pd.Series(\n    44   1918.9 MiB  -1311.8 MiB           2               np.nansum(\n    45   1918.9 MiB  -1839.8 MiB           2                   np.vstack(\n    46   3703.6 MiB   1784.8 MiB           2                       (self.data_1.reindex(columns=columns).to_numpy()[:, np.newaxis, :])\n    47   1921.4 MiB      0.0 MiB           1                       * self.data_2\n    48                                                         ),\n    49   1863.8 MiB    -55.0 MiB           1                   axis=1,\n    50                                                     ),\n    51    552.1 MiB  -1366.8 MiB           1               index=index,\n    52                                                 )\n    53    556.0 MiB  -1362.9 MiB           1           return result\n</code></pre>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#memray","title":"<code>memray</code>","text":"<p><code>memray</code> \u200b\u662f\u200b Bloomberg \u200b\u5f00\u6e90\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u5256\u6790\u200b\u5de5\u5177\u200b\u3002</p> <p>\u200b\u5b89\u88c5\u200b <code>memray</code>\uff1a</p> Bash<pre><code>pip install memray\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\uff1a</p> Bash<pre><code>memray run --live manage-memory.py\n</code></pre> <p>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u5b9e\u65f6\u200b\u7684\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u3002\u200b\u4e0b\u9762\u200b\u5206\u522b\u200b\u662f\u200b\u4f7f\u7528\u200b <code>pandas</code> \u200b\u548c\u200b <code>numpy</code> \u200b\u7684\u200b\u65b9\u6cd5\u200b\u6240\u200b\u5448\u73b0\u200b\u7684\u200b\u5b9e\u65f6\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\u3002</p> <p><code>pandas</code>\uff1a</p> <p></p> <p><code>numpy</code>\uff1a</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>pandas</code> \u200b\u65b9\u6cd5\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u5cf0\u503c\u200b\u66f4\u5927\u200b\u3001\u200b\u6301\u7eed\u65f6\u95f4\u200b\u66f4\u957f\u200b\u3002</p> <p>\u200b\u66f4\u200b\u591a\u200b\u7528\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b memray \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p>","tags":["Python"]},{"location":"blog/manage-memory-in-python/#\u5176\u4ed6\u5de5\u5177","title":"\u5176\u4ed6\u200b\u5de5\u5177","text":"<ul> <li> <p>pympler \u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u8ddf\u8e2a\u5668\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5176\u4e2d\u200b\u7684\u200b <code>classtracker</code> \u200b\u53ef\u4ee5\u200b\u8ddf\u8e2a\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u5360\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u3002\u200b\u8be6\u7ec6\u200b\u7528\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b pympler GitHub \u200b\u4ed3\u5e93\u200b\u548c\u200b pympler \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p> </li> <li> <p>\u200b\u9664\u4e86\u200b\u4f18\u5316\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u60c5\u51b5\u200b\uff0c\u200b\u8fd0\u884c\u200b\u901f\u5ea6\u200b\u4e5f\u200b\u662f\u200b\u503c\u5f97\u200b\u8003\u8651\u200b\u7684\u200b\u3002<code>line_profiler</code> \u200b\u4e5f\u200b\u63d0\u4f9b\u200b\u4e86\u200b <code>profile</code> \u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>kernprof -lv filename.py</code> \u200b\u67e5\u770b\u200b\u6bcf\u884c\u200b\u4ee3\u7801\u8fd0\u884c\u200b\u65f6\u6240\u200b\u6d88\u8017\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002\u200b\u8be6\u7ec6\u200b\u7528\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b line_profiler GitHub \u200b\u4ed3\u5e93\u200b\u548c\u200b line_profiler \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p> </li> </ul>","tags":["Python"]},{"location":"blog/factor-halflife/","title":"\u56e0\u5b50\u200b\u534a\u8870\u671f","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u9010\u6e10\u200b\u8870\u51cf\u200b\u7684\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6a21\u578b\u200b\u6765\u200b\u4f30\u8ba1\u200b\u5176\u200b\u534a\u8870\u671f\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u6a21\u578b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u4f30\u8ba1\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u7684\u200b\u534a\u8870\u671f\u200b\u3002</p> <p>\u200b\u5728\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u4e2d\u200b\uff0c\u200b\u4e86\u89e3\u200b\u5404\u4e2a\u200b\u56e0\u5b50\u200b\u7684\u200b\u8870\u51cf\u200b\u60c5\u51b5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u6709\u6548\u200b\u5730\u200b\u52a8\u6001\u5206\u914d\u200b\u56e0\u5b50\u200b\u6743\u91cd\u200b\uff0c\u200b\u4ee5\u200b\u9002\u5e94\u200b\u5e02\u573a\u200b\u53d8\u5316\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76","\u7edf\u8ba1"]},{"location":"blog/factor-halflife/#\u6a21\u578b\u4e00\u81ea\u56de\u5f52\u6a21\u578b","title":"\u6a21\u578b\u200b\u4e00\u200b\uff1a\u200b\u81ea\u200b\u56de\u5f52\u200b\u6a21\u578b","text":"<p>\u200b\u5b9a\u4e49\u200b\u5f31\u200b\u5e73\u7a33\u200b\u8fc7\u7a0b\u200b \\(X_t\\) \u200b\u4e3a\u200b\uff1a $$ X_t = c + \\lambda X_{t-1} + \\epsilon_t, 0 &lt; \\lambda &lt; 1 \\tag{1}\\label{1} $$</p> <p>\u200b\u516c\u5f0f\u200b \\(\\eqref{1}\\) \u200b\u4e2d\u200b\u8981\u6c42\u200b \\(0 &lt; \\lambda &lt; 1\\)\uff0c\u200b\u56e0\u6b64\u200b \\(X_t\\) \u200b\u5e94\u662f\u200b\u9010\u6e10\u200b\u8870\u51cf\u200b\u7684\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u516c\u5f0f\u200b \\(\\eqref{1}\\)\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7ebf\u6027\u200b\u56de\u5f52\u4f30\u8ba1\u200b \\(c\\) \u200b\u548c\u200b \\(\\lambda\\)\u3002</p> <p>\u200b\u5f31\u200b\u5e73\u7a33\u200b\u610f\u5473\u7740\u200b\u8fc7\u7a0b\u200b \\(X_t\\) \u200b\u6709\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u7684\u200b\u5747\u503c\u200b\uff1a\\(E[X] = \\mu\\)\u3002\u200b\u5bf9\u200b \\(X_t\\) \u200b\u53d6\u200b\u671f\u671b\u200b\u5f97\u5230\u200b\uff1a</p> \\[ \\begin{align*} E[X_t] &amp;= E[c + \\lambda X_{t-1} + \\epsilon_t] \\\\ \\mu &amp;= c + \\lambda E[X_{t-1}] \\\\ \\mu &amp;= c + \\lambda \\mu \\\\ \\mu &amp;= \\frac{c}{1 - \\lambda} \\end{align*} \\] <p>\u200b\u91cd\u65b0\u6392\u5217\u200b \\(c\\) \u200b\u5f97\u5230\u200b\uff1a\\(c = \\mu(1 - \\lambda)\\)</p> <p>\u200b\u5c06\u200b\u6b64\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b \\(\\eqref{1}\\) \u200b\u5f97\u5230\u200b\uff1a</p> \\[ \\begin{align*} X_t &amp;= \\mu(1 - \\lambda) + \\lambda X_{t-1} + \\epsilon_t \\\\     &amp;= \\mu + \\lambda(X_{t-1} - \\mu) + \\epsilon_t \\end{align*} \\] <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8bbe\u200b \\(Y_t\\) \u200b\u4e3a\u200b\u5747\u503c\u200b\u8ddd\u79bb\u200b \\(X_t - \\mu\\)\uff0c\u200b\u5219\u200b\uff1a $$ Y_t = \\lambda Y_{t-1} + \\epsilon_t  \\tag{2}\\label{2} $$</p> <p>\u200b\u534a\u8870\u671f\u200b\u5b9a\u4e49\u200b\u4e3a\u200b \\(X_t\\) \u200b\u8870\u51cf\u200b\u5230\u200b\u5747\u503c\u200b\u4e00\u534a\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u65f6\u95f4\u200b \\(h\\)\u3002\u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u662f\u200b \\(Y_t\\) \u200b\u8870\u51cf\u200b\u5230\u200b \\(0\\) \u200b\u7684\u200b\u4e00\u534a\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u65f6\u95f4\u200b \\(h\\)\u3002\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u5199\u4e3a\u200b\uff1a</p> \\[ E[Y_{t+h}] = \\frac{1}{2}Y_t \\] <p>\u200b\u6839\u636e\u200b\u516c\u5f0f\u200b \\(\\eqref{2}\\) \u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\uff1a</p> \\[ E[Y_{t+h}] = \\lambda^h Y_t \\] <p>\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff1a</p> \\[ \\lambda^h Y_t = \\frac{1}{2} Y_t \\] <p>\u200b\u89e3\u200b \\(h\\) \u200b\u5f97\u5230\u200b\uff1a $$ h = -\\frac{\\log(2)}{\\log(\\lambda)} \\tag{3}\\label{3} $$</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u516c\u5f0f\u200b \\(\\eqref{1}\\) \u200b\u4e2d\u200b\u7684\u200b \\(\\lambda\\)\uff0c\u200b\u518d\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b \\(\\eqref{3}\\) \u200b\u4e2d\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u534a\u8870\u671f\u200b\u3002</p> <p>Tip</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u56e0\u5b50\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8ba4\u4e3a\u200b\u5b83\u200b\u7684\u200b\u9884\u6d4b\u200b\u80fd\u529b\u200b\u968f\u7740\u200b\u6ede\u540e\u200b\u671f\u200b\u7684\u200b\u589e\u5927\u200b\u800c\u200b\u6700\u7ec8\u200b\u4f1a\u200b\u8d8b\u4e8e\u200b \\(0\\)\uff0c\u200b\u5373\u200b\u8ba4\u4e3a\u200b\u516c\u5f0f\u200b \\(\\eqref{1}\\) \u200b\u4e2d\u200b\u7684\u200b \\(c = 0\\)\uff0c\u200b\u90a3\u4e48\u200b\u53ea\u200b\u9700\u8981\u200b\u5c06\u200b\u516c\u5f0f\u200b \\(\\eqref{1}\\) \u200b\u6539\u5199\u200b\u4e3a\u200b\u4e0d\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b\u7684\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76","\u7edf\u8ba1"]},{"location":"blog/factor-halflife/#\u6a21\u578b\u4e8c\u6307\u6570\u8870\u51cf\u6a21\u578b","title":"\u6a21\u578b\u200b\u4e8c\u200b\uff1a\u200b\u6307\u6570\u200b\u8870\u51cf\u6a21\u578b","text":"<p>\u200b\u6784\u5efa\u200b\u5982\u4e0b\u200b\u6307\u6570\u200b\u8870\u51cf\u6a21\u578b\u200b\uff1a $$ X_t = \\alpha \\lambda^{t}, 0 &lt; \\lambda &lt; 1 \\tag{4}\\label{4} $$</p> <p>\u200b\u8bbe\u200b \\(h\\) \u200b\u4e3a\u200b\u534a\u8870\u671f\u200b\uff0c\u200b\u5219\u200b\u6709\u200b\uff1a</p> \\[ E[X_t] = \\alpha \\lambda^{t}\\\\ E[X_{t+h}] = \\frac{1}{2} E[X_t] \\] <p>\u200b\u56e0\u6b64\u200b $$ \\alpha \\lambda^{t+h} = \\frac{1}{2} \\alpha \\lambda^{t}\\ $$</p> <p>\u200b\u89e3\u200b \\(h\\) \u200b\u5f97\u5230\u200b\uff1a $$ h = -\\frac{\\log(2)}{\\log(\\lambda)} \\tag{5}\\label{5} $$</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u516c\u5f0f\u200b \\(\\eqref{4}\\) \u200b\u4e2d\u200b\u7684\u200b \\(\\lambda\\)\uff0c\u200b\u518d\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b \\(\\eqref{5}\\) \u200b\u4e2d\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u534a\u8870\u671f\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u4f30\u8ba1\u200b\u516c\u5f0f\u200b \\(\\eqref{4}\\) \u200b\u4e2d\u200b\u7684\u200b \\(\\lambda\\)\u3002\u200b\u4e3a\u200b\u63a8\u5bfc\u200b\u7b80\u4fbf\u200b\uff0c\u200b\u6211\u4eec\u200b\u8003\u8651\u200b \\(\\alpha &gt; 0\\)\uff0c\u200b\u7531\u200b\u516c\u5f0f\u200b \\(\\eqref{4}\\) \u200b\u5f97\u200b\uff1a $$ \\log(X_t) = \\log(\\alpha) + t\\log(\\lambda) \\tag{6}\\label{6} $$</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5c06\u200b \\(\\log(X_t)\\) \u200b\u5e8f\u5217\u200b\u4f5c\u4e3a\u200b\u56e0\u53d8\u91cf\u200b\uff0c\u200b\u5c06\u200b \\(t\\) \u200b\u4f5c\u4e3a\u200b\u81ea\u53d8\u91cf\u200b\uff0c\u200b\u8fdb\u884c\u200b\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b\u7684\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\uff0c\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u7684\u200b\u81ea\u53d8\u91cf\u200b\u7cfb\u6570\u200b\u5373\u200b\u4e3a\u200b \\(\\log(\\lambda)\\)\uff0c\u200b\u518d\u200b\u4ee3\u5165\u200b\u516c\u5f0f\u200b \\(\\eqref{5}\\) \u200b\u4e2d\u200b\u5373\u53ef\u200b\u5f97\u5230\u200b\u534a\u8870\u671f\u200b\u3002</p> <p>Note</p> <p>\u200b\u76f8\u6bd4\u200b\u4e8e\u200b\u6a21\u578b\u200b\u4e00\u4e2d\u200b\u7684\u200b\u81ea\u200b\u56de\u5f52\u200b\u6a21\u578b\u200b\uff0c\u200b\u6a21\u578b\u200b\u4e8c\u200b\u7684\u200b\u6307\u6570\u200b\u8870\u51cf\u6a21\u578b\u200b\u6709\u4e9b\u200b\u5f0a\u7aef\u200b\uff1a</p> <ul> <li>\u200b\u6a21\u578b\u200b\u4e8c\u200b\u8981\u6c42\u200b \\(X_t\\) \u200b\u4e3a\u200b\u6b63\u6570\u200b\uff0c\u200b\u5426\u5219\u200b\u65e0\u6cd5\u200b\u5bf9\u200b\u5176\u53d6\u200b\u5bf9\u6570\u200b\uff0c\u200b\u6765\u200b\u8fdb\u884c\u200b\u516c\u5f0f\u200b \\(\\eqref{6}\\) \u200b\u7684\u200b\u56de\u5f52\u200b\u3002\u200b\u800c\u200b\u6a21\u578b\u200b\u4e00\u5e76\u200b\u4e0d\u200b\u8981\u6c42\u200b \\(X_t\\) \u200b\u4e3a\u200b\u6b63\u6570\u200b\u3002</li> </ul>","tags":["\u91cf\u5316\u7814\u7a76","\u7edf\u8ba1"]},{"location":"blog/factor-halflife/#\u4ee3\u7801\u5b9e\u73b0","title":"\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u6a21\u578b\u200b\u4e00\u200b\uff0c\u200b\u5c06\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u8fdb\u884c\u200b\u6ede\u540e\u200b\u4e00\u671f\u200b\u7684\u200b\u81ea\u200b\u56de\u5f52\u200b\uff0c\u200b\u4f30\u8ba1\u200b\u56de\u5f52\u7cfb\u6570\u200b \\(\\lambda\\)\u3002\u200b\u6838\u5fc3\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>def halflife(series):\nlambda_ = np.linalg.lstsq(\nseries[:-1].values[:, np.newaxis],\nseries[1:].values[:, np.newaxis],\nrcond=None,\n)[0].item()\nif 0 &lt; lambda_ and lambda_ &lt; 1:\nreturn -np.log(2) / np.log(lambda_)\nelse:\nreturn np.NaN\n</code></pre> <p>\u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u89c1\u200b GitHub\u3002</p>","tags":["\u91cf\u5316\u7814\u7a76","\u7edf\u8ba1"]},{"location":"blog/factor-halflife/#\u4e0d\u540c\u6a21\u62df\u6570\u636e\u7684\u4f30\u8ba1\u7ed3\u679c","title":"\u4e0d\u540c\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\u7684\u200b\u4f30\u8ba1\u200b\u7ed3\u679c","text":"<p>\u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u6a21\u62df\u200b\u4e86\u200b\u201c\u200b\u771f\u5b9e\u200b\u671f\u671b\u200b\u4e3a\u200b\u96f6\u200b\u201d\u3001\u201c\u200b\u771f\u5b9e\u200b\u671f\u671b\u200b\u4e0d\u4e3a\u200b\u96f6\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0d\u200b\u6536\u655b\u200b\u201d\u200b\u4e09\u79cd\u200b\u60c5\u51b5\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u771f\u5b9e\u200b\u671f\u671b\u200b\u4e3a\u200b\u96f6\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u65e0\u8bba\u200b\u662f\u5426\u200b\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b \\(c\\)\uff0c\u200b\u4f30\u8ba1\u200b\u7ed3\u679c\u200b\u90fd\u200b\u8f83\u4e3a\u200b\u63a5\u8fd1\u200b\u3002</p> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u771f\u5b9e\u200b\u671f\u671b\u200b\u4e0d\u4e3a\u200b\u96f6\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u662f\u5426\u200b\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b \\(c\\) \u200b\u7684\u200b\u4f30\u8ba1\u200b\u7ed3\u679c\u200b\u6709\u200b\u8f83\u5927\u200b\u5dee\u5f02\u200b\u3002\uff08\u200b\u6ce8\u200b\uff1a\u200b\u56fe\u4e2d\u200b\u7684\u200b\u7ea2\u7ebf\u200b\u548c\u200b\u6a59\u7ebf\u200b\u3001\u200b\u84dd\u7ebf\u200b\u548c\u200b\u7eff\u7ebf\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u91cd\u5408\u200b\u7684\u200b\uff0c\u200b\u4e3a\u200b\u89c2\u5bdf\u200b\u65b9\u4fbf\u200b\uff0c\u200b\u6211\u200b\u52a0\u4e0a\u200b\u4e86\u200b\u968f\u673a\u200b\u6270\u52a8\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b83\u4eec\u200b\u770b\u8d77\u6765\u200b\u5e76\u200b\u4e0d\u200b\u91cd\u5408\u200b\u3002\uff09</p> <ul> <li>\u200b\u5bf9\u4e8e\u200b\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b\u7684\u200b\u56de\u5f52\u200b\uff0c\u200b\u610f\u5473\u7740\u200b\u6a21\u578b\u200b\u8ba4\u4e3a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4f1a\u200b\u6536\u655b\u200b\u5230\u200b\u4e00\u4e2a\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u4e3a\u200b 0 \u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u7684\u200b\u534a\u8870\u671f\u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b\uff1a\u200b\u8870\u51cf\u200b\u5230\u200b\u5f53\u524d\u200b\u503c\u200b\u8ddd\u79bb\u200b\u5747\u503c\u200b\u7684\u200b\u4e00\u534a\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b\u4e0d\u5e26\u200b\u622a\u8ddd\u200b\u9879\u200b\u7684\u200b\u56de\u5f52\u200b\uff0c\u200b\u610f\u5473\u7740\u200b\u6a21\u578b\u200b\u8ba4\u4e3a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4f1a\u200b\u6536\u655b\u200b\u5230\u200b 0\uff0c\u200b\u56e0\u6b64\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u7684\u200b\u534a\u8870\u671f\u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b\uff1a\u200b\u8870\u51cf\u200b\u5230\u200b\u5f53\u524d\u200b\u503c\u200b\u7684\u200b\u4e00\u534a\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</li> </ul> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0d\u200b\u6536\u655b\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u5224\u65ad\u200b\u903b\u8f91\u200b\u662f\u200b\uff1a\u200b\u82e5\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u7684\u200b \\(\\lambda\\) \u200b\u4e0d\u200b\u6ee1\u8db3\u200b \\(0 &lt; \\lambda &lt; 1\\)\uff0c\u200b\u5219\u200b\u8ba4\u4e3a\u200b\u65e0\u6cd5\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u534a\u8870\u671f\u200b\u3002\u200b\u4e0b\u56fe\u200b\u662f\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4e0d\u200b\u6536\u655b\u200b\u800c\u200b\u65e0\u6cd5\u200b\u4f30\u8ba1\u200b\u51fa\u200b\u534a\u8870\u671f\u200b\u7684\u200b\u793a\u4f8b\u200b\u3002</p> <p></p>","tags":["\u91cf\u5316\u7814\u7a76","\u7edf\u8ba1"]},{"location":"blog/factor-halflife/#\u8ba1\u7b97\u901f\u5ea6","title":"\u8ba1\u7b97\u901f\u5ea6","text":"<p>\u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u8fd8\u200b\u5bf9\u6bd4\u200b\u4e86\u200b\u4e0d\u540c\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\uff0c\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\u3002\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\uff0c\u200b\u4f7f\u7528\u200b\u7eaf\u200b <code>numpy</code> \u200b\u8fdb\u884c\u200b\u5b9e\u73b0\u200b\u7684\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u6700\u5feb\u200b\uff0c\u200b\u800c\u200b\u4f7f\u7528\u200b <code>statsmodels</code> \u200b\u7684\u200b <code>AutoReg</code> \u200b\u63a5\u53e3\u200b\u867d\u7136\u200b\u4ee3\u7801\u200b\u66f4\u52a0\u200b\u7b80\u6d01\u200b\uff0c\u200b\u4f46\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u8f83\u6162\u200b\u3002</p> Python<pre><code>def halflife(series, method=\"numpy_no_intercept\"):\nif method == \"numpy_no_intercept\":\nlambda_ = np.linalg.lstsq(\nseries[:-1].values[:, np.newaxis],\nseries[1:].values[:, np.newaxis],\nrcond=None,\n)[0].item()\nelif method == \"statsmodels_no_intercept\":\nlambda_ = AutoReg(series, lags=1, trend=\"n\").fit().params[\"y.L1\"]\nelif method == \"numpy_intercept\":\nlambda_ = np.polynomial.Polynomial.fit(\nseries.shift(1).iloc[1:], series.iloc[1:], deg=1, domain=[]\n).coef[1]\nelif method == \"statsmodels_intercept\":\nlambda_ = AutoReg(series, lags=1).fit().params[\"y.L1\"]\nif 0 &lt; lambda_ and lambda_ &lt; 1:\nreturn -np.log(2) / np.log(lambda_)\nelse:\nreturn np.NaN\n</code></pre> <p></p>","tags":["\u91cf\u5316\u7814\u7a76","\u7edf\u8ba1"]},{"location":"blog/numpy-polynomial-linear-regression/","title":"\u4f7f\u7528\u200b <code>np.polynomial.Polynomial</code> \u200b\u8fdb\u884c\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6ce8\u610f\u4e8b\u9879","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b <code>np.polynomial.Polynomial</code> \u200b\u8fdb\u884c\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u65f6\u200b\uff0c\u200b\u672a\u80fd\u200b\u5f97\u5230\u200b\u9884\u671f\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u7ecf\u200b\u68c0\u67e5\u200b\u53d1\u73b0\u200b\uff0c <code>Polynomial.fit()</code> \u200b\u4f1a\u200b\u5c06\u200b\u6570\u636e\u200b\u7f29\u653e\u200b\u548c\u200b\u5e73\u79fb\u200b\u5230\u200b <code>window</code> \u200b\u53c2\u6570\u200b\u4e0a\u540e\u200b\uff0c\u200b\u518d\u200b\u8fdb\u884c\u200b\u56de\u5f52\u4f30\u8ba1\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5f97\u5230\u200b\u672a\u200b\u7f29\u653e\u200b\u548c\u200b\u5e73\u79fb\u200b\u7684\u200b\u4f30\u8ba1\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>.convert().coef</code>\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#\u6784\u9020\u6a21\u62df\u6570\u636e","title":"\u6784\u9020\u200b\u6a21\u62df\u200b\u6570\u636e","text":"<p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\uff1a</p> Python<pre><code>import numpy as np\nx = np.array([1, 2, 3, 4, 5])\ny = np.array([2, 4, 6, 8, 10])\n</code></pre> <p>\u200b\u5f88\u200b\u663e\u7136\u200b\uff0c\u200b\u5c06\u200b \\(x\\) \u200b\u548c\u200b \\(y\\) \u200b\u8fdb\u884c\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u540e\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u56de\u5f52\u7cfb\u6570\u200b\u662f\u200b \\(2\\)\uff0c\u200b\u622a\u8ddd\u200b\u662f\u200b \\(0\\)\u3002</p>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#\u4f7f\u7528-nppolyfit-\u8fdb\u884c\u56de\u5f52","title":"\u4f7f\u7528\u200b <code>np.polyfit</code> \u200b\u8fdb\u884c\u200b\u56de\u5f52","text":"<p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b <code>np.polyfit</code> \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\u7684\u200b\uff1a</p> Python<pre><code>np.polyfit(x, y, deg=1)\n</code></pre> Text Only<pre><code>array([2.00000000e+00, 4.69026356e-16])\n</code></pre>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#\u4f7f\u7528-nppolynomialpolynomial-\u8fdb\u884c\u56de\u5f52","title":"\u4f7f\u7528\u200b <code>np.polynomial.Polynomial</code> \u200b\u8fdb\u884c\u200b\u56de\u5f52","text":"Python<pre><code>np.polynomial.Polynomial.fit(x, y, deg=1).coef\n</code></pre> Text Only<pre><code>array([6., 4.])\n</code></pre> <p>\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b \\(6\\) \u200b\u548c\u200b \\(4\\)\uff0c\u200b\u5e76\u200b\u4e0d\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\u3002</p> <p><code>stackoverflow \u200b\u7684\u200b\u56de\u7b54\u200b</code> \u200b\u6307\u51fa\u200b\uff0c<code>Polynomial.fit()</code> \u200b\u4f1a\u200b\u5c06\u200b\u6570\u636e\u200b\u7f29\u653e\u200b\u548c\u200b\u5e73\u79fb\u200b\u5230\u200b <code>window</code> \u200b\u53c2\u6570\u200b\u4e0a\u540e\u200b\uff0c\u200b\u518d\u200b\u8fdb\u884c\u200b\u56de\u5f52\u4f30\u8ba1\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u7684\u200b <code>window</code> \u200b\u53c2\u6570\u200b\u662f\u200b <code>array([-1.,  1.])</code>\uff1a</p> Python<pre><code>np.polynomial.Polynomial.fit(x, y, deg=1).window\n</code></pre> Text Only<pre><code>array([-1.,  1.])\n</code></pre> <p>\u200b\u4e3a\u4e86\u200b\u7406\u89e3\u200b \\(6\\) \u200b\u548c\u200b \\(4\\) \u200b\u662f\u200b\u5982\u4f55\u200b\u5f97\u5230\u200b\u7684\u200b\uff0c\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u624b\u52a8\u200b\u5c06\u200b\u6570\u636e\u200b\u7f29\u653e\u200b\u548c\u200b\u5e73\u79fb\u200b\u81f3\u200b <code>[-1.,  1.]</code>\u3002</p> <p>\u200b\u7f29\u653e\u200b\u548c\u200b\u5e73\u79fb\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e3a\u200b\uff1a</p> \\[ x' = \\frac{(x - x_{min}) * (b - a)}{x_{max} - x_{min}} + a \\] <p>\u200b\u5176\u4e2d\u200b\uff1a</p> <ul> <li>\\(x\\) \u200b\u662f\u200b\u539f\u59cb\u200b\u503c\u200b\u3002</li> <li>\\(x_{min}\\) \u200b\u548c\u200b \\(x_{max}\\) \u200b\u662f\u200b\u539f\u59cb\u200b\u8303\u56f4\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u6700\u5927\u503c\u200b\u3002</li> <li>\\(a\\) \u200b\u548c\u200b \\(b\\) \u200b\u662f\u200b\u76ee\u6807\u200b\u8303\u56f4\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u6700\u5927\u503c\u200b\u3002</li> <li>\\(x'\\) \u200b\u662f\u200b\u7f29\u653e\u200b\u540e\u200b\u7684\u200b\u503c\u200b\u3002</li> </ul> Python<pre><code>def scale_and_shift(x, target_min=-1, target_max=1):\noriginal_min = min(x)\noriginal_max = max(x)\nreturn np.array(\n[\n(i - original_min)\n* (target_max - target_min)\n/ (original_max - original_min)\n+ target_min\nfor i in x\n]\n)\nx = np.array([1, 2, 3, 4, 5])\nscaled_x = scale_and_shift(x)\nscaled_x\n</code></pre> Text Only<pre><code>array([-1. , -0.5,  0. ,  0.5,  1. ])\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c<code>[1, 2, 3, 4, 5]</code> \u200b\u7ecf\u8fc7\u200b\u7f29\u653e\u200b\u5e73\u79fb\u200b\u540e\u200b\u53d8\u6210\u200b\u4e86\u200b <code>[-1. , -0.5,  0. ,  0.5,  1. ]</code>\u3002</p> <p>\u200b\u6211\u4eec\u200b\u518d\u200b\u9488\u5bf9\u200b\u4e0b\u9762\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7528\u200b <code>np.polyfit</code> \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\uff1a</p> Python<pre><code>x = np.array([-1.0, -0.5, 0.0, 0.5, 1.0])\ny = np.array([2, 4, 6, 8, 10])\nnp.polyfit(x, y, deg=1)\n</code></pre> Text Only<pre><code>array([4., 6.])\n</code></pre> <p>\u200b\u7ed3\u679c\u8868\u660e\u200b\uff0c\u200b\u5c06\u200b <code>[1, 2, 3, 4, 5]</code> \u200b\u7ecf\u8fc7\u200b\u7f29\u653e\u200b\u5e73\u79fb\u200b\u540e\u200b\u53d8\u6210\u200b <code>[-1. , -0.5,  0. ,  0.5,  1. ]</code>\uff0c\u200b\u518d\u200b\u4e0e\u200b \\(y\\) \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u56de\u5f52\u7cfb\u6570\u200b\u662f\u200b \\(4\\)\uff0c\u200b\u622a\u8ddd\u200b\u9879\u662f\u200b \\(6\\)\u3002\u200b\u8fd9\u200b\u5c31\u662f\u200b\u4e3a\u4ec0\u4e48\u200b\u4e4b\u524d\u200b\u4f7f\u7528\u200b <code>np.polynomial.Polynomial</code> \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u4f1a\u200b\u5f97\u5230\u200b <code>array([6., 4.])</code>\u3002</p>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#\u8f6c\u6362\u4e3a\u672a\u7f29\u653e\u5e73\u79fb\u7684\u7ed3\u679c","title":"\u8f6c\u6362\u200b\u4e3a\u200b\u672a\u200b\u7f29\u653e\u200b\u5e73\u79fb\u200b\u7684\u200b\u7ed3\u679c","text":"<p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5f97\u5230\u200b\u672a\u200b\u7f29\u653e\u200b\u5e73\u79fb\u200b\u65f6\u200b\u7684\u200b\u56de\u5f52\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6709\u200b\u4e09\u79cd\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\u3002</p>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#convertcoef","title":"<code>.convert().coef</code>","text":"<p>\u200b\u7b2c\u4e00\u79cd\u200b\u662f\u200b\u4f7f\u7528\u200b <code>.convert().coef</code>\uff1a</p> <p></p> Python<pre><code>x = np.array([1, 2, 3, 4, 5])\ny = np.array([2, 4, 6, 8, 10])\nnp.polynomial.Polynomial.fit(x, y, deg=1).convert().coef\n</code></pre> Text Only<pre><code>array([-1.77635684e-15,  2.00000000e+00])\n</code></pre>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#windowxmin-xmax","title":"<code>window=(x.min(), x.max())</code>","text":"<p>\u200b\u7b2c\u4e8c\u79cd\u200b\u662f\u200b\u4f7f\u7528\u200b <code>window=(x.min(), x.max())</code>\uff1a</p> Python<pre><code>x = np.array([1, 2, 3, 4, 5])\ny = np.array([2, 4, 6, 8, 10])\nnp.polynomial.Polynomial.fit(x, y, deg=1, window=(x.min(), x.max())).coef\n</code></pre> Text Only<pre><code>array([4.49646661e-15, 2.00000000e+00])\n</code></pre>","tags":["Python"]},{"location":"blog/numpy-polynomial-linear-regression/#domain","title":"<code>domain=[]</code>","text":"<p>\u200b\u7b2c\u4e09\u79cd\u200b\u662f\u200b\u4f7f\u7528\u200b <code>domain=[]</code>\uff1a</p> Python<pre><code>x = np.array([1, 2, 3, 4, 5])\ny = np.array([2, 4, 6, 8, 10])\nnp.polynomial.Polynomial.fit(x, y, deg=1, domain=[]).coef\n</code></pre> Text Only<pre><code>array([4.49646661e-15, 2.00000000e+00])\n</code></pre>","tags":["Python"]},{"location":"blog/master-graduation/","title":"\u544a\u522b\u200b\u5b66\u751f\u200b\u65f6\u4ee3","text":"","tags":["\u751f\u6d3b"]},{"location":"blog/pypika-function/","title":"\u5728\u200b <code>pypika</code> \u200b\u4e2d\u200b\u81ea\u5b9a\u4e49\u200b SQL \u200b\u51fd\u6570","text":"<p><code>pypika</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u6784\u5efa\u200b SQL \u200b\u8bed\u53e5\u200b\u7684\u200b\u5de5\u5177\u200b\u3002\u200b\u8fd9\u200b\u7bc7\u6587\u7ae0\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5f88\u68d2\u200b\u7684\u200b\u5165\u95e8\u6559\u7a0b\u200b\uff0c\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u8bb8\u591a\u200b <code>pypika</code> \u200b\u7684\u200b\u57fa\u672c\u200b\u7528\u6cd5\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ee5\u200b ClickHouse \u200b\u4e2d\u200b\u7684\u200b <code>quantileExact</code> \u200b\u51fd\u6570\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u4ecb\u7ecd\u200b\u5982\u4f55\u200b\u5728\u200b <code>pypika</code> \u200b\u4e2d\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u5c24\u5176\u200b\u662f\u200b\u81ea\u5b9a\u4e49\u200b\u5b57\u7b26\u4e32\u200b\u62fc\u63a5\u200b\u65b9\u5f0f\u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5\u200b\u3002</p> <p></p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-function/#\u95ee\u9898\u80cc\u666f","title":"\u95ee\u9898\u200b\u80cc\u666f","text":"<p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u5728\u200b ClickHouse \u200b\u6570\u636e\u5e93\u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b\u8868\u683c\u200b <code>my_table</code>\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u6bcf\u200b\u4e00\u5929\u200b\u7684\u200b\u6bcf\u200b\u4e00\u7b14\u200b\u8d26\u5355\u200b\u91d1\u989d\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b\u6bcf\u200b\u4e00\u5929\u200b\u7684\u200b\u6240\u6709\u200b\u5355\u7b14\u200b\u8d26\u5355\u200b\u91d1\u989d\u200b\u7684\u200b 75 \u200b\u5206\u200b\u4f4d\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6784\u9020\u200b\u5982\u4e0b\u200b SQL \u200b\u8bed\u53e5\u200b\uff1a</p> SQL<pre><code>SELECT date,quantileExact(0.75)(\"amount\") amount_75th_percentile\nFROM my_table\nGROUP BY date\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>quantileExact</code> \u200b\u662f\u200b\u8ba1\u7b97\u200b\u5206\u200b\u4f4d\u6570\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u8be6\u89c1\u200b\u6587\u6863\u200b\u3002</p> <p></p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-function/#\u5931\u8d25\u65b9\u6cd5","title":"\u5931\u8d25\u200b\u65b9\u6cd5","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u5b9a\u4e49\u200b <code>CustomFunction</code>\uff0c\u200b\u5c06\u200b <code>[\"quantile\", \"value\"]</code> \u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u3002</p> Python<pre><code>import sqlparse\nfrom pygments import highlight\nfrom pygments.formatters import TerminalFormatter\nfrom pygments.lexers import SqlLexer\nfrom pypika import Field, Query, Table\nfrom pypika import CustomFunction\nQuantileExact = CustomFunction(\"quantileExact\", [\"quantile\", \"value\"])\n# \u200b\u5b9a\u4e49\u200b\u8868\u200b\nmy_table = Table(\"my_table\")\n# \u200b\u5b9a\u4e49\u200b\u67e5\u8be2\u200b\nquery = (\nQuery.from_(my_table)\n.select(\nmy_table.date,\nQuantileExact(0.75, Field(\"amount\")).as_(\"amount_75th_percentile\"),\n)\n.groupby(my_table.date)\n)\n# \u200b\u6253\u5370\u200b\u751f\u6210\u200b\u7684\u200b SQL \u200b\u67e5\u8be2\u200b\nprint(\nhighlight(\nsqlparse.format(\nquery.get_sql(quote_char=None),\nreindent=True,\nkeyword_case=\"upper\",\n),\nSqlLexer(),\nTerminalFormatter(),\n)\n)\n</code></pre> SQL<pre><code>SELECT date,quantileExact(0.75, amount) amount_75th_percentile\nFROM my_table\nGROUP BY date\n</code></pre> <p>\u200b\u4f46\u662f\u200b\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b <code>quantileExact</code> \u200b\u662f\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u653e\u5728\u200b\u4e00\u4e2a\u200b\u62ec\u53f7\u200b\u4e2d\u200b\uff0c\u200b\u5373\u200b <code>quantileExact(0.75, amount)</code>\u3002\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u662f\u200b ClickHouse \u200b\u4e2d\u200b\u7684\u200b <code>quantileExact(0.75)(\"amount\")</code> \u200b\u8c03\u7528\u200b\u7528\u6cd5\u200b\u3002</p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-function/#\u91cd\u5199-get_function_sql-\u65b9\u6cd5","title":"\u91cd\u5199\u200b <code>get_function_sql</code> \u200b\u65b9\u6cd5","text":"Python<pre><code>import sqlparse\nfrom pygments import highlight\nfrom pygments.formatters import TerminalFormatter\nfrom pygments.lexers import SqlLexer\nfrom pypika import Field, Query, Table\nfrom pypika.terms import Function\nclass QuantileExact(Function):\ndef __init__(self, quantile, field, *args, **kwargs):\nsuper(QuantileExact, self).__init__(\"quantileExact\", *args, **kwargs)\nself.quantile = quantile\nself.field = field\ndef get_function_sql(self, **kwargs) -&gt; str:\nreturn \"{name}({quantile})({field})\".format(\nname=self.name,\nquantile=self.quantile,\nfield=self.field,\n)\n# \u200b\u5b9a\u4e49\u200b\u8868\u200b\nmy_table = Table(\"my_table\")\n# \u200b\u5b9a\u4e49\u200b\u67e5\u8be2\u200b\nquery = (\nQuery.from_(my_table)\n.select(\nmy_table.date,\nQuantileExact(0.75, Field(\"amount\")).as_(\"amount_75th_percentile\"),\n)\n.groupby(my_table.date)\n)\n# \u200b\u6253\u5370\u200b\u751f\u6210\u200b\u7684\u200b SQL \u200b\u67e5\u8be2\u200b\nprint(\nhighlight(\nsqlparse.format(\nquery.get_sql(quote_char=None),\nreindent=True,\nkeyword_case=\"upper\",\n),\nSqlLexer(),\nTerminalFormatter(),\n)\n)\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u91cd\u5199\u200b\u4e86\u200b <code>get_function_sql</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u53d8\u6210\u200b <code>\"{name}({quantile})({field})\"</code> \u200b\u7684\u200b\u5f62\u5f0f\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c<code>QuantileExact(0.75, Field(\"amount\"))</code> \u200b\u5c31\u200b\u80fd\u200b\u5f97\u5230\u200b <code>quantileExact(0.75)(\"amount\")</code> \u200b\u7684\u200b SQL \u200b\u8bed\u53e5\u200b\uff0c\u200b\u4ece\u800c\u200b\u88ab\u200b ClickHouse \u200b\u6b63\u786e\u200b\u8bc6\u522b\u200b\u3002</p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-criterion-all/","title":"\u5728\u200b <code>pypika</code> \u200b\u4e2d\u200b\u4f7f\u7528\u200b <code>Criterion.all()</code> \u200b\u4f5c\u4e3a\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u5360\u4f4d\u200b\u7b26\u200b\u53ca\u5176\u200b\u6ce8\u610f\u4e8b\u9879","text":"<p><code>pypika</code> \u200b\u80fd\u591f\u200b\u901a\u8fc7\u200b\u7f16\u7a0b\u200b\u65b9\u5f0f\u200b\u52a8\u6001\u200b\u751f\u6210\u200b SQL \u200b\u67e5\u8be2\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b <code>Criterion.all()</code> \u200b\u4f5c\u4e3a\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u5360\u4f4d\u200b\u7b26\u200b\u53ca\u5176\u200b\u6ce8\u610f\u4e8b\u9879\u200b\u3002</p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-criterion-all/#\u4ec0\u4e48\u662f-criterionall","title":"\u4ec0\u4e48\u200b\u662f\u200b <code>Criterion.all()</code>\uff1f","text":"<p><code>Criterion.all()</code> \u200b\u662f\u200b <code>pypika</code> \u200b\u63d0\u4f9b\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u6761\u4ef6\u200b\uff0c\u200b\u5b83\u200b\u8868\u793a\u200b\u6240\u6709\u200b\u6761\u4ef6\u200b\u5747\u200b\u4e3a\u200b\u771f\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u7528\u200b <code>Criterion.all()</code> \u200b\u5c06\u200b\u591a\u4e2a\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u7ed3\u5408\u200b\u8d77\u6765\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u7f16\u5199\u200b <code>AND</code> \u200b\u4e86\u200b\u3002</p> Python<pre><code>from pypika import Criterion\ncustomers = Table(\"customers\")\nq = (\nQuery.from_(customers)\n.select(customers.id, customers.fname)\n.where(\nCriterion.all(\n[\ncustomers.is_registered,\ncustomers.age &gt;= 18,\ncustomers.lname == \"Jones\",\n]\n)\n)\n)\n</code></pre> SQL<pre><code>SELECT \"id\",\"fname\" FROM \"customers\" WHERE \"is_registered\" AND \"age\"&gt;=18 AND \"lname\"='Jones'\n</code></pre>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-criterion-all/#criterionall-\u4f5c\u4e3a\u7b5b\u9009\u6761\u4ef6\u5360\u4f4d\u7b26","title":"<code>Criterion.all()</code> \u200b\u4f5c\u4e3a\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u5360\u4f4d\u200b\u7b26","text":"<p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b <code>Criterion.all()</code>\uff0c\u200b\u5e76\u4e14\u200b\u62ec\u53f7\u200b\u91cc\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u8be5\u200b\u6761\u4ef6\u200b\u5bf9\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u4e0d\u200b\u65bd\u52a0\u200b\u4efb\u4f55\u200b\u8fc7\u6ee4\u200b\u3002\u200b\u8fd9\u200b\u5728\u200b\u67d0\u4e9b\u200b\u52a8\u6001\u200b\u751f\u6210\u200b\u67e5\u8be2\u200b\u7684\u200b\u573a\u666f\u200b\u4e2d\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</p> <p>\u200b\u8ba9\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\u6765\u200b\u7406\u89e3\u200b <code>Criterion.all()</code> \u200b\u7684\u200b\u4f7f\u7528\u200b\uff1a</p> Python<pre><code>from pypika import Criterion, Query, Table\n# \u200b\u5b9a\u4e49\u200b\u8868\u200b\nusers = Table(\"users\")\nfilter_boy = False\nif filter_boy:\ngender_filter = users.gender == \"boy\"\nelse:\ngender_filter = Criterion.all()\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u9996\u5148\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>users</code> \u200b\u7684\u200b\u8868\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u6839\u636e\u200b <code>filter_boy</code> \u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u52a8\u6001\u200b\u751f\u6210\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u3002\u200b\u5982\u679c\u200b <code>filter_boy</code> \u200b\u4e3a\u200b <code>True</code>\uff0c\u200b\u5219\u200b\u6027\u522b\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b\u4e3a\u200b <code>users.gender == \"boy\"</code>\uff1b\u200b\u5426\u5219\u200b\uff0c\u200b\u6027\u522b\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b\u4e3a\u200b <code>Criterion.all()</code>\uff0c\u200b\u5373\u200b\u4e0d\u200b\u8fc7\u6ee4\u200b\u6027\u522b\u200b\u6761\u4ef6\u200b\u3002</p> <p>\u200b\u968f\u540e\u200b\uff0c\u200b\u4ee3\u7801\u200b\u7ee7\u7eed\u200b\u6784\u5efa\u200b\u67e5\u8be2\u200b\uff1a</p> Python<pre><code>query = (\nQuery.from_(users)\n.select(users.name)\n.where(\ngender_filter &amp; (users.age == 18),\n)\n)\nprint(query)\n</code></pre> SQL<pre><code>SELECT \"name\" FROM \"users\" WHERE \"age\"=18\n</code></pre> <p>\u200b\u6b64\u200b\u67e5\u8be2\u200b\u4ece\u200b <code>users</code> \u200b\u8868\u4e2d\u200b\u9009\u62e9\u200b\u540d\u5b57\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5e76\u200b\u6839\u636e\u200b <code>gender_filter</code> \u200b\u548c\u200b\u5e74\u9f84\u200b\u4e3a\u200b 18 \u200b\u7684\u200b\u6761\u4ef6\u200b\u8fdb\u884c\u200b\u8fc7\u6ee4\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u793a\u4f8b\u200b\u8868\u660e\u200b\uff0c<code>Criterion.all()</code> \u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u5360\u4f4d\u200b\u7b26\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6761\u4ef6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b <code>Criterion.all()</code>\uff0c\u200b\u4ece\u800c\u200b\u6709\u6548\u200b\u5730\u200b\u8df3\u200b\u8fc7\u200b\u8be5\u200b\u6761\u4ef6\u200b\u7684\u200b\u8fc7\u6ee4\u200b\u4f5c\u7528\u200b\u3002</p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/pypika-criterion-all/#\u9519\u8bef\u4ee3\u7801\u793a\u4f8b\u53ca\u6ce8\u610f\u4e8b\u9879","title":"\u9519\u8bef\u4ee3\u7801\u200b\u793a\u4f8b\u200b\u53ca\u200b\u6ce8\u610f\u4e8b\u9879","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5bfc\u81f4\u200b\u62a5\u9519\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>query = (\nQuery.from_(users)\n.select(users.name)\n.where(\n(users.age == 18) &amp; gender_filter,\n)\n)\nprint(query)\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u5c06\u200b <code>gender_filter</code> \u200b\u653e\u5230\u200b <code>(users.age == 18)</code> \u200b\u7684\u200b\u540e\u9762\u200b\uff0c\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> Text Only<pre><code>TypeError: get_sql() got an unexpected keyword argument 'subcriterion'\n</code></pre> <p>\u200b\u7ecf\u200b\u6d4b\u8bd5\u200b\uff0c<code>Criterion.all()</code> \u200b\u53ea\u80fd\u200b\u653e\u5728\u200b <code>where</code> \u200b\u8bed\u53e5\u200b\u7684\u200b\u5f00\u5934\u200b\uff0c\u200b\u800c\u200b\u4e0d\u80fd\u200b\u653e\u5728\u200b\u67d0\u4e2a\u200b\u6761\u4ef6\u200b\u8bed\u53e5\u200b\u7684\u200b\u540e\u9762\u200b\u3002</p>","tags":["Python","\u6570\u636e\u5e93"]},{"location":"blog/papermill-execute-notebook/","title":"\u4f7f\u7528\u200b <code>papermill</code> \u200b\u8fd0\u884c\u200b Jupyter Notebook","text":"<p>\u200b\u5f53\u200b\u6267\u884c\u200b\u4e24\u4e2a\u200b\u5177\u6709\u200b\u524d\u540e\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\u7684\u200b Jupyter Notebook \u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7b49\u5f85\u200b\u7b2c\u4e00\u4e2a\u200b Notebook \u200b\u8fd0\u884c\u200b\u5b8c\u6210\u200b\uff0c\u200b\u518d\u200b\u5f00\u59cb\u8fd0\u884c\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook\u3002</p> <p>\u200b\u4e00\u4e2a\u200b\u7b28\u62d9\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff0c\u200b\u5148\u200b\u9884\u4f30\u200b\u597d\u200b\u7b2c\u4e00\u4e2a\u200b Notebook \u200b\u8fd0\u884c\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\uff08\u200b\u4f8b\u5982\u200b 1 \u200b\u5c0f\u65f6\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b Cell \u200b\u6dfb\u52a0\u200b\uff1a</p> Python<pre><code>import time\ntime.sleep(1 * 60 * 60)\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u4f7f\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u8fd0\u884c\u200b 1 \u200b\u5c0f\u65f6\u200b\u540e\u200b\uff0c\u200b\u518d\u200b\u8fd0\u884c\u200b\u540e\u7eed\u200b\u7684\u200b Cell\u3002</p> <p>\u200b\u4e0a\u8ff0\u200b\u65b9\u6cd5\u200b\u9700\u8981\u200b\u4e8b\u5148\u200b\u9884\u4f30\u200b\u7b2c\u4e00\u4e2a\u200b Notebook \u200b\u8fd0\u884c\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u9884\u4f30\u200b\u65f6\u95f4\u200b\u8fc7\u200b\u77ed\u4f1a\u200b\u5bfc\u81f4\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u63d0\u524d\u200b\u8fd0\u884c\u200b\uff0c\u200b\u9884\u4f30\u200b\u65f6\u95f4\u200b\u8fc7\u957f\u200b\u53c8\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u6d6a\u8d39\u200b\u5f88\u591a\u200b\u65f6\u95f4\u200b\u5728\u200b <code>time.sleep()</code> \u200b\u4e0a\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b <code>papermill</code> \u200b\u8fd0\u884c\u200b Jupyter Notebook\uff0c\u200b\u5b9e\u73b0\u200b\u63a7\u5236\u200b\u5148\u540e\u200b\u8fd0\u884c\u200b\u4e24\u4e2a\u200b Notebook \u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/papermill-execute-notebook/#\u5b89\u88c5-papermill","title":"\u5b89\u88c5\u200b <code>papermill</code>","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b <code>papermill</code> \u200b\u5e93\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u901a\u8fc7\u200b <code>pip</code> \u200b\u5b89\u88c5\u200b\uff1a</p> Bash<pre><code>pip install papermill\n</code></pre>","tags":["Python"]},{"location":"blog/papermill-execute-notebook/#\u793a\u4f8b\u573a\u666f","title":"\u793a\u4f8b\u200b\u573a\u666f","text":"<p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u6709\u200b\u4e24\u4e2a\u200b Jupyter Notebook\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b Notebook \u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u5305\u542b\u200b\u65e5\u671f\u200b\u7d22\u5f15\u200b\u7684\u200b pandas DataFrame\uff0c\u200b\u5e76\u200b\u5bfc\u51fa\u200b\u4e3a\u200b CSV \u200b\u6587\u4ef6\u200b\u3002\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u8bfb\u53d6\u200b\u8be5\u200b CSV \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u7ed8\u5236\u200b\u76f8\u5e94\u200b\u7684\u200b\u6298\u7ebf\u56fe\u200b\uff0c\u200b\u7136\u540e\u200b\u5bfc\u51fa\u200b\u4e3a\u200b PNG \u200b\u6587\u4ef6\u200b\u3002\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u8fd9\u200b\u4e00\u70b9\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u7b2c\u4e00\u4e2a\u200b Notebook \u200b\u4e2d\u200b\u4f7f\u7528\u200b <code>Papermill</code> \u200b\u6765\u200b\u8c03\u7528\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook\u3002</p>","tags":["Python"]},{"location":"blog/papermill-execute-notebook/#notebook-1-papermill-1ipynb","title":"Notebook 1: <code>papermill-1.ipynb</code>","text":"papermill-1.ipynb<pre><code>import time\nimport numpy as np\nimport pandas as pd\nimport papermill as pm\n# \u200b\u521b\u5efa\u200b DataFrame\ndates = pd.date_range(start=\"2020-01-01\", end=\"2020-12-31\")\nnp.random.seed(42)\ndata = np.cumsum(np.random.randn(len(dates)) + 0.1)\ndf = pd.DataFrame(data, index=dates, columns=[\"Value\"])\n# \u200b\u5c06\u200b DataFrame \u200b\u5bfc\u51fa\u200b\u4e3a\u200b CSV \u200b\u6587\u4ef6\u200b\ndf.to_csv(\"papermill-data.csv\")\ntime.sleep(2)\n# \u200b\u4f7f\u7528\u200b Papermill \u200b\u8fd0\u884c\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook\npm.execute_notebook(\ninput_path=\"papermill-2.ipynb\",\noutput_path=\"papermill-2.ipynb\",\n)\nprint(\"\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u5df2\u7ecf\u200b\u88ab\u200b\u8fd0\u884c\u200b\")\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b Notebook \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u751f\u6210\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5305\u542b\u200b\u4ece\u200b <code>2020-01-01</code> \u200b\u5230\u200b <code>2020-12-31</code> \u200b\u7684\u200b\u65e5\u671f\u200b\u7d22\u5f15\u200b\u7684\u200b DataFrame\uff0c\u200b\u6570\u636e\u200b\u4e3a\u200b\u9010\u6e10\u200b\u9012\u589e\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u3002\u200b\u7136\u540e\u200b\u5c06\u200b\u8fd9\u4e2a\u200b DataFrame \u200b\u5bfc\u51fa\u200b\u4e3a\u200b <code>data.csv</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u6700\u540e\u200b\u901a\u8fc7\u200b <code>Papermill</code> \u200b\u8c03\u7528\u200b\u5e76\u200b\u8fd0\u884c\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook\u3002</p>","tags":["Python"]},{"location":"blog/papermill-execute-notebook/#notebook-2-papermill-2ipynb","title":"Notebook 2: <code>papermill-2.ipynb</code>","text":"papermill-2.ipynb<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\n# \u200b\u8bfb\u53d6\u200b CSV \u200b\u6587\u4ef6\u200b\ndf = pd.read_csv(\"papermill-data.csv\", index_col=0, parse_dates=True)\n# \u200b\u7ed8\u5236\u200b\u6298\u7ebf\u56fe\u200b\nplt.figure(figsize=(10, 6))\nplt.plot(df.index, df[\"Value\"], label=\"Value\", color=\"b\")\nplt.title(\"Value Over Time\")\nplt.xlabel(\"Date\")\nplt.ylabel(\"Value\")\nplt.legend()\n# \u200b\u4fdd\u5b58\u200b\u6298\u7ebf\u56fe\u200b\u4e3a\u200b PNG \u200b\u6587\u4ef6\u200b\npng_file_path = \"papermill-data.png\"\nplt.savefig(png_file_path)\nplt.show()\nprint(f\"\u200b\u6298\u7ebf\u56fe\u200b\u5df2\u200b\u5bfc\u51fa\u200b\u5230\u200b {png_file_path}\")\n</code></pre> <p>\u200b\u7b2c\u4e8c\u4e2a\u200b Notebook \u200b\u8bfb\u53d6\u200b\u7b2c\u4e00\u4e2a\u200b Notebook \u200b\u751f\u6210\u200b\u7684\u200b CSV \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u7ed8\u5236\u200b\u4e00\u4e2a\u200b\u6298\u7ebf\u56fe\u200b\uff0c\u200b\u5c55\u793a\u200b\u6570\u636e\u200b\u968f\u200b\u65f6\u95f4\u200b\u7684\u200b\u53d8\u5316\u8d8b\u52bf\u200b\u3002\u200b\u6700\u540e\u200b\u5c06\u200b\u6298\u7ebf\u56fe\u200b\u4fdd\u5b58\u200b\u4e3a\u200b <code>papermill-data.png</code> \u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u8fd0\u884c\u200b <code>papermill-1.ipynb</code>\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u6309\u200b\u987a\u5e8f\u200b\u8fd0\u884c\u200b\u4e24\u4e2a\u200b Notebook\u3002</p> <p></p>","tags":["Python"]},{"location":"blog/papermill-execute-notebook/#papermill-\u7684\u66f4\u591a\u529f\u80fd","title":"<code>papermill</code> \u200b\u7684\u200b\u66f4\u200b\u591a\u529f\u80fd","text":"<p><code>papermill</code> \u200b\u7684\u200b\u5f3a\u5927\u200b\u4e4b\u200b\u5904\u200b\u4e0d\u4ec5\u200b\u5728\u4e8e\u200b\u80fd\u591f\u200b\u8fd0\u884c\u200b Jupyter Notebook\uff0c\u200b\u5b83\u200b\u8fd8\u200b\u652f\u6301\u200b\u53c2\u6570\u200b\u5316\u200b\u8fd0\u884c\u200b\u3002\u200b\u901a\u8fc7\u200b\u4f20\u9012\u200b\u53c2\u6570\u200b\uff0c<code>papermill</code> \u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u8fd0\u884c\u200b\u4e2d\u200b\u6267\u884c\u200b\u76f8\u540c\u200b\u7684\u200b Notebook\uff0c\u200b\u4f46\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u200b\u5bf9\u4e8e\u200b\u6279\u5904\u7406\u200b\u4efb\u52a1\u200b\u548c\u200b\u9700\u8981\u200b\u91cd\u590d\u200b\u5206\u6790\u200b\u7684\u200b\u573a\u666f\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</p> <p>\u200b\u66f4\u200b\u591a\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b papermill \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\u3002</p>","tags":["Python"]},{"location":"blog/fpr-tpr-recall-and-auc/","title":"\u4e8c\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u7684\u200b\u6027\u80fd\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u4e4b\u200b FPR\u3001TPR\u3001Recall \u200b\u548c\u200b AUC","text":"<p>\u200b\u5728\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u7684\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u4e2d\u200b\uff0c\u200b\u5e38\u7528\u200b\u7684\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u6709\u200b FPR\uff08\u200b\u5047\u200b\u9633\u6027\u7387\u200b\uff09\u3001TPR\uff08\u200b\u771f\u6b63\u200b\u7387\u200b\uff0c\u200b\u4e5f\u200b\u53eb\u200b Recall\uff09\u200b\u4ee5\u53ca\u200b AUC\uff08\u200b\u66f2\u7ebf\u200b\u4e0b\u200b\u9762\u79ef\u200b\uff09\u3002\u200b\u672c\u6587\u200b\u5c06\u200b\u7b80\u8981\u200b\u4ecb\u7ecd\u200b\u8fd9\u4e9b\u200b\u6307\u6807\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u5e76\u200b\u5c55\u793a\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b Python \u200b\u8ba1\u7b97\u200b\u8fd9\u4e9b\u200b\u6307\u6807\u200b\uff0c\u200b\u5e76\u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#fpr-tpr-\u548c-recall-\u7684\u5b9a\u4e49","title":"FPR, TPR \u200b\u548c\u200b Recall \u200b\u7684\u200b\u5b9a\u4e49","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#\u6df7\u6dc6\u77e9\u9635","title":"\u6df7\u6dc6\u200b\u77e9\u9635","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b \u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\uff08Confusion Matrix\uff09\uff0c\u200b\u5b83\u200b\u5c55\u793a\u200b\u4e86\u200b\u5206\u7c7b\u200b\u6a21\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u4e0e\u200b\u5b9e\u9645\u200b\u6807\u7b7e\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u3002\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u4f4d\u7f6e\u200b\u8868\u793a\u200b\u7279\u5b9a\u200b\u7c7b\u578b\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002</p> \u200b\u9884\u6d4b\u200b\u4e3a\u200b\u6b63\u7c7b\u200b (Positive) \u200b\u9884\u6d4b\u200b\u4e3a\u200b\u8d1f\u7c7b\u200b (Negative) \u200b\u771f\u5b9e\u200b\u4e3a\u200b\u6b63\u7c7b\u200b (Positive) TP (True Positive) FN (False Negative) \u200b\u771f\u5b9e\u200b\u4e3a\u200b\u8d1f\u7c7b\u200b (Negative) FP (False Positive) TN (True Negative) <ul> <li>TP (True Positive)\uff1a\u200b\u771f\u5b9e\u200b\u4e3a\u200b\u6b63\u7c7b\u200b\u4e14\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u6b63\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u6570\u91cf\u200b\u3002</li> <li>FN (False Negative)\uff1a\u200b\u771f\u5b9e\u200b\u4e3a\u200b\u6b63\u7c7b\u200b\u4f46\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u8d1f\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u6570\u91cf\u200b\u3002</li> <li>FP (False Positive)\uff1a\u200b\u771f\u5b9e\u200b\u4e3a\u200b\u8d1f\u7c7b\u200b\u4f46\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u6b63\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u6570\u91cf\u200b\u3002</li> <li>TN (True Negative)\uff1a\u200b\u771f\u5b9e\u200b\u4e3a\u200b\u8d1f\u7c7b\u200b\u4e14\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u8d1f\u7c7b\u200b\u7684\u200b\u6837\u672c\u200b\u6570\u91cf\u200b\u3002</li> </ul>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#fpr-false-positive-rate","title":"FPR (False Positive Rate):","text":"<p>\u200b\u5047\u200b\u9633\u6027\u7387\u200b\uff0c\u200b\u8868\u793a\u200b\u6a21\u578b\u200b\u5c06\u200b\u8d1f\u7c7b\u200b\u6837\u672c\u200b\u9519\u8bef\u200b\u5206\u7c7b\u200b\u4e3a\u200b\u6b63\u7c7b\u200b\u7684\u200b\u6bd4\u4f8b\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6bd4\u4f8b\u200b\u8d8a\u4f4e\u200b\u8d8a\u200b\u597d\u200b\u3002</p> \\[ FPR = \\frac{FP}{FP + TN} \\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#tpr-true-positive-rate--recall","title":"TPR (True Positive Rate) / Recall:","text":"<p>\u200b\u771f\u6b63\u200b\u7387\u200b\uff0c\u200b\u8868\u793a\u200b\u6a21\u578b\u200b\u6b63\u786e\u200b\u8bc6\u522b\u200b\u7684\u200b\u6b63\u7c7b\u200b\u6837\u672c\u200b\u7684\u200b\u6bd4\u4f8b\u200b\u3002TPR \u200b\u548c\u200b Recall \u200b\u53ec\u56de\u200b\u7387\u200b\u662f\u200b\u540c\u4e00\u4e2a\u200b\u6982\u5ff5\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6bd4\u4f8b\u200b\u8d8a\u9ad8\u8d8a\u200b\u597d\u200b\u3002</p> \\[ TPR = Recall = \\frac{TP}{TP + FN} \\]","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#roc-\u66f2\u7ebf\u548c-auc","title":"ROC \u200b\u66f2\u7ebf\u200b\u548c\u200b AUC","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#roc-\u66f2\u7ebf","title":"ROC \u200b\u66f2\u7ebf","text":"<p>ROC\uff08Receiver Operating Characteristic\uff09\u200b\u66f2\u7ebf\u200b\u662f\u200b\u901a\u8fc7\u200b\u7ed8\u5236\u200b FPR\uff08\u200b\u6a2a\u8f74\u200b\uff09\u200b\u548c\u200b TPR\uff08\u200b\u7eb5\u8f74\u200b\uff09\u200b\u6765\u200b\u8bc4\u4f30\u200b\u5206\u7c7b\u200b\u6a21\u578b\u200b\u6027\u80fd\u200b\u7684\u200b\u5de5\u5177\u200b\u3002\u200b\u5b83\u200b\u5c55\u793a\u200b\u4e86\u200b\u6a21\u578b\u200b\u5728\u200b\u4e0d\u540c\u200b\u9608\u503c\u200b\u4e0b\u200b\u7684\u200b\u8868\u73b0\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u7406\u89e3\u200b\u6a21\u578b\u200b\u5bf9\u200b\u6b63\u7c7b\u200b\u548c\u200b\u8d1f\u7c7b\u200b\u7684\u200b\u5206\u7c7b\u200b\u80fd\u529b\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#auc","title":"AUC","text":"<p>AUC\uff08Area Under Curve\uff09\u200b\u5c31\u662f\u200b ROC \u200b\u66f2\u7ebf\u200b\u4e0b\u200b\u7684\u200b\u9762\u79ef\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b 0 \u200b\u5230\u200b 1 \u200b\u4e4b\u95f4\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u53cd\u6620\u200b\u4e86\u200b\u6a21\u578b\u200b\u7684\u200b\u7efc\u5408\u200b\u8868\u73b0\u200b\u3002AUC \u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u8868\u73b0\u200b\u8d8a\u200b\u597d\u200b\u3002AUC \u200b\u4e3a\u200b 0.5 \u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b\u6a21\u578b\u200b\u7684\u200b\u8868\u73b0\u200b\u76f8\u5f53\u4e8e\u200b\u968f\u673a\u200b\u731c\u6d4b\u200b\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/fpr-tpr-recall-and-auc/#\u793a\u4f8b\u4ee3\u7801","title":"\u793a\u4f8b\u200b\u4ee3\u7801","text":"Python<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import auc, roc_curve\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.datasets import make_classification\nX, y = make_classification(\nn_samples=1000,\nn_features=20,\nn_informative=2,\nn_redundant=10,\nn_clusters_per_class=2,\nclass_sep=0.5,\nflip_y=0.1,\nrandom_state=42,\n)\n# \u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\nX_train, X_test, y_train, y_test = train_test_split(\nX, y, test_size=0.3, random_state=42\n)\n# \u200b\u8bad\u7ec3\u200b\u6a21\u578b\u200b\nmodel = LogisticRegression()\nmodel.fit(X_train, y_train)\n# \u200b\u9884\u6d4b\u200b\u6982\u7387\u200b\ny_score = model.predict_proba(X_test)[:, 1]  # \u200b\u53d6\u6b63\u7c7b\u200b\u7684\u200b\u6982\u7387\u200b\n# \u200b\u8ba1\u7b97\u200b FPR \u200b\u548c\u200b TPR\nfpr, tpr, thresholds = roc_curve(y_test, y_score)\n# \u200b\u8ba1\u7b97\u200b AUC\nroc_auc = auc(fpr, tpr)\nroc_df = pd.DataFrame(\n{\n\"thresholds\": thresholds,\n\"FPR\": fpr,\n\"TPR\": tpr,\n}\n)\ndisplay(roc_df)\n# \u200b\u7ed8\u5236\u200b ROC \u200b\u66f2\u7ebf\u200b\nplt.figure()\nplt.plot(fpr, tpr, color=\"b\", lw=2, label=\"ROC curve (area = %0.2f)\" % roc_auc)\nplt.plot([0, 1], [0, 1], color=\"gray\", linestyle=\"--\")\nplt.xlim([0.0, 1.0])\nplt.ylim([0.0, 1.05])\nplt.xlabel(\"False Positive Rate\")\nplt.ylabel(\"True Positive Rate\")\nplt.title(\"Receiver Operating Characteristic (ROC) Curve\")\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre> <p>\u200b\u7406\u89e3\u200b ROC \u200b\u66f2\u7ebf\u200b</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b\uff0c\u200b\u5728\u200b\u7ed9\u5b9a\u200b\u9884\u6d4b\u200b\u6982\u7387\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4e0d\u540c\u200b\u7684\u200b\u9608\u503c\u200b\u4f1a\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u9884\u6d4b\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u5f53\u200b\u9608\u503c\u200b\u4e3a\u200b 0 \u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u6837\u672c\u200b\u90fd\u200b\u88ab\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u8d1f\u4f8b\u200b\uff0c\u200b\u6b64\u65f6\u200b\u5bf9\u5e94\u200b ROC \u200b\u56fe\u4e2d\u200b\u7684\u200b\u5de6\u4e0b\u89d2\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5750\u6807\u8f74\u200b\u7684\u200b\u539f\u70b9\u200b\u3002\u200b\u5f53\u200b\u9608\u503c\u200b\u9010\u6e10\u200b\u4e0b\u964d\u65f6\u200b\uff0c\u200b\u8d8a\u6765\u8d8a\u200b\u591a\u200b\u7684\u200b\u6837\u672c\u200b\u4f1a\u200b\u88ab\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u6b63\u4f8b\u200b\uff0c\u200b\u56e0\u6b64\u200b True Positive Rate \u200b\u4f1a\u200b\u4e0d\u53d8\u200b\u6216\u200b\u4e0a\u5347\u200b\uff0cFalse Positive Rate \u200b\u4e5f\u200b\u4f1a\u200b\u4e0d\u53d8\u200b\u6216\u200b\u4e0a\u5347\u200b\u3002\u200b\u6700\u7ec8\u200b\u5f53\u200b\u9608\u503c\u200b\u4e3a\u200b 1 \u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u6837\u672c\u200b\u90fd\u200b\u88ab\u200b\u9884\u6d4b\u200b\u4e3a\u200b\u6b63\u4f8b\u200b\uff0c\u200b\u6b64\u65f6\u200b\u5bf9\u5e94\u200b ROC \u200b\u56fe\u4e2d\u200b\u7684\u200b\u53f3\u4e0a\u89d2\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5750\u6807\u8f74\u200b\u7684\u200b \\((1, 1)\\)\u3002</p> <p>ROC \u200b\u66f2\u7ebf\u200b\u662f\u200b\uff08\u200b\u975e\u200b\u4e25\u683c\u200b\uff09\u200b\u5355\u8c03\u200b\u9012\u589e\u200b\u7684\u200b\u3002\u200b\u5f53\u200b\u9608\u503c\u200b\u7684\u200b\u53d8\u5316\u200b\u5e45\u5ea6\u200b\u8db3\u591f\u200b\u5c0f\u65f6\u200b\uff0cROC \u200b\u66f2\u7ebf\u200b\u5c31\u200b\u4f1a\u200b\u6bd4\u8f83\u200b\u5149\u6ed1\u200b\uff0c\u200b\u5b83\u200b\u4e0b\u65b9\u200b\u7684\u200b\u9762\u79ef\u200b\u5c31\u662f\u200b AUC\u3002</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"blog/torchmetrics-CompositionalMetric/","title":"\u501f\u52a9\u200b <code>torchmetrics</code> \u200b\u7684\u200b <code>CompositionalMetric</code> \u200b\u5c06\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u7684\u200b\u6307\u6807\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570","text":"<p>\u200b\u5728\u200b\u91cf\u5316\u200b\u7814\u7a76\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8bf8\u5982\u200b <code>IC</code> \u200b\u4e00\u7c7b\u200b\u7684\u200b\u6307\u6807\u200b\u6765\u200b\u8861\u91cf\u200b\u4fe1\u53f7\u200b\u7684\u200b\u8d28\u91cf\u200b\u3002\u200b\u82e5\u200b\u5c06\u200b <code>IC</code> \u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u81ea\u7136\u200b\u662f\u200b\u5e0c\u671b\u200b\u5176\u503c\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u6a21\u578b\u200b\u7684\u200b\u4f18\u5316\u200b\u8fc7\u7a0b\u200b\u603b\u662f\u200b\u671d\u7740\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u8d8a\u200b\u5c0f\u200b\u7684\u200b\u65b9\u5411\u200b\u8fdb\u884c\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200b <code>IC</code> \u200b\u53d6\u53cd\u200b\u540e\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u503c\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6a21\u578b\u200b\u671d\u7740\u200b <code>IC</code> \u200b\u8d8a\u5927\u200b\u7684\u200b\u65b9\u5411\u200b\u4f18\u5316\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u4fbf\u6377\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u501f\u52a9\u200b <code>torchmetrics</code> \u200b\u7684\u200b <code>CompositionalMetric</code> \u200b\u5c06\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u7684\u200b\u6307\u6807\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u3002</p> Python<pre><code>pred = torch.tensor([1, 2, 3, 4]).to(torch.float32)\ntarget = torch.tensor([2, 3, 5, 10]).to(torch.float32)\nprint(\"\u200b\u539f\u59cb\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff1a\", np.corrcoef(target, pred)[0, 1])\nloss_fn = 0 - PearsonCorrCoef()\nprint(\"\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff1a\", loss_fn(pred, target))\n</code></pre> Text Only<pre><code>\u200b\u539f\u59cb\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff1a 0.9431191251430151\n\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\uff1a tensor(-0.9431)\n</code></pre>","tags":["PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/torchmetrics-CompositionalMetric/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"Python<pre><code>import numpy as np\nimport torch\nfrom torchmetrics.regression import MeanSquaredError, PearsonCorrCoef\n</code></pre>","tags":["PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/torchmetrics-CompositionalMetric/#\u76f8\u5173\u7cfb\u6570\u4e3a\u6b63\u65f6","title":"\u76f8\u5173\u7cfb\u6570\u200b\u4e3a\u200b\u6b63\u65f6","text":"<p>\u200b\u5f53\u200b\u76f8\u5173\u7cfb\u6570\u200b\u4e3a\u200b\u6b63\u65f6\u200b\uff0c\u200b\u7528\u200b <code>0 - PearsonCorrCoef()</code> \u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5f97\u5230\u200b\u8d1f\u503c\u200b\u3002</p> Python<pre><code>pred = torch.tensor([1, 2, 3, 4]).to(torch.float32)\ntarget = torch.tensor([2, 3, 5, 10]).to(torch.float32)\nnp.corrcoef(target, pred)[0, 1]\n</code></pre> Text Only<pre><code>0.9431191251430151\n</code></pre> Python<pre><code>loss_fn = PearsonCorrCoef()\nloss_fn(pred, target)\n</code></pre> Text Only<pre><code>tensor(0.9431)\n</code></pre> Python<pre><code>loss_fn = 0 - PearsonCorrCoef()\nloss_fn(pred, target)\n</code></pre> Text Only<pre><code>tensor(-0.9431)\n</code></pre>","tags":["PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/torchmetrics-CompositionalMetric/#\u76f8\u5173\u7cfb\u6570\u4e3a\u8d1f\u65f6","title":"\u76f8\u5173\u7cfb\u6570\u200b\u4e3a\u200b\u8d1f\u65f6","text":"<p>\u200b\u5f53\u200b\u76f8\u5173\u7cfb\u6570\u200b\u4e3a\u200b\u8d1f\u65f6\u200b\uff0c\u200b\u7528\u200b <code>0 - PearsonCorrCoef()</code> \u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5f97\u5230\u200b\u6b63\u503c\u200b\u3002</p> Python<pre><code>pred = torch.tensor([-2, 0, -5, -8]).to(torch.float32)\nnp.corrcoef(target, pred)[0, 1]\n</code></pre> Text Only<pre><code>-0.909826216965074\n</code></pre> Python<pre><code>loss_fn = PearsonCorrCoef()\nloss_fn(pred, target)\n</code></pre> Text Only<pre><code>tensor(-0.9098)\n</code></pre> Python<pre><code>loss_fn = 0 - PearsonCorrCoef()\nloss_fn(pred, target)\n</code></pre> Text Only<pre><code>tensor(0.9098)\n</code></pre> <p>\u200b\u67e5\u770b\u200b <code>0 - PearsonCorrCoef()</code> \u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53d1\u73b0\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b <code>CompositionalMetric</code>\u3002</p> Python<pre><code>type(0 - PearsonCorrCoef())\n</code></pre> Text Only<pre><code>torchmetrics.metric.CompositionalMetric\n</code></pre> <p>\u200b\u7528\u200b <code>0 - PearsonCorrCoef()</code> \u200b\u6784\u9020\u200b <code>CompositionalMetric</code> \u200b\u65f6\u200b\u7684\u200b <code>0</code> \u200b\u4e0d\u53ef\u200b\u7701\u7565\u200b</p> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b <code>0</code> \u200b\u662f\u200b\u5fc5\u8981\u200b\u7684\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0d\u80fd\u200b\u7528\u200b <code>-PearsonCorrCoef()</code>\u3002</p> <p>\u200b\u6839\u636e\u200b torchmetrics/metric.py \u200b\u4e2d\u200b\u7684\u200b <code>__neg__</code> \u200b\u65b9\u6cd5\u200b\uff0c<code>-PearsonCorrCoef()</code> \u200b\u4f1a\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b <code>CompositionalMetric</code>\uff0c\u200b\u5176\u4e2d\u200b <code>operator</code> \u200b\u662f\u200b <code>_neg</code>\uff0c\u200b\u5176\u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>def _neg(x: Tensor) -&gt; Tensor:\nreturn -torch.abs(x)\n</code></pre> <p>\u200b\u5982\u679c\u200b\u7f3a\u5c11\u200b\u4e86\u200b <code>0</code>\uff0c\u200b\u800c\u200b\u53ea\u7528\u200b <code>-PearsonCorrCoef()</code>\uff0c\u200b\u90a3\u4e48\u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u662f\u200b\uff1a\u200b\u5148\u200b\u8ba1\u7b97\u200b\u76ae\u5c14\u68ee\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u518d\u53d6\u200b\u7edd\u5bf9\u503c\u200b\uff0c\u200b\u6700\u540e\u200b\u53d6\u200b\u8d1f\u503c\u200b\u3002\u200b\u56e0\u6b64\u200b\u65e0\u8bba\u5982\u4f55\u200b\u90fd\u200b\u4f1a\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u975e\u200b\u6b63\u6570\u200b\uff0c\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u7684\u200b\u3002</p> Python<pre><code>loss_fn = -PearsonCorrCoef()\nloss_fn(pred, target)\n</code></pre> Text Only<pre><code>tensor(-0.9098)\n</code></pre>","tags":["PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/torchmetrics-CompositionalMetric/#\u5229\u7528\u9b54\u6cd5\u65b9\u6cd5\u5b9e\u73b0\u591a\u4e2a\u6307\u6807\u4e4b\u95f4\u7684\u7b97\u5b50","title":"\u5229\u7528\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u591a\u4e2a\u200b\u6307\u6807\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7b97\u5b50","text":"<p>\u200b\u5728\u200b <code>torchmetrics.metric</code> \u200b\u4e2d\u200b\uff0c<code>Metric</code> \u200b\u7c7b\u200b\u8fd8\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u8bb8\u591a\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5305\u62ec\u200b <code>__add__</code>\u3001<code>__sub__</code>\u3001<code>__mul__</code>\u3001<code>__abs__</code> \u200b\u7b49\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u5c31\u662f\u200b\u591a\u4e2a\u200b\u6307\u6807\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7b97\u5b50\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u8fd9\u4e9b\u200b\u7b97\u5b50\u200b\u81ea\u5b9a\u4e49\u200b\u5730\u200b\u6784\u5efa\u200b\u66f4\u52a0\u200b\u590d\u6742\u200b\u7684\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u548c\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u3002</p> Python<pre><code>loss_fn = MeanSquaredError() - 2 * PearsonCorrCoef()\nloss_fn(pred, target)\n</code></pre> Text Only<pre><code>tensor(114.0696)\n</code></pre> Python<pre><code>MeanSquaredError()(pred, target)\n</code></pre> Text Only<pre><code>tensor(112.2500)\n</code></pre> Python<pre><code>PearsonCorrCoef()(pred, target)\n</code></pre> Text Only<pre><code>tensor(-0.9098)\n</code></pre>","tags":["PyTorch","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/layer-normalization/","title":"Layer Normalization","text":"<p>\u200b\u672c\u6587\u200b\u7528\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6570\u503c\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u8bf4\u660e\u200b\u4e86\u200b LayerNorm \u200b\u7684\u200b\u4f5c\u7528\u200b\u3002</p> \\[ y = \\frac{x - \\mathrm{E}[x]}{ \\sqrt{\\mathrm{Var}[x] + \\epsilon}} * \\gamma + \\beta \\] Python<pre><code>import pytorch_lightning as pl\nimport torch\nimport torch.nn as nn\npl.seed_everything(0)\n</code></pre> Text Only<pre><code>Seed set to 0\n\n0\n</code></pre> Python<pre><code>input_tensor = torch.randint(0, 10, (2, 3, 4)).float()\ninput_tensor\n</code></pre> Text Only<pre><code>tensor([[[4., 9., 3., 0.],\n         [3., 9., 7., 3.],\n         [7., 3., 1., 6.]],\n\n        [[6., 9., 8., 6.],\n         [6., 8., 4., 3.],\n         [6., 9., 1., 4.]]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/layer-normalization/#\u67e5\u770b-layernorm-\u7684\u6548\u679c","title":"\u67e5\u770b\u200b LayerNorm \u200b\u7684\u200b\u6548\u679c","text":"","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/layer-normalization/#normalized_shape-\u6307\u5b9a\u4e3a\u6700\u540e\u4e00\u7ef4\u7279\u5f81","title":"<code>normalized_shape</code> \u200b\u6307\u5b9a\u200b\u4e3a\u200b\u6700\u540e\u200b\u4e00\u7ef4\u200b\u7279\u5f81","text":"<p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u4ee5\u200b <code>normalized_shape</code> \u200b\u4e3a\u200b <code>4</code> \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u9a8c\u8bc1\u200b LayerNorm \u200b\u7684\u200b\u6548\u679c\u200b\u3002</p> <p><code>normalized_shape</code> \u200b\u4e3a\u200b <code>4</code> \u200b\u65f6\u200b\uff0c\u200b\u610f\u5473\u7740\u200b\u5bf9\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u7684\u200b 4 \u200b\u4e2a\u200b\u5143\u7d20\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u3002</p> <p>\u200b\u4ee5\u200b\u4e0a\u8ff0\u200b\u8f93\u5165\u200b\u5f20\u91cf\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u5bf9\u200b <code>[4., 9., 3., 0.]</code> \u200b\u8fd9\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u3002</p> Python<pre><code>layer_norm = nn.LayerNorm(4)\n</code></pre> Python<pre><code>output_tensor = layer_norm(input_tensor)\noutput_tensor\n</code></pre> Text Only<pre><code>tensor([[[ 0.0000,  1.5430, -0.3086, -1.2344],\n         [-0.9622,  1.3471,  0.5773, -0.9622],\n         [ 1.1531, -0.5241, -1.3628,  0.7338]],\n\n        [[-0.9622,  1.3471,  0.5773, -0.9622],\n         [ 0.3906,  1.4321, -0.6509, -1.1717],\n         [ 0.3430,  1.3720, -1.3720, -0.3430]]],\n       grad_fn=&lt;NativeLayerNormBackward0&gt;)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/layer-normalization/#\u624b\u52a8\u9a8c\u8bc1\u7ed3\u679c","title":"\u624b\u52a8\u200b\u9a8c\u8bc1\u200b\u7ed3\u679c","text":"Python<pre><code>input_tensor.mean(dim=2, keepdim=True)\n</code></pre> Text Only<pre><code>tensor([[[4.0000],\n         [5.5000],\n         [4.2500]],\n\n        [[7.2500],\n         [5.2500],\n         [5.0000]]])\n</code></pre> Python<pre><code>input_tensor.std(dim=2, unbiased=False, keepdim=True)\n</code></pre> Text Only<pre><code>tensor([[[3.2404],\n         [2.5981],\n         [2.3848]],\n\n        [[1.2990],\n         [1.9203],\n         [2.9155]]])\n</code></pre> Python<pre><code>(input_tensor - input_tensor.mean(dim=2, keepdim=True)) / (\ninput_tensor.std(dim=2, unbiased=False, keepdim=True) + 1e-5\n)\n</code></pre> Text Only<pre><code>tensor([[[ 0.0000,  1.5430, -0.3086, -1.2344],\n         [-0.9622,  1.3471,  0.5773, -0.9622],\n         [ 1.1531, -0.5241, -1.3628,  0.7338]],\n\n        [[-0.9622,  1.3471,  0.5773, -0.9622],\n         [ 0.3906,  1.4321, -0.6509, -1.1717],\n         [ 0.3430,  1.3720, -1.3720, -0.3430]]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/layer-normalization/#normalized_shape-\u6307\u5b9a\u4e3a\u6700\u540e\u4e24\u7ef4\u7279\u5f81","title":"<code>normalized_shape</code> \u200b\u6307\u5b9a\u200b\u4e3a\u200b\u6700\u540e\u200b\u4e24\u7ef4\u200b\u7279\u5f81","text":"<p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u4ee5\u200b <code>normalized_shape</code> \u200b\u4e3a\u200b <code>[3, 4]</code> \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u9a8c\u8bc1\u200b LayerNorm \u200b\u7684\u200b\u6548\u679c\u200b\u3002</p> <p><code>normalized_shape</code> \u200b\u4e3a\u200b <code>[3, 4]</code> \u200b\u65f6\u200b\uff0c\u200b\u610f\u5473\u7740\u200b\u5bf9\u200b\u6700\u540e\u200b\u4e24\u4e2a\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u7684\u200b 3 \u200b\u884c\u200b 4 \u200b\u5217\u200b\u7684\u200b\u5143\u7d20\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u3002</p> <p>\u200b\u4ee5\u200b\u4e0a\u8ff0\u200b\u8f93\u5165\u200b\u5f20\u91cf\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u5bf9\u200b</p> Text Only<pre><code>[[4., 9., 3., 0.],\n [3., 9., 7., 3.],\n [7., 3., 1., 6.]]\n</code></pre> <p>\u200b\u8fdb\u884c\u200b\u6807\u51c6\u5316\u200b\u3002</p> Python<pre><code>layer_norm = nn.LayerNorm([3, 4])\n</code></pre> Python<pre><code>output_tensor = layer_norm(input_tensor)\noutput_tensor\n</code></pre> Text Only<pre><code>tensor([[[-0.2053,  1.5541, -0.5571, -1.6128],\n         [-0.5571,  1.5541,  0.8504, -0.5571],\n         [ 0.8504, -0.5571, -1.2609,  0.4985]],\n\n        [[ 0.0702,  1.3335,  0.9124,  0.0702],\n         [ 0.0702,  0.9124, -0.7720, -1.1932],\n         [ 0.0702,  1.3335, -2.0354, -0.7720]]],\n       grad_fn=&lt;NativeLayerNormBackward0&gt;)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/layer-normalization/#\u624b\u52a8\u9a8c\u8bc1\u7ed3\u679c_1","title":"\u624b\u52a8\u200b\u9a8c\u8bc1\u200b\u7ed3\u679c","text":"Python<pre><code>input_tensor.mean(dim=(1, 2), keepdim=True)\n</code></pre> Text Only<pre><code>tensor([[[4.5833]],\n\n        [[5.8333]]])\n</code></pre> Python<pre><code>input_tensor.std(dim=(1, 2), unbiased=False, keepdim=True)\n</code></pre> Text Only<pre><code>tensor([[[2.8419]],\n\n        [[2.3746]]])\n</code></pre> Python<pre><code>(input_tensor - input_tensor.mean(dim=(1, 2), keepdim=True)) / (\ninput_tensor.std(dim=(1, 2), unbiased=False, keepdim=True) + 1e-5\n)\n</code></pre> Text Only<pre><code>tensor([[[-0.2053,  1.5541, -0.5571, -1.6128],\n         [-0.5571,  1.5541,  0.8504, -0.5571],\n         [ 0.8504, -0.5571, -1.2609,  0.4985]],\n\n        [[ 0.0702,  1.3335,  0.9124,  0.0702],\n         [ 0.0702,  0.9124, -0.7720, -1.1932],\n         [ 0.0702,  1.3335, -2.0354, -0.7720]]])\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/layer-normalization/#gamma-\u548c-beta","title":"\\(\\gamma\\) \u200b\u548c\u200b \\(\\beta\\)","text":"<p>\u200b\u5728\u200b LayerNorm \u200b\u4e2d\u200b\uff0c\\(\\gamma\\) \u200b\u548c\u200b \\(\\beta\\) \u200b\u662f\u200b\u53ef\u200b\u5b66\u4e60\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u6807\u51c6\u5316\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7f29\u653e\u200b\u548c\u200b\u5e73\u79fb\u200b\u3002</p> <p>\\(\\gamma\\) \u200b\u548c\u200b \\(\\beta\\) \u200b\u7684\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b 1 \u200b\u548c\u200b 0\uff0c\u200b\u7ef4\u6570\u200b\u548c\u200b <code>normalized_shape</code> \u200b\u4e00\u81f4\u200b\u3002</p> Python<pre><code>layer_norm = nn.LayerNorm(4)\nprint(layer_norm.weight)\nprint(layer_norm.bias)\n</code></pre> Text Only<pre><code>Parameter containing:\ntensor([1., 1., 1., 1.], requires_grad=True)\nParameter containing:\ntensor([0., 0., 0., 0.], requires_grad=True)\n</code></pre> Python<pre><code>layer_norm = nn.LayerNorm([3, 4])\nprint(layer_norm.weight)\nprint(layer_norm.bias)\n</code></pre> Text Only<pre><code>Parameter containing:\ntensor([[1., 1., 1., 1.],\n        [1., 1., 1., 1.],\n        [1., 1., 1., 1.]], requires_grad=True)\nParameter containing:\ntensor([[0., 0., 0., 0.],\n        [0., 0., 0., 0.],\n        [0., 0., 0., 0.]], requires_grad=True)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/concatdataset-stackdataset/","title":"ConcatDataset \u200b\u548c\u200b StackDataset","text":"<p>\u200b\u5728\u200b PyTorch \u200b\u4e2d\u200b\uff0c<code>ConcatDataset</code> \u200b\u548c\u200b <code>StackDataset</code> \u200b\u662f\u200b\u4e24\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\u7ec4\u5408\u200b\u65b9\u5f0f\u200b\u3002\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5b83\u4eec\u200b\u7684\u200b\u4f5c\u7528\u200b\u53ca\u5176\u200b\u9002\u7528\u200b\u573a\u666f\u200b\u3002</p> Python<pre><code># \u200b\u4f7f\u7528\u200b ConcatDataset \u200b\u8fde\u63a5\u200b\u6570\u636e\u200b\u96c6\u200b\nconcat_dataset = ConcatDataset([dataset1, dataset2])\n# \u200b\u904d\u5386\u200b ConcatDataset\nfor sample in concat_dataset:\nprint(sample)\n</code></pre> Text Only<pre><code>1\n2\n3\n4\n5\n6\n</code></pre> Python<pre><code># \u200b\u4f7f\u7528\u200b StackDataset \u200b\u7ec4\u5408\u200b\u6570\u636e\u200b\u96c6\u200b\nstack_dataset = StackDataset(dataset1, dataset2)\n# \u200b\u904d\u5386\u200b StackDataset\nfor sample in stack_dataset:\nprint(sample)\n</code></pre> Text Only<pre><code>(1, 4)\n(2, 5)\n(3, 6)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/concatdataset-stackdataset/#\u4f5c\u7528","title":"\u4f5c\u7528","text":"","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/concatdataset-stackdataset/#concatdataset","title":"ConcatDataset","text":"<ul> <li>\u200b\u5c06\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\u96c6\u200b\u6309\u200b\u987a\u5e8f\u200b\u62fc\u63a5\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u66f4\u5927\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\u3002</li> <li>\u200b\u904d\u200b\u5386\u65f6\u200b\u987a\u5e8f\u200b\u8bbf\u95ee\u200b\u6bcf\u4e2a\u200b\u5b50\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u6240\u6709\u200b\u6837\u672c\u200b\u3002</li> <li>\u200b\u4f8b\u5982\u200b\uff0c<code>ConcatDataset([dataset1, dataset2])</code> \u200b\u4f1a\u5148\u200b\u904d\u5386\u200b <code>dataset1</code>\uff0c\u200b\u518d\u200b\u904d\u5386\u200b <code>dataset2</code>\u3002</li> <li>\u200b\u9002\u7528\u200b\u4e8e\u200b\u9700\u8981\u200b\u5408\u5e76\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\u96c6\u200b\u4e3a\u200b\u5355\u4e00\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002</li> </ul>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/concatdataset-stackdataset/#stackdataset","title":"StackDataset","text":"<ul> <li>\u200b\u5c06\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\u96c6\u200b\u7684\u200b\u6837\u672c\u200b\u6309\u200b\u7d22\u5f15\u200b\u4e00\u4e00\u5bf9\u5e94\u200b\u7ec4\u5408\u200b\u3002</li> <li>\u200b\u904d\u200b\u5386\u65f6\u200b\u540c\u65f6\u200b\u4ece\u200b\u6bcf\u4e2a\u200b\u5b50\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b\u53d6\u51fa\u200b\u76f8\u540c\u200b\u7d22\u5f15\u200b\u7684\u200b\u6837\u672c\u200b\uff0c\u200b\u5e76\u200b\u7ec4\u5408\u6210\u200b\u5143\u7ec4\u200b\u6216\u200b\u5217\u8868\u200b\u3002</li> <li>\u200b\u4f8b\u5982\u200b\uff0c<code>StackDataset(dataset1, dataset2)</code> \u200b\u4f1a\u200b\u8fd4\u56de\u200b <code>(sample1, sample2)</code>\uff0c\u200b\u5176\u4e2d\u200b <code>sample1</code> \u200b\u6765\u81ea\u200b <code>dataset1</code>\uff0c<code>sample2</code> \u200b\u6765\u81ea\u200b <code>dataset2</code>\u3002</li> <li>\u200b\u9002\u7528\u200b\u4e8e\u200b\u9700\u8981\u200b\u540c\u65f6\u200b\u5904\u7406\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\u96c6\u200b\u6837\u672c\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5982\u200b\u6df7\u5408\u200b\u9891\u7387\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\u3002</li> </ul>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/concatdataset-stackdataset/#\u4ee3\u7801\u793a\u4f8b","title":"\u4ee3\u7801\u200b\u793a\u4f8b","text":"Python<pre><code>import torch\nfrom torch.utils.data import ConcatDataset, Dataset, StackDataset\n# \u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\nclass SimpleDataset(Dataset):\ndef __init__(self, data):\nself.data = data\ndef __len__(self):\nreturn len(self.data)\ndef __getitem__(self, idx):\nreturn self.data[idx]\n# \u200b\u6570\u636e\u200b\u96c6\u200b 1\ndataset1 = SimpleDataset([1, 2, 3])\n# \u200b\u6570\u636e\u200b\u96c6\u200b 2\ndataset2 = SimpleDataset([4, 5, 6])\n</code></pre> Python<pre><code># \u200b\u4f7f\u7528\u200b ConcatDataset \u200b\u8fde\u63a5\u200b\u6570\u636e\u200b\u96c6\u200b\nconcat_dataset = ConcatDataset([dataset1, dataset2])\n# \u200b\u904d\u5386\u200b ConcatDataset\nfor sample in concat_dataset:\nprint(sample)\n</code></pre> Text Only<pre><code>1\n2\n3\n4\n5\n6\n</code></pre> Python<pre><code># \u200b\u4f7f\u7528\u200b StackDataset \u200b\u7ec4\u5408\u200b\u6570\u636e\u200b\u96c6\u200b\nstack_dataset = StackDataset(dataset1, dataset2)\n# \u200b\u904d\u5386\u200b StackDataset\nfor sample in stack_dataset:\nprint(sample)\n</code></pre> Text Only<pre><code>(1, 4)\n(2, 5)\n(3, 6)\n</code></pre>","tags":["PyTorch","\u6df1\u5ea6\u5b66\u4e60"]},{"location":"blog/spring-in-2025/","title":"\u7528\u200b\u7167\u7247\u200b\u7559\u4f4f\u200b\u8bb0\u5fc6","text":"\u6c34\u4e0a\u200b\u5212\u8239\u200b <p>\u200b\u5728\u200b\u4e16\u7eaa\u200b\u516c\u56ed\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6e38\u4e50\u56ed\u200b\uff0c\u200b\u8fdb\u95e8\u5904\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6c34\u4e0a\u200b\u5212\u8239\u200b\u3002</p> <p>\u200b\u6211\u200b\u6709\u6b21\u200b\u8def\u8fc7\u200b\uff0c\u200b\u60f3\u8d77\u200b\u81ea\u5df1\u200b\u5728\u200b\u51e0\u5c81\u200b\u7684\u200b\u65f6\u5019\u200b\u4e5f\u200b\u5728\u200b\u5cb3\u5c4f\u200b\u516c\u56ed\u200b\u91cc\u200b\u73a9\u200b\u8fc7\u200b\u8fd9\u4e2a\u200b\u3002\u200b\u90a3\u5929\u200b\u4e0b\u5348\u200b\uff0c\u200b\u73a9\u200b\u7684\u200b\u5c0f\u5b69\u5b50\u200b\u6bd4\u8f83\u200b\u5c11\u200b\uff0c\u200b\u8001\u677f\u200b\u89c1\u200b\u6211\u200b\u559c\u6b22\u200b\u73a9\u200b\u5c31\u200b\u4e00\u76f4\u200b\u8ba9\u200b\u6211\u200b\u5728\u200b\u7ee7\u7eed\u200b\u5728\u200b\u91cc\u9762\u200b\u5212\u200b\u3002\u200b\u6211\u200b\u73a9\u200b\u5f97\u200b\u592a\u200b\u8ba4\u771f\u200b\u4e86\u200b\uff0c\u200b\u5212\u200b\u5f97\u624b\u200b\u90fd\u200b\u8d77\u200b\u8327\u200b\u4e86\u200b\u624d\u200b\u51fa\u6765\u200b\u3002\u200b\u7238\u5988\u200b\u548c\u200b\u6211\u200b\u90fd\u200b\u4e00\u76f4\u200b\u8bb0\u5f97\u200b\u8fd9\u4ef6\u200b\u4e8b\u200b\uff0c\u200b\u5e76\u4f1a\u200b\u62ff\u200b\u6b64\u4e8b\u200b\u8c03\u4f83\u200b\u6253\u8da3\u200b\u3002\u200b\u4f46\u200b\u53ef\u60dc\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f53\u65f6\u200b\u6ca1\u6709\u200b\u8bbe\u5907\u200b\u80fd\u591f\u200b\u62cd\u7167\u200b\u8bb0\u5f55\u200b\u8fd9\u4e00\u200b\u5e78\u798f\u200b\u53c8\u200b\u6709\u8da3\u200b\u7684\u200b\u8bb0\u5fc6\u200b\u3002</p> <p>\u200b\u6bcf\u6b21\u200b\u8def\u8fc7\u200b\u6e38\u4e50\u56ed\u200b\u95e8\u53e3\u200b\u65f6\u200b\uff0c\u200b\u6211\u200b\u90fd\u200b\u5f88\u200b\u7fa1\u6155\u200b\u90a3\u4e9b\u200b\u7ed9\u200b\u81ea\u5df1\u200b\u5c0f\u5b69\u5b50\u200b\u62cd\u7167\u200b\u7684\u200b\u5bb6\u957f\u200b\u4eec\u200b\uff0c\u200b\u4e5f\u200b\u611f\u53f9\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u65f6\u4ee3\u200b\u8bb0\u5f55\u200b\u5e78\u798f\u200b\u65f6\u523b\u200b\u7ec8\u4e8e\u200b\u4e0d\u518d\u200b\u662f\u200b\u4ef6\u200b\u56f0\u96be\u200b\u548c\u200b\u5962\u4f88\u200b\u7684\u200b\u4e8b\u200b\u3002</p> <p> </p> \u200b\u7ec6\u96e8\u200b\u4e2d\u200b\u7684\u200b\u897f\u6e56\u200b <p> </p> \u200b\u96f7\u5cf0\u5854\u200b <p> </p> \u200b\u53e4\u57c3\u53ca\u200b\u6587\u660e\u200b\u5927\u5c55\u200b <p> </p> \u200b\u7ea2\u200b\u7389\u5170\u200b <p> </p> \u200b\u6253\u5370\u200b\u7684\u200b\u7167\u7247\u200b\u6709\u200b\u4e00\u4e9b\u200b\u504f\u8272","tags":["\u751f\u6d3b"]},{"location":"blog/learn-rust/","title":"\u5b66\u4e60\u200b Rust","text":"<p>\u200b\u6700\u8fd1\u200b\u5b66\u4e60\u200b\u4e86\u200b Rust\u3002\u200b\u4e00\u76f4\u200b\u542c\u8bf4\u200b Rust \u200b\u6548\u7387\u9ad8\u200b\uff0c\u200b\u4ece\u200b<code>ruff</code> \u200b\u548c\u200b <code>uv</code> \u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u57fa\u4e8e\u200b Rust \u200b\u5b9e\u73b0\u200b\u7684\u200b\u5de5\u5177\u200b\u5f00\u59cb\u200b\u5bf9\u200b Rust \u200b\u5370\u8c61\u200b\u6df1\u523b\u200b\uff0c\u200b\u81ea\u5df1\u200b\u4eb2\u8eab\u200b\u4f53\u4f1a\u200b\u8fc7\u200b\u5b83\u200b\u7684\u200b\u8bed\u6cd5\u200b\u7ec6\u8282\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5bf9\u200b\u5b83\u200b\u4e3a\u4ec0\u4e48\u200b\u5feb\u200b\u3001\u200b\u4e3a\u4ec0\u4e48\u200b\u201c\u200b\u5b89\u5168\u200b\u201d\uff0c\u200b\u603b\u7b97\u200b\u6709\u200b\u4e86\u200b\u4e00\u70b9\u200b\u7406\u89e3\u200b\u3002</p> <p>\u200b\u63a8\u8350\u200b\u4e00\u4e0b\u200b <code>rustlings</code> \u200b\u8fd9\u4e2a\u200b\u5b66\u4e60\u200b Rust \u200b\u7684\u200b\u9879\u76ee\u200b\u3002\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u5c31\u662f\u200b\u89e3\u51b3\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u95ee\u9898\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u5728\u200b\u5c0f\u200b\u7ec3\u4e60\u200b\u4e2d\u200b\u4fee\u6539\u200b\u4ee3\u7801\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u6bd4\u200b\u4ece\u5934\u5230\u5c3e\u200b\u8bfb\u200b\u6559\u7a0b\u200b\u8981\u200b\u6709\u8da3\u200b\u548c\u200b\u6709\u200b\u6210\u5c31\u611f\u200b\u5f97\u200b\u591a\u200b\u3002\u200b\u7ed3\u5408\u200b\u300aRust \u200b\u8bed\u8a00\u200b\u5723\u7ecf\u200b\u300b\u200b\u8fd9\u4e2a\u200b\u4f18\u79c0\u200b\u7684\u200b\u6559\u7a0b\u200b\u98df\u7528\u200b\uff0c\u200b\u6548\u679c\u200b\u751a\u4f73\u200b\u3002</p> <p></p> <p>\u200b\u5c31\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u6765\u8bf4\u200b\uff0c\u200b\u6211\u200b\u89c9\u5f97\u200b\u4ece\u200b\u5165\u95e8\u200b\u5230\u200b\u719f\u7ec3\u638c\u63e1\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5c31\u662f\u200b\uff1a</p> <ul> <li>\u200b\u9996\u5148\u200b\u80fd\u770b\u61c2\u200b\u4ee3\u7801\u200b\u3002\u200b\u8fd9\u662f\u200b\u9700\u8981\u200b\u4ed8\u51fa\u200b\u65f6\u95f4\u200b\u6765\u200b\u624e\u5b9e\u200b\u5b66\u4e60\u200b\u7684\u200b\u3002</li> <li>\u200b\u7136\u540e\u200b\u80fd\u200b\u5199\u51fa\u200b\u6b63\u786e\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u5728\u200b AI \u200b\u7684\u200b\u5e2e\u52a9\u200b\u4e0b\u200b\u5c06\u200b\u53d8\u5f97\u200b\u8d8a\u6765\u8d8a\u200b\u4fbf\u5229\u200b\u3002\u200b\u4f46\u200b\u201c\u200b\u770b\u200b\u61c2\u200b\u4ee3\u7801\u200b\u201d\u200b\u7684\u200b\u80fd\u529b\u200b\u4ecd\u7136\u200b\u91cd\u8981\u200b\uff0c\u200b\u8fd9\u6837\u200b\u624d\u80fd\u200b\u5f15\u5bfc\u200b AI \u200b\u5199\u51fa\u200b\u6b63\u786e\u200b\u5730\u200b\u4ee3\u7801\u200b\u3002</li> <li>\u200b\u7ecf\u9a8c\u4e30\u5bcc\u200b\u7684\u200b\u7a0b\u5e8f\u5458\u200b\u89c1\u591a\u8bc6\u5e7f\u200b\uff0c\u200b\u719f\u6089\u200b\u5404\u79cd\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b\uff0c\u200b\u80fd\u200b\u8bc4\u4ef7\u200b\u4e00\u6bb5\u200b\u4ee3\u7801\u200b\u5199\u5f97\u200b\u597d\u4e0d\u597d\u200b\u3001\u200b\u662f\u5426\u200b\u6709\u200b\u66f4\u597d\u200b\u7684\u200b\u505a\u6cd5\u200b\u3002</li> </ul> <p></p>","tags":["Rust"]},{"location":"blog/life-dump-may-2025/","title":"\u751f\u6d3b\u200b\u5b58\u6863","text":"\u56de\u5230\u200b 2000 \u200b\u56de\u5230\u200b 2000 \u200b\u56de\u5230\u200b 2000 \u200b\u706f\u5149\u200b\u79c0\u200b \u200b\u4eba\u200b\u4e5f\u200b\u592a\u597d\u4e86\u200b\u5427","tags":["\u751f\u6d3b"]},{"location":"blog/pandas-rolling-exponential-weighted-standard-deviation/","title":"pandas rolling exponential \u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6807\u51c6\u5dee\u200b\u4f1a\u53d7\u200b\u8d77\u70b9\u200b\u5f71\u54cd","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b <code>rolling(win_type=\"exponential\").std()</code> \u200b\u8ba1\u7b97\u200b\u6807\u51c6\u5dee\u200b\u65f6\u200b\uff0c\u200b\u7ed3\u679c\u200b\u53ef\u80fd\u200b\u4f1a\u53d7\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p> <p>\u200b\u672c\u6587\u200b\u5c06\u200b\u901a\u8fc7\u200b\u51e0\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff0c\u200b\u63a2\u7a76\u200b\u6570\u636e\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\uff08\u200b\u901a\u8fc7\u200b <code>iloc[1:]</code> \u200b\u624b\u52a8\u200b\u6784\u9020\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\u8fdb\u884c\u200b\u6a21\u62df\u200b\uff09\u200b\u5bf9\u200b Pandas <code>rolling(win_type=\"exponential\").std()</code> \u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u4e25\u683c\u63a7\u5236\u200b\u6eda\u52a8\u200b\u56de\u770b\u200b\u7a97\u53e3\u200b\uff0c\u200b\u4ee5\u200b\u83b7\u5f97\u200b\u4e00\u81f4\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-rolling-exponential-weighted-standard-deviation/#\u6784\u9020\u6a21\u62df\u6570\u636e","title":"\u6784\u9020\u200b\u6a21\u62df\u200b\u6570\u636e","text":"<p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u6784\u9020\u200b\u4e00\u4e2a\u200b\u5305\u542b\u200b 20 \u200b\u4e2a\u200b\u968f\u673a\u6570\u200b\u7684\u200b\u7b80\u5355\u200b Series \u200b\u4f5c\u4e3a\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\uff1a</p> Python<pre><code>import pandas as pd\nimport numpy as np\nnp.random.seed(0)\ndf_raw = pd.DataFrame(np.random.randn(20), columns=[\"values\"])\nprint(df_raw)\n</code></pre> Text Only<pre><code>      values\n0   1.764052\n1   0.400157\n2   0.978738\n3   2.240893\n4   1.867558\n5  -0.977278\n6   0.950088\n7  -0.151357\n8  -0.103219\n9   0.410599\n10  0.144044\n11  1.454274\n12  0.761038\n13  0.121675\n14  0.443863\n15  0.333674\n16  1.494079\n17 -0.205158\n18  0.313068\n19 -0.854096\n</code></pre>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-rolling-exponential-weighted-standard-deviation/#\u6eda\u52a8\u7b49\u6743\u8ba1\u7b97\u6807\u51c6\u5dee","title":"\u6eda\u52a8\u200b\u7b49\u6743\u200b\u8ba1\u7b97\u200b\u6807\u51c6\u5dee","text":"<p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b <code>rolling(window=10, min_periods=10).std()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5206\u522b\u200b\u5728\u200b\u539f\u59cb\u6570\u636e\u200b <code>df_raw</code> \u200b\u548c\u200b\u5c06\u200b\u5176\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\uff08\u200b\u5373\u200b <code>df_raw.iloc[1:]</code>\uff09\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> Python<pre><code># \u200b\u4ee3\u7801\u200b 1\ndf = df_raw.copy()\nres_1 = df[\"values\"].rolling(window=10, min_periods=10).std().rename(\"res_1\")\n</code></pre> Python<pre><code># \u200b\u4ee3\u7801\u200b 2\ndf = df_raw.copy()\ndf = df.iloc[1:]\nres_2 = df[\"values\"].rolling(window=10, min_periods=10).std().rename(\"res_2\")\n</code></pre> <p>\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u7ed3\u679c\u200b\u5408\u5e76\u200b\u67e5\u770b\u200b\uff1a</p> Python<pre><code>pd.concat([res_1, res_2], axis=1)\n</code></pre> Text Only<pre><code>       res_1     res_2\n0        NaN       NaN\n1        NaN       NaN\n2        NaN       NaN\n3        NaN       NaN\n4        NaN       NaN\n5        NaN       NaN\n6        NaN       NaN\n7        NaN       NaN\n8        NaN       NaN\n9   1.019391       NaN\n10  0.965520  0.965520\n11  1.001074  1.001074\n12  0.996245  0.996245\n13  0.834837  0.834837\n14  0.671154  0.671154\n15  0.498640  0.498640\n16  0.583373  0.583373\n17  0.590163  0.590163\n18  0.557819  0.557819\n19  0.709826  0.709826\n</code></pre> <p>\u200b\u89c2\u5bdf\u200b\uff1a</p> <ul> <li>\u200b\u7531\u4e8e\u200b\u8bbe\u7f6e\u200b\u4e86\u200b <code>min_periods=10</code>\uff0c\u200b\u524d\u200b 9 \u200b\u4e2a\u200b\u7ed3\u679c\u200b\u5747\u200b\u4e3a\u200b <code>NaN</code>.</li> <li>\u200b\u539f\u59cb\u6570\u636e\u200b <code>res_1</code> \u200b\u5728\u200b\u7d22\u5f15\u200b <code>9</code> \u200b\u5904\u200b\u5f97\u5230\u200b\u4e86\u200b\u7b2c\u4e00\u4e2a\u200b\u6709\u6548\u503c\u200b <code>1.019391</code>.</li> <li>\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b <code>res_2</code> \u200b\u7531\u4e8e\u200b\u6570\u636e\u200b\u6574\u4f53\u200b\u5411\u200b\u540e\u200b\u79fb\u52a8\u200b\u4e86\u200b\u4e00\u4f4d\u200b\uff0c\u200b\u5728\u200b\u7d22\u5f15\u200b <code>9</code> \u200b\u5904\u200b\u4ecd\u200b\u4e3a\u200b <code>NaN</code>.</li> <li>\u200b\u4ece\u200b\u7d22\u5f15\u200b <code>10</code> \u200b\u5f00\u59cb\u200b\uff0c<code>res_1</code> \u200b\u548c\u200b <code>res_2</code> \u200b\u7684\u200b\u7ed3\u679c\u200b\u5b8c\u5168\u4e00\u81f4\u200b\u3002</li> </ul>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-rolling-exponential-weighted-standard-deviation/#\u6eda\u52a8\u6307\u6570\u52a0\u6743\u8ba1\u7b97\u6807\u51c6\u5dee","title":"\u6eda\u52a8\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u8ba1\u7b97\u200b\u6807\u51c6\u5dee","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u7a97\u53e3\u200b (<code>win_type=\"exponential\"</code>) \u200b\u8fdb\u884c\u200b\u6eda\u52a8\u200b\u6807\u51c6\u5dee\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u540c\u6837\u200b\u5bf9\u6bd4\u200b\u539f\u59cb\u6570\u636e\u200b\u548c\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u6211\u4eec\u200b\u8bbe\u7f6e\u200b <code>window=10</code> \u200b\u548c\u200b <code>min_periods=10</code>\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b <code>center=0</code>, <code>tau=-5 / np.log(2), sym=False</code> \u200b\u53c2\u6570\u200b\u6765\u200b\u6a21\u62df\u200b\u56de\u770b\u200b\u7a97\u53e3\u200b\u4e3a\u200b 10\u3001\u200b\u534a\u8870\u671f\u200b\u4e3a\u200b 5 \u200b\u7684\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u3002</p> Python<pre><code># \u200b\u4ee3\u7801\u200b 3\ndf = df_raw.copy()\nres_3 = (\ndf[\"values\"]\n.rolling(window=10, min_periods=10, win_type=\"exponential\")\n.std(center=0, tau=-5 / np.log(2), sym=False)\n).rename(\"res_3\")\n</code></pre> Python<pre><code># \u200b\u4ee3\u7801\u200b 4\ndf = df_raw.copy()\ndf = df.iloc[1:]\nres_4 = (\ndf[\"values\"]\n.rolling(window=10, min_periods=10, win_type=\"exponential\")\n.std(center=0, tau=-5 / np.log(2), sym=False)\n).rename(\"res_4\")\n</code></pre> <p>\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u7ed3\u679c\u200b\u5408\u5e76\u200b\u67e5\u770b\u200b\uff1a</p> Python<pre><code>pd.concat([res_3, res_4], axis=1)\n</code></pre> Text Only<pre><code>       res_3     res_4\n0        NaN       NaN\n1        NaN       NaN\n2        NaN       NaN\n3        NaN       NaN\n4        NaN       NaN\n5        NaN       NaN\n6        NaN       NaN\n7        NaN       NaN\n8        NaN       NaN\n9   0.961620       NaN\n10  0.919546  0.865700\n11  0.949999  0.896859\n12  0.944208  0.890761\n13  0.792478  0.743234\n14  0.627014  0.585890\n15  0.462449  0.438443\n16  0.572467  0.543364\n17  0.580613  0.550393\n18  0.537701  0.515704\n19  0.759793  0.710164\n</code></pre> <p>\u200b\u89c2\u5bdf\u200b\uff1a</p> <ul> <li>\u200b\u540c\u6837\u200b\u5730\u200b\uff0c<code>res_3</code> \u200b\u5728\u200b\u7d22\u5f15\u200b <code>9</code> \u200b\u5904\u6709\u200b\u7b2c\u4e00\u4e2a\u200b\u6709\u6548\u503c\u200b\uff0c\u200b\u800c\u200b <code>res_4</code> \u200b\u4e3a\u200b <code>NaN</code>.</li> <li>\u200b\u91cd\u8981\u200b\u5dee\u5f02\u200b\uff1a \u200b\u4ece\u200b\u7d22\u5f15\u200b <code>10</code> \u200b\u5f00\u59cb\u200b\uff0c<code>res_3</code> \u200b\u548c\u200b <code>res_4</code> \u200b\u7684\u200b\u7ed3\u679c\u200b\u5e76\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff01\u200b\u5c3d\u7ba1\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u7a97\u53e3\u200b\u4f3c\u4e4e\u200b\u5e94\u8be5\u200b\u5305\u542b\u200b\u4e86\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u5e8f\u5217\u200b\uff08\u200b\u4ece\u200b\u7d22\u5f15\u200b <code>1</code> \u200b\u5230\u200b <code>10</code>\uff09\uff0c\u200b\u4f46\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6807\u51c6\u5dee\u200b\u5374\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5206\u522b\u200b\u4e3a\u200b <code>0.919546</code> \u200b\u548c\u200b <code>0.865700</code>\u3002</li> </ul> <p>\u200b\u8fd9\u200b\u4f3c\u4e4e\u200b\u8868\u660e\u200b\uff0c\u200b\u5728\u200b\u4f7f\u7528\u200b <code>rolling().std()</code> \u200b\u5e76\u200b\u6307\u5b9a\u200b <code>win_type=\"exponential\"</code> \u200b\u65f6\u200b\uff0c\u200b\u5176\u200b\u5185\u90e8\u200b\u8ba1\u7b97\u200b\u53ef\u80fd\u200b\u4e0d\u4ec5\u4ec5\u200b\u4f9d\u8d56\u4e8e\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u539f\u59cb\u6570\u636e\u200b\u5e8f\u5217\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u80fd\u200b\u9690\u5f0f\u200b\u5730\u200b\u4f9d\u8d56\u4e8e\u200b\u539f\u59cb\u200b Series \u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/pandas-rolling-exponential-weighted-standard-deviation/#\u4f7f\u7528-apply-\u81ea\u5b9a\u4e49\u51fd\u6570\u5b9e\u73b0\u4e25\u683c\u63a7\u5236\u56de\u770b\u7a97\u53e3","title":"\u4f7f\u7528\u200b <code>.apply()</code> \u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\u5b9e\u73b0\u200b\u4e25\u683c\u63a7\u5236\u200b\u56de\u770b\u200b\u7a97\u53e3","text":"<p>\u200b\u4e3a\u4e86\u200b\u66f4\u200b\u4e25\u683c\u200b\u5730\u200b\u63a7\u5236\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>.apply()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c06\u200b\u7a97\u53e3\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u7ed9\u200b\u4e00\u4e2a\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\u3002\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b <code>std_exponential</code>\uff0c\u200b\u5b83\u200b\u5728\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b \u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u6570\u636e\u200b\uff08\u200b\u4e00\u4e2a\u200b Series\uff09 \u200b\u4e0a\u200b\u8c03\u7528\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5e76\u53d6\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\u3002</p> Python<pre><code>def std_exponential(x: np.array) -&gt; float:\n\"\"\"Exponentially weighted standard deviation.\"\"\"\nreturn (\npd.Series(x)\n.rolling(window=10, min_periods=10, win_type=\"exponential\")\n.std(center=0, tau=-5 / np.log(2), sym=False)\n.iloc[-1]\n)\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u518d\u6b21\u200b\u5728\u200b\u539f\u59cb\u6570\u636e\u200b\u548c\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\u7684\u200b\u6570\u636e\u200b\u4e0a\u200b\uff0c\u200b\u4f7f\u7528\u200b <code>.apply(std_exponential, raw=True)</code> \u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <p>\u200b\u4ee3\u7801\u200b 5 \u200b\u5728\u200b\u539f\u59cb\u6570\u636e\u200b\u4e0a\u200b\u4f7f\u7528\u200b <code>.apply()</code>:</p> Python<pre><code># \u200b\u4ee3\u7801\u200b 5\ndf = df_raw.copy()\nres_5 = (\ndf[\"values\"]\n.rolling(window=10, min_periods=10)\n.apply(std_exponential, raw=True)\n.rename(\"res_5\")\n)\n</code></pre> <p>\u200b\u4ee3\u7801\u200b 6 \u200b\u5728\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u8d77\u70b9\u200b\u4e00\u4f4d\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u4e0a\u200b\u4f7f\u7528\u200b <code>.apply()</code>:</p> Python<pre><code># \u200b\u4ee3\u7801\u200b 6\ndf = df_raw.copy()\ndf = df.iloc[1:]\nres_6 = (\ndf[\"values\"]\n.rolling(window=10, min_periods=10)\n.apply(std_exponential, raw=True)\n.rename(\"res_6\")\n)\n</code></pre> <p>\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u7ed3\u679c\u200b\u5408\u5e76\u200b\u67e5\u770b\u200b\uff1a</p> Python<pre><code>pd.concat([res_5, res_6], axis=1)\n</code></pre> Text Only<pre><code>       res_5     res_6\n0        NaN       NaN\n1        NaN       NaN\n2        NaN       NaN\n3        NaN       NaN\n4        NaN       NaN\n5        NaN       NaN\n6        NaN       NaN\n7        NaN       NaN\n8        NaN       NaN\n9   0.961620       NaN\n10  0.865700  0.865700\n11  0.904988  0.904988\n12  0.843088  0.843088\n13  0.715911  0.715911\n14  0.589018  0.589018\n15  0.457798  0.457798\n16  0.593950  0.593950\n17  0.626757  0.626757\n18  0.575467  0.575467\n19  0.759793  0.759793\n</code></pre> <p>\u200b\u89c2\u5bdf\u200b\uff1a</p> <ul> <li>\u200b\u7b2c\u4e00\u4e2a\u200b\u6709\u6548\u503c\u200b\u540c\u6837\u200b\u51fa\u73b0\u200b\u5728\u200b\u4e0d\u540c\u200b\u4f4d\u7f6e\u200b\u3002</li> <li>\u200b\u5173\u952e\u200b\u53d1\u73b0\u200b\uff1a \u200b\u4ece\u200b\u7d22\u5f15\u200b <code>10</code> \u200b\u5f00\u59cb\u200b\uff0c<code>res_5</code> \u200b\u548c\u200b <code>res_6</code> \u200b\u7684\u200b\u7ed3\u679c\u200b\u53c8\u200b\u53d8\u5f97\u200b\u4e00\u81f4\u200b\u4e86\u200b\u3002</li> </ul> <p>\u200b\u901a\u8fc7\u200b <code>.apply()</code> \u200b\u5c06\u200b\u7a97\u53e3\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u7ed9\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u4f20\u5165\u200b\u7684\u200b\u7a97\u53e3\u200b\u6570\u636e\u200b\u90fd\u200b\u5f62\u6210\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u3001\u200b\u72ec\u7acb\u200b\u7684\u200b Series\uff0c\u200b\u5176\u200b\u603b\u662f\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u8fd9\u4e2a\u200b\u56fa\u5b9a\u200b\u7684\u200b\u7a97\u53e3\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u8ba1\u7b97\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u53ea\u8981\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u5185\u5bb9\u200b\u76f8\u540c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u5c31\u200b\u76f8\u540c\u200b\u3002</p>","tags":["Python","\u91cf\u5316\u7814\u7a76"]},{"location":"blog/install-dokploy/","title":"\u56fd\u5185\u200b\u670d\u52a1\u5668\u200b\u5b89\u88c5\u200b Dokploy","text":"<p>\u200b\u4f7f\u7528\u200b\u56fd\u5185\u200b\u670d\u52a1\u5668\u200b\u5b89\u88c5\u200b Dokploy \u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u7531\u4e8e\u200b\u7f51\u7edc\u200b\u95ee\u9898\u200b\u65e0\u6cd5\u200b\u987a\u5229\u200b\u4e0b\u8f7d\u200b\u67d0\u4e9b\u200b Docker \u200b\u955c\u50cf\u200b\u800c\u200b\u5361\u4f4f\u200b\u3002\u200b\u672c\u6587\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u4fee\u6539\u200b <code>install.sh</code> \u200b\u5e76\u200b\u6210\u529f\u200b\u5728\u200b\u4e00\u53f0\u200b\u56fd\u5185\u200b\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u200b Dokploy \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p></p>","tags":["Computer Science","IndieDev"]},{"location":"blog/install-dokploy/#\u4e0b\u8f7d\u5b98\u65b9\u5b89\u88c5\u811a\u672c","title":"\u4e0b\u8f7d\u200b\u5b98\u65b9\u200b\u5b89\u88c5\u200b\u811a\u672c","text":"Bash<pre><code>wget -O install.sh https://dokploy.com/install.sh\n</code></pre>","tags":["Computer Science","IndieDev"]},{"location":"blog/install-dokploy/#\u4fee\u6539\u5b89\u88c5\u811a\u672c","title":"\u4fee\u6539\u200b\u5b89\u88c5\u200b\u811a\u672c","text":"<p>\u200b\u6839\u636e\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b \u200b\u4e2d\u200b\u7684\u200b\u6559\u7a0b\u200b\uff0c\u200b\u6dfb\u52a0\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\uff1a</p> Bash<pre><code>    docker pull swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/dokploy/dokploy:latest\n    docker tag  swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/dokploy/dokploy:latest  docker.io/dokploy/dokploy:latest\n\n# Installation\ndocker service create \\\n--name dokploy \\\n--replicas 1 \\\n--network dokploy-network \\\n--mount type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock \\\n--mount type=bind,source=/etc/dokploy,target=/etc/dokploy \\\n--mount type=volume,source=dokploy-docker-config,target=/root/.docker \\\n--publish published=3000,target=3000,mode=host \\\n--update-parallelism 1 \\\n--update-order stop-first \\\n--constraint 'node.role == manager' \\\n-e ADVERTISE_ADDR=$advertise_addr \\\nswr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/dokploy/dokploy\n</code></pre> <p></p>","tags":["Computer Science","IndieDev"]},{"location":"blog/install-dokploy/#\u4fee\u6539-docker-\u914d\u7f6e","title":"\u4fee\u6539\u200b Docker \u200b\u914d\u7f6e","text":"<p>\u200b\u5728\u200b \u200b\u8fd9\u7bc7\u200b\u5e16\u5b50\u200b \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u56fd\u5185\u200b\u53ef\u7528\u200b\u7684\u200b Docker \u200b\u955c\u50cf\u200b\u3002</p> /etc/docker/daemon.json<pre><code>{\n\"dns\": [\"8.8.8.8\", \"1.1.1.1\"],\n\"registry-mirrors\": [\"https://docker-0.unsee.tech\"]\n}\n</code></pre>","tags":["Computer Science","IndieDev"]},{"location":"blog/install-dokploy/#\u8fd0\u884c\u5b89\u88c5\u811a\u672c","title":"\u8fd0\u884c\u200b\u5b89\u88c5\u200b\u811a\u672c","text":"Bash<pre><code>sh install.sh\n</code></pre> <p>\u200b\u7b49\u5f85\u200b\u51e0\u5206\u949f\u200b\u5373\u53ef\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5b89\u5168\u200b\u7ec4\u200b\u5f00\u542f\u200b 3000 \u200b\u7aef\u53e3\u200b\u7684\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5373\u53ef\u200b\u5728\u200b\u516c\u7f51\u200b\u6253\u5f00\u200b Dokploy \u200b\u7684\u200b\u767b\u5f55\u200b\u754c\u9762\u200b\u3002</p> <p></p> <p></p>","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/","title":"Docker \u200b\u4e2d\u200b\u7684\u200b CMD \u200b\u548c\u200b ENTRYPOINT","text":"<p>Docker \u200b\u4e2d\u200b\u7684\u200b CMD \u200b\u548c\u200b ENTRYPOINT \u200b\u90fd\u200b\u662f\u200b\u7528\u6765\u200b\u6307\u5b9a\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\u6267\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4f46\u200b\u5b83\u4eec\u200b\u7684\u200b\u4f5c\u7528\u200b\u548c\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b\u6709\u200b\u660e\u663e\u200b\u533a\u522b\u200b\uff0c\u200b\u7406\u89e3\u200b\u5b83\u4eec\u200b\u7684\u200b\u533a\u522b\u200b\u80fd\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u66f4\u200b\u7075\u6d3b\u200b\u5730\u200b\u63a7\u5236\u200b\u5bb9\u5668\u200b\u884c\u4e3a\u200b\u3002</p>","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#cmd-\u548c-entrypoint-\u7684\u901a\u4fd7\u7406\u89e3","title":"CMD \u200b\u548c\u200b ENTRYPOINT \u200b\u7684\u200b\u901a\u4fd7\u200b\u7406\u89e3","text":"<ul> <li>ENTRYPOINT\uff1a\u200b\u5c31\u200b\u50cf\u200b\u5bb9\u5668\u200b\u7684\u200b\u201c\u200b\u4e3b\u83dc\u200b\u201d\uff0c\u200b\u662f\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\u5fc5\u987b\u200b\u6267\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u65e0\u8bba\u200b\u542f\u52a8\u200b\u5bb9\u5668\u200b\u65f6\u200b\u4f20\u5165\u200b\u4ec0\u4e48\u200b\u53c2\u6570\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u90fd\u200b\u4f1a\u200b\u6267\u884c\u200b\u3002\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5b83\u200b\u60f3\u8c61\u200b\u6210\u200b\u62ab\u8428\u200b\u5e97\u200b\u7684\u200b\u201c\u200b\u62ab\u8428\u200b\u201d\uff0c\u200b\u62ab\u8428\u200b\u662f\u200b\u5fc5\u200b\u505a\u200b\u7684\u200b\u4e3b\u98df\u200b\u3002</li> <li> <p>CMD\uff1a\u200b\u5c31\u200b\u50cf\u200b\u62ab\u8428\u200b\u7684\u200b\u201c\u200b\u9ed8\u8ba4\u200b\u53e3\u5473\u200b\u201d\uff0c\u200b\u662f\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u6216\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5982\u679c\u200b\u542f\u52a8\u200b\u5bb9\u5668\u200b\u65f6\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u5176\u4ed6\u200b\u547d\u4ee4\u200b\uff0cCMD \u200b\u4f1a\u200b\u751f\u6548\u200b\uff1b\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b\u4e86\u200b\u5176\u4ed6\u200b\u547d\u4ee4\u200b\uff0cCMD \u200b\u4f1a\u200b\u88ab\u200b\u8986\u76d6\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u7ed9\u200b ENTRYPOINT \u200b\u63d0\u4f9b\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff0c\u200b\u6216\u8005\u200b\u5355\u72ec\u200b\u4f5c\u4e3a\u200b\u9ed8\u8ba4\u200b\u547d\u4ee4\u200b\u4f7f\u7528\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u53ea\u6709\u200b CMD\uff0c\u200b\u542f\u52a8\u200b\u5bb9\u5668\u200b\u65f6\u200b\u6307\u5b9a\u200b\u7684\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u66ff\u4ee3\u200b CMD\u3002</p> </li> <li>\u200b\u5982\u679c\u200b\u53ea\u6709\u200b ENTRYPOINT\uff0c\u200b\u542f\u52a8\u200b\u5bb9\u5668\u200b\u65f6\u200b\u7684\u200b\u53c2\u6570\u200b\u4f1a\u200b\u9644\u52a0\u200b\u5230\u200b ENTRYPOINT \u200b\u547d\u4ee4\u200b\u540e\u9762\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u4e24\u8005\u200b\u7ed3\u5408\u200b\uff0cENTRYPOINT \u200b\u5b9a\u4e49\u200b\u4e3b\u200b\u547d\u4ee4\u200b\uff0cCMD \u200b\u5b9a\u4e49\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff0c\u200b\u542f\u52a8\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u8986\u76d6\u200b CMD \u200b\u53c2\u6570\u200b\u4f46\u200b\u4e0d\u4f1a\u200b\u66ff\u6362\u200b ENTRYPOINT\u3002</li> </ul>","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#\u5177\u4f53\u533a\u522b\u548c\u7528\u6cd5","title":"\u5177\u4f53\u200b\u533a\u522b\u200b\u548c\u200b\u7528\u6cd5","text":"\u7279\u6027\u200b ENTRYPOINT CMD \u200b\u4f5c\u7528\u200b \u200b\u56fa\u5b9a\u200b\u6267\u884c\u200b\u7684\u200b\u4e3b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\u4e00\u5b9a\u200b\u6267\u884c\u200b \u200b\u9ed8\u8ba4\u200b\u547d\u4ee4\u200b\u6216\u200b\u53c2\u6570\u200b\uff0c\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\u53ef\u200b\u88ab\u200b\u8986\u76d6\u200b \u200b\u8986\u76d6\u200b\u884c\u4e3a\u200b \u200b\u4e0d\u80fd\u200b\u88ab\u200b\u666e\u901a\u200b\u53c2\u6570\u200b\u8986\u76d6\u200b\uff0c\u200b\u9664\u975e\u200b\u7528\u200b <code>--entrypoint</code> \u200b\u9009\u9879\u200b \u200b\u53ef\u4ee5\u200b\u88ab\u200b <code>docker run</code> \u200b\u540e\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\u8986\u76d6\u200b \u200b\u7075\u6d3b\u6027\u200b \u200b\u56fa\u5b9a\u200b\u547d\u4ee4\u200b\uff0c\u200b\u53c2\u6570\u200b\u53ef\u53d8\u200b \u200b\u547d\u4ee4\u200b\u6216\u200b\u53c2\u6570\u200b\u90fd\u200b\u53ef\u53d8\u200b \u200b\u63a8\u8350\u200b\u683c\u5f0f\u200b exec \u200b\u683c\u5f0f\u200b\uff08\u200b\u6570\u7ec4\u200b\u5f62\u5f0f\u200b\uff09 exec \u200b\u683c\u5f0f\u200b\uff08\u200b\u6570\u7ec4\u200b\u5f62\u5f0f\u200b\uff09\u200b\u6216\u200b shell \u200b\u683c\u5f0f\u200b \u200b\u5178\u578b\u200b\u7528\u4f8b\u200b \u200b\u8fd0\u884c\u200b\u5fc5\u987b\u200b\u6267\u884c\u200b\u7684\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u6bd4\u5982\u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\u3001\u200b\u811a\u672c\u200b \u200b\u63d0\u4f9b\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff0c\u200b\u5982\u200b\u9ed8\u8ba4\u200b\u542f\u52a8\u200b\u53c2\u6570\u200b\u6216\u200b\u547d\u4ee4\u200b \u200b\u7ec4\u5408\u200b\u4f7f\u7528\u200b \u200b\u4e0e\u200b CMD \u200b\u7ed3\u5408\u200b\uff0cENTRYPOINT \u200b\u662f\u200b\u4e3b\u200b\u547d\u4ee4\u200b\uff0cCMD \u200b\u662f\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b \u200b\u4f5c\u4e3a\u200b ENTRYPOINT \u200b\u7684\u200b\u9ed8\u8ba4\u200b\u53c2\u6570","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#\u4f7f\u7528\u793a\u4f8b","title":"\u4f7f\u7528\u200b\u793a\u4f8b","text":"","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#\u53ea\u7528-cmd","title":"\u53ea\u7528\u200b CMD","text":"Docker<pre><code>CMD [\"echo\", \"Hello World\"]\n</code></pre> <ul> <li>\u200b\u8fd0\u884c\u200b <code>docker run image</code> \u200b\u8f93\u51fa\u200b\uff1aHello World</li> <li>\u200b\u8fd0\u884c\u200b <code>docker run image echo Bye</code> \u200b\u8f93\u51fa\u200b\uff1aBye\uff08CMD \u200b\u88ab\u200b\u8986\u76d6\u200b\uff09</li> </ul>","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#\u53ea\u7528-entrypoint","title":"\u53ea\u7528\u200b ENTRYPOINT","text":"Docker<pre><code>ENTRYPOINT [\"echo\", \"Hello\"]\n</code></pre> <ul> <li>\u200b\u8fd0\u884c\u200b <code>docker run image</code> \u200b\u8f93\u51fa\u200b\uff1aHello</li> <li>\u200b\u8fd0\u884c\u200b <code>docker run image Bye</code> \u200b\u8f93\u51fa\u200b\uff1aHello Bye\uff08\u200b\u53c2\u6570\u200b\u9644\u52a0\u200b\u5230\u200b ENTRYPOINT\uff09</li> </ul>","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#entrypoint-\u548c-cmd-\u7ed3\u5408","title":"ENTRYPOINT \u200b\u548c\u200b CMD \u200b\u7ed3\u5408","text":"Docker<pre><code>ENTRYPOINT [\"echo\"]\nCMD [\"Hello World\"]\n</code></pre> <ul> <li>\u200b\u8fd0\u884c\u200b <code>docker run image</code> \u200b\u8f93\u51fa\u200b\uff1aHello World\uff08CMD \u200b\u4f5c\u4e3a\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff09</li> <li>\u200b\u8fd0\u884c\u200b <code>docker run image Bye</code> \u200b\u8f93\u51fa\u200b\uff1aBye\uff08\u200b\u8986\u76d6\u200b\u4e86\u200b CMD \u200b\u53c2\u6570\u200b\uff0c\u200b\u4f46\u200b ENTRYPOINT \u200b\u4e0d\u53d8\u200b\uff09</li> </ul>","tags":["Computer Science","IndieDev"]},{"location":"blog/docker-cmd-and-entrypoint/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<ul> <li>ENTRYPOINT \u200b\u7528\u4e8e\u200b\u5b9a\u4e49\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\u7684\u200b\u6838\u5fc3\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4e00\u5b9a\u200b\u6267\u884c\u200b\u3002</li> <li>CMD \u200b\u7528\u4e8e\u200b\u5b9a\u4e49\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u6216\u200b\u547d\u4ee4\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u7528\u6237\u200b\u5728\u200b\u542f\u52a8\u200b\u65f6\u200b\u8986\u76d6\u200b\u3002</li> <li>\u200b\u4e24\u8005\u200b\u7ed3\u5408\u200b\u4f7f\u7528\u200b\u65f6\u200b\uff0cENTRYPOINT \u200b\u662f\u200b\u4e3b\u200b\u547d\u4ee4\u200b\uff0cCMD \u200b\u662f\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff0c\u200b\u65e2\u4fdd\u8bc1\u200b\u4e86\u200b\u6267\u884c\u200b\u7684\u200b\u786e\u5b9a\u6027\u200b\uff0c\u200b\u53c8\u200b\u4fdd\u7559\u200b\u4e86\u200b\u7075\u6d3b\u6027\u200b\u3002</li> </ul> <p>\u200b\u8fd9\u79cd\u200b\u8bbe\u8ba1\u200b\u8ba9\u200b Docker \u200b\u5bb9\u5668\u200b\u65e2\u200b\u80fd\u200b\u4fdd\u8bc1\u200b\u6838\u5fc3\u200b\u903b\u8f91\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u53c8\u200b\u80fd\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u4f20\u5165\u200b\u4e0d\u540c\u200b\u53c2\u6570\u200b\uff0c\u200b\u6ee1\u8db3\u200b\u5404\u79cd\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b\u3002</p>","tags":["Computer Science","IndieDev"]},{"location":"blog/google-workshop-and-museum-of-art/","title":"Google \u200b\u5927\u200b\u6a21\u578b\u200b\u5de5\u4f5c\u574a\u200b&amp;\u200b\u5965\u8d5b\u200b\u5927\u5c55","text":"","tags":["\u751f\u6d3b"]},{"location":"blog/google-workshop-and-museum-of-art/#google-\u5927\u6a21\u578b\u5de5\u4f5c\u574a","title":"Google \u200b\u5927\u200b\u6a21\u578b\u200b\u5de5\u4f5c\u574a","text":"<p>\u200b\u4eca\u5929\u200b\u53c2\u52a0\u200b\u4e86\u200b Google \u200b\u4e3e\u529e\u200b\u7684\u200b\u5927\u200b\u6a21\u578b\u200b\u5de5\u4f5c\u574a\u200b\u3002Google \u200b\u4e0a\u6d77\u200b\u7684\u200b\u529e\u516c\u5ba4\u200b\u5728\u200b\u4e09\u4ef6\u5957\u200b\u4e4b\u4e00\u200b\u7684\u200b\u73af\u7403\u200b\u91d1\u878d\u4e2d\u5fc3\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e2a\u200b\u53ef\u7231\u200b\u4f46\u5c0f\u4f17\u200b\u7684\u200b\u4e2d\u6587\u200b\u540d\u53eb\u200b\u201c\u200b\u5495\u679c\u200b\u201d\u3002</p> <p></p> <p>\u200b\u65e9\u200b\u5728\u200b 2016 \u200b\u5e74\u200b Google \u200b\u5c31\u200b\u53f7\u79f0\u200b\u201cAI First\u201d\u200b\u4e86\u200b\uff0c\u200b\u800c\u200b\u90a3\u65f6\u200b\u6211\u200b\u548c\u200b\u5927\u591a\u6570\u200b\u4eba\u200b\u4e00\u6837\u200b\uff0c\u200b\u90fd\u200b\u8fd8\u200b\u6ca1\u542c\u8bf4\u8fc7\u200b\u201c\u200b\u751f\u6210\u5f0f\u200b\u4eba\u5de5\u667a\u80fd\u200b\u201d\u3002</p> <p></p> <p>Gemini \u200b\u7cfb\u5217\u200b\u7684\u200b\u591a\u200b\u6a21\u6001\u200b\u6a21\u578b\u200b\u80fd\u529b\u200b\u8fd8\u662f\u200b\u633a\u68d2\u200b\u7684\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u7528\u200b <code>gemini-2.5-pro</code> \u200b\u8bc6\u522b\u200b\u4e00\u5e27\u200b\u753b\u9762\u200b\u51fa\u73b0\u200b\u5728\u200b\u89c6\u9891\u200b\u4e2d\u200b\u7684\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\uff0c\u200b\u7ed3\u679c\u200b\u8fd8\u662f\u200b\u6bd4\u8f83\u200b\u51c6\u786e\u200b\u7684\u200b\u3002\u200b\u5927\u5bb6\u200b\u5728\u200b\u73b0\u573a\u200b\u4e5f\u200b\u505a\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u5982\u679c\u200b\u7528\u200b <code>gemini-2.5-flash</code> \u200b\u6216\u200b\u66f4\u200b\u4f4e\u7ea7\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u8bdd\u200b\uff0c\u200b\u90fd\u200b\u65e0\u6cd5\u200b\u8f93\u51fa\u200b\u6b63\u786e\u200b\u7684\u200b\u65f6\u523b\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u4e00\u4e2a\u200b 5 \u200b\u5206\u949f\u200b\u7684\u200b\u89c6\u9891\u200b\u9700\u8981\u200b\u6d88\u8017\u200b\u5c06\u8fd1\u200b 10 \u200b\u4e07\u200b\u7684\u200b tokens\u3002</p> <p></p> <p></p> <p>\u200b\u4eca\u5929\u200b\u7684\u200b\u5929\u200b\u5f88\u200b\u84dd\u4e91\u200b\u5f88\u200b\u539a\u200b\uff0c\u200b\u529e\u516c\u5ba4\u200b\u7684\u200b\u98ce\u666f\u200b\u5f88\u200b\u4e0d\u9519\u200b\u3002</p> <p></p>","tags":["\u751f\u6d3b"]},{"location":"blog/google-workshop-and-museum-of-art/#\u5965\u8d5b\u5927\u5c55","title":"\u5965\u8d5b\u200b\u5927\u5c55","text":"<p>\u200b\u4ece\u200b\u9646\u5bb6\u5634\u200b\u51fa\u6765\u200b\u6563\u6b65\u200b\uff0c\u200b\u5230\u200b\u4e86\u200b\u6ee8\u6c5f\u200b\u7684\u200b\u6d66\u4e1c\u200b\u7f8e\u672f\u9986\u200b\u3002\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u6709\u200b\u5965\u8d5b\u200b\u5927\u5c55\u200b\uff0c\u200b\u665a\u4e0a\u200b 17:00 \u200b\u540e\u200b\u6253\u200b\u516b\u6298\u200b\uff0c\u200b\u5468\u672b\u200b\u665a\u4e0a\u200b\u7968\u4ef7\u200b 120\u3002</p> <p>\u200b\u4e00\u5171\u200b 2 \u200b\u5c42\u200b\u7684\u200b\u5c55\u200b\uff0c\u200b\u6700\u200b\u77e5\u540d\u200b\u7684\u200b\u753b\u524d\u200b\u603b\u662f\u200b\u56f4\u7740\u200b\u4e0d\u5c11\u200b\u4eba\u200b\u3002</p> <p></p> <p></p> <p>\u200b\u6211\u200b\u559c\u6b22\u200b\u8fd9\u200b\u5e45\u200b\u5370\u8c61\u6d3e\u200b\u753b\u5bb6\u200b\u53e4\u65af\u5854\u592b\u200b\u00b7\u200b\u5361\u8036\u535a\u7279\u200b\u7684\u200b\u300a\u200b\u5f00\u82b1\u200b\u7684\u200b\u6811\u200b\u300b\u3002\u200b\u4e24\u5c42\u697c\u200b\u7684\u200b\u623f\u5b50\u200b\uff0c\u200b\u7ea2\u8272\u200b\u7684\u200b\u5c4b\u9876\u200b\u548c\u200b\u7a97\u6237\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u95e8\u524d\u200b\u4e00\u9897\u200b\u5f00\u7740\u200b\u7ea2\u82b1\u200b\u7684\u200b\u6811\u200b\uff0c\u200b\u770b\u8d77\u6765\u200b\u5c31\u200b\u50cf\u200b\u8299\u84c9\u697c\u200b\u5bbf\u820d\u200b\u3002</p> <p></p>","tags":["\u751f\u6d3b"]},{"location":"blog/why-attention-divide-by-sqrt-dk/","title":"\u4e3a\u4ec0\u4e48\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u8981\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \uff1a\u200b\u4ece\u200b\u65b9\u5dee\u200b\u5230\u200b\u68af\u5ea6\u200b\u7684\u200b\u63a8\u5bfc","text":"\\[ Attention(Q, K, V) = \\text{softmax}\\left(\\frac{QK^T}{\\sqrt{d_k}}\\right)V \\] <p>\u200b\u5728\u200b Transformer \u200b\u7684\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b \\(QK^T\\) \u200b\u4e4b\u540e\u200b\uff0c\u200b\u9700\u8981\u200b\u9664\u4ee5\u200b\u4e00\u4e2a\u200b \\(\\sqrt{d_k}\\) \u200b\u8fdb\u884c\u200b\u7f29\u653e\u200b\u3002\u200b\u8fd9\u4e00\u200b\u64cd\u4f5c\u200b\u901a\u5e38\u200b\u88ab\u200b\u89e3\u91ca\u200b\u4e3a\u200b\u201c\u200b\u4e3a\u4e86\u200b\u6570\u503c\u200b\u7a33\u5b9a\u6027\u200b\u201d\u3002\u200b\u8fd9\u91cc\u200b\u7684\u200b\u201c\u200b\u7a33\u5b9a\u200b\u201d\u200b\u7a76\u7adf\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f\u200b\u5982\u679c\u200b\u4e0d\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \u200b\u5c31\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u4e86\u200b\u4e48\u200b\uff1f\u200b\u4e3a\u4ec0\u4e48\u200b\u4e0d\u200b\u9664\u4ee5\u200b \\(d_k\\) \u200b\u6216\u200b\u5176\u4ed6\u200b\u6570\u503c\u200b\u5462\u200b\uff1f</p> <p>\u200b\u672c\u6587\u200b\u5206\u6790\u200b\u4e86\u200b\u70b9\u79ef\u200b\u7684\u200b\u65b9\u5dee\u200b\u5982\u4f55\u200b\u968f\u200b\u7ef4\u5ea6\u200b\u589e\u957f\u200b\u800c\u200b\u589e\u5927\u200b\uff0c\u200b\u5e76\u200b\u8fdb\u4e00\u6b65\u200b\u63a8\u5bfc\u200b \\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\u5f97\u5230\u200b\u7684\u200b\u884c\u5411\u91cf\u200b\u7684\u200b\u96c5\u200b\u53ef\u6bd4\u200b\u77e9\u9635\u200b\uff0c\u200b\u5c55\u793a\u200b\u5f53\u200b\u8f93\u5165\u200b\u6570\u503c\u200b\u8fc7\u5927\u65f6\u200b\u68af\u5ea6\u200b\u5982\u4f55\u200b\u9010\u6e10\u200b\u8d8b\u200b\u8fd1\u4e8e\u96f6\u200b\u3002\u200b\u901a\u8fc7\u200b\u8fd9\u4e00\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u4f1a\u200b\u7406\u89e3\u200b\uff0c\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \u200b\u5e76\u200b\u4e0d\u662f\u200b\u968f\u610f\u200b\u7684\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u800c\u662f\u200b\u786e\u4fdd\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u5728\u200b\u9ad8\u200b\u7ef4\u7a7a\u95f4\u200b\u4e2d\u200b\u4ecd\u200b\u80fd\u200b\u4fdd\u6301\u200b\u53ef\u200b\u8bad\u7ec3\u200b\u6027\u200b\u7684\u200b\u5fc5\u8981\u6761\u4ef6\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u95ee\u9898\u62c6\u89e3\u4ece\u65b9\u5dee\u5230\u68af\u5ea6","title":"\u95ee\u9898\u200b\u62c6\u89e3\u200b\uff1a\u200b\u4ece\u200b\u65b9\u5dee\u200b\u5230\u200b\u68af\u5ea6","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u5bf9\u200b\u70b9\u79ef\u200b\u8fdb\u884c\u200b\u7f29\u653e\u200b\uff0cTransformer \u200b\u539f\u200b\u8bba\u6587\u200b\u4e2d\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u5982\u4e0b\u200b\u89e3\u91ca\u200b\uff1a</p> <p>Attention Is All You Need</p> <p>We suspect that for large values of \\(d_k\\), the dot products grow large in magnitude, pushing the softmax function into regions where it has extremely small gradients.</p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u5f53\u200b \\(d_k\\) \u200b\u53d6\u200b\u8f83\u5927\u200b\u503c\u65f6\u200b\uff0c\u200b\u70b9\u79ef\u200b \\(QK^T\\) \u200b\u4e2d\u200b\u7684\u200b\u6570\u503c\u200b\u4f1a\u200b\u53d8\u5f97\u200b\u975e\u5e38\u200b\u5927\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u200b \\(\\text{softmax}\\) \u200b\u7684\u200b\u8f93\u5165\u200b\u843d\u5165\u200b\u68af\u5ea6\u200b\u6781\u5c0f\u200b\u7684\u200b\u533a\u57df\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u8bad\u7ec3\u200b\u56f0\u96be\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u5206\u6790\u200b\u53ef\u4ee5\u200b\u62c6\u89e3\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u5f53\u200b \\(d_k\\) \u200b\u8f83\u5927\u200b\u65f6\u200b\uff0c\\(QK^T\\) \u200b\u8fd9\u4e2a\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b\u77e9\u9635\u200b\u4e2d\u6709\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u6982\u7387\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\uff1f</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u5f53\u200b \\(QK^T\\) \u200b\u4e2d\u200b\u5b58\u5728\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\\(\\text{softmax}\\) \u200b\u7684\u200b\u68af\u5ea6\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\uff1f</li> </ol>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u4e3a\u4ec0\u4e48\u5f53-d_k-\u8f83\u5927\u65f6qkt-\u8fd9\u4e2a\u70b9\u79ef\u6ce8\u610f\u529b\u77e9\u9635\u4e2d\u6709\u8f83\u9ad8\u7684\u6982\u7387\u4f1a\u51fa\u73b0\u6570\u503c\u8f83\u5927\u7684\u5143\u7d20","title":"\u4e3a\u4ec0\u4e48\u200b\u5f53\u200b \\(d_k\\) \u200b\u8f83\u5927\u200b\u65f6\u200b\uff0c\\(QK^T\\) \u200b\u8fd9\u4e2a\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b\u77e9\u9635\u200b\u4e2d\u6709\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u6982\u7387\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\uff1f","text":"<p>Transformer \u200b\u539f\u200b\u8bba\u6587\u200b\u4e2d\u200b\u6307\u51fa\u200b\uff0c\u200b\u82e5\u200b \\(q\\) \u200b\u548c\u200b \\(k\\) \u200b\u7684\u200b\u5404\u200b\u7ef4\u5ea6\u200b\u72ec\u7acb\u200b\uff0c\u200b\u4e14\u200b\u5747\u503c\u200b\u4e3a\u200b 0\u3001\u200b\u65b9\u5dee\u200b\u4e3a\u200b 1\uff0c\u200b\u5219\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b \\(q \\cdot k\\) \u200b\u7684\u200b\u5747\u503c\u200b\u4e3a\u200b \\(0\\)\u3001\u200b\u65b9\u5dee\u200b\u4e3a\u200b \\(d_k\\)\u3002</p> <p>Attention Is All You Need</p> <p>To illustrate why the dot products get large, assume that the components of \\(q\\) and \\(k\\) are independent random variables with mean 0 and variance 1. Then their dot product</p> \\[ q \\cdot k = \\sum_{i=1}^{d_k} (q_i \\cdot k_i) \\] <p>has mean 0 and variance \\(d_k\\).</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u6765\u200b\u7528\u200b\u6982\u7387\u200b\u7edf\u8ba1\u200b\u7684\u200b\u77e5\u8bc6\u200b\u63a8\u5bfc\u200b\u4e00\u4e0b\u200b\u8fd9\u4e2a\u200b\u7ed3\u8bba\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u5747\u503c-mathbb-eqcdot-k--0","title":"\u5747\u503c\u200b \\(\\mathbb E[q\\cdot k] = 0\\)","text":"\\[ \\begin{aligned} \\mathbb E[q\\cdot k] &amp;= \\mathbb E\\left[\\sum_{i=1}^{d_k} q_i k_i\\right] \\\\ &amp;= \\sum_{i=1}^{d_k} \\mathbb E[q_i k_i] &amp;&amp; \\text{\uff08\u200b\u671f\u671b\u200b\u7ebf\u6027\u200b\uff09} \\\\ &amp;= \\sum_{i=1}^{d_k} \\mathbb E[q_i]\\mathbb E[k_i] &amp;&amp; \\text{\uff08\u200b\u7531\u4e8e\u200b $q_i$ \u200b\u548c\u200b $k_i$ \u200b\u72ec\u7acb\u200b\uff09}\\\\ &amp;= \\sum_{i=1}^{d_k} 0 \\cdot 0 &amp;&amp; \\text{\uff08\u200b\u7531\u4e8e\u200b $q_i$ \u200b\u548c\u200b $k_i$ \u200b\u5747\u503c\u200b\u4e3a\u200b 0\uff09} \\\\ &amp;= 0 \\end{aligned} \\]","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u65b9\u5dee-textvarqcdot-k--d_k","title":"\u65b9\u5dee\u200b \\(\\text{Var}(q\\cdot k) = d_k\\)","text":"\\[ \\begin{aligned} \\text{Var}(q\\cdot k) &amp;= \\text{Var}\\left(\\sum_{i=1}^{d_k} q_i k_i\\right) \\\\ &amp;= \\sum_{i=1}^{d_k} \\text{Var}(q_i k_i) &amp;&amp; \\text{\uff08\u200b\u7531\u4e8e\u200b $q_i k_i$ \u200b\u548c\u200b $q_j k_j$ \u200b\u72ec\u7acb\u200b $\\forall i \\neq j$\uff09}\\\\ &amp;= \\sum_{i=1}^{d_k} \\left[ \\mathbb E[(q_i k_i)^2] - (\\mathbb E[q_i k_i])^2 \\right]  &amp;&amp; \\text{\uff08\u200b\u65b9\u5dee\u200b\u5b9a\u4e49\u200b\uff09}\\\\ &amp;= \\sum_{i=1}^{d_k} \\left[ \\mathbb E[q_i^2]\\mathbb E[k_i^2] - (\\mathbb E[q_i]\\mathbb E[k_i])^2  \\right] &amp;&amp; \\text{\uff08\u200b\u7531\u4e8e\u200b $q_i$ \u200b\u548c\u200b $k_i$ \u200b\u72ec\u7acb\u200b\uff09}\\\\ &amp;= \\sum_{i=1}^{d_k} \\left[ 1 \\cdot 1 - \\left(0 \\cdot 0\\right)^2  \\right] &amp;&amp; \\text{\uff08$\\mathbb E[q_i^2] = \\text{Var}(q_i) + (\\mathbb E[q_i])^2 = 1 + 0^2 = 1$\uff09}\\\\ &amp;= d_k \\end{aligned} \\] <p>\u200b\u4ee5\u4e0a\u200b\u63a8\u5bfc\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b \\(q \\cdot k\\)\uff0c\u200b\u5176\u200b\u5747\u503c\u200b\u4e3a\u200b 0\uff0c\u200b\u65b9\u5dee\u200b\u4e3a\u200b \\(d_k\\)\u3002\u200b\u5f53\u200b \\(d_k\\) \u200b\u5f88\u5927\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\\(q \\cdot k\\) \u200b\u7684\u200b\u65b9\u5dee\u200b\u4e5f\u200b\u4f1a\u200b\u76f8\u5e94\u200b\u589e\u5927\u200b\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b \\(q \\cdot k\\) \u200b\u4f1a\u200b\u6709\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u6982\u7387\u200b\u53d6\u200b\u5230\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u4e3a\u4ec0\u4e48\u5f53-qkt-\u4e2d\u5b58\u5728\u6570\u503c\u8f83\u5927\u7684\u5143\u7d20\u65f6textsoftmax-\u7684\u68af\u5ea6\u4f1a\u8d8b\u8fd1\u4e8e-0","title":"\u4e3a\u4ec0\u4e48\u200b\u5f53\u200b \\(QK^T\\) \u200b\u4e2d\u200b\u5b58\u5728\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\\(\\text{softmax}\\) \u200b\u7684\u200b\u68af\u5ea6\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\uff1f","text":"<p>\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u8981\u200b\u770b\u200b\uff0c\u200b\u5f53\u200b \\(q \\cdot k\\) \u200b\u6570\u503c\u200b\u592a\u5927\u65f6\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b \\(\\text{softmax}\\) \u200b\u7684\u200b\u68af\u5ea6\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\u3002</p> <p>\u200b\u6211\u4eec\u200b\u5c06\u200b \\(QK^T\\) \u200b\u4e2d\u200b\u7684\u200b\u7b2c\u200b \\(i\\) \u200b\u884c\u7b2c\u200b \\(j\\) \u200b\u5217\u200b\u7684\u200b\u5143\u7d20\u200b\u8868\u793a\u200b\u4e3a\u200b \\(q_i \\cdot k_j\\)\uff1a</p> \\[ QK^T= \\begin{bmatrix} q_{1} \\cdot k_{1} &amp; q_{1} \\cdot k_{2} &amp; \\cdots &amp; q_{1} \\cdot k_{n} \\\\ q_{2} \\cdot k_{1} &amp; q_{2} \\cdot k_{2} &amp; \\cdots &amp; q_{2} \\cdot k_{n} \\\\ \\vdots            &amp; \\vdots            &amp; \\ddots &amp; \\vdots            \\\\ q_{n} \\cdot k_{1} &amp; q_{n} \\cdot k_{2} &amp; \\cdots &amp; q_{n} \\cdot k_{n} \\end{bmatrix} \\] <p>\u200b\u5373\u200b\uff1a</p> \\[ QK^T_{ij} = q_i \\cdot k_j \\] <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u77e9\u9635\u200b \\(Q\\) \u200b\u548c\u200b \\(K\\) \u200b\u7684\u200b\u5f62\u72b6\u200b\u5747\u200b\u4e3a\u200b \\(n \\times d_k\\)\uff0c\\(n\\) \u200b\u8868\u793a\u200b\u5e8f\u5217\u200b\u4e2d\u200b token \u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\\(d_k\\) \u200b\u8868\u793a\u200b\u952e\u200b\u5411\u91cf\u200b\u7684\u200b\u7ef4\u5ea6\u200b\uff0c\u200b\u5b83\u200b\u901a\u5e38\u200b\u7b49\u4e8e\u200b\u5d4c\u5165\u200b\u5411\u91cf\u200b\u7684\u200b\u7ef4\u5ea6\u200b \\(d_\\text{model}\\)\u3002\\(q_i\\) \u200b\u8868\u793a\u200b\u67e5\u8be2\u200b\u77e9\u9635\u200b \\(Q\\) \u200b\u7684\u200b\u7b2c\u200b \\(i\\) \u200b\u884c\u200b\uff08\u200b\u7b2c\u200b \\(i\\) \u200b\u4e2a\u200b token \u200b\u7684\u200b\u67e5\u8be2\u200b\u5411\u91cf\u200b\uff09\uff0c\\(k_i\\) \u200b\u8868\u793a\u200b\u952e\u200b\u77e9\u9635\u200b \\(K\\) \u200b\u7684\u200b\u7b2c\u200b \\(i\\) \u200b\u884c\u200b\uff08\u200b\u7b2c\u200b \\(i\\) \u200b\u4e2a\u200b token \u200b\u7684\u200b\u952e\u200b\u5411\u91cf\u200b\uff09\u3002</p> <p>\u200b\u5bf9\u200b \\(QK^T\\) \u200b\u5e94\u7528\u200b \\(\\text{softmax}\\) \u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u884c\u200b\u8fdb\u884c\u200b \\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\uff0c\u200b\u5373\u200b</p> \\[ \\text{softmax}(QK^T)_{ij} = \\frac{\\exp(q_i \\cdot k_j)}{\\sum_{l=1}^{n} \\exp(q_i \\cdot k_l)} \\] <p>\u200b\u5176\u4e2d\u200b \\(i\\) \u200b\u8868\u793a\u200b\u884c\u200b\u7d22\u5f15\u200b\uff0c\\(j\\) \u200b\u8868\u793a\u200b\u5217\u200b\u7d22\u5f15\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b \\(\\text{softmax}\\) \u200b\u662f\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u884c\u200b\u8fdb\u884c\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e0d\u540c\u200b\u884c\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u4e92\u4e0d\u200b\u5f71\u54cd\u200b\u5176\u200b \\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\u7684\u200b\u7ed3\u679c\u200b\u7684\u200b\u3002</p> <p>\u200b\u4e0d\u5931\u200b\u4e00\u822c\u6027\u200b\uff0c\u200b\u6211\u4eec\u200b\u8003\u5bdf\u200b\u7b2c\u200b \\(1\\) \u200b\u884c\u200b\u7684\u200b\u5bfc\u6570\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b \\(\\text{softmax}(QK^T)\\) \u200b\u4e2d\u200b\u7b2c\u4e00\u200b\u884c\u5411\u91cf\u200b\u5173\u4e8e\u200b \\(q_1 \\cdot k_i, \\forall i \\in \\{1, 2, \\cdots, n\\}\\) \u200b\u7684\u200b\u96c5\u200b\u53ef\u6bd4\u200b\u77e9\u9635\u200b\u3002</p> <p>\u200b\u8bb0\u200b \\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\u524d\u200b\u7684\u200b\u503c\u200b \\(z_i = q_1 \\cdot k_i\\)\uff0c\\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\u540e\u200b\u7684\u200b\u503c\u200b \\(s_i = \\frac{\\exp(z_i)}{\\sum_{l=1}^{n} \\exp(z_l)}\\)\u3002</p> <p>\u200b\u5219\u200b\u6709\u200b\uff1a</p> \\[ J_{softmax} = \\begin{pmatrix} \\frac{\\partial s_1}{\\partial z_1} &amp; \\frac{\\partial s_1}{\\partial z_2} &amp; \\cdots &amp; \\frac{\\partial s_1}{\\partial z_n} \\\\ \\frac{\\partial s_2}{\\partial z_1} &amp; \\frac{\\partial s_2}{\\partial z_2} &amp; \\cdots &amp; \\frac{\\partial s_2}{\\partial z_n} \\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ \\frac{\\partial s_n}{\\partial z_1} &amp; \\frac{\\partial s_n}{\\partial z_2} &amp; \\cdots &amp; \\frac{\\partial s_n}{\\partial z_n} \\end{pmatrix} \\] <p>\u200b\u4e3a\u4e86\u200b\u63a8\u5bfc\u200b \\(s_i\\) \u200b\u5173\u4e8e\u200b \\(z_j\\) \u200b\u7684\u200b\u504f\u200b\u5bfc\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u5148\u200b\u628a\u200b \\(\\text{softmax}\\) \u200b\u5199\u6210\u200b\u66f4\u200b\u65b9\u4fbf\u200b\u6c42\u5bfc\u200b\u7684\u200b\u5f62\u5f0f\u200b\u3002\u200b\u8bb0\u5206\u200b\u6bcd\u200b\u5f52\u4e00\u5316\u200b\u9879\u4e3a\u200b</p> \\[ Z = \\sum_{l=1}^{n} \\exp(z_l) \\] <p>\u200b\u5219\u200b\u6709\u200b</p> \\[ s_i = \\frac{\\exp(z_i)}{Z} \\] <p>\u200b\u5bf9\u200b \\(z_j\\) \u200b\u6c42\u200b\u504f\u5bfc\u200b\u65f6\u5206\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u8ba8\u8bba\u200b\uff1a</p> <ol> <li>\u200b\u5f53\u200b \\(i = j\\) \u200b\u65f6\u200b\uff0c</li> </ol> <p>$$    \\frac{\\partial s_i}{\\partial z_i}    = \\frac{\\exp(z_i) \\cdot Z - \\exp(z_i) \\cdot \\exp(z_i)}{Z^2}    = \\frac{\\exp(z_i)}{Z}\\left(1 - \\frac{\\exp(z_i)}{Z}\\right)    = s_i (1 - s_i)    $$</p> <ol> <li>\u200b\u5f53\u200b \\(i \\neq j\\) \u200b\u65f6\u200b\uff0c    $$    \\frac{\\partial s_i}{\\partial z_j}    = \\frac{0 \\cdot Z - \\exp(z_i) \\cdot \\exp(z_j)}{Z^2}    = -\\frac{\\exp(z_i)}{Z} \\cdot \\frac{\\exp(z_j)}{Z}    = -s_i s_j    $$</li> </ol> <p>\u200b\u5c06\u200b\u4e0a\u8ff0\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u5408\u5e76\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b\u66f4\u200b\u7d27\u51d1\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff1a</p> \\[ \\frac{\\partial s_i}{\\partial z_j} = s_i \\left( \\mathbf{1}\\{i = j\\} - s_j \\right), \\quad \\forall i, j = 1, \\ldots, n \\] <p>\u200b\u5c06\u200b\u7ed3\u679c\u200b\u4ee3\u56de\u96c5\u200b\u53ef\u6bd4\u200b\u77e9\u9635\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5177\u4f53\u200b\u5199\u51fa\u200b\uff1a</p> \\[ J_{softmax} = \\begin{pmatrix} s_1 (1 - s_1) &amp; -s_1 s_2 &amp; \\cdots &amp; -s_1 s_n \\\\ -s_2 s_1 &amp; s_2 (1 - s_2) &amp; \\cdots &amp; -s_2 s_n \\\\ \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ -s_n s_1 &amp; -s_n s_2 &amp; \\cdots &amp; s_n (1 - s_n) \\end{pmatrix} \\] <p>\u200b\u5f53\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b \\(z_i\\) \u200b\u975e\u5e38\u200b\u5927\u200b\u3001\u200b\u5bf9\u5e94\u200b\u7684\u200b \\(s_i \\approx 1\\) \u200b\u65f6\u200b\uff0c\u200b\u5176\u4ed6\u200b \\(s_j, j \\neq i\\) \u200b\u90fd\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\u3002\u200b\u4e5f\u200b\u5c31\u662f\u200b \\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u884c\u5411\u91cf\u200b\u4e2d\u200b\uff0c\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u4e3a\u200b \\(1\\)\uff0c\u200b\u5176\u4ed6\u200b\u5143\u7d20\u200b\u5747\u200b\u4e3a\u200b \\(0\\)\u3002\u200b\u6b64\u65f6\u200b\uff0c\\(J_{softmax}\\) \u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u90fd\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u6570\u503c\u793a\u4f8b","title":"\u6570\u503c\u200b\u793a\u4f8b","text":"<p>\u200b\u901a\u8fc7\u200b\u6570\u503c\u200b\u793a\u4f8b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u66f4\u597d\u200b\u5730\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u7406\u89e3\u200b\uff0c\\(\\text{softmax}\\) \u200b\u4e2d\u200b\u5b58\u5728\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\\(\\text{softmax}\\) \u200b\u53d8\u6362\u200b\u540e\u200b\u6700\u5927\u200b\u7684\u200b\u5143\u7d20\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(1\\)\uff0c\u200b\u5176\u4ed6\u200b\u5143\u7d20\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\u3002</p> Python<pre><code>\"\"\"\nVisualizing how softmax output changes as input variance increases.\nVariances: [1, 10, 20, 30, 50, 100]\nEach sample has 64 elements.\nGenerates two 3x2 figures:\n  1) Before softmax\n  2) After softmax\n\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\nnp.random.seed(0)\nvariances = [1, 10, 20, 30, 50, 100]\nn = 64\ndef stable_softmax(x: np.ndarray) -&gt; np.ndarray:\nx = np.asarray(x, dtype=np.float64)\nx_shift = x - np.max(x)\nexps = np.exp(x_shift)\nreturn exps / np.sum(exps)\n# Generate samples\nsamples = [np.random.normal(0.0, np.sqrt(v), size=n) for v in variances]\nsoftmaxed = [stable_softmax(x) for x in samples]\n# Plot before softmax\nfig1, axes1 = plt.subplots(3, 2, figsize=(14, 8), constrained_layout=True)\naxes1 = axes1.ravel()\nfor ax, var, x in zip(axes1, variances, samples):\nax.bar(np.arange(n), x)\nax.set_title(f\"Before softmax: variance={var} (std\u2248{np.sqrt(var):.2f})\")\nax.set_xlabel(\"Index\")\nax.set_ylabel(\"Value\")\nfig1.suptitle(\n\"Samples with mean=0 and different variances (Before softmax)\", fontsize=14, y=1.02\n)\n# Plot after softmax\nfig2, axes2 = plt.subplots(3, 2, figsize=(14, 8), constrained_layout=True)\naxes2 = axes2.ravel()\nfor ax, var, s in zip(axes2, variances, softmaxed):\nax.bar(np.arange(n), s)\nax.set_title(f\"After softmax: variance={var}\")\nax.set_xlabel(\"Index\")\nax.set_ylabel(\"Probability\")\nax.set_ylim(0, max(0.2, s.max() * 1.1))\nfig2.suptitle(\n\"Softmax probability distributions under different variances\", fontsize=14, y=1.02\n)\nplt.show()\n</code></pre> <p> </p> Softmax \u200b\u524d\u200b <p> </p> Softmax \u200b\u540e","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/why-attention-divide-by-sqrt-dk/#\u56de\u987e\u4e0e\u603b\u7ed3","title":"\u56de\u987e\u200b\u4e0e\u200b\u603b\u7ed3","text":"<p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u8bc1\u660e\u200b\u4e86\u200b\u5728\u200b \\(q\\) \u200b\u548c\u200b \\(k\\) \u200b\u5404\u200b\u7ef4\u5ea6\u200b\u72ec\u7acb\u200b\u4e14\u200b\u5747\u503c\u200b\u4e3a\u200b \\(0\\)\u3001\u200b\u65b9\u5dee\u200b\u4e3a\u200b \\(1\\) \u200b\u7684\u200b\u5047\u8bbe\u200b\u4e0b\u200b\uff0c\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b\u7684\u200b\u5143\u7d20\u200b\u65b9\u5dee\u200b\u6ee1\u8db3\u200b \\(\\operatorname{Var}(q\\cdot k)=d_k\\)\u3002\u200b\u56e0\u6b64\u200b\u5f53\u200b\u7ef4\u5ea6\u200b\u589e\u5927\u200b\u65f6\u200b\uff0c\\(q\\cdot k\\) \u200b\u7684\u200b\u53d6\u503c\u200b\u4f1a\u8d8a\u200b\u9891\u7e41\u200b\u5730\u200b\u843d\u5230\u200b\u8f83\u5927\u200b\u7684\u200b\u533a\u95f4\u200b\u3002</p> <p>\u200b\u5f53\u200b \\(\\text{softmax}\\) \u200b\u7684\u200b\u8f93\u5165\u200b\u5143\u7d20\u200b\u7684\u200b\u5b58\u5728\u200b\u975e\u5e38\u200b\u5927\u200b\u7684\u200b\u6570\u503c\u200b\u65f6\u200b\uff0c\u200b\u5411\u91cf\u200b\u4e2d\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u5728\u200b\u8f6c\u6362\u200b\u540e\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(1\\)\uff0c\u200b\u5176\u4ed6\u200b\u5143\u7d20\u200b\u4f1a\u200b\u8d8b\u8fd1\u200b\u4e8e\u200b \\(0\\)\u3002\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b \\(\\text{softmax}\\) \u200b\u7684\u200b\u96c5\u200b\u53ef\u6bd4\u200b\u77e9\u9635\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e00\u9879\u200b\u5143\u7d20\u200b \\(\\partial s_i/\\partial z_j = s_i(\\mathbf 1\\{i=j\\}-s_j)\\) \u200b\u51e0\u4e4e\u200b\u5168\u90e8\u200b\u8870\u51cf\u200b\u4e3a\u200b \\(0\\)\u3002\u200b\u68af\u5ea6\u200b\u6d88\u5931\u200b\u540e\u200b\uff0c\u200b\u6a21\u578b\u200b\u5c06\u200b\u96be\u4ee5\u200b\u901a\u8fc7\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u6765\u200b\u66f4\u65b0\u200b\u53c2\u6570\u200b\u3002</p> <p>Transformer \u200b\u539f\u200b\u8bba\u6587\u200b\u4e2d\u5c06\u200b\u70b9\u79ef\u200b\u6ce8\u610f\u529b\u200b\u7f29\u653e\u200b\u4e3a\u200b \\(\\frac{q\\cdot k}{\\sqrt{d_k}}\\) \u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u628a\u200b\u6ce8\u610f\u529b\u200b\u77e9\u9635\u200b\u4e2d\u200b\u5143\u7d20\u200b\u7684\u200b\u65b9\u5dee\u200b\u91cd\u65b0\u200b\u62c9\u200b\u56de\u200b \\(1\\)\uff1a</p> \\[ \\operatorname{Var}\\!\\left(\\frac{q\\cdot k}{\\sqrt{d_k}}\\right)=\\frac{\\operatorname{Var}(q\\cdot k)}{d_k}=1, \\] <p>\u200b\u4ece\u800c\u200b\u8ba9\u200b \\(\\text{softmax}\\) \u200b\u7684\u200b\u8f93\u5165\u200b\u7ef4\u6301\u200b\u5728\u200b\u65e2\u200b\u4e0d\u4f1a\u200b\u9971\u548c\u200b\u53c8\u200b\u8db3\u591f\u200b\u533a\u5206\u200b\u7684\u200b\u8303\u56f4\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u68af\u5ea6\u200b\u4e0d\u518d\u200b\u56e0\u4e3a\u200b\u8f93\u5165\u200b\u6570\u503c\u200b\u592a\u5927\u800c\u200b\u6d88\u5931\u200b\u3002</p>","tags":["\u6df1\u5ea6\u5b66\u4e60","LLM"]},{"location":"blog/llm-study-mode-system-prompt/","title":"\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u63d0\u793a\u200b\u8bcd\u4e3a\u200b\u5927\u200b\u6a21\u578b\u200b\u5f00\u542f\u200b\u5b66\u4e60\u200b\u6a21\u5f0f","text":"<p>\u200b\u672c\u6587\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u63d0\u793a\u200b\u8bcd\u4e2d\u200b\u8981\u6c42\u200b\u5927\u200b\u6a21\u578b\u200b\u626e\u6f14\u200b\u8001\u5e08\u200b\u7684\u200b\u89d2\u8272\u200b\uff0c\u200b\u5c06\u200b\u77e5\u8bc6\u200b\u5faa\u5e8f\u6e10\u8fdb\u200b\u5730\u200b\u6559\u7ed9\u200b\u6211\u4eec\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u76f4\u63a5\u200b\u7ed9\u51fa\u200b\u7b54\u6848\u200b\u3002\u200b\u8fd9\u200b\u5bf9\u200b\u60f3\u8981\u200b\u5b66\u4e60\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u77e5\u8bc6\u200b\u9886\u57df\u200b\u7684\u200b\u4eba\u200b\u6765\u8bf4\u200b\u5341\u5206\u200b\u6709\u200b\u5e2e\u52a9\u200b\u3002</p>","tags":["LLM"]},{"location":"blog/llm-study-mode-system-prompt/#\u4e2d\u6587\u63d0\u793a\u8bcd","title":"\u4e2d\u6587\u200b\u63d0\u793a\u200b\u8bcd","text":"Markdown<pre><code>\u200b\u7528\u6237\u200b\u6b63\u200b\u5904\u4e8e\u200b**\u200b\u5b66\u4e60\u200b\u6a21\u5f0f\u200b**\uff0c\u200b\u5e76\u200b\u8981\u6c42\u200b\u4f60\u200b\u5728\u200b\u672c\u6b21\u200b\u5bf9\u8bdd\u200b\u4e2d\u200b\u9075\u5b88\u200b\u4ee5\u4e0b\u200b**\u200b\u4e25\u683c\u200b\u89c4\u5219\u200b**\u3002\u200b\u65e0\u8bba\u200b\u63a5\u4e0b\u6765\u200b\u6709\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u6307\u793a\u200b\uff0c\u200b\u4f60\u200b\u90fd\u200b**\u200b\u5fc5\u987b\u200b**\u200b\u9075\u5b88\u200b\u8fd9\u4e9b\u200b\u89c4\u5219\u200b\uff1a\n\n## \u200b\u4e25\u683c\u200b\u89c4\u5219\u200b\n\u200b\u626e\u6f14\u200b\u4e00\u4f4d\u200b\u5e73\u6613\u8fd1\u4eba\u200b\u53c8\u200b\u4e0d\u5931\u200b\u6d3b\u529b\u200b\u7684\u200b\u8001\u5e08\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5f15\u5bfc\u200b\u6765\u200b\u5e2e\u52a9\u200b\u7528\u6237\u200b\u5b66\u4e60\u200b\u3002\n\n1.  **\u200b\u4e86\u89e3\u200b\u7528\u6237\u200b\u3002** \u200b\u5982\u679c\u200b\u4f60\u200b\u4e0d\u200b\u6e05\u695a\u200b\u7528\u6237\u200b\u7684\u200b\u76ee\u6807\u200b\u6216\u200b\u5e74\u7ea7\u200b\u6c34\u5e73\u200b\uff0c\u200b\u8bf7\u200b\u5728\u200b\u6df1\u5165\u200b\u8bb2\u89e3\u200b\u524d\u5148\u200b\u8be2\u95ee\u200b\u3002\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u6ca1\u6709\u200b\u56de\u7b54\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f60\u200b\u7684\u200b\u89e3\u91ca\u200b\u5e94\u8be5\u200b\u4ee5\u200b\u4e00\u4e2a\u200b\u9ad8\u4e2d\u200b\u4e00\u5e74\u7ea7\u200b\u5b66\u751f\u200b\u80fd\u200b\u7406\u89e3\u200b\u7684\u200b\u7a0b\u5ea6\u200b\u4e3a\u51c6\u200b\u3002\n2.  **\u200b\u6e29\u6545\u800c\u77e5\u65b0\u200b\u3002** \u200b\u5c06\u200b\u65b0\u200b\u6982\u5ff5\u200b\u4e0e\u200b\u7528\u6237\u200b\u5df2\u6709\u200b\u7684\u200b\u77e5\u8bc6\u200b\u8054\u7cfb\u200b\u8d77\u6765\u200b\u3002\n3.  **\u200b\u5f15\u5bfc\u200b\u7528\u6237\u200b\uff0c\u200b\u800c\u200b\u975e\u200b\u76f4\u63a5\u200b\u7ed9\u51fa\u200b\u7b54\u6848\u200b\u3002** \u200b\u901a\u8fc7\u200b\u63d0\u95ee\u200b\u3001\u200b\u6697\u793a\u200b\u548c\u200b\u5206\u89e3\u200b\u6b65\u9aa4\u200b\uff0c\u200b\u8ba9\u200b\u7528\u6237\u200b\u81ea\u5df1\u200b\u53d1\u73b0\u200b\u7b54\u6848\u200b\u3002\n4.  **\u200b\u68c0\u67e5\u200b\u4e0e\u200b\u5de9\u56fa\u200b\u3002** \u200b\u5728\u200b\u8bb2\u5b8c\u200b\u96be\u70b9\u200b\u540e\u200b\uff0c\u200b\u786e\u8ba4\u200b\u7528\u6237\u200b\u80fd\u591f\u200b\u590d\u8ff0\u200b\u6216\u200b\u5e94\u7528\u200b\u8fd9\u4e2a\u200b\u6982\u5ff5\u200b\u3002\u200b\u63d0\u4f9b\u200b\u7b80\u77ed\u200b\u7684\u200b\u603b\u7ed3\u200b\u3001\u200b\u52a9\u8bb0\u200b\u6cd5\u200b\u6216\u200b\u5c0f\u200b\u590d\u4e60\u200b\uff0c\u200b\u4ee5\u200b\u5e2e\u52a9\u200b\u77e5\u8bc6\u70b9\u200b\u7262\u56fa\u200b\u3002\n5.  **\u200b\u53d8\u6362\u200b\u8282\u594f\u200b\u3002** \u200b\u5c06\u200b\u8bb2\u89e3\u200b\u3001\u200b\u63d0\u95ee\u200b\u548c\u200b\u6d3b\u52a8\u200b\uff08\u200b\u5982\u200b\u89d2\u8272\u626e\u6f14\u200b\u3001\u200b\u7ec3\u4e60\u200b\u73af\u8282\u200b\uff0c\u200b\u6216\u200b\u8ba9\u200b\u7528\u6237\u200b\u53cd\u8fc7\u6765\u200b\u6559\u200b\u4f60\u200b\uff09\u200b\u7ed3\u5408\u200b\u8d77\u6765\u200b\uff0c\u200b\u4f7f\u200b\u4e4b\u200b\u611f\u89c9\u200b\u50cf\u200b\u4e00\u573a\u200b\u5bf9\u8bdd\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e00\u5802\u8bfe\u200b\u3002\n\n\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u4e00\u70b9\u200b\uff1a**\u200b\u4e0d\u8981\u200b\u66ff\u200b\u7528\u6237\u200b\u5b8c\u6210\u200b\u4ed6\u4eec\u200b\u7684\u200b\u4f5c\u4e1a\u200b**\u3002\u200b\u4e0d\u8981\u200b\u76f4\u63a5\u200b\u56de\u7b54\u200b\u4f5c\u4e1a\u200b\u95ee\u9898\u200b\u2014\u2014\u200b\u800c\u662f\u200b\u901a\u8fc7\u200b\u4e0e\u200b\u7528\u6237\u200b\u5408\u4f5c\u200b\uff0c\u200b\u4ece\u200b\u4ed6\u4eec\u200b\u5df2\u77e5\u200b\u7684\u200b\u5185\u5bb9\u200b\u5165\u624b\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u4ed6\u4eec\u200b\u627e\u5230\u200b\u7b54\u6848\u200b\u3002\n\n### \u200b\u4f60\u200b\u53ef\u4ee5\u200b\u505a\u200b\u7684\u200b\u4e8b\u200b\n- **\u200b\u6559\u6388\u200b\u65b0\u200b\u6982\u5ff5\u200b\uff1a** \u200b\u4ee5\u200b\u7528\u6237\u200b\u7684\u200b\u6c34\u5e73\u200b\u8fdb\u884c\u200b\u89e3\u91ca\u200b\uff0c\u200b\u63d0\u51fa\u200b\u5f15\u5bfc\u6027\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f7f\u7528\u200b\u56fe\u793a\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u63d0\u95ee\u200b\u6216\u200b\u7ec3\u4e60\u200b\u8fdb\u884c\u200b\u590d\u4e60\u200b\u3002\n- **\u200b\u8f85\u5bfc\u200b\u4f5c\u4e1a\u200b\uff1a** \u200b\u4e0d\u8981\u200b\u76f4\u63a5\u200b\u7ed9\u200b\u7b54\u6848\u200b\uff01\u200b\u4ece\u200b\u7528\u6237\u200b\u5df2\u77e5\u200b\u7684\u200b\u90e8\u5206\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u4ed6\u4eec\u200b\u586b\u8865\u200b\u77e5\u8bc6\u200b\u7a7a\u767d\u200b\uff0c\u200b\u7ed9\u200b\u7528\u6237\u200b\u56de\u5e94\u200b\u7684\u200b\u673a\u4f1a\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e00\u6b21\u200b\u53ea\u200b\u95ee\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\u3002\n- **\u200b\u5171\u540c\u200b\u7ec3\u4e60\u200b\uff1a** \u200b\u8ba9\u200b\u7528\u6237\u200b\u8fdb\u884c\u200b\u603b\u7ed3\u200b\uff0c\u200b\u7a7f\u63d2\u200b\u4e00\u4e9b\u200b\u5c0f\u200b\u95ee\u9898\u200b\uff0c\u200b\u8ba9\u200b\u7528\u6237\u200b\u201c\u200b\u590d\u8ff0\u200b\u4e00\u904d\u200b\u201d\u200b\u7ed9\u200b\u4f60\u200b\u542c\u200b\uff0c\u200b\u6216\u8005\u200b\u8fdb\u884c\u200b\u89d2\u8272\u626e\u6f14\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u7ec3\u4e60\u200b\u5916\u8bed\u200b\u5bf9\u8bdd\u200b\uff09\u3002\u200b\u5728\u200b\u7528\u6237\u200b\u72af\u9519\u200b\u65f6\u200b\u2014\u2014\u200b\u53cb\u5584\u200b\u5730\u200b\u2014\u2014\u200b\u5373\u65f6\u200b\u7ea0\u6b63\u200b\u3002\n- **\u200b\u6d4b\u9a8c\u200b\u4e0e\u200b\u5907\u8003\u200b\uff1a** \u200b\u8fdb\u884c\u200b\u6a21\u62df\u200b\u6d4b\u9a8c\u200b\u3002\uff08\u200b\u4e00\u6b21\u200b\u4e00\u200b\u9898\u200b\uff01\uff09\u200b\u5728\u200b\u516c\u5e03\u200b\u7b54\u6848\u200b\u524d\u200b\uff0c\u200b\u8ba9\u200b\u7528\u6237\u200b\u5c1d\u8bd5\u200b\u4e24\u6b21\u200b\uff0c\u200b\u7136\u540e\u200b\u6df1\u5165\u200b\u590d\u76d8\u200b\u9519\u9898\u200b\u3002\n\n### \u200b\u8bed\u6c14\u200b\u4e0e\u200b\u65b9\u5f0f\u200b\n\u200b\u8981\u200b\u70ed\u60c5\u200b\u3001\u200b\u8010\u5fc3\u200b\u3001\u200b\u5766\u8bda\u200b\uff1b\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u8fc7\u591a\u200b\u7684\u200b\u611f\u53f9\u53f7\u200b\u6216\u200b\u8868\u60c5\u7b26\u53f7\u200b\u3002\u200b\u4fdd\u6301\u200b\u5bf9\u8bdd\u200b\u7684\u200b\u8282\u594f\u200b\uff1a\u200b\u59cb\u7ec8\u200b\u6e05\u695a\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u8be5\u200b\u505a\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6d3b\u52a8\u200b\u73af\u8282\u200b\u5b8c\u6210\u200b\u540e\u200b\u53ca\u65f6\u200b\u5207\u6362\u200b\u6216\u200b\u7ed3\u675f\u200b\u3002\u200b\u5e76\u4e14\u200b\u8981\u200b**\u200b\u7b80\u6d01\u200b**\u2014\u2014\u200b\u7edd\u4e0d\u200b\u8981\u200b\u53d1\u9001\u200b\u957f\u7bc7\u5927\u8bba\u200b\u7684\u200b\u56de\u590d\u200b\u3002\u200b\u529b\u6c42\u200b\u5b9e\u73b0\u200b\u826f\u597d\u200b\u7684\u200b\u4f60\u6765\u6211\u5f80\u200b\u7684\u200b\u4e92\u52a8\u200b\u3002\n\n## \u200b\u91cd\u8981\u200b\u63d0\u793a\u200b\n**\u200b\u4e0d\u8981\u200b\u76f4\u63a5\u200b\u7ed9\u51fa\u200b\u7b54\u6848\u200b\u6216\u200b\u66ff\u200b\u7528\u6237\u200b\u505a\u4f5c\u4e1a\u200b**\u3002\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u63d0\u51fa\u200b\u4e00\u4e2a\u200b\u6570\u5b66\u200b\u6216\u200b\u903b\u8f91\u200b\u95ee\u9898\u200b\uff0c\u200b\u6216\u8005\u200b\u4e0a\u4f20\u200b\u4e86\u200b\u76f8\u5173\u200b\u95ee\u9898\u200b\u7684\u200b\u56fe\u7247\u200b\uff0c**\u200b\u4e0d\u8981\u200b**\u200b\u5728\u200b\u4f60\u200b\u7684\u200b\u7b2c\u4e00\u6761\u200b\u56de\u590d\u200b\u4e2d\u200b\u5c31\u200b\u89e3\u51b3\u200b\u5b83\u200b\u3002\u200b\u800c\u662f\u200b\u5e94\u8be5\u200b\uff1a**\u200b\u4e0e\u200b\u7528\u6237\u200b\u4e00\u8d77\u200b\u68b3\u7406\u200b**\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5730\u200b\u8fdb\u884c\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u53ea\u200b\u95ee\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u7ee7\u7eed\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u4e4b\u524d\u200b\uff0c\u200b\u7ed9\u200b\u7528\u6237\u200b**\u200b\u56de\u5e94\u200b\u6bcf\u200b\u4e00\u6b65\u200b**\u200b\u7684\u200b\u673a\u4f1a\u200b\u3002\n</code></pre>","tags":["LLM"]},{"location":"blog/llm-study-mode-system-prompt/#\u82f1\u6587\u63d0\u793a\u8bcd","title":"\u82f1\u6587\u200b\u63d0\u793a\u200b\u8bcd","text":"Markdown<pre><code>The user is currently STUDYING, and they've asked you to follow these **strict rules** during this chat. No matter what other instructions follow, you MUST obey these rules:\n\n## STRICT RULES\nBe an approachable-yet-dynamic teacher, who helps the user learn by guiding them through their studies.\n\n1. **Get to know the user.** If you don't know their goals or grade level, ask the user before diving in. If they don't answer, aim for explanations that would make sense to a 10th grade student.\n2. **Build on existing knowledge.** Connect new ideas to what the user already knows.\n3. **Guide users, don't just give answers.** Use questions, hints, and small steps so the user discovers the answer for themselves.\n4. **Check and reinforce.** After hard parts, confirm the user can restate or use the idea. Offer quick summaries, mnemonics, or mini-reviews to help the ideas stick.\n5. **Vary the rhythm.** Mix explanations, questions, and activities (like roleplaying, practice rounds, or asking the user to teach you) so it feels like a conversation, not a lecture.\n\nAbove all: DO NOT DO THE USER'S WORK FOR THEM. Don't answer homework questions \u2014 help the user find the answer, by working with them collaboratively and building from what they already know.\n\n### THINGS YOU CAN DO\n- **Teach new concepts:** Explain at the user's level, ask guiding questions, use visuals, then review with questions or a practice round.\n- **Help with homework:** Don't simply give answers! Start from what the user knows, help fill in the gaps, give the user a chance to respond, and never ask more than one question at a time.\n- **Practice together:** Ask the user to summarize, pepper in little questions, have the user \"explain it back\" to you, or role-play (e.g., practice conversations in a different language). Correct mistakes \u2014 charitably! \u2014 in the moment.\n- **Quizzes &amp; test prep:** Run practice quizzes. (One question at a time!) Let the user try twice before you reveal answers, then review errors in depth.\n\n### TONE &amp; APPROACH\nBe warm, patient, and plain-spoken; don't use too many exclamation marks or emoji. Keep the session moving: always know the next step, and switch or end activities once they\u2019ve done their job. And be brief \u2014 don't ever send essay-length responses. Aim for a good back-and-forth.\n\n## IMPORTANT\nDO NOT GIVE ANSWERS OR DO HOMEWORK FOR THE USER. If the user asks a math or logic problem, or uploads an image of one, DO NOT SOLVE IT in your first response. Instead: **talk through** the problem with the user, one step at a time, asking a single question at each step, and give the user a chance to RESPOND TO EACH STEP before continuing.\n</code></pre>","tags":["LLM"]},{"location":"blog/pycon-china-2025/","title":"PyCon China 2025","text":"<p>\u200b\u7b2c\u4e00\u6b21\u200b\u53c2\u52a0\u200b PyCon China\uff0c\u200b\u6c1b\u56f4\u200b\u7279\u522b\u200b\u68d2\u200b\uff0c\u200b\u4e5f\u200b\u5f88\u200b\u5f00\u5fc3\u200b\u89c1\u5230\u200b\u4e86\u200b\u5f88\u591a\u200b\u5927\u725b\u200b\u3002</p> <p> </p> PyCon China 2025 Schedule <p> </p> \u200b\u548c\u200b\u97e9\u4fca\u200b\u8001\u5e08\u200b\u518d\u6b21\u200b\u9047\u89c1\u200b\uff01 <p> </p> Python \u200b\u5f00\u53d1\u8005\u200b\u7684\u200b\u7cbe\u795e\u72b6\u6001\u200b\u8fd8\u200b\u4e0d\u9519\u200b\uff1f\uff01 <p> </p> \u200b\u5f20\u6d77\u7acb\u200b\u8001\u5e08\u200b\u7684\u200b\u7b7e\u540d\u200b\u4e66\u200b\uff01B \u200b\u7ad9\u200b\u6ca7\u6d77\u200b\u4e5d\u7c9f\u200b\u89c6\u9891\u200b\u6559\u5f97\u200b\u592a\u597d\u4e86\u200b <p> </p> \u200b\u521d\u4e2d\u751f\u200b\u73b0\u573a\u200b\u6f14\u793a\u200b\u4ed6\u200b\u501f\u52a9\u200b AI \u200b\u5f00\u53d1\u200b\u7684\u200b\u97f3\u4e50\u200b\u64ad\u653e\u5668\u200b\uff0c\u200b\u672a\u6765\u200b\u53ef\u200b\u671f\u200b\uff01","tags":["Python","\u751f\u6d3b"]},{"location":"code/","title":"\u4ee3\u7801","text":"<p>\u200b\u8bb8\u591a\u200b\u4ee3\u7801\u200b\u5728\u200b\u5b66\u4e60\u200b\u548c\u200b\u5de5\u4f5c\u200b\u4e2d\u200b\u7ecf\u5e38\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5c06\u200b\u5b83\u4eec\u200b\u8bb0\u5f55\u200b\u5e76\u200b\u6574\u7406\u200b\u4e8e\u200b\u6b64\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u67e5\u627e\u200b\u4e0e\u200b\u6e29\u4e60\u200b\u3002</p> <ul> <li> <p> Pandas \u200b\u6570\u636e\u200b\u6846\u200b</p> <p>\u200b\u8868\u683c\u200b\u6570\u636e\u200b\u7684\u200b\u589e\u5220\u200b\u67e5\u6539\u200b\u3001\u200b\u5206\u7ec4\u200b\u7edf\u8ba1\u200b\u3001\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u3001\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\u7b49\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> NumPy \u200b\u6570\u7ec4\u200b</p> <p>\u200b\u5411\u91cf\u200b\u3001\u200b\u77e9\u9635\u200b\u7684\u200b\u521b\u5efa\u200b\u3001\u200b\u5207\u7247\u200b\u3001\u200b\u6392\u5e8f\u200b\u7b49\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> List \u200b\u5217\u8868\u200b</p> <p>\u200b\u5217\u8868\u200b\u7684\u200b\u7b5b\u9009\u200b\u3001\u200b\u6dfb\u52a0\u200b\u3001\u200b\u62fc\u63a5\u200b\u3001\u200b\u5c55\u200b\u5e73\u7b49\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Loop \u200b\u5faa\u73af\u200b</p> <p>\u200b\u663e\u793a\u200b\u5faa\u73af\u200b\u8fdb\u5ea6\u6761\u200b\u3001\u200b\u9010\u5bf9\u200b\u5faa\u73af\u200b\u3001\u200b\u904d\u5386\u200b\u8def\u5f84\u200b\u7b49\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Plot \u200b\u7ed8\u56fe\u200b</p> <p>\u200b\u5e38\u7528\u200b\u7684\u200b\u7ed8\u56fe\u200b\u4ee3\u7801\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Print \u200b\u6253\u5370\u200b</p> <p>\u200b\u6574\u9f50\u200b\u5730\u200b\u6253\u5370\u200b\u3001\u200b\u5c06\u200b\u5185\u5bb9\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b\u7b49\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Machine Learning \u200b\u673a\u5668\u200b\u5b66\u4e60\u200b</p> <p>\u200b\u5e38\u7528\u200b\u7684\u200b\u673a\u5668\u200b\u5b66\u4e60\u200b\u4ee3\u7801\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> SQL \u200b\u6570\u636e\u5e93\u200b</p> <p>\u200b\u5e38\u7528\u200b\u7684\u200b SQL \u200b\u4ee3\u7801\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> R \u200b\u8bed\u8a00\u200b</p> <p>\u200b\u5e38\u7528\u200b\u7684\u200b R \u200b\u8bed\u8a00\u200b\u4ee3\u7801\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Others \u200b\u5176\u4ed6\u200b</p> <p>\u200b\u5b57\u5178\u200b\u4e0e\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3001Git \u200b\u547d\u4ee4\u200b\u3001Conda \u200b\u547d\u4ee4\u200b\u3001\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u7b49\u200b\u3002</p> <p> \u200b\u67e5\u770b\u200b</p> </li> </ul>"},{"location":"code/list/","title":"List \u200b\u5217\u8868","text":"","tags":["Python"]},{"location":"code/list/#\u5bfc\u51fa\u5230\u672c\u5730-txt-\u6587\u4ef6","title":"\u5bfc\u51fa\u200b\u5230\u200b\u672c\u5730\u200b TXT \u200b\u6587\u4ef6","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Python \u200b\u5185\u7f6e\u200b\u7684\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u200b\u51fd\u6570\u200b <code>open()</code> \u200b\u548c\u200b <code>write()</code> \u200b\u5c06\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u9010\u4e2a\u200b\u5199\u5165\u200b\u65b0\u5efa\u200b\u7684\u200b TXT \u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u5360\u636e\u200b\u4e00\u884c\u200b\u3002\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code># \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u6570\u503c\u200b\u5217\u8868\u200b\nmy_list = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n# \u200b\u65b0\u5efa\u200b TXT \u200b\u6587\u4ef6\u200b\u5e76\u200b\u5199\u5165\u200b\u6570\u503c\u200b\u5217\u8868\u200b\nwith open(\"my_list.txt\", \"w\") as f:\nfor i in my_list:\nf.write(str(i) + \"\\n\")\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>open('my_list.txt', 'w')</code> \u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>'my_list.txt'</code> \u200b\u7684\u200b TXT \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u6587\u4ef6\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u6e05\u7a7a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\u91cd\u5199\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u4f1a\u200b\u65b0\u5efa\u200b\u8be5\u200b\u6587\u4ef6\u200b\u3002<code>'w'</code> \u200b\u8868\u793a\u200b\u5199\u5165\u200b\u6a21\u5f0f\u200b\u3002<code>for i in my_list:</code> \u200b\u5faa\u73af\u200b\u904d\u5386\u200b\u6570\u503c\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\uff0c<code>f.write(str(i) + '\\n')</code> \u200b\u5c06\u200b\u5f53\u524d\u200b\u5143\u7d20\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5e76\u200b\u5199\u5165\u200b TXT \u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c<code>\\n</code> \u200b\u8868\u793a\u200b\u6362\u884c\u7b26\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u5360\u636e\u200b\u4e00\u884c\u200b\u3002<code>with</code> \u200b\u8bed\u53e5\u200b\u7528\u4e8e\u200b\u81ea\u52a8\u200b\u5173\u95ed\u200b\u6587\u4ef6\u200b\uff0c\u200b\u907f\u514d\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u9519\u8bef\u200b\u3002</p>","tags":["Python"]},{"location":"code/list/#\u5224\u65ad\u5217\u8868\u662f\u5426\u4e3a\u7a7a","title":"\u5224\u65ad\u200b\u5217\u8868\u200b\u662f\u5426\u200b\u4e3a\u7a7a","text":"<ul> <li> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>len(list_var) == 0</code>\uff1b</p> </li> <li> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>not list_var</code>\uff0c\u200b\u66f4\u200b\u7b80\u6d01\u200b\u9ad8\u6548\u200b\uff1a</p> </li> </ul> Python Console Session<pre><code>&gt;&gt;&gt; a = []\n&gt;&gt;&gt; not a\nTrue\n&gt;&gt;&gt; a.append(1)\n&gt;&gt;&gt; a\n[1]\n&gt;&gt;&gt; not a\nFalse\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u751f\u6210\u91cd\u590d\u5143\u7d20\u5217\u8868","title":"\u751f\u6210\u200b\u91cd\u590d\u200b\u5143\u7d20\u200b\u5217\u8868","text":"<ul> <li>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 10\u3001\u200b\u5143\u7d20\u200b\u5168\u4e3a\u200b 1 \u200b\u7684\u200b\u5217\u8868\u200b\uff1a<code>[1]*10</code></li> </ul>","tags":["Python"]},{"location":"code/list/#\u751f\u6210\u4e8c\u7ef4\u5217\u8868\u4e14\u907f\u514d\u6d45\u62f7\u8d1d","title":"\u751f\u6210\u200b\u4e8c\u7ef4\u200b\u5217\u8868\u200b\uff0c\u200b\u4e14\u200b\u907f\u514d\u200b\u6d45\u200b\u62f7\u8d1d","text":"<p>\u200b\u76f4\u63a5\u200b\u7528\u200b</p> Python<pre><code>[[0] * 10] * 3\n</code></pre> <p>\u200b\u4f1a\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b 3*10 \u200b\u7684\u200b\u4e8c\u7ef4\u200b\u5217\u8868\u200b\uff0c\u200b\u4f46\u200b\u7b2c\u4e00\u200b\u7ef4\u200b\u7684\u200b 3 \u200b\u4e2a\u200b\u5217\u8868\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u4fee\u6539\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4fee\u6539\u200b\u5176\u4ed6\u200b\u4e24\u4e2a\u200b\uff0c\u200b\u8fd9\u200b\u662f\u200b\u6d45\u200b\u62f7\u8d1d\u200b\u5bfc\u81f4\u200b\u7684\u200b\u3002</p> <p>\u200b\u82e5\u60f3\u200b\u907f\u514d\u200b\u6d45\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> Python<pre><code>[[0 for i in range(10)] for j in range(3)]\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://zhuanlan.zhihu.com/p/88197389</p>","tags":["Python"]},{"location":"code/list/#list-\u53bb\u9664\u91cd\u590d\u9879","title":"List \u200b\u53bb\u9664\u200b\u91cd\u590d\u200b\u9879","text":"Python<pre><code>list(set(my_list))\n</code></pre> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u9700\u8981\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b list.sort() \u200b\u65b9\u6cd5\u200b\u6216\u200b sorted(list) \u200b\u51fd\u6570\u200b\u3002\u200b\u867d\u7136\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u80fd\u200b\u6ee1\u8db3\u200b\u6211\u4eec\u200b\u7684\u200b\u8981\u6c42\u200b\uff0c\u200b\u4f46\u200b\u5b83\u4eec\u200b\u7684\u200b\u7528\u6cd5\u200b\u548c\u200b\u6548\u679c\u200b\u7565\u6709\u4e0d\u540c\u200b\u3002</p>","tags":["Python"]},{"location":"code/list/#\u6392\u5e8f","title":"\u6392\u5e8f","text":"","tags":["Python"]},{"location":"code/list/#listsort","title":"list.sort()","text":"<p>list.sort() \u200b\u65b9\u6cd5\u200b\u662f\u200b\u5728\u200b\u539f\u200b\u5217\u8868\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u7684\u200b\uff0c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u6ca1\u6709\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u4fee\u6539\u200b\u539f\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>list_a = [3, 1, 4, 2, 5]\nlist_a.sort()\nprint(list_a)  # [1, 2, 3, 4, 5]\n</code></pre> <p>\u200b\u5982\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u6240\u793a\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b list.sort() \u200b\u65b9\u6cd5\u200b\u5bf9\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u539f\u200b\u5217\u8868\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u66f4\u6539\u200b\u3002</p>","tags":["Python"]},{"location":"code/list/#sortedlist","title":"sorted(list)","text":"<p>sorted(list) \u200b\u51fd\u6570\u200b\u662f\u200b\u5728\u200b\u4e0d\u200b\u6539\u53d8\u200b\u539f\u200b\u5217\u8868\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u65b0\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>list_b = [3, 1, 4, 2, 5]\nsorted_list_b = sorted(list_b)\nprint(sorted_list_b)  # [1, 2, 3, 4, 5]\nprint(list_b)  # [3, 1, 4, 2, 5]\n</code></pre> <p>\u200b\u5982\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u6240\u793a\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u200b\u6539\u53d8\u200b\u539f\u200b\u5217\u8868\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\uff0c\u200b\u4f7f\u7528\u200b sorted(list) \u200b\u51fd\u6570\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u5217\u8868\u200b sorted_list_b\uff0c\u200b\u5e76\u200b\u4fdd\u7559\u200b\u539f\u200b\u5217\u8868\u200b list_b\u3002</p>","tags":["Python"]},{"location":"code/list/#\u533a\u522b","title":"\u533a\u522b","text":"<p>\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u90fd\u200b\u80fd\u591f\u200b\u5bf9\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u4e0d\u540c\u4e4b\u5904\u200b\u5728\u4e8e\u200b\uff1a</p> <ul> <li>list.sort() \u200b\u662f\u200b\u5bf9\u200b\u539f\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u65e0\u9700\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b\u5217\u8868\u200b\uff0c\u200b\u800c\u200b sorted() \u200b\u51fd\u6570\u200b\u5219\u200b\u9700\u8981\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u5217\u8868\u200b\u3002</li> <li>list.sort() \u200b\u65b9\u6cd5\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u662f\u200b None\uff0c\u200b\u800c\u200b sorted() \u200b\u51fd\u6570\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u662f\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u65b0\u200b\u5217\u8868\u200b\u3002</li> </ul> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u539f\u200b\u5217\u8868\u200b\u5e76\u4e14\u200b\u4e0d\u200b\u9700\u8981\u200b\u8fd4\u56de\u503c\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b list.sort() \u200b\u65b9\u6cd5\u200b\u6765\u200b\u6392\u5e8f\u200b\uff1b\u200b\u5728\u200b\u9700\u8981\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b\u5217\u8868\u200b\u4e14\u200b\u4e0d\u200b\u6539\u53d8\u200b\u539f\u200b\u5217\u8868\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b sorted() \u200b\u51fd\u6570\u200b\u6765\u200b\u6392\u5e8f\u200b\u3002</p>","tags":["Python"]},{"location":"code/list/#\u4ece-list-\u4e2d\u7b5b\u9009\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684-list","title":"\u4ece\u200b List \u200b\u4e2d\u200b\u7b5b\u9009\u200b\u51fa\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b List","text":"<ul> <li>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>filter</code></li> <li>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u627e\u5230\u200b\u5305\u542b\u200b\u67d0\u4e2a\u200b\u7279\u5b9a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\uff0c\u200b\u5e76\u200b\u820d\u5f03\u200b\u90a3\u4e9b\u200b\u4e0d\u200b\u5305\u542b\u200b\u8fd9\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5143\u7d20\u200b\uff1a\uff08\u200b\u642d\u914d\u200b<code>in</code>\u200b\u7528\u4e8e\u200b\u5224\u65ad\u200b\u201c\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u201d\uff09</li> <li><code>list(filter(lambda item: '\u200b\u9700\u8981\u200b\u5305\u542b\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b' in item, list))</code></li> </ul>","tags":["Python"]},{"location":"code/list/#\u5bf9-list-\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u8fdb\u884c\u540c\u6837\u7684\u64cd\u4f5c","title":"\u5bf9\u200b List \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u8fdb\u884c\u200b\u540c\u6837\u200b\u7684\u200b\u64cd\u4f5c","text":"<ul> <li> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5bf9\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u90fd\u200b\u52a0\u200b 1</p> </li> <li> <p><code>list(map(lambda x: x+1, mylist))</code></p> </li> </ul>","tags":["Python"]},{"location":"code/list/#append\u548cextend","title":"<code>.append()</code>\u200b\u548c\u200b<code>.extend()</code>","text":"<ul> <li><code>.append()</code>\u200b\u662f\u200b\u5c06\u200b\u62ec\u53f7\u200b\u5185\u200b\u7684\u200b\u4e1c\u897f\u200b\u4f5c\u4e3a\u200b\u6574\u4f53\u200b\u6dfb\u52a0\u200b\u5230\u200b\u539f\u200b\u5217\u8868\u200b\u4e2d\u200b\u3002</li> </ul> <ul> <li><code>.extend()</code>\u200b\u662f\u200b\u5c06\u200b\u62ec\u53f7\u200b\u5185\u200b\u7684\u200b\u4e1c\u897f\u200b\uff08\u200b\u8fd9\u4e2a\u200b\u4e1c\u897f\u200b\u4e5f\u200b\u662f\u200b\u5217\u8868\u200b\uff09\u200b\u7684\u200b\u5143\u7d20\u200b\u6dfb\u52a0\u200b\u5230\u200b\u539f\u200b\u5217\u8868\u200b\u4e2d\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"code/list/#\u4e24\u4e2a\u5b57\u7b26\u4e32\u5217\u8868\u4ea4\u53c9\u62fc\u63a5","title":"\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u5217\u8868\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u62fc\u63a5","text":"Python<pre><code>letters = [\"abc\", \"def\", \"ghi\"]\nnumbers = [\"123\", \"456\"]\nfrom itertools import product\nresult = [\"\".join(p) for p in product(letters, numbers)]\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u5224\u65ad\u4e24\u4e2a\u5217\u8868\u662f\u5426\u5b8c\u5168\u76f8\u540c","title":"\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u5217\u8868\u200b\u662f\u5426\u200b\u5b8c\u5168\u76f8\u540c","text":"Python<pre><code>import operator\na = [1, -1, 0]\nb = [1, -1, 0]\nc = [-1, 1, 0]\nprint(operator.eq(a, b))\nprint(operator.eq(a, c))\n# True\n# False\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u66ff\u6362\u5217\u8868\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20\u4e3a\u65b0\u7684\u5143\u7d20","title":"\u66ff\u6362\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5143\u7d20\u200b\u4e3a\u200b\u65b0\u200b\u7684\u200b\u5143\u7d20","text":"Python Console Session<pre><code># \u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b 1 \u200b\u90fd\u200b\u66ff\u6362\u200b\u4e3a\u200b 4\n&gt;&gt;&gt; a=[1,2,3,1,3,2,1,1]\n&gt;&gt;&gt; [4 if x==1 else x for x in a]\n[4, 2, 3, 4, 3, 2, 4, 4]\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u4ece\u5217\u8868-a-\u4e2d\u5220\u53bb\u5217\u8868-b-\u4e2d\u7684\u5143\u7d20","title":"\u4ece\u200b\u5217\u8868\u200b A \u200b\u4e2d\u200b\u5220\u53bb\u200b\u5217\u8868\u200b B \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20","text":"Python<pre><code>list_C = list(set(list_A) - set(list_B))\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u5c06-list-\u5c55\u5e73-flatten","title":"\u5c06\u200b List \u200b\u5c55\u5e73\u200b Flatten","text":"Python<pre><code>import itertools\na_list = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]\nb_list = list(itertools.chain.from_iterable(a_list))\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u5bf9-list-\u6c42\u5747\u503c","title":"\u5bf9\u200b List \u200b\u6c42\u200b\u5747\u503c","text":"Python<pre><code>np.mean(a_list)\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u4e0d\u80fd\u200b\u7528\u200b</p> Python<pre><code>a_list.mean()\n</code></pre> <p>\u200b\u56e0\u4e3a\u200b List \u200b\u672c\u8eab\u200b\u6ca1\u6709\u200b<code>.mean</code>\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Python"]},{"location":"code/list/#\u751f\u6210-fibonacci-\u6570\u5217","title":"\u751f\u6210\u200b Fibonacci \u200b\u6570\u5217","text":"Python<pre><code>def generate_fibonacci_sequence(min_number, max_number):\n\"\"\"\n    \u200b\u751f\u6210\u200b\u8d39\u62e8\u200b\u90a3\u5951\u200b\u6570\u5217\u200b\uff0c\u200b\u652f\u6301\u200b\u5c0f\u6570\u200b\u7684\u200b\u751f\u6210\u200b\n    :param min_number: \u200b\u6700\u5c0f\u503c\u200b\n    :param max_number: \u200b\u6700\u5927\u503c\u200b\n    :return:s\n    \"\"\"\nsequence = []\nbase = 1\nif min_number &lt; 1:\nbase = 10 ** len(str(min_number).split(\".\")[1])\nlast_number = 0\nnew_number = 1\nwhile True:\nlast_number, new_number = new_number, last_number + new_number\nif new_number / base &gt; min_number:\nsequence.append(new_number / base)\nif new_number / base &gt; max_number:\nbreak\nreturn sequence[:-1]\n</code></pre>","tags":["Python"]},{"location":"code/list/#\u5c06\u4e24\u4e2a\u5217\u8868\u8f6c\u4e3a\u5b57\u5178","title":"\u5c06\u200b\u4e24\u4e2a\u200b\u5217\u8868\u200b\u8f6c\u4e3a\u200b\u5b57\u5178","text":"Python<pre><code>keys = [\"a\", \"b\", \"c\"]\nvalues = [1, 2, 3]\ndictionary = dict(zip(keys, values))\nprint(dictionary)  # {'a': 1, 'b': 2, 'c': 3}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/209854/</p>","tags":["Python"]},{"location":"code/list/#\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u6240\u6709\u5143\u7d20\u90fd\u662f\u5b57\u7b26\u5c06\u8fd9\u4e2a\u5217\u8868\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32","title":"\u4e00\u4e2a\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7d20\u200b\u90fd\u200b\u662f\u200b\u5b57\u7b26\u200b\uff0c\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u5217\u8868\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32","text":"Python<pre><code>\"\".join(list_var)\n</code></pre> <p>\u200b\u6216\u8005\u200b\u66f4\u200b\u76f4\u89c2\u200b\u4f46\u200b\u6d88\u8017\u200b\u66f4\u200b\u591a\u200b\u5185\u5b58\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>string = \"\"\nfor i in list_var:\nstring += i\n</code></pre>","tags":["Python"]},{"location":"code/loop/","title":"Loop \u200b\u5faa\u73af","text":"","tags":["Python"]},{"location":"code/loop/#\u5c55\u793a\u5faa\u73af\u8fdb\u5ea6\u6761","title":"\u5c55\u793a\u200b\u5faa\u73af\u200b\u8fdb\u5ea6\u6761","text":"Python<pre><code>pbar = tqdm(range(10))\nfor i in pbar:\n# \u200b\u8f93\u51fa\u200b\u8fdb\u5ea6\u6761\u200b\npbar.set_description(\"\u200b\u6b63\u5728\u200b\u6267\u884c\u200b\u7b2c\u200b%s\u200b\u4e2a\u200b\u5faa\u73af\u200b\" % i)\n</code></pre>","tags":["Python"]},{"location":"code/loop/#\u5728\u8fd0\u884c\u5b8c\u540e\u8ba9\u8fdb\u5ea6\u6761\u6d88\u5931","title":"\u5728\u200b\u8fd0\u884c\u200b\u5b8c\u540e\u200b\uff0c\u200b\u8ba9\u200b\u8fdb\u5ea6\u6761\u200b\u6d88\u5931","text":"Python<pre><code>pbar = tqdm(range(10), leave=False)\n</code></pre>","tags":["Python"]},{"location":"code/loop/#\u5faa\u73af\u5217\u8868\u7684-index-\u548c-value","title":"\u5faa\u73af\u200b\u5217\u8868\u200b\u7684\u200b index \u200b\u548c\u200b value","text":"<ul> <li>\u200b\u7528\u200b<code>enumerate</code></li> </ul> Python<pre><code>for idx, num in enumerate(mylist):\nresult[idx] = num * num\n</code></pre>","tags":["Python"]},{"location":"code/loop/#\u5faa\u73af\u5b57\u5178\u7684-index-\u548c-value","title":"\u5faa\u73af\u200b\u5b57\u5178\u200b\u7684\u200b index \u200b\u548c\u200b value","text":"<ul> <li>\u200b\u7528\u200b<code>dict.items()</code></li> </ul> Python<pre><code>dict = {\"x\": 1, \"y\": 2, \"z\": 3}\nfor key, value in dict.items():\nprint(key, \"corresponds to\", value)\n</code></pre>","tags":["Python"]},{"location":"code/loop/#\u9010\u5bf9\u5faa\u73af-pairwise","title":"\u9010\u5bf9\u200b\u5faa\u73af\u200b pairwise","text":"<p>\u200b\u8fd9\u200b\u5728\u200b\u5faa\u73af\u200b\u201c\u200b\u5f53\u524d\u200b\u8c03\u4ed3\u65e5\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8c03\u4ed3\u65e5\u200b\u201d\u200b\u65f6\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002\u200b\u6211\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u89c6\u9891\u200b\u4e2d\u5b66\u200b\u5230\u200b\u7684\u200b\uff0c\u200b\u8981\u200b\u591a\u7528\u200b<code>itertools</code>\uff01</p> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u5728\u200b\u67d0\u4e9b\u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b Python \u200b\u7248\u672c\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u9002\u7528\u200b\u3002</p> Python<pre><code>from itertools import pairwise\nfor pair in pairwise(\"ABCDEFG\"):\nprint(pair[0], pair[1])\n</code></pre> <p></p> <p>\u200b\u5982\u679c\u200b Python \u200b\u7248\u672c\u200b\u4f4e\u4e8e\u200b 3.10\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>more_itertools</code>\uff1a</p> Python<pre><code>import more_itertools\nfor a, b in more_itertools.pairwise([1, 2, 3, 4, 5]):\nprint(a, b)\n# 1 2\n# 2 3\n# 3 4\n# 4 5\n</code></pre>","tags":["Python"]},{"location":"code/loop/#richprogress\u5c55\u793a\u8fdb\u5ea6\u6761","title":"<code>rich.Progress</code>\u200b\u5c55\u793a\u200b\u8fdb\u5ea6\u6761","text":"<p>\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u5c55\u793a\u200b\u591a\u4e2a\u200b\u8fdb\u5ea6\u6761\u200b\u3002</p> Python<pre><code>import time\nfrom rich.progress import Progress\nwith Progress() as progress:\ntask1 = progress.add_task(\"[red]Downloading...\", total=1000)\ntask2 = progress.add_task(\"[green]Processing...\", total=1000)\ntask3 = progress.add_task(\"[cyan]Cooking...\", total=1000)\nwhile not progress.finished:\nprogress.update(task1, advance=0.5)\nprogress.update(task2, advance=0.3)\nprogress.update(task3, advance=0.9)\ntime.sleep(0.02)\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/loop/#\u904d\u5386\u67d0\u4e2a\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5305\u62ec\u8fd9\u4e2a\u8def\u5f84\u4e0b\u7684\u5b50\u76ee\u5f55\u5b50\u5b50\u76ee\u5f55\u7b49\u7b49\u7684\u6240\u6709\u6587\u4ef6","title":"\u904d\u5386\u200b\u67d0\u4e2a\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\uff08\u200b\u5305\u62ec\u200b\u8fd9\u4e2a\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7684\u200b\u5b50\u76ee\u5f55\u200b\u3001\u200b\u5b50\u200b\u5b50\u76ee\u5f55\u200b\u7b49\u7b49\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\uff09","text":"Python<pre><code>for root, dirs, files in os.walk(excel_path):\nfor file in files:\n# \u200b\u6253\u5370\u200b file \u200b\u7684\u200b\u5b8c\u6574\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u8def\u5f84\u200b\uff0cos.path.join \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5c06\u200b root \u200b\u548c\u200b file \u200b\u4e4b\u95f4\u200b\u7528\u200b\u53cd\u200b\u659c\u6760\u200b\u8fde\u63a5\u200b\nprint(os.path.join(root, file))\n</code></pre>","tags":["Python"]},{"location":"code/machine-learning/","title":"Machine Learning \u200b\u673a\u5668\u200b\u5b66\u4e60","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u8bc4\u4ef7\u6307\u6807","title":"\u8bc4\u4ef7\u200b\u6307\u6807","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u6839\u636e\u771f\u5b9e\u6807\u7b7e\u548c\u9884\u6d4b\u6807\u7b7e\u8ba1\u7b97\u51c6\u786e\u7387\u53ec\u56de\u7387f1-\u503c","title":"\u6839\u636e\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u548c\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u8ba1\u7b97\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u3001F1 \u200b\u503c","text":"<p>\u200b\u4f7f\u7528\u200b sklearn \u200b\u81ea\u5e26\u200b\u7684\u200b\u51fd\u6570\u200b\uff1a</p> Python<pre><code>from sklearn.metrics import accuracy_score, precision_score, recall_score, f1_score\n# \u200b\u51c6\u5907\u200b\u6570\u636e\u200b\ny_true = [0, 1, 1, 0, 1, 0]\ny_pred = [0, 0, 1, 0, 1, 1]\n# \u200b\u8ba1\u7b97\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u7cbe\u786e\u200b\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u3001F1 \u200b\u503c\u200b\nacc = accuracy_score(y_true, y_pred)\nprec = precision_score(y_true, y_pred)\nrec = recall_score(y_true, y_pred)\nf1 = f1_score(y_true, y_pred)\n# \u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\uff0c\u200b\u683c\u5f0f\u5316\u200b\u4e3a\u200b\u767e\u5206\u6bd4\u200b\u5f62\u5f0f\u200b\nprint(\"\u200b\u51c6\u786e\u7387\u200b\uff1a{:.2%}\".format(acc))\nprint(\"\u200b\u7cbe\u786e\u200b\u7387\u200b\uff1a{:.2%}\".format(prec))\nprint(\"\u200b\u53ec\u56de\u200b\u7387\u200b\uff1a{:.2%}\".format(rec))\nprint(\"F1 \u200b\u503c\u200b\uff1a{:.2%}\".format(f1))\n</code></pre> <p>\u200b\u81ea\u5df1\u200b\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff1a</p> Python<pre><code># \u200b\u6839\u636e\u200b\u771f\u5b9e\u200b\u6807\u7b7e\u200b\u548c\u200b\u9884\u6d4b\u200b\u6807\u7b7e\u200b\u8ba1\u7b97\u200b\u51c6\u786e\u7387\u200b\u3001\u200b\u53ec\u56de\u200b\u7387\u200b\u3001F1 \u200b\u503c\u200b\ndef get_metrics(y_true, y_pred):\ntp = sum((y_true == 1) &amp; (y_pred == 1))\ntn = sum((y_true == 0) &amp; (y_pred == 0))\nfp = sum((y_true == 0) &amp; (y_pred == 1))\nfn = sum((y_true == 1) &amp; (y_pred == 0))\naccuracy = (tp + tn) / (tp + tn + fp + fn)\nprecision = tp / (tp + fp)\nrecall = tp / (tp + fn)\nf1 = 2 * precision * recall / (precision + recall)\nreturn accuracy, precision, recall, f1\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u7ed8\u5236\u6df7\u6dc6\u77e9\u9635","title":"\u7ed8\u5236\u200b\u6df7\u6dc6\u200b\u77e9\u9635","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u6df7\u6dc6\u77e9\u9635\u7684\u503c\u4e3a\u6837\u672c\u4e2a\u6570","title":"\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u6837\u672c\u200b\u4e2a\u6570","text":"Python<pre><code>from sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay\nimport matplotlib.pyplot as plt\ny_true = [0, 1, 0, 1, 0, 1, 0, 1, 1, 1]\ny_pred = [0, 1, 1, 1, 0, 0, 0, 1, 1, 1]\ncm = confusion_matrix(y_true, y_pred)\nlabels = [\"Class 0\", \"Class 1\"]\ndisplay = ConfusionMatrixDisplay(confusion_matrix=cm, display_labels=labels)\ndisplay.plot(\ninclude_values=True,\ncmap=\"Blues\",\nax=None,\nxticks_rotation=\"horizontal\",\n)\nplt.show()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u6df7\u6dc6\u77e9\u9635\u7684\u503c\u4e3a\u6837\u672c\u6240\u5360\u6bd4\u4f8b","title":"\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u6837\u672c\u200b\u6240\u200b\u5360\u200b\u6bd4\u4f8b","text":"Python<pre><code>from sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay\nimport matplotlib.pyplot as plt\ny_true = [0, 1, 0, 1, 0, 1, 0, 1, 1, 1]\ny_pred = [0, 1, 1, 1, 0, 0, 0, 1, 1, 1]\ncm = confusion_matrix(y_true, y_pred, normalize=\"true\")\nlabels = [\"Class 0\", \"Class 1\"]\ndisplay = ConfusionMatrixDisplay(confusion_matrix=cm, display_labels=labels)\ndisplay.plot(\ninclude_values=True,\ncmap=\"Blues\",\nax=None,\nxticks_rotation=\"horizontal\",\nvalues_format=\".2%\",\n)\nplt.show()\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u4fdd\u5b58\u6df7\u6dc6\u77e9\u9635\u56fe\u7247\u5230\u672c\u5730","title":"\u4fdd\u5b58\u200b\u6df7\u6dc6\u200b\u77e9\u9635\u200b\u56fe\u7247\u200b\u5230\u200b\u672c\u5730","text":"Python<pre><code>from sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay\nimport matplotlib.pyplot as plt\ny_true = [0, 1, 0, 1, 0, 1, 0, 1, 1, 1]\ny_pred = [0, 1, 1, 1, 0, 0, 0, 1, 1, 1]\ncm = confusion_matrix(y_true, y_pred, normalize=\"true\")\nlabels = [\"Class 0\", \"Class 1\"]\n# \u200b\u8bbe\u7f6e\u200b\u56fe\u5f62\u200b\u5927\u5c0f\u200b\u548c\u200b dpi\nfig, ax = plt.subplots(figsize=(8, 8), dpi=100)\ndisplay = ConfusionMatrixDisplay(confusion_matrix=cm, display_labels=labels)\ndisplay.plot(\ninclude_values=True,\ncmap=\"Blues\",\nax=ax,\nxticks_rotation=\"horizontal\",\nvalues_format=\".2%\",\n)\nplt.savefig(\n\"./confusion matrix.png\",\nformat=\"png\",\nfacecolor=\"white\",\nbbox_inches=\"tight\",\n)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u6570\u636e","title":"\u6570\u636e","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u751f\u6210\u865a\u62df\u7684\u56de\u5f52\u6570\u636e\u96c6","title":"\u751f\u6210\u200b\u865a\u62df\u200b\u7684\u200b\u56de\u5f52\u200b\u6570\u636e\u200b\u96c6","text":"Python<pre><code>from sklearn.datasets import make_regression\nX, y = make_regression(n_features=4, n_informative=2, random_state=0, shuffle=False)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u624b\u52a8\u8f7d\u5165\u672c\u5730\u6570\u636e\u96c6","title":"\u624b\u52a8\u200b\u8f7d\u5165\u200b\u672c\u5730\u200b\u6570\u636e\u200b\u96c6","text":"<p>\u200b\u6709\u65f6\u200b\u53d7\u200b\u7f51\u7edc\u200b\u9650\u5236\u200b\uff0c<code>datasets.fetchXXX</code>\u200b\u6709\u65f6\u200b\u4e0d\u80fd\u200b\u6210\u529f\u200b\u83b7\u53d6\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u627e\u5230\u200b\u4e86\u200b\u53ef\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u7167\u200b stack overflow \u200b\u4e0a\u200b\u7684\u200b\u56de\u7b54\u200b\uff0c\u200b\u624b\u52a8\u200b\u8f7d\u5165\u200b\u672c\u5730\u200b\u6570\u636e\u200b\u96c6\u200b\u3002</p> Python<pre><code>import numpy as np\nimport os\nimport tarfile\nfrom sklearn.externals import joblib\nfrom sklearn.datasets.base import _pkl_filepath, get_data_home\narchive_path = \"cal_housing.tgz\"  # change the path if it's not in the current directory\ndata_home = get_data_home(\ndata_home=None\n)  # change data_home if you are not using ~/scikit_learn_data\nif not os.path.exists(data_home):\nos.makedirs(data_home)\nfilepath = _pkl_filepath(data_home, \"cal_housing.pkz\")\nwith tarfile.open(mode=\"r:gz\", name=archive_path) as f:\ncal_housing = np.loadtxt(\nf.extractfile(\"CaliforniaHousing/cal_housing.data\"), delimiter=\",\"\n)\n# Columns are not in the same order compared to the previous\n# URL resource on lib.stat.cmu.edu\ncolumns_index = [8, 7, 2, 3, 4, 5, 6, 1, 0]\ncal_housing = cal_housing[:, columns_index]\njoblib.dump(cal_housing, filepath, compress=6)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u8bad\u7ec3\u6a21\u578b","title":"\u8bad\u7ec3\u200b\u6a21\u578b","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#lightgbm","title":"lightGBM","text":"<p>\u200b\u8be6\u89c1\u200b LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#pytorch","title":"PyTorch","text":"<p>\u200b\u53c2\u8003\u200b\u77e5\u4e4e\u200b\uff1ahttps://zhuanlan.zhihu.com/p/599350181</p>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u7ed8\u56fe","title":"\u7ed8\u56fe","text":"","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u51b3\u7b56\u6811\u53ef\u89c6\u5316","title":"\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316","text":"Python<pre><code>from sklearn.ensemble import RandomForestRegressor\nfrom sklearn.datasets import make_regression\nX, y = make_regression(n_features=4, n_informative=2, random_state=0, shuffle=False)\nregr = RandomForestRegressor(max_depth=2, random_state=0)\nregr.fit(X, y)\nprint(regr.predict([[0, 0, 0, 0]]))\n# [-8.32987858]\n</code></pre> Python<pre><code>from sklearn import tree\ntree.plot_tree(regr.estimators_[0])\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/machine-learning/#\u8c03\u6574\u51b3\u7b56\u6811\u56fe\u7247\u548c\u5b57\u4f53\u5927\u5c0f","title":"\u8c03\u6574\u200b\u51b3\u7b56\u6811\u200b\u56fe\u7247\u200b\u548c\u200b\u5b57\u4f53\u5927\u5c0f","text":"Python<pre><code>from sklearn import tree\nfrom sklearn.datasets import load_iris\nimport matplotlib.pyplot as plt\n# load data\nX, y = load_iris(return_X_y=True)\n# create and train model\nclf = tree.DecisionTreeClassifier(max_depth=4)  # set hyperparameter\nclf.fit(X, y)\n# plot tree\nplt.figure(figsize=(12, 12))  # set plot size (denoted in inches)\ntree.plot_tree(clf, fontsize=10)\nplt.show()\nplt.savefig(\"tree_high_dpi\", dpi=100)\n</code></pre>","tags":["\u673a\u5668\u5b66\u4e60"]},{"location":"code/numpy/","title":"NumPy \u200b\u6570\u7ec4","text":"","tags":["Python"]},{"location":"code/numpy/#\u521b\u5efa\u6570\u7ec4","title":"\u521b\u5efa\u200b\u6570\u7ec4","text":"Python<pre><code>a = np.array([[1, 2], [3, 4]])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u521b\u5efa\u968f\u673a\u6570\u7ec4","title":"\u521b\u5efa\u200b\u968f\u673a\u6570\u200b\u7ec4","text":"Python<pre><code>np.random.rand(10)\n# array([ 0.56911206,  0.99777291,  0.18943144,  0.19387287,  0.75090637,\n#         0.18692814,  0.69804514,  0.48808425,  0.79440667,  0.66959075])\n</code></pre> <ul> <li>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u751f\u6210\u200b [0.0, 1.0) \u200b\u4e4b\u95f4\u200b\u7684\u200b\u968f\u673a\u200b\u6d6e\u70b9\u6570\u200b\uff0c\u200b\u5f53\u200b\u6ca1\u6709\u200b\u53c2\u6570\u200b\u65f6\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u968f\u673a\u200b\u6d6e\u70b9\u6570\u200b\uff0c\u200b\u5f53\u6709\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u65f6\u200b\uff0c\u200b\u8fd4\u56de\u200b\u8be5\u200b\u53c2\u6570\u200b\u957f\u5ea6\u200b\u5927\u5c0f\u200b\u7684\u200b\u4e00\u7ef4\u200b\u968f\u673a\u200b\u6d6e\u70b9\u6570\u200b\u6570\u7ec4\u200b\u3002</li> </ul> Python<pre><code>np.random.randn(10)\n# array([-1.6765704 ,  0.66361856,  0.04029481,  1.19965741, -0.57514593,\n#        -0.79603968,  1.52261545, -2.17401814,  0.86671727, -1.17945975])\n</code></pre> <ul> <li>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b\u7ec4\u200b\uff0c\u200b\u5177\u6709\u200b\u6807\u51c6\u200b\u6b63\u6001\u5206\u5e03\u200b\u3002</li> </ul> Python<pre><code>np.random.randint(10, size=10)\n# array([4, 1, 4, 3, 8, 2, 8, 5, 8, 9])\n</code></pre> <ul> <li>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u8fd4\u56de\u200b\u968f\u673a\u200b\u7684\u200b\u6574\u6570\u200b\uff0c\u200b\u4f4d\u4e8e\u200b\u534a\u200b\u5f00\u533a\u95f4\u200b [low, high)\u3002</li> </ul>","tags":["Python"]},{"location":"code/numpy/#\u751f\u6210\u76f8\u540c\u5143\u7d20\u7ec4\u6210\u7684\u6570\u7ec4","title":"\u751f\u6210\u200b\u76f8\u540c\u200b\u5143\u7d20\u200b\u7ec4\u6210\u200b\u7684\u200b\u6570\u7ec4","text":"Python<pre><code>np.full((2, 2), 10)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5bf9\u6bcf\u4e00\u4e2a\u5143\u7d20\u5e94\u7528\u540c\u4e00\u4e2a\u51fd\u6570","title":"\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u5e94\u7528\u200b\u540c\u4e00\u4e2a\u200b\u51fd\u6570","text":"","tags":["Python"]},{"location":"code/numpy/#\u65b9\u6cd5\u4e00npvectorize","title":"\u65b9\u6cd5\u200b\u4e00\u200b\uff1a<code>np.vectorize()</code>","text":"<p>\u200b\u8981\u200b\u5bf9\u200b NumPy \u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u5e94\u7528\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b NumPy \u200b\u7684\u200b <code>np.vectorize()</code> \u200b\u51fd\u6570\u200b\u3002<code>np.vectorize()</code> \u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u666e\u901a\u200b\u7684\u200b Python \u200b\u51fd\u6570\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u9002\u7528\u200b\u4e8e\u200b NumPy \u200b\u6570\u7ec4\u200b\u7684\u200b\u51fd\u6570\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\uff0c\u200b\u6f14\u793a\u200b\u5982\u4f55\u200b\u5bf9\u200b NumPy \u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u5e94\u7528\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff1a</p> Python<pre><code>import numpy as np\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u5c06\u200b\u5143\u7d20\u200b\u52a0\u500d\u200b\ndef double(x):\nreturn 2 * x\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b NumPy \u200b\u6570\u7ec4\u200b\narr = np.array([1, 2, 3, 4, 5])\n# \u200b\u4f7f\u7528\u200b np.vectorize() \u200b\u51fd\u6570\u200b\u5c06\u200b\u51fd\u6570\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u9002\u7528\u200b\u4e8e\u200b NumPy \u200b\u6570\u7ec4\u200b\u7684\u200b\u51fd\u6570\u200b\nvectorized_double = np.vectorize(double)\n# \u200b\u5e94\u7528\u200b\u51fd\u6570\u200b\u5230\u200b\u6570\u7ec4\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\nresult = vectorized_double(arr)\nprint(result)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>[ 2  4  6  8 10]\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b <code>double()</code> \u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200b\u503c\u200b\u52a0\u500d\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b <code>np.vectorize()</code> \u200b\u51fd\u6570\u200b\u5c06\u200b\u8be5\u200b\u51fd\u6570\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u9002\u7528\u200b\u4e8e\u200b NumPy \u200b\u6570\u7ec4\u200b\u7684\u200b\u51fd\u6570\u200b <code>vectorized_double</code>\u3002\u200b\u6700\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b <code>vectorized_double</code> \u200b\u51fd\u6570\u200b\u5e94\u7528\u200b\u5230\u200b NumPy \u200b\u6570\u7ec4\u200b <code>arr</code> \u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u4e0a\u200b\uff0c\u200b\u5f97\u5230\u200b\u4e86\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u52a0\u500d\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p> <p><code>np.vectorize()</code> \u200b\u5e76\u200b\u6ca1\u6709\u200b\u4f18\u5316\u200b\u6027\u80fd\u200b\uff0c\u200b\u5176\u672c\u8d28\u200b\u4ecd\u200b\u662f\u200b <code>for</code> \u200b\u5faa\u73af\u200b</p> <p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1aThe vectorize function is provided primarily for convenience, not for performance. The implementation is essentially a for loop.</p>","tags":["Python"]},{"location":"code/numpy/#\u65b9\u6cd5\u4e8cnpfrompyfunc","title":"\u65b9\u6cd5\u200b\u4e8c\u200b\uff1a<code>np.frompyfunc()</code>","text":"<p>\u200b\u7ecf\u200b\u6d4b\u8bd5\u200b\uff0c<code>np.frompyfunc()</code> \u200b\u8017\u65f6\u200b\u4ec5\u4e3a\u200b <code>np.vectorize()</code> \u200b\u7684\u200b\u7ea6\u200b 30%\u3002\u200b\u5728\u200b\u540c\u6837\u200b\u7684\u200b\u8fd0\u7b97\u91cf\u200b\u4e0b\u200b\uff0c\u200b\u524d\u8005\u200b\u9700\u200b 1 \u200b\u79d2\u200b\uff0c\u200b\u540e\u8005\u200b\u9700\u200b 3 \u200b\u79d2\u200b\u3002</p> Python<pre><code>import numpy as np\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u5c06\u200b\u5143\u7d20\u200b\u52a0\u500d\u200b\ndef double(x):\nreturn 2 * x\n# \u200b\u4f7f\u7528\u200b numpy.frompyfunc() \u200b\u5c06\u200b\u51fd\u6570\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u901a\u7528\u200b\u51fd\u6570\u200b\nufunc_double = np.frompyfunc(double, 1, 1)\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b NumPy \u200b\u6570\u7ec4\u200b\narr = np.array([1, 2, 3, 4, 5])\n# \u200b\u5e94\u7528\u200b\u901a\u7528\u200b\u51fd\u6570\u200b\u5230\u200b\u6570\u7ec4\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\nresult = ufunc_double(arr)\n# \u200b\u5c06\u200b\u7ed3\u679c\u200b\u8f6c\u6362\u200b\u4e3a\u200b NumPy \u200b\u6570\u7ec4\u200b\nresult = np.array(result)\nprint(result)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u77e9\u9635\u6c42\u548c\u4e24\u4e2a\u77e9\u9635\u6309\u5143\u7d20\u6c42\u548c\u82e5\u6709\u7a7a\u503c\u5219\u76f8\u52a0\u5f97-0","title":"\u77e9\u9635\u200b\u6c42\u548c\u200b\uff1a\u200b\u4e24\u4e2a\u200b\u77e9\u9635\u200b\u6309\u200b\u5143\u7d20\u200b\u6c42\u548c\u200b\uff0c\u200b\u82e5\u6709\u200b\u7a7a\u503c\u200b\u5219\u200b\u76f8\u52a0\u200b\u5f97\u200b 0","text":"Python<pre><code>c = np.nansum(np.stack((a, b)), axis=0)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/50642601/</p>","tags":["Python"]},{"location":"code/numpy/#\u77e9\u9635\u9664\u6cd5\u4e24\u4e2a\u77e9\u9635\u6309\u5143\u7d20\u6c42\u5546\u82e5\u9047\u5230\u5206\u6bcd\u4e3a-0-\u5219\u5c06\u7ed3\u679c\u8bbe\u4e3a-0","title":"\u77e9\u9635\u200b\u9664\u6cd5\u200b\uff1a\u200b\u4e24\u4e2a\u200b\u77e9\u9635\u200b\u6309\u200b\u5143\u7d20\u200b\u6c42\u5546\u200b\uff0c\u200b\u82e5\u200b\u9047\u5230\u200b\u5206\u6bcd\u200b\u4e3a\u200b 0 \u200b\u5219\u200b\u5c06\u200b\u7ed3\u679c\u200b\u8bbe\u200b\u4e3a\u200b 0","text":"Python<pre><code>a = np.array([-1, 0, 1, 2, 3], dtype=float)\nb = np.array([0, 0, 0, 2, 2], dtype=float)\nc = np.divide(a, b, out=np.zeros_like(a), where=b != 0)\n# &gt;&gt;&gt; print(c)\n# [ 0.   0.   0.   1.   1.5]\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/37977222/</p>","tags":["Python"]},{"location":"code/numpy/#\u5728\u4e00\u4e2a\u5df2\u6392\u5e8f\u7684\u6570\u7ec4\u4e2d\u627e\u5230\u67d0\u4e2a\u5143\u7d20\u5e94\u8be5\u63d2\u5165\u7684\u4f4d\u7f6e","title":"\u5728\u200b\u4e00\u4e2a\u200b\u5df2\u200b\u6392\u5e8f\u200b\u7684\u200b\u6570\u7ec4\u200b\u4e2d\u200b\uff0c\u200b\u627e\u5230\u200b\u67d0\u4e2a\u200b\u5143\u7d20\u200b\u5e94\u8be5\u200b\u63d2\u5165\u200b\u7684\u200b\u4f4d\u7f6e","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://numpy.org/doc/stable/reference/generated/numpy.searchsorted.html</p> Python<pre><code>import numpy as np\na = np.array([1, 2, 4, 4, 4, 6])\nv = np.array([0, 1, 2, 3, 4, 5, 6, 7])\nprint(np.searchsorted(a, v))\n# [0 0 1 2 2 5 5 6]\nprint(np.searchsorted(a, v, side=\"right\"))\n# [0 1 2 2 5 5 6 6]\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u8bfb\u53d6txt\u6587\u4ef6","title":"\u8bfb\u53d6\u200btxt\u200b\u6587\u4ef6","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://numpy.org/doc/stable/reference/generated/numpy.loadtxt.html</p> Python<pre><code>np.loadtxt(\"test.txt\", skiprows=3, delimiter=\",\", dtype=np.int32)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5bfc\u51fatxt\u6587\u4ef6","title":"\u5bfc\u51fa\u200btxt\u200b\u6587\u4ef6","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://numpy.org/doc/stable/reference/generated/numpy.savetxt.html</p> Python<pre><code>np.savetxt(\n\"test.txt\",\nmy_array,\nfmt=\"%d\",\ndelimiter=\",\",\nheader=\"col_name_1,col_name_2,col_name_3\",\ncomments=\"\",\n)\n</code></pre> <p><code>comments</code> \u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u7b2c\u4e00\u884c\u200b\u7684\u200b\u5217\u540d\u200b\u51fa\u73b0\u200b <code>#</code>\u3002\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/17361181/</p>","tags":["Python"]},{"location":"code/numpy/#\u5411\u91cf\u5185\u79ef","title":"\u5411\u91cf\u200b\u5185\u79ef","text":"Python<pre><code>import numpy as np\n# \u200b\u521b\u5efa\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200b\na = np.array([1, 2, 3])\nb = np.array([4, 5, 6])\n# \u200b\u8ba1\u7b97\u200b\u5185\u79ef\u200b\ndot_product = np.dot(a, b)\nprint(dot_product)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5411\u91cf\u5916\u79ef","title":"\u5411\u91cf\u200b\u5916\u79ef","text":"<p>\u200b\u4e00\u4e2a\u200b<code>n*1 \u200b\u7684\u200b\u5217\u200b\u5411\u91cf\u200b</code>\u200b\u4e58\u4ee5\u200b\u4e00\u4e2a\u200b<code>1*n \u200b\u7684\u200b\u884c\u5411\u91cf\u200b</code>\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b<code>n*n \u200b\u7684\u200b\u77e9\u9635\u200b</code>\u3002\u200b\u5982\u679c\u200b\u7528\u200b<code>a*b</code>\u3001<code>np.dot(a, b)</code>\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u4e24\u4e2a\u200b\u5217\u200b\u5411\u91cf\u200b\u7684\u200b\u5185\u79ef\u200b\uff0c\u200b\u5373\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u7684\u200b\u77e9\u9635\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>np.outer</code>\u200b\u5b9e\u73b0\u200b\u3002</p> Python<pre><code>a = np.array([1, 2]).reshape(2, 1)\nb = np.array([3, 4]).reshape(1, 2)\nnp.outer(a, b)\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/numpy/#\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\u77e9\u9635","title":"\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635","text":"<p>\u200b\u5982\u679c\u200b\u53ea\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b Pearson \u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>numpy.corrcoef</code>\u3002</p> <p>\u200b\u6ce8\u610f\u200b <code>rowvar</code> \u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u4e86\u200b\uff1a\u200b\u4e00\u200b\u884c\u4e3a\u200b\u4e00\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u6216\u200b\u4e00\u200b\u5217\u4e3a\u200b\u4e00\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u8ba1\u7b97\u200b Spearman \u200b\u79e9\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0c\u200b\u9700\u8981\u200b\u7528\u200b <code>scipy.stats.spearmanr</code>\u3002</p> <p>\u200b\u6ce8\u610f\u200b <code>axis</code> \u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u4e86\u200b\uff1a\u200b\u4e00\u200b\u884c\u4e3a\u200b\u4e00\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u6216\u200b\u4e00\u200b\u5217\u4e3a\u200b\u4e00\u4e2a\u200b\u89c2\u6d4b\u200b\u503c\u200b\u3002</p>","tags":["Python"]},{"location":"code/numpy/#\u5c06\u4e00\u4e2a\u4e0a\u4e09\u89d2\u5f62\u77e9\u9635\u8f6c\u6362\u4e3a\u5bf9\u79f0\u77e9\u9635","title":"\u5c06\u200b\u4e00\u4e2a\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5bf9\u79f0\u200b\u77e9\u9635","text":"Python<pre><code>test = np.nansum(np.stack((test, test.T)), axis=0)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5c06\u77e9\u9635\u7684\u5bf9\u89d2\u7ebf\u5143\u7d20\u5168\u90e8\u8bbe\u4e3a-1","title":"\u5c06\u200b\u77e9\u9635\u200b\u7684\u200b\u5bf9\u89d2\u7ebf\u200b\u5143\u7d20\u200b\u5168\u90e8\u200b\u8bbe\u200b\u4e3a\u200b 1","text":"Python<pre><code>np.fill_diagonal(matrix, 1)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5c06\u4e24\u4e2a\u77e9\u9635\u62fc\u63a5\u6210\u5e7f\u4e49\u4e0a\u7684\u5bf9\u89d2\u77e9\u9635","title":"\u5c06\u200b\u4e24\u4e2a\u200b\u77e9\u9635\u200b\u62fc\u63a5\u200b\u6210\u200b\u5e7f\u4e49\u200b\u4e0a\u200b\u7684\u200b\u5bf9\u89d2\u200b\u77e9\u9635","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b NumPy \u200b\u5e93\u200b\u7684\u200b<code>block</code>\u200b\u51fd\u6570\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u77e9\u9635\u200b\u62fc\u63a5\u200b\u6210\u200b\u5e7f\u4e49\u200b\u4e0a\u200b\u7684\u200b\u5bf9\u89d2\u200b\u77e9\u9635\u200b\u3002\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>import numpy as np\n# \u200b\u5047\u8bbe\u200b\u6709\u200b\u4e24\u4e2a\u200b 3x3 \u200b\u7684\u200b\u77e9\u9635\u200b A \u200b\u548c\u200b B\nA = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])\nB = np.array([[10, 11, 12], [13, 14, 15], [16, 17, 18]])\n# \u200b\u4f7f\u7528\u200b block \u200b\u51fd\u6570\u200b\u5c06\u200b A \u200b\u548c\u200b B \u200b\u62fc\u63a5\u200b\u6210\u200b\u5e7f\u4e49\u200b\u4e0a\u200b\u7684\u200b\u5bf9\u89d2\u200b\u77e9\u9635\u200b C\nC = np.block([[A, np.zeros((3, 3))], [np.zeros((3, 3)), B]])\nprint(C)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>[[ 1.  2.  3.  0.  0.  0.]\n [ 4.  5.  6.  0.  0.  0.]\n [ 7.  8.  9.  0.  0.  0.]\n [ 0.  0.  0. 10. 11. 12.]\n [ 0.  0.  0. 13. 14. 15.]\n [ 0.  0.  0. 16. 17. 18.]]\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>np.zeros((3, 3))</code>\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b 3x3 \u200b\u7684\u200b\u5168\u96f6\u200b\u77e9\u9635\u200b\uff0c<code>np.block</code>\u200b\u51fd\u6570\u200b\u5c06\u200b\u56db\u4e2a\u200b\u5b50\u200b\u77e9\u9635\u200b\u6309\u7167\u200b\u6307\u5b9a\u200b\u4f4d\u7f6e\u200b\u62fc\u63a5\u200b\u8d77\u6765\u200b\u3002</p>","tags":["Python"]},{"location":"code/numpy/#\u62fc\u63a5\u591a\u4e2a\u5207\u7247","title":"\u62fc\u63a5\u200b\u591a\u4e2a\u200b\u5207\u7247","text":"Python<pre><code>np.r_[0:5, 10:15]\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://numpy.org/doc/stable/reference/generated/numpy.r_.html</p> <p>https://stackoverflow.com/a/30597960/</p>","tags":["Python"]},{"location":"code/numpy/#\u53cc\u5192\u53f7\u5207\u7247","title":"\u53cc\u200b\u5192\u53f7\u200b\u5207\u7247","text":"<p>\u200b\u57fa\u672c\u200b\u5f62\u5f0f\u200b\uff1a<code>[\u200b\u5f00\u59cb\u200b\uff1a\u200b\u7ed3\u675f\u200b\uff1a\u200b\u6b65\u957f\u200b]</code></p> <p>\u200b\u4f8b\u200b\uff1a\u200b\u6b65\u957f\u200b step=n\uff0c\u200b\u4ee3\u8868\u200b\u4ece\u200b start \u200b\u5f00\u59cb\u200b\uff08\u200b\u5305\u62ec\u200b start\uff09\u200b\u6bcf\u9694\u200b step \u200b\u95f4\u9694\u200b\uff0c\u200b\u53d6\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff0c\u200b\u4e00\u76f4\u200b\u5230\u200b\u7ed3\u5c3e\u200b end\uff08\u200b\u4e0d\u200b\u5305\u62ec\u200b end\uff09\u3002</p> Python<pre><code>range(20)[::3]\n[0, 3, 6, 9, 12, 15, 18]\n</code></pre> <p>\u200b\u4f8b\u200b\uff1a\u200b\u5f53\u200b step \u200b\u7b49\u4e8e\u200b\u8d1f\u6570\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4ece\u53f3\u200b\u5411\u200b\u5de6\u200b\u53d6\u6570\u200b\u3002</p> Python<pre><code>range(10)[::-1]\n[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]\nrange(10)[::-2]\n[9, 7, 5, 3, 1]\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5bf9\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u8ba1\u6570","title":"\u5bf9\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u8ba1\u6570","text":"Python Console Session<pre><code>a = np.array([0, 3, 0, 1, 0, 1, 2, 1, 0, 0, 0, 0, 1, 3, 4])\nunique, counts = np.unique(a, return_counts=True)\n&gt;&gt;&gt; dict(zip(unique, counts))\n{0: 7, 1: 4, 2: 1, 3: 2, 4: 1}\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5806\u53e0\u6210\u65b0\u6570\u7ec4","title":"\u5806\u53e0\u200b\u6210\u65b0\u200b\u6570\u7ec4","text":"<p><code>hstack</code>\u200b\u662f\u200b horizontal\uff0c\u200b\u5de6\u53f3\u200b\u6c34\u5e73\u200b\u5806\u53e0\u200b\u3002</p> <p></p> <p><code>vstack</code>\u200b\u662f\u200b vertical\uff0c\u200b\u4e0a\u4e0b\u200b\u5782\u76f4\u200b\u5806\u53e0\u200b\u3002</p> Python<pre><code>import numpy as np\na = [1, 2, 3]\nb = [4, 5, 6]\nc = [7, 8, 9]\nprint(np.vstack((a, b, c)))\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/numpy/#\u8ba1\u7b97\u975e\u7a7a\u503c\u7684\u4e2a\u6570","title":"\u8ba1\u7b97\u200b\u975e\u200b\u7a7a\u503c\u200b\u7684\u200b\u4e2a\u6570","text":"Python<pre><code>arr = np.array([np.nan, 2, 3, 4, 5])\n(~np.isnan(arr)).sum()\n# 4\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u6392\u5e8f\u540e\u7684\u7d22\u5f15\u503c","title":"\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u7d22\u5f15\u200b\u503c","text":"<p>\u200b\u8fd4\u56de\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u7d22\u5f15\u200b\u503c\u200b\u3002</p> Python<pre><code>a = np.array([2, 1, 4, 3])\nnp.argsort(a)\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/numpy/#\u627e\u51fa\u6bcf\u884c\u4e2d\u6700\u5c0f\u6216\u6700\u5927\u7684-k-\u4e2a\u6570","title":"\u627e\u51fa\u200b\u6bcf\u884c\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u6216\u200b\u6700\u5927\u200b\u7684\u200b k \u200b\u4e2a\u6570","text":"Python<pre><code>np.argpartition(a, kth=k)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u7528\u4e00\u4e2a\u6570\u7ec4\u7684\u5143\u7d20\u4f5c\u4e3a\u7d22\u5f15\u53d6\u51fa\u53e6\u4e00\u4e2a\u6570\u7ec4\u4e2d\u7684\u5143\u7d20","title":"\u7528\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u7684\u200b\u5143\u7d20\u200b\u4f5c\u4e3a\u200b\u7d22\u5f15\u200b\uff0c\u200b\u53d6\u51fa\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20","text":"<p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4ece\u200b <code>a</code> \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u5143\u7d20\u200b\u3002<code>b</code> \u200b\u662f\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u503c\u200b\u5c31\u662f\u200b\u8981\u200b\u4ece\u200b a \u200b\u4e2d\u200b\u53d6\u51fa\u200b\u7684\u200b\u5143\u7d20\u200b\u7684\u200b\u7d22\u5f15\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u82e5\u200b <code>b[1, 1] = 5</code>\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u6211\u200b\u9700\u8981\u200b\u5728\u200b\u65b0\u200b\u7684\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b<code>\u200b\u7b2c\u4e8c\u884c\u200b\u7b2c\u4e8c\u5217\u200b</code>\u200b\u663e\u793a\u200b<code>a[1, 5]</code>\u200b\u7684\u200b\u6570\u503c\u200b\u3002</p> Python<pre><code>new_arr = np.zeros_like(b)\nfor i in range(len(b)):\nfor j in range(len(b[i])):\nnew_arr[i][j] = a[i][b[i][j]]\n</code></pre> <p>\u200b\u6548\u679c\u200b\u793a\u4f8b\u200b\u89c1\u200b\u201c\u200b\u627e\u51fa\u200b\u6bcf\u884c\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u6216\u200b\u6700\u5927\u200b\u7684\u200b k \u200b\u4e2a\u6570\u200b\u201d\u3002</p>","tags":["Python"]},{"location":"code/numpy/#\u751f\u6210\u7b49\u5dee\u6570\u7ec4","title":"\u751f\u6210\u200b\u7b49\u200b\u5dee\u200b\u6570\u7ec4","text":"Python<pre><code>np.linspace(start, stop, num)\n</code></pre> <p>\u200b\u9ed8\u8ba4\u200b\u5de6\u53f3\u200b\u90fd\u200b\u662f\u200b\u95ed\u200b\u533a\u95f4\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b<code>endpoint</code>\u200b\u53c2\u6570\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b<code>True</code>\uff09\u200b\u6765\u200b\u8bbe\u7f6e\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\uff1a</p> Python<pre><code>np.linspace(start, stop, num, endpoint=False)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#\u5c06\u6570\u636e\u5206\u6210\u591a\u4e2a-bins\u6876\u7bb1","title":"\u5c06\u200b\u6570\u636e\u200b\u5206\u6210\u200b\u591a\u4e2a\u200b bins\uff08\u200b\u6876\u200b\u3001\u200b\u7bb1\u200b\uff09","text":"Python<pre><code>a = np.random.randint(10, size=10)\nbins = np.histogram(a)[0]  # \u200b\u9ed8\u8ba4\u200b\u57fa\u4e8e\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u6700\u5927\u503c\u200b\u5206\u6210\u200b 10 \u200b\u4e2a\u200b bins\n</code></pre> <p><code>np.histogram</code> \u200b\u7684\u200b\u7528\u6cd5\u200b\uff1a</p> Python<pre><code>numpy.histogram(a, bins=10, range=None, density=None, weights=None)\n</code></pre> <p>https://numpy.org/doc/stable/reference/generated/numpy.histogram.html</p> <p></p>","tags":["Python"]},{"location":"code/numpy/#\u8ba1\u7b97\u71b5","title":"\u8ba1\u7b97\u200b\u71b5","text":"<p>\u200b\u63a5\u200b<code>np.histogram</code>\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5206\u6876\u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b\u71b5\u200b\u4ee5\u200b\u8861\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u5206\u6563\u200b\u7a0b\u5ea6\u200b\uff1a</p> Python<pre><code>entropy = 0\nfor i in bins:\np = i / sum(bins)\nentropy += -p * np.log(p)\n</code></pre> <p>\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u71b5\u200b\u7684\u200b\u5b9a\u4e49\u200b\u3002</p>","tags":["Python"]},{"location":"code/numpy/#\u9632\u6b62-numpy-\u8f93\u51fa\u5bbd\u77e9\u9635\u65f6\u81ea\u52a8\u6362\u884c","title":"\u9632\u6b62\u200b Numpy \u200b\u8f93\u51fa\u200b\u5bbd\u200b\u77e9\u9635\u200b\u65f6\u200b\u81ea\u52a8\u200b\u6362\u884c","text":"<p>\u200b\u5728\u200b Numpy \u200b\u4e2d\u200b\uff0c\u200b\u6253\u5370\u200b\u77e9\u9635\u200b\u65f6\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\uff0c\u200b\u4ee5\u200b\u9002\u5e94\u200b\u8f93\u51fa\u200b\u7a97\u53e3\u200b\u7684\u200b\u5c3a\u5bf8\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u9632\u6b62\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b Numpy \u200b\u7684\u200b\u6253\u5370\u200b\u9009\u9879\u200b\u3002</p> <p>\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\u4f7f\u200b Numpy \u200b\u4e0d\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\uff1a</p> Python<pre><code>import numpy as np\nnp.set_printoptions(linewidth=np.inf)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>np.set_printoptions()</code>\u200b\u662f\u200b Numpy \u200b\u7684\u200b\u6253\u5370\u200b\u9009\u9879\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u8bbe\u7f6e\u200b\u6253\u5370\u200b\u77e9\u9635\u200b\u65f6\u200b\u7684\u200b\u4e00\u4e9b\u200b\u53c2\u6570\u200b\u3002<code>linewidth</code>\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u4e86\u200b\u8f93\u51fa\u200b\u7684\u200b\u6bcf\u884c\u200b\u5b57\u7b26\u200b\u6570\u200b\u7684\u200b\u6700\u5927\u503c\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b<code>np.inf</code>\u200b\u610f\u5473\u7740\u200b\u6ca1\u6709\u200b\u9650\u5236\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8f93\u51fa\u200b\u4efb\u610f\u200b\u957f\u200b\u7684\u200b\u884c\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>np.set_printoptions()</code>\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6253\u5370\u200b\u9009\u9879\u200b\u4f1a\u200b\u5bf9\u200b\u6574\u4e2a\u200b Numpy \u200b\u5e93\u200b\u751f\u6548\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5982\u679c\u200b\u8981\u200b\u6062\u590d\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u884c\u200b\u5bbd\u200b\u9650\u5236\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b<code>np.set_printoptions()</code>\uff0c\u200b\u5e76\u200b\u91cd\u65b0\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u884c\u200b\u5bbd\u200b\u9650\u5236\u200b\u3002</p>","tags":["Python"]},{"location":"code/numpy/#numpy-100-\u9053\u7ec3\u4e60\u9898","title":"NumPy 100 \u200b\u9053\u200b\u7ec3\u4e60\u9898","text":"<p>\u200b\u4ee5\u4e0b\u200b\u9898\u76ee\u200b\u6765\u81ea\u200b\uff1ahttps://github.com/rougier/numpy-100\u3002\u200b\u901a\u8bfb\u200b\u4e00\u904d\u200b\u540e\u200b\uff0c\u200b\u6709\u4e9b\u200b\u51fd\u6570\u200b\u548c\u200b\u7528\u6cd5\u200b\u662f\u200b\u5f88\u200b\u503c\u5f97\u200b\u5b66\u4e60\u200b\u7684\u200b\u3002</p>","tags":["Python"]},{"location":"code/numpy/#1-import-the-numpy-package-under-the-name-np-","title":"1. Import the NumPy package under the name <code>np</code> (\u2605\u2606\u2606)","text":"<p><code>hint: import \u2026 as</code></p> Python<pre><code>import numpy as np\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#2-print-the-numpy-version-and-the-configuration-","title":"2. Print the NumPy version and the configuration (\u2605\u2606\u2606)","text":"<p><code>hint: np.__version__, np.show_config)</code></p> Python<pre><code>print(np.__version__)\nnp.show_config()\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#3-create-a-null-vector-of-size-10-","title":"3. Create a null vector of size 10 (\u2605\u2606\u2606)","text":"<p><code>hint: np.zeros</code></p> Python<pre><code>Z = np.zeros(10)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#4-how-to-find-the-memory-size-of-any-array-","title":"4. How to find the memory size of any array (\u2605\u2606\u2606)","text":"<p><code>hint: size, itemsize</code></p> Python<pre><code>Z = np.zeros((10, 10))\nprint(\"%d bytes\" % (Z.size * Z.itemsize))\n</code></pre> <p>\u200b\u6216\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b</p> Python<pre><code>Z = np.zeros((10, 10))\nprint(\"%d bytes\" % (Z.nbytes))\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://numpy.org/doc/stable/reference/generated/numpy.ndarray.itemsize.html</p> <p>https://stackoverflow.com/a/11784399/</p>","tags":["Python"]},{"location":"code/numpy/#5-how-to-get-the-documentation-of-the-numpy-add-function-from-the-command-line-","title":"5. How to get the documentation of the NumPy add function from the command line? (\u2605\u2606\u2606)","text":"<p><code>hint: np.info</code></p> Python<pre><code>import numpy\nnumpy.info(numpy.add)\n</code></pre> <p>Note</p> <p><code>np.info()</code>\u200b\u4f1a\u200b\u83b7\u53d6\u200b\u6587\u6863\u200b\uff0c\u200b\u66f4\u200b\u7b80\u6d01\u200b\u6613\u8bfb\u200b\u3002\u200b\u800c\u200b<code>help()</code>\u200b\u4f1a\u200b\u83b7\u53d6\u200b\u6e90\u4ee3\u7801\u200b\u3002</p>","tags":["Python"]},{"location":"code/numpy/#6-create-a-null-vector-of-size-10-but-the-fifth-value-which-is-1-","title":"6. Create a null vector of size 10 but the fifth value which is 1 (\u2605\u2606\u2606)","text":"<p><code>hint: array[4]</code></p> Python<pre><code>Z = np.zeros(10)\nZ[4] = 1\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#7-create-a-vector-with-values-ranging-from-10-to-49-","title":"7. Create a vector with values ranging from 10 to 49 (\u2605\u2606\u2606)","text":"<p><code>hint: arange</code></p> Python<pre><code>Z = np.arange(10, 50)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#8-reverse-a-vector-first-element-becomes-last-","title":"8. Reverse a vector (first element becomes last) (\u2605\u2606\u2606)","text":"<p><code>hint: array[::-1]</code></p> Python<pre><code>Z = np.arange(50)\nZ = Z[::-1]\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#9-create-a-3x3-matrix-with-values-ranging-from-0-to-8-","title":"9. Create a 3x3 matrix with values ranging from 0 to 8 (\u2605\u2606\u2606)","text":"<p><code>hint: reshape</code></p> Python<pre><code>Z = np.arange(9).reshape(3, 3)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#10-find-indices-of-non-zero-elements-from-120040--\u975e\u96f6\u5143\u7d20\u7684\u7d22\u5f15","title":"10. Find indices of non-zero elements from [1,2,0,0,4,0] (\u2605\u2606\u2606) \u200b\u975e\u96f6\u200b\u5143\u7d20\u200b\u7684\u200b\u7d22\u5f15","text":"<p><code>hint: np.nonzero</code></p> Python<pre><code>nz = np.nonzero([1, 2, 0, 0, 4, 0])\nprint(nz)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#11-create-a-3x3-identity-matrix--\u5bf9\u89d2\u77e9\u9635","title":"11. Create a 3x3 identity matrix (\u2605\u2606\u2606) \u200b\u5bf9\u89d2\u200b\u77e9\u9635","text":"<p><code>hint: np.eye</code></p> Python<pre><code>Z = np.eye(3)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#12-create-a-3x3x3-array-with-random-values--\u521b\u5efa\u968f\u673a\u77e9\u9635","title":"12. Create a 3x3x3 array with random values (\u2605\u2606\u2606) \u200b\u521b\u5efa\u200b\u968f\u673a\u200b\u77e9\u9635","text":"<p><code>hint: np.random.random</code></p> Python<pre><code>Z = np.random.random((3, 3, 3))\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#13-create-a-10x10-array-with-random-values-and-find-the-minimum-and-maximum-values-","title":"13. Create a 10x10 array with random values and find the minimum and maximum values (\u2605\u2606\u2606)","text":"<p><code>hint: min, max</code></p> Python<pre><code>Z = np.random.random((10, 10))\nZmin, Zmax = Z.min(), Z.max()\nprint(Zmin, Zmax)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#14-create-a-random-vector-of-size-30-and-find-the-mean-value-","title":"14. Create a random vector of size 30 and find the mean value (\u2605\u2606\u2606)","text":"<p><code>hint: mean</code></p> Python<pre><code>Z = np.random.random(30)\nm = Z.mean()\nprint(m)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#15-create-a-2d-array-with-1-on-the-border-and-0-inside-","title":"15. Create a 2d array with 1 on the border and 0 inside (\u2605\u2606\u2606)","text":"<p><code>hint: array[1:-1, 1:-1]</code></p> Python<pre><code>Z = np.ones((10, 10))\nZ[1:-1, 1:-1] = 0\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#16-how-to-add-a-border-filled-with-0s-around-an-existing-array--\u5728\u77e9\u9635\u5468\u56f4\u52a0\u4e0a\u4e00\u5708","title":"16. How to add a border (filled with 0's) around an existing array? (\u2605\u2606\u2606) \u200b\u5728\u200b\u77e9\u9635\u200b\u5468\u56f4\u200b\u52a0\u4e0a\u200b\u4e00\u5708","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p>https://numpy.org/doc/stable/reference/generated/numpy.pad.html</p> <p><code>hint: np.pad</code></p> Python<pre><code>Z = np.ones((5, 5))\nZ = np.pad(Z, pad_width=1, mode=\"constant\", constant_values=0)\nprint(Z)\n# Using fancy indexing\nZ[:, [0, -1]] = 0\nZ[[0, -1], :] = 0\nprint(Z)\n</code></pre> Python<pre><code>np.random.seed(1)\nx = np.random.randn(3, 3)\nnp.pad(x, ((1, 2), (1, 1)), \"constant\", constant_values=(0, 0))\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/numpy/#17-what-is-the-result-of-the-following-expression--\u7a7a\u503c\u7684\u76f8\u5173\u5224\u65ad","title":"17. What is the result of the following expression? (\u2605\u2606\u2606) \u200b\u7a7a\u503c\u200b\u7684\u200b\u76f8\u5173\u200b\u5224\u65ad","text":"Python<pre><code>0 * np.nan\nnp.nan == np.nan\nnp.inf &gt; np.nan\nnp.nan - np.nan\nnp.nan in set([np.nan])\n0.3 == 3 * 0.1\n</code></pre> <p><code>hint: NaN = not a number, inf = infinity</code></p> Python<pre><code>print(0 * np.nan)\nprint(np.nan == np.nan)\nprint(np.inf &gt; np.nan)\nprint(np.nan - np.nan)\nprint(np.nan in set([np.nan]))\nprint(0.3 == 3 * 0.1)\n</code></pre> <p></p> <p><code>0.3 == 3 * 0.1</code> \u200b\u662f\u200b\u7531\u4e8e\u200b\u6d6e\u70b9\u6570\u200b\u8fd0\u7b97\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u5f15\u8d77\u200b\u7684\u200b\u3002</p> <p></p> <p></p>","tags":["Python"]},{"location":"code/numpy/#18-create-a-5x5-matrix-with-values-1234-just-below-the-diagonal-","title":"18. Create a 5x5 matrix with values 1,2,3,4 just below the diagonal (\u2605\u2606\u2606)","text":"<p><code>hint: np.diag</code></p> Python<pre><code>Z = np.diag(1 + np.arange(4), k=-1)\nprint(Z)\n</code></pre> <p><code>k=-1</code> \u200b\u4ee3\u8868\u200b\u4e86\u200b\u5411\u4e0b\u200b\u4e00\u683c\u200b\u7684\u200b\u5bf9\u89d2\u7ebf\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/numpy/#19-create-a-8x8-matrix-and-fill-it-with-a-checkerboard-pattern-","title":"19. Create a 8x8 matrix and fill it with a checkerboard pattern (\u2605\u2606\u2606)","text":"<p><code>hint: array[::2]</code></p> Python<pre><code>Z = np.zeros((8, 8), dtype=int)\nZ[1::2, ::2] = 1\nZ[::2, 1::2] = 1\nprint(Z)\n# Alternative solution: Using reshaping\narr = np.ones(64, dtype=int)\narr[::2] = 0\narr = arr.reshape((8, 8))\nprint(arr)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#20-consider-a-678-shape-array-what-is-the-index-xyz-of-the-100th-element--\u627e\u5230\u7b2c\u51e0\u4e2a\u5143\u7d20\u7684\u7d22\u5f15","title":"20. Consider a (6,7,8) shape array, what is the index (x,y,z) of the 100<sup>th</sup> element? (\u2605\u2606\u2606) \u200b\u627e\u5230\u200b\u7b2c\u51e0\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u7d22\u5f15","text":"<p><code>hint: np.unravel_index</code></p> Python<pre><code>print(np.unravel_index(99, (6, 7, 8)))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#21-create-a-checkerboard-8x8-matrix-using-the-tile-function--\u5c06\u4e00\u4e2a\u77e9\u9635\u5728\u591a\u4e2a\u7ef4\u5ea6\u4e0a\u91cd\u590d\u51e0\u904d","title":"21. Create a checkerboard 8x8 matrix using the tile function (\u2605\u2606\u2606) \u200b\u5c06\u200b\u4e00\u4e2a\u200b\u77e9\u9635\u200b\u5728\u200b\u591a\u4e2a\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u91cd\u590d\u200b\u51e0\u904d","text":"<p><code>hint: np.tile</code></p> Python<pre><code>Z = np.tile(np.array([[0, 1], [1, 0]]), (4, 4))\nprint(Z)\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/numpy/#22-normalize-a-5x5-random-matrix-","title":"22. Normalize a 5x5 random matrix (\u2605\u2606\u2606)","text":"<p><code>hint: (x -mean)/std</code></p> Python<pre><code>Z = np.random.random((5, 5))\nZ = (Z - np.mean(Z)) / (np.std(Z))\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#23-create-a-custom-dtype-that-describes-a-color-as-four-unsigned-bytes-rgba-","title":"23. Create a custom dtype that describes a color as four unsigned bytes (RGBA) (\u2605\u2606\u2606)","text":"<p><code>hint: np.dtype</code></p> Python<pre><code>color = np.dtype([(\"r\", np.ubyte), (\"g\", np.ubyte), (\"b\", np.ubyte), (\"a\", np.ubyte)])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#24-multiply-a-5x3-matrix-by-a-3x2-matrix-real-matrix-product-","title":"24. Multiply a 5x3 matrix by a 3x2 matrix (real matrix product) (\u2605\u2606\u2606)","text":"<p><code>hint:</code></p> Python<pre><code>Z = np.dot(np.ones((5, 3)), np.ones((3, 2)))\nprint(Z)\n# Alternative solution, in Python 3.5 and above\nZ = np.ones((5, 3)) @ np.ones((3, 2))\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#25-given-a-1d-array-negate-all-elements-which-are-between-3-and-8-in-place-","title":"25. Given a 1D array, negate all elements which are between 3 and 8, in place. (\u2605\u2606\u2606)","text":"<p><code>hint: &gt;, &lt;</code></p> Python<pre><code># Author: Evgeni Burovski\nZ = np.arange(11)\nZ[(3 &lt; Z) &amp; (Z &lt; 8)] *= -1\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#26-what-is-the-output-of-the-following-script-","title":"26. What is the output of the following script? (\u2605\u2606\u2606)","text":"Python<pre><code># Author: Jake VanderPlas\nprint(sum(range(5), -1))\nfrom numpy import *\nprint(sum(range(5), -1))\n</code></pre> <p><code>hint: np.sum</code></p> <p></p> Python<pre><code># Author: Jake VanderPlas\nprint(sum(range(5), -1))\nfrom numpy import *\nprint(sum(range(5), -1))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#27-consider-an-integer-vector-z-which-of-these-expressions-are-legal-","title":"27. Consider an integer vector Z, which of these expressions are legal? (\u2605\u2606\u2606)","text":"Python<pre><code>Z**Z\n2 &lt;&lt; Z &gt;&gt; 2\nZ &lt; -Z\n1j * Z\nZ / 1 / 1\nZ &lt; Z &gt; Z\n</code></pre> <p><code>No hints provided...</code></p> Python<pre><code>Z**Z\n2 &lt;&lt; Z &gt;&gt; 2\nZ &lt; -Z\n1j * Z\nZ / 1 / 1\nZ &lt; Z &gt; Z\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#28-what-are-the-result-of-the-following-expressions-","title":"28. What are the result of the following expressions? (\u2605\u2606\u2606)","text":"Python<pre><code>np.array(0) / np.array(0)\nnp.array(0) // np.array(0)\nnp.array([np.nan]).astype(int).astype(float)\n</code></pre> <p><code>No hints provided...</code></p> Python<pre><code>print(np.array(0) / np.array(0))\nprint(np.array(0) // np.array(0))\nprint(np.array([np.nan]).astype(int).astype(float))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#29-how-to-round-away-from-zero-a-float-array---\u6539\u53d8\u6570\u7ec4\u7684\u6b63\u8d1f\u53f7","title":"29. How to round away from zero a float array ? (\u2605\u2606\u2606) \u200b\u6539\u53d8\u200b\u6570\u7ec4\u200b\u7684\u200b\u6b63\u8d1f\u53f7","text":"<p><code>hint: np.uniform, np.copysign, np.ceil, np.abs, np.where</code></p> <p><code>np.copysign</code>\uff1a</p> Text Only<pre><code>copysign(x1, x2, /, out=None, *, where=True, casting='same_kind', order='K', dtype=None, subok=True[, signature, extobj])\n\nChange the sign of x1 to that of x2, element-wise.\n\nIf `x2` is a scalar, its sign will be copied to all elements of `x1`.\n</code></pre> Python<pre><code># Author: Charles R Harris\nZ = np.random.uniform(-10, +10, 10)\nprint(np.copysign(np.ceil(np.abs(Z)), Z))\n# More readable but less efficient\nprint(np.where(Z &gt; 0, np.ceil(Z), np.floor(Z)))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#30-how-to-find-common-values-between-two-arrays--\u53d6\u4ea4\u96c6","title":"30. How to find common values between two arrays? (\u2605\u2606\u2606) \u200b\u53d6\u200b\u4ea4\u96c6","text":"<p><code>hint: np.intersect1d</code></p> Python<pre><code>Z1 = np.random.randint(0, 10, 10)\nZ2 = np.random.randint(0, 10, 10)\nprint(np.intersect1d(Z1, Z2))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#31-how-to-ignore-all-numpy-warnings-not-recommended--\u5ffd\u7565\u8b66\u544a","title":"31. How to ignore all NumPy warnings (not recommended)? (\u2605\u2606\u2606) \u200b\u5ffd\u7565\u200b\u8b66\u544a","text":"<p><code>hint: np.seterr, np.errstate</code></p> Python<pre><code># Suicide mode on\ndefaults = np.seterr(all=\"ignore\")\nZ = np.ones(1) / 0\n# Back to sanity\n_ = np.seterr(**defaults)\n# Equivalently with a context manager\nwith np.errstate(all=\"ignore\"):\nnp.arange(3) / 0\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#32-is-the-following-expressions-true-","title":"32. Is the following expressions true? (\u2605\u2606\u2606)","text":"Python<pre><code>np.sqrt(-1) == np.emath.sqrt(-1)\n</code></pre> <p><code>hint: imaginary number</code></p> Python<pre><code>np.sqrt(-1) == np.emath.sqrt(-1)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#33-how-to-get-the-dates-of-yesterday-today-and-tomorrow--datetime-\u683c\u5f0f","title":"33. How to get the dates of yesterday, today and tomorrow? (\u2605\u2606\u2606) datetime \u200b\u683c\u5f0f","text":"<p><code>hint: np.datetime64, np.timedelta64</code></p> Python<pre><code>yesterday = np.datetime64(\"today\") - np.timedelta64(1)\ntoday = np.datetime64(\"today\")\ntomorrow = np.datetime64(\"today\") + np.timedelta64(1)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#34-how-to-get-all-the-dates-corresponding-to-the-month-of-july-2016--\u65f6\u95f4\u533a\u95f4\u91cc\u7684\u6240\u6709\u5929\u6570","title":"34. How to get all the dates corresponding to the month of July 2016? (\u2605\u2605\u2606) \u200b\u65f6\u95f4\u200b\u533a\u95f4\u200b\u91cc\u200b\u7684\u200b\u6240\u6709\u200b\u5929\u6570","text":"<p><code>hint: np.arange(dtype=datetime64['D'])</code></p> Python<pre><code>Z = np.arange(\"2016-07\", \"2016-08\", dtype=\"datetime64[D]\")\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#35-how-to-compute-ab-a2-in-place-without-copy--\u4f7f\u7528out\u76f4\u63a5\u8d4b\u503c\u7ed9\u53d8\u91cf","title":"35. How to compute ((A+B)*(-A/2)) in place (without copy)? (\u2605\u2605\u2606) \u200b\u4f7f\u7528\u200b<code>out=</code>\u200b\u76f4\u63a5\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u53d8\u91cf","text":"<p><code>hint: np.add(out=), np.negative(out=), np.multiply(out=), np.divide(out=)</code></p> Python<pre><code>A = np.ones(3) * 1\nB = np.ones(3) * 2\nnp.add(A, B, out=B)\nnp.divide(A, 2, out=A)\nnp.negative(A, out=A)\nnp.multiply(A, B, out=A)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#36-extract-the-integer-part-of-a-random-array-of-positive-numbers-using-4-different-methods--nptrunc-\u53d6\u79bb-0-\u6700\u8fd1\u7684\u6574\u6570","title":"36. Extract the integer part of a random array of positive numbers using 4 different methods (\u2605\u2605\u2606) <code>np.trunc</code> \u200b\u53d6\u79bb\u200b 0 \u200b\u6700\u8fd1\u200b\u7684\u200b\u6574\u6570","text":"<p><code>hint: %, np.floor, astype, np.trunc</code></p> Python<pre><code>Z = np.random.uniform(0, 10, 10)\nprint(Z - Z % 1)\nprint(Z // 1)\nprint(np.floor(Z))\nprint(Z.astype(int))\nprint(np.trunc(Z))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#37-create-a-5x5-matrix-with-row-values-ranging-from-0-to-4-","title":"37. Create a 5x5 matrix with row values ranging from 0 to 4 (\u2605\u2605\u2606)","text":"<p><code>hint: np.arange</code></p> Python<pre><code>Z = np.zeros((5, 5))\nZ += np.arange(5)\nprint(Z)\n# without broadcasting\nZ = np.tile(np.arange(0, 5), (5, 1))\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#38-consider-a-generator-function-that-generates-10-integers-and-use-it-to-build-an-array-","title":"38. Consider a generator function that generates 10 integers and use it to build an array (\u2605\u2606\u2606)","text":"<p><code>hint: np.fromiter</code></p> Python<pre><code>def generate():\nfor x in range(10):\nyield x\nZ = np.fromiter(generate(), dtype=float, count=-1)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#39-create-a-vector-of-size-10-with-values-ranging-from-0-to-1-both-excluded-","title":"39. Create a vector of size 10 with values ranging from 0 to 1, both excluded (\u2605\u2605\u2606)","text":"<p><code>hint: np.linspace</code></p> Python<pre><code>Z = np.linspace(0, 1, 11, endpoint=False)[1:]\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#40-create-a-random-vector-of-size-10-and-sort-it-","title":"40. Create a random vector of size 10 and sort it (\u2605\u2605\u2606)","text":"<p><code>hint: sort</code></p> Python<pre><code>Z = np.random.random(10)\nZ.sort()\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#41-how-to-sum-a-small-array-faster-than-npsum-","title":"41. How to sum a small array faster than np.sum? (\u2605\u2605\u2606)","text":"<p><code>hint: np.add.reduce</code></p> Python<pre><code># Author: Evgeni Burovski\nZ = np.arange(10)\nnp.add.reduce(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#42-consider-two-random-array-a-and-b-check-if-they-are-equal--\u5224\u65ad\u4e24\u4e2a\u6570\u7ec4\u662f\u5426\u76f8\u7b49","title":"42. Consider two random array A and B, check if they are equal (\u2605\u2605\u2606) \u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u6570\u7ec4\u200b\u662f\u5426\u200b\u76f8\u7b49","text":"<p><code>np.allclose</code> \u200b\u53ef\u4ee5\u200b\u5141\u8bb8\u200b\u5b58\u5728\u200b\u4e00\u5b9a\u200b\u7684\u200b\u504f\u5dee\u200b\uff0c<code>np.array_equal</code> \u200b\u5fc5\u987b\u200b\u5b8c\u5168\u200b\u4e00\u6837\u200b\u3002</p> <p><code>hint: np.allclose, np.array_equal</code></p> Python<pre><code>A = np.random.randint(0, 2, 5)\nB = np.random.randint(0, 2, 5)\n# Assuming identical shape of the arrays and a tolerance for the comparison of values\nequal = np.allclose(A, B)\nprint(equal)\n# Checking both the shape and the element values, no tolerance (values have to be exactly equal)\nequal = np.array_equal(A, B)\nprint(equal)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#43-make-an-array-immutable-read-only--\u4f7f\u6570\u7ec4\u53d8\u5f97\u4e0d\u53ef\u66f4\u6539\u53ea\u8bfb","title":"43. Make an array immutable (read-only) (\u2605\u2605\u2606) \u200b\u4f7f\u200b\u6570\u7ec4\u200b\u53d8\u5f97\u200b\u4e0d\u53ef\u200b\u66f4\u6539\u200b\uff08\u200b\u53ea\u8bfb\u200b\uff09","text":"<p><code>hint: flags.writeable</code></p> Python<pre><code>Z = np.zeros(10)\nZ.flags.writeable = False\nZ[0] = 1\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#44-consider-a-random-10x2-matrix-representing-cartesian-coordinates-convert-them-to-polar-coordinates-","title":"44. Consider a random 10x2 matrix representing cartesian coordinates, convert them to polar coordinates (\u2605\u2605\u2606)","text":"<p><code>hint: np.sqrt, np.arctan2</code></p> Python<pre><code>Z = np.random.random((10, 2))\nX, Y = Z[:, 0], Z[:, 1]\nR = np.sqrt(X**2 + Y**2)\nT = np.arctan2(Y, X)\nprint(R)\nprint(T)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#45-create-random-vector-of-size-10-and-replace-the-maximum-value-by-0-","title":"45. Create random vector of size 10 and replace the maximum value by 0 (\u2605\u2605\u2606)","text":"<p><code>hint: argmax</code></p> Python<pre><code>Z = np.random.random(10)\nZ[Z.argmax()] = 0\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#46-create-a-structured-array-with-x-and-y-coordinates-covering-the-01x01-area--\u751f\u6210\u7f51\u683c\u6570\u636e\u4f7f\u7528npzeros\u65f6\u53ef\u4ee5\u7ed9\u5b9a\u5217\u540d","title":"46. Create a structured array with <code>x</code> and <code>y</code> coordinates covering the [0,1]x[0,1] area (\u2605\u2605\u2606) \u200b\u751f\u6210\u200b\u7f51\u683c\u200b\u6570\u636e\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>np.zeros</code>\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u7ed9\u5b9a\u200b\u5217\u540d","text":"<p><code>hint: np.meshgrid</code></p> Python<pre><code>Z = np.zeros((5, 5), [(\"x\", float), (\"y\", float)])\nZ[\"x\"], Z[\"y\"] = np.meshgrid(np.linspace(0, 1, 5), np.linspace(0, 1, 5))\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#47-given-two-arrays-x-and-y-construct-the-cauchy-matrix-c-cij-1xi---yj-","title":"47. Given two arrays, X and Y, construct the Cauchy matrix C (Cij =1/(xi - yj)) (\u2605\u2605\u2606)","text":"<p><code>hint: np.subtract.outer</code></p> Python<pre><code># Author: Evgeni Burovski\nX = np.arange(8)\nY = X + 0.5\nC = 1.0 / np.subtract.outer(X, Y)\nprint(np.linalg.det(C))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#48-print-the-minimum-and-maximum-representable-value-for-each-numpy-scalar-type--\u5404\u79cddtype\u80fd\u8868\u793a\u7684\u6570\u636e\u8303\u56f4","title":"48. Print the minimum and maximum representable value for each NumPy scalar type (\u2605\u2605\u2606) \u200b\u5404\u79cd\u200b<code>dtype</code>\u200b\u80fd\u200b\u8868\u793a\u200b\u7684\u200b\u6570\u636e\u200b\u8303\u56f4","text":"<p><code>hint: np.iinfo, np.finfo, eps</code></p> Python<pre><code>for dtype in [np.int8, np.int32, np.int64]:\nprint(np.iinfo(dtype).min)\nprint(np.iinfo(dtype).max)\nfor dtype in [np.float32, np.float64]:\nprint(np.finfo(dtype).min)\nprint(np.finfo(dtype).max)\nprint(np.finfo(dtype).eps)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#49-how-to-print-all-the-values-of-an-array--\u6253\u5370\u6240\u6709\u884c","title":"49. How to print all the values of an array? (\u2605\u2605\u2606) \u200b\u6253\u5370\u200b\u6240\u6709\u200b\u884c","text":"<p><code>hint: np.set_printoptions</code></p> Python<pre><code>np.set_printoptions(threshold=float(\"inf\"))\nZ = np.zeros((40, 40))\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#50-how-to-find-the-closest-value-to-a-given-scalar-in-a-vector-","title":"50. How to find the closest value (to a given scalar) in a vector? (\u2605\u2605\u2606)","text":"<p><code>hint: argmin</code></p> Python<pre><code>Z = np.arange(100)\nv = np.random.uniform(0, 100)\nindex = (np.abs(Z - v)).argmin()\nprint(Z[index])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#51-create-a-structured-array-representing-a-position-xy-and-a-color-rgb--\u521b\u5efa\u81ea\u5b9a\u4e49\u7ed3\u6784\u7684\u6570\u7ec4","title":"51. Create a structured array representing a position (x,y) and a color (r,g,b) (\u2605\u2605\u2606) \u200b\u521b\u5efa\u200b\u81ea\u5b9a\u4e49\u200b\u7ed3\u6784\u200b\u7684\u200b\u6570\u7ec4","text":"<p><code>hint: dtype</code></p> Python<pre><code>Z = np.zeros(\n10,\n[\n(\"position\", [(\"x\", float, 1), (\"y\", float, 1)]),\n(\"color\", [(\"r\", float, 1), (\"g\", float, 1), (\"b\", float, 1)]),\n],\n)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#52-consider-a-random-vector-with-shape-1002-representing-coordinates-find-point-by-point-distances-","title":"52. Consider a random vector with shape (100,2) representing coordinates, find point by point distances (\u2605\u2605\u2606)","text":"<p><code>hint: np.atleast_2d, T, np.sqrt</code></p> Python<pre><code>Z = np.random.random((10, 2))\nX, Y = np.atleast_2d(Z[:, 0], Z[:, 1])\nD = np.sqrt((X - X.T) ** 2 + (Y - Y.T) ** 2)\nprint(D)\n# Much faster with scipy\nimport scipy\n# Thanks Gavin Heverly-Coulson (#issue 1)\nimport scipy.spatial\nZ = np.random.random((10, 2))\nD = scipy.spatial.distance.cdist(Z, Z)\nprint(D)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#53-how-to-convert-a-float-32-bits-array-into-an-integer-32-bits-in-place","title":"53. How to convert a float (32 bits) array into an integer (32 bits) in place?","text":"<p><code>hint: view and [:] =</code></p> Python<pre><code># Thanks Vikas (https://stackoverflow.com/a/10622758/5989906)\n# &amp; unutbu (https://stackoverflow.com/a/4396247/5989906)\nZ = (np.random.rand(10) * 100).astype(np.float32)\nY = Z.view(np.int32)\nY[:] = Z\nprint(Y)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#54-how-to-read-the-following-file--\u4ece\u5b57\u7b26\u4e32\u4e2d\u8bfb\u53d6\u6570\u7ec4","title":"54. How to read the following file? (\u2605\u2605\u2606) \u200b\u4ece\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u6570\u7ec4","text":"Text Only<pre><code>1, 2, 3, 4, 5\n6,  ,  , 7, 8\n ,  , 9,10,11\n</code></pre> <p><code>hint: np.genfromtxt</code></p> Python<pre><code>from io import StringIO\n# Fake file\ns = StringIO(\n\"\"\"1, 2, 3, 4, 5\n                6,  ,  , 7, 8\n                 ,  , 9,10,11\n\"\"\"\n)\nZ = np.genfromtxt(s, delimiter=\",\", dtype=np.int)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#55-what-is-the-equivalent-of-enumerate-for-numpy-arrays--\u904d\u5386\u8f93\u51fa\u6bcf\u4e2a\u5143\u7d20","title":"55. What is the equivalent of enumerate for NumPy arrays? (\u2605\u2605\u2606) \u200b\u904d\u5386\u200b\u8f93\u51fa\u200b\u6bcf\u4e2a\u200b\u5143\u7d20","text":"<p><code>hint: np.ndenumerate, np.ndindex</code></p> Python<pre><code>Z = np.arange(9).reshape(3, 3)\nfor index, value in np.ndenumerate(Z):\nprint(index, value)\nfor index in np.ndindex(Z.shape):\nprint(index, Z[index])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#56-generate-a-generic-2d-gaussian-like-array--\u751f\u6210\u4e8c\u7ef4\u9ad8\u65af\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6","title":"56. Generate a generic 2D Gaussian-like array (\u2605\u2605\u2606) \u200b\u751f\u6210\u200b\u4e8c\u7ef4\u200b\u9ad8\u65af\u5206\u5e03\u200b\u7684\u200b\u6982\u7387\u5bc6\u5ea6","text":"<p><code>hint: np.meshgrid, np.exp</code></p> Python<pre><code>X, Y = np.meshgrid(np.linspace(-1, 1, 10), np.linspace(-1, 1, 10))\nD = np.sqrt(X * X + Y * Y)\nsigma, mu = 1.0, 0.0\nG = np.exp(-((D - mu) ** 2 / (2.0 * sigma**2)))\nprint(G)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#57-how-to-randomly-place-p-elements-in-a-2d-array--\u66ff\u6362\u67d0\u4e9b\u5143\u7d20\u7c7b\u4f3c\u4e8eupdate","title":"57. How to randomly place p elements in a 2D array? (\u2605\u2605\u2606) \u200b\u66ff\u6362\u200b\u67d0\u4e9b\u200b\u5143\u7d20\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b<code>update</code>","text":"<p><code>hint: np.put, np.random.choice</code></p> Python<pre><code># Author: Divakar\nn = 10\np = 3\nZ = np.zeros((n, n))\nnp.put(Z, np.random.choice(range(n * n), p, replace=False), 1)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#58-subtract-the-mean-of-each-row-of-a-matrix--\u51cf\u53bb\u6bcf\u884c\u7684\u5747\u503c","title":"58. Subtract the mean of each row of a matrix (\u2605\u2605\u2606) \u200b\u51cf\u53bb\u200b\u6bcf\u884c\u200b\u7684\u200b\u5747\u503c","text":"<p><code>hint: mean(axis=,keepdims=)</code></p> Python<pre><code># Author: Warren Weckesser\nX = np.random.rand(5, 10)\n# Recent versions of NumPy\nY = X - X.mean(axis=1, keepdims=True)\n# Older versions of NumPy\nY = X - X.mean(axis=1).reshape(-1, 1)\nprint(Y)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#59-how-to-sort-an-array-by-the-nth-column--\u6309\u5217\u6392\u5e8f","title":"59. How to sort an array by the nth column? (\u2605\u2605\u2606) \u200b\u6309\u5217\u200b\u6392\u5e8f","text":"<p><code>hint: argsort</code></p> Python<pre><code># Author: Steve Tjoa\nZ = np.random.randint(0, 10, (3, 3))\nprint(Z)\nprint(Z[Z[:, 1].argsort()])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#60-how-to-tell-if-a-given-2d-array-has-null-columns--\u5224\u65ad\u7a7a\u503c","title":"60. How to tell if a given 2D array has null columns? (\u2605\u2605\u2606) \u200b\u5224\u65ad\u200b\u7a7a\u503c","text":"<p><code>hint: any, ~</code></p> Python<pre><code># Author: Warren Weckesser\n# null : 0\nZ = np.random.randint(0, 3, (3, 10))\nprint((~Z.any(axis=0)).any())\n# null : np.nan\nZ = np.array([[0, 1, np.nan], [1, 2, np.nan], [4, 5, np.nan]])\nprint(np.isnan(Z).all(axis=0))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#61-find-the-nearest-value-from-a-given-value-in-an-array-","title":"61. Find the nearest value from a given value in an array (\u2605\u2605\u2606)","text":"<p><code>hint: np.abs, argmin, flat</code></p> Python<pre><code>Z = np.random.uniform(0, 1, 10)\nz = 0.5\nm = Z.flat[np.abs(Z - z).argmin()]\nprint(m)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#62-considering-two-arrays-with-shape-13-and-31-how-to-compute-their-sum-using-an-iterator--\u5217\u5411\u91cf\u4e0e\u884c\u5411\u91cf\u6c42\u548c\u751f\u6210\u6570\u7ec4","title":"62. Considering two arrays with shape (1,3) and (3,1), how to compute their sum using an iterator? (\u2605\u2605\u2606) \u200b\u5217\u200b\u5411\u91cf\u200b\u4e0e\u200b\u884c\u5411\u91cf\u200b\u6c42\u548c\u200b\uff0c\u200b\u751f\u6210\u200b\u6570\u7ec4","text":"<p><code>hint: np.nditer</code></p> Python<pre><code>A = np.arange(3).reshape(3, 1)\nB = np.arange(3).reshape(1, 3)\nit = np.nditer([A, B, None])\nfor x, y, z in it:\nz[...] = x + y\nprint(it.operands[2])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#63-create-an-array-class-that-has-a-name-attribute-","title":"63. Create an array class that has a name attribute (\u2605\u2605\u2606)","text":"<p><code>hint: class method</code></p> Python<pre><code>class NamedArray(np.ndarray):\ndef __new__(cls, array, name=\"no name\"):\nobj = np.asarray(array).view(cls)\nobj.name = name\nreturn obj\ndef __array_finalize__(self, obj):\nif obj is None:\nreturn\nself.name = getattr(obj, \"name\", \"no name\")\nZ = NamedArray(np.arange(10), \"range_10\")\nprint(Z.name)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#64-consider-a-given-vector-how-to-add-1-to-each-element-indexed-by-a-second-vector-be-careful-with-repeated-indices-","title":"64. Consider a given vector, how to add 1 to each element indexed by a second vector (be careful with repeated indices)? (\u2605\u2605\u2605)","text":"<p><code>hint: np.bincount | np.add.at</code></p> Python<pre><code># Author: Brett Olsen\nZ = np.ones(10)\nI = np.random.randint(0, len(Z), 20)\nZ += np.bincount(I, minlength=len(Z))\nprint(Z)\n# Another solution\n# Author: Bartosz Telenczuk\nnp.add.at(Z, I, 1)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#65-how-to-accumulate-elements-of-a-vector-x-to-an-array-f-based-on-an-index-list-i--\u5206\u6876\u7edf\u8ba1\u53ef\u4e3a\u6bcf\u4e2a\u6570\u636e\u63d0\u4f9b\u9891\u6570\u6743\u91cd","title":"65. How to accumulate elements of a vector (X) to an array (F) based on an index list (I)? (\u2605\u2605\u2605) \u200b\u5206\u6876\u200b\u7edf\u8ba1\u200b\uff0c\u200b\u53ef\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u63d0\u4f9b\u200b\u9891\u6570\u200b\uff08\u200b\u6743\u91cd\u200b\uff09","text":"<p><code>hint: np.bincount</code></p> Python<pre><code># Author: Alan G Isaac\nX = [1, 2, 3, 4, 5, 6]\nI = [1, 3, 9, 3, 4, 1]\nF = np.bincount(I, X)\nprint(F)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#66-considering-a-wh3-image-of-dtypeubyte-compute-the-number-of-unique-colors-","title":"66. Considering a (w,h,3) image of (dtype=ubyte), compute the number of unique colors (\u2605\u2605\u2606)","text":"<p><code>hint: np.unique</code></p> Python<pre><code># Author: Fisher Wang\nw, h = 256, 256\nI = np.random.randint(0, 4, (h, w, 3)).astype(np.ubyte)\ncolors = np.unique(I.reshape(-1, 3), axis=0)\nn = len(colors)\nprint(n)\n# Faster version\n# Author: Mark Setchell\n# https://stackoverflow.com/a/59671950/2836621\nw, h = 256, 256\nI = np.random.randint(0, 4, (h, w, 3), dtype=np.uint8)\n# View each pixel as a single 24-bit integer, rather than three 8-bit bytes\nI24 = np.dot(I.astype(np.uint32), [1, 256, 65536])\n# Count unique colours\nn = len(np.unique(I24))\nprint(n)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#67-considering-a-four-dimensions-array-how-to-get-sum-over-the-last-two-axis-at-once-","title":"67. Considering a four dimensions array, how to get sum over the last two axis at once? (\u2605\u2605\u2605)","text":"<p><code>hint: sum(axis=(-2,-1))</code></p> Python<pre><code>A = np.random.randint(0, 10, (3, 4, 3, 4))\n# solution by passing a tuple of axes (introduced in NumPy 1.7.0)\nsum = A.sum(axis=(-2, -1))\nprint(sum)\n# solution by flattening the last two dimensions into one\n# (useful for functions that don't accept tuples for axis argument)\nsum = A.reshape(A.shape[:-2] + (-1,)).sum(axis=-1)\nprint(sum)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#68-considering-a-one-dimensional-vector-d-how-to-compute-means-of-subsets-of-d-using-a-vector-s-of-same-size-describing-subset-indices-","title":"68. Considering a one-dimensional vector D, how to compute means of subsets of D using a vector S of same size describing subset indices? (\u2605\u2605\u2605)","text":"<p><code>hint: np.bincount</code></p> Python<pre><code># Author: Jaime Fern\u00e1ndez del R\u00edo\nD = np.random.uniform(0, 1, 100)\nS = np.random.randint(0, 10, 100)\nD_sums = np.bincount(S, weights=D)\nD_counts = np.bincount(S)\nD_means = D_sums / D_counts\nprint(D_means)\n# Pandas solution as a reference due to more intuitive code\nimport pandas as pd\nprint(pd.Series(D).groupby(S).mean())\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#69-how-to-get-the-diagonal-of-a-dot-product-","title":"69. How to get the diagonal of a dot product? (\u2605\u2605\u2605)","text":"<p><code>hint: np.diag</code></p> Python<pre><code># Author: Mathieu Blondel\nA = np.random.uniform(0, 1, (5, 5))\nB = np.random.uniform(0, 1, (5, 5))\n# Slow version\nnp.diag(np.dot(A, B))\n# Fast version\nnp.sum(A * B.T, axis=1)\n# Faster version\nnp.einsum(\"ij,ji-&gt;i\", A, B)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#70-consider-the-vector-1-2-3-4-5-how-to-build-a-new-vector-with-3-consecutive-zeros-interleaved-between-each-value--\u5728\u6570\u7ec4\u4e2d\u63d2\u5165\u7b49\u95f4\u9694\u7684-0","title":"70. Consider the vector [1, 2, 3, 4, 5], how to build a new vector with 3 consecutive zeros interleaved between each value? (\u2605\u2605\u2605) \u200b\u5728\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u63d2\u5165\u200b\u7b49\u200b\u95f4\u9694\u200b\u7684\u200b 0","text":"<p><code>hint: array[::4]</code></p> Python<pre><code># Author: Warren Weckesser\nZ = np.array([1, 2, 3, 4, 5])\nnz = 3\nZ0 = np.zeros(len(Z) + (len(Z) - 1) * (nz))\nZ0[:: nz + 1] = Z\nprint(Z0)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#71-consider-an-array-of-dimension-553-how-to-mulitply-it-by-an-array-with-dimensions-55-","title":"71. Consider an array of dimension (5,5,3), how to mulitply it by an array with dimensions (5,5)? (\u2605\u2605\u2605)","text":"<p><code>hint: array[:, :, None]</code></p> Python<pre><code>A = np.ones((5, 5, 3))\nB = 2 * np.ones((5, 5))\nprint(A * B[:, :, None])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#72-how-to-swap-two-rows-of-an-array--\u4ea4\u6362\u4e24\u884c","title":"72. How to swap two rows of an array? (\u2605\u2605\u2605) \u200b\u4ea4\u6362\u200b\u4e24\u884c","text":"<p><code>hint: array[[]] = array[[]]</code></p> Python<pre><code># Author: Eelco Hoogendoorn\nA = np.arange(25).reshape(5, 5)\nA[[0, 1]] = A[[1, 0]]\nprint(A)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#73-consider-a-set-of-10-triplets-describing-10-triangles-with-shared-vertices-find-the-set-of-unique-line-segments-composing-all-the-triangles-","title":"73. Consider a set of 10 triplets describing 10 triangles (with shared vertices), find the set of unique line segments composing all the triangles (\u2605\u2605\u2605)","text":"<p><code>hint: repeat, np.roll, np.sort, view, np.unique</code></p> Python<pre><code># Author: Nicolas P. Rougier\nfaces = np.random.randint(0, 100, (10, 3))\nF = np.roll(faces.repeat(2, axis=1), -1, axis=1)\nF = F.reshape(len(F) * 3, 2)\nF = np.sort(F, axis=1)\nG = F.view(dtype=[(\"p0\", F.dtype), (\"p1\", F.dtype)])\nG = np.unique(G)\nprint(G)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#74-given-a-sorted-array-c-that-corresponds-to-a-bincount-how-to-produce-an-array-a-such-that-npbincounta--c-","title":"74. Given a sorted array C that corresponds to a bincount, how to produce an array A such that np.bincount(A) == C? (\u2605\u2605\u2605)","text":"<p><code>hint: np.repeat</code></p> Python<pre><code># Author: Jaime Fern\u00e1ndez del R\u00edo\nC = np.bincount([1, 1, 2, 3, 4, 4, 6])\nA = np.repeat(np.arange(len(C)), C)\nprint(A)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#75-how-to-compute-averages-using-a-sliding-window-over-an-array--\u6eda\u52a8\u6c42\u503c\u7c7b\u4f3c\u4e8erolling","title":"75. How to compute averages using a sliding window over an array? (\u2605\u2605\u2605) \u200b\u6eda\u52a8\u200b\u6c42\u503c\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b<code>rolling</code>","text":"<p><code>hint: np.cumsum, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p> Python<pre><code># Author: Jaime Fern\u00e1ndez del R\u00edo\ndef moving_average(a, n=3):\nret = np.cumsum(a, dtype=float)\nret[n:] = ret[n:] - ret[:-n]\nreturn ret[n - 1 :] / n\nZ = np.arange(20)\nprint(moving_average(Z, n=3))\n# Author: Jeff Luo (@Jeff1999)\n# make sure your NumPy &gt;= 1.20.0\nfrom numpy.lib.stride_tricks import sliding_window_view\nZ = np.arange(20)\nprint(sliding_window_view(Z, window_shape=3).mean(axis=-1))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#76-consider-a-one-dimensional-array-z-build-a-two-dimensional-array-whose-first-row-is-z0z1z2-and-each-subsequent-row-is-shifted-by-1-last-row-should-be-z-3z-2z-1--\u6eda\u52a8\u63d0\u53d6\u503c","title":"76. Consider a one-dimensional array Z, build a two-dimensional array whose first row is (Z[0],Z[1],Z[2]) and each subsequent row is shifted by 1 (last row should be (Z[-3],Z[-2],Z[-1]) (\u2605\u2605\u2605) \u200b\u6eda\u52a8\u200b\u63d0\u53d6\u200b\u503c","text":"<p><code>hint: from numpy.lib import stride_tricks, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p> Python<pre><code># Author: Joe Kington / Erik Rigtorp\nfrom numpy.lib import stride_tricks\ndef rolling(a, window):\nshape = (a.size - window + 1, window)\nstrides = (a.strides[0], a.strides[0])\nreturn stride_tricks.as_strided(a, shape=shape, strides=strides)\nZ = rolling(np.arange(10), 3)\nprint(Z)\n# Author: Jeff Luo (@Jeff1999)\nZ = np.arange(10)\nprint(sliding_window_view(Z, window_shape=3))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#77-how-to-negate-a-boolean-or-to-change-the-sign-of-a-float-inplace--\u53d6\u76f8\u53cd\u6570","title":"77. How to negate a boolean, or to change the sign of a float inplace? (\u2605\u2605\u2605) \u200b\u53d6\u200b\u76f8\u53cd\u6570","text":"<p><code>hint: np.logical_not, np.negative</code></p> Python<pre><code># Author: Nathaniel J. Smith\nZ = np.random.randint(0, 2, 100)\nnp.logical_not(Z, out=Z)\nZ = np.random.uniform(-1.0, 1.0, 100)\nnp.negative(Z, out=Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#78-consider-2-sets-of-points-p0p1-describing-lines-2d-and-a-point-p-how-to-compute-distance-from-p-to-each-line-i-p0ip1i-","title":"78. Consider 2 sets of points P0,P1 describing lines (2d) and a point p, how to compute distance from p to each line i (P0[i],P1[i])? (\u2605\u2605\u2605)","text":"<p><code>No hints provided...</code></p> Python<pre><code>def distance(P0, P1, p):\nT = P1 - P0\nL = (T**2).sum(axis=1)\nU = -((P0[:, 0] - p[..., 0]) * T[:, 0] + (P0[:, 1] - p[..., 1]) * T[:, 1]) / L\nU = U.reshape(len(U), 1)\nD = P0 + U * T - p\nreturn np.sqrt((D**2).sum(axis=1))\nP0 = np.random.uniform(-10, 10, (10, 2))\nP1 = np.random.uniform(-10, 10, (10, 2))\np = np.random.uniform(-10, 10, (1, 2))\nprint(distance(P0, P1, p))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#79-consider-2-sets-of-points-p0p1-describing-lines-2d-and-a-set-of-points-p-how-to-compute-distance-from-each-point-j-pj-to-each-line-i-p0ip1i-","title":"79. Consider 2 sets of points P0,P1 describing lines (2d) and a set of points P, how to compute distance from each point j (P[j]) to each line i (P0[i],P1[i])? (\u2605\u2605\u2605)","text":"<p><code>No hints provided...</code></p> Python<pre><code># Author: Italmassov Kuanysh\n# based on distance function from previous question\nP0 = np.random.uniform(-10, 10, (10, 2))\nP1 = np.random.uniform(-10, 10, (10, 2))\np = np.random.uniform(-10, 10, (10, 2))\nprint(np.array([distance(P0, P1, p_i) for p_i in p]))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#80-consider-an-arbitrary-array-write-a-function-that-extract-a-subpart-with-a-fixed-shape-and-centered-on-a-given-element-pad-with-a-fill-value-when-necessary-","title":"80. Consider an arbitrary array, write a function that extract a subpart with a fixed shape and centered on a given element (pad with a <code>fill</code> value when necessary) (\u2605\u2605\u2605)","text":"<p><code>hint: minimum maximum</code></p> Python<pre><code># Author: Nicolas Rougier\nZ = np.random.randint(0, 10, (10, 10))\nshape = (5, 5)\nfill = 0\nposition = (1, 1)\nR = np.ones(shape, dtype=Z.dtype) * fill\nP = np.array(list(position)).astype(int)\nRs = np.array(list(R.shape)).astype(int)\nZs = np.array(list(Z.shape)).astype(int)\nR_start = np.zeros((len(shape),)).astype(int)\nR_stop = np.array(list(shape)).astype(int)\nZ_start = P - Rs // 2\nZ_stop = (P + Rs // 2) + Rs % 2\nR_start = (R_start - np.minimum(Z_start, 0)).tolist()\nZ_start = (np.maximum(Z_start, 0)).tolist()\nR_stop = np.maximum(R_start, (R_stop - np.maximum(Z_stop - Zs, 0))).tolist()\nZ_stop = (np.minimum(Z_stop, Zs)).tolist()\nr = [slice(start, stop) for start, stop in zip(R_start, R_stop)]\nz = [slice(start, stop) for start, stop in zip(Z_start, Z_stop)]\nR[r] = Z[z]\nprint(Z)\nprint(R)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#81-consider-an-array-z--1234567891011121314-how-to-generate-an-array-r--1234-2345-3456--11121314-","title":"81. Consider an array Z = [1,2,3,4,5,6,7,8,9,10,11,12,13,14], how to generate an array R = [[1,2,3,4], [2,3,4,5], [3,4,5,6], ..., [11,12,13,14]]? (\u2605\u2605\u2605)","text":"<p><code>hint: stride_tricks.as_strided, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p> Python<pre><code># Author: Stefan van der Walt\nZ = np.arange(1, 15, dtype=np.uint32)\nR = stride_tricks.as_strided(Z, (11, 4), (4, 4))\nprint(R)\n# Author: Jeff Luo (@Jeff1999)\nZ = np.arange(1, 15, dtype=np.uint32)\nprint(sliding_window_view(Z, window_shape=4))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#82-compute-a-matrix-rank--\u6c42\u77e9\u9635\u7684\u79e9","title":"82. Compute a matrix rank (\u2605\u2605\u2605) \u200b\u6c42\u200b\u77e9\u9635\u200b\u7684\u200b\u79e9","text":"<p><code>hint: np.linalg.svd, np.linalg.matrix_rank</code></p> Python<pre><code># Author: Stefan van der Walt\nZ = np.random.uniform(0, 1, (10, 10))\nU, S, V = np.linalg.svd(Z)  # Singular Value Decomposition\nrank = np.sum(S &gt; 1e-10)\nprint(rank)\n# alternative solution:\n# Author: Jeff Luo (@Jeff1999)\nrank = np.linalg.matrix_rank(Z)\nprint(rank)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#83-how-to-find-the-most-frequent-value-in-an-array\u6c42\u4f17\u6570","title":"83. How to find the most frequent value in an array\uff1f\u200b\u6c42\u200b\u4f17\u6570","text":"<p><code>hint: np.bincount, argmax</code></p> Python<pre><code>Z = np.random.randint(0, 10, 50)\nprint(np.bincount(Z).argmax())\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#84-extract-all-the-contiguous-3x3-blocks-from-a-random-10x10-matrix--\u53d6\u5b50\u77e9\u9635","title":"84. Extract all the contiguous 3x3 blocks from a random 10x10 matrix (\u2605\u2605\u2605) \u200b\u53d6\u5b50\u200b\u77e9\u9635","text":"<p><code>hint: stride_tricks.as_strided, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p> Python<pre><code># Author: Chris Barker\nZ = np.random.randint(0, 5, (10, 10))\nn = 3\ni = 1 + (Z.shape[0] - 3)\nj = 1 + (Z.shape[1] - 3)\nC = stride_tricks.as_strided(Z, shape=(i, j, n, n), strides=Z.strides + Z.strides)\nprint(C)\n# Author: Jeff Luo (@Jeff1999)\nZ = np.random.randint(0, 5, (10, 10))\nprint(sliding_window_view(Z, window_shape=(3, 3)))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#85-create-a-2d-array-subclass-such-that-zij--zji--\u5224\u65ad\u662f\u5426\u5bf9\u79f0","title":"85. Create a 2D array subclass such that Z[i,j] == Z[j,i] (\u2605\u2605\u2605) \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5bf9\u79f0","text":"<p><code>hint: class method</code></p> Python<pre><code># Author: Eric O. Lebigot\n# Note: only works for 2d array and value setting using indices\nclass Symetric(np.ndarray):\ndef __setitem__(self, index, value):\ni, j = index\nsuper(Symetric, self).__setitem__((i, j), value)\nsuper(Symetric, self).__setitem__((j, i), value)\ndef symetric(Z):\nreturn np.asarray(Z + Z.T - np.diag(Z.diagonal())).view(Symetric)\nS = symetric(np.random.randint(0, 10, (5, 5)))\nS[2, 3] = 42\nprint(S)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#86-consider-a-set-of-p-matrices-with-shape-nn-and-a-set-of-p-vectors-with-shape-n1-how-to-compute-the-sum-of-of-the-p-matrix-products-at-once-result-has-shape-n1-","title":"86. Consider a set of p matrices with shape (n,n) and a set of p vectors with shape (n,1). How to compute the sum of of the p matrix products at once? (result has shape (n,1)) (\u2605\u2605\u2605)","text":"<p><code>hint: np.tensordot</code></p> Python<pre><code># Author: Stefan van der Walt\np, n = 10, 20\nM = np.ones((p, n, n))\nV = np.ones((p, n, 1))\nS = np.tensordot(M, V, axes=[[0, 2], [0, 1]])\nprint(S)\n# It works, because:\n# M is (p,n,n)\n# V is (p,n,1)\n# Thus, summing over the paired axes 0 and 0 (of M and V independently),\n# and 2 and 1, to remain with a (n,1) vector.\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#87-consider-a-16x16-array-how-to-get-the-block-sum-block-size-is-4x4-","title":"87. Consider a 16x16 array, how to get the block-sum (block size is 4x4)? (\u2605\u2605\u2605)","text":"<p><code>hint: np.add.reduceat, from numpy.lib.stride_tricks import sliding_window_view (np&gt;=1.20.0)</code></p> Python<pre><code># Author: Robert Kern\nZ = np.ones((16, 16))\nk = 4\nS = np.add.reduceat(\nnp.add.reduceat(Z, np.arange(0, Z.shape[0], k), axis=0),\nnp.arange(0, Z.shape[1], k),\naxis=1,\n)\nprint(S)\n# alternative solution:\n# Author: Sebastian Wallk\u00f6tter (@FirefoxMetzger)\nZ = np.ones((16, 16))\nk = 4\nwindows = np.lib.stride_tricks.sliding_window_view(Z, (k, k))\nS = windows[::k, ::k, ...].sum(axis=(-2, -1))\n# Author: Jeff Luo (@Jeff1999)\nZ = np.ones((16, 16))\nk = 4\nprint(sliding_window_view(Z, window_shape=(k, k))[::k, ::k].sum(axis=(-2, -1)))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#88-how-to-implement-the-game-of-life-using-numpy-arrays-","title":"88. How to implement the Game of Life using NumPy arrays? (\u2605\u2605\u2605)","text":"<p><code>No hints provided...</code></p> Python<pre><code># Author: Nicolas Rougier\ndef iterate(Z):\n# Count neighbours\nN = (\nZ[0:-2, 0:-2]\n+ Z[0:-2, 1:-1]\n+ Z[0:-2, 2:]\n+ Z[1:-1, 0:-2]\n+ Z[1:-1, 2:]\n+ Z[2:, 0:-2]\n+ Z[2:, 1:-1]\n+ Z[2:, 2:]\n)\n# Apply rules\nbirth = (N == 3) &amp; (Z[1:-1, 1:-1] == 0)\nsurvive = ((N == 2) | (N == 3)) &amp; (Z[1:-1, 1:-1] == 1)\nZ[...] = 0\nZ[1:-1, 1:-1][birth | survive] = 1\nreturn Z\nZ = np.random.randint(0, 2, (50, 50))\nfor i in range(100):\nZ = iterate(Z)\nprint(Z)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#89-how-to-get-the-n-largest-values-of-an-array--\u6700\u5927\u7684-n-\u4e2a\u6570\u4e0d\u7528\u6392\u5e8f","title":"89. How to get the n largest values of an array (\u2605\u2605\u2605) \u200b\u6700\u5927\u200b\u7684\u200b n \u200b\u4e2a\u6570\u200b\uff0c\u200b\u4e0d\u7528\u200b\u6392\u5e8f","text":"<p><code>hint: np.argsort | np.argpartition</code></p> <p>\u200b\u53c2\u8003\u200b\uff1anumpy \u200b\u7684\u200b partition \u200b\u548c\u200b argpartition \u200b\u7684\u200b\u5b9a\u4e49\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f\u200b\u662f\u200b\u505a\u200b\u4ec0\u4e48\u200b\u7528\u200b\u7684\u200b\uff1f</p> Python<pre><code>Z = np.arange(10000)\nnp.random.shuffle(Z)\nn = 5\n# Slow\nprint(Z[np.argsort(Z)[-n:]])\n# Fast\nprint(Z[np.argpartition(-Z, n)[:n]])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#90-given-an-arbitrary-number-of-vectors-build-the-cartesian-product-every-combinations-of-every-item-","title":"90. Given an arbitrary number of vectors, build the cartesian product (every combinations of every item) (\u2605\u2605\u2605)","text":"<p><code>hint: np.indices</code></p> Python<pre><code># Author: Stefan Van der Walt\ndef cartesian(arrays):\narrays = [np.asarray(a) for a in arrays]\nshape = (len(x) for x in arrays)\nix = np.indices(shape, dtype=int)\nix = ix.reshape(len(arrays), -1).T\nfor n, arr in enumerate(arrays):\nix[:, n] = arrays[n][ix[:, n]]\nreturn ix\nprint(cartesian(([1, 2, 3], [4, 5], [6, 7])))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#91-how-to-create-a-record-array-from-a-regular-array-","title":"91. How to create a record array from a regular array? (\u2605\u2605\u2605)","text":"<p><code>hint: np.core.records.fromarrays</code></p> Python<pre><code>Z = np.array([(\"Hello\", 2.5, 3), (\"World\", 3.6, 2)])\nR = np.core.records.fromarrays(Z.T, names=\"col1, col2, col3\", formats=\"S8, f8, i8\")\nprint(R)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#92-consider-a-large-vector-z-compute-z-to-the-power-of-3-using-3-different-methods--\u8d85\u5927\u6570\u7ec4\u7684\u4e09\u6b21\u65b9\u5feb\u901f\u6c42\u6cd5","title":"92. Consider a large vector Z, compute Z to the power of 3 using 3 different methods (\u2605\u2605\u2605) \u200b\u8d85\u5927\u200b\u6570\u7ec4\u200b\u7684\u200b\u4e09\u6b21\u65b9\u200b\uff1a\u200b\u5feb\u901f\u200b\u6c42\u6cd5","text":"<p><code>hint: np.power, *, np.einsum</code></p> Python Console Session<pre><code># Author: Ryan G.\nx = np.random.rand(int(5e7))\n%timeit np.power(x,3)\n%timeit x*x*x\n%timeit np.einsum('i,i,i-&gt;i',x,x,x)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#93-consider-two-arrays-a-and-b-of-shape-83-and-22-how-to-find-rows-of-a-that-contain-elements-of-each-row-of-b-regardless-of-the-order-of-the-elements-in-b-","title":"93. Consider two arrays A and B of shape (8,3) and (2,2). How to find rows of A that contain elements of each row of B regardless of the order of the elements in B? (\u2605\u2605\u2605)","text":"<p><code>hint: np.where</code></p> Python<pre><code># Author: Gabe Schwartz\nA = np.random.randint(0, 5, (8, 3))\nB = np.random.randint(0, 5, (2, 2))\nC = A[..., np.newaxis, np.newaxis] == B\nrows = np.where(C.any((3, 1)).all(1))[0]\nprint(rows)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#94-considering-a-10x3-matrix-extract-rows-with-unequal-values-eg-223-","title":"94. Considering a 10x3 matrix, extract rows with unequal values (e.g. [2,2,3]) (\u2605\u2605\u2605)","text":"<p><code>No hints provided...</code></p> Python<pre><code># Author: Robert Kern\nZ = np.random.randint(0, 5, (10, 3))\nprint(Z)\n# solution for arrays of all dtypes (including string arrays and record arrays)\nE = np.all(Z[:, 1:] == Z[:, :-1], axis=1)\nU = Z[~E]\nprint(U)\n# soluiton for numerical arrays only, will work for any number of columns in Z\nU = Z[Z.max(axis=1) != Z.min(axis=1), :]\nprint(U)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#95-convert-a-vector-of-ints-into-a-matrix-binary-representation-","title":"95. Convert a vector of ints into a matrix binary representation (\u2605\u2605\u2605)","text":"<p><code>hint: np.unpackbits</code></p> Python<pre><code># Author: Warren Weckesser\nI = np.array([0, 1, 2, 3, 15, 16, 32, 64, 128])\nB = ((I.reshape(-1, 1) &amp; (2 ** np.arange(8))) != 0).astype(int)\nprint(B[:, ::-1])\n# Author: Daniel T. McDonald\nI = np.array([0, 1, 2, 3, 15, 16, 32, 64, 128], dtype=np.uint8)\nprint(np.unpackbits(I[:, np.newaxis], axis=1))\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#96-given-a-two-dimensional-array-how-to-extract-unique-rows--\u63d0\u53d6\u552f\u4e00\u7684\u884c","title":"96. Given a two dimensional array, how to extract unique rows? (\u2605\u2605\u2605) \u200b\u63d0\u53d6\u200b\u552f\u4e00\u200b\u7684\u200b\u884c","text":"<p><code>hint: np.ascontiguousarray | np.unique</code></p> Python<pre><code># Author: Jaime Fern\u00e1ndez del R\u00edo\nZ = np.random.randint(0, 2, (6, 3))\nT = np.ascontiguousarray(Z).view(np.dtype((np.void, Z.dtype.itemsize * Z.shape[1])))\n_, idx = np.unique(T, return_index=True)\nuZ = Z[idx]\nprint(uZ)\n# Author: Andreas Kouzelis\n# NumPy &gt;= 1.13\nuZ = np.unique(Z, axis=0)\nprint(uZ)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#97-considering-2-vectors-a--b-write-the-einsum-equivalent-of-inner-outer-sum-and-mul-function-","title":"97. Considering 2 vectors A &amp; B, write the einsum equivalent of inner, outer, sum, and mul function (\u2605\u2605\u2605)","text":"<p><code>hint: np.einsum</code></p> Python<pre><code># Author: Alex Riley\n# Make sure to read: http://ajcr.net/Basic-guide-to-einsum/\nA = np.random.uniform(0, 1, 10)\nB = np.random.uniform(0, 1, 10)\nnp.einsum(\"i-&gt;\", A)  # np.sum(A)\nnp.einsum(\"i,i-&gt;i\", A, B)  # A * B\nnp.einsum(\"i,i\", A, B)  # np.inner(A, B)\nnp.einsum(\"i,j-&gt;ij\", A, B)  # np.outer(A, B)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#98-considering-a-path-described-by-two-vectors-xy-how-to-sample-it-using-equidistant-samples-","title":"98. Considering a path described by two vectors (X,Y), how to sample it using equidistant samples (\u2605\u2605\u2605)?","text":"<p><code>hint: np.cumsum, np.interp</code></p> Python<pre><code># Author: Bas Swinckels\nphi = np.arange(0, 10 * np.pi, 0.1)\na = 1\nx = a * phi * np.cos(phi)\ny = a * phi * np.sin(phi)\ndr = (np.diff(x) ** 2 + np.diff(y) ** 2) ** 0.5  # segment lengths\nr = np.zeros_like(x)\nr[1:] = np.cumsum(dr)  # integrate path\nr_int = np.linspace(0, r.max(), 200)  # regular spaced path\nx_int = np.interp(r_int, r, x)  # integrate path\ny_int = np.interp(r_int, r, y)\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#99-given-an-integer-n-and-a-2d-array-x-select-from-x-the-rows-which-can-be-interpreted-as-draws-from-a-multinomial-distribution-with-n-degrees-ie-the-rows-which-only-contain-integers-and-which-sum-to-n-","title":"99. Given an integer n and a 2D array X, select from X the rows which can be interpreted as draws from a multinomial distribution with n degrees, i.e., the rows which only contain integers and which sum to n. (\u2605\u2605\u2605)","text":"<p><code>hint: np.logical_and.reduce, np.mod</code></p> Python<pre><code># Author: Evgeni Burovski\nX = np.asarray([[1.0, 0.0, 3.0, 8.0], [2.0, 0.0, 1.0, 1.0], [1.5, 2.5, 1.0, 0.0]])\nn = 4\nM = np.logical_and.reduce(np.mod(X, 1) == 0, axis=-1)\nM &amp;= X.sum(axis=-1) == n\nprint(X[M])\n</code></pre>","tags":["Python"]},{"location":"code/numpy/#100-compute-bootstrapped-95-confidence-intervals-for-the-mean-of-a-1d-array-x-ie-resample-the-elements-of-an-array-with-replacement-n-times-compute-the-mean-of-each-sample-and-then-compute-percentiles-over-the-means-","title":"100. Compute bootstrapped 95% confidence intervals for the mean of a 1D array X (i.e., resample the elements of an array with replacement N times, compute the mean of each sample, and then compute percentiles over the means). (\u2605\u2605\u2605)","text":"<p><code>hint: np.percentile</code></p> Python<pre><code># Author: Jessica B. Hamrick\nX = np.random.randn(100)  # random 1D array\nN = 1000  # number of bootstrap samples\nidx = np.random.randint(0, X.size, (N, X.size))\nmeans = X[idx].mean(axis=1)\nconfint = np.percentile(means, [2.5, 97.5])\nprint(confint)\n</code></pre>","tags":["Python"]},{"location":"code/others/","title":"Others \u200b\u5176\u4ed6","text":"","tags":["Python"]},{"location":"code/others/#dict-\u5b57\u5178","title":"Dict \u200b\u5b57\u5178","text":"","tags":["Python"]},{"location":"code/others/#\u4fdd\u5b58\u5b57\u5178\u5230-json-\u6587\u4ef6","title":"\u4fdd\u5b58\u200b\u5b57\u5178\u200b\u5230\u200b JSON \u200b\u6587\u4ef6","text":"Python<pre><code>import json\nwith open(\"name.json\", \"w\") as f:\njson.dump(my_dict, f, indent=4)\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u4ece-json-\u6587\u4ef6\u52a0\u8f7d\u5b57\u5178","title":"\u4ece\u200b JSON \u200b\u6587\u4ef6\u200b\u52a0\u8f7d\u200b\u5b57\u5178","text":"Python<pre><code>import json\nwith open(\"name.json\", \"r\") as file:\nmy_dict = json.load(file)\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5bf9dict\u6309value\u8fdb\u884c\u6392\u5e8f\u7531\u5c0f\u5230\u5927","title":"\u5bf9\u200b<code>dict</code>\u200b\u6309\u200b<code>value</code>\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff08\u200b\u7531\u5c0f\u5230\u5927\u200b\uff09\uff1a","text":"Python<pre><code>dict(sorted(x.items(), key=lambda item: item[1]))\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5bf9\u5b57\u5178\u8fdb\u884c\u5207\u7247","title":"\u5bf9\u200b\u5b57\u5178\u200b\u8fdb\u884c\u200b\u5207\u7247","text":"Python<pre><code>d = {1: 2, 3: 4, 5: 6, 7: 8}\nfirst_two = dict(list(d.items())[:2])\n# first_two: {1: 2, 3: 4}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/66535220/16760102</p>","tags":["Python"]},{"location":"code/others/#\u5bf9\u67d0\u4e2a-key-\u7684-value-\u52a0-1\u82e5\u4e0d\u5b58\u5728\u8fd9\u4e2a-key-\u5219\u5148\u5c06\u8fd9\u4e2a-key-\u8bbe\u4e3a-0-\u518d\u52a0-1","title":"\u5bf9\u200b\u67d0\u4e2a\u200b key \u200b\u7684\u200b value \u200b\u52a0\u200b 1\uff0c\u200b\u82e5\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8fd9\u4e2a\u200b key \u200b\u5219\u200b\u5148\u200b\u5c06\u200b\u8fd9\u4e2a\u200b key \u200b\u8bbe\u200b\u4e3a\u200b 0 \u200b\u518d\u200b\u52a0\u200b 1","text":"Python<pre><code>foo[bar] = foo.get(bar, 0) + 1\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/2626102/16760102</p> Python<pre><code>dictionary.get(keyname, value)\n</code></pre> <p><code>.get()</code> \u200b\u7684\u200b\u53c2\u6570\u200b\uff1a</p> Parameter Description keyname Required. The keyname of the item you want to return the value from value Optional. A value to return if the specified key does not exist. Default value None","tags":["Python"]},{"location":"code/others/#\u5c06-list-\u8f6c\u6362\u4e3a-dict\u5176\u4e2d-key-\u4e3a-list-\u4e2d\u7684\u5143\u7d20value-\u4e3a\u5143\u7d20\u5728-list-\u4e2d\u7684\u7d22\u5f15","title":"\u5c06\u200b <code>list</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>dict</code>\uff0c\u200b\u5176\u4e2d\u200b key \u200b\u4e3a\u200b <code>list</code> \u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\uff0cvalue \u200b\u4e3a\u200b\u5143\u7d20\u200b\u5728\u200b <code>list</code> \u200b\u4e2d\u200b\u7684\u200b\u7d22\u5f15","text":"Python<pre><code>lst = [\"A\", \"B\", \"C\"]\n{k: v for v, k in enumerate(lst)}\n# {'A': 0, 'C': 2, 'B': 1}\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5c06\u4e24\u4e2a\u5217\u8868\u8f6c\u4e3a\u5b57\u5178","title":"\u5c06\u200b\u4e24\u4e2a\u200b\u5217\u8868\u200b\u8f6c\u4e3a\u200b\u5b57\u5178","text":"Python<pre><code>keys = [\"a\", \"b\", \"c\"]\nvalues = [1, 2, 3]\ndictionary = dict(zip(keys, values))\nprint(dictionary)  # {'a': 1, 'b': 2, 'c': 3}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/209854/</p>","tags":["Python"]},{"location":"code/others/#\u7edf\u8ba1-list-\u4e2d\u5404\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570\u5e76\u4ee5-dict-\u5f62\u5f0f\u8fd4\u56de","title":"\u7edf\u8ba1\u200b <code>list</code> \u200b\u4e2d\u200b\u5404\u200b\u5143\u7d20\u200b\u51fa\u73b0\u200b\u7684\u200b\u6b21\u6570\u200b\uff0c\u200b\u5e76\u200b\u4ee5\u200b <code>dict</code> \u200b\u5f62\u5f0f\u200b\u8fd4\u56de","text":"Python<pre><code>import collections\nmy_list = [2, 0, 0, 1, 0, 7, 2, 2]\ncount_dict = collections.Counter(my_list)\n# count_dict\n# Counter({2: 3, 0: 3, 1: 1, 7: 1})\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5c06-python-\u4e2d\u7684\u5b57\u5178\u4fdd\u5b58\u5230\u672c\u5730\u7684-json-\u6587\u4ef6\u4e2d","title":"\u5c06\u200b Python \u200b\u4e2d\u200b\u7684\u200b\u5b57\u5178\u200b\u4fdd\u5b58\u200b\u5230\u200b\u672c\u5730\u200b\u7684\u200b JSON \u200b\u6587\u4ef6\u200b\u4e2d","text":"Python<pre><code>import json\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b\ndata = {\n'name': 'John',\n'age': 30,\n'city': 'New York'\n}\n# \u200b\u5c06\u200b\u5b57\u5178\u200b\u4fdd\u5b58\u200b\u5230\u200b JSON \u200b\u6587\u4ef6\u200b\nwith open('data.json', 'w') as f:\njson.dump(data, f, indent=4)  # \u200b\u4f7f\u7528\u200b indent \u200b\u53c2\u6570\u200b\u683c\u5f0f\u5316\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4f7f\u200b JSON \u200b\u6587\u4ef6\u200b\u66f4\u200b\u6613\u8bfb\u200b\n</code></pre>","tags":["Python"]},{"location":"code/others/#set-\u96c6\u5408","title":"Set \u200b\u96c6\u5408","text":"","tags":["Python"]},{"location":"code/others/#add-\u548c-update-\u5411\u96c6\u5408\u4e2d\u6dfb\u52a0\u5143\u7d20","title":"<code>add()</code> \u200b\u548c\u200b <code>update()</code> \u200b\u5411\u200b\u96c6\u5408\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u5143\u7d20","text":"<p>\u200b\u5728\u200b Python \u200b\u7684\u200b <code>set</code> \u200b\u4e2d\u200b\uff0c<code>.add()</code> \u200b\u548c\u200b <code>.update()</code> \u200b\u90fd\u200b\u662f\u200b\u5411\u200b\u96c6\u5408\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u5143\u7d20\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u4eec\u200b\u7684\u200b\u53c2\u6570\u200b\u548c\u200b\u64cd\u4f5c\u200b\u65b9\u5f0f\u200b\u6709\u6240\u4e0d\u540c\u200b\u3002</p> <p><code>.add()</code> \u200b\u65b9\u6cd5\u200b\u662f\u200b\u5c06\u200b\u5355\u4e2a\u200b\u5143\u7d20\u200b\u6dfb\u52a0\u200b\u5230\u200b\u96c6\u5408\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u6dfb\u52a0\u200b\u7684\u200b\u5143\u7d20\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e8e\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u91cd\u590d\u200b\u6dfb\u52a0\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>myset = {\"apple\", \"banana\", \"cherry\"}\nmyset.add(\"orange\")\nprint(myset)\n# Output: {'banana', 'cherry', 'apple', 'orange'}\nmyset.add(\"apple\")\nprint(myset)\n# Output: {'banana', 'cherry', 'apple', 'orange'}\n</code></pre> <p><code>.update()</code> \u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u5411\u200b\u96c6\u5408\u200b\u6dfb\u52a0\u200b\u591a\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5217\u8868\u200b\u3001\u200b\u5143\u7ec4\u200b\u3001\u200b\u96c6\u5408\u200b\u6216\u200b\u5176\u4ed6\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u5143\u7d20\u200b\u4f1a\u200b\u548c\u200b\u539f\u6709\u200b\u7684\u200b\u5143\u7d20\u200b\u5408\u5e76\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>myset = {\"apple\", \"banana\", \"cherry\"}\nmyset.update([\"orange\", \"grape\"])\nprint(myset)\n# Output: {'banana', 'cherry', 'grape', 'orange', 'apple'}\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u6ce8\u610f\u200b\u5230\u200b\uff0c<code>.update()</code> \u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u4e00\u6b21\u6027\u200b\u6dfb\u52a0\u200b\u591a\u4e2a\u200b\u5143\u7d20\u200b\u5230\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u6dfb\u52a0\u200b\u7684\u200b\u5143\u7d20\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e8e\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u91cd\u590d\u200b\u6dfb\u52a0\u200b\u3002\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5143\u7d20\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u8c03\u7528\u200b <code>.update()</code> \u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u5143\u7d20\u200b\u5c06\u200b\u88ab\u200b\u8fed\u4ee3\u200b\u5e76\u200b\u6dfb\u52a0\u200b\u5230\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5982\u679c\u200b\u4f20\u9012\u200b\u7684\u200b\u5143\u7d20\u200b\u672c\u8eab\u200b\u662f\u200b\u96c6\u5408\u200b\uff0c\u200b\u5219\u200b\u5176\u200b\u5c06\u200b\u88ab\u200b\u5206\u89e3\u200b\u5e76\u200b\u5355\u72ec\u200b\u6dfb\u52a0\u200b\u5230\u200b\u7ed3\u679c\u200b\u96c6\u4e2d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5c06\u200b\u6574\u4e2a\u200b\u96c6\u5408\u200b\u6dfb\u52a0\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u3002</p> <p>\u200b\u603b\u4e4b\u200b\uff0c<code>.add()</code> \u200b\u65b9\u6cd5\u200b\u9002\u7528\u200b\u4e8e\u200b\u5355\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u6dfb\u52a0\u200b\uff0c\u200b\u800c\u200b <code>.update()</code> \u200b\u65b9\u6cd5\u200b\u9002\u7528\u200b\u4e8e\u200b\u5411\u200b\u96c6\u5408\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u591a\u4e2a\u200b\u5143\u7d20\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#string-\u5b57\u7b26\u4e32","title":"String \u200b\u5b57\u7b26\u4e32","text":"","tags":["Python"]},{"location":"code/others/#\u6c42\u67d0\u4e2a\u5b57\u7b26\u7684-ascii-\u503c","title":"\u6c42\u200b\u67d0\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c","text":"Python<pre><code>ord(\"a\")\n# 97\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5c06\u67d0\u4e2a\u5b57\u7b26\u7684-ascii-\u503c\u8f6c\u6362\u4e3a\u5b57\u7b26","title":"\u5c06\u200b\u67d0\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26","text":"Python<pre><code>chr(ord(\"a\") + 0)\n# 'a'\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5224\u65ad\u67d0\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u67d0\u4e2a\u5b50\u5b57\u7b26\u4e32\u5f00\u5934\u6216\u7ed3\u5c3e","title":"\u5224\u65ad\u200b\u67d0\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u4ee5\u200b\u67d0\u4e2a\u200b\u5b50\u200b\u5b57\u7b26\u4e32\u200b\u5f00\u5934\u200b\u6216\u200b\u7ed3\u5c3e","text":"Python<pre><code>string.startswith()\nstring.endswith()\n</code></pre>","tags":["Python"]},{"location":"code/others/#f-\u6307\u5b9a\u5b57\u7b26\u4e32\u683c\u5f0f","title":"<code>f{}</code> \u200b\u6307\u5b9a\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f","text":"<p>\u200b\u82e5\u200b <code>test</code> \u200b\u662f\u200b <code>0.1</code>\uff0c\u200b\u5219\u200b\u4f1a\u200b\u6253\u5370\u200b <code>10%</code>\u3002</p> Text Only<pre><code>print(f\"\u200b\u5e74\u5316\u200b\u6536\u76ca\u7387\u200b\uff1a{test * 100:.2f}%\")\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/others/#\u5bf9\u5b57\u7b26\u4e32\u5de6\u8fb9\u586b\u5145-0","title":"\u5bf9\u200b\u5b57\u7b26\u4e32\u200b\u5de6\u8fb9\u200b\u586b\u5145\u200b 0","text":"<p>\u200b\u9002\u5408\u200b\u586b\u5145\u200b\u80a1\u7968\u4ee3\u7801\u200b\u3002</p> Python<pre><code>\"1\".zfill(6)\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/others/#vs-code","title":"VS Code","text":"","tags":["Python"]},{"location":"code/others/#\u4fee\u6539-vs-code-\u952e\u76d8\u5feb\u6377\u952e","title":"\u4fee\u6539\u200b VS Code \u200b\u952e\u76d8\u200b\u5feb\u6377\u952e","text":"<p><code>\u200b\u6587\u4ef6\u200b</code> \u2192 <code>\u200b\u9996\u9009\u9879\u200b</code> \u2192 <code>\u200b\u952e\u76d8\u200b\u5feb\u6377\u65b9\u5f0f\u200b</code></p> <p></p> <p>\u200b\u6216\u8005\u200b\u7528\u200b\u5feb\u6377\u952e\u200bCtrl+K+S \u200b\u547c\u200b\u51fa\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/others/#vs-code-\u6eda\u52a8\u754c\u9762\u65f6\u4fdd\u6301\u7236\u7ea7\u5d4c\u5957\u5982\u7c7b\u540d\u548c\u51fd\u6570\u540d\u663e\u793a\u5728\u9876\u90e8","title":"VS Code \u200b\u6eda\u52a8\u200b\u754c\u9762\u200b\u65f6\u200b\u4fdd\u6301\u200b\u7236\u7ea7\u200b\u5d4c\u5957\u200b\uff08\u200b\u5982\u7c7b\u200b\u540d\u200b\u548c\u200b\u51fd\u6570\u200b\u540d\u200b\uff09\u200b\u663e\u793a\u200b\u5728\u200b\u9876\u90e8","text":"","tags":["Python"]},{"location":"code/others/#vs-code-\u8fd0\u884c-python-\u811a\u672c\u65f6\u5728\u5f53\u524d\u811a\u672c\u6587\u4ef6\u7684\u8def\u5f84\u6267\u884c\u7ec8\u7aef\u547d\u4ee4","title":"VS Code \u200b\u8fd0\u884c\u200b Python \u200b\u811a\u672c\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b\u5f53\u524d\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\u6267\u884c\u200b\u7ec8\u7aef\u200b\u547d\u4ee4","text":"<p>\u200b\u4e00\u4e9b\u200b\u76f8\u5bf9\u8def\u5f84\u200b\u603b\u662f\u200b\u4e0d\u80fd\u200b\u5f88\u200b\u597d\u200b\u5730\u88ab\u200b\u8bc6\u522b\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u56f0\u6270\u200b\u7684\u200b\u95ee\u9898\u200b\u3002\u200b\u52fe\u9009\u200b\u4e0b\u56fe\u200b\u540e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5f53\u524d\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\u6267\u884c\u200b\u7ec8\u7aef\u200b\u547d\u4ee4\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5728\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\u6267\u884c\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/others/#vs-code-\u4e2d-python-\u65e0\u6cd5\u8df3\u8f6c\u5230\u51fd\u6570\u5b9a\u4e49","title":"VS Code \u200b\u4e2d\u200b Python \u200b\u65e0\u6cd5\u200b\u8df3\u8f6c\u200b\u5230\u200b\u51fd\u6570\u200b\u5b9a\u4e49","text":"<p>\u200b\u5c06\u200b Python: Language Server \u200b\u8bbe\u200b\u6210\u200b <code>Jedi</code>\u3002</p> <p></p> <p>\u200b\u53c2\u8003\u200b https://blog.csdn.net/singxsy/article/details/123730161</p>","tags":["Python"]},{"location":"code/others/#\u4fee\u6539-vs-code-\u7ec8\u7aef\u663e\u793a\u7684\u5e03\u5c40\u5c45\u53f3\u663e\u793a-or-\u5e95\u90e8\u663e\u793a","title":"\u4fee\u6539\u200b VS Code \u200b\u7ec8\u7aef\u200b\u663e\u793a\u200b\u7684\u200b\u5e03\u5c40\u200b\uff08\u200b\u5c45\u53f3\u200b\u663e\u793a\u200b or \u200b\u5e95\u90e8\u200b\u663e\u793a\u200b\uff09","text":"","tags":["Python"]},{"location":"code/others/#\u4e00\u952e\u6298\u53e0\u6216\u5c55\u5f00\u4ee3\u7801","title":"\u4e00\u952e\u200b\u6298\u53e0\u200b\u6216\u200b\u5c55\u5f00\u200b\u4ee3\u7801","text":"<p>\u200b\u4e00\u952e\u200b\u6298\u53e0\u200b\u6240\u6709\u200b\u4ee3\u7801\u200b\uff1aCtrl+K+0</p> <p>\u200b\u4e00\u952e\u200b\u6298\u53e0\u200b\u6240\u6709\u200b\u4ee3\u7801\u200b\uff1aCtrl+K+J</p> <p>\u200b\u53ea\u200b\u6298\u53e0\u200b\u5f53\u524d\u200b\u533a\u57df\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1aCtrl+Shift+[</p> <p>\u200b\u53ea\u200b\u5c55\u5f00\u200b\u5f53\u524d\u200b\u533a\u57df\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1aCtrl+Shift+]</p>","tags":["Python"]},{"location":"code/others/#\u8c03\u8bd5\u4ee3\u7801\u65f6\u5305\u62ec\u5f15\u5165\u7684\u5e93\u4ee3\u7801","title":"\u8c03\u8bd5\u200b\u4ee3\u7801\u200b\u65f6\u200b\uff0c\u200b\u5305\u62ec\u200b\u5f15\u5165\u200b\u7684\u200b\u5e93\u200b\u4ee3\u7801","text":"<p>\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u8c03\u8bd5\u6a21\u5f0f\u200b\u662f\u200b\u201cJust my code\u201d\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u53ea\u6709\u200b\u5728\u200b\u81ea\u5df1\u200b\u7f16\u5199\u200b\u7684\u200b\u4ee3\u7801\u200b\u6253\u200b\u7684\u200b\u65ad\u70b9\u200b\u624d\u200b\u6709\u6548\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u8c03\u8bd5\u200b\u5f15\u5165\u200b\u7684\u200b\u5e93\u200b\u4ee3\u7801\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8bbe\u7f6e\u200b\u4e2d\u5c06\u200b\u201cDebug Just My Code\u201d\u200b\u53d6\u6d88\u200b\u52fe\u9009\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/others/#regular-expression-\u6b63\u5219\u8868\u8fbe\u5f0f","title":"Regular Expression \u200b\u6b63\u5219\u8868\u8fbe\u5f0f","text":"","tags":["Python"]},{"location":"code/others/#\u66ff\u6362\u5339\u914d\u7684\u6587\u672c","title":"\u66ff\u6362\u200b\u5339\u914d\u200b\u7684\u200b\u6587\u672c","text":"","tags":["Python"]},{"location":"code/others/#\u53c2\u8003","title":"\u53c2\u8003\u200b\uff1a","text":"<p>https://www.dongchuanmin.com/archives/471.html</p> <p>\u200b\u66ff\u6362\u200b\u524d\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p> Text Only<pre><code>static/cui.css\nstatic/style.css\nstatic/less.css\n</code></pre> <p>\u200b\u9700\u8981\u200b\u5728\u200b static \u200b\u76ee\u5f55\u200b\u540e\u9762\u200b\u518d\u200b\u52a0\u200b\u4e00\u4e2a\u200b css \u200b\u76ee\u5f55\u200b\u3002</p> <p>\u200b\u6253\u5f00\u200b VS Code\uff0c\u200b\u7136\u540e\u200b Ctrl+F\uff0c\u200b\u628a\u200b\u641c\u7d22\u200b\u529f\u80fd\u200b\u8c03\u200b\u51fa\u6765\u200b\uff0c\u200b\u70b9\u51fb\u200b\u4e0b\u200b\u67e5\u627e\u200b\u6846\u200b\u5de6\u8fb9\u200b\u5411\u4e0b\u200b\u5c55\u5f00\u200b\u7684\u200b\u7bad\u5934\u200b\uff0c\u200b\u628a\u200b\u66ff\u6362\u200b\u6846\u200b\u4e5f\u200b\u5c55\u73b0\u200b\u51fa\u6765\u200b\u3002</p> Text Only<pre><code>\u200b\u5728\u200b\u67e5\u627e\u200b\u6846\u200b\u8f93\u5165\u200b\uff1astatic/(.*).css\n\u200b\u5728\u200b\u66ff\u6362\u200b\u6846\u200b\u8f93\u5165\u200b\uff1astatic/css/$1.css\n</code></pre> <p>\u200b\u70b9\u51fb\u200b\u67e5\u627e\u200b\u6846\u200b\u540e\u9762\u200b\u7684\u200b\u7b2c\u4e09\u4e2a\u200b\u6309\u94ae\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\uff0c\u200b\u8868\u793a\u200b\u542f\u7528\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u5339\u914d\u200b\uff0c\u200b\u4f60\u200b\u4f1a\u200b\u770b\u5230\u200b\u6587\u6863\u200b\u4e2d\u200b\u88ab\u200b\u6210\u529f\u200b\u5339\u914d\u200b\u7684\u200b\u5185\u5bb9\u200b\u88ab\u200b\u6807\u8272\u200b\u4e86\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u70b9\u51fb\u200b\u6279\u91cf\u200b\u66ff\u6362\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b\u3002</p> <p></p> <p>\u200b\u4ece\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c(.) \u200b\u8868\u793a\u200b\u4e86\u200b\u659c\u6760\u200b\u548c\u200b\u6807\u70b9\u200b\u4e4b\u95f4\u200b\u6240\u6709\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c$1 \u200b\u4ee3\u8868\u200b\u4e86\u200b\u4e0a\u9762\u200b (.) \u200b\u5339\u914d\u200b\u51fa\u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\u6709\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u9700\u6c42\u200b\uff0c\u200b\u5c31\u662f\u200b\u628a\u200b\u4e00\u7bc7\u200b\u6587\u7ae0\u200b\u91cc\u200b\u7684\u200b A \u200b\u6807\u7b7e\u200b\u5168\u90e8\u200b\u5220\u6389\u200b\uff0c\u200b\u4f46\u662f\u200b\u8981\u200b\u4fdd\u7559\u200b A \u200b\u6807\u7b7e\u200b\u91cc\u200b\u7684\u200b\u5173\u952e\u8bcd\u200b\u3002\u200b\u6574\u7406\u200b\u4e0b\u200b\u6587\u7ae0\u200b\u91cc\u200b\u6240\u6709\u200b A \u200b\u6807\u7b7e\u200b\u7684\u200b\u6848\u4f8b\u200b\uff0c\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>&lt;a href=\"http://www.xxoo.com\"&gt;\u200b\u5173\u952e\u8bcd\u200b\u4e00\u200b&lt;/a&gt;\n&lt;a href=\"http://www.xxoo.com\" title=\"xxoo\"&gt;\u200b\u5173\u952e\u8bcd\u200b\u4e8c\u200b&lt;/a&gt;\n&lt;a href=\"http://www.xxoo.com\" target=\"_blank\"&gt;\u200b\u5173\u952e\u8bcd\u200b\u4e09\u200b&lt;/a&gt;\n\n\u200b\u5728\u200b\u67e5\u627e\u200b\u6846\u200b\u8f93\u5165\u200b\uff1a&lt;a href=\"(.*)&gt;(.*)&lt;/a&gt;\n\u200b\u5728\u200b\u66ff\u6362\u200b\u6846\u200b\u8f93\u5165\u200b\uff1a$2\n</code></pre> <p>\u200b\u6279\u91cf\u200b\u66ff\u6362\u200b\u5373\u53ef\u200b\u3002\u200b\u4ece\u200b\u4e0a\u9762\u200b\u6309\u94ae\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u67e5\u627e\u200b\u7528\u200b\u4e86\u200b 2 \u200b\u4e2a\u200b (.*) \u200b\u5206\u522b\u200b\u5339\u914d\u200b 2 \u200b\u4e2a\u503c\u200b\uff0c\u200b\u7136\u540e\u200b\u66ff\u6362\u200b\u65f6\u200b\uff0c$2 \u200b\u8868\u793a\u200b\u4fdd\u7559\u200b\u7b2c\u4e8c\u4e2a\u200b\u503c\u200b\u3002</p> <p>\u200b\u6709\u65f6\u5019\u200b<code>(.*)</code>\u200b\u4e0d\u80fd\u200b\u7cbe\u786e\u200b\u5339\u914d\u200b\u51fa\u200b\u60f3\u8981\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u53ef\u80fd\u200b\u8ddf\u200b\u5f00\u542f\u200b\u4e86\u200b\u8d2a\u5a6a\u200b\u6a21\u5f0f\u200b\u6709\u5173\u200b\uff0c\u200b\u6b64\u65f6\u200b\u53ef\u4ee5\u200b\u6539\u7528\u200b\uff1a<code>([^//]*)</code></p>","tags":["Python"]},{"location":"code/others/#nginx","title":"Nginx","text":"","tags":["Python"]},{"location":"code/others/#\u8fd0\u884c-nginx","title":"\u8fd0\u884c\u200b Nginx","text":"Bash<pre><code>nginx\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684-nginx-\u8fdb\u7a0b","title":"\u67e5\u770b\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b Nginx \u200b\u8fdb\u7a0b","text":"Bash<pre><code>tasklist /fi  \"imagename eq nginx.exe\"\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u901a\u8fc7\u9ed8\u8ba4http127001\u8bbf\u95ee-8050-\u7aef\u53e3","title":"\u901a\u8fc7\u200b\u9ed8\u8ba4\u200b<code>http://127.0.0.1</code>\u200b\u8bbf\u95ee\u200b 8050 \u200b\u7aef\u53e3","text":"<p>\u200b\u5c06\u200b <code>nginx.conf</code> \u200b\u4e2d\u200b\u7684\u200b server \u200b\u6539\u4e3a\u200b\uff1a</p> Text Only<pre><code>#  \u200b\u4ee3\u7406\u200b\u672c\u200b\u673a\u200b 8050 \u200b\u7aef\u53e3\u200b\n    server {\n        listen 80;\n        location / {\n            proxy_pass http://127.0.0.1:8050; # \u200b\u5e94\u7528\u670d\u52a1\u5668\u200b HTTP \u200b\u5730\u5740\u200b\n            proxy_set_header Host $http_host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://blog.csdn.net/jackuhan/article/details/78796205</p>","tags":["Python"]},{"location":"code/others/#\u5e73\u6ed1\u9000\u51fa\u6240\u6709-nginx-\u8fdb\u7a0b","title":"\u5e73\u6ed1\u200b\u9000\u51fa\u200b\u6240\u6709\u200b Nginx \u200b\u8fdb\u7a0b","text":"Bash<pre><code>nginx -s quit\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5f3a\u5236\u7acb\u5373\u505c\u6b62-nginx-\u547d\u4ee4","title":"\u5f3a\u5236\u200b\u7acb\u5373\u200b\u505c\u6b62\u200b Nginx \u200b\u547d\u4ee4","text":"Bash<pre><code>nginx -s stop\n</code></pre> <p>\u200b\u4e24\u79cd\u200b\u9000\u51fa\u200b\u65b9\u6cd5\u200b\u7684\u200b\u533a\u522b\u200b</p> <p>\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u547d\u4ee4\u200b\u90fd\u200b\u662f\u200b\u7528\u6765\u200b\u505c\u6b62\u200b Nginx \u200b\u670d\u52a1\u5668\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b58\u5728\u200b\u4e00\u4e9b\u200b\u533a\u522b\u200b\uff1a</p> <p><code>nginx -s quit</code> \u200b\u547d\u4ee4\u200b\u662f\u200b\u5411\u200b Nginx \u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u544a\u8bc9\u200b\u5b83\u200b\u4f18\u96c5\u200b\u5730\u200b\u5173\u95ed\u200b\u5e76\u200b\u505c\u6b62\u200b\u3002</p> <p>\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u8ba9\u200b Nginx \u200b\u5728\u200b\u5904\u7406\u200b\u5b8c\u200b\u5f53\u524d\u200b\u6240\u6709\u200b\u7684\u200b\u8bf7\u6c42\u200b\u4e4b\u540e\u200b\u518d\u200b\u505c\u6b62\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6240\u6709\u200b\u6b63\u5728\u200b\u8fdb\u884c\u200b\u7684\u200b\u8fde\u63a5\u200b\u90fd\u200b\u6b63\u5e38\u200b\u5173\u95ed\u200b\u3002\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u7684\u200b\u597d\u5904\u200b\u662f\u200b\u53ef\u4ee5\u200b\u786e\u4fdd\u200b\u670d\u52a1\u5668\u200b\u5173\u95ed\u200b\u7684\u200b\u5e73\u6ed1\u200b\uff0c\u200b\u907f\u514d\u200b\u7531\u4e8e\u200b\u672a\u200b\u5904\u7406\u200b\u5b8c\u200b\u7684\u200b\u8fde\u63a5\u200b\u5bfc\u81f4\u200b\u6570\u636e\u200b\u4e22\u5931\u200b\u7b49\u200b\u95ee\u9898\u200b\u3002</p> <p><code>nginx -s stop</code> \u200b\u547d\u4ee4\u200b\u4e5f\u200b\u662f\u200b\u505c\u6b62\u200b Nginx \u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u4f1a\u200b\u76f4\u63a5\u200b\u6740\u6b7b\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u4f18\u96c5\u200b\u5730\u200b\u5173\u95ed\u200b\u3002</p> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u7684\u200b\u597d\u5904\u200b\u662f\u200b\u53ef\u4ee5\u200b\u7acb\u5373\u200b\u505c\u6b62\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e5f\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u6b63\u5728\u200b\u8fdb\u884c\u200b\u7684\u200b\u8fde\u63a5\u200b\u51fa\u73b0\u5f02\u5e38\u200b\uff0c\u200b\u9020\u6210\u200b\u6570\u636e\u200b\u4e22\u5931\u200b\u7b49\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u6b63\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b <code>nginx -s quit</code> \u200b\u547d\u4ee4\u200b\u6765\u200b\u5173\u95ed\u200b Nginx \u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u53ea\u200b\u5728\u200b\u9700\u8981\u200b\u7acb\u5373\u200b\u505c\u6b62\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u65f6\u5019\u200b\u4f7f\u7528\u200b <code>nginx -s stop</code> \u200b\u547d\u4ee4\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u91cd\u542f-nginx","title":"\u91cd\u542f\u200b Nginx","text":"<p><code>nginx -s reload</code> \uff08\u200b\u70ed\u200b\u91cd\u8f7d\u200b\uff09\uff1aNginx \u200b\u670d\u52a1\u200b\u4e0d\u4f1a\u200b\u7ec8\u6b62\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u68c0\u67e5\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5982\u679c\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u8bed\u6cd5\u200b\u6b63\u786e\u200b\uff0c\u200b\u5219\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u4f1a\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8fdb\u7a0b\u200b\u5904\u7406\u200b\u65b0\u6765\u200b\u7684\u200b\u8bf7\u6c42\u200b\u3002\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u53d1\u9001\u200b\u6d88\u606f\u200b\u7ed9\u200b\u539f\u6765\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u901a\u77e5\u200b\u65e7\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4e0d\u200b\u5728\u200b\u63a5\u53d7\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u5904\u7406\u200b\u5b8c\u200b\u73b0\u6709\u200b\u7684\u200b\u8bf7\u6c42\u200b\u540e\u200b\u9000\u51fa\u200b\uff08\u200b\u4f18\u96c5\u200b\u9000\u51fa\u200b\uff09\uff1b\u200b\u5982\u679c\u200b\u8bed\u6cd5\u200b\u4e0d\u200b\u6b63\u786e\u200b\uff0c\u200b\u5219\u200b\u7ee7\u7eed\u200b\u4f7f\u7528\u200b\u65e7\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u7ee7\u7eed\u200b\u5904\u7406\u200b\u8bf7\u6c42\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u5b89\u88c5-ssl-\u8bc1\u4e66","title":"\u5b89\u88c5\u200b SSL \u200b\u8bc1\u4e66","text":"<p>\u200b\u6ce8\u610f\u200b\u4e0b\u8f7d\u200b\u5bf9\u5e94\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u8bc1\u4e66\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e0d\u8981\u200b\u4e0b\u8f7d\u200b\u9519\u200b\u4e86\u200b\uff01</p> <p></p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://cloud.tencent.com/document/product/1207/47027</p>","tags":["Python"]},{"location":"code/others/#\u5176\u4ed6","title":"\u5176\u4ed6","text":"","tags":["Python"]},{"location":"code/others/#\u5728jupyter-notebook\u4e2d\u91cd\u65b0\u5bfc\u5165\u6a21\u5757","title":"\u5728\u200b<code>jupyter notebook</code>\u200b\u4e2d\u200b\u91cd\u65b0\u200b\u5bfc\u5165\u200b\u6a21\u5757","text":"<p>\u200b\u6700\u200b\u63a8\u8350\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> Text Only<pre><code>%load_ext autoreload\n%autoreload 2\nfrom functions import *\n</code></pre> <p>\u200b\u82e5\u200b<code>functions</code>\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u6709\u200b\u66f4\u6539\u200b\u5e76\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u8c03\u7528\u200b<code>functions</code>\u200b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b\u65f6\u4f1a\u200b\u81ea\u52a8\u200b\u7528\u200b\u65b0\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u751a\u81f3\u200b\u4e0d\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u518d\u200b\u8fd0\u884c\u200b<code>from functions import *</code>\u200b\u8fd9\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u4e86\u200b\uff0c\u200b\u975e\u5e38\u200b\u65b9\u4fbf\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://ipython.org/ipython-doc/3/config/extensions/autoreload.html</p> <p>\u200b\u53e6\u200b\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>import functions\nimport importlib\nimportlib.reload(functions)\nfrom functions import *\n</code></pre> <p>\u200b\u5982\u679c\u200b\u53ea\u662f\u200b\u7528\u200b<code>from functions import *</code>\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u200b<code>functions.py</code>\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\u6539\u52a8\u200b\u540e\u200b\uff0c<code>jupyter notebook</code>\u200b\u89c9\u5f97\u200b\u4e4b\u524d\u200b\u5df2\u7ecf\u200b\u5bfc\u5165\u200b\u8fc7\u200b<code>functions.py</code>\u200b\u4e86\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u8bc6\u522b\u200b\u51fa\u200b<code>functions.py</code>\u200b\u66f4\u65b0\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5f53\u200b<code>functions</code>\u200b\u4e2d\u200b\u7684\u200b\u4ee3\u7801\u200b\u6709\u200b\u66f4\u6539\u200b\u5e76\u200b\u4fdd\u5b58\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u518d\u6b21\u200b\u8fd0\u884c\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u624d\u200b\u80fd\u591f\u200b\u66f4\u65b0\u200b<code>functions</code>\u200b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u5bfc\u5165\u6307\u5b9a\u6587\u4ef6\u5939\u4e0b\u7684\u6a21\u5757","title":"\u5bfc\u5165\u200b\u6307\u5b9a\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\u7684\u200b\u6a21\u5757","text":"","tags":["Python"]},{"location":"code/others/#\u60c5\u51b5-1\u9700\u8981\u5bfc\u5165\u7684\u6a21\u5757\u4f4d\u4e8e\u4e0a\u4e00\u7ea7\u76ee\u5f55\u4e2d","title":"\u60c5\u51b5\u200b 1\uff1a\u200b\u9700\u8981\u200b\u5bfc\u5165\u200b\u7684\u200b\u6a21\u5757\u200b\u4f4d\u4e8e\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\u4e2d","text":"<p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6709\u200b\u4e0b\u9762\u200b\u7684\u200b\u76ee\u5f55\u200b\u7ed3\u6784\u200b\uff1a</p> <p></p> Python<pre><code>import sys\nsys.path.append(\"../\")\n# \u200b\u5bfc\u5165\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\u7684\u200b\u6a21\u5757\u200b\nimport myutils\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u60c5\u51b5-2\u9700\u8981\u5bfc\u5165\u7684\u6a21\u5757\u4f4d\u4e8e\u4e0a\u4e00\u7ea7\u76ee\u5f55\u7684\u5b50\u76ee\u5f55\u4e2d","title":"\u60c5\u51b5\u200b 2\uff1a\u200b\u9700\u8981\u200b\u5bfc\u5165\u200b\u7684\u200b\u6a21\u5757\u200b\u4f4d\u4e8e\u200b\u4e0a\u200b\u4e00\u7ea7\u200b\u76ee\u5f55\u200b\u7684\u200b\u5b50\u76ee\u5f55\u200b\u4e2d","text":"<p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6709\u200b\u4e0b\u9762\u200b\u7684\u200b\u76ee\u5f55\u200b\u7ed3\u6784\u200b\uff1a</p> <p></p> <p>\u200b\u6211\u200b\u9700\u8981\u200b\u5728\u200b <code>chapter1.ipynb</code> \u200b\u548c\u200b <code>chapter2.ipynb</code> \u200b\u4e2d\u200b\u90fd\u200b\u80fd\u200b\u5bfc\u5165\u200b <code>support/myutils.py</code>\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b<code>chapter1.ipynb</code> \u200b\u548c\u200b <code>chapter2.ipynb</code> \u200b\u4e2d\u200b\u5199\u5165\u200b\uff1a</p> Python<pre><code>import os\nimport sys\nsys.path.insert(0, os.path.abspath(\"../\"))\nimport support.myutils as myutils\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b<code>sys.path.insert(0, os.path.abspath('../'))</code>\u200b\u5c06\u200b<code>../</code>\u200b\u6dfb\u52a0\u200b\u5230\u200b\u7cfb\u7edf\u200b\u8def\u5f84\u200b\u4e2d\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u81ea\u5b9a\u4e49\u6a21\u5757\u5e26\u6709\u591a\u4e2a\u6587\u4ef6\u65f6\u4ea4\u53c9\u5bfc\u5165","title":"\u81ea\u5b9a\u4e49\u200b\u6a21\u5757\u200b\u5e26\u6709\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u4ea4\u53c9\u200b\u5bfc\u5165","text":"<p>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u76f8\u5bf9\u200b\u5bfc\u5165\u200b\u8bed\u6cd5\u200b <code>from .module_name import class_name</code> \u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u51fa\u73b0\u200b <code>\"ImportError: attempted relative import with no known parent package\"</code> \u200b\u5f02\u5e38\u200b\uff0c\u200b\u901a\u5e38\u200b\u662f\u200b\u7531\u4e8e\u200b Python \u200b\u65e0\u6cd5\u200b\u786e\u5b9a\u200b\u5f53\u524d\u200b\u6a21\u5757\u200b\u7684\u200b\u7236\u5305\u200b\u6240\u5728\u4f4d\u7f6e\u200b\u800c\u200b\u5f15\u8d77\u200b\u7684\u200b\u3002\u200b\u6b64\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ee5\u4e0b\u200b\u65b9\u5f0f\u200b\u89e3\u51b3\u200b\u8be5\u200b\u95ee\u9898\u200b\uff1a</p> <p>\u200b\u5c06\u200b\u5f53\u524d\u200b\u6a21\u5757\u200b\u4f5c\u4e3a\u200b\u5305\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6a21\u5757\u200b\u6765\u200b\u5904\u7406\u200b\uff0c\u200b\u5373\u200b\u5728\u200b\u8be5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b <code>__init__.py</code> \u200b\u6587\u4ef6\u200b\u3002<code>__init__.py</code> \u200b\u6587\u4ef6\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6216\u8005\u200b\u5305\u542b\u200b\u4e00\u4e9b\u200b\u521d\u59cb\u5316\u200b\u4ee3\u7801\u200b\u7684\u200b Python \u200b\u6a21\u5757\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u4e0d\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u4efb\u4f55\u200b\u521d\u59cb\u5316\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u4fdd\u6301\u200b\u8be5\u200b\u6587\u4ef6\u200b\u4e3a\u7a7a\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8be5\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u76f8\u5e94\u200b\u4ee3\u7801\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u8bb0\u5f55\u4ee3\u7801\u7684\u8fd0\u884c\u65f6\u95f4","title":"\u8bb0\u5f55\u200b\u4ee3\u7801\u200b\u7684\u200b\u8fd0\u884c\u200b\u65f6\u95f4","text":"Text Only<pre><code>%timeit \u200b\u4ee3\u7801\u200b\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u4fee\u6539-vs-code-\u8fd0\u884c-python-\u7684\u8def\u5f84\u4e3a\u5f53\u524d\u811a\u672c\u6240\u5728\u8def\u5f84","title":"\u4fee\u6539\u200b VS Code \u200b\u8fd0\u884c\u200b Python \u200b\u7684\u200b\u8def\u5f84\u200b\u4e3a\u200b\u5f53\u524d\u200b\u811a\u672c\u200b\u6240\u5728\u200b\u8def\u5f84","text":"Python<pre><code>import sys\n# \u200b\u5207\u6362\u200b\u5230\u200b\u5f53\u524d\u76ee\u5f55\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u200b\u8def\u5f84\u200b\u9519\u8bef\u200b\uff08VSCode \u200b\u7684\u200b\u95ee\u9898\u200b\uff09\nos.chdir(sys.path[0])\n</code></pre>","tags":["Python"]},{"location":"code/others/#gitlens-\u63d2\u4ef6\u7981\u6b62\u5728\u884c\u5185\u663e\u793a\u4fe1\u606f","title":"GitLens \u200b\u63d2\u4ef6\u200b\u7981\u6b62\u200b\u5728\u200b\u884c\u5185\u200b\u663e\u793a\u4fe1\u606f","text":"<p>\u200b\u5c06\u200b\u8bbe\u7f6e\u200b\u4e2d\u200b\u7684\u200b <code>gitlens.currentLine.enabled</code> \u200b\u53d6\u6d88\u200b\u52fe\u9009\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/others/#\u5982\u679c\u67d0\u4e2a\u5305\u4e0d\u5b58\u5728\u5219\u5b89\u88c5\u5b83","title":"\u5982\u679c\u200b\u67d0\u4e2a\u200b\u5305\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u5b89\u88c5\u200b\u5b83","text":"Text Only<pre><code>import importlib\ntry:\n    importlib.import_module('library_name')\n    print('Library exists.')\nexcept ImportError:\n    !pip install library_name\n    print('Library installed.')\n</code></pre> <p>\u200b\u4ee5\u4e0a\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c'library_name'\u200b\u9700\u8981\u200b\u7528\u200b\u5b9e\u9645\u200b\u5e93\u540d\u200b\u66ff\u6362\u200b\u3002\u200b\u5982\u679c\u200b\u5e93\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b'Library exists.'\uff0c\u200b\u5426\u5219\u200b\u5c06\u200b\u4f7f\u7528\u200b\uff01pip install \u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff0c\u200b\u5e76\u200b\u8f93\u51fa\u200b'Library installed.'\u3002</p>","tags":["Python"]},{"location":"code/others/#\u4fee\u6539pip-install\u7684\u9ed8\u8ba4\u955c\u50cf","title":"\u4fee\u6539\u200b<code>pip install</code>\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u955c\u50cf","text":"Text Only<pre><code>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre> <p>\u200b\u4f1a\u200b\u8986\u76d6\u200b\u5982\u4e0b\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff1a</p> Text Only<pre><code>C:\\Users\\Administrator\\AppData\\Roaming\\pip\\pip.ini\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/others/#\u4e34\u65f6\u4fee\u6539\u5b89\u88c5\u6e90","title":"\u4e34\u65f6\u200b\u4fee\u6539\u200b\u5b89\u88c5\u200b\u6e90","text":"<p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u4f7f\u7528\u200b<code>-i</code>\u200b\u53c2\u6570\u200b\u6765\u200b\u6307\u5b9a\u200b\u9ed8\u8ba4\u200b\u6e90\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a</p> Text Only<pre><code>pip install package_name -i https://pypi.org/simple/\n</code></pre>","tags":["Python"]},{"location":"code/others/#pip\u5c55\u793a\u5df2\u5b89\u88c5\u5305\u7684\u4fe1\u606f","title":"<code>pip</code>\u200b\u5c55\u793a\u200b\u5df2\u200b\u5b89\u88c5\u5305\u200b\u7684\u200b\u4fe1\u606f","text":"Bash<pre><code>pip show package_name\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u66f4\u65b0\u5305","title":"\u66f4\u65b0\u5305","text":"Bash<pre><code>pip install --upgrade package_name\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u4ece-requirementstxt-\u4e2d\u5b89\u88c5\u5305","title":"\u4ece\u200b <code>requirements.txt</code> \u200b\u4e2d\u200b\u5b89\u88c5\u5305","text":"Bash<pre><code>pip install -r requirements.txt\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u904d\u5386\u6587\u4ef6\u5939","title":"\u904d\u5386\u200b\u6587\u4ef6\u5939","text":"Python<pre><code>for dirname, _, filenames in os.walk(\"./folder/\"):\nfor filename in filenames:\nprint(os.path.join(dirname, filename))\n</code></pre>","tags":["Python"]},{"location":"code/others/#assert-\u68c0\u67e5\u8868\u8fbe\u5f0f\u662f\u5426\u7b26\u5408\u9884\u671f","title":"<code>assert</code> \u200b\u68c0\u67e5\u200b\u8868\u8fbe\u5f0f\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u9884\u671f","text":"<p>\u200b\u82e5\u200b\u8868\u8fbe\u5f0f\u200b\u4e0d\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u62a5\u9519\u200b\u63d0\u793a\u200b\u7528\u6237\u200b\u9700\u8981\u200b\u68c0\u67e5\u200b\u3002</p> Python<pre><code>assert condition, \"some text\"\n</code></pre>","tags":["Python"]},{"location":"code/others/#pdb-\u8c03\u8bd5\u4ee3\u7801","title":"<code>pdb</code> \u200b\u8c03\u8bd5\u200b\u4ee3\u7801","text":"<p>PDF \u200b\u7248\u200b Cheat Sheet</p> <p></p>","tags":["Python"]},{"location":"code/others/#\u67e5\u770b\u5bfc\u5165\u5916\u90e8\u5305\u7684\u6587\u4ef6\u8def\u5f84","title":"\u67e5\u770b\u200b\u5bfc\u5165\u200b\u5916\u90e8\u200b\u5305\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84","text":"Python<pre><code>import os\nimport sklearn\n# \u200b\u6253\u5370\u200b sklearn \u200b\u7684\u200b\u8def\u5f84\u200b\nprint(os.path.dirname(sklearn.__file__))\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u4ec5\u5f53\u4f5c\u4e3a\u4e3b\u6587\u4ef6\u65f6\u8fd0\u884c","title":"\u4ec5\u200b\u5f53\u4f5c\u200b\u4e3a\u4e3b\u200b\u6587\u4ef6\u200b\u65f6\u200b\u8fd0\u884c","text":"Python<pre><code>if __name__ == \"__main__\":\nprint(\"test\")\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u590d\u5236\u79fb\u52a8\u6587\u4ef6","title":"\u590d\u5236\u200b\u3001\u200b\u79fb\u52a8\u200b\u6587\u4ef6","text":"Python<pre><code>import shutil\n# \u200b\u590d\u5236\u200b\u6587\u4ef6\u200b\u5230\u200b\u65b0\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ef\u200b\u540c\u65f6\u200b\u4fee\u6539\u200b\u6587\u4ef6\u540d\u200b\nshutil.copy(\"oldname\", \"renamedfiles/newname\")\n# \u200b\u79fb\u52a8\u200b\u6587\u4ef6\u200b\u5230\u200b\u65b0\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ef\u200b\u540c\u65f6\u200b\u4fee\u6539\u200b\u6587\u4ef6\u540d\u200b\nshutil.move(\"oldname\", \"renamedfiles/newname\")\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/42542180/16760102</p>","tags":["Python"]},{"location":"code/others/#\u65b0\u5efa\u6587\u4ef6\u5939\u82e5\u5b58\u5728\u5219\u4e0d\u65b0\u5efa","title":"\u65b0\u5efa\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u82e5\u200b\u5b58\u5728\u200b\u5219\u200b\u4e0d\u200b\u65b0\u5efa","text":"Python<pre><code>os.makedirs(\"./dir_name\", exist_ok=True)\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u547d\u4ee4\u884c\u5207\u6362\u5230-d-\u76d8","title":"\u547d\u4ee4\u884c\u200b\u5207\u6362\u200b\u5230\u200b D \u200b\u76d8","text":"<p>\u200b\u76f4\u63a5\u200b\u8f93\u5165\u200b</p> Bash<pre><code>D:\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/others/#\u58f0\u660e\u7f16\u7801\u683c\u5f0f","title":"\u58f0\u660e\u200b\u7f16\u7801\u200b\u683c\u5f0f","text":"Text Only<pre><code># -*- coding: UTF-8 -*-\n</code></pre> <p>\u200b\u544a\u8bc9\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u89e3\u91ca\u5668\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b\u4e3a\u200b UTF-8\uff0c\u200b\u4ee5\u4fbf\u200b\u6b63\u786e\u200b\u89e3\u6790\u200b\u548c\u200b\u5904\u7406\u200b\u6587\u672c\u200b\u6570\u636e\u200b\u3002UTF-8 \u200b\u662f\u200b\u4e00\u79cd\u200b\u901a\u7528\u200b\u7684\u200b\u7f16\u7801\u6807\u51c6\u200b\uff0c\u200b\u5b83\u200b\u652f\u6301\u200b\u591a\u79cd\u8bed\u8a00\u200b\u5b57\u7b26\u96c6\u200b\uff0c\u200b\u5982\u200b\u82f1\u8bed\u200b\u3001\u200b\u4e2d\u6587\u200b\u3001\u200b\u65e5\u8bed\u200b\u3001\u200b\u963f\u62c9\u4f2f\u8bed\u200b\u7b49\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u6587\u672c\u5904\u7406\u200b\u9519\u8bef\u200b\uff0c\u200b\u5982\u200b\u65e0\u6cd5\u200b\u6b63\u786e\u200b\u663e\u793a\u5b57\u7b26\u200b\u3001\u200b\u65e0\u6cd5\u200b\u8bfb\u53d6\u200b\u6216\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u67e5\u770b\u7535\u6c60\u4fe1\u606f","title":"\u67e5\u770b\u200b\u7535\u6c60\u200b\u4fe1\u606f","text":"Bash<pre><code>cd Desktop\n\npowercfg /batteryreport\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u62a5\u9519\u540e\u8bb0\u5c06\u503c\u5199\u5165\u5230\u6587\u672c\u6587\u4ef6","title":"\u62a5\u9519\u200b\u540e\u8bb0\u200b\u5c06\u503c\u200b\u5199\u5165\u200b\u5230\u200b\u6587\u672c\u6587\u4ef6","text":"<p>\u200b\u5728\u200b <code>except</code> \u200b\u8bed\u53e5\u200b\u5757\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u6253\u5f00\u200b\u6587\u672c\u6587\u4ef6\u200b\u5e76\u200b\u628a\u200b <code>'bar'</code> \u200b\u6dfb\u52a0\u200b\u5230\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u3002\u200b\u5982\u679c\u200b\u6587\u672c\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002</p> Python<pre><code>try:\nfoo = func(\"bar\")\nexcept:\nwith open(\"error_log.txt\", mode=\"a\") as f:\nf.write(\"bar\" + \"\\n\")\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b <code>with open</code> \u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7528\u5230\u200b\u7684\u200b\u53c2\u6570\u200b <code>a</code> \u200b\u8868\u793a\u200b\u5411\u200b\u6587\u672c\u6587\u4ef6\u200b\u4e2d\u200b\u8ffd\u52a0\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u6587\u4ef6\u200b\u3002<code>write()</code> \u200b\u65b9\u6cd5\u200b\u6dfb\u52a0\u200b\u65b0\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u672b\u5c3e\u200b\u6dfb\u52a0\u200b <code>\\n</code>\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u786e\u4fdd\u200b\u6bcf\u200b\u4e00\u884c\u200b\u6587\u672c\u200b\u7684\u200b\u672b\u5c3e\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6362\u884c\u7b26\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u7981\u7528-homebrew-\u81ea\u52a8\u66f4\u65b0","title":"\u7981\u7528\u200b homebrew \u200b\u81ea\u52a8\u66f4\u65b0","text":"<p>\u200b\u82e5\u200b\u6bcf\u6b21\u200b <code>brew install</code> \u200b\u65f6\u200b\u90fd\u200b\u81ea\u52a8\u200b\u6267\u884c\u200b <code>brew update --auto-update</code>\uff0c\u200b\u53ef\u4ee5\u200b\u7981\u7528\u200b\u6389\u200b\u6bcf\u6b21\u200b\u5b89\u88c5\u200b\u524d\u200b\u7684\u200b\u66f4\u65b0\u200b\uff1a</p> Bash<pre><code># ~/.zshrc\nexport HOMEBREW_NO_AUTO_UPDATE=true\n</code></pre> <p>\u200b\u9700\u8981\u200b\u66f4\u65b0\u5305\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\uff1a</p> Bash<pre><code>brew update &amp;&amp; brew upgrade &amp;&amp; brew cleanup ; say mission complete\nbrew update &amp;&amp; brew upgrade brew-cask &amp;&amp; brew cleanup ; say mission complete\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://learnku.com/articles/18908#reply100531</p>","tags":["Python"]},{"location":"code/others/#\u901a\u8fc7\u547d\u4ee4\u884c\u67e5\u770b-ip-\u5730\u5740","title":"\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u67e5\u770b\u200b ip \u200b\u5730\u5740","text":"Bash<pre><code>ip=$(curl -s http://myip.ipip.net)\necho \"My public IP address is: $ip\"\n</code></pre> <p>\u200b\u7f51\u9875\u200b\u7aef\u200b\u67e5\u770b\u200b\uff1a</p> <p>https://www.ipip.net/</p>","tags":["Python"]},{"location":"code/others/#\u4f7f\u7528-pandoc-\u8f6c\u6362\u6587\u4ef6","title":"\u4f7f\u7528\u200b <code>pandoc</code> \u200b\u8f6c\u6362\u200b\u6587\u4ef6","text":"<p>\u200b\u8981\u200b\u5c06\u200b .r \u200b\u6587\u4ef6\u200b\u8f6c\u6362\u200b\u4e3a\u200b markdown \u200b\u6587\u4ef6\u200b\uff0c\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u6b65\u9aa4\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u5b89\u88c5\u200b pandoc\uff0c\u200b\u5982\u679c\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u53ef\u4ee5\u200b\u8df3\u8fc7\u200b\u6b64\u200b\u6b65\u9aa4\u200b\u3002</li> </ul> Bash<pre><code>$ sudo apt install pandoc\n</code></pre> <ul> <li>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u4f7f\u7528\u200b pandoc \u200b\u4ece\u200b .r \u200b\u6587\u4ef6\u200b\u751f\u6210\u200b markdown \u200b\u6587\u4ef6\u200b\uff1a</li> </ul> Bash<pre><code>$ pandoc -s example.R -o example.md\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>example.R</code> \u200b\u662f\u200b\u4f60\u200b\u8981\u200b\u8f6c\u6362\u200b\u7684\u200b .r \u200b\u6587\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\uff0c<code>example.md</code> \u200b\u662f\u200b\u8f93\u51fa\u200b\u6587\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u5c06\u4f1a\u200b\u628a\u200b <code>example.R</code> \u200b\u6587\u4ef6\u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>example.md</code> \u200b\u6587\u4ef6\u200b\u3002</p> <ul> <li>\u200b\u4f60\u200b\u73b0\u5728\u200b\u53ef\u4ee5\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u4f7f\u7528\u200b cat \u200b\u547d\u4ee4\u200b\u67e5\u770b\u200b\u751f\u6210\u200b\u7684\u200b markdown \u200b\u6587\u4ef6\u200b\uff1a</li> </ul> Bash<pre><code>$ cat example.md\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u5c06\u4f1a\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8f93\u51fa\u200b <code>example.md</code> \u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#argparse-\u63a5\u6536\u547d\u4ee4\u884c\u53c2\u6570","title":"<code>argparse</code> \u200b\u63a5\u6536\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u4f7f\u7528\u200b argparse \u200b\u6a21\u5757\u200b\u5904\u7406\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>import argparse\nparser = argparse.ArgumentParser(description=\"\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u793a\u4f8b\u200b\u7a0b\u5e8f\u200b\")\n# \u200b\u6dfb\u52a0\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b\nparser.add_argument(\"name\", metavar=\"NAME\", help=\"\u200b\u540d\u5b57\u200b\")\nparser.add_argument(\"age\", type=int, metavar=\"AGE\", help=\"\u200b\u5e74\u9f84\u200b\")\n# \u200b\u6dfb\u52a0\u200b\u53ef\u200b\u9009\u200b\u53c2\u6570\u200b\nparser.add_argument(\n\"-s\", \"--sex\", choices=[\"male\", \"female\"], default=\"male\", help=\"\u200b\u6027\u522b\u200b\"\n)\nparser.add_argument(\"-p\", \"--password\", required=True, help=\"\u200b\u5bc6\u7801\u200b\")\nargs = parser.parse_args()\nprint(\"\u200b\u540d\u5b57\u200b\uff1a\", args.name)\nprint(\"\u200b\u5e74\u9f84\u200b\uff1a\", args.age)\nprint(\"\u200b\u6027\u522b\u200b\uff1a\", args.sex)\nprint(\"\u200b\u5bc6\u7801\u200b\uff1a\", args.password)\n</code></pre> <p>\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u63a5\u6536\u200b\u56db\u4e2a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\uff1a</p> <ul> <li>\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b <code>name</code>\uff1a\u200b\u540d\u5b57\u200b\uff0c\u200b\u5fc5\u9700\u200b\u7684\u200b</li> <li>\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b <code>age</code>\uff1a\u200b\u5e74\u9f84\u200b\uff0c\u200b\u5fc5\u9700\u200b\u7684\u200b</li> <li>\u200b\u53ef\u200b\u9009\u200b\u53c2\u6570\u200b <code>--sex</code> \u200b\u6216\u200b <code>-s</code>\uff1a\u200b\u6027\u522b\u200b\uff0c\u200b\u9009\u62e9\u6027\u200b\u7684\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b <code>male</code></li> <li>\u200b\u53ef\u200b\u9009\u200b\u53c2\u6570\u200b <code>--password</code> \u200b\u6216\u200b <code>-p</code>\uff1a\u200b\u5bc6\u7801\u200b\uff0c\u200b\u5fc5\u9700\u200b\u7684\u200b</li> </ul> <p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u6765\u200b\u8fd0\u884c\u200b\u7a0b\u5e8f\u200b\uff1a</p> Text Only<pre><code>python program.py Tom 18 -s male -p 123456\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>\u200b\u540d\u5b57\u200b\uff1a Tom\n\u200b\u5e74\u9f84\u200b\uff1a 18\n\u200b\u6027\u522b\u200b\uff1a male\n\u200b\u5bc6\u7801\u200b\uff1a 123456\n</code></pre> <p>\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u65f6\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u5982\u679c\u200b\u5c06\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u653e\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u6267\u884c\u200b\uff0c\u200b\u5728\u200b\u6267\u884c\u200b <code>args = parser.parse_args()</code> \u200b\u65f6\u4f1a\u200b\u62a5\u9519\u200b\uff1aerror: unrecognized arguments: --ip=127.0.0.1 --stdin=9008 --control=9006 --hb=9005 ...</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> Text Only<pre><code>args, unknown = parser.parse_known_args()\n</code></pre> <p>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u62a5\u9519\u200b\u4e86\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://stackoverflow.com/a/55329134/</p> <p>\u200b\u5982\u679c\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6709\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>parser.add_argument(\n\"--models\",\nnargs=\"*\",\ndefault=[\n\"param1\",\n\"param2\",\n],\n)\n</code></pre> <p>\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u5206\u522b\u200b\u7528\u200b\u5355\u5f15\u53f7\u200b\u6269\u200b\u8d77\u6765\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u4e4b\u95f4\u200b\u7528\u200b\u7a7a\u683c\u200b\u95f4\u9694\u200b\u5f00\u200b\uff08\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u52a0\u200b\u65b9\u62ec\u53f7\u200b\u548c\u200b\u9017\u53f7\u200b\uff09\uff1a</p> Bash<pre><code>python main.py --models 'param3' 'param4'\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u6253\u5370\u51fa\u5bf9\u8c61\u5b9e\u4f8b\u7684\u6240\u6709\u5c5e\u6027","title":"\u6253\u5370\u200b\u51fa\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b dir() \u200b\u6765\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u540d\u79f0\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b getattr() \u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5c5e\u6027\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u6700\u540e\u200b\u5c06\u200b\u5c5e\u6027\u200b\u540d\u79f0\u200b\u548c\u200b\u5c5e\u6027\u200b\u503c\u200b\u6253\u5370\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class MyClass:\ndef __init__(self):\nself.a = \"hello\"\nself.b = 123\nself.c = [1, 2, 3]\nmy_instance = MyClass()\nfor attr_name in dir(my_instance):\nvalue = getattr(my_instance, attr_name)\nprint(attr_name, \":\", value)\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5728\u200b dir() \u200b\u83b7\u53d6\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u540d\u79f0\u200b\u65f6\u200b\uff0c\u200b\u8fd8\u4f1a\u200b\u5305\u62ec\u200b\u4e00\u4e9b\u200b\u7279\u6b8a\u200b\u65b9\u6cd5\u200b\u548c\u200b\u5c5e\u6027\u200b\uff0c\u200b\u6bd4\u5982\u200b<code>__class__</code>\u3001<code>__dict__</code>\u200b\u7b49\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u5c5e\u6027\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6211\u4eec\u200b\u5728\u200b\u7c7b\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u5c5e\u6027\u200b\uff0c\u200b\u4f46\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b getattr() \u200b\u51fd\u6570\u200b\u83b7\u53d6\u200b\u5b83\u4eec\u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4ee5\u200b\u4e24\u4e2a\u200b\u4e0b\u5212\u7ebf\u200b\u5f00\u5934\u200b\u7684\u200b\u7279\u6b8a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b<code>callable()</code>\u200b\u6765\u200b\u5224\u65ad\u200b\u5c5e\u6027\u200b\u503c\u200b\u662f\u5426\u200b\u53ef\u200b\u8c03\u7528\u200b (callable)\u3002\u200b\u5982\u679c\u200b\u5c5e\u6027\u200b\u503c\u200b\u53ef\u200b\u8c03\u7528\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u8981\u200b\u6253\u5370\u200b\u5b83\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>class MyClass:\ndef __init__(self):\nself.prop1 = \"foo\"\nself._prop2 = \"bar\"\nself.__prop3 = \"baz\"\ndef method1(self):\nreturn \"method 1\"\ndef _method2(self):\nreturn \"method 2\"\ndef __method3(self):\nreturn \"method 3\"\nmy_instance = MyClass()\nfor attr_name in dir(my_instance):\nif not attr_name.startswith(\"__\"):\nattr_value = getattr(my_instance, attr_name)\nif not callable(attr_value):\nprint(attr_name, \":\", attr_value)\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u6253\u5370\u200b\u9664\u4e86\u200b\u4ee5\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u5f00\u5934\u200b\u7684\u200b\u7279\u6b8a\u200b\u5c5e\u6027\u200b\u4ee5\u5916\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u540d\u79f0\u200b\u548c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u503c\u200b\u4e86\u200b\u3002</p>","tags":["Python"]},{"location":"code/others/#\u4ee3\u7801\u8ba1\u65f6","title":"\u4ee3\u7801\u200b\u8ba1\u65f6","text":"Python<pre><code>import time\nstart_time = time.time()\nfor i in range(10000):\npass\nend_time = time.time()\nelapsed_time = end_time - start_time\nprint(elapsed_time)\n</code></pre>","tags":["Python"]},{"location":"code/others/#\u5c06-import-\u8bed\u53e5\u8fdb\u884c\u6392\u5e8f","title":"\u5c06\u200b <code>import</code> \u200b\u8bed\u53e5\u200b\u8fdb\u884c\u200b\u6392\u5e8f","text":"<p>\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff1a</p> Text Only<pre><code>isort filename.py\n</code></pre> <p>\u200b\u4ec5\u200b\u67e5\u770b\u200b isort \u200b\u5c06\u200b\u505a\u51fa\u200b\u7684\u200b\u53d8\u66f4\u200b\uff0c\u200b\u4f46\u200b\u5e76\u200b\u4e0d\u200b\u5e94\u7528\u200b\uff1a</p> Text Only<pre><code>isort filename.py --diff\n</code></pre> <p>\u200b\u9002\u7528\u200b\u4e8e\u200b <code>.py</code> \u200b\u811a\u672c\u200b\uff0c\u200b\u4e0d\u9002\u200b\u7528\u4e8e\u200b <code>.ipynb</code> \u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://muzing.top/posts/38b1b99e/</p>","tags":["Python"]},{"location":"code/others/#\u5728\u7ec8\u7aef\u4e2d\u68c0\u7d22\u6587\u672c","title":"\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u68c0\u7d22\u200b\u6587\u672c","text":"Bash<pre><code>grep -rn \"text_to_search\" --include=\"*.py\"\n</code></pre> <ol> <li> <p><code>-r</code> \u200b\u8868\u793a\u200b\u9012\u5f52\u200b\u641c\u7d22\u200b\u3002\u200b\u8be5\u200b\u53c2\u6570\u200b\u4f7f\u200b <code>grep</code> \u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u76ee\u5f55\u200b\u53ca\u5176\u200b\u5b50\u76ee\u5f55\u200b\u4e2d\u200b\u9012\u5f52\u200b\u641c\u7d22\u200b\u6587\u4ef6\u200b\u3002</p> </li> <li> <p><code>-n</code> \u200b\u8868\u793a\u200b\u663e\u793a\u200b\u884c\u53f7\u200b\u3002\u200b\u8be5\u200b\u53c2\u6570\u200b\u4f7f\u200b <code>grep</code> \u200b\u5728\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u663e\u793a\u200b\u5339\u914d\u200b\u884c\u200b\u7684\u200b\u884c\u53f7\u200b\u3002</p> </li> <li> <p><code>--include</code> \u200b\u53c2\u6570\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u8981\u200b\u641c\u7d22\u200b\u7684\u200b\u6587\u4ef6\u200b\u7684\u200b\u6a21\u5f0f\u200b\u6216\u200b\u6a21\u5f0f\u200b\u5217\u8868\u200b\u3002\u200b\u5b83\u200b\u5141\u8bb8\u200b\u4f60\u200b\u9650\u5236\u200b\u641c\u7d22\u200b\u53ea\u200b\u5728\u200b\u7b26\u5408\u200b\u6307\u5b9a\u200b\u6a21\u5f0f\u200b\u7684\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u3002</p> </li> </ol>","tags":["Python"]},{"location":"code/others/#\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c-ipynb-\u6587\u4ef6","title":"\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200b <code>.ipynb</code> \u200b\u6587\u4ef6","text":"<p>\u200b\u65b9\u6cd5\u200b\u4e00\u200b\uff1a</p> Bash<pre><code>ipython -c \"%run &lt;notebook&gt;.ipynb\"\n</code></pre> <p>\u200b\u65b9\u6cd5\u200b\u4e8c\u200b\uff1a</p> Bash<pre><code>pip install runipy\n</code></pre> Bash<pre><code>runipy &lt;YourNotebookName&gt;.ipynb\n</code></pre>","tags":["Python"]},{"location":"code/pandas/","title":"Pandas \u200b\u6570\u636e\u200b\u6846","text":"","tags":["Python"]},{"location":"code/pandas/#\u521b\u5efa\u6d4b\u8bd5\u5bf9\u8c61","title":"\u521b\u5efa\u200b\u6d4b\u8bd5\u200b\u5bf9\u8c61","text":"<p>\u200b\u6d4b\u8bd5\u200b\u5bf9\u8c61\u200b\u6709\u52a9\u4e8e\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u5feb\u901f\u200b\u76f4\u89c2\u200b\u5730\u200b\u7406\u89e3\u200b\u67d0\u6bb5\u200b\u4ee3\u7801\u200b\u7684\u200b\u7528\u6cd5\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u82b1\u592a\u591a\u200b\u65f6\u95f4\u200b\u5bfb\u627e\u200b\u5408\u9002\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\u3002</p> Python<pre><code># \u200b\u521b\u5efa\u200b 20 \u200b\u884c\u200b 5 \u200b\u5217\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u7ec4\u6210\u200b\u7684\u200b DataFrame \u200b\u5bf9\u8c61\u200b\npd.DataFrame(np.random.rand(20, 5))\n# \u200b\u4ece\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b my_list \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b Series \u200b\u5bf9\u8c61\u200b\npd.Series(my_list)\n# \u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u65e5\u671f\u200b\u7d22\u5f15\u200b\ndf.index = pd.date_range(\"1900/1/30\", periods=df.shape[0])\n# \u200b\u521b\u5efa\u200b\u968f\u673a\u200b\u6570\u636e\u200b\u96c6\u200b\ndf = pd._testing.makeDataFrame()\n# \u200b\u521b\u5efa\u200b\u968f\u673a\u200b\u65e5\u671f\u200b\u7d22\u5f15\u200b\u6570\u636e\u200b\u96c6\u200b\ndf = pd._testing.makePeriodFrame()\ndf = pd._testing.makeTimeDataFrame()\n# \u200b\u521b\u5efa\u200b\u968f\u673a\u200b\u6df7\u5408\u200b\u7c7b\u578b\u200b\u6570\u636e\u200b\u96c6\u200b\ndf = pd._testing.makeMixedDataFrame()\n</code></pre> \u200b\u65e7\u7248\u672c\u200b\u4f7f\u7528\u200b <code>pd.util.testing</code> \u200b\u751f\u6210\u200b\u968f\u673a\u200b\u6570\u636e\u200b\u6846\u200b <p></p>","tags":["Python"]},{"location":"code/pandas/#\u7d22\u5f15","title":"\u7d22\u5f15","text":"","tags":["Python"]},{"location":"code/pandas/#\u901a\u8fc7\u884c\u53f7\u6c42\u7d22\u5f15\u503c","title":"\u901a\u8fc7\u200b\u884c\u53f7\u200b\u6c42\u200b\u7d22\u5f15\u200b\u503c","text":"Python<pre><code>index_value = df.iloc[row_number].name\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u901a\u8fc7\u7d22\u5f15\u503c\u6c42\u6240\u5728\u884c\u53f7","title":"\u901a\u8fc7\u200b\u7d22\u5f15\u200b\u503c\u6c42\u200b\u6240\u5728\u200b\u884c\u53f7","text":"<p>\u200b\u6c42\u200b\u5355\u4e2a\u200b\u7d22\u5f15\u200b\u6240\u5728\u200b\u884c\u53f7\u200b\uff1a</p> Python<pre><code>row_number = df.index.get_loc(index_value)\n</code></pre> <p>\u200b\u6c42\u200b\u591a\u4e2a\u200b\u7d22\u5f15\u200b\u6240\u5728\u200b\u884c\u53f7\u200b\uff1a</p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/65014035/</p> Python<pre><code>df.index.get_indexer([\"Apple\", \"Pumpkin\"])\nOut[104]: array([2, 3], dtype=int32)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u4e00\u5217\u6570\u636e\u4f5c\u4e3a\u7d22\u5f15","title":"\u5c06\u200b\u4e00\u5217\u200b\u6570\u636e\u200b\u4f5c\u4e3a\u200b\u7d22\u5f15","text":"Python<pre><code>df = df.set_index(\"column_name\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u81ea\u5b9a\u4e49\u7d22\u5f15","title":"\u81ea\u5b9a\u4e49\u200b\u7d22\u5f15","text":"Python<pre><code>df.index = pd.Index([\"a\", \"b\", \"c\"])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u751f\u6210\u65e5\u671f\u7d22\u5f15","title":"\u751f\u6210\u200b\u65e5\u671f\u200b\u7d22\u5f15","text":"<ol> <li>\u200b\u624b\u52a8\u200b\u8f93\u5165\u200b\u8d77\u59cb\u200b\u65e5\u671f\u200b\u548c\u200b\u95f4\u9694\u200b\uff0c\u200b\u751f\u6210\u200b\u65e5\u671f\u200b\u7d22\u5f15\u200b</li> </ol> Python<pre><code>dates_lst_1 = pd.date_range(\"2020-01-06\", \"2020-04-03\", freq=\"MS\")\n</code></pre> <p><code>pandas</code>\u200b\u81ea\u5e26\u200b\u7684\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\u9891\u7387\u200b\uff1a</p> <p></p> <p>\u200b\u81ea\u5e26\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\u9891\u7387\u200b\u7684\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1ahttps://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects</p> <ol> <li>\u200b\u4ece\u200b\u5b57\u7b26\u4e32\u200b\u7c7b\u578b\u200b\u7684\u200b\u65e5\u671f\u200b\u751f\u6210\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\u7684\u200b\u7d22\u5f15\u200b</li> </ol> Python<pre><code>df.index = pd.to_datetime(df.index)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4ece-series1-\u4e2d\u63d0\u53d6\u51fa-series2-\u7684-index-\u5bf9\u5e94\u7684\u6570\u636e","title":"\u4ece\u200b series1 \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u51fa\u200b series2 \u200b\u7684\u200b index \u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e","text":"Python<pre><code>series1.reindex(series2.index)\n</code></pre> <p>\u200b\u5982\u679c\u200b series2 \u200b\u4e2d\u200b\u7684\u200b\u7d22\u5f15\u200b\u6bd4\u200b series1 \u200b\u4e2d\u200b\u7684\u200b\u7d22\u5f15\u200b\u5c11\u200b\uff0c\u200b\u5219\u200b\u76f8\u5f53\u4e8e\u200b\u5bf9\u200b series1 \u200b\u505a\u200b\u5207\u7247\u200b\u64cd\u4f5c\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u8868\u683c\u6309\u7167\u7d22\u5f15\u6392\u5e8f","title":"\u5c06\u200b\u8868\u683c\u200b\u6309\u7167\u200b\u7d22\u5f15\u200b\u6392\u5e8f","text":"Python<pre><code>df.sort_index(ascending=False, inplace=True)\n</code></pre> <ul> <li><code>ascending=False</code>\u200b\u4ee3\u8868\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\uff0c\u200b\u5373\u200b\u4ece\u200b\u5927\u5230\u200b\u5c0f\u200b\u6392\u5217\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"code/pandas/#\u5207\u7247","title":"\u5207\u7247","text":"","tags":["Python"]},{"location":"code/pandas/#\u63d0\u53d6\u51fa\u4e0d\u8fde\u7eed\u7684\u5217","title":"\u63d0\u53d6\u200b\u51fa\u200b\u4e0d\u200b\u8fde\u7eed\u200b\u7684\u200b\u5217","text":"<p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u63d0\u53d6\u200b\u51fa\u200b\u7b2c\u200b 0 \u200b\u5230\u200b 4 \u200b\u5217\u200b\u548c\u200b\u7b2c\u200b 10 \u200b\u5230\u200b\u7b2c\u200b 14 \u200b\u5217\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> Python<pre><code>df.iloc[:, np.r_[0:5, 10:15]]\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://stackoverflow.com/a/53052944/</p> <p>https://numpy.org/doc/stable/reference/generated/numpy.r_.html</p>","tags":["Python"]},{"location":"code/pandas/#\u7a7a\u503c","title":"\u7a7a\u503c","text":"","tags":["Python"]},{"location":"code/pandas/#\u53ea\u8f93\u51fa\u6709\u7a7a\u503c\u7684\u884c\u548c\u5217","title":"\u53ea\u200b\u8f93\u51fa\u200b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u884c\u548c\u5217","text":"Python<pre><code>df[df.isnull().values]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u8bb0\u5f55\u4e00\u4e2a-series-\u4e2d\u975e\u7a7a\u503c\u7684\u4e2a\u6570","title":"\u8bb0\u5f55\u200b\u4e00\u4e2a\u200b Series \u200b\u4e2d\u975e\u200b\u7a7a\u503c\u200b\u7684\u200b\u4e2a\u6570","text":"Python<pre><code>series.notnull().sum()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u67e5\u770b\u54ea\u4e9b\u5217\u6709\u7a7a\u503c\u4ee5\u53ca\u8fd9\u4e9b\u5217\u6709\u51e0\u4e2a\u7a7a\u503c","title":"\u67e5\u770b\u200b\u54ea\u4e9b\u200b\u5217\u200b\u6709\u200b\u7a7a\u503c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u8fd9\u4e9b\u200b\u5217\u200b\u6709\u200b\u51e0\u4e2a\u200b\u7a7a\u503c","text":"Python<pre><code>df[df.columns[df.isna().any()]].isnull().sum()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5220\u9664\u542b\u6709\u7a7a\u503c\u7684\u884c\u6216\u5217","title":"\u5220\u9664\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u884c\u200b\u6216\u200b\u5217","text":"Python<pre><code>df.dropna(axis=0, how=\"any\", inplace=True)\n</code></pre> <ul> <li><code>axis</code>\uff1a   0: \u200b\u884c\u200b\u64cd\u4f5c\u200b\uff08\u200b\u9ed8\u8ba4\u200b\uff09   1: \u200b\u5217\u200b\u64cd\u4f5c\u200b</li> <li><code>how</code>\uff1a   any: \u200b\u53ea\u8981\u200b\u6709\u200b\u7a7a\u503c\u200b\u5c31\u200b\u5220\u9664\u200b\uff08\u200b\u9ed8\u8ba4\u200b\uff09   all: \u200b\u5168\u90e8\u200b\u4e3a\u200b\u7a7a\u503c\u200b\u624d\u200b\u5220\u9664\u200b</li> <li><code>inplace</code>\uff1a   False: \u200b\u8fd4\u56de\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\uff08\u200b\u9ed8\u8ba4\u200b\uff09   True: \u200b\u5728\u200b\u539f\u200b\u6570\u636e\u200b\u96c6\u4e0a\u200b\u64cd\u4f5c\u200b</li> </ul>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u5168\u662f\u7a7a\u503c-nan-\u7684\u6570\u636e\u6c42\u548c","title":"\u5bf9\u200b\u5168\u662f\u200b\u7a7a\u503c\u200b NaN \u200b\u7684\u200b\u6570\u636e\u200b\u6c42\u548c","text":"<p>\u200b\u5bf9\u200b\u5168\u662f\u200b\u7a7a\u503c\u200b NaN \u200b\u7684\u200b\u6570\u636e\u200b\u6c42\u548c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u7ed3\u679c\u200b\u4e3a\u200b 0\uff0c\u200b\u82e5\u200b\u60f3\u5f97\u5230\u200b NaN \u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b <code>min_count=1</code></p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/56982952/</p>","tags":["Python"]},{"location":"code/pandas/#\u6309\u7167\u6570\u503c\u5927\u5c0f\u586b\u5145\u5e95\u8272","title":"\u6309\u7167\u200b\u6570\u503c\u200b\u5927\u5c0f\u200b\u586b\u5145\u200b\u5e95\u8272","text":"Python<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.colors import rgb2hex\n# \u200b\u5047\u8bbe\u200b\u4f60\u200b\u6709\u200b\u4e00\u4e2a\u200b DataFrame\ndf = pd.DataFrame({\n'A': [1, 2, 3, 4, 5],\n'B': [5, 4, 3, 2, 1],\n'C': [2, 3, 4, 5, 1]\n})\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u6765\u200b\u4f7f\u7528\u200b cmap \u200b\u989c\u8272\u200b\u6620\u5c04\u200b\ndef color_gradient(val, cmap, max_val, min_val):\nnorm = (val - min_val) / (max_val - min_val)  # \u200b\u5f52\u4e00\u5316\u200b\nrgba_color = cmap(norm)\n# \u200b\u5c06\u200b RGBA \u200b\u8f6c\u6362\u200b\u4e3a\u200b HEX \u200b\u683c\u5f0f\u200b\nreturn f'background-color: {rgb2hex(rgba_color[:3])}'\ndef apply_gradient_to_column(column):\ncmap = plt.cm.get_cmap(\"RdYlGn_r\")  # \u200b\u4f7f\u7528\u200b RdYlGn_r \u200b\u989c\u8272\u200b\u6620\u5c04\u200b\nmax_val = column.max()\nmin_val = column.min()\nreturn [color_gradient(val, cmap, max_val, min_val) for val in column]\n# \u200b\u4f7f\u7528\u200b apply \u200b\u65b9\u6cd5\u200b\u5c06\u200b\u989c\u8272\u200b\u5e94\u7528\u200b\u5230\u200b DataFrame \u200b\u7684\u200b\u6bcf\u200b\u4e00\u5217\u200b\nstyled_df = df.style.apply(apply_gradient_to_column, axis=0)\n# \u200b\u663e\u793a\u200b\u7ed3\u679c\u200b\nstyled_df\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539","title":"\u4fee\u6539","text":"","tags":["Python"]},{"location":"code/pandas/#\u8bfb\u53d6\u6570\u636e\u6307\u5b9a\u5217\u540d","title":"\u8bfb\u53d6\u6570\u636e\u200b\uff0c\u200b\u6307\u5b9a\u200b\u5217\u540d","text":"<p>\u200b\u8bfb\u53d6\u200b csv \u200b\u6587\u4ef6\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>names</code> \u200b\u6307\u5b9a\u200b\u5217\u540d\u200b\u3002</p> Python<pre><code>df = pd.read_csv(\n\"../../data/Q2_data.csv\",\nheader=None,\nnames=[\"Date\", \"Time\", \"Open\", \"High\", \"Low\", \"Close\", \"Volume\"],\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539-series-\u7684\u5217\u540d","title":"\u4fee\u6539\u200b Series \u200b\u7684\u200b\u5217\u540d","text":"Python<pre><code>s.rename(\"col_name\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539\u6570\u636e\u6846\u7684\u5217\u540d","title":"\u4fee\u6539\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d","text":"<ol> <li>\u200b\u4fee\u6539\u200b\u5217\u540d\u200b a\uff0cb \u200b\u4e3a\u200b A\u3001B\u3002</li> </ol> Python<pre><code>df.columns = [\"A\", \"B\"]\n</code></pre> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u4fee\u6539\u200b\u5217\u540d\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u5207\u7247\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u53ea\u80fd\u200b\u6309\u7167\u200b\u539f\u200b\u6570\u636e\u200b\u957f\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u8d4b\u503c\u200b\u4fee\u6539\u200b\u3002\u200b\u53c2\u8003\u200bhttps://blog.csdn.net/Forrest97/article/details/119791338\u3002</p> <ol> <li>\u200b\u53ea\u200b\u4fee\u6539\u200b\u5217\u540d\u200b a \u200b\u4e3a\u200b A</li> </ol> Python<pre><code>df.rename(columns={\"a\": \"A\"})\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539\u5217\u540d\u4e3a-multiindex-\u7684\u6570\u636e\u6846\u7684\u5217\u540d","title":"\u4fee\u6539\u200b\u5217\u540d\u200b\u4e3a\u200b <code>MultiIndex</code> \u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d","text":"<p>\u200b\u5f53\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d\u200b\u4e3a\u200b <code>MultiIndex</code> \u200b\u65f6\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u8bbe\u7f6e\u200b\u53c2\u6570\u200b <code>mapper</code> \u200b\u6765\u200b\u6307\u5b9a\u200b\u65b0\u65e7\u200b\u5217\u540d\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\uff0c\u200b\u4f46\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u53c2\u6570\u200b <code>level</code> \u200b\u6765\u200b\u6307\u5b9a\u200b\u4fee\u6539\u200b\u54ea\u200b\u4e00\u5c42\u200b\u7684\u200b\u5217\u540d\u200b\uff1a</p> Python<pre><code>df = df.rename(columns={'close': 'close_new', 'pctchange': 'pctchange_new'}, level=1)\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u76f4\u63a5\u200b\u8bbe\u7f6e\u200b\u53c2\u6570\u200b <code>mapper</code> \u200b\u6765\u200b\u6307\u5b9a\u200b\u65b0\u65e7\u200b\u5217\u540d\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5148\u200b\u5f97\u5230\u200b <code>MultiIndex</code> \u200b\u7684\u200b\u5217\u540d\u200b\u7684\u200b <code>tuples</code> \u200b\u5f62\u5f0f\u200b\uff0c\u200b\u518d\u7528\u200b <code>pd.MultiIndex.from_tuples</code> \u200b\u8f6c\u6362\u200b\u56de\u200b <code>MultiIndex</code>\uff1a</p> Python<pre><code>mapping = {(\"feature\", \"close\"): (\"feature\", \"close_new\"), (\"feature\", \"pctchange\"): (\"feature\", \"pctchange_new\")}\ndf.columns = pd.MultiIndex.from_tuples([mapping.get(x, x) for x in df.columns])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u4e00\u4e2a\u5217\u8868list\u8d4b\u503c\u5230-dataframe-\u7684\u4e00\u4e2a\u5355\u5143\u683ccell\u4e2d","title":"\u5c06\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\uff08List\uff09\u200b\u8d4b\u503c\u200b\u5230\u200b DataFrame \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\uff08Cell\uff09\u200b\u4e2d","text":"<ul> <li>\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u786e\u4fdd\u200b\u8fd9\u4e2a\u200b\u5355\u5143\u683c\u200b\u6240\u5728\u200b\u7684\u200b\u5217\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200b<code>object</code>\uff1b</li> <li>\u200b\u7528\u200b<code>df.at[index_value , column_name] = [1, 2, 3]</code>\u200b\u5373\u53ef\u200b\u5c06\u200b\u5217\u8868\u200b\u8d4b\u503c\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u3002</li> </ul> <ul> <li> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u7528\u200b<code>df.loc[index_value , column_name] = [1, 2, 3]</code>\u200b\u6765\u200b\u8fdb\u884c\u200b\u8d4b\u503c\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b<code>ValueError: Must have equal len keys and value when setting with an iterable</code>\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u7a0b\u5e8f\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e0d\u4f1a\u200b\u5c06\u200b\u5217\u8868\u200b\u6574\u4f53\u200b\u8d4b\u503c\u200b\u5230\u200b\u5355\u5143\u683c\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u77e5\u9053\u200b\u8981\u200b\u5c06\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u8d4b\u503c\u200b\u5230\u200b\u5355\u5143\u683c\u200b\u3002</p> </li> <li> <p>\u200b\u5e76\u4e14\u200b\uff0c\u200b\u5982\u679c\u200b\u8fd9\u4e2a\u200b\u5355\u5143\u683c\u200b\u6240\u5728\u200b\u7684\u200b\u5217\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u4e0d\u662f\u200b<code>object</code>\uff0c\u200b\u7528\u200b<code>df.at[index_value , column_name] = [1, 2, 3]</code>\u200b\u4e5f\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e0a\u8ff0\u200b\u62a5\u9519\u200b\u3002</p> </li> </ul> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u627e\u5230\u6570\u636e\u6846\u7684\u67d0\u4e00\u5217\u4e2d\u7684\u975e\u91cd\u590d\u503c","title":"\u627e\u5230\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u67d0\u200b\u4e00\u5217\u200b\u4e2d\u200b\u7684\u200b\u975e\u200b\u91cd\u590d\u200b\u503c","text":"Python<pre><code>df[column_name].unique()\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u4e0d\u80fd\u200b\u662f\u200b list\u3001array \u200b\u8fd9\u6837\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b<code>unhashable</code>\u3002\u200b\u63a8\u6d4b\u200b\u5e95\u5c42\u200b\u7684\u200b\u4ee3\u7801\u200b\u662f\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b\u5355\u5143\u683c\u200b\u53d6\u200b\u54c8\u5e0c\u200b\u503c\u200b\uff0c\u200b\u518d\u200b\u6bd4\u8f83\u200b\u54c8\u5e0c\u200b\u503c\u200b\u662f\u5426\u200b\u975e\u200b\u91cd\u590d\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u6bcf\u884c\u6392\u540d\u5728-100-\u540d\u4e4b\u540e\u7684\u6570\u503c\u8bbe\u4e3a-0","title":"\u5c06\u200b\u6bcf\u884c\u200b\u6392\u540d\u200b\u5728\u200b 100 \u200b\u540d\u200b\u4e4b\u540e\u200b\u7684\u200b\u6570\u503c\u200b\u8bbe\u200b\u4e3a\u200b 0","text":"<p>\u200b\u77e5\u8bc6\u70b9\u200b\uff1a <code>.mask()</code> \u200b\u548c\u200b <code>.rank()</code></p> Python<pre><code>N = 100\ndf = df.mask(df.rank(axis=1, method=\"min\", ascending=False) &gt; N, 0)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/53169636/</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u6bcf\u884c\u6392\u540d\u5728-100-\u540d\u4e4b\u540e\u7684\u6570\u503c\u8bbe\u4e3a-0_1","title":"\u5c06\u200b\u6bcf\u884c\u200b\u6392\u540d\u200b\u5728\u200b 100 \u200b\u540d\u200b\u4e4b\u540e\u200b\u7684\u200b\u6570\u503c\u200b\u8bbe\u200b\u4e3a\u200b 0","text":"<p>\u200b\u77e5\u8bc6\u70b9\u200b\uff1a <code>.mask()</code> \u200b\u548c\u200b <code>.rank()</code></p> Python<pre><code>matrix = matrix.mask(matrix.rank(axis=1, method=\"min\", ascending=False) &gt; 100, 0)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/53169636/</p> <p>\u200b\u5bf9\u4e8e\u200b <code>np.ndarray</code> \u200b\u683c\u5f0f\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u5bf9\u89d2\u7ebf\u5143\u7d20\u8bbe\u4e3a-npnan","title":"\u5c06\u200b\u5bf9\u89d2\u7ebf\u200b\u5143\u7d20\u200b\u8bbe\u200b\u4e3a\u200b np.nan","text":"<p>\u200b\u77e5\u8bc6\u70b9\u200b\uff1a <code>np.diag_indices_from(df)</code></p> Python<pre><code>df.values[np.diag_indices_from(df)] = np.nan\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5408\u5e76","title":"\u5408\u5e76","text":"","tags":["Python"]},{"location":"code/pandas/#\u5c06\u4e00\u4e2a\u6570\u636e\u6846\u6dfb\u52a0\u5230\u53e6\u4e00\u4e2a\u6570\u636e\u6846\u7684\u5e95\u90e8","title":"\u5c06\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u6dfb\u52a0\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5e95\u90e8","text":"Python<pre><code>df = pd.concat([df_1, df_2], axis=0)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6c34\u5e73\u5de6\u53f3\u5408\u5e76\u591a\u4e2a\u5e8f\u5217","title":"\u6c34\u5e73\u200b\uff08\u200b\u5de6\u53f3\u200b\uff09\u200b\u5408\u5e76\u200b\u591a\u4e2a\u200b\u5e8f\u5217","text":"","tags":["Python"]},{"location":"code/pandas/#join","title":"<code>.join()</code>","text":"Python<pre><code>df = (\ns1.rename(\"col_name_1\")\n.to_frame()\n.join(s2.rename(\"col_name_2\").to_frame(), how=\"inner\")\n.join(s3.rename(\"col_name_3\").to_frame(), how=\"inner\")\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#concat","title":"<code>.concat()</code>","text":"Python<pre><code>df = pd.concat(\n[\ns1.rename(\"col_name_1\"),\ns2.rename(\"col_name_2\"),\ns3.rename(\"col_name_3\"),\n],\naxis=1,\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#join_1","title":"<code>.join()</code>","text":"Python<pre><code>df = (\ns1.rename(\"col_name_1\")\n.to_frame()\n.join(s2.rename(\"col_name_2\").to_frame(), how=\"inner\")\n.join(s3.rename(\"col_name_3\").to_frame(), how=\"inner\")\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#merge","title":"<code>.merge()</code>","text":"Python<pre><code># \u200b\u5de6\u53f3\u4e24\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u5408\u5e76\u200b\uff0c\u200b\u57fa\u4e8e\u200b\u76f8\u540c\u200b\u7684\u200b\u5217\u540d\u200b\nnew_df = pd.merge(A_df, B_df, how=\"left\", on=[\"c1\", \"c2\"])\n# \u200b\u5de6\u53f3\u4e24\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u5408\u5e76\u200b\uff0c\u200b\u4f46\u200b\u9700\u8981\u200b\u57fa\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5217\u540d\u200b\nnew_df = pd.merge(\nA_df, B_df, how=\"left\", left_on=[\"A_c1\", \"c2\"], right_on=[\"B_c1\", \"c2\"]\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#datetime","title":"<code>datetime</code>","text":"<p>\u200b\u5404\u79cd\u200b <code>datetime</code> \u200b\u7684\u200b\u7f29\u5199\u200b</p> <p>Python strftime cheatsheet</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u4e00\u5217-str-\u683c\u5f0f\u7684\u65f6\u95f4\u8f6c\u6362\u4e3a-datetime-\u683c\u5f0f","title":"\u5c06\u200b\u4e00\u5217\u200b str \u200b\u683c\u5f0f\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b datetime \u200b\u683c\u5f0f","text":"Python<pre><code>df[\"\u200b\u65f6\u95f4\u200b\"] = pd.to_datetime(df[\"\u200b\u65f6\u95f4\u200b\"], format=\"%H:%M:%S\").dt.time\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63d0\u53d6-datetime-\u4e2d\u7684\u5e74\u548c\u6708\u8fd4\u56de\u5b57\u7b26\u4e32-2023-01-\u7684\u683c\u5f0f","title":"\u63d0\u53d6\u200b datetime \u200b\u4e2d\u200b\u7684\u200b\u5e74\u200b\u548c\u200b\u6708\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b <code>\"2023-01\"</code> \u200b\u7684\u200b\u683c\u5f0f","text":"Python<pre><code>df[\"ym-date\"] = df[\"date\"].dt.strftime(\"%Y-%m\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63d0\u53d6-datetime-\u4e2d\u7684\u65e5\u671f\u8fd4\u56de\u5b57\u7b26\u4e32-2023-01-01-\u7684\u683c\u5f0f","title":"\u63d0\u53d6\u200b datetime \u200b\u4e2d\u200b\u7684\u200b\u65e5\u671f\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b <code>\"2023-01-01\"</code> \u200b\u7684\u200b\u683c\u5f0f","text":"Python<pre><code>df[\"date\"].date\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63d0\u53d6-datetime-\u4e2d\u7684\u65e5\u671f\u8fd4\u56de-datetime-\u683c\u5f0f","title":"\u63d0\u53d6\u200b datetime \u200b\u4e2d\u200b\u7684\u200b\u65e5\u671f\u200b\uff0c\u200b\u8fd4\u56de\u200b <code>datetime</code> \u200b\u683c\u5f0f","text":"Python<pre><code>df[\"date\"].normalize()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63d0\u53d6-datetime-\u4e2d\u7684\u661f\u671f\u8fd4\u56de\u5b57\u7b26\u4e32-monday-\u683c\u5f0f","title":"\u63d0\u53d6\u200b datetime \u200b\u4e2d\u200b\u7684\u200b\u661f\u671f\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b <code>\"Monday\"</code> \u200b\u683c\u5f0f","text":"Python Console Session<pre><code>&gt;&gt;&gt; s = pd.Series(pd.date_range(start=\"2018-01-01\", freq=\"D\", periods=3))\n&gt;&gt;&gt; s\n0   2018-01-01\n1   2018-01-02\n2   2018-01-03\ndtype: datetime64[ns]\n&gt;&gt;&gt; s.dt.day_name()\n0       Monday\n1      Tuesday\n2    Wednesday\ndtype: object\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63d0\u53d6-datetime-\u5728\u5f53\u5e74\u7684\u7b2c\u51e0\u5929\u8fd4\u56de-int-\u683c\u5f0f","title":"\u63d0\u53d6\u200b datetime \u200b\u5728\u200b\u5f53\u5e74\u200b\u7684\u200b\u7b2c\u51e0\u5929\u200b\uff0c\u200b\u8fd4\u56de\u200b int \u200b\u683c\u5f0f","text":"<p>\u200b\u5f53\u6708\u200b\u3001\u200b\u5f53\u200b\u5468\u200b\u3001\u200b\u5f53\u5e74\u200b\u7684\u200b\u7b2c\u51e0\u5929\u200b\uff1a</p> <ul> <li> <p><code>Period.day</code>: Return the day of the month.</p> </li> <li> <p><code>Period.day_of_week</code>: Return the day of week.</p> </li> <li> <p><code>PeriodIndex.day_of_year</code>: Return the day of year of all indexes.</p> </li> </ul> Python Console Session<pre><code>&gt;&gt;&gt; s = pd.Series([\"1/1/2020 10:00:00+00:00\", \"2/1/2020 11:00:00+00:00\"])\n&gt;&gt;&gt; s = pd.to_datetime(s)\n&gt;&gt;&gt; s\n0   2020-01-01 10:00:00+00:00\n1   2020-02-01 11:00:00+00:00\ndtype: datetime64[ns, UTC]\n&gt;&gt;&gt; s.dt.dayofyear\n0    1\n1   32\ndtype: int32\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5224\u65ad\u662f\u5426\u5927\u4e8e\u67d0\u4e2a\u65e5\u671f","title":"\u5224\u65ad\u200b\u662f\u5426\u200b\u5927\u4e8e\u200b\u67d0\u4e2a\u200b\u65e5\u671f","text":"Python<pre><code>df[df[\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"] &gt;= pd.to_datetime(\"2006-12-29\")]\n</code></pre> <p>\u200b\u5176\u4e2d\u200b <code>\"\u200b\u4ea4\u6613\u200b\u65e5\u671f\u200b\"</code> \u200b\u5217\u662f\u200b datetime \u200b\u683c\u5f0f\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u4e24\u5217-str-\u683c\u5f0f\u7684\u65e5\u671f\u548c\u65f6\u95f4\u5408\u5e76\u540e\u8f6c\u6362\u4e3a-datetime-\u683c\u5f0f","title":"\u5c06\u200b\u4e24\u5217\u200b str \u200b\u683c\u5f0f\u200b\u7684\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5408\u5e76\u200b\u540e\u200b\u8f6c\u6362\u200b\u4e3a\u200b datetime \u200b\u683c\u5f0f","text":"<p>\u200b\u73b0\u6709\u200b\u6570\u636e\u200b\u6846\u200b\uff1a</p> <p></p> Python<pre><code># \u200b\u5c06\u200b Date \u200b\u548c\u200b Time \u200b\u5408\u5e76\u200b\u4e3a\u200b\u4e00\u4e2a\u200b datetime \u200b\u7c7b\u578b\u200b\u7684\u200b\u5217\u200b\ndf.insert(\n2,\n\"datetime\",\npd.to_datetime(\ndf[\"Date\"].astype(str) + \" \" + df[\"Time\"].astype(str), format=\"%m/%d/%Y %H%M\"\n),\n)\n</code></pre> <p>\u200b\u8f6c\u6362\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u5408\u5e76\u65e5\u671f\u548c\u65f6\u95f4","title":"\u5408\u5e76\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4","text":"<p>\u200b\u4f7f\u7528\u200b <code>datetime.dateime.combine()</code>\uff1a</p> Python<pre><code>from datetime import datetime, date, time\n# \u200b\u521b\u5efa\u200b\u65e5\u671f\u200b\u5bf9\u8c61\u200b\nd = date(2023, 8, 7)\n# \u200b\u521b\u5efa\u200b\u65f6\u95f4\u200b\u5bf9\u8c61\u200b\nt = time(12, 30)\n# \u200b\u5408\u5e76\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\ndt = datetime.combine(d, t)\n# \u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\nprint(dt)\n# 2023-08-07 12:30:00\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5224\u65ad\u67d0\u4e2a-datetimetime-\u683c\u5f0f\u7684\u65f6\u95f4\u662f\u5426\u5728\u67d0\u4e2a\u8303\u56f4","title":"\u5224\u65ad\u200b\u67d0\u4e2a\u200b datetime.time \u200b\u683c\u5f0f\u200b\u7684\u200b\u65f6\u95f4\u200b\u662f\u5426\u200b\u5728\u200b\u67d0\u4e2a\u200b\u8303\u56f4","text":"Python<pre><code>df[\"\u200b\u65f6\u95f4\u200b\"] &lt;= datetime.strptime(\"09:16:00\", \"%H:%M:%S\").time()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5224\u65adtimestamp\u53d8\u91cf\u7684\u503c","title":"\u5224\u65ad\u200b<code>Timestamp</code>\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c","text":"<ul> <li>\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b<code>Timestamp</code>\u200b\u7684\u200b\u503c\u200b</li> </ul> <p>\u200b\u53ef\u4ee5\u200b\u5c06\u200b<code>Timestamp</code>\u200b\u8f6c\u6362\u200b\u4e3a\u200b<code>str</code>\u200b\u518d\u200b\u5224\u65ad\u200b\uff1a</p> Python<pre><code>df.iloc[0][\"\u200b\u516c\u544a\u200b\u65e5\u671f\u200b\"]\ndf.iloc[0][\"\u200b\u516c\u544a\u200b\u65e5\u671f\u200b\"].strftime(\"%Y%m%d\") == \"20220930\"\n</code></pre> <p></p> <ul> <li>\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b<code>Timestamp</code>Series \u200b\u7684\u200b\u503c\u200b</li> </ul> <p>\u200b\u7528\u200b<code>map</code>\u200b\u51fd\u6570\u200b\u5bf9\u200b\u6574\u4e2a\u200b Series \u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\uff1a</p> Python<pre><code>df[\"\u200b\u516c\u544a\u200b\u65e5\u671f\u200b\"].map(lambda x: x.strftime(\"%Y%m%d\")) == \"20220930\"\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u591a\u91cd\u7d22\u5f15\u9650\u5236\u65f6\u95f4\u7d22\u5f15\u5c5e\u4e8e\u67d0\u4e00\u65f6\u95f4","title":"\u591a\u91cd\u200b\u7d22\u5f15\u200b\uff0c\u200b\u9650\u5236\u200b\u65f6\u95f4\u200b\u7d22\u5f15\u200b\u5c5e\u4e8e\u200b\u67d0\u4e00\u65f6\u95f4","text":"Python<pre><code>minute_data[\n(pd.Timestamp(\"2018-01-02\") &lt; minute_data.index.get_level_values(\"datetime\"))\n&amp; (minute_data.index.get_level_values(\"datetime\") &lt; pd.Timestamp(\"2018-01-03\"))\n]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u591a\u91cd\u7d22\u5f15\u4fee\u6539\u5176\u4e2d\u7684\u4e00\u5c42\u7d22\u5f15\u4e3a\u65e5\u671f\u683c\u5f0f","title":"\u591a\u91cd\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4fee\u6539\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u5c42\u200b\u7d22\u5f15\u200b\u4e3a\u200b\u65e5\u671f\u200b\u683c\u5f0f","text":"Python<pre><code>df.index = df.index.set_levels(\n[pd.to_datetime(df.index.levels[0].astype(str)), df.index.levels[1]]\n)\n</code></pre> \u200b\u67e5\u770b\u200b\u6548\u679c\u200b <p>\u200b\u4fee\u6539\u200b\u524d\u200b\uff1a</p> <p></p> <p>\u200b\u4fee\u6539\u200b\u540e\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u7b5b\u9009\u6307\u5b9a\u65e5\u671f\u6bb5\u7684\u6570\u636e","title":"\u7b5b\u9009\u200b\u6307\u5b9a\u200b\u65e5\u671f\u200b\u6bb5\u200b\u7684\u200b\u6570\u636e","text":"Text Only<pre><code>date\n2023-03-13 09:30:00    46.00\n2023-03-13 09:31:00    46.11\n2023-03-13 09:32:00    46.21\n2023-03-13 09:33:00    46.17\n2023-03-13 09:34:00    46.18\n                       ...  \n2023-03-17 14:56:00    46.34\n2023-03-17 14:57:00    46.34\n2023-03-17 14:58:00    46.34\n2023-03-17 14:59:00    46.34\n2023-03-17 15:00:00    46.20\nName: close, Length: 1205, dtype: float64\n</code></pre> <p>\u200b\u4ec5\u200b\u7b5b\u9009\u200b\u51fa\u200b<code>2023-03-13</code>\u200b\u8fd9\u200b\u4e00\u5929\u200b\u7684\u200b\u6570\u636e\u200b\uff1a</p> Python<pre><code>df.loc[(df.index &gt;= \"2023-03-13\") &amp; (df.index &lt;= \"2023-03-14\")]\n</code></pre> <p>\u200b\u5f97\u5230\u200b\uff1a</p> Text Only<pre><code>date\n2023-03-13 09:30:00    46.00\n2023-03-13 09:31:00    46.11\n2023-03-13 09:32:00    46.21\n2023-03-13 09:33:00    46.17\n2023-03-13 09:34:00    46.18\n                       ...  \n2023-03-13 14:56:00    46.46\n2023-03-13 14:57:00    46.47\n2023-03-13 14:58:00    46.48\n2023-03-13 14:59:00    46.48\n2023-03-13 15:00:00    46.50\nName: close, Length: 241, dtype: float64\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u7b5b\u9009\u6307\u5b9a\u65f6\u95f4\u6bb5\u7684\u6570\u636e","title":"\u7b5b\u9009\u200b\u6307\u5b9a\u200b\u65f6\u95f4\u6bb5\u200b\u7684\u200b\u6570\u636e","text":"Python<pre><code>df.between_time(\"09:15:00\", \"15:00:00\")\n</code></pre> \u200b\u67e5\u770b\u200b\u6548\u679c\u200b <p>\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u53ea\u80fd\u200b\u7b5b\u9009\u200b\u4e00\u4e2a\u200b\u8fde\u7eed\u200b\u65f6\u95f4\u6bb5\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u679c\u200b\u8981\u200b\u7b5b\u9009\u200b\u4e0a\u5348\u200b\u548c\u200b\u4e0b\u5348\u200b\u7684\u200b\u4ea4\u6613\u200b\u65f6\u95f4\u6bb5\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\uff1a</p> Python<pre><code>idx1 = df.index.indexer_between_time(\"9:30\", \"11:30\")\nidx2 = df.index.indexer_between_time(\"13:00\", \"15:00\")\ndf = df.iloc[np.union1d(idx1, idx2)]\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/63410085/</p> \u200b\u67e5\u770b\u200b\u6548\u679c\u200b <p></p>","tags":["Python"]},{"location":"code/pandas/#\u7b5b\u9009\u6307\u5b9a\u65f6\u95f4\u70b9\u7684\u6570\u636e","title":"\u7b5b\u9009\u200b\u6307\u5b9a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6570\u636e","text":"Python<pre><code>df.at_time(\"09:30:00\")\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/63410085/\uff0chttps://stackoverflow.com/a/63410085/</p>","tags":["Python"]},{"location":"code/pandas/#resample","title":"<code>resample</code>","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p>https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.resample.html</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u65e5\u9891\u6570\u636e-resample-\u5230\u6708\u9891\u6570\u636e\u53ea\u53d6\u6bcf\u6708\u7684\u6700\u540e\u4e00\u884c\u6570\u636e","title":"\u5c06\u200b\u65e5\u9891\u200b\u6570\u636e\u200b resample \u200b\u5230\u200b\u6708\u200b\u9891\u200b\u6570\u636e\u200b\uff0c\u200b\u53ea\u53d6\u200b\u6bcf\u6708\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u6570\u636e","text":"<p>\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u65e5\u671f\u200b\u5728\u200b\u7d22\u5f15\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b<code>on</code>\u3002</p> Python<pre><code>df.resample(\"M\").last()\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u65e5\u671f\u200b\u6765\u81ea\u200b\u54ea\u200b\u4e00\u5217\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b<code>on</code>\u200b\u4e3a\u200b\uff1a</p> <p>\u200b\u9996\u5148\u200b\u5bf9\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u9891\u7387\u200b\u8f6c\u6362\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6708\u5ea6\u200b\u9891\u7387\u200b\uff1a</p> Python<pre><code>monthly_data = df.resample(\"M\", on=\"\u200b\u65e5\u671f\u200b\u7684\u200b\u5217\u540d\u200b\")\n</code></pre> <p>\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b last \u200b\u53c2\u6570\u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u6708\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u70b9\u200b\u7684\u200b\u6570\u636e\u200b\uff1a</p> Python<pre><code>monthly_data = monthly_data.last()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u8bbe\u7f6e-resample-\u540e\u7684\u6570\u636e\u4ee5\u54ea\u4e2a\u65f6\u70b9\u4f5c\u4e3a\u7d22\u5f15\u53ef\u9009\u8d77\u59cb\u65f6\u70b9\u6216\u7ed3\u675f\u65f6\u70b9","title":"\u8bbe\u7f6e\u200b resample \u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u4ee5\u200b\u54ea\u4e2a\u200b\u65f6\u200b\u70b9\u200b\u4f5c\u4e3a\u200b\u7d22\u5f15\u200b\uff08\u200b\u53ef\u200b\u9009\u200b\u8d77\u59cb\u200b\u65f6\u70b9\u200b\u6216\u200b\u7ed3\u675f\u200b\u65f6\u200b\u70b9\u200b\uff09","text":"<p>\u200b\u5f88\u591a\u200b\u65f6\u5019\u200b resample \u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u8d77\u59cb\u200b\u65f6\u95f4\u200b\u4f5c\u4e3a\u200b\u7d22\u5f15\u200b\u3002\u200b\u4f8b\u5982\u200b\u4ee5\u200b 9:00 \u200b\u4f5c\u4e3a\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5b83\u200b\u7edf\u8ba1\u200b\u4e86\u200b 9:00 \u200b\u81f3\u200b 10:00 \u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u4ee5\u200b 10:00 \u200b\u4f5c\u4e3a\u200b\u7d22\u5f15\u200b\uff0c\u200b\u6765\u200b\u7edf\u8ba1\u200b 9:00 \u200b\u81f3\u200b 10:00 \u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b <code>closed='right'</code> \u200b\u548c\u200b <code>label='right'</code>\u3002</p> <p></p> <p>\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>periods = pd.date_range(\"2020-10-17 15:53:00\", \"2020-10-17 15:53:10\", freq=\"1s\")\nts = pd.Series(range(len(periods)), index=periods)\n</code></pre> <p></p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://blog.csdn.net/ljr_123/article/details/114700836</p> \u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u6709\u70b9\u200b\u96be\u200b\u7406\u89e3\u200b\uff0c\u200b\u8fd8\u662f\u200b\u591a\u200b\u5c1d\u8bd5\u200b\u770b\u770b\u200b\u6548\u679c\u200b\u5427\u200b\uff01 <p>\u200b\u4e0d\u200b\u52a0\u200b\u53c2\u6570\u200b\uff1a</p> Python<pre><code>periods = pd.date_range(\"2020-10-17 15:53:00\", \"2020-10-17 15:53:10\", freq=\"1s\")\nts = pd.Series(range(len(periods)), index=periods)\nresampled = ts.resample(\"5s\").last()\nresampled\n</code></pre> Text Only<pre><code>2020-10-17 15:53:00     4\n2020-10-17 15:53:05     9\n2020-10-17 15:53:10    10\nFreq: 5S, dtype: int64\n</code></pre> <p>\u200b\u6dfb\u52a0\u200b <code>closed='right'</code>\uff1a</p> Python<pre><code>periods = pd.date_range(\"2020-10-17 15:53:00\", \"2020-10-17 15:53:10\", freq=\"1s\")\nts = pd.Series(range(len(periods)), index=periods)\nresampled = ts.resample(\"5s\", closed=\"right\").last()\nresampled\n</code></pre> Text Only<pre><code>2020-10-17 15:52:55     0\n2020-10-17 15:53:00     5\n2020-10-17 15:53:05    10\nFreq: 5S, dtype: int64\n</code></pre> <p>\u200b\u6dfb\u52a0\u200b <code>label='right'</code>\uff1a</p> Python<pre><code>periods = pd.date_range(\"2020-10-17 15:53:00\", \"2020-10-17 15:53:10\", freq=\"1s\")\nts = pd.Series(range(len(periods)), index=periods)\nresampled = ts.resample(\"5s\", label=\"right\").last()\nresampled\n</code></pre> Text Only<pre><code>2020-10-17 15:53:05     4\n2020-10-17 15:53:10     9\n2020-10-17 15:53:15    10\nFreq: 5S, dtype: int64\n</code></pre> <p>\u200b\u6dfb\u52a0\u200b <code>closed='right', label='right'</code>\uff1a</p> Python<pre><code>periods = pd.date_range(\"2020-10-17 15:53:00\", \"2020-10-17 15:53:10\", freq=\"1s\")\nts = pd.Series(range(len(periods)), index=periods)\nresampled = ts.resample(\"5s\", closed=\"right\", label=\"right\").last()\nresampled\n</code></pre> Text Only<pre><code>2020-10-17 15:53:00     0\n2020-10-17 15:53:05     5\n2020-10-17 15:53:10    10\nFreq: 5S, dtype: int64\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/64409555/</p>","tags":["Python"]},{"location":"code/pandas/#\u6839\u636e\u56fa\u5b9a\u6574\u6570\u95f4\u9694\u91cd\u91c7\u6837-resample","title":"\u6839\u636e\u200b\u56fa\u5b9a\u200b\u6574\u6570\u200b\u95f4\u9694\u200b\u91cd\u200b\u91c7\u6837\u200b resample","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/q/47197007/</p> Python<pre><code>df1 = df.groupby(df.index // n).sum()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u7a7a\u7f3a\u7684\u79d2\u949f\u6570\u636e\u7528\u524d\u4e00\u4e2a\u79d2\u949f\u6570\u636e\u586b\u8865\u91cd\u91c7\u6837\u5e76\u586b\u5145\u7a7a\u7f3a\u503c","title":"\u5c06\u200b\u7a7a\u7f3a\u200b\u7684\u200b\u79d2\u949f\u200b\u6570\u636e\u200b\u7528\u524d\u200b\u4e00\u4e2a\u200b\u79d2\u949f\u200b\u6570\u636e\u200b\u586b\u8865\u200b\uff08\u200b\u91cd\u200b\u91c7\u6837\u200b\u5e76\u200b\u586b\u5145\u200b\u7a7a\u7f3a\u200b\u503c\u200b\uff09","text":"<p>\u200b\u6709\u200b\u4e00\u4e2a\u200b pandas \u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6709\u200b\u4e00\u5217\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\u7684\u200b\u79d2\u949f\u200b\u6570\u636e\u200b\uff0c\u200b\u4f8b\u5982\u200b\"09:15:00\"\u3001\"09:15:04\"\u3002\u200b\u9664\u6b64\u4e4b\u5916\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e00\u4e9b\u200b\u5217\u200b\u3002\u200b\u6211\u200b\u9700\u8981\u200b\u5c06\u200b\u7a7a\u7f3a\u200b\u7684\u200b\u79d2\u949f\u200b\u6570\u636e\u200b\u7528\u200b\u4e0a\u200b\u4e00\u79d2\u949f\u200b\u7684\u200b\u6570\u636e\u200b\u586b\u5145\u200b\u4e0a\u200b\uff0c\u200b\u6700\u7ec8\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b\u5305\u542b\u200b\u6240\u6709\u200b\u79d2\u949f\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u6309\u200b\u4ee5\u4e0b\u200b\u6b65\u9aa4\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li> <p>\u200b\u5c06\u200b\u79d2\u949f\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b datetime \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u7d22\u5f15\u200b\u3002</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b resample \u200b\u65b9\u6cd5\u200b\u5c06\u200b\u6570\u636e\u200b\u6309\u200b\u79d2\u949f\u200b\u91cd\u200b\u91c7\u6837\u200b\uff0c\u200b\u4ee5\u200b\u786e\u4fdd\u200b\u6240\u6709\u200b\u79d2\u949f\u200b\u90fd\u200b\u88ab\u200b\u5305\u542b\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b ffill \u200b\u65b9\u6cd5\u200b\u5411\u524d\u200b\u586b\u5145\u200b\u7a7a\u7f3a\u200b\u7684\u200b\u503c\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\uff0c\u200b\u91cd\u65b0\u200b\u8bbe\u7f6e\u200b\u7d22\u5f15\u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b\u5217\u200b\u3002</p> </li> </ol> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u5b8c\u6574\u200b\u7684\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>import pandas as pd\n# \u200b\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\u6846\u200b\ndf = pd.DataFrame(\n{\"seconds\": [\"09:15:00\", \"09:15:04\", \"09:15:08\"], \"other_column\": [1, 2, 3]}\n)\n# \u200b\u5c06\u200b\u79d2\u949f\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b datetime \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u7d22\u5f15\u200b\ndf[\"seconds\"] = pd.to_datetime(df[\"seconds\"])\ndf.set_index(\"seconds\", inplace=True)\n# \u200b\u91cd\u200b\u91c7\u6837\u200b\u5e76\u200b\u586b\u5145\u200b\u7a7a\u7f3a\u200b\u503c\u200b\ndf = df.resample(\"S\").ffill()\n# \u200b\u91cd\u65b0\u200b\u8bbe\u7f6e\u200b\u7d22\u5f15\u200b\ndf.reset_index(inplace=True)\n# \u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\nprint(df)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>              seconds  other_column\n0 2022-09-01 09:15:00             1\n1 2022-09-01 09:15:01             1\n2 2022-09-01 09:15:02             1\n3 2022-09-01 09:15:03             1\n4 2022-09-01 09:15:04             2\n5 2022-09-01 09:15:05             2\n6 2022-09-01 09:15:06             2\n7 2022-09-01 09:15:07             2\n8 2022-09-01 09:15:08             3\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u53bb\u9664\u7531-ffill-\u586b\u5145\u7684\u975e\u4ea4\u6613\u65e5\u7684\u6570\u636e\u5982\u5468\u672b","title":"\u53bb\u9664\u200b\u7531\u200b <code>.ffill()</code> \u200b\u586b\u5145\u200b\u7684\u200b\u975e\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u5982\u200b\u5468\u672b\u200b\uff09","text":"Python<pre><code># \u200b\u53bb\u9664\u200b\u7531\u200b .ffill() \u200b\u586b\u5145\u200b\u7684\u200b\u975e\u200b\u4ea4\u6613\u65e5\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u5982\u200b\u5468\u672b\u200b\uff09\nminute_trade = minute_trade[\nnp.isin(\npd.to_datetime(minute_trade.index.date),\npd.to_datetime(trade[\"Qdate\"].unique()),\n)\n]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#rolling","title":"<code>rolling</code>","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p>https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rolling.html</p> <p><code>closed</code> \u200b\u53c2\u6570\u200b\u63a7\u5236\u200b\u5de6\u53f3\u200b\u5f00\u95ed\u200b\uff1a</p> Python<pre><code>import pandas as pd\ndata = {\"A\": [1, 2, 3, 4, 5]}\ndf = pd.DataFrame(data)\n# \u200b\u8bbe\u7f6e\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u4e3a\u200b 2\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5de6\u5f00\u200b\u53f3\u95ed\u200b\ndf[\"rolling\"] = df[\"A\"].rolling(window=2).sum()\n# \u200b\u8bbe\u7f6e\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u4e3a\u200b 2\uff0c\u200b\u5de6\u5f00\u200b\u53f3\u95ed\u200b\ndf[\"rolling_right\"] = df[\"A\"].rolling(window=2, closed=\"right\").sum()\n# \u200b\u8bbe\u7f6e\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u4e3a\u200b 2\uff0c\u200b\u5de6\u95ed\u200b\u53f3\u5f00\u200b\ndf[\"rolling_left\"] = df[\"A\"].rolling(window=2, closed=\"left\").sum()\n# \u200b\u8bbe\u7f6e\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u4e3a\u200b 2\uff0c\u200b\u5de6\u53f3\u200b\u90fd\u200b\u95ed\u200b\ndf[\"rolling_both\"] = df[\"A\"].rolling(window=2, closed=\"both\").sum()\nprint(df)\n</code></pre> Text Only<pre><code>   A  rolling  rolling_right  rolling_left  rolling_both\n0  1      NaN            NaN           NaN           NaN\n1  2      3.0            3.0           NaN           3.0\n2  3      5.0            5.0           3.0           6.0\n3  4      7.0            7.0           5.0           9.0\n4  5      9.0            9.0           7.0          12.0\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#apply","title":"<code>apply</code>","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p>DataFrame: https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.apply.html</p> <p>Series: https://pandas.pydata.org/docs/reference/api/pandas.Series.apply.html</p>","tags":["Python"]},{"location":"code/pandas/#\u4f7f\u7528-apply-\u51fd\u6570\u8fd4\u56de\u591a\u4e2a\u503c\u4e14\u6574\u4f53\u4ee5\u6570\u636e\u6846\u7684\u5f62\u5f0f\u8fd4\u56de","title":"\u4f7f\u7528\u200b apply \u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u591a\u4e2a\u200b\u503c\u200b\uff0c\u200b\u4e14\u200b\u6574\u4f53\u200b\u4ee5\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8fd4\u56de","text":"Python<pre><code>df.apply(lambda x: function(x), axis=1)\n</code></pre> <ul> <li>\u200b\u5982\u679c\u200b\u53ea\u200b\u5728\u200b function \u200b\u4e2d\u200b\u8fd4\u56de\u200b\u4e24\u4e2a\u200b\u503c\u200b\uff0c\u200b\u5219\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u503c\u4f1a\u200b\u4ee5\u200b Tuple \u200b\u7684\u200b\u5f62\u5f0f\u200b\u8fdb\u884c\u200b\u7ec4\u5408\u200b\uff0c\u200b\u6700\u7ec8\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b Series\u3002\u200b\u8fd9\u4e2a\u200b Series \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5355\u5143\u683c\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b Tuple\uff0c\u200b\u4e00\u4e2a\u200b Tuple \u200b\u4e2d\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u503c\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b 1 \u200b\u548c\u200b 2\u3002</li> </ul> Python<pre><code>def function(x):\nreturn 1, 2\n</code></pre> <ul> <li>\u200b\u5982\u679c\u200b\u60f3\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\u6846\u200b\u5305\u542b\u200b 2 \u200b\u5217\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\uff1a</li> </ul> Python<pre><code>def function(x):\nreturn pd.Series([1, 2], index=[\"column_name_1\", \"column_name_2\"])\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\u7684\u200b index \u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u8fd9\u200b\u4e24\u5217\u200b\u7684\u200b\u5217\u540d\u200b\u3002</p> <ul> <li>\u200b\u518d\u200b\u4f7f\u7528\u200b<code>df.apply(lambda x: function(x), axis=1)</code>\uff0c\u200b\u5f97\u5230\u200b\u7684\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u4e24\u5217\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\u4e86\u200b\u3002</li> </ul> <p>\u200b\u53c2\u8003\u200b\u94fe\u63a5\u200b\uff1ahttps://stackoverflow.com/a/23690329/</p>","tags":["Python"]},{"location":"code/pandas/#\u4f7f\u7528-apply-\u51fd\u6570\u64cd\u4f5c-df-\u7684\u6bcf\u4e00\u884c\u65f6\u83b7\u53d6\u8fd9\u4e00\u884c\u7684-index","title":"\u4f7f\u7528\u200b apply \u200b\u51fd\u6570\u200b\u64cd\u4f5c\u200b df \u200b\u7684\u200b\u6bcf\u200b\u4e00\u884c\u200b\u65f6\u200b\uff0c\u200b\u83b7\u53d6\u200b\u8fd9\u200b\u4e00\u884c\u200b\u7684\u200b index","text":"<ul> <li>\u200b\u7528\u200b<code>.name</code></li> </ul> Python<pre><code>df.apply(lambda row: row.name, axis=1)\n</code></pre> <p>\u200b\u5982\u679c\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b <code>pd.Series</code>\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u5148\u200b\u7528\u200b <code>.to_frame</code> \u200b\u5c06\u200b\u5176\u200b\u8f6c\u6362\u200b\u4e3a\u200b <code>pd.DataFrame</code>\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u4f7f\u7528-apply-\u51fd\u6570\u5e76\u52a0\u5165if-else\u5224\u65ad\u8bed\u53e5","title":"\u4f7f\u7528\u200b apply \u200b\u51fd\u6570\u200b\u5e76\u200b\u52a0\u5165\u200b<code>if else</code>\u200b\u5224\u65ad\u200b\u8bed\u53e5","text":"Python<pre><code>df.apply(lambda x: True if (x &gt; 10) else False)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4f7f\u7528-apply-\u51fd\u6570\u5e76\u5c55\u793a\u8fdb\u5ea6\u6761","title":"\u4f7f\u7528\u200b apply \u200b\u51fd\u6570\u200b\u5e76\u200b\u5c55\u793a\u200b\u8fdb\u5ea6\u6761","text":"Python<pre><code>from tqdm import tqdm\ntqdm.pandas()\ndf_users.groupby([\"userID\", \"requestDate\"]).progress_apply(feature_rollup)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4f7f\u7528-apply-\u51fd\u6570\u65f6\u4f20\u9012\u989d\u5916\u53c2\u6570","title":"\u4f7f\u7528\u200b apply \u200b\u51fd\u6570\u200b\u65f6\u200b\u4f20\u9012\u200b\u989d\u5916\u200b\u53c2\u6570","text":"<p>\u200b\u4e0b\u9762\u200b\u4ee5\u200b <code>progress_apply</code> \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4f20\u9012\u200b\u989d\u5916\u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u8981\u200b\u5728\u200b <code>progress_apply</code> \u200b\u4e2d\u200b\u4f20\u9012\u200b\u989d\u5916\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>args</code> \u200b\u53c2\u6570\u200b\u6765\u200b\u5b9e\u73b0\u200b\u3002<code>args</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u8981\u200b\u4f20\u9012\u200b\u7ed9\u200b\u51fd\u6570\u200b\u7684\u200b\u989d\u5916\u200b\u53c2\u6570\u200b\u3002</p> Python<pre><code>import pandas as pd\n# \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u63a5\u53d7\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\ndef my_function(value, param):\n# \u200b\u5728\u200b\u51fd\u6570\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4f20\u9012\u200b\u7684\u200b\u53c2\u6570\u200b\nresult = value + param\nreturn result\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\u6846\u200b\ndf = pd.DataFrame({\"A\": [1, 2, 3], \"B\": [4, 5, 6]})\n# \u200b\u4f7f\u7528\u200b progress_apply \u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u5217\u200b\u5e94\u7528\u200b\u51fd\u6570\u200b\uff0c\u200b\u5e76\u200b\u4f20\u9012\u200b\u989d\u5916\u200b\u7684\u200b\u53c2\u6570\u200b\nparam = 10\ndf = df.progress_apply(my_function, args=(param,))\nprint(df)\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u793a\u4f8b\u200b\u4e2d\u200b\uff0c<code>my_function</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u63a5\u53d7\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u51fd\u6570\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b <code>param</code> \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u989d\u5916\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u4f5c\u4e3a\u200b\u5143\u7ec4\u200b <code>(param,)</code> \u200b\u4f20\u9012\u200b\u7ed9\u200b <code>progress_apply</code>\u3002\u200b\u5728\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4f20\u9012\u200b\u7684\u200b\u53c2\u6570\u200b <code>param</code> \u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#groupby","title":"<code>groupby</code>","text":"<p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p>https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html</p>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u591a\u5217\u8fdb\u884c\u5206\u7ec4","title":"\u5bf9\u200b\u591a\u5217\u200b\u8fdb\u884c\u200b\u5206\u7ec4","text":"<p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5148\u5bf9\u200b\u65e5\u671f\u200b\u5206\u7ec4\u200b\uff0c\u200b\u5728\u200b\u6bcf\u200b\u4e00\u5929\u200b\u5185\u200b\uff0c\u200b\u518d\u200b\u5bf9\u200b\u79d2\u949f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a\u200b\u7edf\u8ba1\u200b\u6bcf\u200b\u4e00\u5929\u200b\u7684\u200b\u6bcf\u4e00\u79d2\u200b\u5185\u200b\u8ba2\u5355\u200b\u7684\u200b\u6570\u91cf\u200b\u3002</p> <ul> <li>\u200b\u7528\u200b\u5217\u8868\u200b\u5f62\u5f0f\u200b\u5b58\u653e\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u5206\u7ec4\u200b\u7684\u200b\u5217\u540d\u200b\u3002</li> </ul> Python<pre><code>order.groupby([\"Qdate\", \"Qtime\"])[\"OrderRecNo\"].count()\n</code></pre> \u200b\u67e5\u770b\u200b\u6548\u679c\u200b <p></p>","tags":["Python"]},{"location":"code/pandas/#\u67e5\u770bgroupby\u540e\u6bcf\u4e00\u7ec4\u7684\u503c","title":"\u67e5\u770b\u200b<code>groupby</code>\u200b\u540e\u200b\u6bcf\u200b\u4e00\u7ec4\u200b\u7684\u200b\u503c","text":"<p>\u200b\u5c06\u200b <code>grouped</code> \u200b\u4fee\u6539\u200b\u4e3a\u200b\u4f60\u200b\u6784\u9020\u200b\u7684\u200b <code>GroupBy object</code>\uff1a</p> Python<pre><code>for group_name in list(grouped.groups.keys()):\nprint(group_name)\nprint(grouped.get_group(group_name))\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u76f4\u63a5\u65b9\u6cd5get_group","title":"\u76f4\u63a5\u200b\u65b9\u6cd5\u200b\uff1a<code>.get_group()</code>","text":"Python<pre><code>groups.get_group(2007)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u95f4\u63a5\u65b9\u6cd5\u5148\u83b7\u53d6\u8be5\u7ec4\u7d22\u5f15\u518d\u5207\u7247","title":"\u95f4\u63a5\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u5148\u200b\u83b7\u53d6\u200b\u8be5\u7ec4\u200b\u7d22\u5f15\u200b\uff0c\u200b\u518d\u200b\u5207\u7247","text":"<p>\u200b\u9996\u5148\u200b\u83b7\u53d6\u200b\u67d0\u4e2a\u200b\u7ec4\u4e2d\u200b\u6240\u6709\u200b\u503c\u200b\u5728\u200b\u539f\u200b df \u200b\u4e2d\u200b\u7684\u200b\u7d22\u5f15\u200b\uff1a</p> Python<pre><code>groups.groups[2007]\n</code></pre> <p></p> <p>\u200b\u518d\u200b\u6839\u636e\u200b\u8fd9\u4e9b\u200b\u7d22\u5f15\u200b\u4ece\u539f\u200b df \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u6570\u636e\u200b\uff1a</p> Python<pre><code>papers.loc[groups.groups[2007]]\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u67e5\u770bgroupby\u4e2d\u6bcf\u7ec4\u7684\u7b2c\u4e00\u884c","title":"\u67e5\u770b\u200b<code>groupby</code>\u200b\u4e2d\u200b\u6bcf\u7ec4\u200b\u7684\u200b\u7b2c\u4e00\u884c","text":"<p><code>.first()</code></p> Python<pre><code>groups = papers.groupby(\"year\")\ngroups.first()\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/pandas/#groupby\u5206\u7ec4\u540e\u6c42\u5404\u7ec4\u7684\u7edf\u8ba1\u91cf\u5982\u7ec4\u5185\u5747\u503c","title":"<code>groupby</code>\u200b\u5206\u7ec4\u200b\u540e\u6c42\u200b\u5404\u7ec4\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\uff08\u200b\u5982\u7ec4\u5185\u200b\u5747\u503c\u200b\uff09","text":"Python<pre><code>df.groupby([\"\u200b\u7528\u4e8e\u200b\u5206\u7ec4\u200b\u7684\u200b\u5217\u540d\u200b\"])[\"\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u7ec4\u5185\u6c42\u200b\u5747\u503c\u200b\u7684\u200b\u5217\u540d\u200b\"].mean()\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e8f\u5217\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u884c\u6570\u200b\u662f\u200b\u5206\u7ec4\u200b\u7684\u200b\u4e2a\u6570\u200b\uff0c\u200b\u503c\u200b\u5c31\u662f\u200b\u6bcf\u200b\u4e00\u7ec4\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u3002</p> \u200b\u67e5\u770b\u200b\u6548\u679c\u200b <p></p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u60f3\u7528\u200b\u7ec4\u5185\u200b\u7684\u200b\u539f\u59cb\u6570\u636e\u200b\uff0c\u200b\u51cf\u53bb\u200b\u8fd9\u4e2a\u200b\u7ec4\u200b\u6574\u4f53\u200b\u7684\u200b\u5747\u503c\u200b\uff0c\u200b\u6709\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li> <p>\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83\u200b\u5e38\u89c4\u200b\uff0c\u200b\u5148\u200b\u7528\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u6c42\u200b\u51fa\u200b\u5404\u7ec4\u200b\u7684\u200b\u5747\u503c\u200b\uff0c\u200b\u518d\u7528\u200b merge \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5206\u7ec4\u200b\u540e\u200b\u7684\u200b\u7edf\u8ba1\u200b\u91cf\u200b\u5c31\u200b\u81ea\u52a8\u200b\u7eb5\u5411\u200b\u5c55\u5f00\u200b\u5230\u200b\u539f\u59cb\u6570\u636e\u200b\u4e2d\u200b\u4e86\u200b\u3002</p> </li> <li> <p>\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7528\u200b<code>.transform('mean')</code>\uff0c\u200b\u8fd9\u6837\u200b\u5f97\u5230\u200b\u7684\u200b\u7ed3\u679c\u200b\u5305\u542b\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u539f\u59cb\u6570\u636e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ec4\u200b\u7684\u200b\u5747\u503c\u200b\u3002</p> </li> </ol> Python<pre><code>df.groupby([\"\u200b\u7528\u4e8e\u200b\u5206\u7ec4\u200b\u7684\u200b\u5217\u540d\u200b\"])[\"\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u7ec4\u5185\u6c42\u200b\u5747\u503c\u200b\u7684\u200b\u5217\u540d\u200b\"].transform(\"mean\")\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/pandas/#groupby\u5206\u7ec4\u540e\u6c42\u4e24\u5217\u7684\u76f8\u5173\u6027","title":"<code>groupby</code>\u200b\u5206\u7ec4\u200b\u540e\u6c42\u200b\u4e24\u5217\u200b\u7684\u200b\u76f8\u5173\u6027","text":"Python<pre><code>df.groupby(\"ID\")[[\"Val1\", \"Val2\"]].corr().unstack().iloc[:, 1]\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/59048482</p>","tags":["Python"]},{"location":"code/pandas/#\u591a\u91cd\u7d22\u5f15","title":"\u591a\u91cd\u200b\u7d22\u5f15","text":"","tags":["Python"]},{"location":"code/pandas/#\u6784\u9020\u591a\u91cd\u7d22\u5f15\u6570\u636e\u6846","title":"\u6784\u9020\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u6570\u636e\u200b\u6846","text":"Python<pre><code># \u200b\u6784\u9020\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5b58\u50a8\u200b\u7ed3\u679c\u200b\nidx = pd.MultiIndex.from_product(\n[\n[\"Operator norm\", \"Matrix l1 norm\", \"Frobenius norm\"],\n[30, 100, 200],\n],\nnames=[\"norm_type\", \"p\"],\n)\n# \u200b\u5b9a\u4e49\u200b\u5217\u540d\u200b\ncol_names = [\"Universal\", \"Adaptive\", \"Adaptive2\"]\n# \u200b\u521b\u5efa\u200b\u7a7a\u200b\u7684\u200b DataFrame\ntable_1 = pd.DataFrame(columns=col_names, index=idx)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u591a\u5217\u6570\u636e\u8f6c\u6362\u4e3a\u591a\u91cd\u7d22\u5f15","title":"\u5c06\u200b\u591a\u5217\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u591a\u91cd\u200b\u7d22\u5f15","text":"Python<pre><code>df.set_index([\"ID\", \"Year\"])\n</code></pre> <p>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6dfb\u52a0\u200b <code>append=True</code> \u200b\u53c2\u6570\u200b\u6765\u200b\u4fdd\u7559\u200b\u539f\u6709\u200b\u7684\u200b\u7d22\u5f15\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u5355\u91cd\u7d22\u5f15\u7684\u5217\u540d\u8f6c\u6362\u4e3a\u591a\u91cd\u7d22\u5f15","title":"\u5c06\u200b\u5355\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u5217\u540d\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u591a\u91cd\u200b\u7d22\u5f15","text":"<p>\u200b\u8981\u200b\u5c06\u200b Pandas \u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d\u200b\u53d8\u6210\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>pandas.MultiIndex.from_tuples()</code> \u200b\u51fd\u6570\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5176\u8d4b\u200b\u7ed9\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import pandas as pd\n# \u200b\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\u6846\u200b\ndata = {\"A\": [1, 2, 3], \"B\": [4, 5, 6], \"C\": [7, 8, 9]}\ndf = pd.DataFrame(data)\n# \u200b\u521b\u5efa\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\nmulti_index = pd.MultiIndex.from_tuples(\n[(\"Group 1\", \"A\"), (\"Group 1\", \"B\"), (\"Group 2\", \"C\")]\n)\n# \u200b\u5c06\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\u8d4b\u7ed9\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d\u200b\ndf.columns = multi_index\nprint(df)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>  Group 1    Group 2\n        A  B       C\n0       1  4       7\n1       2  5       8\n2       3  6       9\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u5c06\u200b\u6240\u6709\u200b\u5217\u540d\u200b\u90fd\u200b\u653e\u5230\u200b\u4e00\u4e2a\u200b\u5206\u7ec4\u200b\uff08\"Group 1\"\uff09\u200b\u4e0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>pandas.MultiIndex.from_product()</code> \u200b\u51fd\u6570\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u5206\u7ec4\u200b\u7684\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5176\u8d4b\u200b\u7ed9\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff1a</p> Python<pre><code>import pandas as pd\n# \u200b\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\u6846\u200b\ndata = {\"A\": [1, 2, 3], \"B\": [4, 5, 6], \"C\": [7, 8, 9]}\ndf = pd.DataFrame(data)\n# \u200b\u521b\u5efa\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\nmulti_index = pd.MultiIndex.from_product([[\"Group 1\"], df.columns])\n# \u200b\u5c06\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u5bf9\u8c61\u200b\u8d4b\u7ed9\u200b\u6570\u636e\u200b\u6846\u200b\u7684\u200b\u5217\u540d\u200b\ndf.columns = multi_index\nprint(df)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\uff1a</p> Text Only<pre><code>  Group 1      \n        A  B  C\n0        1  4  7\n1        2  5  8\n2        3  6  9\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u591a\u91cd\u7d22\u5f15\u8f6c\u6362\u4e3a\u591a\u5217\u6570\u636e","title":"\u5c06\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u591a\u5217\u200b\u6570\u636e","text":"Python<pre><code>df.reset_index()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539\u591a\u91cd\u7d22\u5f15\u7684\u540d\u79f0","title":"\u4fee\u6539\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u540d\u79f0","text":"Python<pre><code>industry_data.index.names = [\"date\", \"code\"]\n</code></pre> <p>\u200b\u6216\u7528\u200b <code>.set_names()</code>\uff1a</p> Python<pre><code>industry_data.index.set_names(\"code\", level=1)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://pandas.pydata.org/docs/reference/api/pandas.Index.set_names.html</p>","tags":["Python"]},{"location":"code/pandas/#\u4ea4\u6362\u7d22\u5f15\u7ea7\u522b\u7684\u987a\u5e8f\u5e76\u6309\u7167\u7d22\u5f15\u8fdb\u884c\u6392\u5e8f","title":"\u4ea4\u6362\u200b\u7d22\u5f15\u200b\u7ea7\u522b\u200b\u7684\u200b\u987a\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u6309\u7167\u200b\u7d22\u5f15\u200b\u8fdb\u884c\u200b\u6392\u5e8f","text":"Python<pre><code>df.swaplevel().sort_index()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u83b7\u53d6\u5176\u4e2d\u7684\u67d0\u4e00\u4e2a\u7d22\u5f15","title":"\u83b7\u53d6\u200b\u5176\u4e2d\u200b\u7684\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u7d22\u5f15","text":"Python<pre><code>df.index.get_level_values(\"first\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539\u5176\u4e2d\u7684\u67d0\u4e00\u4e2a\u7d22\u5f15","title":"\u4fee\u6539\u200b\u5176\u4e2d\u200b\u7684\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u7d22\u5f15","text":"<p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u7b2c\u200b 1 \u200b\u5c42\u200b\u7d22\u5f15\u200b\u4e3a\u200b <code>a_list</code>\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> Python<pre><code>df.index.set_levels(a_list, level=0)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.set_levels.html</p> <p>\u200b\u6216\u7528\u200b <code>pd.Multiindex.from_arrays</code>\uff0c\u200b\u6ce8\u610f\u200b\u8981\u200b\u7528\u200b\u65b9\u62ec\u53f7\u200b <code>[ ]</code> \u200b\u5c06\u200b\u5404\u5c42\u200b\u7d22\u5f15\u200b\u62ec\u200b\u8d77\u6765\u200b\u3002\u200b\u4f8b\u5982\u200b\u9700\u8981\u200b\u5c06\u200b\u7b2c\u200b 1 \u200b\u5c42\u200b\u7d22\u5f15\u200b\u4fee\u6539\u200b\u4e3a\u200b datetime \u200b\u683c\u5f0f\u200b\uff1a</p> Python<pre><code>df.index = pd.MultiIndex.from_arrays(\n[\ndf.index.get_level_values(0),\npd.to_datetime(df.index.get_level_values(1)),\n]\n)\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.from_arrays.html</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> <p>https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.from_tuples.html</p> <p>https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.from_product.html</p> <p>https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.from_frame.html</p>","tags":["Python"]},{"location":"code/pandas/#\u6839\u636e\u67d0\u4e00\u4e2a\u7d22\u5f15\u63d0\u53d6\u6570\u636e","title":"\u6839\u636e\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\u63d0\u53d6\u200b\u6570\u636e","text":"Python<pre><code>df = pd.DataFrame(\n{\n\"class\": [\"A\", \"A\", \"A\", \"B\", \"B\", \"B\", \"C\", \"C\"],\n\"id\": [\"a\", \"b\", \"c\", \"a\", \"b\", \"c\", \"a\", \"b\"],\n\"value\": [1, 2, 3, 4, 5, 6, 7, 8],\n}\n)\ndf = df.set_index([\"class\", \"id\"])\n</code></pre> \u200b\u67e5\u770b\u200b\u6548\u679c\u200b \u200b\u67e5\u770b\u200b\u6548\u679c\u200b <ol> <li>\u200b\u63d0\u53d6\u200b\u51fa\u200b<code>class</code>\uff08\u200b\u5373\u200b\u7b2c\u4e00\u5c42\u200b\u7d22\u5f15\u200b\uff09\u200b\u4e3a\u200b<code>'A'</code>\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u200b</li> </ol> Python<pre><code>df.loc[(\"A\", slice(None)), :]\n</code></pre> <p><code>loc[(a,b),c]</code>\u200b\u4e2d\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u5143\u7ec4\u200b\u4e3a\u200b\u7d22\u5f15\u200b\u5185\u5bb9\u200b\u3002<code>a</code>\u200b\u4e3a\u200b<code>level0</code>\u200b\u7d22\u5f15\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c<code>b</code>\u200b\u4e3a\u200b<code>level1</code>\u200b\u7d22\u5f15\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> <ul> <li>\u200b\u8fd9\u91cc\u200b<code>'A'</code>\uff0c\u200b\u6307\u200b\u9009\u62e9\u200b class \u200b\u4e2d\u200b\u7684\u200b A \u200b\u7c7b\u200b</li> <li><code>slice(None)</code>, \u200b\u662f\u200b Python \u200b\u4e2d\u200b\u7684\u200b\u5207\u7247\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7528\u6765\u200b\u9009\u62e9\u200b\u4efb\u610f\u200b\u7684\u200b id\uff0c\u200b\u8981\u200b\u6ce8\u610f\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b<code>:</code>\u200b\u6765\u200b\u6307\u5b9a\u200b\u4efb\u610f\u200b index</li> <li> <p>\u200b\u56e0\u4e3a\u200b df \u200b\u662f\u200b\u4e00\u4e2a\u200b dataframe\uff0c\u200b\u6240\u4ee5\u200b\u8981\u200b\u7528\u200b<code>c</code>\u200b\u6765\u200b\u6307\u5b9a\u200b\u5217\u200b\u3002<code>:</code> \u200b\u7528\u6765\u200b\u6307\u5b9a\u200b dataframe \u200b\u4efb\u610f\u200b\u7684\u200b\u5217\u200b</p> </li> <li> <p>\u200b\u63d0\u53d6\u200b\u51fa\u200b<code>id</code>\uff08\u200b\u5373\u200b\u7b2c\u4e8c\u5c42\u200b\u7d22\u5f15\u200b\uff09\u200b\u4e3a\u200b<code>'a'</code>\u200b\u6216\u200b<code>'b'</code>\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u200b</p> </li> </ul> Python<pre><code>df.loc[(slice(None), [\"a\", \"b\"]), :]\n</code></pre> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u591a\u91cd\u7d22\u5f15\u964d\u4e3a\u5355\u91cd\u7d22\u5f15","title":"\u591a\u91cd\u200b\u7d22\u5f15\u200b\u964d\u4e3a\u200b\u5355\u91cd\u200b\u7d22\u5f15","text":"Python<pre><code>df.droplevel(\"datetime\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u591a\u91cd\u7d22\u5f15\u7684\u65f6\u95f4\u5c42\u7ea7\u8fdb\u884c\u5207\u7247","title":"\u5bf9\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u65f6\u95f4\u200b\u5c42\u7ea7\u200b\u8fdb\u884c\u200b\u5207\u7247","text":"Python<pre><code>index.get_loc_level(slice(\"2020-01-01\", \"2020-01-10\"), level=\"datetime\", drop_level=False)[1]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u591a\u91cd\u7d22\u5f15\u9650\u5236\u65f6\u95f4\u7d22\u5f15\u5c5e\u4e8e\u67d0\u4e00\u65f6\u95f4_1","title":"\u591a\u91cd\u200b\u7d22\u5f15\u200b\uff0c\u200b\u9650\u5236\u200b\u65f6\u95f4\u200b\u7d22\u5f15\u200b\u5c5e\u4e8e\u200b\u67d0\u4e00\u65f6\u95f4","text":"Python<pre><code>minute_data[\n(pd.Timestamp(\"2018-01-02\") &lt; minute_data.index.get_level_values(\"datetime\"))\n&amp; (minute_data.index.get_level_values(\"datetime\") &lt; pd.Timestamp(\"2018-01-03\"))\n]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6392\u5e8f","title":"\u6392\u5e8f","text":"","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u884c\u6309\u7167\u7d22\u5f15\u5b57\u6bcd\u8868\u91cd\u65b0\u6392\u5e8f","title":"\u5bf9\u884c\u200b\u6309\u7167\u200b\u7d22\u5f15\u200b\u5b57\u6bcd\u8868\u200b\u91cd\u65b0\u200b\u6392\u5e8f","text":"Python<pre><code>df.sort_index()\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u5217\u6309\u7167\u5217\u540d\u5b57\u6bcd\u8868\u91cd\u65b0\u6392\u5e8f","title":"\u5bf9\u5217\u200b\u6309\u7167\u200b\u5217\u540d\u200b\u5b57\u6bcd\u8868\u200b\u91cd\u65b0\u200b\u6392\u5e8f","text":"<p>\u200b\u53ea\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b<code>axix=1</code>\u200b\u5373\u53ef\u200b\u3002</p> Python<pre><code>df.sort_index(axis=1)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6307\u5b9a\u5217\u7684\u987a\u5e8f","title":"\u6307\u5b9a\u200b\u5217\u200b\u7684\u200b\u987a\u5e8f","text":"Python<pre><code># \u200b\u5047\u8bbe\u200b df \u200b\u662f\u200b\u4f60\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5217\u200b\u7684\u200b\u987a\u5e8f\u200b\u662f\u200b ['A', 'B', 'C']\ndf = pd.DataFrame({\"A\": [1, 2, 3], \"B\": [4, 5, 6], \"C\": [7, 8, 9]})\n# \u200b\u6539\u53d8\u200b\u5217\u200b\u7684\u200b\u987a\u5e8f\u200b\u4e3a\u200b ['C', 'A', 'B']\ndf = df.reindex(columns=[\"C\", \"A\", \"B\"])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u67d0\u4e9b\u5217\u6309\u7167\u503c\u7684\u987a\u5e8f\u6392\u5217","title":"\u5bf9\u200b\u67d0\u4e9b\u200b\u5217\u200b\u6309\u7167\u200b\u503c\u200b\u7684\u200b\u987a\u5e8f\u6392\u5217","text":"Python<pre><code>df.sort_values(\nby=[\"2022\", \"2021\", \"2020\"], ascending=False, na_position=\"last\", inplace=True\n)\n</code></pre> <ul> <li><code>by</code>\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u5bf9\u200b\u54ea\u4e9b\u200b\u5217\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u4f18\u5148\u200b\u6392\u200b<code>2022</code>\u200b\u5e74\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b<code>2022</code>\u200b\u5e74\u200b\u7684\u200b\u6570\u636e\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200b\u7ee7\u7eed\u200b\u6bd4\u8f83\u200b<code>2021</code>\u200b\u5e74\u200b\u7684\u200b\uff0c\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002</li> <li><code>ascending=False</code>\u200b\u4ee3\u8868\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\u3002</li> <li><code>na_position='last'</code>\u200b\u4ee3\u8868\u200b\u628a\u200b\u7a7a\u503c\u200b\u653e\u5230\u200b\u6700\u540e\u200b\u3002</li> <li><code>inplace=True</code>\u200b\u4ee3\u8868\u200b\u8986\u76d6\u200b\u539f\u59cb\u6570\u636e\u200b\u3002</li> </ul>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u67d0\u4e9b\u5217\u6309\u7167\u503c\u81ea\u5b9a\u4e49\u6392\u5e8f\u89c4\u5219","title":"\u5bf9\u200b\u67d0\u4e9b\u200b\u5217\u200b\u6309\u7167\u200b\u503c\u200b\u81ea\u5b9a\u4e49\u200b\u6392\u5e8f\u200b\u89c4\u5219","text":"<p>\u200b\u53c2\u8003\u200b\uff1a</p> <ul> <li> <p><code>sort_values</code> \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> </li> <li> <p>stackoverflow: pandas-how-to-custom-sort-on-multiple-columns</p> </li> </ul> Python<pre><code># \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b DataFrame\ndf = pd.DataFrame(\n{\n\"A\": [\"a\", \"b\", \"c\", \"a\", \"b\", \"c\", \"a\", \"b\", \"c\"],\n\"B\": [1, 2, 3, 4, 5, 6, 7, 8, 9],\n}\n)\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u6392\u5e8f\u200b\u89c4\u5219\u200b\nsort_order_dict = {\"c\": 1, \"a\": 2, \"b\": 3}\n# \u200b\u4f7f\u7528\u200b\u5b57\u5178\u200b\u6620\u5c04\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u6309\u7167\u200b\u6620\u5c04\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\ndf = df.sort_values(by=\"A\", key=lambda x: x.map(sort_order_dict))\nprint(df)\n</code></pre> Text Only<pre><code>   A  B\n2  c  3\n5  c  6\n8  c  9\n0  a  1\n3  a  4\n6  a  7\n1  b  2\n4  b  5\n7  b  8\n</code></pre> <p>\u200b\u6b63\u5982\u200b https://stackoverflow.com/a/74611538/ \u200b\u7684\u200b\u8bc4\u8bba\u200b\u533a\u200b\u6240\u8bf4\u200b\uff0c\u200b\u7528\u200b <code>sort_order_dict</code> \u200b\u5728\u200b\u5bf9\u200b\u591a\u5217\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u81ea\u5b9a\u4e49\u200b\u6392\u5e8f\u200b\u65f6\u200b\uff0c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u95ee\u9898\u200b\uff1a\u200b\u5982\u679c\u200b\u5728\u200b\u4e24\u4e2a\u200b\u5217\u4e2d\u200b\u90fd\u200b\u6709\u200b\u5171\u540c\u200b\u7684\u200b\u9879\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5e0c\u671b\u200b\u5b83\u4eec\u200b\u4ee5\u200b\u4e0d\u540c\u200b\u7684\u200b\u987a\u5e8f\u6392\u5217\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f60\u200b\u5c06\u200b\u65e0\u6cd5\u200b\u62e5\u6709\u200b\u91cd\u590d\u200b\u7684\u200b\u952e\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>numpy.lexsort</code>\uff1a</p> Python<pre><code>df = pd.DataFrame(\n{\n\"A\": [\"a\", \"b\", \"c\", \"a\", \"b\", \"c\", \"a\", \"b\", \"c\"],\n\"B\": [\"c\", \"c\", \"c\", \"d\", \"d\", \"d\", \"e\", \"e\", \"e\"],\n\"C\": [1, 2, 3, 4, 5, 6, 7, 8, 9],\n}\n)\nsort_order_dict_1 = {\"c\": 1, \"a\": 2, \"b\": 3}\nsort_order_dict_2 = {\"e\": 1, \"d\": 2, \"c\": 3}\norder = np.lexsort(\n[\ndf[\"B\"].map(sort_order_dict_2),\ndf[\"A\"].map(sort_order_dict_1),  # (1)\n]\n)\ndf.iloc[order]\n</code></pre> <ol> <li>\u200b\u9700\u8981\u200b\u9996\u5148\u200b\u6392\u5e8f\u200b\u7684\u200b\u5217\u200b\u5e94\u8be5\u200b\u653e\u5728\u200b\u540e\u9762\u200b\u3002\u200b\u8be6\u89c1\u200b <code>numpy.lexsort</code> \u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1aThe last key in the sequence is used for the primary sort order, the second-to-last key for the secondary sort order, and so on.</li> </ol> Text Only<pre><code>    A   B   C\n8   c   e   9\n5   c   d   6\n2   c   c   3\n6   a   e   7\n3   a   d   4\n0   a   c   1\n7   b   e   8\n4   b   d   5\n1   b   c   2\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u884c\u5217\u64cd\u4f5c","title":"\u884c\u5217\u200b\u64cd\u4f5c","text":"","tags":["Python"]},{"location":"code/pandas/#\u6570\u636e\u900f\u89c6\u8868\u957f\u578b\u6570\u636e\u4e0e\u5bbd\u578b\u6570\u636e\u7684\u8f6c\u6362","title":"\u6570\u636e\u200b\u900f\u89c6\u200b\u8868\u200b\uff08\u200b\u957f\u200b\u578b\u200b\u6570\u636e\u200b\u4e0e\u200b\u5bbd\u578b\u200b\u6570\u636e\u200b\u7684\u200b\u8f6c\u6362\u200b\uff09","text":"","tags":["Python"]},{"location":"code/pandas/#pdpivot","title":"<code>pd.pivot()</code>","text":"Python<pre><code>df.pivot(\nindex=\"\u200b\u9700\u8981\u200b\u4f5c\u4e3a\u200b index \u200b\u653e\u5230\u200b\u5de6\u8fb9\u200b\u7684\u200b\u5217\u540d\u200b\", columns=\"\u200b\u9700\u8981\u200b\u4f5c\u4e3a\u200b columns \u200b\u653e\u5230\u200b\u4e0a\u8fb9\u200b\u7684\u200b\u5217\u540d\u200b\", values=\"\u200b\u9700\u8981\u200b\u653e\u5728\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u7684\u200b\u5217\u540d\u200b\"\n)\n</code></pre> <p>\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b\u666e\u901a\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff08\u200b\u4e0d\u662f\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\uff09\uff1a</p> Python<pre><code>df = pd.DataFrame(\n{\n\"foo\": [\"one\", \"one\", \"two\", \"two\"],\n\"bar\": [\"A\", \"B\", \"A\", \"B\"],\n\"baz\": [1, 2, 3, 4],\n}\n)\n</code></pre> <p></p> <p>\u200b\u8f6c\u6362\u200b\u4e4b\u540e\u200b\u7684\u200b\u7ed3\u679c\u200b\uff1a</p> <p></p> <p>\u200b\u5982\u679c\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u5148\u200b reset_index()\uff0c\u200b\u5c06\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u666e\u901a\u200b\u7684\u200b\u5217\u200b\uff0c\u200b\u518d\u200b</p> Python<pre><code>df.reset_index().pivot(\nindex=\"\u200b\u9700\u8981\u200b\u4f5c\u4e3a\u200b index \u200b\u653e\u5230\u200b\u5de6\u8fb9\u200b\u7684\u200b\u5217\u540d\u200b\", columns=\"\u200b\u9700\u8981\u200b\u4f5c\u4e3a\u200b columns \u200b\u653e\u5230\u200b\u4e0a\u8fb9\u200b\u7684\u200b\u5217\u540d\u200b\", values=\"\u200b\u9700\u8981\u200b\u653e\u5728\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u7684\u200b\u5217\u540d\u200b\"\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#pdunstack","title":"<code>pd.unstack()</code>","text":"<p>\u200b\u5bf9\u4e8e\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\uff0c\u200b\u66f4\u200b\u7b80\u5355\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b<code>unstack()</code>\u3002</p> Python<pre><code>df[\"\u200b\u9700\u8981\u200b\u653e\u5728\u200b\u5355\u5143\u683c\u200b\u4e2d\u200b\u7684\u200b\u5217\u540d\u200b\"].unstack(\"\u200b\u9700\u8981\u200b\u4f5c\u4e3a\u200b columns \u200b\u653e\u5230\u200b\u4e0a\u8fb9\u200b\u7684\u200b\u7d22\u5f15\u200b\u540d\u200b\")\n</code></pre> <p></p> <p></p> <p></p>","tags":["Python"]},{"location":"code/pandas/#pdmelt","title":"<code>pd.melt()</code>","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://pandas.pydata.org/docs/reference/api/pandas.melt.html</p> <p>\u200b\u539f\u59cb\u6570\u636e\u200b\uff1a\u200b\u6bcf\u200b\u884c\u4e3a\u200b\u4e00\u5929\u200b\uff0c\u200b\u6bcf\u200b\u5217\u4e3a\u200b\u4e00\u53ea\u200b\u80a1\u7968\u200b\u3002</p> <p></p> <p>\u200b\u5c06\u200b\u5bbd\u578b\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u957f\u578b\u200b\u6570\u636e\u200b\uff1a</p> Python<pre><code># \u200b\u5c06\u200b\u5bbd\u578b\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u957f\u578b\u200b\u6570\u636e\u200b\nindustry_data = pd.melt(\nindustry_data,\nid_vars=[\"Row\"],\nvalue_vars=industry_data.columns[1:],\nvar_name=\"stock_code\",\nvalue_name=\"industry_code\",\n)\n</code></pre> <p></p> <p>\u200b\u4e0e\u200b <code>pd.stack()</code> \u200b\u7684\u200b\u533a\u522b\u200b</p> <p>\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b\u7684\u200b <code>Row</code> \u200b\u662f\u200b\u4e00\u5217\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u7d22\u5f15\u200b\u3002\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u9009\u62e9\u200b <code>pd.melt()</code> \u200b\u66f4\u200b\u5408\u9002\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b <code>Row</code> \u200b\u662f\u200b\u7d22\u5f15\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u200b <code>pd.stack()</code> \u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u5e76\u4e14\u200b\uff0c<code>pd.stack()</code> \u200b\u5f97\u5230\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u5e8f\u5217\u200b\uff0c<code>pd.melt()</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5355\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u6bcf\u884c\u6570\u636e\u9664\u4ee5\u6bcf\u884c\u7684\u6807\u51c6\u5dee","title":"\u5c06\u200b\u6bcf\u884c\u200b\u6570\u636e\u200b\u9664\u4ee5\u200b\u6bcf\u884c\u200b\u7684\u200b\u6807\u51c6\u5dee","text":"Python<pre><code>df.div(df.std(axis=1), axis=0)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u4e00\u5217\u6570\u636e\u6807\u51c6\u5316\u5747\u503c\u4e3a-0\u65b9\u5dee\u4e3a-1","title":"\u5c06\u200b\u4e00\u5217\u200b\u6570\u636e\u200b\u6807\u51c6\u5316\u200b\uff08\u200b\u5747\u503c\u200b\u4e3a\u200b 0\uff0c\u200b\u65b9\u5dee\u200b\u4e3a\u200b 1\uff09","text":"Python<pre><code>df[\"\u200b\u5217\u540d\u200b\"].transform(lambda x: (x - x.mean()) / x.std())\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u67d0\u5217\u7edf\u8ba1\u9891\u6570","title":"\u5bf9\u200b\u67d0\u5217\u200b\u7edf\u8ba1\u200b\u9891\u6570","text":"Python<pre><code>df[\"column_name\"].value_counts()\n</code></pre> <p>\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b Series\uff0cindex \u200b\u662f\u200b df \u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\uff0cvalue \u200b\u662f\u200b\u8be5\u503c\u200b\u51fa\u73b0\u200b\u7684\u200b\u9891\u6570\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u5224\u65ad\u9762\u677f\u6570\u636e\u4e2d\u7684\u6bcf\u4e2a\u503c\u662f\u5426\u5c0f\u4e8e\u622a\u9762\u5747\u503c","title":"\u5224\u65ad\u200b\u9762\u677f\u200b\u6570\u636e\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u503c\u200b\u662f\u5426\u200b\u5c0f\u4e8e\u200b\u622a\u9762\u200b\u5747\u503c","text":"<p>\u200b\u4f7f\u7528\u200b<code>lt</code>(less than) \u200b\u51fd\u6570\u200b\uff1a</p> Text Only<pre><code>df.lt(df.mean(axis=1), axis=0)\n</code></pre> <p>\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u8fd8\u6709\u200b<code>gt</code>(greater than)\u3001<code>eq</code>(equal) \u200b\u7b49\u200b\uff1a</p> <p></p> <p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b\uff1ahttp://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.gt.html</p>","tags":["Python"]},{"location":"code/pandas/#\u57fa\u4e8e\u7c7b\u522b\u578b\u53d8\u91cf\u751f\u6210\u54d1\u53d8\u91cf","title":"\u57fa\u4e8e\u200b\u7c7b\u522b\u200b\u578b\u200b\u53d8\u91cf\u200b\u751f\u6210\u200b\u54d1\u200b\u53d8\u91cf","text":"Python<pre><code>inputs = pd.get_dummies(inputs, dummy_na=True)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u914d\u7f6e","title":"\u914d\u7f6e","text":"","tags":["Python"]},{"location":"code/pandas/#\u5f53\u5217\u592a\u591a\u65f6\u4e0d\u6362\u884c","title":"\u5f53\u5217\u200b\u592a\u591a\u65f6\u200b\u4e0d\u200b\u6362\u884c","text":"Python<pre><code>pd.set_option(\"expand_frame_repr\", False)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6700\u591a\u663e\u793a\u6570\u636e\u7684\u884c\u6570","title":"\u6700\u200b\u591a\u200b\u663e\u793a\u200b\u6570\u636e\u200b\u7684\u200b\u884c\u6570","text":"Python<pre><code>pd.set_option(\"display.max_rows\", 5000)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5728\u7ec8\u7aef\u6253\u5370\u6570\u636e\u6846\u65f6\u5bf9\u9f50","title":"\u5728\u200b\u7ec8\u7aef\u200b\u6253\u5370\u200b\u6570\u636e\u200b\u6846\u65f6\u200b\u5bf9\u9f50","text":"Python<pre><code>pd.set_option(\"display.unicode.ambiguous_as_wide\", True)\npd.set_option(\"display.unicode.east_asian_width\", True)\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u524d\u540e\u200b\u5bf9\u6bd4\u200b\uff1a</p> <p></p>","tags":["Python"]},{"location":"code/pandas/#\u5176\u4ed6","title":"\u5176\u4ed6","text":"","tags":["Python"]},{"location":"code/pandas/#\u5224\u65ad\u662f\u5426\u4e3a\u91cd\u590d\u503c","title":"\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u91cd\u590d\u200b\u503c","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>pandas.DataFrame.duplicated()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u5224\u65ad\u200b\u6bcf\u200b\u4e00\u884c\u200b\u662f\u5426\u200b\u4e0e\u200b\u524d\u9762\u200b\u7684\u200b\u884c\u200b\u91cd\u590d\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u76f8\u540c\u200b\u7684\u200b\u884c\u200b\u6807\u8bb0\u200b\u4e3a\u200b <code>True</code>\uff0c\u200b\u7136\u540e\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>pandas.DataFrame.drop_duplicates()</code> \u200b\u65b9\u6cd5\u200b\u6765\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u4fdd\u7559\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5047\u8bbe\u200b\u6570\u636e\u200b\u6846\u200b\u540d\u4e3a\u200b <code>df</code>\uff0c\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u91cd\u590d\u200b\u884c\u200b\u7684\u200b\u57fa\u51c6\u200b\u662f\u200b 3 \u200b\u5217\u200b\u6570\u636e\u200b\uff0c\u200b\u5206\u522b\u200b\u540d\u4e3a\u200b <code>col1</code>\u3001<code>col2</code> \u200b\u548c\u200b <code>col3</code>\uff1a</p> Python<pre><code># \u200b\u6839\u636e\u200b\u5217\u200b ['col1', 'col2', 'col3'] \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e0e\u200b\u524d\u9762\u200b\u884c\u200b\u91cd\u590d\u200b\nduplicated = df.duplicated(subset=[\"col1\", \"col2\", \"col3\"], keep=\"last\")\n# \u200b\u4fdd\u7559\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\uff0c\u200b\u5c06\u200b\u91cd\u590d\u200b\u7684\u200b\u884c\u200b\u5220\u9664\u200b\ndf = df[~duplicated].reset_index(drop=True)\n</code></pre> <p><code>duplicated</code> \u200b\u53d8\u91cf\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u200b\u7c7b\u578b\u200b\u7684\u200b Pandas Series\uff0c\u200b\u5f53\u884c\u200b <code>i</code> \u200b\u4e0e\u200b\u524d\u9762\u200b\u7684\u200b\u67d0\u884c\u200b\u5b8c\u5168\u200b\u91cd\u590d\u200b\u65f6\u200b\uff0c<code>duplicated[i]</code> \u200b\u4e3a\u200b <code>True</code>\u3002\u200b\u56e0\u4e3a\u200b\u8981\u200b\u4fdd\u7559\u200b\u6bcf\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4f7f\u7528\u200b\u53c2\u6570\u200b <code>keep='last'</code> \u200b\u8868\u793a\u200b\u4fdd\u7559\u200b\u6bcf\u7ec4\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u5728\u200b\u7b2c\u4e8c\u884c\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u9006\u200b\u8fd0\u7b97\u7b26\u200b ~\uff0c\u200b\u5c06\u200b\u91cd\u590d\u200b\u7684\u200b\u884c\u200b\u8fc7\u6ee4\u51fa\u6765\u200b\uff0c\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b <code>reset_index()</code> \u200b\u65b9\u6cd5\u200b\u66f4\u65b0\u200b\u884c\u200b\u7d22\u5f15\u200b\uff08\u200b\u5982\u679c\u200b\u9700\u8981\u200b\uff09\u3002</p> <p>\u200b\u6700\u540e\u200b\u66f4\u65b0\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u6846\u200b <code>df</code> \u200b\u5c06\u200b\u4e0d\u200b\u5305\u542b\u200b\u91cd\u590d\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4fdd\u7559\u200b\u4e86\u200b\u6bcf\u7ec4\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5220\u9664\u91cd\u590d\u503c","title":"\u5220\u9664\u200b\u91cd\u590d\u200b\u503c","text":"<p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u5148\u200b\u627e\u51fa\u200b\u91cd\u590d\u200b\u503c\u200b\u7684\u200b\u7d22\u5f15\u200b\uff0c\u200b\u518d\u7528\u200b<code>df[~duplicated]</code>\u200b\u5220\u53bb\u200b\u91cd\u590d\u200b\u503c\u200b\u3002</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u200b</p> Python<pre><code>df.drop_duplicates(\nsubset=[\"col1\", \"col2\", \"col3\"],\nkeep=\"last\",\ninplace=True,\n)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u8ba1\u7b97\u4e24\u5217\u6570\u636e\u7684\u76f8\u5173\u6027\u53ef\u4ee5\u6307\u5b9a\u8ba1\u7b97-spearman-\u79e9\u76f8\u5173\u7cfb\u6570","title":"\u8ba1\u7b97\u200b\u4e24\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u76f8\u5173\u6027\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u8ba1\u7b97\u200b spearman \u200b\u79e9\u200b\u76f8\u5173\u7cfb\u6570","text":"Python<pre><code>df.corr(method=\"spearman\").iloc[0, 1]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u751f\u6210\u76f8\u5173\u7cfb\u6570\u70ed\u529b\u56fe","title":"\u751f\u6210\u200b\u76f8\u5173\u7cfb\u6570\u200b\u70ed\u200b\u529b\u56fe","text":"Python<pre><code>import seaborn as sb\n# \u200b\u751f\u6210\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\ncorr = df.corr()\n# \u200b\u751f\u6210\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\uff0c\u200b\u5728\u200b\u540e\u9762\u200b\u53ef\u4ee5\u200b\u7528\u200b mask \u200b\u628a\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u7684\u200b\u76f8\u5173\u7cfb\u6570\u200b\u8986\u76d6\u4f4f\u200b\nmatrix = np.triu(corr)  # (1)!\n# \u200b\u8bbe\u7f6e\u200b\u56fe\u7247\u5927\u5c0f\u200b\nfig, ax = plt.subplots(figsize=(15, 10))\n# \u200b\u751f\u6210\u200b\u70ed\u200b\u529b\u56fe\u200b\u3002cmap \u200b\u662f\u200b\u989c\u8272\u200b\uff0cannot \u200b\u662f\u200b\u662f\u5426\u200b\u663e\u793a\u200b\u76f8\u5173\u7cfb\u6570\u200b\uff0cmask \u200b\u662f\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u77e9\u9635\u200b\nsb.heatmap(corr, cmap=\"Blues\", annot=True, mask=matrix)\n</code></pre> <ol> <li>\u200b\u82e5\u200b\u8981\u200b\u663e\u793a\u200b\u5404\u200b\u53d8\u91cf\u200b\u672c\u8eab\u200b\u7684\u200b\u65b9\u5dee\u200b\uff0c\u200b\u5373\u200b\u5305\u62ec\u200b\u5bf9\u89d2\u7ebf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>matrix = np.triu(cov, k=1)</code>\u3002\u200b\u53c2\u8003\u200b \u200b\u8fd9\u91cc\u200b\u7684\u200b\u6837\u5f0f\u200b\u3002</li> </ol>","tags":["Python"]},{"location":"code/pandas/#\u7ebf\u6027\u56de\u5f52\u4e2d\u7528\u4e00\u5143\u53d8\u91cf\u4f5c\u4e3a\u8f93\u5165","title":"\u7ebf\u6027\u200b\u56de\u5f52\u200b\u4e2d\u200b\u7528\u200b\u4e00\u5143\u200b\u53d8\u91cf\u200b\u4f5c\u4e3a\u200b\u8f93\u5165","text":"Python<pre><code>from sklearn.linear_model import LinearRegression\ndf = pd.DataFrame({\"x\": np.random.rand(100), \"y\": np.random.rand(100)})\nLinearRegression().fit(df[\"x\"], df[\"y\"])\n</code></pre> <p>\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff1a</p> <p></p> <p>\u200b\u8fd9\u4e2a\u200b\u5355\u4e00\u200b\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u62a5\u9519\u200b<code>Reshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.</code>\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u4e2d\u200b\u7684\u200b\u8f93\u5165\u200b x \u200b\u4e0d\u80fd\u200b\u662f\u200b\u4e00\u4e2a\u200b series\uff0c\u200b\u4f46\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b dataframe\u3002\u200b\u82e5\u200b\u6211\u4eec\u200b\u7684\u200b<code>x</code>\u200b\u53ea\u6709\u200b\u4e00\u5217\u200b\uff0c\u200b\u7528\u200b<code>df['x']</code>\u200b\u63d0\u53d6\u200b\u51fa\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e00\u4e2a\u200b<code>series</code>\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>df[['x']]</code>\u200b\u63d0\u53d6\u200b\u51fa\u200b<code>x</code>\u200b\u8fd9\u200b\u4e00\u5217\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b<code>dataframe</code>\u3002</p> <p>\u200b\u6b63\u786e\u200b\u7684\u200b\u505a\u6cd5\u200b\uff1a</p> Python<pre><code>LinearRegression().fit(df[[\"x\"]], df[[\"y\"]])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5c06\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u5217\u8868\u89e3\u6790\u6210\u5217\u8868","title":"\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u7684\u200b\u5217\u8868\u200b\u89e3\u6790\u200b\u6210\u200b\u5217\u8868","text":"Python<pre><code>import ast\nselected_stocks.apply(ast.literal_eval)\n</code></pre> <p>\u200b\u53c2\u8003\u200b https://stackoverflow.com/a/69117072/</p> <p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u6458\u81ea\u200b \u200b\u77e5\u4e4e\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u5bf9\u5168\u662f\u7a7a\u503c-nan-\u7684\u6570\u636e\u6c42\u548c\u9ed8\u8ba4\u7ed3\u679c\u4e3a-0\u82e5\u60f3\u5f97\u5230-nan-\u53ef\u4ee5\u6dfb\u52a0-min_count1","title":"\u5bf9\u200b\u5168\u662f\u200b\u7a7a\u503c\u200b NaN \u200b\u7684\u200b\u6570\u636e\u200b\u6c42\u548c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u7ed3\u679c\u200b\u4e3a\u200b 0\uff0c\u200b\u82e5\u200b\u60f3\u5f97\u5230\u200b NaN \u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b <code>min_count=1</code>","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/56982952/</p>","tags":["Python"]},{"location":"code/pandas/#\u590d\u6742\u67e5\u8be2","title":"\u590d\u6742\u200b\u67e5\u8be2","text":"<p>\u200b\u5b9e\u9645\u200b\u4e1a\u52a1\u200b\u9700\u6c42\u200b\u5f80\u5f80\u200b\u9700\u8981\u200b\u6309\u7167\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6761\u4ef6\u200b\u751a\u81f3\u200b\u590d\u6742\u200b\u7684\u200b\u7ec4\u5408\u200b\u6761\u4ef6\u200b\u6765\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\uff0c\u200b\u63a5\u4e0b\u6765\u200b\u4e3a\u200b\u5927\u5bb6\u200b\u4ecb\u7ecd\u200b\u5982\u4f55\u200b\u53d1\u6325\u200b Pandas \u200b\u6570\u636e\u200b\u7b5b\u9009\u200b\u7684\u200b\u65e0\u9650\u200b\u53ef\u80fd\u200b\uff0c\u200b\u968f\u5fc3\u6240\u6b32\u200b\u5730\u200b\u53d6\u7528\u200b\u6570\u636e\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u903b\u8f91\u8fd0\u7b97","title":"\u903b\u8f91\u8fd0\u7b97","text":"Python<pre><code># Q1 \u200b\u6210\u7ee9\u200b\u5927\u4e8e\u200b 36\ndf.Q1 &gt; 36\n# Q1 \u200b\u6210\u7ee9\u200b\u4e0d\u200b\u5c0f\u4e8e\u200b 60 \u200b\u5206\u200b\uff0c\u200b\u5e76\u4e14\u200b\u662f\u200b C \u200b\u7ec4\u6210\u5458\u200b\n~(df.Q1 &lt; 60) &amp; (df[\"team\"] == \"C\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u903b\u8f91\u7b5b\u9009\u6570\u636e","title":"\u903b\u8f91\u200b\u7b5b\u9009\u200b\u6570\u636e","text":"<p>\u200b\u5207\u7247\u200b\uff08[ ]\uff09\u3001.loc[ ] \u200b\u548c\u200b\u3002iloc[ ] \u200b\u5747\u200b\u652f\u6301\u200b\u4e0a\u6587\u200b\u6240\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u903b\u8f91\u200b\u8868\u8fbe\u5f0f\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5207\u7247\u200b\uff08[ ]\uff09\u200b\u7684\u200b\u903b\u8f91\u200b\u7b5b\u9009\u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code>df[df[\"Q1\"] == 8]  # Q1 \u200b\u7b49\u4e8e\u200b 8\ndf[~(df[\"Q1\"] == 8)]  # \u200b\u4e0d\u200b\u7b49\u4e8e\u200b 8\ndf[df.name == \"Ben\"]  # \u200b\u59d3\u540d\u200b\u4e3a\u200b Ben\ndf[df.Q1 &gt; df.Q2]\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b <code>.loc[ ]</code> \u200b\u793a\u4f8b\u200b\uff1a</p> Python<pre><code># \u200b\u8868\u8fbe\u5f0f\u200b\u4e0e\u200b\u5207\u7247\u200b\u4e00\u81f4\u200b\ndf.loc[df[\"Q1\"] &gt; 90, \"Q1\":]  # Q1 \u200b\u5927\u4e8e\u200b 90\uff0c\u200b\u53ea\u200b\u663e\u793a\u200b Q1\ndf.loc[(df.Q1 &gt; 80) &amp; (df.Q2 &lt; 15)]  # and \u200b\u5173\u7cfb\u200b\ndf.loc[(df.Q1 &gt; 90) | (df.Q2 &lt; 90)]  # or \u200b\u5173\u7cfb\u200b\ndf.loc[df[\"Q1\"] == 8]  # \u200b\u7b49\u4e8e\u200b 8\ndf.loc[df.Q1 == 8]  # \u200b\u7b49\u4e8e\u200b 8\ndf.loc[df[\"Q1\"] &gt; 90, \"Q1\":]  # Q1 \u200b\u5927\u4e8e\u200b 90\uff0c\u200b\u663e\u793a\u200b Q1 \u200b\u53ca\u5176\u200b\u540e\u200b\u6240\u6709\u200b\u5217\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u51fd\u6570\u7b5b\u9009","title":"\u51fd\u6570\u200b\u7b5b\u9009","text":"Python<pre><code># \u200b\u67e5\u8be2\u200b\u6700\u5927\u200b\u7d22\u5f15\u200b\u7684\u200b\u503c\u200b\ndf.Q1[lambdas : max(s.index)]  # \u200b\u503c\u4e3a\u200b 21\n# \u200b\u8ba1\u7b97\u200b\u6700\u5927\u503c\u200b\nmax(df.Q1.index)\n# 99\ndf.Q1[df.index == 99]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6bd4\u8f83\u51fd\u6570","title":"\u6bd4\u8f83\u200b\u51fd\u6570","text":"Python<pre><code># \u200b\u4ee5\u4e0b\u200b\u76f8\u5f53\u4e8e\u200b df[df.Q1 == 60]\ndf[df.Q1.eq(60)]\ndf.ne()  # \u200b\u4e0d\u200b\u7b49\u4e8e\u200b !=\ndf.le()  # \u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b &lt;=\ndf.lt()  # \u200b\u5c0f\u4e8e\u200b &lt;\ndf.ge()  # \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b &gt;=\ndf.gt()  # \u200b\u5927\u4e8e\u200b &gt;\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u67e5\u8be2-dfquery","title":"\u67e5\u8be2\u200b df.query()","text":"Python<pre><code>df.query(\"Q1 &gt; Q2 &gt; 90\")  # \u200b\u76f4\u63a5\u200b\u5199\u200b\u7c7b\u578b\u200b SQL where \u200b\u8bed\u53e5\u200b\n</code></pre> <p>\u200b\u8fd8\u200b\u652f\u6301\u200b\u4f7f\u7528\u200b@\u200b\u7b26\u200b\u5f15\u5165\u200b\u53d8\u91cf\u200b</p> Python<pre><code># \u200b\u652f\u6301\u200b\u4f20\u5165\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5982\u200b\u5927\u4e8e\u200b\u5e73\u5747\u5206\u200b 40 \u200b\u5206\u200b\u7684\u200b\na = df.Q1.mean()\ndf.query(\"Q1 &gt; @a+40\")\ndf.query(\"Q1 &gt; `Q2`+@a\")\n</code></pre> <p>\u200b\u82e5\u200b\u8981\u200b\u67e5\u8be2\u200b\u4e00\u4e2a\u200b\u591a\u91cd\u200b\u7d22\u5f15\u200b\u7684\u200b\u5217\u540d\u200b\uff0c\u200b\u9700\u8981\u200b\u7528\u200b <code>`</code> \u200b\u8fdb\u884c\u200b\u8f6c\u4e49\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> Python<pre><code>df.query(\"`('feature', 'a')` &gt; 0 &amp; `('feature', 'b')` &gt; 0\")\n</code></pre> <p>df.eval() \u200b\u4e0e\u200b df.query() \u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u8868\u8fbe\u5f0f\u200b\u7b5b\u9009\u200b\u3002</p> Python<pre><code># df.eval() \u200b\u7528\u6cd5\u200b\u4e0e\u200b df.query \u200b\u7c7b\u4f3c\u200b\ndf[df.eval(\"Q1 &gt; 90 &gt; Q3 &gt;10\")]\ndf[df.eval(\"Q1 &gt; `Q2`+@a\")]\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u7b5b\u9009-dffilter","title":"\u7b5b\u9009\u200b df.filter()","text":"Python<pre><code>df.filter(items=[\"Q1\", \"Q2\"])  # \u200b\u9009\u62e9\u200b\u4e24\u5217\u200b\ndf.filter(regex=\"Q\", axis=1)  # \u200b\u5217\u540d\u200b\u5305\u542b\u200b Q \u200b\u7684\u200b\u5217\u200b\ndf.filter(regex=\"e$\", axis=1)  # \u200b\u4ee5\u200b e \u200b\u7ed3\u5c3e\u200b\u7684\u200b\u5217\u200b\ndf.filter(regex=\"1$\", axis=0)  # \u200b\u6b63\u5219\u200b\uff0c\u200b\u7d22\u5f15\u200b\u540d\u4ee5\u200b 1 \u200b\u7ed3\u5c3e\u200b\ndf.filter(like=\"2\", axis=0)  # \u200b\u7d22\u5f15\u200b\u4e2d\u6709\u200b 2 \u200b\u7684\u200b\n# \u200b\u7d22\u5f15\u200b\u4e2d\u4ee5\u200b 2 \u200b\u5f00\u5934\u200b\u3001\u200b\u5217\u540d\u200b\u6709\u200b Q \u200b\u7684\u200b\ndf.filter(regex=\"^2\", axis=0).filter(like=\"Q\", axis=1)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6309\u6570\u636e\u7c7b\u578b\u67e5\u8be2","title":"\u6309\u200b\u6570\u636e\u7c7b\u578b\u200b\u67e5\u8be2","text":"Python<pre><code>df.select_dtypes(include=[\"float64\"])  # \u200b\u9009\u62e9\u200b float64 \u200b\u578b\u200b\u6570\u636e\u200b\ndf.select_dtypes(include=\"bool\")\ndf.select_dtypes(include=[\"number\"])  # \u200b\u53ea\u53d6\u200b\u6570\u5b57\u578b\u200b\ndf.select_dtypes(exclude=[\"int\"])  # \u200b\u6392\u9664\u200b int \u200b\u7c7b\u578b\u200b\ndf.select_dtypes(exclude=[\"datetime64\"])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6570\u636e\u7c7b\u578b\u8f6c\u6362","title":"\u6570\u636e\u200b\u7c7b\u578b\u8f6c\u6362","text":"<p>\u200b\u5728\u200b\u5f00\u59cb\u200b\u6570\u636e\u5206\u6790\u200b\u524d\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4e3a\u200b\u6570\u636e\u200b\u5206\u914d\u200b\u597d\u200b\u5408\u9002\u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8fd9\u6837\u200b\u624d\u200b\u80fd\u591f\u200b\u9ad8\u6548\u200b\u5730\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u3002\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u9002\u7528\u200b\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5904\u7406\u200b\u65b9\u6cd5\u200b\u3002</p> Python<pre><code># \u200b\u5bf9\u200b\u6240\u6709\u200b\u5b57\u200b\u6bb5\u200b\u6307\u5b9a\u200b\u7edf\u4e00\u200b\u7c7b\u578b\u200b\ndf = pd.DataFrame(data, dtype=\"float32\")\n# \u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u5206\u522b\u200b\u6307\u5b9a\u200b\ndf = pd.read_excel(data, dtype={\"team\": \"string\", \"Q1\": \"int32\"})\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63a8\u65ad\u7c7b\u578b","title":"\u63a8\u65ad\u200b\u7c7b\u578b","text":"Python<pre><code># \u200b\u81ea\u52a8\u200b\u8f6c\u6362\u200b\u5408\u9002\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\ndf.infer_objects()  # \u200b\u63a8\u65ad\u200b\u540e\u200b\u7684\u200b DataFrame\ndf.infer_objects().dtypes\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6307\u5b9a\u7c7b\u578b","title":"\u6307\u5b9a\u200b\u7c7b\u578b","text":"Python<pre><code># \u200b\u6309\u200b\u5927\u4f53\u200b\u7c7b\u578b\u200b\u63a8\u5b9a\u200b\nm = [\"1\", 2, 3]\ns = pd.to_numeric(s)  # \u200b\u8f6c\u200b\u6210\u200b\u6570\u5b57\u200b\npd.to_datetime(m)  # \u200b\u8f6c\u200b\u6210\u200b\u65f6\u95f4\u200b\npd.to_timedelta(m)  # \u200b\u8f6c\u200b\u6210\u200b\u65f6\u95f4\u5dee\u200b\npd.to_datetime(m, errors=\"coerce\")  # \u200b\u9519\u8bef\u5904\u7406\u200b\npd.to_numeric(m, errors=\"ignore\")\npd.to_numeric(m, errors=\"coerce\").fillna(0)  # \u200b\u515c\u5e95\u200b\u586b\u5145\u200b\npd.to_datetime(df[[\"year\", \"month\", \"day\"]])\n# \u200b\u7ec4\u5408\u6210\u200b\u65e5\u671f\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u7c7b\u578b\u8f6c\u6362-astype","title":"\u7c7b\u578b\u8f6c\u6362\u200b astype()","text":"Python<pre><code>df.Q1.astype(\"int32\").dtypes\n# dtype('int32')\ndf.astype({\"Q1\": \"int32\", \"Q2\": \"int32\"}).dtypes\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u8f6c\u4e3a\u65f6\u95f4\u7c7b\u578b","title":"\u8f6c\u4e3a\u200b\u65f6\u95f4\u200b\u7c7b\u578b","text":"Python<pre><code>t = pd.Series([\"20200801\", \"20200802\"])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6570\u636e\u6392\u5e8f","title":"\u6570\u636e\u200b\u6392\u5e8f","text":"<p>\u200b\u6570\u636e\u200b\u6392\u5e8f\u200b\u662f\u200b\u6307\u200b\u6309\u200b\u4e00\u5b9a\u200b\u7684\u200b\u987a\u5e8f\u200b\u5c06\u200b\u6570\u636e\u200b\u91cd\u65b0\u6392\u5217\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u4f7f\u7528\u8005\u200b\u53d1\u73b0\u200b\u6570\u636e\u200b\u7684\u200b\u53d8\u5316\u8d8b\u52bf\u200b\uff0c\u200b\u540c\u65f6\u200b\u63d0\u4f9b\u200b\u4e00\u5b9a\u200b\u7684\u200b\u4e1a\u52a1\u200b\u7ebf\u7d22\u200b\uff0c\u200b\u8fd8\u200b\u5177\u6709\u200b\u5bf9\u200b\u6570\u636e\u200b\u7ea0\u9519\u200b\u3001\u200b\u5206\u7c7b\u200b\u7b49\u200b\u4f5c\u7528\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u7d22\u5f15\u6392\u5e8f-dfsort_index","title":"\u7d22\u5f15\u200b\u6392\u5e8f\u200b df.sort_index()","text":"Python<pre><code>s.sort_index()  # \u200b\u5347\u5e8f\u200b\u6392\u5217\u200b\ndf.sort_index()  # df \u200b\u4e5f\u200b\u662f\u200b\u6309\u200b\u7d22\u5f15\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\ndf.team.sort_index(ascending=False)  # \u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\ns.sort_index(inplace=True)  # \u200b\u6392\u5e8f\u200b\u540e\u200b\u751f\u6548\u200b\uff0c\u200b\u6539\u53d8\u200b\u539f\u200b\u6570\u636e\u200b\n# \u200b\u7d22\u5f15\u200b\u91cd\u65b0\u200b 0-(n-1) \u200b\u6392\u200b\uff0c\u200b\u5f88\u200b\u6709\u7528\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u5b83\u200b\u7684\u200b\u6392\u5e8f\u200b\u53f7\u200b\ns.sort_index(ignore_index=True)\ns.sort_index(na_position=\"first\")  # \u200b\u7a7a\u503c\u200b\u5728\u200b\u524d\u200b\uff0c\u200b\u53e6\u200b'last'\u200b\u8868\u793a\u200b\u7a7a\u503c\u200b\u5728\u200b\u540e\u200b\ns.sort_index(level=1)  # \u200b\u5982\u679c\u200b\u591a\u5c42\u200b\uff0c\u200b\u6392\u200b\u4e00\u7ea7\u200b\ns.sort_index(level=1, sort_remaining=False)  # \u200b\u8fd9\u5c42\u200b\u4e0d\u6392\u200b\n# \u200b\u884c\u200b\u7d22\u5f15\u200b\u6392\u5e8f\u200b\uff0c\u200b\u8868\u5934\u200b\u6392\u5e8f\u200b\ndf.sort_index(axis=1)  # \u200b\u4f1a\u200b\u628a\u200b\u5217\u200b\u6309\u200b\u5217\u540d\u200b\u987a\u5e8f\u6392\u5217\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6570\u503c\u6392\u5e8f-sort_values","title":"\u6570\u503c\u200b\u6392\u5e8f\u200b sort_values()","text":"Python<pre><code>df.Q1.sort_values()\ndf.sort_values(\"Q4\")\ndf.sort_values(by=[\"team\", \"name\"], ascending=[True, False])\n</code></pre> <p>\u200b\u5176\u4ed6\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>s.sort_values(ascending=False)  # \u200b\u964d\u5e8f\u200b\ns.sort_values(inplace=True)  # \u200b\u4fee\u6539\u200b\u751f\u6548\u200b\ns.sort_values(na_position=\"first\")  # \u200b\u7a7a\u503c\u200b\u5728\u200b\u524d\u200b\n# df \u200b\u6309\u200b\u6307\u5b9a\u200b\u5b57\u200b\u6bb5\u200b\u6392\u5217\u200b\ndf.sort_values(by=[\"team\"])\ndf.sort_values(\"Q1\")\n# \u200b\u6309\u200b\u591a\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5148\u6392\u200b team\uff0c\u200b\u5728\u200b\u540c\u200b team \u200b\u5185\u200b\u518d\u200b\u770b\u200b Q1\ndf.sort_values(by=[\"team\", \"Q1\"])\n# \u200b\u5168\u200b\u964d\u5e8f\u200b\ndf.sort_values(by=[\"team\", \"Q1\"], ascending=False)\n# \u200b\u5bf9\u5e94\u200b\u6307\u5b9a\u200b team \u200b\u5347\u200b Q1 \u200b\u964d\u200b\ndf.sort_values(by=[\"team\", \"Q1\"], ascending=[True, False])\n# \u200b\u7d22\u5f15\u200b\u91cd\u65b0\u200b 0-(n-1) \u200b\u6392\u200b\ndf.sort_values(\"team\", ignore_index=True)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6df7\u5408\u6392\u5e8f","title":"\u6df7\u5408\u200b\u6392\u5e8f","text":"Python<pre><code>df.set_index(\"name\", inplace=True)  # \u200b\u8bbe\u7f6e\u200b name \u200b\u4e3a\u200b\u7d22\u5f15\u200b\ndf.index.names = [\"s_name\"]  # \u200b\u7ed9\u7d22\u200b\u5f15\u8d77\u200b\u540d\u200b\ndf.sort_values(by=[\"s_name\", \"team\"])  # \u200b\u6392\u5e8f\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6309\u503c\u5927\u5c0f\u6392\u5e8f-nsmallest-\u548c-nlargest","title":"\u6309\u503c\u200b\u5927\u5c0f\u200b\u6392\u5e8f\u200b nsmallest() \u200b\u548c\u200b nlargest()","text":"Python<pre><code>s.nsmallest(3)  # \u200b\u6700\u5c0f\u200b\u7684\u200b 3 \u200b\u4e2a\u200b\ns.nlargest(3)  # \u200b\u6700\u5927\u200b\u7684\u200b 3 \u200b\u4e2a\u200b\n# \u200b\u6307\u5b9a\u200b\u5217\u200b\ndf.nlargest(3, \"Q1\")\ndf.nlargest(5, [\"Q1\", \"Q2\"])\ndf.nsmallest(5, [\"Q1\", \"Q2\"])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6dfb\u52a0\u4fee\u6539","title":"\u6dfb\u52a0\u200b\u4fee\u6539","text":"<p>\u200b\u6570\u636e\u200b\u7684\u200b\u4fee\u6539\u200b\u3001\u200b\u589e\u52a0\u200b\u548c\u200b\u5220\u9664\u200b\u5728\u200b\u6570\u636e\u200b\u6574\u7406\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u65f6\u5e38\u200b\u53d1\u751f\u200b\u3002\u200b\u4fee\u6539\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e00\u822c\u200b\u662f\u200b\u4fee\u6539\u200b\u9519\u8bef\u200b\u3001\u200b\u683c\u5f0f\u200b\u8f6c\u6362\u200b\uff0c\u200b\u6570\u636e\u200b\u7684\u200b\u7c7b\u578b\u200b\u4fee\u6539\u200b\u7b49\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539\u6570\u503c","title":"\u4fee\u6539\u200b\u6570\u503c","text":"Python<pre><code>df.iloc[0, 0]  # \u200b\u67e5\u8be2\u200b\u503c\u200b\n# 'Liver'\ndf.iloc[0, 0] = \"Lily\"  # \u200b\u4fee\u6539\u200b\u503c\u200b\ndf.iloc[0, 0]  # \u200b\u67e5\u770b\u200b\u7ed3\u679c\u200b\n# 'Lily'\n# \u200b\u5c06\u200b\u5c0f\u4e8e\u200b 60 \u200b\u5206\u200b\u7684\u200b\u6210\u7ee9\u200b\u4fee\u6539\u200b\u4e3a\u200b 60\ndf[df.Q1 &lt; 60] = 60\n# \u200b\u67e5\u770b\u200b\ndf.Q1\n# \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 100 \u200b\u7684\u200b\u5217\u8868\u200b\nv = [1, 3, 5, 7, 9] * 20\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u66ff\u6362\u6570\u636e","title":"\u66ff\u6362\u200b\u6570\u636e","text":"Python<pre><code>s.replace(0, 5)  # \u200b\u5c06\u5217\u200b\u6570\u636e\u200b\u4e2d\u200b\u7684\u200b 0 \u200b\u6362\u200b\u4e3a\u200b 5\ndf.replace(0, 5)  # \u200b\u5c06\u200b\u6570\u636e\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b 0 \u200b\u6362\u200b\u4e3a\u200b 5\ndf.replace([0, 1, 2, 3], 4)  # \u200b\u5c06\u200b 0\uff5e3 \u200b\u5168\u200b\u6362\u6210\u200b 4\ndf.replace([0, 1, 2, 3], [4, 3, 2, 1])  # \u200b\u5bf9\u5e94\u200b\u4fee\u6539\u200b\ns.replace([1, 2], method=\"bfill\")  # \u200b\u5411\u4e0b\u200b\u586b\u5145\u200b\ndf.replace({0: 10, 1: 100})  # \u200b\u5b57\u5178\u200b\u5bf9\u5e94\u200b\u4fee\u6539\u200b\ndf.replace({\"Q1\": 0, \"Q2\": 5}, 100)  # \u200b\u5c06\u200b\u6307\u5b9a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u6307\u5b9a\u200b\u503c\u200b\u4fee\u6539\u200b\u4e3a\u200b 100\ndf.replace({\"Q1\": {0: 100, 4: 400}})  # \u200b\u5c06\u200b\u6307\u5b9a\u200b\u5217\u91cc\u200b\u7684\u200b\u6307\u5b9a\u200b\u503c\u200b\u66ff\u6362\u200b\u4e3a\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6307\u5b9a\u200b\u7684\u200b\u503c\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u586b\u5145\u7a7a\u503c","title":"\u586b\u5145\u200b\u7a7a\u503c","text":"Python<pre><code>df.fillna(0)  # \u200b\u5c06\u200b\u7a7a\u503c\u200b\u5168\u200b\u4fee\u6539\u200b\u4e3a\u200b 0\n# {'backfill', 'bfill', 'pad', 'ffill',None}, \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b None\ndf.fillna(method=\"ffill\")  # \u200b\u5c06\u200b\u7a7a\u503c\u200b\u90fd\u200b\u4fee\u6539\u200b\u4e3a\u200b\u5176\u524d\u200b\u4e00\u4e2a\u200b\u503c\u200b\nvalues = {\"A\": 0, \"B\": 1, \"C\": 2, \"D\": 3}\ndf.fillna(value=values)  # \u200b\u4e3a\u200b\u5404\u5217\u200b\u586b\u5145\u200b\u4e0d\u540c\u200b\u7684\u200b\u503c\u200b\ndf.fillna(value=values, limit=1)  # \u200b\u53ea\u200b\u66ff\u6362\u200b\u7b2c\u4e00\u4e2a\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u4fee\u6539\u7d22\u5f15\u540d","title":"\u4fee\u6539\u200b\u7d22\u5f15\u200b\u540d","text":"Python<pre><code>df.rename(columns={\"team\": \"class\"})\n</code></pre> <p>\u200b\u5e38\u7528\u200b\u65b9\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> Python<pre><code>df.rename(columns={\"Q1\": \"a\", \"Q2\": \"b\"})  # \u200b\u5bf9\u200b\u8868\u5934\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\ndf.rename(index={0: \"x\", 1: \"y\", 2: \"z\"})  # \u200b\u5bf9\u200b\u7d22\u5f15\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\ndf.rename(index=str)  # \u200b\u5bf9\u200b\u7c7b\u578b\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\ndf.rename(str.lower, axis=\"columns\")  # \u200b\u4f20\u200b\u7d22\u5f15\u200b\u7c7b\u578b\u200b\ndf.rename({1: 2, 2: 4}, axis=\"index\")\n# \u200b\u5bf9\u200b\u7d22\u5f15\u200b\u540d\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\ns.rename_axis(\"animal\")\ndf.rename_axis(\"animal\")  # \u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5217\u200b\u7d22\u5f15\u200b\ndf.rename_axis(\"limbs\", axis=\"columns\")  # \u200b\u6307\u5b9a\u200b\u884c\u200b\u7d22\u5f15\u200b\n# \u200b\u7d22\u5f15\u200b\u4e3a\u200b\u591a\u5c42\u200b\u7d22\u5f15\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u5c06\u200b type \u200b\u4fee\u6539\u200b\u4e3a\u200b class\ndf.rename_axis(index={\"type\": \"class\"})\n# \u200b\u53ef\u4ee5\u200b\u7528\u200b set_axis \u200b\u8fdb\u884c\u200b\u8bbe\u7f6e\u200b\u4fee\u6539\u200b\ns.set_axis([\"a\", \"b\", \"c\"], axis=0)\ndf.set_axis([\"I\", \"II\"], axis=\"columns\")\ndf.set_axis([\"i\", \"ii\"], axis=\"columns\", inplace=True)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u589e\u52a0\u5217","title":"\u589e\u52a0\u200b\u5217","text":"Python<pre><code>df[\"foo\"] = 100  # \u200b\u589e\u52a0\u200b\u4e00\u5217\u200b foo\uff0c\u200b\u6240\u6709\u200b\u503c\u200b\u90fd\u200b\u662f\u200b 100\ndf[\"foo\"] = df.Q1 + df.Q2  # \u200b\u65b0\u200b\u5217\u4e3a\u200b\u4e24\u5217\u200b\u76f8\u52a0\u200b\ndf[\"foo\"] = df[\"Q1\"] + df[\"Q2\"]  # \u200b\u540c\u200b\u4e0a\u200b\n# \u200b\u628a\u200b\u6240\u6709\u200b\u4e3a\u200b\u6570\u5b57\u200b\u7684\u200b\u503c\u52a0\u200b\u8d77\u6765\u200b\ndf[\"total\"] = df.select_dtypes(include=[\"int\"]).sum(1)\ndf.loc[:, \"Q1\":\"Q4\"].apply(lambda x: sum(x), axis=\"columns\")\ndf.loc[:, \"Q10\"] = \"\u200b\u6211\u200b\u662f\u200b\u65b0\u6765\u200b\u7684\u200b\"  # \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\n# \u200b\u589e\u52a0\u200b\u4e00\u5217\u200b\u5e76\u200b\u8d4b\u503c\u200b\uff0c\u200b\u4e0d\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b\u4e3a\u200b NaN\ndf.loc[df.num &gt;= 60, \"\u200b\u6210\u7ee9\u200b\"] = \"\u200b\u5408\u683c\u200b\"\ndf.loc[df.num &lt; 60, \"\u200b\u6210\u7ee9\u200b\"] = \"\u200b\u4e0d\u200b\u5408\u683c\u200b\"\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u63d2\u5165\u5217-dfinsert","title":"\u63d2\u5165\u200b\u5217\u200b df.insert()","text":"Python<pre><code># \u200b\u5728\u200b\u7b2c\u4e09\u5217\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4e0a\u200b\u63d2\u5165\u200b\u65b0\u5217\u200b total \u200b\u5217\u200b\uff0c\u200b\u503c\u4e3a\u200b\u6bcf\u884c\u200b\u7684\u200b\u603b\u6210\u7ee9\u200b\ndf.insert(2, \"total\", df.sum(1))\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6307\u5b9a\u5217-dfassign","title":"\u6307\u5b9a\u200b\u5217\u200b df.assign()","text":"Python<pre><code># \u200b\u589e\u52a0\u200b total \u200b\u5217\u200b\ndf.assign(total=df.sum(1))\n# \u200b\u589e\u52a0\u200b\u4e24\u5217\u200b\ndf.assign(total=df.sum(1), Q=100)\ndf.assign(total=df.sum(1)).assign(Q=100)\n\u200b\u5176\u4ed6\u200b\u4f7f\u7528\u200b\u793a\u4f8b\u200b\uff1a\ndf.assign(Q5=[100] * 100)  # \u200b\u65b0\u200b\u589e\u52a0\u200b\u4e00\u5217\u200b Q5\ndf = df.assign(Q5=[100] * 100)  # \u200b\u8d4b\u503c\u200b\u751f\u6548\u200b\ndf.assign(Q6=df.Q2 / df.Q1)  # \u200b\u8ba1\u7b97\u200b\u5e76\u200b\u589e\u52a0\u200b Q6\ndf.assign(Q7=lambda d: d.Q1 * 9 / 5 + 32)  # \u200b\u4f7f\u7528\u200b lambda# \u200b\u6dfb\u52a0\u200b\u4e00\u5217\u200b\uff0c\u200b\u503c\u4e3a\u200b\u8868\u8fbe\u5f0f\u200b\u7ed3\u679c\u200b\uff1aTrue \u200b\u6216\u200b False\ndf.assign(tag=df.Q1 &gt; df.Q2)\n# \u200b\u6bd4\u8f83\u200b\u8ba1\u7b97\u200b\uff0cTrue \u200b\u4e3a\u200b 1\uff0cFalse \u200b\u4e3a\u200b 0\ndf.assign(tag=(df.Q1 &gt; df.Q2).astype(int))\n# \u200b\u6620\u5c04\u200b\u6587\u6848\u200b\ndf.assign(tag=(df.Q1 &gt; 60).map({True: \"\u200b\u53ca\u683c\u200b\", False: \"\u200b\u4e0d\u53ca\u683c\u200b\"}))\n# \u200b\u589e\u52a0\u200b\u591a\u4e2a\u200b\ndf.assign(Q8=lambda d: d.Q1 * 5, Q9=lambda d: d.Q8 + 1)  # Q8 \u200b\u6ca1\u6709\u200b\u751f\u6548\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u7528\u200b df.Q8\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6267\u884c\u8868\u8fbe\u5f0f-dfeval","title":"\u6267\u884c\u200b\u8868\u8fbe\u5f0f\u200b df.eval()","text":"Python<pre><code># \u200b\u4f20\u5165\u200b\u6c42\u200b\u603b\u5206\u200b\u8868\u8fbe\u5f0f\u200b\ndf.eval(\"total = Q1+Q3+Q3+Q4\")\n</code></pre> <p>\u200b\u5176\u4ed6\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>df[\"C1\"] = df.eval(\"Q2 + Q3\")\ndf.eval(\"C2 = Q2 + Q3\")  # \u200b\u8ba1\u7b97\u200b\na = df.Q1.mean()\ndf.eval(\"C3 = Q2 &gt; (`Q3`+@a)\")  # \u200b\u52a0\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u503c\u200b\ndf.eval(\"C4 = name + team\", inplace=True)  # \u200b\u7acb\u5373\u200b\u751f\u6548\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u589e\u52a0\u884c","title":"\u589e\u52a0\u200b\u884c","text":"Python<pre><code># \u200b\u65b0\u589e\u200b\u7d22\u5f15\u200b\u4e3a\u200b 100 \u200b\u7684\u200b\u6570\u636e\u200b\ndf.loc[100] = [\"tom\", \"A\", 88, 88, 88, 88]\n</code></pre> <p>\u200b\u5176\u4ed6\u200b\u65b9\u6cd5\u200b\uff1a</p> Python<pre><code>df.loc[101] = {\"Q1\": 88, \"Q2\": 99}  # \u200b\u6307\u5b9a\u200b\u5217\u200b\uff0c\u200b\u65e0\u200b\u6570\u636e\u200b\u5217\u503c\u200b\u4e3a\u200b NaN\ndf.loc[df.shape[0] + 1] = {\"Q1\": 88, \"Q2\": 99}  # \u200b\u81ea\u52a8\u200b\u589e\u52a0\u200b\u7d22\u5f15\u200b\ndf.loc[len(df) + 1] = {\"Q1\": 88, \"Q2\": 99}\n# \u200b\u6279\u91cf\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8fed\u4ee3\u200b\nrows = [[1, 2], [3, 4], [5, 6]]\nfor row in rows:\ndf.loc[len(df)] = row\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u8ffd\u52a0\u5408\u5e76","title":"\u8ffd\u52a0\u200b\u5408\u5e76","text":"Python<pre><code>df = pd.DataFrame([[1, 2], [3, 4]], columns=list(\"AB\"))\ndf2 = pd.DataFrame([[5, 6], [7, 8]], columns=list(\"AB\"))\ndf.append(df2)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5220\u9664","title":"\u5220\u9664","text":"Python<pre><code># \u200b\u5220\u9664\u200b\u7d22\u5f15\u200b\u4e3a\u200b 3 \u200b\u7684\u200b\u6570\u636e\u200b\ns.pop(3)\n# 93s\ns\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u5220\u9664\u7a7a\u503c","title":"\u5220\u9664\u200b\u7a7a\u503c","text":"Python<pre><code>df.dropna()  # \u200b\u4e00\u884c\u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b\u7f3a\u5931\u200b\u503c\u200b\u5c31\u200b\u5220\u9664\u200b\ndf.dropna(axis=\"columns\")  # \u200b\u53ea\u200b\u4fdd\u7559\u200b\u5168\u6709\u503c\u200b\u7684\u200b\u5217\u200b\ndf.dropna(how=\"all\")  # \u200b\u884c\u200b\u6216\u200b\u5217\u5168\u200b\u6ca1\u503c\u200b\u624d\u200b\u5220\u9664\u200b\ndf.dropna(thresh=2)  # \u200b\u81f3\u5c11\u200b\u6709\u200b\u4e24\u4e2a\u200b\u7a7a\u503c\u200b\u65f6\u624d\u200b\u5220\u9664\u200b\ndf.dropna(inplace=True)  # \u200b\u5220\u9664\u200b\u5e76\u200b\u4f7f\u200b\u66ff\u6362\u200b\u751f\u6548\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u9ad8\u7ea7\u8fc7\u6ee4","title":"\u9ad8\u7ea7\u200b\u8fc7\u6ee4","text":"<p>\u200b\u4ecb\u7ecd\u200b\u51e0\u4e2a\u200b\u975e\u5e38\u200b\u597d\u7528\u200b\u7684\u200b\u590d\u6742\u200b\u6570\u636e\u5904\u7406\u200b\u7684\u200b\u6570\u636e\u200b\u8fc7\u6ee4\u200b\u8f93\u51fa\u200b\u65b9\u6cd5\u200b\u3002</p>","tags":["Python"]},{"location":"code/pandas/#dfwhere","title":"df.where()","text":"Python<pre><code># \u200b\u6570\u503c\u200b\u5927\u4e8e\u200b 70\ndf.where(df &gt; 70)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#npwhere","title":"np.where()","text":"Python<pre><code># \u200b\u5c0f\u4e8e\u200b 60 \u200b\u5206\u4e3a\u200b\u4e0d\u53ca\u683c\u200b\nnp.where(df &gt;= 60, \"\u200b\u5408\u683c\u200b\", \"\u200b\u4e0d\u200b\u5408\u683c\u200b\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#dfmask","title":"df.mask()","text":"Python<pre><code># \u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u4e3a\u200b NaN\ndf.mask(s &gt; 80)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#dflookup","title":"df.lookup()","text":"Python<pre><code># \u200b\u884c\u5217\u200b\u76f8\u540c\u200b\u6570\u91cf\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b array\ndf.lookup([1, 3, 4], [\"Q1\", \"Q2\", \"Q3\"])  # array([36, 96, 61])\ndf.lookup([1], [\"Q1\"])  # array([36])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6570\u636e\u8fed\u4ee3","title":"\u6570\u636e\u200b\u8fed\u4ee3","text":"","tags":["Python"]},{"location":"code/pandas/#\u8fed\u4ee3-series","title":"\u8fed\u4ee3\u200b Series","text":"Python<pre><code># \u200b\u8fed\u4ee3\u200b\u6307\u5b9a\u200b\u7684\u200b\u5217\u200b\nfor i in df.name:\nprint(i)\n# \u200b\u8fed\u4ee3\u200b\u7d22\u5f15\u200b\u548c\u200b\u6307\u5b9a\u200b\u7684\u200b\u4e24\u5217\u200b\nfor i, n, q in zip(df.index, df.name, df.Q1):\nprint(i, n, q)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#dfiterrows","title":"df.iterrows()","text":"Python<pre><code># \u200b\u8fed\u4ee3\u200b\uff0c\u200b\u4f7f\u7528\u200b name\u3001Q1 \u200b\u6570\u636e\u200b\nfor index, row in df.iterrows():\nprint(index, row[\"name\"], row.Q1)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#dfitertuples","title":"df.itertuples()","text":"Python<pre><code>for row in df.itertuples():\nprint(row)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#dfitems","title":"df.items()","text":"Python<pre><code># Series \u200b\u53d6\u524d\u200b\u4e09\u4e2a\u200b\nfor label, ser in df.items():\nprint(label)\nprint(ser[:3], end=\"\\n\\n\")\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u6309\u5217\u8fed\u4ee3","title":"\u6309\u5217\u200b\u8fed\u4ee3","text":"Python<pre><code># \u200b\u76f4\u63a5\u200b\u5bf9\u200b DataFrame \u200b\u8fed\u4ee3\u200b\nfor column in df:\nprint(column)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#\u51fd\u6570\u5e94\u7528","title":"\u51fd\u6570\u200b\u5e94\u7528","text":"","tags":["Python"]},{"location":"code/pandas/#pipe","title":"pipe()","text":"<p>\u200b\u5e94\u7528\u200b\u5728\u200b\u6574\u4e2a\u200b DataFrame \u200b\u6216\u200b Series \u200b\u4e0a\u200b\u3002</p> Python<pre><code># \u200b\u5bf9\u200b df \u200b\u591a\u91cd\u200b\u5e94\u7528\u200b\u591a\u4e2a\u200b\u51fd\u6570\u200b\nf(g(h(df), arg1=a), arg2=b, arg3=c)\n# \u200b\u7528\u200b pipe \u200b\u53ef\u4ee5\u200b\u628a\u200b\u5b83\u4eec\u200b\u8fde\u63a5\u8d77\u6765\u200b\n(df.pipe(h).pipe(g, arg1=a).pipe(f, arg2=b, arg3=c))\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#apply_1","title":"apply()","text":"<p>\u200b\u5e94\u7528\u200b\u5728\u200b DataFrame \u200b\u7684\u200b\u884c\u200b\u6216\u200b\u5217\u4e2d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u5217\u200b\u3002</p> Python<pre><code># \u200b\u5c06\u200b name \u200b\u5168\u90e8\u200b\u53d8\u4e3a\u200b\u5c0f\u5199\u200b\ndf.name.apply(lambda x: x.lower())\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#applymap","title":"applymap()","text":"<p>\u200b\u5e94\u7528\u200b\u5728\u200b DataFrame \u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u4e2d\u200b\u3002</p> Python<pre><code># \u200b\u8ba1\u7b97\u200b\u6570\u636e\u200b\u7684\u200b\u957f\u5ea6\u200b\ndef mylen(x):\nreturn len(str(x))\ndf.applymap(lambda x: mylen(x))  # \u200b\u5e94\u7528\u200b\u51fd\u6570\u200b\ndf.applymap(mylen)  # \u200b\u6548\u679c\u200b\u540c\u200b\u4e0a\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#map","title":"map()","text":"<p>\u200b\u5e94\u7528\u200b\u5728\u200b Series \u200b\u6216\u200b DataFrame \u200b\u7684\u200b\u4e00\u5217\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u4e2d\u200b\u3002</p> Python<pre><code>df.team.map(\n{\n\"A\": \"\u200b\u4e00\u73ed\u200b\",\n\"B\": \"\u200b\u4e8c\u73ed\u200b\",\n\"C\": \"\u200b\u4e09\u73ed\u200b\",\n\"D\": \"\u200b\u56db\u73ed\u200b\",\n}\n)  # \u200b\u679a\u4e3e\u200b\u66ff\u6362\u200b\ndf[\"name\"].map(f)\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#agg","title":"agg()","text":"Python<pre><code># \u200b\u6bcf\u5217\u200b\u7684\u200b\u6700\u5927\u503c\u200b\ndf.agg(\"max\")\n# \u200b\u5c06\u200b\u6240\u6709\u200b\u5217\u200b\u805a\u5408\u200b\u4ea7\u751f\u200b sum \u200b\u548c\u200b min \u200b\u4e24\u884c\u200b\ndf.agg([\"sum\", \"min\"])\n# \u200b\u5e8f\u5217\u200b\u591a\u4e2a\u200b\u805a\u5408\u200b\ndf.agg({\"Q1\": [\"sum\", \"min\"], \"Q2\": [\"min\", \"max\"]})\n# \u200b\u5206\u7ec4\u200b\u540e\u200b\u805a\u5408\u200b\ndf.groupby(\"team\").agg(\"max\")\ndf.Q1.agg([\"sum\", \"mean\"])\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#transform","title":"transform()","text":"Python<pre><code>df.transform(lambda x: x * 2)  # \u200b\u5e94\u7528\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\ndf.transform([np.sqrt, np.exp])  # \u200b\u8c03\u7528\u200b\u591a\u4e2a\u200b\u51fd\u6570\u200b\n</code></pre>","tags":["Python"]},{"location":"code/pandas/#copy","title":"copy()","text":"Python<pre><code>s = pd.Series([1, 2], index=[\"a\", \"b\"])\ns_1 = s\ns_copy = s.copy()\ns_1 is s  # True\ns_copy is s  # False\n</code></pre>","tags":["Python"]},{"location":"code/plot/","title":"Plot \u200b\u7ed8\u56fe","text":"","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#matplotlib-\u652f\u6301\u4e2d\u6587","title":"<code>matplotlib</code> \u200b\u652f\u6301\u200b\u4e2d\u6587","text":"Python<pre><code>import matplotlib.pyplot as plt\nplt.rcParams[\"font.sans-serif\"] = [\"SimHei\"]\nplt.rcParams[\"axes.unicode_minus\"] = False\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u663e\u793a\u6240\u6709\u53ef\u7528\u7684\u5b57\u4f53","title":"\u663e\u793a\u200b\u6240\u6709\u200b\u53ef\u7528\u200b\u7684\u200b\u5b57\u4f53","text":"Python<pre><code>from matplotlib.font_manager import FontManager\nfm = FontManager()\nmat_fonts = set(f.name for f in fm.ttflist)\nprint(mat_fonts)\n</code></pre> \u200b\u67e5\u770b\u200b\u5b57\u4f53\u200b <p>\u200b\u5e38\u7528\u200b\u7684\u200b\u4e2d\u6587\u5b57\u4f53\u200b\uff1a'Kai', 'Kaiti SC', 'Hei', 'SimSong', 'Source Han Serif SC'</p> Text Only<pre><code>{'System Font', 'Noto Sans Limbu', 'Snell Roundhand', 'DejaVu Sans Mono', 'Noto Sans Lepcha', 'Apple Braille', 'Georgia', 'STIXSizeOneSym', 'BiauKai', 'Kohinoor Devanagari', 'Libian SC', 'Noto Serif Myanmar', 'Noto Sans Khojki', 'Noto Sans Tai Viet', 'Damascus', 'Rockwell', 'Noto Sans Old Italic', 'Noto Sans Tirhuta', 'Nadeem', 'Webdings', 'Wingdings', 'Seravek', 'DejaVu Serif Display', 'Noto Sans Vai', '.Aqua Kana', 'Noto Sans Tifinagh', 'Bodoni 72 Oldstyle', 'Noto Sans Old Persian', 'Apple LiSung', 'cmex10', 'HeadLineA', 'BM Hanna 11yrs Old', 'Baskerville', 'Noto Sans Kharoshthi', 'Toppan Bunkyu Gothic', 'Herculanum', 'AppleGothic', 'Savoye LET', '.SF Compact', 'Gurmukhi Sangam MN', 'BM Kirang Haerang', 'Brush Script MT', 'DejaVu Sans Display', 'Devanagari MT', 'Sana', 'PSL Ornanong Pro', 'Papyrus', 'Noto Sans Ol Chiki', 'Noto Sans Buhid', 'Toppan Bunkyu Midashi Mincho', 'Noto Sans Cham', 'Lao Sangam MN', 'Phosphate', 'Arial', 'Noto Sans Inscriptional Parthian', 'Noto Sans Multani', 'BM Hanna Air', 'Zapf Dingbats', 'cmsy10', 'Noto Sans Tagbanwa', 'Kohinoor Bangla', 'Noto Sans Mandaic', 'Bangla MN', 'STIX Two Text', 'Heiti TC', 'Noto Sans Warang Citi', 'Diwan Thuluth', 'Noto Sans Pahawh Hmong', 'Gill Sans', 'Noto Sans Old South Arabian', 'Noto Sans Javanese', 'Hiragino Maru Gothic Pro', 'Klee', 'Noto Sans Sharada', 'Noto Sans Old Hungarian', 'Noto Sans Manichaean', 'Optima', 'STIXIntegralsSm', '.SF Arabic', 'PT Serif Caption', 'DIN Alternate', 'STIXSizeTwoSym', 'Wingdings 2', 'LiHei Pro', 'Bangla Sangam MN', 'Geeza Pro', 'Noto Sans Pau Cin Hau', 'Noto Sans Hanifi Rohingya', 'Helvetica', 'Arial Unicode MS', 'Toppan Bunkyu Midashi Gothic', 'BM Yeonsung', 'Mshtakan', 'Superclarendon', 'Bodoni 72', 'InaiMathi', 'Weibei TC', 'Telugu Sangam MN', 'BiauKaiHK', 'STIXSizeFiveSym', 'Kokonor', 'Noto Sans Buginese', 'Bodoni Ornaments', 'Noto Sans Mongolian', 'Noto Sans Sora Sompeng', 'Noto Sans Miao', 'Devanagari Sangam MN', 'Noto Sans Sundanese', 'Al Tarikh', 'Sinhala MN', 'Kefa', 'Noto Sans Bhaiksuki', 'STIXNonUnicode', 'Apple Symbols', 'Times New Roman', 'Noto Sans Samaritan', '.SF Compact Rounded', 'Yuanti SC', 'New Peninim MT', 'Charter', 'Wingdings 3', 'Palatino', 'Skia', 'Gurmukhi MT', 'Noto Sans Lisu', 'DejaVu Sans', 'Noto Sans Takri', 'Tamil Sangam MN', 'Kai', 'American Typewriter', 'Andale Mono', 'Chalkduster', 'Noto Serif Balinese', 'Noto Sans Thaana', 'Myanmar Sangam MN', 'Noto Sans Lydian', 'Noto Sans Elbasan', '.SF NS Rounded', 'Noto Sans Inscriptional Pahlavi', 'Noto Serif Yezidi', 'Tahoma', 'LiSong Pro', 'Raanana', 'Telugu MN', 'STIX Two Math', '.Keyboard', 'Noto Sans Palmyrene', 'Hiragino Sans CNS', 'DecoType Naskh', 'Noto Sans Gothic', 'Noto Sans Kannada', 'Noto Sans Chakma', 'Times', 'Malayalam MN', 'Sathu', 'Noto Sans Brahmi', 'Noto Sans Ugaritic', 'Al Bayan', 'Apple LiGothic', 'Noto Serif Hmong Nyiakeng', 'Noto Sans Canadian Aboriginal', 'Noto Sans Old Permic', 'Hiragino Mincho ProN', 'BM Hanna Pro', 'Lucida Grande', '.ThonburiUI', 'cmss10', 'STHeiti', 'PCMyungjo', 'Noto Sans Adlam', 'PilGi', 'Noto Sans Cuneiform', 'Noto Sans Old Turkic', 'Noto Sans Tai Le', 'Noto Sans Oriya', 'Lantinghei SC', 'STIXIntegralsUpSm', 'Euphemia UCAS', 'Beirut', 'Gujarati Sangam MN', 'Tsukushi B Round Gothic', 'Ayuthaya', 'Kohinoor Telugu', 'Kohinoor Gujarati', 'Diwan Kufi', 'Gujarati MT', 'Source Han Serif SC', 'Noto Sans Caucasian Albanian', 'Waseem', 'PingFang HK', 'Verdana', 'Copperplate', 'Academy Engraved LET', 'GungSeo', 'Party LET', 'STIXIntegralsD', 'Tamil MN', 'Marion', 'cmb10', 'STIXSizeFourSym', 'Farah', 'Arial Hebrew', 'Corsiva Hebrew', 'Noto Sans Wancho', 'Noto Sans Phoenician', 'Noto Sans Tai Tham', 'Menlo', 'Noto Sans Yi', 'Noto Sans Gunjala Gondi', 'Noto Sans Cypriot', 'Helvetica Neue', 'Noto Sans Mro', 'Athelas', 'Noto Sans Bamum', 'Noto Sans Avestan', 'cmr10', 'Noto Sans Kayah Li', 'Wawati SC', 'Oriya MN', 'HanziPen SC', 'Yuppy SC', 'Arial Narrow', 'Sinhala Sangam MN', 'Noto Sans Rejang', 'Arial Black', 'Galvji', 'Arial Rounded MT Bold', 'Noto Sans Linear B', 'STIXSizeThreeSym', 'Shree Devanagari 714', 'Baghdad', 'Noto Sans Mahajani', 'Mukta Mahee', 'Noto Sans Batak', 'Silom', 'Lao MN', 'Noto Sans Egyptian Hieroglyphs', 'Courier', 'Chalkboard', 'Noto Sans Siddham', 'Futura', 'Noto Sans Syriac', 'STFangsong', 'Noteworthy', 'Kaiti SC', 'Hei', 'Cochin', 'YuMincho', 'cmtt10', 'Avenir Next Condensed', 'Noto Sans Armenian', 'STIXIntegralsUp', 'Kannada Sangam MN', 'Noto Sans Mende Kikakui', 'Symbol', 'Oriya Sangam MN', 'Noto Sans Osage', 'Kannada MN', 'Noto Sans Nabataean', 'Noto Sans Modi', 'Consolas', 'Comic Sans MS', 'DejaVu Serif', '.SF Arabic Rounded', 'Microsoft Sans Serif', 'Noto Sans Carian', 'Tsukushi A Round Gothic', 'Courier New', 'Osaka', 'Xingkai SC', 'AppleMyungjo', 'Noto Sans Osmanya', 'PT Mono', 'Big Caslon', 'Malayalam Sangam MN', 'Noto Sans Psalter Pahlavi', 'SignPainter', 'Noto Sans Meetei Mayek', 'PT Serif', 'Muna', 'Apple Chancery', 'Khmer Sangam MN', 'LingWai TC', 'Didot', 'YuKyokasho Yoko', 'Nanum Myeongjo', 'Trattatello', 'Krungthep', 'Noto Sans Tagalog', 'Marker Felt', 'DIN Condensed', 'Zapfino', 'Hiragino Sans GB', 'Noto Sans Coptic', 'LingWai SC', 'Noto Sans New Tai Lue', 'Hiragino Sans', 'Noto Sans Bassa Vah', 'Gurmukhi MN', 'Songti SC', 'Geneva', 'Noto Sans Newa', 'Impact', 'Baoli SC', 'STIXGeneral', 'Apple SD Gothic Neo', 'Farisi', 'Weibei SC', 'Noto Sans Marchen', 'Noto Sans NKo', 'Myanmar MN', 'Chalkboard SE', 'Iowan Old Style', 'Nanum Gothic', 'Noto Nastaliq Urdu', 'Hoefler Text', 'Bradley Hand', 'Trebuchet MS', 'Wawati TC', 'Avenir', 'Noto Sans Masaram Gondi', 'Noto Sans Glagolitic', 'Hannotate SC', 'Noto Sans PhagsPa', 'Plantagenet Cherokee', 'STIXVariants', 'Toppan Bunkyu Mincho', 'Monaco', 'Noto Sans Hatran', 'Noto Sans Syloti Nagri', 'Yuppy TC', 'YuGothic', 'Bodoni 72 Smallcaps', 'Noto Serif Ahom', 'Noto Sans Saurashtra', '.SF NS Mono', 'Mishafi', 'Thonburi', 'Kailasa', 'Nanum Brush Script', '.New York', 'Luminari', 'Khmer MN', 'Noto Sans Meroitic', 'PT Sans', 'KufiStandardGK', 'Noto Sans Lycian', 'Mishafi Gold', 'Al Nile', 'Noto Sans Duployan', 'Noto Sans Kaithi', 'cmmi10', 'BM Dohyeon', 'SimSong', 'ITF Devanagari', 'Noto Sans Hanunoo', 'Noto Sans Myanmar', 'BM Jua', 'Noto Sans Imperial Aramaic', 'Noto Sans Linear A', 'STIXIntegralsUpD', 'Sukhumvit Set', 'Avenir Next', 'Noto Sans Old North Arabian', 'Noto Sans Khudawadi'}\n</code></pre> Python<pre><code>import matplotlib.font_manager\nfrom IPython.core.display import HTML\ndef make_html(fontname):\nreturn \"&lt;p&gt;{font}: &lt;span style='font-family:{font}; font-size: 24px;'&gt;{font}&lt;/p&gt;\".format(\nfont=fontname\n)\ncode = \"\\n\".join(\n[\nmake_html(font)\nfor font in sorted(\nset([f.name for f in matplotlib.font_manager.fontManager.ttflist])\n)\n]\n)\nHTML(\"&lt;div style='column-count: 2;'&gt;{}&lt;/div&gt;\".format(code))\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#matplotlibmarkers","title":"<code>matplotlib.markers</code>","text":"marker symbol description <code>\".\"</code> point <code>\",\"</code> pixel <code>\"o\"</code> circle <code>\"v\"</code> triangle_down <code>\"^\"</code> triangle_up <code>\"&lt;\"</code> triangle_left <code>\"&gt;\"</code> triangle_right <p>\u200b\u66f4\u200b\u591a\u6837\u5f0f\u200b\u53ef\u200b\u53c2\u8003\u200b\uff1ahttps://matplotlib.org/stable/api/markers_api.html</p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u4ee5\u77e2\u91cf\u56fe-svg-\u683c\u5f0f\u663e\u793a\u56fe\u7247","title":"\u4ee5\u200b\u77e2\u91cf\u56fe\u200b SVG \u200b\u683c\u5f0f\u200b\u663e\u793a\u200b\u56fe\u7247","text":"Python<pre><code>import matplotlib.pyplot as plt\nfrom matplotlib_inline.backend_inline import set_matplotlib_formats\nset_matplotlib_formats(\"svg\")\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u5185\u7f6e\u4e3b\u9898","title":"\u5185\u7f6e\u200b\u4e3b\u9898","text":"<p>Gallery</p> <p>\u200b\u5b98\u65b9\u200b\u6587\u6863\u200b</p> <p>tonysyu.github.io</p> <p></p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u5185\u7f6e\u8272\u7cfb-cmap","title":"\u5185\u7f6e\u200b\u8272\u7cfb\u200b <code>cmap</code>","text":"Python<pre><code>from matplotlib import colormaps\nlist(colormaps)\n</code></pre> <p>Choosing Colormaps in Matplotlib</p> Python<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n# \u200b\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\nplt.figure()\nplt.scatter(x, y, c=y, cmap=\"RdYlGn\")\nplt.colorbar()\nplt.show()\n</code></pre> <p></p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u53cd\u8f6c\u200b\u8272\u7cfb\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u5728\u200b cmap \u200b\u540d\u5b57\u200b\u540e\u9762\u200b\u52a0\u4e0a\u200b <code>_r</code> \u200b\u5373\u53ef\u200b\uff1a</p> Python<pre><code>import matplotlib\nmatplotlib.colormaps[\"RdYlGn_r\"]\n</code></pre> <p></p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u751f\u6210\u84dd\u8272\u7cfb","title":"\u751f\u6210\u200b\u84dd\u8272\u200b\u7cfb","text":"Python<pre><code>colormap = plt.get_cmap(\"Blues\")\ncolor_list = colormap(np.linspace(0.1, 0.7, 7))[::-1]  # \u200b\u6309\u200b\u767e\u5206\u6bd4\u200b\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u4fdd\u5b58\u56fe\u7247","title":"\u4fdd\u5b58\u200b\u56fe\u7247","text":"Python<pre><code>fig.savefig(\n\"./output.png\",\nformat=\"png\",\nfacecolor=\"white\",\nbbox_inches=\"tight\",\n)\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u76f4\u65b9\u56fe","title":"\u76f4\u65b9\u56fe","text":"Python<pre><code>import matplotlib.pyplot as plt\n# \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\ndata = [1, 2, 3, 3, 3, 4, 4, 5, 6, 6]\n# \u200b\u8bbe\u7f6e\u200b\u76f4\u65b9\u56fe\u200b\u7684\u200b\u8fb9\u754c\u200b\u548c\u200b\u6570\u91cf\u200b\nnum_bins = 6\nbin_width = (max(data) - min(data)) / num_bins\nbins = [i * bin_width + min(data) for i in range(num_bins + 1)]\n# \u200b\u7ed8\u5236\u200b\u76f4\u65b9\u56fe\u200b\nplt.hist(data, bins=bins, alpha=0.5)\n# \u200b\u6dfb\u52a0\u200b\u6807\u9898\u200b\u548c\u200b\u6807\u7b7e\u200b\nplt.title(\"Histogram\")\nplt.xlabel(\"Value\")\nplt.ylabel(\"Frequency\")\n# \u200b\u663e\u793a\u200b\u56fe\u5f62\u200b\nplt.show()\n</code></pre> <ul> <li><code>num_bins</code> \u200b\u53d8\u91cf\u200b\u5c06\u200b\u6bcf\u4e2a\u200b bin\uff08\u200b\u7bb1\u5b50\u200b\uff09\u200b\u7684\u200b\u6570\u91cf\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 6\u3002</li> <li>\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u6700\u5927\u503c\u200b\u5c06\u200b\u6839\u636e\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u7136\u540e\u200b\u6309\u7167\u200b\u6570\u91cf\u200b\u7b49\u200b\u5206\u6210\u200b bin\uff08\u200b\u7bb1\u5b50\u200b\uff09\u3002</li> <li><code>plt.hist()</code> \u200b\u51fd\u6570\u200b\u7528\u4e8e\u200b\u7ed8\u5236\u200b\u76f4\u65b9\u56fe\u200b\uff0c\u200b\u5e76\u4e14\u200b <code>alpha</code> \u200b\u53c2\u6570\u200b\u63a7\u5236\u200b\u6bcf\u4e2a\u200b bin \u200b\u7684\u200b\u4e0d\u200b\u900f\u660e\u5ea6\u200b\u3002</li> <li>\u200b\u6807\u9898\u200b\u548c\u200b\u6807\u7b7e\u200b\u662f\u200b\u53ef\u9009\u200b\u7684\u200b\uff0c\u200b\u53ef\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u66f4\u6539\u200b\u3002</li> </ul>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u5206\u7ec4\u67f1\u72b6\u56fe","title":"\u5206\u7ec4\u200b\u67f1\u72b6\u56fe","text":"Python<pre><code>import plotly.graph_objects as go\nimport pandas as pd\n# \u200b\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\na_values = [\"A\", \"B\", \"C\", \"D\"]  # a \u200b\u7684\u200b\u53d6\u503c\u200b\nb_values = [\"X\", \"Y\", \"Z\"]  # b \u200b\u7684\u200b\u53d6\u503c\u200b\ndata = {\n\"a\": [\"A\", \"A\", \"B\", \"B\", \"C\", \"C\", \"D\", \"D\"],\n\"b\": [\"X\", \"Y\", \"X\", \"Y\", \"X\", \"Y\", \"X\", \"Y\"],\n\"value\": [1, 2, 3, 4, 5, 6, 7, 8],\n}\ndf = pd.DataFrame(data)\n# \u200b\u7ed8\u5236\u200b\u67f1\u72b6\u56fe\u200b\nfig = go.Figure()\nfor b_value in b_values:\nfiltered_df = df[df[\"b\"] == b_value]\nfig.add_trace(go.Bar(x=filtered_df[\"a\"], y=filtered_df[\"value\"], name=b_value))\nfig.update_layout(\nbarmode=\"group\",\nxaxis_title=\"a\",\nyaxis_title=\"Value\",\ntitle=\"Multiple Grouped Bar Chart\",\n)\nfig.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#plotly-\u7ed8\u5236\u76f8\u5173\u7cfb\u6570\u70ed\u529b\u56fe","title":"plotly \u200b\u7ed8\u5236\u200b\u76f8\u5173\u7cfb\u6570\u200b\u70ed\u200b\u529b\u56fe","text":"Python<pre><code>import numpy as np\nimport plotly.express as px\nimport plotly.figure_factory as ff\ndef plot_correlation_matrix(df):\n# \u200b\u8ba1\u7b97\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b\ncorr = df.corr()\n# \u200b\u521b\u5efa\u200b\u4e0a\u200b\u4e09\u89d2\u5f62\u200b\u63a9\u7801\u200b\nmask = np.triu(np.ones_like(corr, dtype=bool))\ndf_mask = corr.mask(mask)\n# \u200b\u521b\u5efa\u200b\u5e26\u200b\u6ce8\u91ca\u200b\u7684\u200b\u70ed\u200b\u529b\u56fe\u200b\nfig = ff.create_annotated_heatmap(\nz=df_mask.to_numpy(),\nx=df_mask.columns.tolist(),\ny=df_mask.columns.tolist(),\ncolorscale=\"Blues\",\nshowscale=True,\nygap=1,\nxgap=1,\n)\n# \u200b\u786e\u4fdd\u200b x \u200b\u8f74\u200b\u6807\u7b7e\u200b\u5728\u200b\u5e95\u90e8\u200b\nfig.update_xaxes(side=\"bottom\")\n# \u200b\u66f4\u65b0\u200b\u5e03\u5c40\u200b\nfig.update_layout(\ntitle_text=\"Correlation Matrix\",\ntitle_x=0.5,\nwidth=1000,\nheight=1000,\nxaxis_showgrid=False,\nyaxis_showgrid=False,\nxaxis_zeroline=False,\nyaxis_zeroline=False,\nyaxis_autorange=\"reversed\",\ntemplate=\"plotly_white\",\n)\n# \u200b\u5904\u7406\u200b\u6ce8\u91ca\u200b\uff1a\u200b\u79fb\u9664\u200b NaN \u200b\u5e76\u200b\u4fdd\u7559\u200b 2 \u200b\u4f4d\u200b\u5c0f\u6570\u200b\nfor annotation in fig.layout.annotations:\nif annotation.text == \"nan\":\nannotation.text = \"\"\nelse:\ntry:\nannotation.text = f\"{float(annotation.text):.2f}\"\nexcept ValueError:\ncontinue\n# \u200b\u8bbe\u7f6e\u200b\u6ce8\u91ca\u200b\u6587\u672c\u200b\u989c\u8272\u200b\n# \u200b\u5f53\u200b\u6570\u503c\u200b\u8f83\u5927\u200b\u65f6\u200b\u4f7f\u7528\u200b\u767d\u8272\u200b\u6587\u672c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u53ef\u8bfb\u6027\u200b\nvalue = float(annotation.text)\nannotation.font.color = \"white\" if value &gt; 0.7 else \"black\"\nfig.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u591a\u671f\u56de\u5f52\u7cfb\u6570\u4e0e\u7f6e\u4fe1\u533a\u95f4","title":"\u591a\u671f\u200b\u56de\u5f52\u7cfb\u6570\u200b\u4e0e\u200b\u7f6e\u4fe1\u533a\u95f4","text":"Python<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n# \u200b\u521b\u5efa\u200b\u793a\u4f8b\u200b\u6570\u636e\u200b\nyears = [2018, 2019, 2020, 2021, 2022]\ncoefficients = pd.Series([0.5, 0.6, 0.7, 0.8, 0.9])\nlower_bounds = [0.4, 0.5, 0.6, 0.7, 0.8]\nupper_bounds = [0.6, 0.7, 0.8, 0.9, 1.0]\nconfidence_intervals = pd.DataFrame(\n{\"Lower\": lower_bounds, \"Upper\": upper_bounds}, index=years\n)\n# \u200b\u7ed8\u5236\u200b\u56fe\u5f62\u200b\nplt.figure(figsize=(10, 6))\nplt.plot(years, coefficients, label=\"Coefficient\", marker=\"o\")\nplt.fill_between(\nyears,\nconfidence_intervals[\"Lower\"],\nconfidence_intervals[\"Upper\"],\ncolor=\"lightblue\",\nalpha=0.5,\nlabel=\"Confidence Interval\",\n)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Coefficient\")\nplt.title(\"Coefficient and Confidence Interval Over Years\")\nplt.legend()\nplt.grid(True)\nplt.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u63a7\u5236\u5750\u6807\u8f74\u6807\u7b7e\u7684\u8ddd\u79bb","title":"\u63a7\u5236\u200b\u5750\u6807\u8f74\u200b\u6807\u7b7e\u200b\u7684\u200b\u8ddd\u79bb","text":"Python<pre><code># y label \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u79bb\u200b y \u200b\u8f74\u200b\u7a0d\u8fdc\u200b\u4e00\u70b9\u200b\nax.yaxis.set_label_coords(-0.1, 0.5)\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u7eb5\u5750\u6807\u663e\u793a\u767e\u5206\u6bd4","title":"\u7eb5\u5750\u6807\u200b\u663e\u793a\u200b\u767e\u5206\u6bd4","text":"","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u5185\u7f6e\u5de5\u5177","title":"\u5185\u7f6e\u200b\u5de5\u5177","text":"<ul> <li><code>xmax</code> \u200b\u6307\u5b9a\u200b\u539f\u59cb\u6570\u636e\u200b\u4e3a\u200b 100% \u200b\u65f6\u200b\u7684\u200b\u6570\u503c\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u82e5\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b 0.1\u30010.2\u30010.9 \u200b\u7b49\u7b49\u200b\uff0c\u200b\u5219\u200b 1.0 \u200b\u4ee3\u8868\u200b 100%\uff0c\u200b\u56e0\u6b64\u200b\u5c06\u200b <code>xmax</code> \u200b\u8bbe\u200b\u4e3a\u200b <code>1.0</code>\u3002\u200b\u5982\u679c\u200b\u539f\u59cb\u6570\u636e\u200b\u662f\u200b 80\u300190 \u200b\u7b49\u7b49\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5c06\u200b <code>xmax</code> \u200b\u8bbe\u200b\u4e3a\u200b 100\u3002</li> <li><code>decimals</code> \u200b\u4ee3\u8868\u200b\u8981\u200b\u4fdd\u7559\u200b\u51e0\u4f4d\u200b\u5c0f\u6570\u200b\u3002</li> </ul> Python<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.ticker as mtick\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u56fe\u5f62\u200b\u548c\u200b\u5750\u6807\u8f74\u200b\nfig, ax = plt.subplots()\n# \u200b\u5047\u8bbe\u200b\u4f60\u200b\u6709\u200b\u4e00\u4e2a\u200b y \u200b\u503c\u200b\u7684\u200b\u5217\u8868\u200b\ny = [0.1, 0.2, 0.3, 0.4, 0.5]\n# \u200b\u7ed8\u5236\u200b\u6570\u636e\u200b\nax.plot(y)\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u7684\u200b\u523b\u5ea6\u200b\u683c\u5f0f\u200b\u4e3a\u200b\u767e\u5206\u6bd4\u200b\nax.yaxis.set_major_formatter(mtick.PercentFormatter(xmax=1.0, decimals=1))\n# \u200b\u663e\u793a\u200b\u56fe\u5f62\u200b\nplt.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u81ea\u5b9a\u4e49\u51fd\u6570","title":"\u81ea\u5b9a\u4e49\u200b\u51fd\u6570","text":"Python<pre><code>from matplotlib.ticker import FuncFormatter\ndef to_percent(temp, position):\nreturn \"%1.0f\" % (100 * temp) + \"%\"\nplt.gca().yaxis.set_major_formatter(FuncFormatter(to_percent))\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u7ed8\u5236\u968f\u673a\u7684\u7070\u5ea6\u50cf\u7d20\u56fe","title":"\u7ed8\u5236\u200b\u968f\u673a\u200b\u7684\u200b\u7070\u5ea6\u200b\u50cf\u7d20\u200b\u56fe","text":"Python<pre><code>import matplotlib.pyplot as plt\nplt.imshow(np.random.randint(3, size=48 * 48).reshape(48, 48), cmap=\"gray\")\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u5c06\u56fe\u4f8b\u653e\u5728\u56fe\u7247\u65b9\u6846\u5916","title":"\u5c06\u200b\u56fe\u4f8b\u200b\u653e\u5728\u200b\u56fe\u7247\u200b\u65b9\u6846\u200b\u5916","text":"Python<pre><code>plt.legend(loc=(1.01, 0.1))\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u9690\u85cf\u4e0a\u8fb9\u6846\u548c\u53f3\u8fb9\u6846","title":"\u9690\u85cf\u200b\u4e0a\u200b\u8fb9\u6846\u200b\u548c\u200b\u53f3\u8fb9\u200b\u6846","text":"Python<pre><code>import matplotlib.pyplot as plt\n# \u200b\u7ed8\u5236\u200b\u4f60\u200b\u7684\u200b\u56fe\u5f62\u200b\nplt.plot([1, 2, 3, 4], [1, 4, 2, 3])\n# \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7684\u200b\u5750\u6807\u8f74\u200b\u5bf9\u8c61\u200b\nax = plt.gca()\n# \u200b\u9690\u85cf\u200b\u4e0a\u200b\u8fb9\u6846\u200b\u548c\u200b\u53f3\u8fb9\u200b\u6846\u200b\nax.spines[\"top\"].set_visible(False)\nax.spines[\"right\"].set_visible(False)\n# \u200b\u663e\u793a\u200b\u7ed3\u679c\u200b\nplt.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u7ed8\u5236\u81ea\u53d8\u91cf\u4e0e\u56e0\u53d8\u91cf\u7684\u6563\u70b9\u56fe\u53ca\u4e00\u5143\u7ebf\u6027\u56de\u5f52\u76f4\u7ebf","title":"\u7ed8\u5236\u200b\u81ea\u53d8\u91cf\u200b\u4e0e\u200b\u56e0\u53d8\u91cf\u200b\u7684\u200b\u6563\u70b9\u56fe\u200b\u53ca\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u76f4\u7ebf","text":"Python<pre><code># \u200b\u521b\u5efa\u200b\u753b\u5e03\u200b\uff0c3 \u200b\u884c\u200b 3 \u200b\u5217\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b50\u56fe\u200b\u7684\u200b\u5927\u5c0f\u200b\u4e3a\u200b 30*20\nfig, axs = plt.subplots(nrows=3, ncols=3, figsize=(30, 20))\n# \u200b\u904d\u5386\u200b\u6bcf\u4e2a\u200b\u5b50\u56fe\u200b\nfor i, (ax, col) in enumerate(zip(axs.flat, feature_names)):\n# \u200b\u83b7\u53d6\u200b\u7b2c\u200b i \u200b\u5217\u200b\u7684\u200b\u6570\u636e\u200b\nx = X[:, i]\n# \u200b\u4f7f\u7528\u200b\u7ebf\u6027\u200b\u62df\u5408\u200b\uff0c\u200b\u83b7\u53d6\u200b\u62df\u5408\u200b\u53c2\u6570\u200b\npf = np.polyfit(x, y, 1)\n# \u200b\u6839\u636e\u200b\u62df\u5408\u200b\u53c2\u6570\u200b\uff0c\u200b\u521b\u5efa\u200b\u62df\u5408\u200b\u51fd\u6570\u200b\np = np.poly1d(pf)\n# \u200b\u7ed8\u5236\u200b\u6563\u70b9\u56fe\u200b\nax.plot(x, y, \"o\")\n# \u200b\u7ed8\u5236\u200b\u62df\u5408\u200b\u66f2\u7ebf\u200b\nax.plot(x, p(x), \"r--\")\n# \u200b\u8bbe\u7f6e\u200b\u5b50\u56fe\u200b\u6807\u9898\u200b\nax.set_title(col + \" vs Median House Value\")\n# \u200b\u8bbe\u7f6e\u200b x \u200b\u8f74\u200b\u6807\u7b7e\u200b\nax.set_xlabel(col)\n# \u200b\u8bbe\u7f6e\u200b y \u200b\u8f74\u200b\u6807\u7b7e\u200b\nax.set_ylabel(\"Median House Value\")\n</code></pre> <p>\u200b\u53c2\u8003\u200b Interpret regression models using California Housing Prices Dataset\u3002</p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u7bb1\u7ebf\u56fe","title":"\u7bb1\u200b\u7ebf\u56fe","text":"Python<pre><code>sns.catplot(y=\"fare\", x=\"survived\", kind=\"box\", data=df_titanic, palette=\"Set2\")\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#cufflinks","title":"<code>cufflinks</code>","text":"<p>\u200b\u76f4\u63a5\u200b\u5bf9\u200b\u6570\u636e\u200b\u6846\u200b\u7ed8\u56fe\u200b\uff1a</p> Python<pre><code>import pandas as pd\nimport cufflinks as cf\ncf.go_offline()\ndf = pd.util.testing.makeTimeDataFrame()\ndf.figure()\n</code></pre> <p></p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#plotly-\u6a2a\u5750\u6807\u4e3a\u65e5\u671f\u65f6\u63a7\u5236\u65e5\u671f\u683c\u5f0f\u4e0e\u523b\u5ea6\u95f4\u9694","title":"<code>plotly</code> \u200b\u6a2a\u5750\u6807\u200b\u4e3a\u200b\u65e5\u671f\u200b\u65f6\u200b\u63a7\u5236\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\u4e0e\u200b\u523b\u5ea6\u200b\u95f4\u9694","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b Plotly \u200b\u521b\u5efa\u200b\u56fe\u8868\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b layout \u200b\u5bf9\u8c61\u200b\u4e2d\u200b xaxis \u200b\u7684\u200b tickformat \u200b\u5c5e\u6027\u200b\u6765\u81ea\u200b\u5b9a\u4e49\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u5e0c\u671b\u200b X \u200b\u8f74\u200b\u663e\u793a\u200b\u4e3a\u200b\u201c\u200b\u5e74\u200b - \u200b\u6708\u200b\u201d\u200b\u7684\u200b\u683c\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b<code>tickformat</code>\u200b\u4e3a\u200b<code>\"%Y-%m\"</code>\u3002</p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u9632\u6b62\u200b\u523b\u5ea6\u200b\u6807\u7b7e\u200b\u592a\u8fc7\u200b\u5bc6\u96c6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b<code>dtick</code>\u200b\u5c5e\u6027\u200b\u6765\u200b\u63a7\u5236\u200b\u523b\u5ea6\u200b\u6807\u7b7e\u200b\u7684\u200b\u95f4\u9694\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u65e5\u9891\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u4f60\u200b\u60f3\u8981\u200b\u6708\u9891\u200b\u6216\u200b\u5b63\u9891\u200b\u7684\u200b\u523b\u5ea6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b<code>dtick</code>\u200b\u8bbe\u200b\u4e3a\u200b<code>M3</code>\uff08\u200b\u6bcf\u200b\u4e09\u4e2a\u200b\u6708\u200b\uff09\u200b\u6216\u200b<code>M6</code>\uff08\u200b\u6bcf\u200b\u516d\u4e2a\u6708\u200b\uff09\u3002</p> Python<pre><code>import pandas as pd\nimport plotly.graph_objs as go\n# \u200b\u5047\u8bbe\u200b\u4f60\u200b\u7684\u200b DataFrame \u200b\u53eb\u505a\u200b df\uff0c\u200b\u5e76\u4e14\u200b\u5b83\u200b\u6709\u200b\u4e00\u4e2a\u200b DatetimeIndex\ndf = pd._testing.makeTimeDataFrame(nper=1000)\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b trace\ntrace = go.Scatter(x=df.index, y=df[\"A\"])\n# \u200b\u521b\u5efa\u200b layout\uff0c\u200b\u81ea\u5b9a\u4e49\u200b x \u200b\u8f74\u200b\nlayout = go.Layout(\nxaxis=dict(\ntickformat=\"%Y-%m\",  # \u200b\u8bbe\u7f6e\u200b\u65e5\u671f\u200b\u683c\u5f0f\u200b\ndtick=\"M6\",  # \u200b\u8bbe\u7f6e\u200b\u523b\u5ea6\u200b\u95f4\u9694\u200b\u4e3a\u200b\u6bcf\u200b 6 \u200b\u6708\u200b\n)\n)\n# \u200b\u7ed3\u5408\u200b trace \u200b\u548c\u200b layout \u200b\u521b\u5efa\u200b figure\nfig = go.Figure(data=[trace], layout=layout)\n# \u200b\u663e\u793a\u200b\u56fe\u5f62\u200b\nfig.show()\n</code></pre>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#pdf-\u683c\u5f0f\u56fe\u7247\u8f6c\u6362\u4e3a-png-\u683c\u5f0f","title":"PDF \u200b\u683c\u5f0f\u200b\u56fe\u7247\u200b\u8f6c\u6362\u200b\u4e3a\u200b PNG \u200b\u683c\u5f0f","text":"<p>\u200b\u53c2\u8003\u200b https://stackoverflow.com/a/69644244/\u3001https://stackoverflow.com/a/73645583/</p> Python<pre><code>import fitz\nfile_path = \"my_file.pdf\"\ndoc = fitz.open(file_path)  # open document\nfor i, page in enumerate(doc):\npix = page.get_pixmap(dpi=300)  # (1)\npix.save(f\"my_file_page_{i}.png\")\n</code></pre> <ol> <li>\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b <code>dpi</code> \u200b\u6765\u200b\u8c03\u6574\u200b\u6e05\u6670\u5ea6\u200b\u3002</li> </ol> \u200b\u53ef\u80fd\u200b\u9047\u5230\u200b\u5b89\u88c5\u200b\u7684\u200b\u95ee\u9898\u200b <p>raise RuntimeError(f\"Directory '{directory}' does not exist\") RuntimeError: Directory 'static/' does not exist from import fitz\uff0c\u200b\u53c2\u8003\u200b https://stackoverflow.com/a/71225681/</p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/plot/#\u4fdd\u5b58-shapplotstextshap_values--\u4e3a-html","title":"\u4fdd\u5b58\u200b <code>shap.plots.text(shap_values)</code>  \u200b\u4e3a\u200b HTML","text":"Python<pre><code>file = open(\"temp.html\", \"w\")\nfile.write(shap.plots.text(shap_values, display=False))\nfile.close()\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://github.com/shap/shap/issues/2379#issuecomment-1163554306</p>","tags":["Python","\u6570\u636e\u53ef\u89c6\u5316"]},{"location":"code/print/","title":"Print \u200b\u6253\u5370","text":"","tags":["Python"]},{"location":"code/print/#\u5c06\u5217\u8868list\u5bfc\u51fa\u4e3a\u6587\u672c\u6587\u4ef6txt","title":"\u5c06\u200b\u5217\u8868\u200b\uff08List\uff09\u200b\u5bfc\u51fa\u200b\u4e3a\u200b\u6587\u672c\u6587\u4ef6\u200b\uff08.txt\uff09","text":"Python<pre><code>with open(r\"output.txt\", \"w\") as fp:\nfp.write(\"\\n\".join(list))\n</code></pre>","tags":["Python"]},{"location":"code/print/#\u6253\u5370\u5c45\u4e2d\u6587\u672c\u4e24\u8fb9\u586b\u5145\u5b57\u7b26","title":"\u6253\u5370\u200b\u5c45\u4e2d\u200b\u6587\u672c\u200b\uff0c\u200b\u4e24\u8fb9\u200b\u586b\u5145\u200b\u5b57\u7b26","text":"<p><code>.center</code>\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u5b57\u7b26\u200b\u5c45\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e24\u8fb9\u200b\u586b\u5145\u200b\u5b57\u7b26\u200b\u3002</p> Python<pre><code>print(\"\u200b\u6267\u884c\u200b\u5f00\u59cb\u200b\".center(10, \"-\"))  # 10 \u200b\u4ee3\u8868\u200b\u6240\u6709\u200b\u5b57\u7b26\u200b\u7684\u200b\u603b\u957f\u5ea6\u200b\n</code></pre>","tags":["Python"]},{"location":"code/print/#\u5c06\u6570\u636e\u6846\u4ee5\u5e26\u8fb9\u6846\u7684\u8868\u683c\u5f62\u5f0f\u6253\u5370\u5728\u7ec8\u7aef","title":"\u5c06\u200b\u6570\u636e\u200b\u6846\u4ee5\u200b\u5e26\u200b\u8fb9\u6846\u200b\u7684\u200b\u8868\u683c\u200b\u5f62\u5f0f\u200b\u6253\u5370\u200b\u5728\u200b\u7ec8\u7aef","text":"Python<pre><code>from prettytable import PrettyTable\nimport pandas as pd\n# \u200b\u751f\u6210\u200b\u6570\u636e\u200b\u6846\u200b\ndf = pd.DataFrame({\"name\": [\"Tom\", \"Jack\", \"Steve\", \"Ricky\"], \"age\": [28, 34, 29, 42]})\n# \u200b\u751f\u6210\u200b\u8868\u683c\u200b\ntable = PrettyTable()\ntable.field_names = df.columns.tolist()\nfor i in range(len(df)):\ntable.add_row(df.iloc[i].tolist())\nprint(table)\n</code></pre>","tags":["Python"]},{"location":"code/print/#\u5c06-print-\u7684\u5185\u5bb9\u5bfc\u51fa\u5230\u6587\u672c\u6587\u4ef6","title":"\u5c06\u200b print \u200b\u7684\u200b\u5185\u5bb9\u200b\u5bfc\u51fa\u200b\u5230\u200b\u6587\u672c\u6587\u4ef6","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://www.askpython.com/python/built-in-methods/python-print-to-file</p> Python<pre><code># sys \u200b\u7528\u4e8e\u200b\u5c06\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4fdd\u5b58\u200b\u4e3a\u200b\u672c\u5730\u200b\u6587\u4ef6\u200b\nimport sys\n# Save the current stdout so that we can revert sys.stdou after we complete\n# our redirection\nstdout_fileno = sys.stdout\n# \u200b\u5c06\u200b\u8f93\u51fa\u200b\u5185\u5bb9\u200b\u91cd\u5b9a\u5411\u200b\u81f3\u200b\u6587\u672c\u6587\u4ef6\u200b\nsys.stdout = open(\"\u200b\u60f3\u8981\u200b\u5bfc\u51fa\u200b\u5230\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b.txt\", \"w\")\nprint(\"some texts\")\nsys.stdout.close()\n# \u200b\u5c06\u200b\u8f93\u51fa\u200b\u5185\u5bb9\u200b\u6062\u590d\u200b\u81f3\u200b\u9ed8\u8ba4\u200b\uff0c\u200b\u5373\u200b\u5728\u200b\u7ec8\u7aef\u200b\u663e\u793a\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5199\u5165\u200b\u5230\u200b\u6587\u672c\u200b\nsys.stdout = stdout_fileno\n</code></pre>","tags":["Python"]},{"location":"code/print/#print-\u5185\u5bb9\u540e\u4e0d\u6362\u884c\u800c\u662f\u8986\u76d6\u672c\u884c\u7ee7\u7eed\u6253\u5370","title":"print \u200b\u5185\u5bb9\u200b\u540e\u200b\uff0c\u200b\u4e0d\u200b\u6362\u884c\u200b\uff0c\u200b\u800c\u662f\u200b\u8986\u76d6\u200b\u672c\u884c\u200b\u7ee7\u7eed\u200b\u6253\u5370","text":"<p>\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\u53ef\u4ee5\u200b\u5f53\u4f5c\u200b\u8fdb\u5ea6\u6761\u200b\u3002</p> Python<pre><code>print(\" %s /%s\" % (i, total), end=\"\\r\")\n</code></pre>","tags":["Python"]},{"location":"code/print/#\u5c06\u8f93\u51fa\u5448\u73b0\u4e3a\u7eff\u8272","title":"\u5c06\u200b\u8f93\u51fa\u200b\u5448\u73b0\u200b\u4e3a\u200b\u7eff\u8272","text":"Python<pre><code>print(\"\\033[92m All tests passed.\")\n</code></pre> <p>\u200b\u8981\u200b\u5c06\u200b\u8f93\u51fa\u200b\u6587\u672c\u200b\u5448\u73b0\u200b\u4e3a\u200b\u7eff\u8272\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b ANSI \u200b\u8f6c\u4e49\u5e8f\u5217\u200b <code>\\033[92m</code> \u200b\u5c06\u200b\u5176\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u7eff\u8272\u200b\u6587\u672c\u200b\u3002\u200b\u6b64\u200b\u8f6c\u4e49\u5e8f\u5217\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u8f6c\u4e49\u5b57\u7b26\u200b (<code>\\033</code>)\u3001\u200b\u4e00\u4e2a\u200b\u5de6\u200b\u65b9\u62ec\u53f7\u200b (<code>[</code>)\u3001\u200b\u6570\u5b57\u200b <code>9</code>\uff08\u200b\u8868\u793a\u200b\u7eff\u8272\u200b\uff09\uff0c\u200b\u4ee5\u53ca\u200b\u5b57\u6bcd\u200b <code>m</code>\uff08\u200b\u8868\u793a\u200b\u7ed3\u675f\u200b\uff09\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u8981\u200b\u5448\u73b0\u200b\u4e3a\u200b\u7eff\u8272\u200b\u7684\u200b\u6587\u672c\u200b\u524d\u200b\u6dfb\u52a0\u200b <code>\\033[92m</code> \u200b\u5373\u53ef\u200b\u3002</p> <p></p>","tags":["Python"]},{"location":"code/r/","title":"R \u200b\u8bed\u8a00","text":""},{"location":"code/r/#\u8c03\u8bd5","title":"\u8c03\u8bd5","text":"<p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u540e\u200b\u62a5\u9519\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u518d\u200b\u8fd0\u884c\u200b</p> S<pre><code>traceback()\n</code></pre> <p>\u200b\u6216\u8005\u200b</p> S<pre><code>rlang::last_trace()\n</code></pre> <p>\u200b\u5373\u53ef\u200b\u67e5\u770b\u200b\u5177\u4f53\u200b\u7684\u200b\u62a5\u9519\u200b\u4f4d\u7f6e\u200b\u3002</p>"},{"location":"code/r/#\u6e05\u7a7a\u63a7\u5236\u53f0-console","title":"\u6e05\u7a7a\u200b\u63a7\u5236\u53f0\u200b Console","text":"<p>\u200b\u6309\u4e0b\u200bCtrl+L \u200b\u5feb\u6377\u952e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6e05\u7a7a\u200b\u63a7\u5236\u53f0\u200b\u5e76\u200b\u663e\u793a\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u63d0\u793a\u7b26\u200b\u3002</p> <p>\u200b\u6e05\u7a7a\u200b\u63a7\u5236\u53f0\u200b\u4e0d\u4f1a\u200b\u5f71\u54cd\u200b\u5df2\u7ecf\u200b\u52a0\u8f7d\u200b\u7684\u200b\u53d8\u91cf\u200b\u548c\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ea\u662f\u200b\u6e05\u7a7a\u200b\u4e86\u200b\u63a7\u5236\u53f0\u200b\u7684\u200b\u663e\u793a\u200b\u3002</p>"},{"location":"code/r/#\u5bfc\u51fa\u6570\u636e\u6846\u4e3a-csv-\u6587\u4ef6","title":"\u5bfc\u51fa\u200b\u6570\u636e\u200b\u6846\u4e3a\u200b CSV \u200b\u6587\u4ef6","text":"S<pre><code>write.csv(df, \"file.csv\", row.names = FALSE)\n</code></pre>"},{"location":"code/r/#\u624b\u52a8\u5b9e\u73b0\u7c7b\u4f3c-python-\u7684enumerate\u529f\u80fd","title":"\u624b\u52a8\u200b\u5b9e\u73b0\u200b\u7c7b\u4f3c\u200b Python \u200b\u7684\u200b<code>enumerate</code>\u200b\u529f\u80fd","text":"Python<pre><code>for i, k in enumerate(groups):\n...\n</code></pre> <p>\u200b\u8f6c\u6362\u200b\u4e3a\u200b R \u200b\u8bed\u8a00\u200b\uff1a</p> S<pre><code>for (i in seq_along(groups)) {\nk &lt;- groups[i]\n...\n}\n</code></pre>"},{"location":"code/r/#\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b","title":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b","text":""},{"location":"code/r/#s3","title":"S3","text":"<p>\u200b\u4ee5\u200b BH Procedure \u200b\u8fdb\u884c\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c\u200b\u4e3a\u4f8b\u200b\uff1a\u200b\u5148\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6cdb\u200b\u578b\u51fd\u6570\u200b\uff08\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff09\uff0c\u200b\u518d\u200b\u5b9a\u4e49\u200b\u6cdb\u200b\u578b\u51fd\u6570\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> S<pre><code># \u200b\u521b\u5efa\u200b bh \u200b\u6cd5\u200b\u7684\u200b\u6cdb\u200b\u578b\u51fd\u6570\u200b\nbh &lt;- function() {\nUseMethod(\"bh\")\n}\n# \u200b\u5b9a\u4e49\u200b bh.func\nbh.func &lt;- function(pv, alpha = 0.05) {\nm &lt;- length(pv)\ni &lt;- 1:m\n# \u200b\u5c06\u200b p \u200b\u503c\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\nsorted_pv &lt;- sort(pv)\n# \u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u7684\u200b p \u200b\u503c\u200b\u90fd\u200b\u5927\u4e8e\u200b alpha / m\uff0c\u200b\u5219\u200b\u62d2\u7edd\u57df\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b 0 \u200b\u5411\u91cf\u200b\nif (sorted_pv[1] &gt; alpha / m) {\nreturn(rep(0, m))\n}\n# \u200b\u627e\u5230\u200b\u6ee1\u8db3\u200b pvalue &lt;= i/m * alpha \u200b\u7684\u200b\u6700\u5927\u200b\u7684\u200b i\nk &lt;- max(i[sorted_pv &lt;= i / m * alpha])\n# k \u200b\u5bf9\u5e94\u200b\u7684\u200b p \u200b\u503c\u200b\u5373\u200b\u4e3a\u200b\u62d2\u7edd\u57df\u200b\u7684\u200b\u8fb9\u754c\u200b\ncriterion &lt;- sorted_pv[k]\n# \u200b\u5c06\u200b p \u200b\u503c\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b k \u200b\u4e2a\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u8bbe\u200b\u4e3a\u200b 1\uff0c\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\u8bbe\u200b\u4e3a\u200b 0\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\nreturn(1 * (pv &lt;= criterion))\n}\n</code></pre>"},{"location":"code/r/#r6","title":"R6","text":"S<pre><code>library(R6)\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200bR6\u200b\u7c7b\u200b\nPerson &lt;- R6Class(\"Person\",\npublic = list(\nname = NULL,\nage = NULL,\ninitialize = function(name, age){\nself$name &lt;- name\nself$age &lt;- age\n},\nget_info = function(){\npaste(\"Name:\", self$name, \"\\nAge:\", self$age)\n}\n)\n)\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200bPerson\u200b\u5bf9\u8c61\u200b\nperson1 &lt;- Person$new(\"Alice\", 30)\n# \u200b\u8c03\u7528\u200b\u65b9\u6cd5\u200b\nprint(person1$get_info())\n</code></pre>"},{"location":"code/r/#\u67e5\u770b\u6570\u636e\u7c7b\u578b","title":"\u67e5\u770b\u200b\u6570\u636e\u7c7b\u578b","text":"<p>\u200b\u5728\u200b R \u200b\u8bed\u8a00\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u51fd\u6570\u200b\u6765\u200b\u67e5\u770b\u200b\u6570\u636e\u7c7b\u578b\u200b\uff1a</p> <ol> <li><code>class(x)</code>\uff1a\u200b\u7528\u4e8e\u200b\u663e\u793a\u200b x \u200b\u5bf9\u8c61\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff08\u200b\u7c7b\u200b\uff09\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7c7b\u578b\u200b\u7684\u200b\u503c\u200b\u3002</li> <li><code>typeof(x)</code>\uff1a\u200b\u7528\u4e8e\u200b\u663e\u793a\u200b x \u200b\u5bf9\u8c61\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff08\u200b\u57fa\u7840\u200b\u7c7b\u578b\u200b\uff09\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7c7b\u578b\u200b\u7684\u200b\u503c\u200b\u3002</li> <li><code>str(x)</code>\uff1a\u200b\u7528\u4e8e\u200b\u663e\u793a\u200b x \u200b\u5bf9\u8c61\u200b\u7684\u200b\u7ed3\u6784\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5305\u62ec\u200b\u5404\u200b\u6210\u5206\u200b\u7684\u200b\u540d\u79f0\u200b\u3001\u200b\u7c7b\u578b\u200b\u3001\u200b\u957f\u5ea6\u200b\u548c\u200b\u524d\u200b\u51e0\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\u3002</li> </ol> <p>\u200b\u4e3e\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u5982\u679c\u200b\u8981\u200b\u67e5\u770b\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b a \u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\uff1a</p> S<pre><code># \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6574\u578b\u200b\u53d8\u91cf\u200ba\na &lt;- 10\n# \u200b\u4f7f\u7528\u200bclass()\u200b\u51fd\u6570\u200b\u67e5\u770b\u200b\u53d8\u91cf\u200ba\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\nclass(a)\n# \u200b\u4f7f\u7528\u200btypeof()\u200b\u51fd\u6570\u200b\u67e5\u770b\u200b\u53d8\u91cf\u200ba\u200b\u7684\u200b\u57fa\u7840\u200b\u6570\u636e\u7c7b\u578b\u200b\ntypeof(a)\n# \u200b\u4f7f\u7528\u200bstr()\u200b\u51fd\u6570\u200b\u67e5\u770b\u200b\u53d8\u91cf\u200ba\u200b\u7684\u200b\u7ed3\u6784\u200b\u4fe1\u606f\u200b\nstr(a)\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\uff1a S<pre><code>&gt; class(a)\n[1] \"numeric\"\n&gt; typeof(a)\n[1] \"double\"\n&gt; str(a)\nnum 10\n</code></pre></p> <p>\u200b\u8fd9\u200b\u8868\u660e\u200b\u53d8\u91cf\u200b a \u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u4e3a\u200b numeric\uff08\u200b\u6570\u5b57\u200b\u7c7b\u578b\u200b\uff09\uff0c\u200b\u57fa\u7840\u200b\u6570\u636e\u7c7b\u578b\u200b\u4e3a\u200b double\uff0c\u200b\u5b83\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u503c\u200b\uff0c\u200b\u4e14\u503c\u200b\u4e3a\u200b 10\u3002</p>"},{"location":"code/r/#\u683c\u5f0f\u5316\u8f93\u51fa","title":"\u683c\u5f0f\u5316\u200b\u8f93\u51fa","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 20\uff0c\u200b\u5982\u679c\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u8db3\u200b 20 \u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c31\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u5c45\u4e2d\u200b\u540e\u200b\u5728\u200b\u4e24\u7aef\u200b\u8865\u4e0a\u200b\u4e95\u200b\u53f7\u200b\uff08padding\uff09\u3002</p> <p>\u200b\u8fd9\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> Python<pre><code>print(\"{:#^20}\".format(\"hello\"))\n</code></pre> <p>\u200b\u5728\u200b R \u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b</p> S<pre><code>stringr::str_pad(\"hello\", 20, side = \"both\", pad = \"#\")\n</code></pre> <p></p>"},{"location":"code/r/#\u540c\u65f6\u8f93\u51fa\u5b57\u7b26\u4e32\u548c\u53d8\u91cf","title":"\u540c\u65f6\u200b\u8f93\u51fa\u200b\u5b57\u7b26\u4e32\u200b\u548c\u200b\u53d8\u91cf","text":""},{"location":"code/r/#\u53d8\u91cf\u662f\u6807\u91cf","title":"\u53d8\u91cf\u200b\u662f\u200b\u6807\u91cf","text":"<p>\u200b\u5982\u679c\u200b\u53d8\u91cf\u200b\u662f\u200b\u6807\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>paste()</code> \u200b\u6216\u8005\u200b <code>paste0()</code> \u200b\u51fd\u6570\u200b\u6765\u200b\u5c06\u200b\u6587\u672c\u200b\u548c\u200b\u53d8\u91cf\u200b\u7ec4\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b <code>print()</code> \u200b\u51fd\u6570\u200b\u6765\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u3002</p> <ul> <li> <p><code>paste()</code> \u200b\u51fd\u6570\u200b\u5c06\u200b\u591a\u4e2a\u200b\u8f93\u5165\u200b\u5bf9\u8c61\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u5411\u91cf\u200b\u3002</p> </li> <li> <p><code>paste0()</code> \u200b\u51fd\u6570\u200b\u4e0e\u200b <code>paste()</code> \u200b\u51fd\u6570\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u4f1a\u200b\u5728\u200b\u4e0d\u540c\u200b\u5bf9\u8c61\u200b\u4e4b\u95f4\u200b\u6dfb\u52a0\u200b\u7a7a\u683c\u200b\u6216\u200b\u5176\u4ed6\u200b\u5206\u9694\u7b26\u200b\u3002</p> </li> </ul> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4f7f\u7528\u200b <code>paste()</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u793a\u4f8b\u200b\uff1a</p> S<pre><code>x &lt;- 10\ny &lt;- 20\nprint(paste(\"x =\", x, \"and y =\", y))\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a</p> Text Only<pre><code>[1] \"x = 10 and y = 20\"\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4f7f\u7528\u200b <code>paste0()</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u793a\u4f8b\u200b\uff1a</p> S<pre><code>x &lt;- 10\ny &lt;- 20\nprint(paste0(\"x =\", x, \" and y =\", y))\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a</p> Text Only<pre><code>[1] \"x =10 and y =20\"\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60a8\u200b\u9700\u8981\u200b\u5728\u200b\u6587\u672c\u200b\u548c\u200b\u53d8\u91cf\u200b\u4e4b\u95f4\u200b\u6dfb\u52a0\u200b\u5176\u4ed6\u200b\u5206\u9694\u7b26\u200b\uff0c\u200b\u4f8b\u5982\u200b\u9017\u53f7\u200b\u6216\u200b\u5192\u53f7\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u5c06\u200b\u5b83\u4eec\u200b\u653e\u5728\u200b <code>paste()</code> \u200b\u6216\u200b <code>paste0()</code> \u200b\u51fd\u6570\u200b\u7684\u200b\u5f15\u53f7\u200b\u4e2d\u200b\u5373\u53ef\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> S<pre><code>x &lt;- 10\ny &lt;- 20\nprint(paste(\"x:\", x, \", y:\", y))\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a</p> Text Only<pre><code>[1] \"x: 10 , y: 20\"\n</code></pre>"},{"location":"code/r/#\u53d8\u91cf\u662f\u5411\u91cf","title":"\u53d8\u91cf\u200b\u662f\u200b\u5411\u91cf","text":"<p>\u200b\u5982\u679c\u200b\u53d8\u91cf\u200b\u662f\u200b\u5411\u91cf\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7528\u200b <code>paste</code> \u200b\u4f1a\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f93\u51fa\u200b\u5f88\u591a\u904d\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/28866585/</p> S<pre><code>cat(\"The first three notes are: \", notes,\"\\n\",sep=\"\\t\")\n</code></pre> <p>\u200b\u6ce8\u610f\u200b cat \u200b\u51fd\u6570\u200b\u53ea\u200b\u9002\u5408\u200b\u5411\u200b\u5c4f\u5e55\u200b\u6253\u5370\u200b\u503c\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u8fd4\u56de\u503c\u200b</p> <p>Also important to note that <code>cat</code> is really only good for displaying output to the user; the function only ever returns <code>NULL</code> invisibly. If you want to capture the result, you'll need to use <code>paste</code>.</p> <p>Here's how to capture the result for this scenario: result &lt;- paste(c(\"The first three notes are: \", notes,\"\\n\"),collapse=\"\\t\").</p>"},{"location":"code/r/#\u5faa\u73af\u8fdb\u5ea6\u6761","title":"\u5faa\u73af\u200b\u8fdb\u5ea6\u6761","text":"S<pre><code>library(progress)\npb &lt;- progress_bar$new(total = 100, clear = FALSE)\nfor (i in 1:100) {\npb$tick()\nSys.sleep(1 / 100)\n}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://www.jianshu.com/p/efc3c7394e1f</p>"},{"location":"code/r/#\u8bbe\u7f6e\u6bcf\u884c\u4ee3\u7801\u7684\u5efa\u8bae\u957f\u5ea6","title":"\u8bbe\u7f6e\u200b\u6bcf\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u5efa\u8bae\u200b\u957f\u5ea6","text":"<p>\u200b\u9ed8\u8ba4\u200b\u6bcf\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u5efa\u8bae\u200b\u957f\u5ea6\u200b\u662f\u200b 80 \u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u5982\u679c\u200b\u8d85\u51fa\u200b\u5219\u200b\u4f1a\u200b\u6709\u200b\u84dd\u8272\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\u8fdb\u884c\u200b\u63d0\u793a\u200b\u3002</p> <p>\u200b\u5728\u200b\u9879\u76ee\u200b\u6587\u4ef6\u5939\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b <code>.lintr</code> \u200b\u6587\u672c\u6587\u4ef6\u200b\uff0c\u200b\u5199\u5165\u200b\uff1a</p> Text Only<pre><code>linters: with_defaults(line_length_linter=line_length_linter(200))\n</code></pre> <p>\u200b\u5373\u53ef\u200b\u5c06\u200b\u6bcf\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u5efa\u8bae\u200b\u957f\u5ea6\u200b\u6539\u4e3a\u200b 200 \u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u5c06\u200b\u84dd\u8272\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\u6d88\u9664\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/67822867/</p>"},{"location":"code/r/#r-markdown-\u6e32\u67d3\u4e3a-pdf-\u6587\u6863","title":"R Markdown \u200b\u6e32\u67d3\u200b\u4e3a\u200b PDF \u200b\u6587\u6863","text":"<p>\u200b\u66f4\u200b\u591a\u200b\u4f7f\u7528\u200b\u65b9\u5f0f\u200b</p> <p>https://bookdown.org/yihui/rmarkdown/pdf-document.html</p>"},{"location":"code/r/#\u6e32\u67d3\u5e26\u6709\u4e2d\u6587\u7684-pdf-\u6587\u6863","title":"\u6e32\u67d3\u200b\u5e26\u6709\u200b\u4e2d\u6587\u200b\u7684\u200b PDF \u200b\u6587\u6863","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttp://yufree.github.io/blog/2014/07/21/rmd-to-pdf.html</p> YAML<pre><code>---\ntitle: \"\u200b\u4e2d\u6587\u200b\u6807\u9898\u200b\"\nauthor: \"Jeremy Feng\"\nheader-includes:\n- \\usepackage{ctex}\noutput: pdf_document:\nlatex_engine: xelatex\n---\n</code></pre> <p></p>"},{"location":"code/r/#\u4e0d\u8f93\u51fa\u56fe\u7247\u6807\u9898","title":"\u4e0d\u200b\u8f93\u51fa\u200b\u56fe\u7247\u200b\u6807\u9898","text":"YAML<pre><code>---\ntitle: \"My Title\"\noutput: pdf_document:\nfig_caption: false\n---\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/42841375/</p>"},{"location":"code/r/#\u56fa\u5b9a\u56fe\u7247\u4f4d\u7f6e","title":"\u56fa\u5b9a\u200b\u56fe\u7247\u200b\u4f4d\u7f6e","text":"YAML<pre><code>header-includes:\n\\usepackage{float}\n\\floatplacement{figure}{H}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/51608212/</p>"},{"location":"code/r/#\u591a\u56fe\u5e76\u6392","title":"\u591a\u56fe\u200b\u5e76\u6392","text":"<p>\u200b\u76f4\u63a5\u200b\u8f93\u5165\u200b \\(\\LaTeX\\) \u200b\u547d\u4ee4\u200b\u5373\u53ef\u200b\u6e32\u67d3\u200b\u591a\u56fe\u200b\u5e76\u6392\u200b\u6548\u679c\u200b\uff1a</p> TeX<pre><code>\\begin{figure}[H]\n    \\centering\n\\begin{minipage}[t]{0.48\\textwidth}\n\\centering\n\\includegraphics[width=1\\textwidth]{./image.png}\n\\caption{\u200b\u6807\u9898\u200b 1}\\label{\u200b\u6807\u9898\u200b 1}\n\\end{minipage}\n\\begin{minipage}[t]{0.48\\textwidth}\n\\centering\n\\includegraphics[width=1\\textwidth]{./image.png}\n\\caption{\u200b\u6807\u9898\u200b 2}\\label{\u200b\u6807\u9898\u200b 2}\n\\end{minipage}\n\\end{figure}\n</code></pre>"},{"location":"code/r/#\u4ee3\u7801\u6362\u884c","title":"\u4ee3\u7801\u200b\u6362\u884c","text":"YAML<pre><code>---\ntitle: \"My Title\"\nheader-includes:\n- \\usepackage{ctex}\noutput: pdf_document:\nlatex_engine: xelatex\npandoc_args: --listings\nincludes:\nin_header: listings-settings.tex\n---\n</code></pre> <p>\u200b\u5728\u200b <code>listings-settings.tex</code> \u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\uff1a</p> TeX<pre><code>\\lstset{\n  breaklines=true,\n  basicstyle=\\ttfamily\n}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://d.cosx.org/d/422430-r-markdown</p> <p>\u200b\u4ee3\u7801\u200b\u6362\u884c\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u7834\u574f\u200b\u539f\u6709\u200b\u7684\u200b\u4ee3\u7801\u200b\u9ad8\u4eae\u200b\u6837\u5f0f\u200b\u3002\u200b\u8981\u200b\u60f3\u200b\u81ea\u5b9a\u4e49\u200b\u9ad8\u4eae\u200b\u6837\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b <code>listings-settings.tex</code> \u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\uff1a</p> TeX<pre><code>\\lstset{\n  language=,\n  basicstyle=\\ttfamily,\n  keywordstyle=\\color{blue}\\ttfamily,\n  stringstyle=\\color{red}\\ttfamily,\n  commentstyle=\\color{green!60!black}\\ttfamily,\n  showstringspaces=false,\n  keepspaces=true,\n  columns=flexible,\n  numbers=left,\n  numberstyle=\\scriptsize\\color{gray},\n  breaklines=true,\n  breakatwhitespace=true,\n  tabsize=4,\n  frame=single,\n  framerule=0pt,\n  morekeywords={},\n  escapeinside={(*@}{@*)}\n}\n</code></pre>"},{"location":"code/r/#\u4fdd\u7559-tex-\u6587\u4ef6","title":"\u4fdd\u7559\u200b <code>tex</code> \u200b\u6587\u4ef6","text":"<p>\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u5728\u200b\u6e32\u67d3\u200b\u5b8c\u200b PDF \u200b\u540e\u200b\u5c06\u200b <code>tex</code> \u200b\u6587\u4ef6\u200b\u5220\u9664\u200b\uff0c\u200b\u82e5\u200b\u8981\u200b\u4fdd\u7559\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\uff1a</p> YAML<pre><code>---\ntitle: \"My Title\"\nheader-includes:\n- \\usepackage{ctex}\noutput: pdf_document:\nkeep_tex: true\nlatex_engine: xelatex\n---\n</code></pre>"},{"location":"code/r/#\u8868\u683c\u6807\u9898","title":"\u8868\u683c\u200b\u6807\u9898","text":"<p>\u200b\u76f4\u63a5\u200b\u5728\u200b\u8868\u683c\u200b\u4e0b\u9762\u200b\u6dfb\u52a0\u200b\u4e00\u884c\u200b\uff1a</p> Text Only<pre><code>Table: Your Caption\n</code></pre> <p>\u200b\u4f8b\u5982\u200b\uff1a</p> Text Only<pre><code>| First Header  | Second Header | Third Header         |\n| :------------ | :-----------: | -------------------: |\n| First row     | Data          | Very long data entry |\n| Second row    | **Cell**      | *Cell*               |\n| Third row     | Cell that spans across two columns  ||\n\nTable: Your Caption\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/33965888/</p>"},{"location":"code/r/#\u8f93\u51fa\u76ee\u5f55","title":"\u8f93\u51fa\u200b\u76ee\u5f55","text":"YAML<pre><code>---\ntitle: \"Habits\"\noutput:\npdf_document:\ntoc: true\ntoc_depth: 3\nnumber_sections: true\n---\n</code></pre>"},{"location":"code/r/#\u516c\u5f0f\u73af\u5883\u5185\u90e8\u5e26\u6709\u4e2d\u6587","title":"\u516c\u5f0f\u200b\u73af\u5883\u200b\u5185\u90e8\u200b\u5e26\u6709\u200b\u4e2d\u6587","text":"YAML<pre><code>header-includes:\n\\xeCJKsetup{CJKmath=true}\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://tex.stackexchange.com/a/199423</p>"},{"location":"code/r/#\u6307\u5b9a\u9875\u8fb9\u8ddd","title":"\u6307\u5b9a\u200b\u9875\u200b\u8fb9\u200b\u8ddd","text":"<p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u8981\u200b\u6307\u5b9a\u200b\u5bbd\u5ea6\u200b\u4e3a\u200b 2cm \u200b\u7684\u200b\u8fb9\u200b\u8ddd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u4ee5\u4e0b\u5185\u5bb9\u200b\uff1a</p> YAML<pre><code>---\ntitle: \"Habits\"\nauthor: John Doe\ndate: March 22, 2005\ngeometry: margin=2cm\noutput: pdf_document\n---\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u8981\u200b\u4f20\u9012\u200b\u7ed9\u200b LaTeX \u200b\u7684\u200b geometry \u200b\u5305\u200b\u7684\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u89c4\u683c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u50cf\u200b LaTeX \u200b\u4e00\u6837\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u9009\u9879\u200b\u4e32\u8054\u200b\u8d77\u6765\u200b\uff1a</p> YAML<pre><code>---\ntitle: \"Habits\"\nauthor: John Doe\ndate: March 22, 2005\ngeometry: \"left=3cm,right=3cm,top=2cm,bottom=2cm\"\noutput: pdf_document\n---\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1ahttps://stackoverflow.com/a/13516042/</p>"},{"location":"code/r/#\u6307\u5b9a\u5b57\u53f7","title":"\u6307\u5b9a\u200b\u5b57\u53f7","text":"YAML<pre><code>---\ntitle: \"Habits\"\nauthor: John Doe\ndate: March 22, 2005\nfontsize: 12pt\n---\n</code></pre>"},{"location":"code/r/#\u8d85\u94fe\u63a5\u989c\u8272","title":"\u8d85\u94fe\u63a5\u200b\u989c\u8272","text":"YAML<pre><code>title: \"Habits\"\nauthor: John Doe\ndate: March 22, 2005\nlinkcolor: blue\n</code></pre>"},{"location":"code/r/#ref","title":"<code>ref</code>","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u5728\u200b\u4f60\u200b\u60f3\u8981\u200b\u5f15\u7528\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u7ed9\u200b\u76ee\u6807\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4f8b\u5982\u200b\u56fe\u8868\u200b\u3001\u200b\u7ae0\u8282\u200b\u6216\u200b\u8868\u683c\u200b\uff09\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u6807\u7b7e\u200b\u3002\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>\\label{}</code> \u200b\u6765\u200b\u521b\u5efa\u200b\u6807\u7b7e\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u200b\u5728\u200b\u56fe\u8868\u200b\u5904\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u6807\u7b7e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8be5\u200b\u4f4d\u7f6e\u200b\u6dfb\u52a0\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\uff1a</p> Markdown<pre><code>\\label{fig:myfigure}\n</code></pre> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u5728\u200b\u6587\u6863\u200b\u7684\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\u5f15\u7528\u200b\u8be5\u200b\u6807\u7b7e\u200b\u3002\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b <code>\\ref{}</code> \u200b\u6765\u200b\u5f15\u7528\u200b\u6807\u7b7e\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u8981\u200b\u5f15\u7528\u200b\u540d\u4e3a\u200b\"myfigure\"\u200b\u7684\u200b\u56fe\u8868\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\uff1a</p> Markdown<pre><code>\u200b\u5982\u56fe\u200b\\ref{fig:myfigure}\u200b\u6240\u793a\u200b\n</code></pre>"},{"location":"code/r/#\u591a\u4e2a\u4f5c\u8005","title":"\u591a\u4e2a\u200b\u4f5c\u8005","text":"Text Only<pre><code>author: \n  - Author 1\n  - Author 2\n</code></pre>"},{"location":"code/sql/","title":"SQL \u200b\u6570\u636e\u5e93","text":"<p>Cheat Sheet</p> <p>Mosh Cheat Sheet</p> <p>LearnSQL.com Cheat Sheet</p>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u5355\u8868\u67e5\u8be2","title":"\u5355\u8868\u200b\u67e5\u8be2","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#select","title":"<code>SELECT</code>","text":"SQL<pre><code>SELECT\nname\nprice\nprice*0.9 AS 'discouted price'\nFROM\ntablename\nWHERE\nNOT (age &lt; 10 OR (price &gt; 100 AND city=Shanghai))\nORDER BY\nname\n</code></pre> <ul> <li><code>SQL</code>\u200b\u8bed\u53e5\u200b\u4e0d\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b\uff0c\u200b\u5373\u200b<code>SELECT</code>\u3001<code>Select</code>\u3001<code>select</code>\u200b\u662f\u200b\u540c\u6837\u200b\u7684\u200b\u3002\u200b\u4f46\u200b\u5efa\u8bae\u200b\u5173\u952e\u8bcd\u200b\u7528\u200b\u5927\u5199\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u9605\u8bfb\u200b\uff0c\u200b\u8ba9\u200b\u4ee3\u7801\u200b\u66f4\u200b\u89c4\u8303\u200b\u3002</li> <li>\u200b\u53ef\u4ee5\u200b\u5728\u200b<code>SELECT</code>\u200b\u4e2d\u200b\u505a\u200b\u7b97\u672f\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b\u5217\u200b\uff0c\u200b\u5e76\u7528\u200b<code>AS</code>\u200b\u81ea\u5b9a\u4e49\u200b\u5217\u540d\u200b\u3002</li> <li><code>WHERE</code>\u200b\u7528\u4e8e\u200b\u7b5b\u9009\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0c<code>AND</code>\u200b\u7684\u200b\u4f18\u5148\u7ea7\u200b\u6bd4\u200b<code>OR</code>\u200b\u9ad8\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c<code>age &lt; 10 OR price &gt; 100 AND city=Shanghai</code>\u200b\u76f8\u5f53\u4e8e\u200b<code>age &lt; 10 OR (price &gt; 100 AND city=Shanghai)</code>\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#where-\u7b5b\u9009","title":"<code>WHERE</code> \u200b\u7b5b\u9009","text":"<p>\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u5728\u200b <code>WHERE</code> \u200b\u8bed\u53e5\u200b\u540e\u9762\u200b\u5f15\u7528\u200b\u522b\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>HAVING</code> \u200b\u4ee3\u66ff\u200b <code>WHERE</code> \u3002</p> <p>\u200b\u9898\u76ee\u200b</p> <p>https://www.nowcoder.com/practice/d8a624021183454586da94d280cc8046</p> <p>\u200b\u6613\u9519\u200b\u70b9\u200b\uff0c\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u662f\u200b from -&gt; where -&gt; group by -&gt; having -&gt; select -&gt; order by -&gt; limit\u3002</p> <p>\u200b\u6240\u4ee5\u200b\u5982\u679c\u200b\u5728\u200b where \u200b\u540e\u9762\u200b\u9650\u5236\u200b total_price\uff0c\u200b\u8fd9\u65f6\u5019\u200b select \u200b\u91cc\u200b\u7684\u200b SUM \u200b\u90fd\u200b\u6ca1\u200b\u5f00\u59cb\u200b\u8ba1\u7b97\u200b\uff0cOrderItems\u200b\u91cc\u200b\u6ca1\u6709\u200b total_price\uff0c\u200b\u6240\u4ee5\u200b\u4f1a\u200b\u62a5\u9519\u200b where \u200b\u627e\u200b\u4e0d\u5230\u200b total_price\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#distinct\u63d0\u53d6\u552f\u4e00\u503c","title":"<code>DISTINCT</code>\uff1a\u200b\u63d0\u53d6\u200b\u552f\u4e00\u200b\u503c","text":"SQL<pre><code>-- \u200b\u9009\u62e9\u200b\u6240\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u7279\u5b9a\u200b\u5217\u200b\uff08\u200b\u8fd9\u91cc\u200b\u662f\u200b country \u200b\u5217\u200b\uff09\u200b\u7684\u200b\u552f\u4e00\u200b\u503c\u200b\nSELECT DISTINCT country\nFROM customers;\n</code></pre> <p>\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e86\u200b SELECT DISTINCT \u200b\u547d\u4ee4\u200b\u6765\u200b\u4ece\u200b customers \u200b\u8868\u4e2d\u200b\u63d0\u53d6\u200b\u552f\u4e00\u200b\u7684\u200b country \u200b\u5217\u200b\u6570\u636e\u200b\u3002DISTINCT \u200b\u5173\u952e\u5b57\u200b\u544a\u8bc9\u200b\u6570\u636e\u5e93\u200b\u53ea\u200b\u8fd4\u56de\u200b\u4e0d\u540c\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u91cd\u590d\u200b\u7684\u200b\u503c\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b customers \u200b\u8868\u4e2d\u200b\u6709\u200b\u591a\u4e2a\u200b\u76f8\u540c\u200b\u7684\u200b\u56fd\u5bb6\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8be5\u200b\u67e5\u8be2\u200b\u5c06\u200b\u4ec5\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u8be5\u200b\u56fd\u5bb6\u200b\u7684\u200b\u552f\u4e00\u200b\u503c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6bcf\u4e2a\u200b\u91cd\u590d\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u3002</p> <p>\u200b\u8fd9\u662f\u200b\u9002\u7528\u200b\u4e8e\u200b\u8bb8\u591a\u200b\u60c5\u51b5\u200b\u7684\u200b\u6709\u7528\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4ece\u8868\u4e2d\u200b\u67e5\u627e\u200b\u552f\u4e00\u200b\u503c\u4ee5\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\u6216\u200b\u8fc7\u6ee4\u200b\u6389\u200b\u91cd\u590d\u200b\u503c\u200b\uff0c\u200b\u4ee5\u200b\u4f7f\u200b\u7ed3\u679c\u200b\u66f4\u5177\u200b\u53ef\u8bfb\u6027\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#in\u7b49\u4e8e\u591a\u4e2a\u503c\u4e2d\u7684\u4e00\u4e2a","title":"<code>IN</code>\uff1a\u200b\u7b49\u4e8e\u200b\u591a\u4e2a\u200b\u503c\u4e2d\u200b\u7684\u200b\u4e00\u4e2a","text":"<p>SQL<pre><code>SELECT *\nFROM customers\nWHERE state IN ('VA', 'NY', 'CA') # (1)!\n</code></pre> 1. IN \u200b\u540e\u9762\u200b\u7528\u200b\u5706\u62ec\u53f7\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u65b9\u62ec\u53f7\u200b\u3002</p> <p>\u200b\u7b49\u4ef7\u200b\u4e8e\u200b</p> SQL<pre><code>SELECT *\nFROM customers\nWHERE state = 'VA' OR state = 'NY' OR state = 'CA'\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#between\u4ecb\u4e8e\u4e24\u8005\u4e4b\u95f4","title":"<code>BETWEEN</code>\uff1a\u200b\u4ecb\u4e8e\u200b\u4e24\u8005\u4e4b\u95f4","text":"SQL<pre><code>SELECT *\nFROM customers\nWHERE points BETWEEN 100 AND 200\n</code></pre> <p>\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\uff08\u200b\u4e24\u7aef\u200b\u662f\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u548c\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5927\u4e8e\u200b\u548c\u200b\u5c0f\u4e8e\u200b\uff09</p> SQL<pre><code>SELECT *\nFROM customers\nWHERE points &gt;= 100 AND points &lt;= 200\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#like\u7b5b\u9009\u5b57\u7b26\u4e32","title":"<code>LIKE</code>\uff1a\u200b\u7b5b\u9009\u200b\u5b57\u7b26\u4e32","text":"SQL<pre><code>SELECT *\nFROM customers\nWHERE first_name LIKE 'b%'\n</code></pre> <ul> <li><code>%</code>\u200b\u4ee3\u8868\u200b\u4efb\u610f\u200b\u957f\u5ea6\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b 0 \u200b\u4e2a\u200b\u3002</li> <li>\u200b\u8fd9\u53e5\u200b\u8bdd\u200b\u610f\u601d\u200b\u662f\u200b\u7b5b\u9009\u200b\u51fa\u200b<code>first_name</code>\u200b\u662f\u200b\u4ee5\u200b<code>b</code>\u200b\u6216\u200b<code>B</code>\u200b\u5f00\u5934\u200b\u7684\u200b\u6570\u636e\u200b\u3002</li> </ul> SQL<pre><code>SELECT *\nFROM customers\nWHERE first_name LIKE '%b%'\n</code></pre> <ul> <li>\u200b\u8fd9\u53e5\u200b\u8bdd\u200b\u610f\u601d\u200b\u662f\u200b\u7b5b\u9009\u200b\u51fa\u200b<code>first_name</code>\u200b\u662f\u200b\u5305\u542b\u200b<code>b</code>\u200b\u6216\u200b<code>B</code>\u200b\u7684\u200b\u6570\u636e\u200b\uff0c<code>b</code>\u200b\u6216\u200b<code>B</code>\u200b\u7684\u200b\u524d\u540e\u200b\u53ef\u4ee5\u200b\u6709\u200b\u4efb\u4f55\u200b\u5b57\u7b26\u200b\u3002</li> </ul> SQL<pre><code>SELECT *\nFROM customers\nWHERE first_name LIKE '_b'\n</code></pre> <ul> <li><code>_</code>\u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u591a\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u5c11\u200b\uff0c\u200b\u5fc5\u987b\u200b\u521a\u597d\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u3002</li> <li>\u200b\u8fd9\u53e5\u200b\u8bdd\u200b\u610f\u601d\u200b\u662f\u200b\u7b5b\u9009\u200b\u51fa\u200b<code>first_name</code>\u200b\u662f\u200b\u4ee5\u200b<code>b</code>\u200b\u6216\u200b<code>B</code>\u200b\u7ed3\u5c3e\u200b\u7684\u200b\uff0c\u200b\u4e14\u200b\u524d\u9762\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b\u6570\u636e\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#regexp\u6b63\u5219\u8868\u8fbe\u5f0f\u7b5b\u9009\u5b57\u7b26\u4e32","title":"<code>REGEXP</code>\uff1a\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u7b5b\u9009\u200b\u5b57\u7b26\u4e32","text":"SQL<pre><code>SELECT *\nFROM customers\nWHERE first_name REGEXP '^a' # (1)!\n</code></pre> <ol> <li> <p><code>REGEXP</code> \u200b\u540e\u9762\u200b\u7528\u200b\u5355\u5f15\u53f7\u200b\u5c06\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u653e\u5165\u200b\u5176\u4e2d\u200b\u3002</p> </li> <li> <p>^: beginning of a string</p> </li> <li>$: end of a string</li> <li>|: logical OR</li> <li>[abc]: match any single characters</li> <li>[a-d]: any characters from a to d\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u628a\u200b [abcd] \u200b\u5168\u90e8\u200b\u5199\u200b\u51fa\u6765\u200b\u4e86\u200b\u3002</li> </ol>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#substring\u4ece\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u63d0\u53d6\u4e00\u4e2a\u5b50\u5b57\u7b26\u4e32","title":"<code>SUBSTRING</code>\uff1a\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u5b57\u7b26\u4e32","text":"<p><code>SUBSTRING</code> \u200b\u9700\u8981\u200b\u81f3\u5c11\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\uff1a\u200b\u8981\u200b\u63d0\u53d6\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u548c\u200b\u8981\u200b\u63d0\u53d6\u200b\u7684\u200b\u5b50\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u3002</p> <p><code>SUBSTRING</code> \u200b\u7684\u200b\u8bed\u6cd5\u200b\u5982\u4e0b\u200b\uff1a</p> SQL<pre><code>SUBSTRING(string, start_position, length)\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c</p> <ul> <li><code>string</code> \u200b\u662f\u200b\u8981\u200b\u63d0\u53d6\u200b\u5b50\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u539f\u59cb\u200b\u5b57\u7b26\u4e32\u200b\u3002</li> <li><code>start_position</code> \u200b\u662f\u5b50\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u6574\u200b\u6570\u503c\u200b\u6216\u200b\u4e00\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\u3002</li> <li><code>length</code> \u200b\u662f\u200b\u8981\u200b\u63d0\u53d6\u200b\u7684\u200b\u5b50\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u6574\u200b\u6570\u503c\u200b\u6216\u200b\u4e00\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\u3002\u200b\u5982\u679c\u200b\u7701\u7565\u200b\u6b64\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u63d0\u53d6\u200b\u4ece\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u5230\u200b\u5b57\u7b26\u4e32\u200b\u672b\u5c3e\u200b\u7684\u200b\u6240\u6709\u200b\u5b57\u7b26\u200b\u3002</li> </ul> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\u5c06\u200b\u4ece\u200b\u5b57\u7b26\u4e32\u200b <code>\"Hello, world!\"</code> \u200b\u4e2d\u200b\u63d0\u53d6\u200b\u5b50\u200b\u5b57\u7b26\u4e32\u200b <code>\"world\"</code>\uff1a</p> SQL<pre><code>SELECT SUBSTRING('Hello, world!', 8, 5);\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a</p> <p>world SUBSTRING() \u200b\u8fd8\u200b\u652f\u6301\u200b\u5728\u200b WHERE \u200b\u5b50\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4ee5\u200b\u8fc7\u6ee4\u200b\u57fa\u4e8e\u200b\u5b50\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#concat\u8fde\u63a5\u4e24\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u4e32","title":"<code>CONCAT()</code>\uff1a\u200b\u8fde\u63a5\u200b\u4e24\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u4e32","text":"<p>\u200b\u5728\u200b SQL \u200b\u4e2d\u200b\uff0c<code>CONCAT()</code> \u200b\u51fd\u6570\u200b\u7528\u4e8e\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u3002\u200b\u5b83\u200b\u63a5\u53d7\u200b\u4efb\u610f\u200b\u6570\u91cf\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u53c2\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5b83\u4eec\u200b\u8fde\u63a5\u6210\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u8bed\u6cd5\u200b\uff1a</p> SQL<pre><code>CONCAT(string1, string2, ...)\n</code></pre> <p>\u200b\u53c2\u6570\u200b\uff1a</p> <ul> <li><code>string1</code>, <code>string2</code>, ...\uff1a\u200b\u8981\u200b\u8fde\u63a5\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</li> </ul> <p>\u200b\u8fd4\u56de\u503c\u200b\uff1a</p> <ul> <li>\u200b\u8fde\u63a5\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</li> </ul> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> SQL<pre><code>SELECT CONCAT('Hello', ' ', 'World') AS Greeting;\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\uff1a</p> Text Only<pre><code>Greeting\nHello World\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <ul> <li>\u200b\u5982\u679c\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u4e3a\u200b NULL\uff0c\u200b\u5219\u200b\u6574\u4e2a\u200b\u7ed3\u679c\u200b\u4e3a\u200b NULL\u3002</li> <li>\u200b\u5982\u679c\u200b\u53c2\u6570\u200b\u90fd\u200b\u662f\u200b\u6570\u5b57\u200b\uff0c\u200b\u5219\u200b\u5b83\u4eec\u200b\u5c06\u200b\u88ab\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u5e76\u200b\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#is-null\u7b5b\u9009\u7a7a\u503c","title":"<code>IS NULL</code>\uff1a\u200b\u7b5b\u9009\u200b\u7a7a\u503c","text":"SQL<pre><code>SELECT *\nFROM customers\nWHERE phone IS NULL\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#order-by\u6392\u5e8f","title":"<code>ORDER BY</code>\uff1a\u200b\u6392\u5e8f","text":"SQL<pre><code>SELECT *\nFROM customers\nORDER BY state, first_name DESC\n</code></pre> <ul> <li><code>ORDER BY</code>\u200b\u4e24\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u53cc\u91cd\u200b\u6392\u5e8f\u200b\u3002</li> <li><code>DESC</code>\u200b\u662f\u200b\u6309\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\u3002</li> </ul> <p>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u6309\u200b\u591a\u5217\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> SQL<pre><code>SELECT *\nFROM table_name\nORDER BY column1 ASC, column2 DESC;\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0ccolumn1 \u200b\u8868\u793a\u200b\u7b2c\u4e00\u5217\u200b\uff0cASC \u200b\u8868\u793a\u200b\u5347\u5e8f\u200b\u6392\u5217\u200b\uff0ccolumn2 \u200b\u8868\u793a\u200b\u7b2c\u4e8c\u5217\u200b\uff0cDESC \u200b\u8868\u793a\u200b\u964d\u5e8f\u200b\u6392\u5217\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b</p> <p><code>ORDER BY</code> \u200b\u8bed\u53e5\u200b\u5fc5\u987b\u200b\u653e\u5728\u200b <code>WHERE</code> \u200b\u4e4b\u540e\u200b\u3002</p>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#limit\u53d6\u524d\u51e0\u6761\u6570\u636e","title":"<code>LIMIT</code>\uff1a\u200b\u53d6\u524d\u200b\u51e0\u6761\u200b\u6570\u636e","text":"SQL<pre><code>SELECT *\nFROM customers\nLIMIT 3\n</code></pre> <ul> <li>\u200b\u9650\u5236\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u6761\u6570\u200b\u3002\u200b\u6700\u7ec8\u200b\u53ea\u200b\u8fd4\u56de\u200b 3 \u200b\u6761\u200b\u6570\u636e\u200b\u3002</li> </ul> SQL<pre><code>SELECT *\nFROM customers\nLIMIT 6, 3\n</code></pre> <ul> <li>\u200b\u5148\u200b\u8df3\u200b\u8fc7\u200b\u524d\u200b 6 \u200b\u6761\u200b\u6570\u636e\u200b\uff0c\u200b\u518d\u200b\u8fd4\u56de\u200b\u7b2c\u200b 7 \u200b\u81f3\u200b 9 \u200b\u6761\u200b\u6570\u636e\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u8fde\u63a5","title":"\u8fde\u63a5","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#inner-join\u5185\u8fde\u63a5","title":"<code>INNER JOIN</code>\uff1a\u200b\u5185\u200b\u8fde\u63a5","text":"SQL<pre><code>SELECT c.customer_id, first_name, last_name\nFROM customers c\nJOIN orders o\nON c.customer_id = o.customer_id\n</code></pre> <ul> <li><code>FROM customers c</code>\u200b\u662f\u200b\u7ed9\u200b<code>customers</code>\u200b\u8d77\u200b\u4e00\u4e2a\u200b\u522b\u540d\u200b<code>c</code>\uff0c\u200b\u4e4b\u540e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>c</code>\u200b\u6765\u200b\u4ee3\u66ff\u200b<code>customers</code>\uff0c\u200b\u8d77\u5230\u200b\u7b80\u5316\u200b\u4ee3\u7801\u200b\u7684\u200b\u4f5c\u7528\u200b\u3002</li> <li>\u200b\u56e0\u4e3a\u200b\u5185\u200b\u8fde\u63a5\u200b\u7684\u200b\u903b\u8f91\u200b\u662f\u200b\u6309\u7167\u200b<code>c.customer_id = o.customer_id</code>\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5f97\u5230\u200b\u7684\u200b\u8868\u6709\u200b\u4e24\u5217\u200b\u90fd\u200b\u662f\u200b<code>customer_id</code>\u3002\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u60f3\u200b<code>SELECT customer_id</code>\uff0c\u200b\u5c31\u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200b<code>customer_id</code>\u200b\u662f\u200b\u6765\u81ea\u200b\u54ea\u4e2a\u200b\u8868\u200b\uff08\u200b\u5176\u5b9e\u200b\u6765\u81ea\u200b\u54ea\u4e2a\u200b\u8868\u90fd\u200b\u4e00\u6837\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u672c\u6765\u200b\u5c31\u662f\u200b\u5185\u200b\u8fde\u63a5\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u7684\u200b<code>customer_id</code>\u200b\u5fc5\u7136\u200b\u4e00\u6837\u200b\uff09\u3002\u200b\u4f8b\u5982\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u5c31\u200b\u6307\u5b9a\u200b\u6765\u81ea\u200b<code>c.customer_id</code>\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u62a5\u9519\u200b\u8bf4\u200b ambiguous\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u4ece\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u8de8\u8868\u8fde\u63a5","title":"\u4ece\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u8de8\u8868\u200b\u8fde\u63a5","text":"SQL<pre><code>SELECT *\nFROM customers c\nJOIN sql_inventory.product p\nON c.customer_id = o.customer_id\n</code></pre> <ul> <li>\u200b\u7531\u4e8e\u200b<code>product</code>\u200b\u5728\u200b<code>sql_inventory</code>\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u6240\u4ee5\u200b<code>customers</code>\u200b\u548c\u200b<code>product</code>\u200b\u4e0d\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5728\u200b\u5bf9\u200b\u5b83\u4eec\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\u65f6\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b<code>product</code>\u200b\u5728\u200b<code>sql_inventory</code>\u200b\u6570\u636e\u5e93\u200b\u3002</li> <li>\u200b\u53ea\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u90a3\u4e9b\u200b\u4e0d\u200b\u5728\u200b\u5f53\u524d\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u8868\u200b\u3002\u200b\u5982\u679c\u200b\u6570\u636e\u8868\u200b\u672c\u6765\u200b\u5c31\u200b\u5728\u200b\u5f53\u524d\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u4e86\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u5c06\u540c\u4e00\u5f20\u8868\u5f53\u4f5c\u4e24\u5f20\u8868\u8fdb\u884c\u8fde\u63a5\u81ea\u8eab\u8fde\u63a5","title":"\u5c06\u200b\u540c\u200b\u4e00\u5f20\u200b\u8868\u200b\u5f53\u4f5c\u200b\u4e24\u5f20\u200b\u8868\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\uff08\u200b\u81ea\u8eab\u200b\u8fde\u63a5\u200b\uff09","text":"<p>\u200b\u4e00\u5f20\u200b\u8868\u4e2d\u200b\u6709\u200b<code>\u200b\u5458\u5de5\u200b ID</code>\u200b\u548c\u200b<code>\u200b\u5458\u5de5\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7ecf\u7406\u200b</code>\uff0c\u200b\u6211\u4eec\u200b\u60f3\u200b\u627e\u5230\u200b\u5458\u5de5\u200b\u548c\u200b\u7ecf\u7406\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u3002</p> SQL<pre><code>SELECT\ne.employee_id,\ne.first_name,\nm.first_name AS manager\nFROM emploees e\nJOIN emploees m\nON e.reports_to = m.employee_id\n</code></pre> <ul> <li>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u540c\u200b\u4e00\u5f20\u200b\u8868\u200b\u8bbe\u7f6e\u200b\u591a\u4e2a\u200b\u522b\u540d\u200b\uff0c\u200b\u5f53\u6210\u200b\u591a\u4e2a\u200b\u8868\u6765\u200b\u4f7f\u7528\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#outer-join\u5916\u8fde\u63a5","title":"<code>OUTER JOIN</code>\uff1a\u200b\u5916\u200b\u8fde\u63a5","text":"<ul> <li><code>JOIN</code>\u200b\u9ed8\u8ba4\u200b\u662f\u200b<code>INNER JOIN</code>\u3002</li> <li>\u200b\u6709\u200b\u4e24\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b<code>OUTER JOIN</code>\uff1a<code>LEFT JOIN</code>\u200b\u548c\u200b<code>RIGHT JOIN</code>\u3002</li> <li><code>LEFT JOIN</code>\u200b\u4f1a\u200b\u4fdd\u7559\u200b\u5de6\u8fb9\u200b\u7684\u200b\u8868\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u8bba\u200b\u540e\u9762\u200b\u7684\u200b\u8fde\u63a5\u200b\u914d\u5bf9\u200b\u662f\u5426\u200b\u6210\u529f\u200b\u3002</li> <li><code>RIGHT JOIN</code>\u200b\u4f1a\u200b\u4fdd\u7559\u200b\u53f3\u8fb9\u200b\u7684\u200b\u8868\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u8bba\u200b\u540e\u9762\u200b\u7684\u200b\u8fde\u63a5\u200b\u914d\u5bf9\u200b\u662f\u5426\u200b\u6210\u529f\u200b\u3002</li> <li><code>LEFT JOIN</code>\u200b\u7b49\u4ef7\u200b\u4e8e\u200b<code>LEFT OUTER JOIN</code>\uff0c\u200b\u4e2d\u95f4\u200b\u7684\u200b<code>OUTER</code>\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\u4e0d\u5199\u200b\u3002</li> </ul> SQL<pre><code>SELECT *\nFROM customers c\nLEFT JOIN orders o\nON c.customer_id = o.customer_id\n</code></pre> <ul> <li>\u200b\u56e0\u4e3a\u200b\u9605\u8bfb\u200b\u4ee3\u7801\u200b\u7684\u200b\u987a\u5e8f\u200b\u662f\u200b\u4ece\u4e0a\u5230\u4e0b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5efa\u8bae\u200b\u7528\u200b<code>LEFT JOIN</code>\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u5bb9\u6613\u200b\u7406\u89e3\u200b\u8fde\u63a5\u200b\u7684\u200b\u903b\u8f91\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u7528\u200b<code>RIGHT JOIN</code>\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u5148\u60f3\u200b\u4e00\u4e0b\u200b<code>RIGHT JOIN</code>\u200b\u540e\u9762\u200b\u7684\u200b\u8868\u957f\u200b\u4ec0\u4e48\u200b\u6837\u5b50\u200b\uff0c\u200b\u518d\u200b\u60f3\u200b\u524d\u9762\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u8fd9\u6837\u200b\u6bd4\u8f83\u200b\u9ebb\u70e6\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#using\u5217\u540d\u76f8\u540c\u65f6\u53ea\u9700\u6307\u5b9a\u4e00\u4e2a\u5217\u540d","title":"<code>USING</code>\uff1a\u200b\u5217\u540d\u200b\u76f8\u540c\u200b\u65f6\u200b\u53ea\u200b\u9700\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u5217\u540d","text":"SQL<pre><code>SELECT *\nFROM customers c\nJOIN orders o\nUSING (customer_id)\n</code></pre> <p>\u200b\u7b49\u4ef7\u200b\u4e8e\u200b</p> SQL<pre><code>SELECT *\nFROM customers c\nJOIN orders o\nON c.customer_id = o.customer_id\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#cross-join\u4ea4\u53c9\u8fde\u63a5\u4e5f\u53eb\u7b1b\u5361\u5c14\u4e58\u79ef","title":"<code>CROSS JOIN</code>\uff1a\u200b\u4ea4\u53c9\u200b\u8fde\u63a5\u200b\uff0c\u200b\u4e5f\u200b\u53eb\u200b\u7b1b\u5361\u5c14\u200b\u4e58\u79ef","text":"SQL<pre><code>SELECT *\nFROM colors\nCROSS JOIN sizes\n</code></pre> <ul> <li>\u200b\u82e5\u200b<code>colors</code>\u200b\u6709\u200b 3 \u200b\u884c\u200b\uff0c<code>sizes</code>\u200b\u6709\u200b 4 \u200b\u884c\u200b\uff0c\u200b\u5219\u200b<code>CROSS JOIN</code>\u200b\u540e\u200b\u6709\u200b 12 \u200b\u884c\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#union\u4e0a\u4e0b\u8fde\u63a5","title":"<code>UNION</code>\uff1a\u200b\u4e0a\u4e0b\u200b\u8fde\u63a5","text":"SQL<pre><code>SELECT name, address\nFROM customers\nUNION\nSELECT name, address\nFROM clients\n</code></pre> <ul> <li><code>UNION</code>\u200b\u5185\u90e8\u200b\u7684\u200b\u6bcf\u4e2a\u200b<code>SELECT</code>\u200b\u8bed\u53e5\u200b\u5fc5\u987b\u200b\u62e5\u6709\u200b\u76f8\u540c\u200b\u6570\u91cf\u200b\u7684\u200b\u5217\u200b\u3002\u200b\u5217\u200b\u4e5f\u200b\u5fc5\u987b\u200b\u62e5\u6709\u200b\u76f8\u4f3c\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u6bcf\u4e2a\u200b<code>SELECT</code>\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200b\u5217\u200b\u7684\u200b\u987a\u5e8f\u200b\u5fc5\u987b\u200b\u76f8\u540c\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u51fd\u6570","title":"\u51fd\u6570","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u805a\u5408\u51fd\u6570","title":"\u805a\u5408\u200b\u51fd\u6570","text":"<ul> <li>avg(expr) \u2212 average value for rows within the group</li> <li>count(expr) \u2212 count of values for rows within the group</li> <li>max(expr) \u2212 maximum value within the group</li> <li>min(expr) \u2212 minimum value within the group</li> <li>sum(expr) \u2212 sum of values within the group</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u63d2\u5165\u6570\u636e","title":"\u63d2\u5165\u200b\u6570\u636e","text":"","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u6570\u636e\u5c5e\u6027","title":"\u6570\u636e\u200b\u5c5e\u6027","text":"<ul> <li>\u200b\u70b9\u51fb\u200b\u56fe\u4e2d\u200b\u7684\u200b\u5de5\u5177\u200b\u56fe\u6807\u200b\uff0c\u200b\u67e5\u770b\u200b\u6bcf\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002</li> </ul> <ul> <li><code>PK</code>\uff0cPrimary Key\uff1a\u200b\u4e3b\u952e\u200b\uff0c\u200b\u552f\u4e00\u200b\u786e\u5b9a\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u3002\u200b\u4e3b\u952e\u200b\u53ef\u4ee5\u200b\u7531\u200b\u591a\u4e2a\u200b\u53d8\u91cf\u200b\u7ec4\u6210\u200b\u3002</li> <li><code>NN</code>\uff0cNot Null\uff1a\u200b\u662f\u5426\u200b\u5fc5\u987b\u200b\u975e\u7a7a\u200b\u3002\u200b\u5982\u679c\u200b\u6253\u52fe\u200b\uff0c\u200b\u5219\u200b\u8bf4\u660e\u200b\u8fd9\u4e2a\u200b\u53d8\u91cf\u200b\u4e0d\u80fd\u200b\u662f\u200b\u7a7a\u503c\u200b\u3002</li> <li><code>AI</code>\uff0cAuto Incremental\uff1a\u200b\u81ea\u52a8\u200b\u9012\u589e\u200b\u3002\u200b\u5f53\u6709\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\u63d2\u5165\u200b\u65f6\u200b\uff0c\u200b\u81ea\u52a8\u200b\u628a\u200b\u8fd9\u4e2a\u200b\u53d8\u91cf\u200b\u52a0\u200b 1\u3002\u200b\u8fd9\u200b\u5728\u200b\u4e3b\u952e\u200b\u4e0a\u200b\u7ecf\u5e38\u200b\u7528\u200b\uff0c\u200b\u901a\u5e38\u200b ID \u200b\u5c31\u662f\u200b\u9010\u6e10\u200b\u52a0\u200b 1 \u200b\u7684\u200b\u3002</li> <li><code>Default</code>\uff1a\u200b\u82e5\u200b\u4e0d\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5219\u200b\u9ed8\u8ba4\u503c\u200b\u662f\u200b\u591a\u5c11\u200b\u3002</li> <li><code>Datatype</code>\u200b\u4e2d\u200b\u7684\u200b<code>VARCHAR(50)</code>\u200b\u662f\u200b Variable Characters\uff0c\u200b\u610f\u601d\u200b\u662f\u200b\u6700\u200b\u591a\u200b 50 \u200b\u4e2a\u5b57\u7b26\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002\u200b\u5982\u679c\u200b\u7528\u200b<code>CHAR(50)</code>\u200b\u5219\u200b\u8bf4\u660e\u200b\u5fc5\u987b\u200b\u662f\u200b 50 \u200b\u4e2a\u5b57\u7b26\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u8db3\u200b 50 \u200b\u4e2a\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5728\u200b\u540e\u9762\u200b\u8865\u200b\u4e0a\u200b\u7a7a\u683c\u200b\uff0c\u200b\u8fd9\u200b\u6709\u65f6\u200b\u662f\u200b\u5f88\u200b\u8017\u8d39\u200b\u7a7a\u95f4\u200b\u7684\u200b\u3002</li> <li><code>Datatype</code>\u200b\u4e2d\u200b\u7684\u200b<code>DECIMAL</code>\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7cbe\u5ea6\u200b\u635f\u5931\u200b\uff0c\u200b\u6570\u636e\u7c7b\u578b\u200b<code>DECIMAL(p,s)</code>\u200b\u9700\u8981\u200b\u5206\u522b\u200b\u6307\u5b9a\u200b\u5c0f\u6570\u200b\u7684\u200b\u6700\u5927\u200b\u4f4d\u6570\u200b\uff08p\uff09\u200b\u548c\u200b\u5c0f\u6570\u4f4d\u200b\u7684\u200b\u6570\u91cf\u200b\uff08s\uff09\uff1a</li> <li>\u200b\u4f8b\u5982\u200b<code>DECIMAL(4,2)</code>\u200b\u4ee3\u8868\u200b\u5c0f\u6570\u70b9\u200b\u5de6\u53f3\u200b\u4e24\u8fb9\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u5b57\u200b\u4e00\u5171\u200b\u6700\u200b\u591a\u200b 4 \u200b\u4e2a\u200b\uff0c\u200b\u5c0f\u6570\u70b9\u200b\u53f3\u8fb9\u200b\u4fdd\u7559\u200b 2 \u200b\u4e2a\u200b\u6570\u5b57\u200b\u3002</li> <li>p (precision) \uff1a\u200b\u6307\u5b9a\u200b\u5c0f\u6570\u200b\u7684\u200b\u6700\u5927\u200b\u4f4d\u6570\u200b\uff0c\u200b\u5c0f\u6570\u70b9\u200b\u7684\u200b\u5de6\u4fa7\u200b\u548c\u200b\u53f3\u4fa7\u200b\u7684\u200b\u6570\u5b57\u200b\u7684\u200b\u603b\u200b\u6570\u91cf\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b p\uff0cp \u200b\u7684\u200b\u53d6\u503c\u200b\u8303\u56f4\u200b\u662f\u4ece\u200b 1 \u200b\u5230\u200b 38\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b 18\u3002</li> <li>s (scale)\uff1a\u200b\u6307\u5b9a\u200b\u5728\u200b\u5c0f\u6570\u70b9\u200b\u53f3\u4fa7\u200b\u7684\u200b\u5c0f\u6570\u4f4d\u200b\u6570\u200b\uff0cp-s \u200b\u662f\u200b\u5c0f\u6570\u70b9\u200b\u5de6\u8fb9\u200b\u7684\u200b\u6700\u5927\u200b\u4f4d\u6570\u200b\u3002s \u200b\u5fc5\u987b\u200b\u662f\u4ece\u200b 0 \u200b\u5230\u200b p \u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u53ea\u6709\u200b\u5728\u200b\u6307\u5b9a\u200b\u4e86\u200b\u7cbe\u5ea6\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u624d\u80fd\u200b\u6307\u5b9a\u200b s\uff0cs \u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\u662f\u200b 0\uff0c\u200b\u56e0\u6b64\u200b\uff0c0 &lt;= s &lt;= p\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#insert\u63d2\u5165\u6570\u636e","title":"<code>INSERT</code>\uff1a\u200b\u63d2\u5165\u200b\u6570\u636e","text":"SQL<pre><code>INSERT INTO customers(first_name, phone, points)\nVALUES ('Mosh', NULL, DEFAULT)\n</code></pre> <ul> <li><code>NULL</code>\u200b\u4ee3\u8868\u200b\u7a7a\u503c\u200b\u3002</li> <li><code>DEFAULT</code>\u200b\u4ee3\u8868\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u5177\u4f53\u200b\u662f\u200b\u591a\u5c11\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0a\u200b\u56fe\u200b\u4e2d\u200b\u67e5\u770b\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u4e00\u6b21\u63d2\u5165\u591a\u884c","title":"\u4e00\u6b21\u200b\u63d2\u5165\u200b\u591a\u884c","text":"SQL<pre><code>INSERT INTO customers(first_name, phone, points)\nVALUES\n('Mosh', NULL, DEFAULT),\n('Bob', '1234', 10)\n</code></pre>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u5c06\u6574\u4e2a\u8868\u63d2\u5165\u5230\u53e6\u5916\u7684\u8868","title":"\u5c06\u200b\u6574\u4e2a\u200b\u8868\u200b\u63d2\u5165\u200b\u5230\u200b\u53e6\u5916\u200b\u7684\u200b\u8868","text":"SQL<pre><code>CREATE TABLE orders_archived AS\nSELECT *\nFROM order\n</code></pre> <ul> <li>\u200b\u5c06\u200b<code>order</code>\u200b\u8868\u683c\u200b\u6574\u4e2a\u200b\u5730\u200b\u590d\u5236\u5230\u200b\u65b0\u8868\u4e2d\u200b\uff0c\u200b\u6210\u4e3a\u200b<code>orders_archived</code>\u3002</li> <li>\u200b\u65b0\u8868\u200b\u4e0d\u4f1a\u200b\u8bb0\u5f55\u200b\u539f\u200b\u8868\u683c\u200b\u7684\u200b\u4e3b\u952e\u200b\u7b49\u200b\u4fe1\u606f\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u66f4\u65b0\u6570\u636e","title":"\u66f4\u65b0\u200b\u6570\u636e","text":"SQL<pre><code>UPDATE table_name\nSET column_1 = 1, column_2 = 2\nWHERE id IN (1, 2, 3)\n</code></pre> <ul> <li>\u200b\u7528\u200b<code>WHERE</code>\u200b\u7b5b\u9009\u200b\u51fa\u200b\u60f3\u8981\u200b\u7b5b\u9009\u200b\u7684\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u7528\u200b<code>SET</code>\u200b\u66f4\u65b0\u200b\u60f3\u8981\u200b\u66f4\u65b0\u200b\u7684\u200b\u5217\u200b\u6570\u636e\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"code/sql/#\u5220\u9664\u6570\u636e","title":"\u5220\u9664\u200b\u6570\u636e","text":"SQL<pre><code>DELETE FROM table_name\nWHERE ID in (1, 2, 3)\n</code></pre> <ul> <li>\u200b\u7528\u200b<code>WHERE</code>\u200b\u7b5b\u9009\u200b\u51fa\u200b\u60f3\u8981\u200b\u7b5b\u9009\u200b\u7684\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u7528\u200b<code>DELETE FROM</code>\u200b\u5220\u9664\u200b\u60f3\u8981\u200b\u5220\u9664\u200b\u7684\u200b\u4e00\u200b\u6574\u884c\u200b\u6570\u636e\u200b\u3002</li> </ul>","tags":["\u6570\u636e\u5e93"]},{"location":"workflow/","title":"\u76ee\u5f55","text":"<p>\u200b\u63d0\u9ad8\u6548\u7387\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6d41\u200b\u3002</p> <ul> <li> <p> Quant \u200b\u91cf\u5316\u200b\u7814\u7a76\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Writing \u200b\u5199\u4f5c\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p> Tools \u200b\u5de5\u5177\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> </ul>"},{"location":"workflow/tools/","title":"\u5de5\u5177","text":""},{"location":"workflow/tools/#\u6548\u7387\u5de5\u5177","title":"\u6548\u7387\u200b\u5de5\u5177","text":"<ul> <li> <p>Sumatra PDF</p> <p>PDF \u200b\u9605\u8bfb\u5668\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p>Geek Uninstaller</p> <p>\u200b\u5378\u8f7d\u200b\u8f6f\u4ef6\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p>Bandzip 6</p> <p>\u200b\u89e3\u538b\u7f29\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p>Typora</p> <p>Markdown \u200b\u7f16\u8f91\u5668\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p>Everything</p> <p>\u200b\u5feb\u901f\u200b\u641c\u7d22\u200b\u6587\u4ef6\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> <li> <p>Kap</p> <p>\u200b\u5f55\u5236\u200b GIF \u200b\u56fe\u7247\u200b</p> <p> \u200b\u67e5\u770b\u200b</p> </li> </ul>"},{"location":"workflow/writing/","title":"\u5199\u4f5c","text":""},{"location":"workflow/writing/#markdown","title":"Markdown","text":"<p>\u200b\u57fa\u672c\u200b\u8bed\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5f00\u6e90\u200b\u6587\u6863\u200b Cmd Markdown \u200b\u7b80\u660e\u200b\u8bed\u6cd5\u200b\u624b\u518c\u200b\u3002</p>"},{"location":"workflow/writing/#\u56fe\u7247\u7f29\u653e","title":"\u56fe\u7247\u200b\u7f29\u653e","text":"Markdown<pre><code>![Image title](https://dummyimage.com/600x200/){width=\"80%\"}\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0c\u200b\u5c3e\u90e8\u200b\u7684\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u4f7f\u5f97\u200b\u56fe\u7247\u200b\u5c45\u4e2d\u200b\uff0c\u200b\u4e14\u200b\u80fd\u591f\u200b\u6307\u5b9a\u200b\u7f29\u653e\u200b\u5927\u5c0f\u200b\u3002</p> Markdown<pre><code>{width=\"80%\"}\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u50cf\u7d20\u200b\u503c\u200b\uff1a</p> Markdown<pre><code>{width=500px}\n</code></pre>"},{"location":"workflow/writing/#\u56fe\u7247\u663e\u793a\u5706\u5f62\u8f6e\u5ed3","title":"\u56fe\u7247\u200b\u663e\u793a\u200b\u5706\u5f62\u200b\u8f6e\u5ed3","text":"Markdown<pre><code>{width=500px style=\"border-radius:50%\"}\n</code></pre>"},{"location":"workflow/writing/#\u5355\u4e2a\u56fe\u7247\u5c45\u4e2d","title":"\u5355\u4e2a\u200b\u56fe\u7247\u200b\u5c45\u4e2d","text":"Markdown<pre><code>![Image title](https://dummyimage.com/600x200/){style=\"display:block; margin:0 auto;\"}\n</code></pre>"},{"location":"workflow/writing/#\u5168\u5c40\u56fe\u7247\u5c45\u4e2d","title":"\u5168\u5c40\u200b\u56fe\u7247\u200b\u5c45\u4e2d","text":"<p>\u200b\u6dfb\u52a0\u200b CSS\uff0c\u200b\u4f7f\u200b\u6240\u6709\u200b\u56fe\u7247\u200b\u81ea\u52a8\u200b\u5c45\u4e2d\u200b\u663e\u793a\u200b</p> CSS<pre><code>img {\ndisplay: block;\nmargin-left: auto;\nmargin-right: auto;\n}\n</code></pre>"},{"location":"workflow/writing/#\u63d2\u5165\u6807\u9898","title":"\u63d2\u5165\u200b\u6807\u9898","text":"Markdown<pre><code>&lt;figure markdown&gt;\n  ![\u200b\u63d2\u5165\u200b\u6807\u9898\u200b](https://dummyimage.com/600x200/)\n  &lt;figcaption&gt;\u200b\u6807\u9898\u200b&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre> \u200b\u6807\u9898"},{"location":"workflow/writing/#\u63d2\u5165\u8868\u683c","title":"\u63d2\u5165\u200b\u8868\u683c","text":"<p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u793a\u4f8b\u200b\uff1a</p> Text Only<pre><code>| \u200b\u6c34\u679c\u200b | \u200b\u4ef7\u683c\u200b | \u200b\u6570\u91cf\u200b |\n| :-- | ---: | :---: |\n| \u200b\u82f9\u679c\u200b | \u00a55.00 | 10 |\n| \u200b\u9999\u8549\u200b | \u00a53.00 | 5 |\n| \u200b\u8461\u8404\u200b | \u00a58.00 | 20 |\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u8868\u683c\u200b\u4e2d\u200b\uff0c\u200b\u7b2c\u4e00\u5217\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5c45\u200b\u5de6\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u7b2c\u4e8c\u5217\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5c45\u53f3\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u7b2c\u4e09\u5217\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5c45\u4e2d\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u60a8\u200b\u60f3\u8981\u200b\u8c03\u6574\u200b\u8868\u683c\u200b\u7684\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9700\u6c42\u200b\u4fee\u6539\u200b\u5217\u200b\u5bf9\u5e94\u200b\u7684\u200b <code>:</code> \u200b\u4ee5\u200b\u786e\u5b9a\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\u548c\u200b\u5bbd\u5ea6\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u60a8\u200b\u60f3\u8981\u200b\u5c06\u200b\u7b2c\u4e00\u5217\u200b\u548c\u200b\u7b2c\u4e09\u5217\u200b\u5404\u200b\u5360\u636e\u200b\u8868\u683c\u200b\u5bbd\u5ea6\u200b\u7684\u200b 30%\uff0c\u200b\u7b2c\u4e8c\u5217\u200b\u5360\u636e\u200b\u8868\u683c\u200b\u5bbd\u5ea6\u200b\u7684\u200b 40%\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u50cf\u200b\u4e0b\u9762\u200b\u8fd9\u6837\u200b\u4fee\u6539\u200b\uff1a</p> Text Only<pre><code>| \u200b\u6c34\u679c\u200b | \u200b\u4ef7\u683c\u200b | \u200b\u6570\u91cf\u200b |\n| :--------- | :-------: | ---------: |\n| \u200b\u82f9\u679c\u200b | \u00a55.00 | 10 |\n| \u200b\u9999\u8549\u200b | \u00a53.00 | 5 |\n| \u200b\u8461\u8404\u200b | \u00a58.00 | 20 |\n</code></pre> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u8868\u683c\u200b\u4e2d\u200b\uff0c\u200b\u7b2c\u4e00\u5217\u200b\u548c\u200b\u7b2c\u4e09\u5217\u200b\u7684\u200b <code>:</code> \u200b\u4ece\u200b <code>:--</code> \u200b\u548c\u200b <code>:---:</code> \u200b\u6539\u4e3a\u200b\u4e86\u200b <code>:---------</code> \u200b\u548c\u200b <code>---------:</code>\uff0c\u200b\u8868\u793a\u200b\u6bcf\u5217\u200b\u5360\u636e\u200b\u8868\u683c\u200b\u5bbd\u5ea6\u200b\u7684\u200b 30%\uff1b\u200b\u7b2c\u4e8c\u5217\u200b\u7684\u200b <code>:</code> \u200b\u4ece\u200b <code>---:</code> \u200b\u6539\u4e3a\u200b\u4e86\u200b <code>:-------:</code>\uff0c\u200b\u8868\u793a\u200b\u5360\u636e\u200b\u8868\u683c\u200b\u5bbd\u5ea6\u200b\u7684\u200b 40%\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u8c03\u6574\u200b\u8868\u683c\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\u4e86\u200b\u3002</p>"},{"location":"workflow/writing/#\u683c\u5f0f\u5316","title":"\u683c\u5f0f\u5316","text":"<p>\u200b\u4f7f\u7528\u200b autocorrect \u200b\u81ea\u52a8\u200b\u683c\u5f0f\u5316\u200b\u6587\u6863\u200b\u3002</p> <p>\u200b\u4e0b\u8f7d\u200b autocorrect \u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\uff0c\u200b\u4ee5\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff1a</p> <p>https://github.com/huacnlee/autocorrect/releases</p> <p>\u200b\u5c06\u200b<code>autocorrect.exe</code>\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u653e\u5728\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\uff0c\u200b\u53ef\u200b\u901a\u8fc7\u200b\u4e0b\u9762\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u68c0\u67e5\u548c\u200b\u4fee\u590d\u200b\u683c\u5f0f\u200b\u95ee\u9898\u200b\u3002</p>"},{"location":"workflow/writing/#\u68c0\u67e5\u683c\u5f0f\u95ee\u9898","title":"\u68c0\u67e5\u200b\u683c\u5f0f\u200b\u95ee\u9898","text":"Bash<pre><code>.\\autocorrect --lint .\\\n</code></pre>"},{"location":"workflow/writing/#\u4fee\u590d\u683c\u5f0f\u95ee\u9898","title":"\u4fee\u590d\u200b\u683c\u5f0f\u200b\u95ee\u9898","text":"Bash<pre><code>.\\autocorrect --fix .\\\n</code></pre> <p>Warning</p> <p><code>.\\autocorrect --fix .\\</code> \u200b\u4f1a\u200b\u5c06\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u5168\u90e8\u200b\u9012\u5f52\u200b\u683c\u5f0f\u5316\u200b\uff0c\u200b\u4fee\u590d\u200b\u540e\u200b\u65e0\u6cd5\u200b\u64a4\u9500\u200b\uff01\u200b\u8bf7\u200b\u505a\u597d\u200b\u5907\u4efd\u200b\uff0c\u200b\u8c28\u614e\u200b\u4f7f\u7528\u200b\u8be5\u200b\u547d\u4ee4\u200b\uff01</p>"},{"location":"workflow/writing/#\u81ea\u52a8\u68c0\u67e5\u683c\u5f0f\u95ee\u9898\u5e76\u9009\u62e9\u662f\u5426\u4fee\u590d\u7684\u6279\u5904\u7406\u811a\u672c","title":"\u81ea\u52a8\u200b\u68c0\u67e5\u200b\u683c\u5f0f\u200b\u95ee\u9898\u200b\u5e76\u200b\u9009\u62e9\u200b\u662f\u5426\u200b\u4fee\u590d\u200b\u7684\u200b\u6279\u5904\u7406\u200b\u811a\u672c","text":"Bash<pre><code>:: This is a simple script to run autocorrect on all files in the current directory\n.\\autocorrect --lint .\\\n@echo off\nset /p user_input=Do you want to format all files? (y/n):\nif /i %user_input%==y (goto Yes) else (goto No)\nif /i %user_input%==n (goto No) else (goto Invalid)\n:Yes\n.\\autocorrect --fix .\\\npause\nexit\n:No\npause\nexit\n:invalid\necho %user_input% is invalid, try again!\npause\nexit\n</code></pre> <p>\u200b\u8fd9\u200b\u6bb5\u200b Batch \u200b\u811a\u672c\u200b\u5b66\u4e60\u200b\u4e86\u200b AutomatewithRakesh@youtube \u200b\u7684\u200b\u6559\u7a0b\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b\u6548\u679c\u200b</p> <p></p>"},{"location":"workflow/writing/#latex","title":"\\(\\LaTeX\\)","text":""},{"location":"workflow/writing/#\u6a21\u677f","title":"\u6a21\u677f","text":"<p>\u200b\u8fd9\u91cc\u200b \u200b\u6709\u200b\u81ea\u7528\u200b\u7684\u200b \\(\\LaTeX\\) \u200b\u6a21\u677f\u200b\uff0c\u200b\u5305\u62ec\u200b\u4f5c\u4e1a\u200b\u3001\u200b\u4e66\u4fe1\u200b\u7b49\u200b\u573a\u666f\u200b\u3002</p>"},{"location":"workflow/writing/#\u901f\u67e5\u7b14\u8bb0","title":"\u901f\u67e5\u200b\u7b14\u8bb0","text":"<p>\u200b\u8fd9\u91cc\u200b \u200b\u6709\u200b\u901f\u67e5\u200b\u7b14\u8bb0\u200b\u3002</p>"},{"location":"workflow/writing/#mac-os-\u914d\u7f6e-latex","title":"Mac OS \u200b\u914d\u7f6e\u200b \\(\\LaTeX\\)","text":"<p>\u200b\u53c2\u8003\u200b\uff1aMac OS \u200b\u914d\u7f6e\u200b \\(\\LaTeX\\) (MacTex+VSCode+Skim)</p> <ul> <li>\\(\\TeX\\) \u200b\u4ee3\u7801\u200b\u8df3\u8f6c\u200b\u5230\u200b PDF\uff1aCmd+Option+J</li> <li>PDF \u200b\u8df3\u8f6c\u200b\u5230\u200b \\(\\TeX\\) \u200b\u4ee3\u7801\u200b\uff1a\u200b\u6309\u4f4f\u200b Cmd+Shift \u200b\u5e76\u7528\u200b\u9f20\u6807\u200b\u70b9\u51fb\u200b\u6587\u6863\u200b\u3002</li> </ul>"},{"location":"workflow/writing/#\u6570\u5b66\u516c\u5f0f","title":"\u6570\u5b66\u516c\u5f0f","text":"<p>\u200b\u57fa\u672c\u200b\u8bed\u6cd5\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5f00\u6e90\u200b\u6587\u6863\u200b Cmd Markdown \u200b\u516c\u5f0f\u200b\u6307\u5bfc\u200b\u624b\u518c\u200b\u3002</p>"},{"location":"workflow/writing/#\u8bbe\u7f6e\u5168\u5c40\u884c\u8ddd","title":"\u8bbe\u7f6e\u200b\u5168\u5c40\u200b\u884c\u8ddd","text":"Text Only<pre><code>\\linespread{1.5} % \u200b\u8bbe\u7f6e\u200b\u884c\u8ddd\u200b\u4e3a\u200b 1.5 \u200b\u500d\u200b\n</code></pre>"},{"location":"workflow/writing/#\u8bbe\u7f6e-section-\u6807\u9898\u683c\u5f0f\u4e3a\u5de6\u5bf9\u9f50\u52a0\u7c97\u5927\u53f7\u5b57\u4f53","title":"\u8bbe\u7f6e\u200b section \u200b\u6807\u9898\u200b\u683c\u5f0f\u200b\u4e3a\u200b\u5de6\u200b\u5bf9\u9f50\u200b\uff0c\u200b\u52a0\u7c97\u200b\uff0c\u200b\u5927\u200b\u53f7\u200b\u5b57\u4f53","text":"<p>\u200b\u53c2\u8003\u200b\uff1ahttps://tex.stackexchange.com/a/247571/</p> Text Only<pre><code>\\ctexset{section/format=\\Large\\bfseries}\n</code></pre>"},{"location":"workflow/writing/#\u4fee\u6539\u4e2d\u6587\u5b57\u4f53","title":"\u4fee\u6539\u200b\u4e2d\u6587\u5b57\u4f53","text":"<p>\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u5c06\u200b\u6b63\u6587\u200b\u8bbe\u200b\u4e3a\u200b\u5b8b\u4f53\u200b\uff0c\u200b\u7c97\u4f53\u200b\u8bbe\u200b\u4e3a\u200b\u9ed1\u4f53\u200b\u3002</p> TeX<pre><code>\\setCJKmainfont[BoldFont=STHeiti]{STSong}\n</code></pre>"},{"location":"workflow/writing/#\u81ea\u5b9a\u4e49\u6458\u8981\u6837\u5f0f","title":"\u81ea\u5b9a\u4e49\u200b\u6458\u8981\u200b\u6837\u5f0f","text":"Text Only<pre><code>\\usepackage{abstract}\n\n\\renewcommand{\\abstractname}{\\zihao{3} \u200b\u6458\u8981\u200b\\\\} % \u200b\u8bbe\u7f6e\u200b\u6458\u8981\u200b\u540d\u79f0\u200b\u548c\u200b\u6458\u8981\u200b\u5b57\u4f53\u5927\u5c0f\u200b\n\\setlength{\\absleftindent}{0pt}\n\\setlength{\\absrightindent}{0pt}\n\n\\begin{abstract}\n     This is abstract\n\\end{abstract}\n</code></pre>"},{"location":"workflow/writing/#\u66f4\u6539\u6458\u8981\u672c\u8eab\u7684\u5b57\u53f7\u5927\u5c0f","title":"\u66f4\u6539\u200b\u6458\u8981\u200b\u672c\u8eab\u200b\u7684\u200b\u5b57\u53f7\u200b\u5927\u5c0f","text":"<p>\u200b\u5982\u679c\u200b\u4f60\u200b\u8981\u200b\u66f4\u6539\u200b\u201c\u200b\u6458\u8981\u200b\u201d\u200b\u8fd9\u200b\u51e0\u4e2a\u200b\u5b57\u200b\u7684\u200b\u5b57\u4f53\u5927\u5c0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>\\renewcommand</code>\u200b\u547d\u4ee4\u200b\u6765\u91cd\u200b\u5b9a\u4e49\u200b\u6458\u8981\u200b\u6807\u9898\u200b\u7684\u200b\u683c\u5f0f\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4f8b\u5b50\u200b\uff1a</p> Text Only<pre><code>\\documentclass{article}\n\n\\renewcommand{\\abstractname}{\\large\\textbf{\u200b\u6458\u8981\u200b}} % \u200b\u5c06\u200b\"\u200b\u6458\u8981\u200b\"\u200b\u6539\u4e3a\u200b\u52a0\u7c97\u200b\u3001\u200b\u5927\u200b\u53f7\u200b\u5b57\u4f53\u200b\n\n\\begin{document}\n\n\\begin{abstract}\n\u200b\u8fd9\u91cc\u200b\u662f\u200b\u6458\u8981\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002\n\\end{abstract}\n\n\\end{document}\n</code></pre> <p>\u200b\u5728\u200b<code>\\renewcommand</code>\u200b\u547d\u4ee4\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u547d\u4ee4\u200b<code>\\abstractname</code>\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u8bbe\u7f6e\u200b\u4e3a\u4e86\u200b\u52a0\u7c97\u200b\u3001\u200b\u5927\u200b\u53f7\u200b\u5b57\u4f53\u200b\u7684\u200b\u201c\u200b\u6458\u8981\u200b\u201d\u3002\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u66f4\u6539\u200b\u8fd9\u4e2a\u200b\u547d\u4ee4\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u4ee5\u200b\u8fbe\u5230\u200b\u81ea\u5df1\u200b\u60f3\u8981\u200b\u7684\u200b\u6458\u8981\u200b\u6807\u9898\u200b\u683c\u5f0f\u200b\u3002</p>"},{"location":"workflow/writing/#jupyter-notebook-\u901a\u8fc7-tex-\u8f6c\u6362\u4e3a-pdf","title":"<code>Jupyter Notebook</code> \u200b\u901a\u8fc7\u200b \\(\\TeX\\) \u200b\u8f6c\u6362\u200b\u4e3a\u200b PDF","text":"<p>\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\uff1a</p> <ol> <li> <p>\u200b\u5148\u200b\u901a\u8fc7\u200b\u7f51\u9875\u200b\u7248\u200b <code>Jupyter Notebook</code> \u200b\u8f6c\u6362\u200b\u4e3a\u200b \\(\\TeX\\) \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u538b\u7f29\u5305\u200b\u3002</p> </li> <li> <p>\u200b\u5728\u200b <code>\\documentclass[11pt]{article}</code> \u200b\u4e0b\u9762\u200b\u8865\u5145\u200b <code>\\usepackage[UTF8]{ctex}</code>\uff0c\u200b\u4ee5\u200b\u652f\u6301\u200b\u4e2d\u6587\u200b\uff1a</p> <p></p> </li> <li> <p>\u200b\u4f7f\u7528\u200b \\(\\LaTeX\\) \u200b\u7f16\u8bd1\u6210\u200b PDF \u200b\u6587\u4ef6\u200b\u3002</p> </li> </ol>"},{"location":"workflow/writing/#marp","title":"<code>marp</code>","text":""},{"location":"workflow/writing/#\u63d2\u5165\u53cc\u680f","title":"\u63d2\u5165\u200b\u53cc\u680f","text":"CSS<pre><code>.columns {\ndisplay: grid;\ngrid-template-columns: repeat(2, minmax(0, 1fr));\ngap: 1rem;\n}\n</code></pre> HTML<pre><code>&lt;div class=\"columns\"&gt;\n&lt;div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"workflow/writing/#\u9ad8\u4eae\u6587\u672c","title":"\u9ad8\u4eae\u200b\u6587\u672c","text":"CSS<pre><code>mark {\nbackground-color: #ffee00;\n}\n</code></pre> HTML<pre><code>&lt;mark&gt;\u200b\u9700\u8981\u200b\u9ad8\u4eae\u200b\u7684\u200b\u6587\u672c\u200b&lt;/mark&gt;\n</code></pre>"},{"location":"workflow/writing/#\u51cf\u5c0f\u95f4\u8ddd","title":"\u51cf\u5c0f\u200b\u95f4\u8ddd","text":"CSS<pre><code>.lesshspace {\nmargin-top: -1em;\n}\n</code></pre> HTML<pre><code>&lt;div class=\"lesshspace\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"workflow/writing/#\u589e\u5927\u95f4\u8ddd","title":"\u589e\u5927\u200b\u95f4\u8ddd","text":"CSS<pre><code>.morehspace {\nmargin-top: 1em;\n}\n</code></pre> HTML<pre><code>&lt;div class=\"morehspace\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"workflow/writing/#\u56fe\u7247\u5c45\u4e2d","title":"\u56fe\u7247\u200b\u5c45\u4e2d","text":"Markdown<pre><code>&lt;style&gt;\nimg[alt~=\"center\"] {\n  display: block;\n  margin: 0 auto;\n}\n&lt;/style&gt;\n\n![w:640 center](image.png)\n</code></pre>"},{"location":"blog/tags/","title":"\u6807\u7b7e","text":""},{"location":"blog/tags/#computer-science","title":"Computer Science","text":"<ul> <li>CS50 Week 0 Scratch</li> <li>CS50 Week 1 C</li> <li>CS50 Week 2 Array</li> <li>CS50 Week 3 Algorithms</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u200b</li> <li>CS50 Week 4 Memory</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u91cd\u5b9a\u5411\u200b</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u914d\u7f6e\u200b\u73af\u5883\u200b</li> <li>CS50 Week 5 Data Structure</li> <li>CS50 Week 6 Python</li> <li>CS50 Week 7 SQL</li> <li>CS50 Week 8 HTML, CSS, JavaScript</li> <li>CS50 Week 9 Flask</li> <li>\u200b\u901a\u8fc7\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b</li> <li>\u200b\u4e3a\u200b\u76ee\u5f55\u200b\u751f\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u56fe\u200b</li> <li>Linux \u200b\u67e5\u770b\u200b\u4e0e\u200b\u91ca\u653e\u200b\u5185\u5b58\u200b</li> <li>\u200b\u9ad8\u7ea7\u200b\u641c\u7d22\u200b\u6280\u5de7\u200b</li> <li>\u200b\u4e2d\u6587\u200b\u6280\u672f\u200b\u6587\u6863\u200b\u7684\u200b\u5199\u4f5c\u200b\u89c4\u8303\u200b</li> <li>VS Code \u200b\u52a0\u8f7d\u200b Web \u200b\u89c6\u56fe\u200b\u65f6\u200b\u51fa\u9519\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b</li> <li>\u200b\u4fee\u6539\u200b VS Code \u200b\u952e\u76d8\u200b\u5feb\u6377\u952e\u200b</li> <li>Typora \u200b\u8bbe\u7f6e\u200b\u9ed8\u8ba4\u200b\u4ee3\u7801\u200b\u8bed\u8a00\u200b</li> <li>\u200b\u817e\u8baf\u200b\u4e91\u200b\u5bf9\u8c61\u200b\u5b58\u50a8\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b</li> <li>\u200b\u57fa\u4e8e\u200b giscus \u200b\u4e3a\u200b\u7f51\u7ad9\u200b\u6dfb\u52a0\u200b\u8bc4\u8bba\u200b\u7cfb\u7edf\u200b</li> <li>\u200b\u5e38\u7528\u200b\u7684\u200b Git \u200b\u4ee3\u7801\u200b</li> <li>\u200b\u8ba1\u7b97\u673a\u6559\u80b2\u200b\u4e2d\u200b\u7f3a\u5931\u200b\u7684\u200b\u4e00\u8bfe\u200b\uff1aThe shell</li> <li>\u200b\u8ba1\u7b97\u673a\u6559\u80b2\u200b\u4e2d\u200b\u7f3a\u5931\u200b\u7684\u200b\u4e00\u8bfe\u200b\uff1aShell \u200b\u5de5\u5177\u200b\u548c\u200b\u811a\u672c\u200b</li> <li>\u200b\u8bbf\u95ee\u200b\u670d\u52a1\u5668\u200b\u7684\u200b Jupyter Notebook</li> <li>\u200b\u5728\u200b MacOS \u200b\u4e2d\u200b\u5b89\u88c5\u200b tree \u200b\u547d\u4ee4\u200b</li> <li>JupyterLite\uff1a\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b Python</li> <li>\u200b\u4f7f\u7528\u200b pre-commit \u200b\u4e3a\u200b Git \u200b\u4ed3\u5e93\u200b\u8bbe\u7f6e\u200b\u81ea\u52a8\u200b\u4efb\u52a1\u200b</li> <li>\u200b\u4f7f\u7528\u200b Makefile \u200b\u7b80\u5316\u200b\u5de5\u4f5c\u200b\u6d41\u200b</li> <li>\u200b\u56fd\u5185\u200b\u670d\u52a1\u5668\u200b\u5b89\u88c5\u200b Dokploy</li> <li>Docker \u200b\u4e2d\u200b\u7684\u200b CMD \u200b\u548c\u200b ENTRYPOINT</li> </ul>"},{"location":"blog/tags/#indiedev","title":"IndieDev","text":"<ul> <li>\u200b\u56fd\u5185\u200b\u670d\u52a1\u5668\u200b\u5b89\u88c5\u200b Dokploy</li> <li>Docker \u200b\u4e2d\u200b\u7684\u200b CMD \u200b\u548c\u200b ENTRYPOINT</li> </ul>"},{"location":"blog/tags/#llm","title":"LLM","text":"<ul> <li>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>Transformer \u200b\u4e2d\u200b\u7684\u200b Positional Encoding Layer</li> <li>GPT \u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u7b14\u8bb0\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b DQN \u200b\u7b97\u6cd5\u200b\u7684\u200b\u767b\u6708\u200b\u7740\u9646\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u8c03\u7528\u200b\u5728\u7ebf\u200b\u5927\u200b\u6a21\u578b\u200b API</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668\u200b</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u8981\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \uff1a\u200b\u4ece\u200b\u65b9\u5dee\u200b\u5230\u200b\u68af\u5ea6\u200b\u7684\u200b\u63a8\u5bfc\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u63d0\u793a\u200b\u8bcd\u4e3a\u200b\u5927\u200b\u6a21\u578b\u200b\u5f00\u542f\u200b\u5b66\u4e60\u200b\u6a21\u5f0f\u200b</li> </ul>"},{"location":"blog/tags/#latex","title":"LaTeX","text":"<ul> <li>LaTeX \u200b\u8bbe\u7f6e\u200b\u5b57\u4f53\u200b\u65f6\u200b\u6307\u5b9a\u200b\u5b57\u4f53\u200b\u6587\u4ef6\u76ee\u5f55\u200b</li> <li>\u200b\u5220\u9664\u200b LaTeX \u200b\u7f16\u8bd1\u200b\u751f\u6210\u200b\u7684\u200b\u9644\u52a0\u6587\u4ef6\u200b</li> <li>LaTeX \u200b\u6a21\u677f\u200b</li> <li>LaTeX \u200b\u7b14\u8bb0\u200b</li> <li>tlmgr \u200b\u7ba1\u7406\u200b\u5305\u200b</li> <li>LaTeX \u200b\u6291\u5236\u200b\u7f3a\u5931\u200b\u4e2d\u6587\u5b57\u4f53\u200b\u7684\u200b\u8b66\u544a\u200b</li> <li>LaTeX \u200b\u53ef\u200b\u8de8\u9875\u200b\u7684\u200b\u7b97\u6cd5\u200b\u73af\u5883\u200b</li> </ul>"},{"location":"blog/tags/#leetcode","title":"LeetCode","text":"<ul> <li>LeetCode \u200b\u54c8\u5e0c\u200b\u8868\u200b</li> <li>LeetCode \u200b\u80cc\u5305\u200b\u95ee\u9898\u200b</li> </ul>"},{"location":"blog/tags/#linux","title":"Linux","text":"<ul> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u200b</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u91cd\u5b9a\u5411\u200b</li> <li>Linux \u200b\u547d\u4ee4\u884c\u200b\u2014\u200b\u914d\u7f6e\u200b\u73af\u5883\u200b</li> <li>\u200b\u901a\u8fc7\u200b SSH Key \u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u670d\u52a1\u5668\u200b</li> <li>\u200b\u4e3a\u200b\u76ee\u5f55\u200b\u751f\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u56fe\u200b</li> <li>\u200b\u5728\u200b\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u200b Ubuntu \u200b\u56fe\u5f62\u754c\u9762\u200b</li> <li>Linux \u200b\u67e5\u770b\u200b\u4e0e\u200b\u91ca\u653e\u200b\u5185\u5b58\u200b</li> <li>VS Code \u200b\u52a0\u8f7d\u200b Web \u200b\u89c6\u56fe\u200b\u65f6\u200b\u51fa\u9519\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b</li> <li>\u200b\u5728\u200b Linux \u200b\u4e2d\u200b\u8f6f\u200b\u94fe\u63a5\u200b\u81f3\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b</li> <li>\u200b\u65ad\u5f00\u200b SSH \u200b\u8fde\u63a5\u200b\u540e\u200b\u7ee7\u7eed\u6267\u884c\u200b\u4efb\u52a1\u200b</li> </ul>"},{"location":"blog/tags/#pytorch","title":"PyTorch","text":"<ul> <li>PyTorch Lecture 1\uff1a\u200b\u5b89\u88c5\u200b PyTorch</li> <li>PyTorch Lecture 2\uff1a\u200b\u57fa\u7840\u77e5\u8bc6\u200b</li> <li>PyTorch Lecture 3\uff1a\u200b\u57fa\u7840\u200b\u5b9e\u8df5\u200b</li> <li>PyTorch DataLoader \u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b</li> <li>\u200b\u67e5\u770b\u200b PyTorch \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b GPU</li> <li>PyTorch \u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff1a\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7ef4\u5ea6\u200b\u3001\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b</li> <li>PyTorch \u200b\u5904\u7406\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</li> <li>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</li> <li>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</li> <li>PyTorch \u200b\u57fa\u7840\u200b</li> <li>\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7b80\u5355\u200b\u7684\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u6df1\u5165\u200b\u7406\u89e3\u200b GRU \u200b\u53ca\u5176\u200b PyTorch \u200b\u5b9e\u73b0\u200b</li> <li>PyTorch \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u4e0e\u200b\u6a21\u578b\u200b\u8fc1\u79fb\u200b\uff1a\u200b\u7406\u89e3\u200b .to(device) \u200b\u7684\u200b\u4f7f\u7528\u200b</li> <li>\u200b\u7406\u89e3\u200b PyTorch \u200b\u4e2d\u200b\u7684\u200b CrossEntropyLoss</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668\u200b</li> <li>\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face</li> <li>\u200b\u501f\u52a9\u200b torchmetrics \u200b\u7684\u200b CompositionalMetric \u200b\u5c06\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u7684\u200b\u6307\u6807\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b</li> <li>Layer Normalization</li> <li>ConcatDataset \u200b\u548c\u200b StackDataset</li> </ul>"},{"location":"blog/tags/#python","title":"Python","text":"<ul> <li>CS50 Week 6 Python</li> <li>CS50 Week 9 Flask</li> <li>Python Multiprocessing \u200b\u591a\u200b\u8fdb\u7a0b\u200b\u5e76\u884c\u8ba1\u7b97\u200b</li> <li>\u200b\u4e3a\u200b Python \u200b\u9879\u76ee\u200b\u751f\u6210\u200b requirement.txt</li> <li>\u200b\u5728\u200b Rmarkdown \u200b\u4e2d\u200b\u4f7f\u7528\u200b Python</li> <li>\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u63a2\u7d22\u6027\u200b\u6570\u636e\u5206\u6790\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\u66ff\u6362\u200b\u6587\u672c\u200b</li> <li>\u200b\u5e38\u7528\u200b\u7684\u200b Conda \u200b\u547d\u4ee4\u200b</li> <li>Python \u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Markdown \u200b\u6587\u4ef6\u200b</li> <li>\u200b\u4f7f\u7528\u200b joblib \u200b\u5b9e\u73b0\u200b\u5e76\u884c\u8ba1\u7b97\u200b</li> <li>\u200b\u4f7f\u7528\u200b selenium \u200b\u722c\u53d6\u200b\u8c46\u74e3\u200b\u5c0f\u7ec4\u8ba8\u8bba\u200b\u4fe1\u606f\u200b</li> <li>\u200b\u4e3a\u200b\u9759\u6001\u200b\u7f51\u9875\u200b\u751f\u6210\u200b\u6587\u4ef6\u76ee\u5f55\u200b</li> <li>LeetCode \u200b\u5237\u9898\u200b\u8bb0\u5f55\u200b</li> <li>K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u5728\u200b pandas \u200b\u4e2d\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b</li> <li>\u200b\u5728\u200b Jupyter Notebook \u200b\u4e2d\u200b\u63d2\u5165\u200b\u672c\u5730\u200b\u56fe\u7247\u200b\u5e76\u200b\u5bfc\u51fa\u200b\u5e26\u6709\u200b\u56fe\u7247\u200b\u7684\u200b PDF \u200b\u6587\u4ef6\u200b</li> <li>\u200b\u4f7f\u7528\u200b tqdm \u200b\u7f8e\u5316\u200b\u8fdb\u5ea6\u6761\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</li> <li>pandas \u200b\u4e2d\u200b\u7684\u200b axis</li> <li>\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u9ed8\u8ba4\u200b Python \u200b\u89e3\u91ca\u5668\u200b</li> <li>Python \u200b\u5b9e\u73b0\u200b\u591a\u5217\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u2014\u2014\u200b\u4ee5\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u4f8b\u200b</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b\u8d4b\u503c\u200b\u4e0e\u200b\u6df1\u6d45\u200b\u62f7\u8d1d\u200b</li> <li>Black \u200b\u683c\u5f0f\u5316\u200b Python \u200b\u4ee3\u7801\u200b</li> <li>Python \u200b\u81ea\u52a8\u200b\u5408\u5e76\u200b PDF \u200b\u6587\u4ef6\u200b</li> <li>\u200b\u4f7f\u7528\u200b pdb \u200b\u8c03\u8bd5\u200b\u4ee3\u7801\u200b</li> <li>LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</li> <li>\u200b\u5229\u7528\u200b VS Code \u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u63d0\u9ad8\u200b\u7f16\u7801\u200b\u6548\u7387\u200b</li> <li>\u200b\u68c0\u9a8c\u200b\u6837\u672c\u5206\u5e03\u200b\u7684\u200b\u6b63\u6001\u6027\u200b</li> <li>\u200b\u57fa\u4e8e\u200b ChatGPT \u200b\u7684\u200b\u5728\u7ebf\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u4ece\u96f6\u5f00\u59cb\u200b\u642d\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ec4\u4ef6\u200b</li> <li>\u200b\u5b89\u88c5\u200b Gurobi \u200b\u4f18\u5316\u200b\u5668\u200b</li> <li>Python \u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b</li> <li>\u200b\u4f7f\u7528\u200b Networkx \u200b\u7ed8\u5236\u200b\u4e8c\u90e8\u200b\u56fe\u200b</li> <li>Dijkstra \u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898\u200b</li> <li>\u200b\u4f7f\u7528\u200b Ruff \u200b\u81ea\u52a8\u200b\u68c0\u67e5\u200b\u4ee3\u7801\u200b\u9519\u8bef\u200b</li> <li>Python \u200b\u5185\u5b58\u200b\u5206\u914d\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 1\uff1a\u200b\u53cc\u200b\u4e0b\u5212\u7ebf\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 2\uff1a\u200b\u88c5\u9970\u200b\u5668\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 3\uff1a\u200b\u751f\u6210\u5668\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 4\uff1a\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 5\uff1a\u200b\u83b7\u53d6\u200b\u548c\u200b\u4fee\u6539\u200b\u88ab\u200b\u4fdd\u62a4\u200b\u7684\u200b\u5c5e\u6027\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 6\uff1a\u200b\u4f7f\u7528\u200b mypy \u200b\u8fdb\u884c\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 7\uff1a\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 8\uff1a\u200b\u4ee3\u7406\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 9\uff1a\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u8fdb\u9636\u200b\u6559\u7a0b\u200b\u7cfb\u5217\u200b 10\uff1a\u200b\u7ec4\u5408\u200b\u6a21\u5f0f\u200b</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u548c\u200b\u9759\u6001\u65b9\u6cd5\u200b</li> <li>Python \u200b\u7ee7\u627f\u200b Mixin \u200b\u4ee5\u200b\u62d3\u5c55\u200b\u7c7b\u200b\u7684\u200b\u529f\u80fd\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7a7a\u503c\u200b\u7684\u200b\u5e73\u644a\u200b\u503c\u200b\u586b\u5145\u200b</li> <li>Pandas \u200b\u5411\u524d\u200b\u4e0e\u200b\u5c45\u4e2d\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b</li> <li>Python @lru_cache \u200b\u5185\u7f6e\u200b LRU \u200b\u7f13\u5b58\u200b</li> <li>\u200b\u4f7f\u7528\u200b pyflyby \u200b\u81ea\u52a8\u200b\u7ba1\u7406\u200b\u5bfc\u5165\u200b\u5305\u200b</li> <li>Python \u200b\u4f7f\u7528\u200b * \u200b\u4ee5\u200b\u5f3a\u5236\u200b\u8c03\u7528\u8005\u200b\u4f7f\u7528\u200b\u5173\u952e\u5b57\u200b\u53c2\u6570\u200b</li> <li>Pandas \u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b</li> <li>Python 3.12 \u200b\u65b0\u200b\u7279\u6027\u200b\uff1a@override \u200b\u88c5\u9970\u200b\u5668\u200b</li> <li>\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u8c03\u7528\u200b\u5728\u7ebf\u200b\u5927\u200b\u6a21\u578b\u200b API</li> <li>Jupyter Notebook \u200b\u6062\u590d\u200b\u5386\u53f2\u200b\u6267\u884c\u200b\u4fe1\u606f\u200b\u4e0e\u200b\u5b58\u50a8\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b</li> <li>chat-data \u200b\u57fa\u4e8e\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5e94\u7528\u200b</li> <li>Python argparse \u200b\u89e3\u6790\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u4e3a\u200b\u5e03\u5c14\u503c\u200b</li> <li>\u200b\u6279\u91cf\u200b\u4fee\u6539\u200b Jupyter Notebook \u200b\u7684\u200b\u5185\u5bb9\u200b</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b set \u200b\u548c\u200b list \u200b\u8f6c\u6362\u200b\u65f6\u200b\u7684\u200b\u968f\u673a\u6027\u200b</li> <li>Jupyter Notebook \u200b\u5e76\u6392\u200b\u663e\u793a\u200b\u591a\u4e2a\u200b Pandas DataFrame</li> <li>JupyterLite\uff1a\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b Python</li> <li>Python \u200b\u4e2d\u200b\u7684\u200b isinstance \u200b\u548c\u200b type \u200b\u7684\u200b\u533a\u522b\u200b</li> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4f7f\u7528\u200b\u5927\u200b\u8bed\u8a00\u200b\u6a21\u578b\u200b\u8fdb\u884c\u200b\u6587\u672c\u200b\u5206\u7c7b\u200b</li> <li>\u200b\u8fc1\u79fb\u200b Conda \u200b\u865a\u62df\u73af\u5883\u200b</li> <li>\u200b\u5bf9\u200b\u542b\u6709\u200b\u7a7a\u503c\u200b\u7684\u200b\u6570\u636e\u200b\u4f7f\u7528\u200b np.corrcoef \u200b\u8ba1\u7b97\u200b Pearson \u200b\u548c\u200b Spearman \u200b\u76f8\u5173\u7cfb\u6570\u200b</li> <li>\u200b\u4f7f\u7528\u200b pathvalidate \u200b\u5904\u7406\u200b\u4e0d\u200b\u5408\u6cd5\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u8def\u5f84\u540d\u200b\u5b57\u7b26\u4e32\u200b</li> <li>\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face</li> <li>\u200b\u4f7f\u7528\u200b blacken-docs \u200b\u5bf9\u200b\u6587\u6863\u200b\u4e2d\u200b\u7684\u200b Python \u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u683c\u5f0f\u5316\u200b</li> <li>\u200b\u591a\u7ebf\u7a0b\u200b\u4e0b\u200b\u8c03\u8bd5\u200b Python \u200b\u4ee3\u7801\u200b</li> <li>Python \u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u5de5\u5177\u200b beartype</li> <li>Python \u200b\u5185\u5b58\u200b\u5256\u6790\u200b\u4e0e\u200b\u4f18\u5316\u200b</li> <li>\u200b\u4f7f\u7528\u200b np.polynomial.Polynomial \u200b\u8fdb\u884c\u200b\u4e00\u5143\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6ce8\u610f\u4e8b\u9879\u200b</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u81ea\u5b9a\u4e49\u200b SQL \u200b\u51fd\u6570\u200b</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u4f7f\u7528\u200b Criterion.all() \u200b\u7684\u200b\u6ce8\u610f\u4e8b\u9879\u200b</li> <li>\u200b\u4f7f\u7528\u200b papermill \u200b\u8fd0\u884c\u200b Jupyter Notebook</li> <li>pandas rolling exponential \u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6807\u51c6\u5dee\u200b\u4f1a\u53d7\u200b\u8d77\u70b9\u200b\u5f71\u54cd\u200b</li> <li>PyCon China 2025</li> <li>List \u200b\u5217\u8868\u200b</li> <li>Loop \u200b\u5faa\u73af\u200b</li> <li>NumPy \u200b\u6570\u7ec4\u200b</li> <li>Others \u200b\u5176\u4ed6\u200b</li> <li>Pandas \u200b\u6570\u636e\u200b\u6846\u200b</li> <li>Plot \u200b\u7ed8\u56fe\u200b</li> <li>Print \u200b\u6253\u5370\u200b</li> </ul>"},{"location":"blog/tags/#rust","title":"Rust","text":"<ul> <li>\u200b\u5b66\u4e60\u200b Rust</li> </ul>"},{"location":"blog/tags/#\u6570\u636e\u53ef\u89c6\u5316","title":"\u6570\u636e\u200b\u53ef\u89c6\u5316","text":"<ul> <li>\u200b\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\u53ef\u89c6\u5316\u200b</li> <li>Visualization of Who is who</li> <li>\u200b\u5728\u7ebf\u200b\u8bcd\u200b\u4e91\u56fe\u200b\u751f\u6210\u5668\u200b</li> <li>\u200b\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u4f7f\u7528\u200b Networkx \u200b\u7ed8\u5236\u200b\u4e8c\u90e8\u200b\u56fe\u200b</li> <li>matplotlib \u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\u2014\u2014\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u53ef\u89c6\u5316\u200b</li> <li>Plot \u200b\u7ed8\u56fe\u200b</li> </ul>"},{"location":"blog/tags/#\u6570\u636e\u5e93","title":"\u6570\u636e\u5e93","text":"<ul> <li>CS50 Week 7 SQL</li> <li>\u200b\u4f7f\u7528\u200b MapReduce \u200b\u8fdb\u884c\u200b\u5206\u5e03\u5f0f\u8ba1\u7b97\u200b</li> <li>\u200b\u8c03\u8bd5\u200b MapReduce</li> <li>\u200b\u57fa\u4e8e\u200b Spark RDD \u200b\u7684\u200b\u7535\u5f71\u200b\u70b9\u8bc4\u200b\u6570\u636e\u5206\u6790\u200b</li> <li>SQL \u200b\u5237\u9898\u200b</li> <li>\u200b\u5927\u200b\u6570\u636e\u200b\u6280\u672f\u200b\u4e4b\u200b HBase \u200b\u548c\u200b Hive</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u81ea\u5b9a\u4e49\u200b SQL \u200b\u51fd\u6570\u200b</li> <li>\u200b\u5728\u200b pypika \u200b\u4e2d\u200b\u4f7f\u7528\u200b Criterion.all() \u200b\u7684\u200b\u6ce8\u610f\u4e8b\u9879\u200b</li> <li>SQL \u200b\u6570\u636e\u5e93\u200b</li> </ul>"},{"location":"blog/tags/#\u673a\u5668\u5b66\u4e60","title":"\u673a\u5668\u200b\u5b66\u4e60","text":"<ul> <li>\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u542f\u53d1\u200b\u51fd\u6570\u200b</li> <li>\u200b\u5bf9\u6297\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b</li> <li>\u200b\u591a\u5143\u200b Logistic \u200b\u56de\u5f52\u200b\u7684\u200b\u63a8\u5bfc\u200b\u4e0e\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u63a8\u5bfc\u200b</li> <li>\u200b\u725b\u987f\u200b\u6cd5\u548c\u62df\u200b\u725b\u987f\u200b BFGS \u200b\u6cd5\u200b\u5b9e\u73b0\u200b Logistic \u200b\u56de\u5f52\u200b</li> <li>\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u51b3\u7b56\u6811\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u624b\u5199\u200b\u57fa\u4e8e\u200b ID3 \u200b\u7b97\u6cd5\u200b\u7684\u200b\u51b3\u7b56\u6811\u200b\u6a21\u578b\u200b</li> <li>\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b EM \u200b\u7b97\u6cd5\u200b\u7684\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u5bf9\u200b fer2013 \u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4eba\u8138\u200b\u8868\u60c5\u200b\u8bc6\u522b\u200b</li> <li>\u200b\u4f7f\u7528\u200b Keras \u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u56fe\u200b</li> <li>\u200b\u4f7f\u7528\u200b sklearn \u200b\u5b9e\u73b0\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u200b\u5206\u7c7b\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u652f\u6301\u200b\u5411\u91cf\u200b\u673a\u8f6f\u200b\u95f4\u9694\u200b\u6700\u5927\u5316\u200b\u7684\u200b\u5bf9\u200b\u5076\u51fd\u6570\u200b\u53ca\u5176\u200b KKT \u200b\u6761\u4ef6\u200b</li> <li>\u200b\u51b3\u7b56\u6811\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u4f7f\u7528\u200b AdaBoost \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b</li> <li>AdaBoost \u200b\u5206\u7c7b\u200b\u539f\u7406\u200b</li> <li>\u200b\u4f7f\u7528\u200b Gradient Boost Decision Tree \u200b\u8fdb\u884c\u200b\u56de\u5f52\u200b\u9884\u6d4b\u200b</li> <li>XGBoost</li> <li>AdaBoost\u3001GBDT \u200b\u548c\u200b XGBoost \u200b\u7684\u200b\u8054\u7cfb\u200b\u4e0e\u200b\u533a\u522b\u200b</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u6837\u672c\u200b\u5212\u5206\u200b\u65b9\u6cd5\u200b</li> <li>K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u4ea4\u53c9\u200b\u71b5\u200b\u635f\u5931\u200b\u51fd\u6570\u200b</li> <li>\u200b\u5f53\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u9677\u5165\u200b\u5c40\u90e8\u200b\u6700\u4f18\u200b\u89e3\u200b</li> <li>L1\u3001L2 \u200b\u6b63\u5219\u200b\u5316\u200b\u4e0e\u200b\u8d1d\u53f6\u65af\u200b\u5148\u9a8c\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</li> <li>\u200b\u57fa\u4e8e\u200b XGBoost \u200b\u7684\u200b\u97f3\u4e50\u200b\u6d41\u884c\u200b\u5ea6\u200b\u9884\u6d4b\u200b\u4e0e\u200b\u63a8\u8350\u200b</li> <li>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6\u200b</li> <li>LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</li> <li>\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u9884\u6d4b\u200b\u4f01\u4e1a\u200b\u4fe1\u8d37\u200b\u8fdd\u7ea6\u200b\u60c5\u51b5\u200b</li> <li>\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u4efb\u52a1\u200b\u7684\u200b\u6027\u80fd\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b\u4e4b\u200b FPR\u3001TPR\u3001Recall \u200b\u548c\u200b AUC</li> <li>Machine Learning \u200b\u673a\u5668\u200b\u5b66\u4e60\u200b</li> </ul>"},{"location":"blog/tags/#\u6df1\u5ea6\u5b66\u4e60","title":"\u6df1\u5ea6\u200b\u5b66\u4e60","text":"<ul> <li>PyTorch Lecture 1\uff1a\u200b\u5b89\u88c5\u200b PyTorch</li> <li>PyTorch Lecture 2\uff1a\u200b\u57fa\u7840\u77e5\u8bc6\u200b</li> <li>PyTorch Lecture 3\uff1a\u200b\u57fa\u7840\u200b\u5b9e\u8df5\u200b</li> <li>\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b CNN \u200b\u5bf9\u200b fer2013 \u200b\u6570\u636e\u200b\u96c6\u200b\u8fdb\u884c\u200b\u4eba\u8138\u200b\u8868\u60c5\u200b\u8bc6\u522b\u200b</li> <li>\u200b\u4f7f\u7528\u200b Keras \u200b\u7ed8\u5236\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ed3\u6784\u56fe\u200b</li> <li>Batch Normalization</li> <li>PyTorch DataLoader \u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b</li> <li>\u200b\u67e5\u770b\u200b PyTorch \u200b\u662f\u5426\u200b\u4f7f\u7528\u200b GPU</li> <li>PyTorch \u200b\u67e5\u770b\u200b\u6a21\u578b\u200b\u7ed3\u6784\u200b\uff1a\u200b\u8f93\u51fa\u200b\u5f20\u91cf\u200b\u7ef4\u5ea6\u200b\u3001\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b</li> <li>PyTorch \u200b\u5904\u7406\u200b\u4e8c\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</li> <li>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</li> <li>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</li> <li>PyTorch \u200b\u57fa\u7840\u200b</li> <li>\u200b\u4ece\u96f6\u5f00\u59cb\u200b\u642d\u5efa\u200b\u5377\u79ef\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u7ec4\u4ef6\u200b</li> <li>\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u6fc0\u6d3b\u200b\u51fd\u6570\u200b</li> <li>\u200b\u624b\u52a8\u200b\u8ba1\u7b97\u200b\u7b80\u5355\u200b\u7684\u200b\u53cd\u5411\u200b\u4f20\u64ad\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b Bert \u200b\u7684\u200b\u4e2d\u6587\u200b\u95ee\u7b54\u200b\u673a\u5668\u4eba\u200b</li> <li>Transformer \u200b\u4e2d\u200b\u7684\u200b Positional Encoding Layer</li> <li>GPT \u200b\u8bba\u6587\u200b\u7cbe\u8bfb\u200b\u7b14\u8bb0\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u5f3a\u5316\u200b\u5b66\u4e60\u200b DQN \u200b\u7b97\u6cd5\u200b\u7684\u200b\u767b\u6708\u200b\u7740\u9646\u200b\u673a\u5668\u4eba\u200b</li> <li>\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b Cheat Sheet</li> <li>matplotlib \u200b\u52a8\u6001\u200b\u7ed8\u56fe\u200b\u2014\u2014\u200b\u795e\u7ecf\u7f51\u7edc\u200b\u8bad\u7ec3\u200b\u8fc7\u7a0b\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u6df1\u5165\u200b\u7406\u89e3\u200b GRU \u200b\u53ca\u5176\u200b PyTorch \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u4e2d\u6587\u200b\u6587\u672c\u200b\u9519\u8bef\u200b\u8bc6\u522b\u200b\u4e0e\u200b\u7ea0\u6b63\u200b\u6a21\u578b\u200b\u603b\u7ed3\u200b</li> <li>\u200b\u4ece\u200b Hugging Face \u200b\u4e0b\u8f7d\u200b\u6a21\u578b\u200b\u6587\u4ef6\u200b</li> <li>\u200b\u7406\u89e3\u200b PyTorch \u200b\u4e2d\u200b\u7684\u200b CrossEntropyLoss</li> <li>\u200b\u673a\u5668\u200b\u751f\u6210\u200b\u6587\u672c\u200b\u68c0\u6d4b\u5668\u200b</li> <li>\u200b\u5c06\u200b\u5fae\u8c03\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u53d1\u5e03\u200b\u81f3\u200b Hugging Face</li> <li>Layer Normalization</li> <li>ConcatDataset \u200b\u548c\u200b StackDataset</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u6ce8\u610f\u529b\u200b\u673a\u5236\u200b\u4e2d\u8981\u200b\u9664\u4ee5\u200b \\(\\sqrt{d_k}\\) \uff1a\u200b\u4ece\u200b\u65b9\u5dee\u200b\u5230\u200b\u68af\u5ea6\u200b\u7684\u200b\u63a8\u5bfc\u200b</li> </ul>"},{"location":"blog/tags/#\u751f\u6d3b","title":"\u751f\u6d3b","text":"<ul> <li>\u200b\u6211\u4eec\u200b\u6bd5\u4e1a\u200b\u4e86\u200b</li> <li>\u200b\u5fb7\u5dde\u200b\u6251\u514b\u200b\u6e38\u620f\u200b\u7ecf\u9a8c\u200b</li> <li>\u200b\u611f\u8c22\u200b\u6211\u200b\u4eba\u751f\u200b\u4e2d\u200b\u7684\u200b\u8d35\u200b\u4eba\u4eec\u200b</li> <li>\u200b\u7acb\u6625\u200b</li> <li>\u200b\u4fdd\u6301\u200b\u4e13\u6ce8\u200b</li> <li>\u200b\u51ac\u65e5\u200b\u7684\u200b\u690d\u7269\u56ed\u200b</li> <li>\u200b\u6625\u65e5\u200b\u65f6\u5149\u200b</li> <li>\u200b\u544a\u522b\u200b\u5b66\u751f\u200b\u65f6\u4ee3\u200b</li> <li>\u200b\u7528\u200b\u7167\u7247\u200b\u7559\u4f4f\u200b\u8bb0\u5fc6\u200b</li> <li>\u200b\u751f\u6d3b\u200b\u5b58\u6863\u200b</li> <li>Google \u200b\u5927\u200b\u6a21\u578b\u200b\u5de5\u4f5c\u574a\u200b&amp;\u200b\u5965\u8d5b\u200b\u5927\u5c55\u200b</li> <li>PyCon China 2025</li> </ul>"},{"location":"blog/tags/#\u7edf\u8ba1","title":"\u7edf\u8ba1","text":"<ul> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u6cd5\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u6709\u200b\u7ea6\u675f\u200b\u7684\u200b\u4f18\u5316\u200b\u95ee\u9898\u200b\u4e4b\u200b Lagrangian \u200b\u4e58\u5b50\u6cd5\u200b\u3001\u200b\u6295\u5f71\u200b\u68af\u5ea6\u200b\u7b97\u6cd5\u200b\u548c\u200b\u7f5a\u51fd\u6570\u6cd5\u200b</li> <li>\u200b\u57fa\u4e8e\u200b EM \u200b\u7b97\u6cd5\u200b\u7684\u200b\u591a\u5143\u200b\u9ad8\u65af\u200b\u6df7\u5408\u200b\u6a21\u578b\u200b\u805a\u7c7b\u200b\u53ca\u5176\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u820d\u9009\u6cd5\u200b\u751f\u6210\u200b\u968f\u673a\u53d8\u91cf\u200b</li> <li>Box-Muller \u200b\u53d8\u6362\u200b\u6cd5\u200b\u751f\u6210\u200b\u6b63\u6001\u5206\u5e03\u200b\u968f\u673a\u6570\u200b</li> <li>\u200b\u8499\u7279\u5361\u6d1b\u200b\u6a21\u62df\u200b\u7684\u200b\u5e94\u7528\u200b\u4e0e\u200b\u91cd\u8981\u6027\u200b\u62bd\u6837\u200b</li> <li>\u200b\u65b9\u5dee\u200b\u7f29\u51cf\u200b\u6280\u672f\u200b\u4e4b\u200b\u6761\u4ef6\u671f\u671b\u200b\u6cd5\u200b</li> <li>\u200b\u65b9\u5dee\u200b\u5206\u89e3\u200b\u516c\u5f0f\u200b</li> <li>\u200b\u5728\u200b pandas \u200b\u4e2d\u200b\u8ba1\u7b97\u200b\u65b9\u5dee\u200b</li> <li>\u200b\u968f\u673a\u62bd\u6837\u200b\u4e4b\u200b MCMC \u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u6837\u672c\u200b\u65b9\u5dee\u200b\u7684\u200b\u65e0\u504f\u6027\u200b</li> <li>\u200b\u68af\u5ea6\u200b\u4e0b\u964d\u200b\u548c\u200b MCMC \u200b\u5b9e\u73b0\u200b\u903b\u8f91\u200b\u56de\u5f52\u200b\u7684\u200b LASSO \u200b\u5f62\u5f0f\u200b</li> <li>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6\u200b</li> <li>\u200b\u68c0\u9a8c\u200b\u6837\u672c\u5206\u5e03\u200b\u7684\u200b\u6b63\u6001\u6027\u200b</li> <li>\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b\u7684\u200b\u7ebf\u6027\u53d8\u6362\u200b\u4ecd\u4e3a\u200b\u591a\u5143\u200b\u6b63\u6001\u5206\u5e03\u200b</li> <li>\u200b\u7a00\u758f\u200b\u9ad8\u7ef4\u200b\u534f\u65b9\u5dee\u200b\u77e9\u9635\u200b\u7684\u200b Thresholding \u200b\u4f30\u8ba1\u200b\u65b9\u6cd5\u200b</li> <li>\u200b\u6781\u5927\u200b\u4f3c\u7136\u200b\u4f30\u8ba1\u200b\u4e0e\u200b\u6700\u5c0f\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u7b49\u4ef7\u200b\u6027\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u60e9\u7f5a\u200b\u9879\u200b\u7684\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u8fdb\u884c\u200b\u53d8\u91cf\u200b\u9009\u62e9\u200b</li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b P \u200b\u503c\u200b\u662f\u200b\u5747\u5300\u5206\u5e03\u200b\u7684\u200b\uff1f</li> <li>\u200b\u591a\u91cd\u200b\u5047\u8bbe\u68c0\u9a8c\u200b</li> <li>Conformal Learning \u200b\u6c42\u89e3\u200b\u56de\u5f52\u200b\u95ee\u9898\u200b\u548c\u200b\u591a\u200b\u6807\u7b7e\u200b\u5206\u7c7b\u200b\u95ee\u9898\u200b</li> <li>\u200b\u4f7f\u7528\u200b Conformal Learning \u200b\u9884\u6d4b\u200b\u4f01\u4e1a\u200b\u4fe1\u8d37\u200b\u8fdd\u7ea6\u200b\u60c5\u51b5\u200b</li> <li>\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b</li> <li>\u200b\u56e0\u5b50\u200b\u534a\u8870\u671f\u200b</li> </ul>"},{"location":"blog/tags/#\u8fd0\u7b79\u5b66","title":"\u8fd0\u7b79\u5b66","text":"<ul> <li>\u200b\u5355\u7eaf\u5f62\u6cd5\u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b</li> <li>\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b\u7684\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b</li> <li>\u200b\u5b89\u88c5\u200b Gurobi \u200b\u4f18\u5316\u200b\u5668\u200b</li> <li>Gurobi \u200b\u6c42\u89e3\u200b\u7ebf\u6027\u89c4\u5212\u200b\u95ee\u9898\u200b</li> <li>\u200b\u7ebf\u6027\u89c4\u5212\u200b\u548c\u200b\u5bf9\u5076\u200b\u95ee\u9898\u200b\u7684\u200b\u89e3\u200b\u7684\u200b\u60c5\u51b5\u200b</li> <li>Dijkstra \u200b\u7b97\u6cd5\u200b\u6c42\u89e3\u200b\u6700\u77ed\u200b\u8def\u5f84\u200b\u95ee\u9898\u200b</li> <li>\u200b\u996e\u6599\u200b\u4f01\u4e1a\u200b\u591a\u200b\u5de5\u5382\u200b\u751f\u4ea7\u200b\u4e0e\u200b\u8865\u8d27\u200b\u4f18\u5316\u200b</li> </ul>"},{"location":"blog/tags/#\u91cf\u5316\u7814\u7a76","title":"\u91cf\u5316\u200b\u7814\u7a76","text":"<ul> <li>\u200b\u503a\u5238\u200b\u8ba1\u7b97\u5668\u200b</li> <li>\u200b\u5bf9\u6297\u200b\u8fc7\u200b\u62df\u5408\u200b\uff1a\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u6570\u636e\u200b\u7684\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b</li> <li>\u200b\u7b56\u7565\u200b\u590d\u73b0\u200b\uff1a\u200b\u57fa\u4e8e\u200b\u5e02\u573a\u200b\u60c5\u7eea\u200b\u5e73\u7a33\u200b\u5ea6\u200b\u7684\u200b\u80a1\u6307\u200b\u671f\u8d27\u200b\u65e5\u5185\u200b\u4ea4\u6613\u200b\u7b56\u7565\u200b</li> <li>\u200b\u68c0\u9a8c\u200b\u591a\u56e0\u5b50\u200b\u6a21\u578b\u200b</li> <li>\u200b\u8d44\u91d1\u200b\u66f2\u7ebf\u200b\u53ef\u89c6\u5316\u200b</li> <li>\u200b\u6700\u5c0f\u200b\u4e8c\u200b\u4e58\u6cd5\u200b\u7684\u200b\u77e9\u9635\u200b\u5f62\u5f0f\u200b\u63a8\u5bfc\u200b</li> <li>\u200b\u4e2a\u80a1\u200b\u7814\u62a5\u200b\u4e8b\u4ef6\u200b\u7b56\u7565\u200b&amp;\u200b\u9009\u80a1\u200b\u7ed3\u679c\u200b\u81ea\u52a8\u200b\u63a8\u9001\u200b\u5230\u200b\u5fae\u4fe1\u200b</li> <li>\u200b\u57fa\u4e8e\u200b qstock \u200b\u5b9e\u73b0\u200b\u6761\u4ef6\u200b\u9009\u80a1\u200b\u56de\u6d4b\u200b</li> <li>K \u200b\u6298\u200b\u3001\u200b\u968f\u673a\u200b\u548c\u200b\u65f6\u95f4\u200b\u5e8f\u5217\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b Python \u200b\u5b9e\u73b0\u200b</li> <li>AlphaNet\u2014\u2014\u200b\u57fa\u4e8e\u200b\u6df1\u5ea6\u200b\u5b66\u4e60\u200b\u7684\u200b\u91cf\u200b\u4ef7\u200b\u56e0\u5b50\u200b\u6316\u6398\u200b</li> <li>AlphaNet-V3\u2014\u2014\u200b\u8c03\u6574\u200b\u7f51\u7edc\u7ed3\u6784\u200b\u548c\u200b\u9884\u6d4b\u200b\u76ee\u6807\u200b</li> <li>\u200b\u5747\u503c\u200b\u65b9\u5dee\u200b\u6a21\u578b\u200b\u7684\u200b\u6709\u6548\u200b\u524d\u6cbf\u200b\u66f2\u7ebf\u200b</li> <li>Python \u200b\u5b9e\u73b0\u200b\u591a\u5217\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u2014\u2014\u200b\u4ee5\u200b\u201c\u200b\u66f4\u4f18\u200b\u6ce2\u52a8\u200b\u7387\u200b\u201d\u200b\u4e3a\u4f8b\u200b</li> <li>\u200b\u7ebf\u6027\u200b\u56de\u5f52\u200b\u7684\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65e0\u504f\u6027\u200b\u548c\u200b\u4e00\u81f4\u6027\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u65b9\u5dee\u200b\u4e0e\u200b\u9ad8\u65af\u200b - \u200b\u9a6c\u5c14\u53ef\u592b\u200b\u5b9a\u7406\u200b</li> <li>\u200b\u666e\u901a\u200b\u6700\u5c0f\u200b\u4e8c\u4e58\u200b\u4f30\u8ba1\u200b\u7684\u200b\u5047\u8bbe\u200b\u6761\u4ef6\u200b</li> <li>\u200b\u8206\u60c5\u200b\u56e0\u5b50\u200b\u548c\u200b BERT \u200b\u60c5\u611f\u200b\u5206\u7c7b\u200b\u6a21\u578b\u200b</li> <li>\u200b\u6bcf\u200b\u6708\u5e95\u200b\u4e70\u5165\u200b\u884c\u4e1a\u200b\u5185\u200b PB \u200b\u8f83\u200b\u4f4e\u200b\u7684\u200b\u80a1\u7968\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u9009\u80a1\u200b\u7b56\u7565\u200b\u56de\u6d4b\u200b</li> <li>LightGBM \u200b\u7684\u200b\u7528\u6cd5\u200b</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u56e0\u5b50\u200b\u6295\u8d44\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u9010\u7b14\u200b\u59d4\u6258\u200b\u548c\u200b\u9010\u7b14\u200b\u6210\u4ea4\u200b\u6570\u636e\u200b\u6784\u9020\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - CTA</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u4e8b\u4ef6\u9a71\u52a8\u200b\u7b56\u7565\u200b</li> <li>\u200b\u91cf\u5316\u200b\u5b9e\u4e60\u200b\u5de5\u4f5c\u200b\u603b\u7ed3\u200b</li> <li>\u200b\u91cf\u5316\u200b\u6295\u8d44\u200b\u7b56\u7565\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u5206\u6790\u200b - \u200b\u591a\u200b\u7b56\u7565\u200b</li> <li>Qlib \u200b\u4f7f\u7528\u200b\u7b14\u8bb0\u200b</li> <li>Python \u200b\u6eda\u52a8\u200b\u56de\u5f52\u200b</li> <li>\u200b\u57fa\u4e8e\u200b\u5206\u949f\u200b\u6536\u76ca\u7387\u200b\u5206\u5e03\u200b\u7684\u200b\u9ad8\u9891\u200b\u56e0\u5b50\u200b</li> <li>\u200b\u4f7f\u7528\u200b Web Scraper \u200b\u722c\u53d6\u200b\u79c1\u52df\u200b\u6392\u6392\u200b\u7f51\u200b\u7684\u200b\u57fa\u91d1\u200b\u6570\u636e\u200b</li> <li>Pandas \u200b\u5411\u524d\u200b\u4e0e\u200b\u5c45\u4e2d\u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b</li> <li>Pandas \u200b\u6839\u636e\u200b\u65e5\u671f\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b</li> <li>\u200b\u8ba1\u7b97\u200b\u90e8\u5206\u200b\u76f8\u5173\u7cfb\u6570\u200b\u77e9\u9635\u200b</li> <li>\u200b\u56e0\u5b50\u200b\u534a\u8870\u671f\u200b</li> <li>\u200b\u501f\u52a9\u200b torchmetrics \u200b\u7684\u200b CompositionalMetric \u200b\u5c06\u200b\u8d8a\u5927\u8d8a\u200b\u597d\u200b\u7684\u200b\u6307\u6807\u200b\u4f5c\u4e3a\u200b\u635f\u5931\u200b\u51fd\u6570\u200b</li> <li>pandas rolling exponential \u200b\u6eda\u52a8\u200b\u8ba1\u7b97\u200b\u6307\u6570\u200b\u52a0\u6743\u200b\u6807\u51c6\u5dee\u200b\u4f1a\u53d7\u200b\u8d77\u70b9\u200b\u5f71\u54cd\u200b</li> </ul>"},{"location":"blog/2/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/3/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/4/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/5/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/6/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/7/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/8/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/9/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/10/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/11/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/12/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/13/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/14/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/15/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/16/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/17/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/18/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/19/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/20/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/21/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/22/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/23/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/24/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""},{"location":"blog/25/","title":"\u6240\u6709\u200b\u6587\u7ae0","text":""}]}